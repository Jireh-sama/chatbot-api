var Sy=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var V=(t,e,n)=>(Sy(t,e,"read from private field"),n?n.call(t):e.get(t)),we=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},he=(t,e,n,r)=>(Sy(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var cf=(t,e,n,r)=>({set _(s){he(t,e,s,n)},get _(){return V(t,e,r)}}),Be=(t,e,n)=>(Sy(t,e,"access private method"),n);function B1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function d_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $1={exports:{}},$m={},z1={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dh=Symbol.for("react.element"),OU=Symbol.for("react.portal"),LU=Symbol.for("react.fragment"),jU=Symbol.for("react.strict_mode"),VU=Symbol.for("react.profiler"),FU=Symbol.for("react.provider"),UU=Symbol.for("react.context"),BU=Symbol.for("react.forward_ref"),$U=Symbol.for("react.suspense"),zU=Symbol.for("react.memo"),WU=Symbol.for("react.lazy"),_S=Symbol.iterator;function KU(t){return t===null||typeof t!="object"?null:(t=_S&&t[_S]||t["@@iterator"],typeof t=="function"?t:null)}var W1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K1=Object.assign,H1={};function kc(t,e,n){this.props=t,this.context=e,this.refs=H1,this.updater=n||W1}kc.prototype.isReactComponent={};kc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};kc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function G1(){}G1.prototype=kc.prototype;function h_(t,e,n){this.props=t,this.context=e,this.refs=H1,this.updater=n||W1}var f_=h_.prototype=new G1;f_.constructor=h_;K1(f_,kc.prototype);f_.isPureReactComponent=!0;var xS=Array.isArray,q1=Object.prototype.hasOwnProperty,p_={current:null},Q1={key:!0,ref:!0,__self:!0,__source:!0};function Y1(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)q1.call(e,r)&&!Q1.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:dh,type:t,key:i,ref:o,props:s,_owner:p_.current}}function HU(t,e){return{$$typeof:dh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function m_(t){return typeof t=="object"&&t!==null&&t.$$typeof===dh}function GU(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ES=/\/+/g;function by(t,e){return typeof t=="object"&&t!==null&&t.key!=null?GU(""+t.key):e.toString(36)}function Yf(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case dh:case OU:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+by(o,0):r,xS(s)?(n="",t!=null&&(n=t.replace(ES,"$&/")+"/"),Yf(s,e,n,"",function(c){return c})):s!=null&&(m_(s)&&(s=HU(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ES,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",xS(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+by(i,a);o+=Yf(i,e,n,l,s)}else if(l=KU(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+by(i,a++),o+=Yf(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function uf(t,e,n){if(t==null)return t;var r=[],s=0;return Yf(t,r,"","",function(i){return e.call(n,i,s++)}),r}function qU(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Jn={current:null},Xf={transition:null},QU={ReactCurrentDispatcher:Jn,ReactCurrentBatchConfig:Xf,ReactCurrentOwner:p_};function X1(){throw Error("act(...) is not supported in production builds of React.")}He.Children={map:uf,forEach:function(t,e,n){uf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return uf(t,function(){e++}),e},toArray:function(t){return uf(t,function(e){return e})||[]},only:function(t){if(!m_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};He.Component=kc;He.Fragment=LU;He.Profiler=VU;He.PureComponent=h_;He.StrictMode=jU;He.Suspense=$U;He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QU;He.act=X1;He.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=K1({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=p_.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)q1.call(e,l)&&!Q1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:dh,type:t.type,key:s,ref:i,props:r,_owner:o}};He.createContext=function(t){return t={$$typeof:UU,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:FU,_context:t},t.Consumer=t};He.createElement=Y1;He.createFactory=function(t){var e=Y1.bind(null,t);return e.type=t,e};He.createRef=function(){return{current:null}};He.forwardRef=function(t){return{$$typeof:BU,render:t}};He.isValidElement=m_;He.lazy=function(t){return{$$typeof:WU,_payload:{_status:-1,_result:t},_init:qU}};He.memo=function(t,e){return{$$typeof:zU,type:t,compare:e===void 0?null:e}};He.startTransition=function(t){var e=Xf.transition;Xf.transition={};try{t()}finally{Xf.transition=e}};He.unstable_act=X1;He.useCallback=function(t,e){return Jn.current.useCallback(t,e)};He.useContext=function(t){return Jn.current.useContext(t)};He.useDebugValue=function(){};He.useDeferredValue=function(t){return Jn.current.useDeferredValue(t)};He.useEffect=function(t,e){return Jn.current.useEffect(t,e)};He.useId=function(){return Jn.current.useId()};He.useImperativeHandle=function(t,e,n){return Jn.current.useImperativeHandle(t,e,n)};He.useInsertionEffect=function(t,e){return Jn.current.useInsertionEffect(t,e)};He.useLayoutEffect=function(t,e){return Jn.current.useLayoutEffect(t,e)};He.useMemo=function(t,e){return Jn.current.useMemo(t,e)};He.useReducer=function(t,e,n){return Jn.current.useReducer(t,e,n)};He.useRef=function(t){return Jn.current.useRef(t)};He.useState=function(t){return Jn.current.useState(t)};He.useSyncExternalStore=function(t,e,n){return Jn.current.useSyncExternalStore(t,e,n)};He.useTransition=function(){return Jn.current.useTransition()};He.version="18.3.1";z1.exports=He;var m=z1.exports;const ze=d_(m),J1=B1({__proto__:null,default:ze},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YU=m,XU=Symbol.for("react.element"),JU=Symbol.for("react.fragment"),ZU=Object.prototype.hasOwnProperty,e4=YU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,t4={key:!0,ref:!0,__self:!0,__source:!0};function Z1(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ZU.call(e,r)&&!t4.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:XU,type:t,key:i,ref:o,props:s,_owner:e4.current}}$m.Fragment=JU;$m.jsx=Z1;$m.jsxs=Z1;$1.exports=$m;var f=$1.exports,Gv={},eI={exports:{}},Sr={},tI={exports:{}},nI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,B){var Z=z.length;z.push(B);e:for(;0<Z;){var pe=Z-1>>>1,Te=z[pe];if(0<s(Te,B))z[pe]=B,z[Z]=Te,Z=pe;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var B=z[0],Z=z.pop();if(Z!==B){z[0]=Z;e:for(var pe=0,Te=z.length,Re=Te>>>1;pe<Re;){var Ye=2*(pe+1)-1,mt=z[Ye],Ke=Ye+1,ce=z[Ke];if(0>s(mt,Z))Ke<Te&&0>s(ce,mt)?(z[pe]=ce,z[Ke]=Z,pe=Ke):(z[pe]=mt,z[Ye]=Z,pe=Ye);else if(Ke<Te&&0>s(ce,Z))z[pe]=ce,z[Ke]=Z,pe=Ke;else break e}}return B}function s(z,B){var Z=z.sortIndex-B.sortIndex;return Z!==0?Z:z.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,p=3,g=!1,w=!1,y=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(z){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=z)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function P(z){if(y=!1,S(z),!w)if(n(l)!==null)w=!0,te(A);else{var B=n(c);B!==null&&ne(P,B.startTime-z)}}function A(z,B){w=!1,y&&(y=!1,_(T),T=-1),g=!0;var Z=p;try{for(S(B),h=n(l);h!==null&&(!(h.expirationTime>B)||z&&!M());){var pe=h.callback;if(typeof pe=="function"){h.callback=null,p=h.priorityLevel;var Te=pe(h.expirationTime<=B);B=t.unstable_now(),typeof Te=="function"?h.callback=Te:h===n(l)&&r(l),S(B)}else r(l);h=n(l)}if(h!==null)var Re=!0;else{var Ye=n(c);Ye!==null&&ne(P,Ye.startTime-B),Re=!1}return Re}finally{h=null,p=Z,g=!1}}var O=!1,C=null,T=-1,R=5,I=-1;function M(){return!(t.unstable_now()-I<R)}function k(){if(C!==null){var z=t.unstable_now();I=z;var B=!0;try{B=C(!0,z)}finally{B?D():(O=!1,C=null)}}else O=!1}var D;if(typeof v=="function")D=function(){v(k)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ae=H.port2;H.port1.onmessage=k,D=function(){ae.postMessage(null)}}else D=function(){E(k,0)};function te(z){C=z,O||(O=!0,D())}function ne(z,B){T=E(function(){z(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,te(A))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var Z=p;p=B;try{return z()}finally{p=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,B){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Z=p;p=z;try{return B()}finally{p=Z}},t.unstable_scheduleCallback=function(z,B,Z){var pe=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?pe+Z:pe):Z=pe,z){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=Z+Te,z={id:u++,callback:B,priorityLevel:z,startTime:Z,expirationTime:Te,sortIndex:-1},Z>pe?(z.sortIndex=Z,e(c,z),n(l)===null&&z===n(c)&&(y?(_(T),T=-1):y=!0,ne(P,Z-pe))):(z.sortIndex=Te,e(l,z),w||g||(w=!0,te(A))),z},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(z){var B=p;return function(){var Z=p;p=B;try{return z.apply(this,arguments)}finally{p=Z}}}})(nI);tI.exports=nI;var n4=tI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r4=m,Er=n4;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rI=new Set,hd={};function Ka(t,e){dc(t,e),dc(t+"Capture",e)}function dc(t,e){for(hd[t]=e,t=0;t<e.length;t++)rI.add(e[t])}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qv=Object.prototype.hasOwnProperty,s4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,TS={},SS={};function i4(t){return qv.call(SS,t)?!0:qv.call(TS,t)?!1:s4.test(t)?SS[t]=!0:(TS[t]=!0,!1)}function o4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function a4(t,e,n,r){if(e===null||typeof e>"u"||o4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Zn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var En={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){En[t]=new Zn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];En[e]=new Zn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){En[t]=new Zn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){En[t]=new Zn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){En[t]=new Zn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){En[t]=new Zn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){En[t]=new Zn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){En[t]=new Zn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){En[t]=new Zn(t,5,!1,t.toLowerCase(),null,!1,!1)});var g_=/[\-:]([a-z])/g;function y_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(g_,y_);En[e]=new Zn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(g_,y_);En[e]=new Zn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(g_,y_);En[e]=new Zn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){En[t]=new Zn(t,1,!1,t.toLowerCase(),null,!1,!1)});En.xlinkHref=new Zn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){En[t]=new Zn(t,1,!1,t.toLowerCase(),null,!0,!0)});function v_(t,e,n,r){var s=En.hasOwnProperty(e)?En[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(a4(e,n,s,r)&&(n=null),r||s===null?i4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var _i=r4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,df=Symbol.for("react.element"),yl=Symbol.for("react.portal"),vl=Symbol.for("react.fragment"),w_=Symbol.for("react.strict_mode"),Qv=Symbol.for("react.profiler"),sI=Symbol.for("react.provider"),iI=Symbol.for("react.context"),__=Symbol.for("react.forward_ref"),Yv=Symbol.for("react.suspense"),Xv=Symbol.for("react.suspense_list"),x_=Symbol.for("react.memo"),ji=Symbol.for("react.lazy"),oI=Symbol.for("react.offscreen"),bS=Symbol.iterator;function uu(t){return t===null||typeof t!="object"?null:(t=bS&&t[bS]||t["@@iterator"],typeof t=="function"?t:null)}var Ot=Object.assign,Cy;function Iu(t){if(Cy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Cy=e&&e[1]||""}return`
`+Cy+t}var Py=!1;function Ry(t,e){if(!t||Py)return"";Py=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Py=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Iu(t):""}function l4(t){switch(t.tag){case 5:return Iu(t.type);case 16:return Iu("Lazy");case 13:return Iu("Suspense");case 19:return Iu("SuspenseList");case 0:case 2:case 15:return t=Ry(t.type,!1),t;case 11:return t=Ry(t.type.render,!1),t;case 1:return t=Ry(t.type,!0),t;default:return""}}function Jv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vl:return"Fragment";case yl:return"Portal";case Qv:return"Profiler";case w_:return"StrictMode";case Yv:return"Suspense";case Xv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case iI:return(t.displayName||"Context")+".Consumer";case sI:return(t._context.displayName||"Context")+".Provider";case __:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x_:return e=t.displayName||null,e!==null?e:Jv(t.type)||"Memo";case ji:e=t._payload,t=t._init;try{return Jv(t(e))}catch{}}return null}function c4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jv(e);case 8:return e===w_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _o(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function aI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function u4(t){var e=aI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hf(t){t._valueTracker||(t._valueTracker=u4(t))}function lI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=aI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ip(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zv(t,e){var n=e.checked;return Ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function CS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=_o(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function cI(t,e){e=e.checked,e!=null&&v_(t,"checked",e,!1)}function ew(t,e){cI(t,e);var n=_o(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?tw(t,e.type,n):e.hasOwnProperty("defaultValue")&&tw(t,e.type,_o(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function PS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function tw(t,e,n){(e!=="number"||Ip(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Au=Array.isArray;function Ll(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+_o(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function nw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return Ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function RS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if(Au(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:_o(n)}}function uI(t,e){var n=_o(e.value),r=_o(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function IS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function dI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?dI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ff,hI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ff=ff||document.createElement("div"),ff.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ff.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var zu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},d4=["Webkit","ms","Moz","O"];Object.keys(zu).forEach(function(t){d4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zu[e]=zu[t]})});function fI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||zu.hasOwnProperty(t)&&zu[t]?(""+e).trim():e+"px"}function pI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=fI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var h4=Ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sw(t,e){if(e){if(h4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function iw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ow=null;function E_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var aw=null,jl=null,Vl=null;function AS(t){if(t=ph(t)){if(typeof aw!="function")throw Error(X(280));var e=t.stateNode;e&&(e=Gm(e),aw(t.stateNode,t.type,e))}}function mI(t){jl?Vl?Vl.push(t):Vl=[t]:jl=t}function gI(){if(jl){var t=jl,e=Vl;if(Vl=jl=null,AS(t),e)for(t=0;t<e.length;t++)AS(e[t])}}function yI(t,e){return t(e)}function vI(){}var Iy=!1;function wI(t,e,n){if(Iy)return t(e,n);Iy=!0;try{return yI(t,e,n)}finally{Iy=!1,(jl!==null||Vl!==null)&&(vI(),gI())}}function pd(t,e){var n=t.stateNode;if(n===null)return null;var r=Gm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var lw=!1;if(ai)try{var du={};Object.defineProperty(du,"passive",{get:function(){lw=!0}}),window.addEventListener("test",du,du),window.removeEventListener("test",du,du)}catch{lw=!1}function f4(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Wu=!1,Ap=null,Np=!1,cw=null,p4={onError:function(t){Wu=!0,Ap=t}};function m4(t,e,n,r,s,i,o,a,l){Wu=!1,Ap=null,f4.apply(p4,arguments)}function g4(t,e,n,r,s,i,o,a,l){if(m4.apply(this,arguments),Wu){if(Wu){var c=Ap;Wu=!1,Ap=null}else throw Error(X(198));Np||(Np=!0,cw=c)}}function Ha(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _I(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function NS(t){if(Ha(t)!==t)throw Error(X(188))}function y4(t){var e=t.alternate;if(!e){if(e=Ha(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return NS(s),t;if(i===r)return NS(s),e;i=i.sibling}throw Error(X(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function xI(t){return t=y4(t),t!==null?EI(t):null}function EI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=EI(t);if(e!==null)return e;t=t.sibling}return null}var TI=Er.unstable_scheduleCallback,DS=Er.unstable_cancelCallback,v4=Er.unstable_shouldYield,w4=Er.unstable_requestPaint,Gt=Er.unstable_now,_4=Er.unstable_getCurrentPriorityLevel,T_=Er.unstable_ImmediatePriority,SI=Er.unstable_UserBlockingPriority,Dp=Er.unstable_NormalPriority,x4=Er.unstable_LowPriority,bI=Er.unstable_IdlePriority,zm=null,Ts=null;function E4(t){if(Ts&&typeof Ts.onCommitFiberRoot=="function")try{Ts.onCommitFiberRoot(zm,t,void 0,(t.current.flags&128)===128)}catch{}}var ns=Math.clz32?Math.clz32:b4,T4=Math.log,S4=Math.LN2;function b4(t){return t>>>=0,t===0?32:31-(T4(t)/S4|0)|0}var pf=64,mf=4194304;function Nu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function kp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Nu(a):(i&=o,i!==0&&(r=Nu(i)))}else o=n&~s,o!==0?r=Nu(o):i!==0&&(r=Nu(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ns(e),s=1<<n,r|=t[n],e&=~s;return r}function C4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ns(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=C4(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function uw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function CI(){var t=pf;return pf<<=1,!(pf&4194240)&&(pf=64),t}function Ay(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function hh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ns(e),t[e]=n}function R4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ns(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function S_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ns(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ht=0;function PI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var RI,b_,II,AI,NI,dw=!1,gf=[],oo=null,ao=null,lo=null,md=new Map,gd=new Map,Fi=[],I4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kS(t,e){switch(t){case"focusin":case"focusout":oo=null;break;case"dragenter":case"dragleave":ao=null;break;case"mouseover":case"mouseout":lo=null;break;case"pointerover":case"pointerout":md.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gd.delete(e.pointerId)}}function hu(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ph(e),e!==null&&b_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function A4(t,e,n,r,s){switch(e){case"focusin":return oo=hu(oo,t,e,n,r,s),!0;case"dragenter":return ao=hu(ao,t,e,n,r,s),!0;case"mouseover":return lo=hu(lo,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return md.set(i,hu(md.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,gd.set(i,hu(gd.get(i)||null,t,e,n,r,s)),!0}return!1}function DI(t){var e=ca(t.target);if(e!==null){var n=Ha(e);if(n!==null){if(e=n.tag,e===13){if(e=_I(n),e!==null){t.blockedOn=e,NI(t.priority,function(){II(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=hw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ow=r,n.target.dispatchEvent(r),ow=null}else return e=ph(n),e!==null&&b_(e),t.blockedOn=n,!1;e.shift()}return!0}function MS(t,e,n){Jf(t)&&n.delete(e)}function N4(){dw=!1,oo!==null&&Jf(oo)&&(oo=null),ao!==null&&Jf(ao)&&(ao=null),lo!==null&&Jf(lo)&&(lo=null),md.forEach(MS),gd.forEach(MS)}function fu(t,e){t.blockedOn===e&&(t.blockedOn=null,dw||(dw=!0,Er.unstable_scheduleCallback(Er.unstable_NormalPriority,N4)))}function yd(t){function e(s){return fu(s,t)}if(0<gf.length){fu(gf[0],t);for(var n=1;n<gf.length;n++){var r=gf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(oo!==null&&fu(oo,t),ao!==null&&fu(ao,t),lo!==null&&fu(lo,t),md.forEach(e),gd.forEach(e),n=0;n<Fi.length;n++)r=Fi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Fi.length&&(n=Fi[0],n.blockedOn===null);)DI(n),n.blockedOn===null&&Fi.shift()}var Fl=_i.ReactCurrentBatchConfig,Mp=!0;function D4(t,e,n,r){var s=ht,i=Fl.transition;Fl.transition=null;try{ht=1,C_(t,e,n,r)}finally{ht=s,Fl.transition=i}}function k4(t,e,n,r){var s=ht,i=Fl.transition;Fl.transition=null;try{ht=4,C_(t,e,n,r)}finally{ht=s,Fl.transition=i}}function C_(t,e,n,r){if(Mp){var s=hw(t,e,n,r);if(s===null)Uy(t,e,r,Op,n),kS(t,r);else if(A4(s,t,e,n,r))r.stopPropagation();else if(kS(t,r),e&4&&-1<I4.indexOf(t)){for(;s!==null;){var i=ph(s);if(i!==null&&RI(i),i=hw(t,e,n,r),i===null&&Uy(t,e,r,Op,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Uy(t,e,r,null,n)}}var Op=null;function hw(t,e,n,r){if(Op=null,t=E_(r),t=ca(t),t!==null)if(e=Ha(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_I(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Op=t,null}function kI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_4()){case T_:return 1;case SI:return 4;case Dp:case x4:return 16;case bI:return 536870912;default:return 16}default:return 16}}var to=null,P_=null,Zf=null;function MI(){if(Zf)return Zf;var t,e=P_,n=e.length,r,s="value"in to?to.value:to.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Zf=s.slice(t,1<r?1-r:void 0)}function ep(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yf(){return!0}function OS(){return!1}function br(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?yf:OS,this.isPropagationStopped=OS,this}return Ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yf)},persist:function(){},isPersistent:yf}),e}var Mc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},R_=br(Mc),fh=Ot({},Mc,{view:0,detail:0}),M4=br(fh),Ny,Dy,pu,Wm=Ot({},fh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:I_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pu&&(pu&&t.type==="mousemove"?(Ny=t.screenX-pu.screenX,Dy=t.screenY-pu.screenY):Dy=Ny=0,pu=t),Ny)},movementY:function(t){return"movementY"in t?t.movementY:Dy}}),LS=br(Wm),O4=Ot({},Wm,{dataTransfer:0}),L4=br(O4),j4=Ot({},fh,{relatedTarget:0}),ky=br(j4),V4=Ot({},Mc,{animationName:0,elapsedTime:0,pseudoElement:0}),F4=br(V4),U4=Ot({},Mc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),B4=br(U4),$4=Ot({},Mc,{data:0}),jS=br($4),z4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function H4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=K4[t])?!!e[t]:!1}function I_(){return H4}var G4=Ot({},fh,{key:function(t){if(t.key){var e=z4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ep(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?W4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:I_,charCode:function(t){return t.type==="keypress"?ep(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ep(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),q4=br(G4),Q4=Ot({},Wm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),VS=br(Q4),Y4=Ot({},fh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:I_}),X4=br(Y4),J4=Ot({},Mc,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z4=br(J4),eB=Ot({},Wm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tB=br(eB),nB=[9,13,27,32],A_=ai&&"CompositionEvent"in window,Ku=null;ai&&"documentMode"in document&&(Ku=document.documentMode);var rB=ai&&"TextEvent"in window&&!Ku,OI=ai&&(!A_||Ku&&8<Ku&&11>=Ku),FS=" ",US=!1;function LI(t,e){switch(t){case"keyup":return nB.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wl=!1;function sB(t,e){switch(t){case"compositionend":return jI(e);case"keypress":return e.which!==32?null:(US=!0,FS);case"textInput":return t=e.data,t===FS&&US?null:t;default:return null}}function iB(t,e){if(wl)return t==="compositionend"||!A_&&LI(t,e)?(t=MI(),Zf=P_=to=null,wl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return OI&&e.locale!=="ko"?null:e.data;default:return null}}var oB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function BS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!oB[t.type]:e==="textarea"}function VI(t,e,n,r){mI(r),e=Lp(e,"onChange"),0<e.length&&(n=new R_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Hu=null,vd=null;function aB(t){QI(t,0)}function Km(t){var e=El(t);if(lI(e))return t}function lB(t,e){if(t==="change")return e}var FI=!1;if(ai){var My;if(ai){var Oy="oninput"in document;if(!Oy){var $S=document.createElement("div");$S.setAttribute("oninput","return;"),Oy=typeof $S.oninput=="function"}My=Oy}else My=!1;FI=My&&(!document.documentMode||9<document.documentMode)}function zS(){Hu&&(Hu.detachEvent("onpropertychange",UI),vd=Hu=null)}function UI(t){if(t.propertyName==="value"&&Km(vd)){var e=[];VI(e,vd,t,E_(t)),wI(aB,e)}}function cB(t,e,n){t==="focusin"?(zS(),Hu=e,vd=n,Hu.attachEvent("onpropertychange",UI)):t==="focusout"&&zS()}function uB(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Km(vd)}function dB(t,e){if(t==="click")return Km(e)}function hB(t,e){if(t==="input"||t==="change")return Km(e)}function fB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var is=typeof Object.is=="function"?Object.is:fB;function wd(t,e){if(is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!qv.call(e,s)||!is(t[s],e[s]))return!1}return!0}function WS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function KS(t,e){var n=WS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=WS(n)}}function BI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?BI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $I(){for(var t=window,e=Ip();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ip(t.document)}return e}function N_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function pB(t){var e=$I(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&BI(n.ownerDocument.documentElement,n)){if(r!==null&&N_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=KS(n,i);var o=KS(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mB=ai&&"documentMode"in document&&11>=document.documentMode,_l=null,fw=null,Gu=null,pw=!1;function HS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pw||_l==null||_l!==Ip(r)||(r=_l,"selectionStart"in r&&N_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gu&&wd(Gu,r)||(Gu=r,r=Lp(fw,"onSelect"),0<r.length&&(e=new R_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_l)))}function vf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xl={animationend:vf("Animation","AnimationEnd"),animationiteration:vf("Animation","AnimationIteration"),animationstart:vf("Animation","AnimationStart"),transitionend:vf("Transition","TransitionEnd")},Ly={},zI={};ai&&(zI=document.createElement("div").style,"AnimationEvent"in window||(delete xl.animationend.animation,delete xl.animationiteration.animation,delete xl.animationstart.animation),"TransitionEvent"in window||delete xl.transitionend.transition);function Hm(t){if(Ly[t])return Ly[t];if(!xl[t])return t;var e=xl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in zI)return Ly[t]=e[n];return t}var WI=Hm("animationend"),KI=Hm("animationiteration"),HI=Hm("animationstart"),GI=Hm("transitionend"),qI=new Map,GS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oo(t,e){qI.set(t,e),Ka(e,[t])}for(var jy=0;jy<GS.length;jy++){var Vy=GS[jy],gB=Vy.toLowerCase(),yB=Vy[0].toUpperCase()+Vy.slice(1);Oo(gB,"on"+yB)}Oo(WI,"onAnimationEnd");Oo(KI,"onAnimationIteration");Oo(HI,"onAnimationStart");Oo("dblclick","onDoubleClick");Oo("focusin","onFocus");Oo("focusout","onBlur");Oo(GI,"onTransitionEnd");dc("onMouseEnter",["mouseout","mouseover"]);dc("onMouseLeave",["mouseout","mouseover"]);dc("onPointerEnter",["pointerout","pointerover"]);dc("onPointerLeave",["pointerout","pointerover"]);Ka("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ka("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ka("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ka("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ka("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ka("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vB=new Set("cancel close invalid load scroll toggle".split(" ").concat(Du));function qS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,g4(r,e,void 0,t),t.currentTarget=null}function QI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;qS(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;qS(s,a,c),i=l}}}if(Np)throw t=cw,Np=!1,cw=null,t}function bt(t,e){var n=e[ww];n===void 0&&(n=e[ww]=new Set);var r=t+"__bubble";n.has(r)||(YI(e,t,2,!1),n.add(r))}function Fy(t,e,n){var r=0;e&&(r|=4),YI(n,t,r,e)}var wf="_reactListening"+Math.random().toString(36).slice(2);function _d(t){if(!t[wf]){t[wf]=!0,rI.forEach(function(n){n!=="selectionchange"&&(vB.has(n)||Fy(n,!1,t),Fy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wf]||(e[wf]=!0,Fy("selectionchange",!1,e))}}function YI(t,e,n,r){switch(kI(e)){case 1:var s=D4;break;case 4:s=k4;break;default:s=C_}n=s.bind(null,e,n,t),s=void 0,!lw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Uy(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ca(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}wI(function(){var c=i,u=E_(n),h=[];e:{var p=qI.get(t);if(p!==void 0){var g=R_,w=t;switch(t){case"keypress":if(ep(n)===0)break e;case"keydown":case"keyup":g=q4;break;case"focusin":w="focus",g=ky;break;case"focusout":w="blur",g=ky;break;case"beforeblur":case"afterblur":g=ky;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=LS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=L4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=X4;break;case WI:case KI:case HI:g=F4;break;case GI:g=Z4;break;case"scroll":g=M4;break;case"wheel":g=tB;break;case"copy":case"cut":case"paste":g=B4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=VS}var y=(e&4)!==0,E=!y&&t==="scroll",_=y?p!==null?p+"Capture":null:p;y=[];for(var v=c,S;v!==null;){S=v;var P=S.stateNode;if(S.tag===5&&P!==null&&(S=P,_!==null&&(P=pd(v,_),P!=null&&y.push(xd(v,P,S)))),E)break;v=v.return}0<y.length&&(p=new g(p,w,null,n,u),h.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==ow&&(w=n.relatedTarget||n.fromElement)&&(ca(w)||w[li]))break e;if((g||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=c,w=w?ca(w):null,w!==null&&(E=Ha(w),w!==E||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=c),g!==w)){if(y=LS,P="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=VS,P="onPointerLeave",_="onPointerEnter",v="pointer"),E=g==null?p:El(g),S=w==null?p:El(w),p=new y(P,v+"leave",g,n,u),p.target=E,p.relatedTarget=S,P=null,ca(u)===c&&(y=new y(_,v+"enter",w,n,u),y.target=S,y.relatedTarget=E,P=y),E=P,g&&w)t:{for(y=g,_=w,v=0,S=y;S;S=ll(S))v++;for(S=0,P=_;P;P=ll(P))S++;for(;0<v-S;)y=ll(y),v--;for(;0<S-v;)_=ll(_),S--;for(;v--;){if(y===_||_!==null&&y===_.alternate)break t;y=ll(y),_=ll(_)}y=null}else y=null;g!==null&&QS(h,p,g,y,!1),w!==null&&E!==null&&QS(h,E,w,y,!0)}}e:{if(p=c?El(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var A=lB;else if(BS(p))if(FI)A=hB;else{A=uB;var O=cB}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(A=dB);if(A&&(A=A(t,c))){VI(h,A,n,u);break e}O&&O(t,p,c),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&tw(p,"number",p.value)}switch(O=c?El(c):window,t){case"focusin":(BS(O)||O.contentEditable==="true")&&(_l=O,fw=c,Gu=null);break;case"focusout":Gu=fw=_l=null;break;case"mousedown":pw=!0;break;case"contextmenu":case"mouseup":case"dragend":pw=!1,HS(h,n,u);break;case"selectionchange":if(mB)break;case"keydown":case"keyup":HS(h,n,u)}var C;if(A_)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else wl?LI(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(OI&&n.locale!=="ko"&&(wl||T!=="onCompositionStart"?T==="onCompositionEnd"&&wl&&(C=MI()):(to=u,P_="value"in to?to.value:to.textContent,wl=!0)),O=Lp(c,T),0<O.length&&(T=new jS(T,t,null,n,u),h.push({event:T,listeners:O}),C?T.data=C:(C=jI(n),C!==null&&(T.data=C)))),(C=rB?sB(t,n):iB(t,n))&&(c=Lp(c,"onBeforeInput"),0<c.length&&(u=new jS("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=C))}QI(h,e)})}function xd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Lp(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=pd(t,n),i!=null&&r.unshift(xd(t,i,s)),i=pd(t,e),i!=null&&r.push(xd(t,i,s))),t=t.return}return r}function ll(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function QS(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=pd(n,i),l!=null&&o.unshift(xd(n,l,a))):s||(l=pd(n,i),l!=null&&o.push(xd(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var wB=/\r\n?/g,_B=/\u0000|\uFFFD/g;function YS(t){return(typeof t=="string"?t:""+t).replace(wB,`
`).replace(_B,"")}function _f(t,e,n){if(e=YS(e),YS(t)!==e&&n)throw Error(X(425))}function jp(){}var mw=null,gw=null;function yw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vw=typeof setTimeout=="function"?setTimeout:void 0,xB=typeof clearTimeout=="function"?clearTimeout:void 0,XS=typeof Promise=="function"?Promise:void 0,EB=typeof queueMicrotask=="function"?queueMicrotask:typeof XS<"u"?function(t){return XS.resolve(null).then(t).catch(TB)}:vw;function TB(t){setTimeout(function(){throw t})}function By(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),yd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);yd(e)}function co(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function JS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Oc=Math.random().toString(36).slice(2),ws="__reactFiber$"+Oc,Ed="__reactProps$"+Oc,li="__reactContainer$"+Oc,ww="__reactEvents$"+Oc,SB="__reactListeners$"+Oc,bB="__reactHandles$"+Oc;function ca(t){var e=t[ws];if(e)return e;for(var n=t.parentNode;n;){if(e=n[li]||n[ws]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=JS(t);t!==null;){if(n=t[ws])return n;t=JS(t)}return e}t=n,n=t.parentNode}return null}function ph(t){return t=t[ws]||t[li],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function El(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function Gm(t){return t[Ed]||null}var _w=[],Tl=-1;function Lo(t){return{current:t}}function Ct(t){0>Tl||(t.current=_w[Tl],_w[Tl]=null,Tl--)}function _t(t,e){Tl++,_w[Tl]=t.current,t.current=e}var xo={},Fn=Lo(xo),lr=Lo(!1),Ia=xo;function hc(t,e){var n=t.type.contextTypes;if(!n)return xo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function cr(t){return t=t.childContextTypes,t!=null}function Vp(){Ct(lr),Ct(Fn)}function ZS(t,e,n){if(Fn.current!==xo)throw Error(X(168));_t(Fn,e),_t(lr,n)}function XI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(X(108,c4(t)||"Unknown",s));return Ot({},n,r)}function Fp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xo,Ia=Fn.current,_t(Fn,t),_t(lr,lr.current),!0}function eb(t,e,n){var r=t.stateNode;if(!r)throw Error(X(169));n?(t=XI(t,e,Ia),r.__reactInternalMemoizedMergedChildContext=t,Ct(lr),Ct(Fn),_t(Fn,t)):Ct(lr),_t(lr,n)}var zs=null,qm=!1,$y=!1;function JI(t){zs===null?zs=[t]:zs.push(t)}function CB(t){qm=!0,JI(t)}function jo(){if(!$y&&zs!==null){$y=!0;var t=0,e=ht;try{var n=zs;for(ht=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}zs=null,qm=!1}catch(s){throw zs!==null&&(zs=zs.slice(t+1)),TI(T_,jo),s}finally{ht=e,$y=!1}}return null}var Sl=[],bl=0,Up=null,Bp=0,Mr=[],Or=0,Aa=null,Ks=1,Hs="";function na(t,e){Sl[bl++]=Bp,Sl[bl++]=Up,Up=t,Bp=e}function ZI(t,e,n){Mr[Or++]=Ks,Mr[Or++]=Hs,Mr[Or++]=Aa,Aa=t;var r=Ks;t=Hs;var s=32-ns(r)-1;r&=~(1<<s),n+=1;var i=32-ns(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ks=1<<32-ns(e)+s|n<<s|r,Hs=i+t}else Ks=1<<i|n<<s|r,Hs=t}function D_(t){t.return!==null&&(na(t,1),ZI(t,1,0))}function k_(t){for(;t===Up;)Up=Sl[--bl],Sl[bl]=null,Bp=Sl[--bl],Sl[bl]=null;for(;t===Aa;)Aa=Mr[--Or],Mr[Or]=null,Hs=Mr[--Or],Mr[Or]=null,Ks=Mr[--Or],Mr[Or]=null}var wr=null,yr=null,It=!1,Jr=null;function eA(t,e){var n=jr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function tb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wr=t,yr=co(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wr=t,yr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Aa!==null?{id:Ks,overflow:Hs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=jr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,wr=t,yr=null,!0):!1;default:return!1}}function xw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ew(t){if(It){var e=yr;if(e){var n=e;if(!tb(t,e)){if(xw(t))throw Error(X(418));e=co(n.nextSibling);var r=wr;e&&tb(t,e)?eA(r,n):(t.flags=t.flags&-4097|2,It=!1,wr=t)}}else{if(xw(t))throw Error(X(418));t.flags=t.flags&-4097|2,It=!1,wr=t}}}function nb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wr=t}function xf(t){if(t!==wr)return!1;if(!It)return nb(t),It=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yw(t.type,t.memoizedProps)),e&&(e=yr)){if(xw(t))throw tA(),Error(X(418));for(;e;)eA(t,e),e=co(e.nextSibling)}if(nb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){yr=co(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}yr=null}}else yr=wr?co(t.stateNode.nextSibling):null;return!0}function tA(){for(var t=yr;t;)t=co(t.nextSibling)}function fc(){yr=wr=null,It=!1}function M_(t){Jr===null?Jr=[t]:Jr.push(t)}var PB=_i.ReactCurrentBatchConfig;function mu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function Ef(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function rb(t){var e=t._init;return e(t._payload)}function nA(t){function e(_,v){if(t){var S=_.deletions;S===null?(_.deletions=[v],_.flags|=16):S.push(v)}}function n(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function r(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function s(_,v){return _=po(_,v),_.index=0,_.sibling=null,_}function i(_,v,S){return _.index=S,t?(S=_.alternate,S!==null?(S=S.index,S<v?(_.flags|=2,v):S):(_.flags|=2,v)):(_.flags|=1048576,v)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,v,S,P){return v===null||v.tag!==6?(v=Qy(S,_.mode,P),v.return=_,v):(v=s(v,S),v.return=_,v)}function l(_,v,S,P){var A=S.type;return A===vl?u(_,v,S.props.children,P,S.key):v!==null&&(v.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===ji&&rb(A)===v.type)?(P=s(v,S.props),P.ref=mu(_,v,S),P.return=_,P):(P=ap(S.type,S.key,S.props,null,_.mode,P),P.ref=mu(_,v,S),P.return=_,P)}function c(_,v,S,P){return v===null||v.tag!==4||v.stateNode.containerInfo!==S.containerInfo||v.stateNode.implementation!==S.implementation?(v=Yy(S,_.mode,P),v.return=_,v):(v=s(v,S.children||[]),v.return=_,v)}function u(_,v,S,P,A){return v===null||v.tag!==7?(v=ba(S,_.mode,P,A),v.return=_,v):(v=s(v,S),v.return=_,v)}function h(_,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Qy(""+v,_.mode,S),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case df:return S=ap(v.type,v.key,v.props,null,_.mode,S),S.ref=mu(_,null,v),S.return=_,S;case yl:return v=Yy(v,_.mode,S),v.return=_,v;case ji:var P=v._init;return h(_,P(v._payload),S)}if(Au(v)||uu(v))return v=ba(v,_.mode,S,null),v.return=_,v;Ef(_,v)}return null}function p(_,v,S,P){var A=v!==null?v.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return A!==null?null:a(_,v,""+S,P);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case df:return S.key===A?l(_,v,S,P):null;case yl:return S.key===A?c(_,v,S,P):null;case ji:return A=S._init,p(_,v,A(S._payload),P)}if(Au(S)||uu(S))return A!==null?null:u(_,v,S,P,null);Ef(_,S)}return null}function g(_,v,S,P,A){if(typeof P=="string"&&P!==""||typeof P=="number")return _=_.get(S)||null,a(v,_,""+P,A);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case df:return _=_.get(P.key===null?S:P.key)||null,l(v,_,P,A);case yl:return _=_.get(P.key===null?S:P.key)||null,c(v,_,P,A);case ji:var O=P._init;return g(_,v,S,O(P._payload),A)}if(Au(P)||uu(P))return _=_.get(S)||null,u(v,_,P,A,null);Ef(v,P)}return null}function w(_,v,S,P){for(var A=null,O=null,C=v,T=v=0,R=null;C!==null&&T<S.length;T++){C.index>T?(R=C,C=null):R=C.sibling;var I=p(_,C,S[T],P);if(I===null){C===null&&(C=R);break}t&&C&&I.alternate===null&&e(_,C),v=i(I,v,T),O===null?A=I:O.sibling=I,O=I,C=R}if(T===S.length)return n(_,C),It&&na(_,T),A;if(C===null){for(;T<S.length;T++)C=h(_,S[T],P),C!==null&&(v=i(C,v,T),O===null?A=C:O.sibling=C,O=C);return It&&na(_,T),A}for(C=r(_,C);T<S.length;T++)R=g(C,_,T,S[T],P),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?T:R.key),v=i(R,v,T),O===null?A=R:O.sibling=R,O=R);return t&&C.forEach(function(M){return e(_,M)}),It&&na(_,T),A}function y(_,v,S,P){var A=uu(S);if(typeof A!="function")throw Error(X(150));if(S=A.call(S),S==null)throw Error(X(151));for(var O=A=null,C=v,T=v=0,R=null,I=S.next();C!==null&&!I.done;T++,I=S.next()){C.index>T?(R=C,C=null):R=C.sibling;var M=p(_,C,I.value,P);if(M===null){C===null&&(C=R);break}t&&C&&M.alternate===null&&e(_,C),v=i(M,v,T),O===null?A=M:O.sibling=M,O=M,C=R}if(I.done)return n(_,C),It&&na(_,T),A;if(C===null){for(;!I.done;T++,I=S.next())I=h(_,I.value,P),I!==null&&(v=i(I,v,T),O===null?A=I:O.sibling=I,O=I);return It&&na(_,T),A}for(C=r(_,C);!I.done;T++,I=S.next())I=g(C,_,T,I.value,P),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?T:I.key),v=i(I,v,T),O===null?A=I:O.sibling=I,O=I);return t&&C.forEach(function(k){return e(_,k)}),It&&na(_,T),A}function E(_,v,S,P){if(typeof S=="object"&&S!==null&&S.type===vl&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case df:e:{for(var A=S.key,O=v;O!==null;){if(O.key===A){if(A=S.type,A===vl){if(O.tag===7){n(_,O.sibling),v=s(O,S.props.children),v.return=_,_=v;break e}}else if(O.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===ji&&rb(A)===O.type){n(_,O.sibling),v=s(O,S.props),v.ref=mu(_,O,S),v.return=_,_=v;break e}n(_,O);break}else e(_,O);O=O.sibling}S.type===vl?(v=ba(S.props.children,_.mode,P,S.key),v.return=_,_=v):(P=ap(S.type,S.key,S.props,null,_.mode,P),P.ref=mu(_,v,S),P.return=_,_=P)}return o(_);case yl:e:{for(O=S.key;v!==null;){if(v.key===O)if(v.tag===4&&v.stateNode.containerInfo===S.containerInfo&&v.stateNode.implementation===S.implementation){n(_,v.sibling),v=s(v,S.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else e(_,v);v=v.sibling}v=Yy(S,_.mode,P),v.return=_,_=v}return o(_);case ji:return O=S._init,E(_,v,O(S._payload),P)}if(Au(S))return w(_,v,S,P);if(uu(S))return y(_,v,S,P);Ef(_,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,v!==null&&v.tag===6?(n(_,v.sibling),v=s(v,S),v.return=_,_=v):(n(_,v),v=Qy(S,_.mode,P),v.return=_,_=v),o(_)):n(_,v)}return E}var pc=nA(!0),rA=nA(!1),$p=Lo(null),zp=null,Cl=null,O_=null;function L_(){O_=Cl=zp=null}function j_(t){var e=$p.current;Ct($p),t._currentValue=e}function Tw(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ul(t,e){zp=t,O_=Cl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(or=!0),t.firstContext=null)}function Br(t){var e=t._currentValue;if(O_!==t)if(t={context:t,memoizedValue:e,next:null},Cl===null){if(zp===null)throw Error(X(308));Cl=t,zp.dependencies={lanes:0,firstContext:t}}else Cl=Cl.next=t;return e}var ua=null;function V_(t){ua===null?ua=[t]:ua.push(t)}function sA(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,V_(e)):(n.next=s.next,s.next=n),e.interleaved=n,ci(t,r)}function ci(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Vi=!1;function F_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ei(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function uo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ot&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ci(t,n)}return s=r.interleaved,s===null?(e.next=e,V_(r)):(e.next=s.next,s.next=e),r.interleaved=e,ci(t,n)}function tp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,S_(t,n)}}function sb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Wp(t,e,n,r){var s=t.updateQueue;Vi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,u=c=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,y=a;switch(p=e,g=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){h=w.call(g,h,p);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,p=typeof w=="function"?w.call(g,h,p):w,p==null)break e;h=Ot({},h,p);break e;case 2:Vi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=g,l=h):u=u.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(u===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Da|=o,t.lanes=o,t.memoizedState=h}}function ib(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(X(191,s));s.call(r)}}}var mh={},Ss=Lo(mh),Td=Lo(mh),Sd=Lo(mh);function da(t){if(t===mh)throw Error(X(174));return t}function U_(t,e){switch(_t(Sd,e),_t(Td,t),_t(Ss,mh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:rw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=rw(e,t)}Ct(Ss),_t(Ss,e)}function mc(){Ct(Ss),Ct(Td),Ct(Sd)}function oA(t){da(Sd.current);var e=da(Ss.current),n=rw(e,t.type);e!==n&&(_t(Td,t),_t(Ss,n))}function B_(t){Td.current===t&&(Ct(Ss),Ct(Td))}var Dt=Lo(0);function Kp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zy=[];function $_(){for(var t=0;t<zy.length;t++)zy[t]._workInProgressVersionPrimary=null;zy.length=0}var np=_i.ReactCurrentDispatcher,Wy=_i.ReactCurrentBatchConfig,Na=0,Mt=null,nn=null,hn=null,Hp=!1,qu=!1,bd=0,RB=0;function In(){throw Error(X(321))}function z_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!is(t[n],e[n]))return!1;return!0}function W_(t,e,n,r,s,i){if(Na=i,Mt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,np.current=t===null||t.memoizedState===null?DB:kB,t=n(r,s),qu){i=0;do{if(qu=!1,bd=0,25<=i)throw Error(X(301));i+=1,hn=nn=null,e.updateQueue=null,np.current=MB,t=n(r,s)}while(qu)}if(np.current=Gp,e=nn!==null&&nn.next!==null,Na=0,hn=nn=Mt=null,Hp=!1,e)throw Error(X(300));return t}function K_(){var t=bd!==0;return bd=0,t}function ps(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?Mt.memoizedState=hn=t:hn=hn.next=t,hn}function $r(){if(nn===null){var t=Mt.alternate;t=t!==null?t.memoizedState:null}else t=nn.next;var e=hn===null?Mt.memoizedState:hn.next;if(e!==null)hn=e,nn=t;else{if(t===null)throw Error(X(310));nn=t,t={memoizedState:nn.memoizedState,baseState:nn.baseState,baseQueue:nn.baseQueue,queue:nn.queue,next:null},hn===null?Mt.memoizedState=hn=t:hn=hn.next=t}return hn}function Cd(t,e){return typeof e=="function"?e(t):e}function Ky(t){var e=$r(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=nn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Na&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Mt.lanes|=u,Da|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,is(r,e.memoizedState)||(or=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Mt.lanes|=i,Da|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Hy(t){var e=$r(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);is(i,e.memoizedState)||(or=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function aA(){}function lA(t,e){var n=Mt,r=$r(),s=e(),i=!is(r.memoizedState,s);if(i&&(r.memoizedState=s,or=!0),r=r.queue,H_(dA.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||hn!==null&&hn.memoizedState.tag&1){if(n.flags|=2048,Pd(9,uA.bind(null,n,r,s,e),void 0,null),fn===null)throw Error(X(349));Na&30||cA(n,e,s)}return s}function cA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Mt.updateQueue,e===null?(e={lastEffect:null,stores:null},Mt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function uA(t,e,n,r){e.value=n,e.getSnapshot=r,hA(e)&&fA(t)}function dA(t,e,n){return n(function(){hA(e)&&fA(t)})}function hA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!is(t,n)}catch{return!0}}function fA(t){var e=ci(t,1);e!==null&&rs(e,t,1,-1)}function ob(t){var e=ps();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cd,lastRenderedState:t},e.queue=t,t=t.dispatch=NB.bind(null,Mt,t),[e.memoizedState,t]}function Pd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Mt.updateQueue,e===null?(e={lastEffect:null,stores:null},Mt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function pA(){return $r().memoizedState}function rp(t,e,n,r){var s=ps();Mt.flags|=t,s.memoizedState=Pd(1|e,n,void 0,r===void 0?null:r)}function Qm(t,e,n,r){var s=$r();r=r===void 0?null:r;var i=void 0;if(nn!==null){var o=nn.memoizedState;if(i=o.destroy,r!==null&&z_(r,o.deps)){s.memoizedState=Pd(e,n,i,r);return}}Mt.flags|=t,s.memoizedState=Pd(1|e,n,i,r)}function ab(t,e){return rp(8390656,8,t,e)}function H_(t,e){return Qm(2048,8,t,e)}function mA(t,e){return Qm(4,2,t,e)}function gA(t,e){return Qm(4,4,t,e)}function yA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vA(t,e,n){return n=n!=null?n.concat([t]):null,Qm(4,4,yA.bind(null,e,t),n)}function G_(){}function wA(t,e){var n=$r();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&z_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function _A(t,e){var n=$r();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&z_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function xA(t,e,n){return Na&21?(is(n,e)||(n=CI(),Mt.lanes|=n,Da|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,or=!0),t.memoizedState=n)}function IB(t,e){var n=ht;ht=n!==0&&4>n?n:4,t(!0);var r=Wy.transition;Wy.transition={};try{t(!1),e()}finally{ht=n,Wy.transition=r}}function EA(){return $r().memoizedState}function AB(t,e,n){var r=fo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},TA(t))SA(e,n);else if(n=sA(t,e,n,r),n!==null){var s=Xn();rs(n,t,r,s),bA(n,e,r)}}function NB(t,e,n){var r=fo(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(TA(t))SA(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,is(a,o)){var l=e.interleaved;l===null?(s.next=s,V_(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=sA(t,e,s,r),n!==null&&(s=Xn(),rs(n,t,r,s),bA(n,e,r))}}function TA(t){var e=t.alternate;return t===Mt||e!==null&&e===Mt}function SA(t,e){qu=Hp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function bA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,S_(t,n)}}var Gp={readContext:Br,useCallback:In,useContext:In,useEffect:In,useImperativeHandle:In,useInsertionEffect:In,useLayoutEffect:In,useMemo:In,useReducer:In,useRef:In,useState:In,useDebugValue:In,useDeferredValue:In,useTransition:In,useMutableSource:In,useSyncExternalStore:In,useId:In,unstable_isNewReconciler:!1},DB={readContext:Br,useCallback:function(t,e){return ps().memoizedState=[t,e===void 0?null:e],t},useContext:Br,useEffect:ab,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,rp(4194308,4,yA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rp(4194308,4,t,e)},useInsertionEffect:function(t,e){return rp(4,2,t,e)},useMemo:function(t,e){var n=ps();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ps();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=AB.bind(null,Mt,t),[r.memoizedState,t]},useRef:function(t){var e=ps();return t={current:t},e.memoizedState=t},useState:ob,useDebugValue:G_,useDeferredValue:function(t){return ps().memoizedState=t},useTransition:function(){var t=ob(!1),e=t[0];return t=IB.bind(null,t[1]),ps().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Mt,s=ps();if(It){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),fn===null)throw Error(X(349));Na&30||cA(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,ab(dA.bind(null,r,i,t),[t]),r.flags|=2048,Pd(9,uA.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ps(),e=fn.identifierPrefix;if(It){var n=Hs,r=Ks;n=(r&~(1<<32-ns(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=bd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=RB++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},kB={readContext:Br,useCallback:wA,useContext:Br,useEffect:H_,useImperativeHandle:vA,useInsertionEffect:mA,useLayoutEffect:gA,useMemo:_A,useReducer:Ky,useRef:pA,useState:function(){return Ky(Cd)},useDebugValue:G_,useDeferredValue:function(t){var e=$r();return xA(e,nn.memoizedState,t)},useTransition:function(){var t=Ky(Cd)[0],e=$r().memoizedState;return[t,e]},useMutableSource:aA,useSyncExternalStore:lA,useId:EA,unstable_isNewReconciler:!1},MB={readContext:Br,useCallback:wA,useContext:Br,useEffect:H_,useImperativeHandle:vA,useInsertionEffect:mA,useLayoutEffect:gA,useMemo:_A,useReducer:Hy,useRef:pA,useState:function(){return Hy(Cd)},useDebugValue:G_,useDeferredValue:function(t){var e=$r();return nn===null?e.memoizedState=t:xA(e,nn.memoizedState,t)},useTransition:function(){var t=Hy(Cd)[0],e=$r().memoizedState;return[t,e]},useMutableSource:aA,useSyncExternalStore:lA,useId:EA,unstable_isNewReconciler:!1};function qr(t,e){if(t&&t.defaultProps){e=Ot({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Sw(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ym={isMounted:function(t){return(t=t._reactInternals)?Ha(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Xn(),s=fo(t),i=ei(r,s);i.payload=e,n!=null&&(i.callback=n),e=uo(t,i,s),e!==null&&(rs(e,t,s,r),tp(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Xn(),s=fo(t),i=ei(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=uo(t,i,s),e!==null&&(rs(e,t,s,r),tp(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Xn(),r=fo(t),s=ei(n,r);s.tag=2,e!=null&&(s.callback=e),e=uo(t,s,r),e!==null&&(rs(e,t,r,n),tp(e,t,r))}};function lb(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!wd(n,r)||!wd(s,i):!0}function CA(t,e,n){var r=!1,s=xo,i=e.contextType;return typeof i=="object"&&i!==null?i=Br(i):(s=cr(e)?Ia:Fn.current,r=e.contextTypes,i=(r=r!=null)?hc(t,s):xo),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ym,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function cb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ym.enqueueReplaceState(e,e.state,null)}function bw(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},F_(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Br(i):(i=cr(e)?Ia:Fn.current,s.context=hc(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Sw(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ym.enqueueReplaceState(s,s.state,null),Wp(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function gc(t,e){try{var n="",r=e;do n+=l4(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Gy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Cw(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var OB=typeof WeakMap=="function"?WeakMap:Map;function PA(t,e,n){n=ei(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Qp||(Qp=!0,Lw=r),Cw(t,e)},n}function RA(t,e,n){n=ei(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Cw(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Cw(t,e),typeof r!="function"&&(ho===null?ho=new Set([this]):ho.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ub(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new OB;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=QB.bind(null,t,e,n),e.then(t,t))}function db(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function hb(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ei(-1,1),e.tag=2,uo(n,e,1))),n.lanes|=1),t)}var LB=_i.ReactCurrentOwner,or=!1;function Qn(t,e,n,r){e.child=t===null?rA(e,null,n,r):pc(e,t.child,n,r)}function fb(t,e,n,r,s){n=n.render;var i=e.ref;return Ul(e,s),r=W_(t,e,n,r,i,s),n=K_(),t!==null&&!or?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ui(t,e,s)):(It&&n&&D_(e),e.flags|=1,Qn(t,e,r,s),e.child)}function pb(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!tx(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,IA(t,e,i,r,s)):(t=ap(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:wd,n(o,r)&&t.ref===e.ref)return ui(t,e,s)}return e.flags|=1,t=po(i,r),t.ref=e.ref,t.return=e,e.child=t}function IA(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(wd(i,r)&&t.ref===e.ref)if(or=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(or=!0);else return e.lanes=t.lanes,ui(t,e,s)}return Pw(t,e,n,r,s)}function AA(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_t(Rl,pr),pr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_t(Rl,pr),pr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,_t(Rl,pr),pr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,_t(Rl,pr),pr|=r;return Qn(t,e,s,n),e.child}function NA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Pw(t,e,n,r,s){var i=cr(n)?Ia:Fn.current;return i=hc(e,i),Ul(e,s),n=W_(t,e,n,r,i,s),r=K_(),t!==null&&!or?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ui(t,e,s)):(It&&r&&D_(e),e.flags|=1,Qn(t,e,n,s),e.child)}function mb(t,e,n,r,s){if(cr(n)){var i=!0;Fp(e)}else i=!1;if(Ul(e,s),e.stateNode===null)sp(t,e),CA(e,n,r),bw(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Br(c):(c=cr(n)?Ia:Fn.current,c=hc(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&cb(e,o,r,c),Vi=!1;var p=e.memoizedState;o.state=p,Wp(e,r,o,s),l=e.memoizedState,a!==r||p!==l||lr.current||Vi?(typeof u=="function"&&(Sw(e,n,u,r),l=e.memoizedState),(a=Vi||lb(e,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,iA(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:qr(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Br(l):(l=cr(n)?Ia:Fn.current,l=hc(e,l));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&cb(e,o,r,l),Vi=!1,p=e.memoizedState,o.state=p,Wp(e,r,o,s);var w=e.memoizedState;a!==h||p!==w||lr.current||Vi?(typeof g=="function"&&(Sw(e,n,g,r),w=e.memoizedState),(c=Vi||lb(e,n,c,r,p,w,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Rw(t,e,n,r,i,s)}function Rw(t,e,n,r,s,i){NA(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&eb(e,n,!1),ui(t,e,i);r=e.stateNode,LB.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=pc(e,t.child,null,i),e.child=pc(e,null,a,i)):Qn(t,e,a,i),e.memoizedState=r.state,s&&eb(e,n,!0),e.child}function DA(t){var e=t.stateNode;e.pendingContext?ZS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ZS(t,e.context,!1),U_(t,e.containerInfo)}function gb(t,e,n,r,s){return fc(),M_(s),e.flags|=256,Qn(t,e,n,r),e.child}var Iw={dehydrated:null,treeContext:null,retryLane:0};function Aw(t){return{baseLanes:t,cachePool:null,transitions:null}}function kA(t,e,n){var r=e.pendingProps,s=Dt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),_t(Dt,s&1),t===null)return Ew(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Zm(o,r,0,null),t=ba(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Aw(n),e.memoizedState=Iw,t):q_(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return jB(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=po(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=po(a,i):(i=ba(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Aw(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Iw,r}return i=t.child,t=i.sibling,r=po(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function q_(t,e){return e=Zm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Tf(t,e,n,r){return r!==null&&M_(r),pc(e,t.child,null,n),t=q_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jB(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Gy(Error(X(422))),Tf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Zm({mode:"visible",children:r.children},s,0,null),i=ba(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&pc(e,t.child,null,o),e.child.memoizedState=Aw(o),e.memoizedState=Iw,i);if(!(e.mode&1))return Tf(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(X(419)),r=Gy(i,r,void 0),Tf(t,e,o,r)}if(a=(o&t.childLanes)!==0,or||a){if(r=fn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ci(t,s),rs(r,t,s,-1))}return ex(),r=Gy(Error(X(421))),Tf(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=YB.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,yr=co(s.nextSibling),wr=e,It=!0,Jr=null,t!==null&&(Mr[Or++]=Ks,Mr[Or++]=Hs,Mr[Or++]=Aa,Ks=t.id,Hs=t.overflow,Aa=e),e=q_(e,r.children),e.flags|=4096,e)}function yb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Tw(t.return,e,n)}function qy(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function MA(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Qn(t,e,r.children,n),r=Dt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yb(t,n,e);else if(t.tag===19)yb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(_t(Dt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Kp(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),qy(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Kp(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}qy(e,!0,n,null,i);break;case"together":qy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function sp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ui(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Da|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=po(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=po(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function VB(t,e,n){switch(e.tag){case 3:DA(e),fc();break;case 5:oA(e);break;case 1:cr(e.type)&&Fp(e);break;case 4:U_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;_t($p,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(_t(Dt,Dt.current&1),e.flags|=128,null):n&e.child.childLanes?kA(t,e,n):(_t(Dt,Dt.current&1),t=ui(t,e,n),t!==null?t.sibling:null);_t(Dt,Dt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return MA(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),_t(Dt,Dt.current),r)break;return null;case 22:case 23:return e.lanes=0,AA(t,e,n)}return ui(t,e,n)}var OA,Nw,LA,jA;OA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Nw=function(){};LA=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,da(Ss.current);var i=null;switch(n){case"input":s=Zv(t,s),r=Zv(t,r),i=[];break;case"select":s=Ot({},s,{value:void 0}),r=Ot({},r,{value:void 0}),i=[];break;case"textarea":s=nw(t,s),r=nw(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=jp)}sw(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(hd.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(hd.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&bt("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};jA=function(t,e,n,r){n!==r&&(e.flags|=4)};function gu(t,e){if(!It)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function An(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function FB(t,e,n){var r=e.pendingProps;switch(k_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return An(e),null;case 1:return cr(e.type)&&Vp(),An(e),null;case 3:return r=e.stateNode,mc(),Ct(lr),Ct(Fn),$_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(xf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jr!==null&&(Fw(Jr),Jr=null))),Nw(t,e),An(e),null;case 5:B_(e);var s=da(Sd.current);if(n=e.type,t!==null&&e.stateNode!=null)LA(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(X(166));return An(e),null}if(t=da(Ss.current),xf(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ws]=e,r[Ed]=i,t=(e.mode&1)!==0,n){case"dialog":bt("cancel",r),bt("close",r);break;case"iframe":case"object":case"embed":bt("load",r);break;case"video":case"audio":for(s=0;s<Du.length;s++)bt(Du[s],r);break;case"source":bt("error",r);break;case"img":case"image":case"link":bt("error",r),bt("load",r);break;case"details":bt("toggle",r);break;case"input":CS(r,i),bt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},bt("invalid",r);break;case"textarea":RS(r,i),bt("invalid",r)}sw(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&_f(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&_f(r.textContent,a,t),s=["children",""+a]):hd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&bt("scroll",r)}switch(n){case"input":hf(r),PS(r,i,!0);break;case"textarea":hf(r),IS(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=jp)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=dI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ws]=e,t[Ed]=r,OA(t,e,!1,!1),e.stateNode=t;e:{switch(o=iw(n,r),n){case"dialog":bt("cancel",t),bt("close",t),s=r;break;case"iframe":case"object":case"embed":bt("load",t),s=r;break;case"video":case"audio":for(s=0;s<Du.length;s++)bt(Du[s],t);s=r;break;case"source":bt("error",t),s=r;break;case"img":case"image":case"link":bt("error",t),bt("load",t),s=r;break;case"details":bt("toggle",t),s=r;break;case"input":CS(t,r),s=Zv(t,r),bt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ot({},r,{value:void 0}),bt("invalid",t);break;case"textarea":RS(t,r),s=nw(t,r),bt("invalid",t);break;default:s=r}sw(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?pI(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&hI(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&fd(t,l):typeof l=="number"&&fd(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(hd.hasOwnProperty(i)?l!=null&&i==="onScroll"&&bt("scroll",t):l!=null&&v_(t,i,l,o))}switch(n){case"input":hf(t),PS(t,r,!1);break;case"textarea":hf(t),IS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+_o(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ll(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ll(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=jp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return An(e),null;case 6:if(t&&e.stateNode!=null)jA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(n=da(Sd.current),da(Ss.current),xf(e)){if(r=e.stateNode,n=e.memoizedProps,r[ws]=e,(i=r.nodeValue!==n)&&(t=wr,t!==null))switch(t.tag){case 3:_f(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_f(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ws]=e,e.stateNode=r}return An(e),null;case 13:if(Ct(Dt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(It&&yr!==null&&e.mode&1&&!(e.flags&128))tA(),fc(),e.flags|=98560,i=!1;else if(i=xf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(X(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(X(317));i[ws]=e}else fc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;An(e),i=!1}else Jr!==null&&(Fw(Jr),Jr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Dt.current&1?ln===0&&(ln=3):ex())),e.updateQueue!==null&&(e.flags|=4),An(e),null);case 4:return mc(),Nw(t,e),t===null&&_d(e.stateNode.containerInfo),An(e),null;case 10:return j_(e.type._context),An(e),null;case 17:return cr(e.type)&&Vp(),An(e),null;case 19:if(Ct(Dt),i=e.memoizedState,i===null)return An(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)gu(i,!1);else{if(ln!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Kp(t),o!==null){for(e.flags|=128,gu(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return _t(Dt,Dt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Gt()>yc&&(e.flags|=128,r=!0,gu(i,!1),e.lanes=4194304)}else{if(!r)if(t=Kp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),gu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!It)return An(e),null}else 2*Gt()-i.renderingStartTime>yc&&n!==1073741824&&(e.flags|=128,r=!0,gu(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Gt(),e.sibling=null,n=Dt.current,_t(Dt,r?n&1|2:n&1),e):(An(e),null);case 22:case 23:return Z_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?pr&1073741824&&(An(e),e.subtreeFlags&6&&(e.flags|=8192)):An(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function UB(t,e){switch(k_(e),e.tag){case 1:return cr(e.type)&&Vp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return mc(),Ct(lr),Ct(Fn),$_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return B_(e),null;case 13:if(Ct(Dt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));fc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ct(Dt),null;case 4:return mc(),null;case 10:return j_(e.type._context),null;case 22:case 23:return Z_(),null;case 24:return null;default:return null}}var Sf=!1,On=!1,BB=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Pl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ut(t,e,r)}else n.current=null}function Dw(t,e,n){try{n()}catch(r){Ut(t,e,r)}}var vb=!1;function $B(t,e){if(mw=Mp,t=$I(),N_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,p=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++u===r&&(l=o),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(gw={focusedElem:t,selectionRange:n},Mp=!1,fe=e;fe!==null;)if(e=fe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,fe=t;else for(;fe!==null;){e=fe;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,E=w.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?y:qr(e.type,y),E);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(P){Ut(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,fe=t;break}fe=e.return}return w=vb,vb=!1,w}function Qu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Dw(e,n,i)}s=s.next}while(s!==r)}}function Xm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function kw(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function VA(t){var e=t.alternate;e!==null&&(t.alternate=null,VA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ws],delete e[Ed],delete e[ww],delete e[SB],delete e[bB])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function FA(t){return t.tag===5||t.tag===3||t.tag===4}function wb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||FA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=jp));else if(r!==4&&(t=t.child,t!==null))for(Mw(t,e,n),t=t.sibling;t!==null;)Mw(t,e,n),t=t.sibling}function Ow(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ow(t,e,n),t=t.sibling;t!==null;)Ow(t,e,n),t=t.sibling}var gn=null,Yr=!1;function Ii(t,e,n){for(n=n.child;n!==null;)UA(t,e,n),n=n.sibling}function UA(t,e,n){if(Ts&&typeof Ts.onCommitFiberUnmount=="function")try{Ts.onCommitFiberUnmount(zm,n)}catch{}switch(n.tag){case 5:On||Pl(n,e);case 6:var r=gn,s=Yr;gn=null,Ii(t,e,n),gn=r,Yr=s,gn!==null&&(Yr?(t=gn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):gn.removeChild(n.stateNode));break;case 18:gn!==null&&(Yr?(t=gn,n=n.stateNode,t.nodeType===8?By(t.parentNode,n):t.nodeType===1&&By(t,n),yd(t)):By(gn,n.stateNode));break;case 4:r=gn,s=Yr,gn=n.stateNode.containerInfo,Yr=!0,Ii(t,e,n),gn=r,Yr=s;break;case 0:case 11:case 14:case 15:if(!On&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Dw(n,e,o),s=s.next}while(s!==r)}Ii(t,e,n);break;case 1:if(!On&&(Pl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ut(n,e,a)}Ii(t,e,n);break;case 21:Ii(t,e,n);break;case 22:n.mode&1?(On=(r=On)||n.memoizedState!==null,Ii(t,e,n),On=r):Ii(t,e,n);break;default:Ii(t,e,n)}}function _b(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new BB),e.forEach(function(r){var s=XB.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Hr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:gn=a.stateNode,Yr=!1;break e;case 3:gn=a.stateNode.containerInfo,Yr=!0;break e;case 4:gn=a.stateNode.containerInfo,Yr=!0;break e}a=a.return}if(gn===null)throw Error(X(160));UA(i,o,s),gn=null,Yr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Ut(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)BA(e,t),e=e.sibling}function BA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Hr(e,t),fs(t),r&4){try{Qu(3,t,t.return),Xm(3,t)}catch(y){Ut(t,t.return,y)}try{Qu(5,t,t.return)}catch(y){Ut(t,t.return,y)}}break;case 1:Hr(e,t),fs(t),r&512&&n!==null&&Pl(n,n.return);break;case 5:if(Hr(e,t),fs(t),r&512&&n!==null&&Pl(n,n.return),t.flags&32){var s=t.stateNode;try{fd(s,"")}catch(y){Ut(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&cI(s,i),iw(a,o);var c=iw(a,i);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?pI(s,h):u==="dangerouslySetInnerHTML"?hI(s,h):u==="children"?fd(s,h):v_(s,u,h,c)}switch(a){case"input":ew(s,i);break;case"textarea":uI(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Ll(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?Ll(s,!!i.multiple,i.defaultValue,!0):Ll(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ed]=i}catch(y){Ut(t,t.return,y)}}break;case 6:if(Hr(e,t),fs(t),r&4){if(t.stateNode===null)throw Error(X(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){Ut(t,t.return,y)}}break;case 3:if(Hr(e,t),fs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yd(e.containerInfo)}catch(y){Ut(t,t.return,y)}break;case 4:Hr(e,t),fs(t);break;case 13:Hr(e,t),fs(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(X_=Gt())),r&4&&_b(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(On=(c=On)||u,Hr(e,t),On=c):Hr(e,t),fs(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(fe=t,u=t.child;u!==null;){for(h=fe=u;fe!==null;){switch(p=fe,g=p.child,p.tag){case 0:case 11:case 14:case 15:Qu(4,p,p.return);break;case 1:Pl(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(y){Ut(r,n,y)}}break;case 5:Pl(p,p.return);break;case 22:if(p.memoizedState!==null){Eb(h);continue}}g!==null?(g.return=p,fe=g):Eb(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=fI("display",o))}catch(y){Ut(t,t.return,y)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){Ut(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Hr(e,t),fs(t),r&4&&_b(t);break;case 21:break;default:Hr(e,t),fs(t)}}function fs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(FA(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(fd(s,""),r.flags&=-33);var i=wb(t);Ow(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=wb(t);Mw(t,a,o);break;default:throw Error(X(161))}}catch(l){Ut(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zB(t,e,n){fe=t,$A(t)}function $A(t,e,n){for(var r=(t.mode&1)!==0;fe!==null;){var s=fe,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Sf;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||On;a=Sf;var c=On;if(Sf=o,(On=l)&&!c)for(fe=s;fe!==null;)o=fe,l=o.child,o.tag===22&&o.memoizedState!==null?Tb(s):l!==null?(l.return=o,fe=l):Tb(s);for(;i!==null;)fe=i,$A(i),i=i.sibling;fe=s,Sf=a,On=c}xb(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,fe=i):xb(t)}}function xb(t){for(;fe!==null;){var e=fe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:On||Xm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!On)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:qr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&ib(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ib(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&yd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}On||e.flags&512&&kw(e)}catch(p){Ut(e,e.return,p)}}if(e===t){fe=null;break}if(n=e.sibling,n!==null){n.return=e.return,fe=n;break}fe=e.return}}function Eb(t){for(;fe!==null;){var e=fe;if(e===t){fe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,fe=n;break}fe=e.return}}function Tb(t){for(;fe!==null;){var e=fe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xm(4,e)}catch(l){Ut(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Ut(e,s,l)}}var i=e.return;try{kw(e)}catch(l){Ut(e,i,l)}break;case 5:var o=e.return;try{kw(e)}catch(l){Ut(e,o,l)}}}catch(l){Ut(e,e.return,l)}if(e===t){fe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,fe=a;break}fe=e.return}}var WB=Math.ceil,qp=_i.ReactCurrentDispatcher,Q_=_i.ReactCurrentOwner,Vr=_i.ReactCurrentBatchConfig,ot=0,fn=null,en=null,_n=0,pr=0,Rl=Lo(0),ln=0,Rd=null,Da=0,Jm=0,Y_=0,Yu=null,ir=null,X_=0,yc=1/0,$s=null,Qp=!1,Lw=null,ho=null,bf=!1,no=null,Yp=0,Xu=0,jw=null,ip=-1,op=0;function Xn(){return ot&6?Gt():ip!==-1?ip:ip=Gt()}function fo(t){return t.mode&1?ot&2&&_n!==0?_n&-_n:PB.transition!==null?(op===0&&(op=CI()),op):(t=ht,t!==0||(t=window.event,t=t===void 0?16:kI(t.type)),t):1}function rs(t,e,n,r){if(50<Xu)throw Xu=0,jw=null,Error(X(185));hh(t,n,r),(!(ot&2)||t!==fn)&&(t===fn&&(!(ot&2)&&(Jm|=n),ln===4&&Ui(t,_n)),ur(t,r),n===1&&ot===0&&!(e.mode&1)&&(yc=Gt()+500,qm&&jo()))}function ur(t,e){var n=t.callbackNode;P4(t,e);var r=kp(t,t===fn?_n:0);if(r===0)n!==null&&DS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&DS(n),e===1)t.tag===0?CB(Sb.bind(null,t)):JI(Sb.bind(null,t)),EB(function(){!(ot&6)&&jo()}),n=null;else{switch(PI(r)){case 1:n=T_;break;case 4:n=SI;break;case 16:n=Dp;break;case 536870912:n=bI;break;default:n=Dp}n=YA(n,zA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function zA(t,e){if(ip=-1,op=0,ot&6)throw Error(X(327));var n=t.callbackNode;if(Bl()&&t.callbackNode!==n)return null;var r=kp(t,t===fn?_n:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Xp(t,r);else{e=r;var s=ot;ot|=2;var i=KA();(fn!==t||_n!==e)&&($s=null,yc=Gt()+500,Sa(t,e));do try{GB();break}catch(a){WA(t,a)}while(!0);L_(),qp.current=i,ot=s,en!==null?e=0:(fn=null,_n=0,e=ln)}if(e!==0){if(e===2&&(s=uw(t),s!==0&&(r=s,e=Vw(t,s))),e===1)throw n=Rd,Sa(t,0),Ui(t,r),ur(t,Gt()),n;if(e===6)Ui(t,r);else{if(s=t.current.alternate,!(r&30)&&!KB(s)&&(e=Xp(t,r),e===2&&(i=uw(t),i!==0&&(r=i,e=Vw(t,i))),e===1))throw n=Rd,Sa(t,0),Ui(t,r),ur(t,Gt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(X(345));case 2:ra(t,ir,$s);break;case 3:if(Ui(t,r),(r&130023424)===r&&(e=X_+500-Gt(),10<e)){if(kp(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Xn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=vw(ra.bind(null,t,ir,$s),e);break}ra(t,ir,$s);break;case 4:if(Ui(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-ns(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Gt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*WB(r/1960))-r,10<r){t.timeoutHandle=vw(ra.bind(null,t,ir,$s),r);break}ra(t,ir,$s);break;case 5:ra(t,ir,$s);break;default:throw Error(X(329))}}}return ur(t,Gt()),t.callbackNode===n?zA.bind(null,t):null}function Vw(t,e){var n=Yu;return t.current.memoizedState.isDehydrated&&(Sa(t,e).flags|=256),t=Xp(t,e),t!==2&&(e=ir,ir=n,e!==null&&Fw(e)),t}function Fw(t){ir===null?ir=t:ir.push.apply(ir,t)}function KB(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!is(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ui(t,e){for(e&=~Y_,e&=~Jm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ns(e),r=1<<n;t[n]=-1,e&=~r}}function Sb(t){if(ot&6)throw Error(X(327));Bl();var e=kp(t,0);if(!(e&1))return ur(t,Gt()),null;var n=Xp(t,e);if(t.tag!==0&&n===2){var r=uw(t);r!==0&&(e=r,n=Vw(t,r))}if(n===1)throw n=Rd,Sa(t,0),Ui(t,e),ur(t,Gt()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ra(t,ir,$s),ur(t,Gt()),null}function J_(t,e){var n=ot;ot|=1;try{return t(e)}finally{ot=n,ot===0&&(yc=Gt()+500,qm&&jo())}}function ka(t){no!==null&&no.tag===0&&!(ot&6)&&Bl();var e=ot;ot|=1;var n=Vr.transition,r=ht;try{if(Vr.transition=null,ht=1,t)return t()}finally{ht=r,Vr.transition=n,ot=e,!(ot&6)&&jo()}}function Z_(){pr=Rl.current,Ct(Rl)}function Sa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xB(n)),en!==null)for(n=en.return;n!==null;){var r=n;switch(k_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vp();break;case 3:mc(),Ct(lr),Ct(Fn),$_();break;case 5:B_(r);break;case 4:mc();break;case 13:Ct(Dt);break;case 19:Ct(Dt);break;case 10:j_(r.type._context);break;case 22:case 23:Z_()}n=n.return}if(fn=t,en=t=po(t.current,null),_n=pr=e,ln=0,Rd=null,Y_=Jm=Da=0,ir=Yu=null,ua!==null){for(e=0;e<ua.length;e++)if(n=ua[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ua=null}return t}function WA(t,e){do{var n=en;try{if(L_(),np.current=Gp,Hp){for(var r=Mt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Hp=!1}if(Na=0,hn=nn=Mt=null,qu=!1,bd=0,Q_.current=null,n===null||n.return===null){ln=1,Rd=e,en=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=_n,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=db(o);if(g!==null){g.flags&=-257,hb(g,o,a,i,e),g.mode&1&&ub(i,c,e),e=g,l=c;var w=e.updateQueue;if(w===null){var y=new Set;y.add(l),e.updateQueue=y}else w.add(l);break e}else{if(!(e&1)){ub(i,c,e),ex();break e}l=Error(X(426))}}else if(It&&a.mode&1){var E=db(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),hb(E,o,a,i,e),M_(gc(l,a));break e}}i=l=gc(l,a),ln!==4&&(ln=2),Yu===null?Yu=[i]:Yu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=PA(i,l,e);sb(i,_);break e;case 1:a=l;var v=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ho===null||!ho.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var P=RA(i,a,e);sb(i,P);break e}}i=i.return}while(i!==null)}GA(n)}catch(A){e=A,en===n&&n!==null&&(en=n=n.return);continue}break}while(!0)}function KA(){var t=qp.current;return qp.current=Gp,t===null?Gp:t}function ex(){(ln===0||ln===3||ln===2)&&(ln=4),fn===null||!(Da&268435455)&&!(Jm&268435455)||Ui(fn,_n)}function Xp(t,e){var n=ot;ot|=2;var r=KA();(fn!==t||_n!==e)&&($s=null,Sa(t,e));do try{HB();break}catch(s){WA(t,s)}while(!0);if(L_(),ot=n,qp.current=r,en!==null)throw Error(X(261));return fn=null,_n=0,ln}function HB(){for(;en!==null;)HA(en)}function GB(){for(;en!==null&&!v4();)HA(en)}function HA(t){var e=QA(t.alternate,t,pr);t.memoizedProps=t.pendingProps,e===null?GA(t):en=e,Q_.current=null}function GA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=UB(n,e),n!==null){n.flags&=32767,en=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ln=6,en=null;return}}else if(n=FB(n,e,pr),n!==null){en=n;return}if(e=e.sibling,e!==null){en=e;return}en=e=t}while(e!==null);ln===0&&(ln=5)}function ra(t,e,n){var r=ht,s=Vr.transition;try{Vr.transition=null,ht=1,qB(t,e,n,r)}finally{Vr.transition=s,ht=r}return null}function qB(t,e,n,r){do Bl();while(no!==null);if(ot&6)throw Error(X(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(R4(t,i),t===fn&&(en=fn=null,_n=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bf||(bf=!0,YA(Dp,function(){return Bl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Vr.transition,Vr.transition=null;var o=ht;ht=1;var a=ot;ot|=4,Q_.current=null,$B(t,n),BA(n,t),pB(gw),Mp=!!mw,gw=mw=null,t.current=n,zB(n),w4(),ot=a,ht=o,Vr.transition=i}else t.current=n;if(bf&&(bf=!1,no=t,Yp=s),i=t.pendingLanes,i===0&&(ho=null),E4(n.stateNode),ur(t,Gt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Qp)throw Qp=!1,t=Lw,Lw=null,t;return Yp&1&&t.tag!==0&&Bl(),i=t.pendingLanes,i&1?t===jw?Xu++:(Xu=0,jw=t):Xu=0,jo(),null}function Bl(){if(no!==null){var t=PI(Yp),e=Vr.transition,n=ht;try{if(Vr.transition=null,ht=16>t?16:t,no===null)var r=!1;else{if(t=no,no=null,Yp=0,ot&6)throw Error(X(331));var s=ot;for(ot|=4,fe=t.current;fe!==null;){var i=fe,o=i.child;if(fe.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(fe=c;fe!==null;){var u=fe;switch(u.tag){case 0:case 11:case 15:Qu(8,u,i)}var h=u.child;if(h!==null)h.return=u,fe=h;else for(;fe!==null;){u=fe;var p=u.sibling,g=u.return;if(VA(u),u===c){fe=null;break}if(p!==null){p.return=g,fe=p;break}fe=g}}}var w=i.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var E=y.sibling;y.sibling=null,y=E}while(y!==null)}}fe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,fe=o;else e:for(;fe!==null;){if(i=fe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Qu(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,fe=_;break e}fe=i.return}}var v=t.current;for(fe=v;fe!==null;){o=fe;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,fe=S;else e:for(o=v;fe!==null;){if(a=fe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xm(9,a)}}catch(A){Ut(a,a.return,A)}if(a===o){fe=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,fe=P;break e}fe=a.return}}if(ot=s,jo(),Ts&&typeof Ts.onPostCommitFiberRoot=="function")try{Ts.onPostCommitFiberRoot(zm,t)}catch{}r=!0}return r}finally{ht=n,Vr.transition=e}}return!1}function bb(t,e,n){e=gc(n,e),e=PA(t,e,1),t=uo(t,e,1),e=Xn(),t!==null&&(hh(t,1,e),ur(t,e))}function Ut(t,e,n){if(t.tag===3)bb(t,t,n);else for(;e!==null;){if(e.tag===3){bb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ho===null||!ho.has(r))){t=gc(n,t),t=RA(e,t,1),e=uo(e,t,1),t=Xn(),e!==null&&(hh(e,1,t),ur(e,t));break}}e=e.return}}function QB(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Xn(),t.pingedLanes|=t.suspendedLanes&n,fn===t&&(_n&n)===n&&(ln===4||ln===3&&(_n&130023424)===_n&&500>Gt()-X_?Sa(t,0):Y_|=n),ur(t,e)}function qA(t,e){e===0&&(t.mode&1?(e=mf,mf<<=1,!(mf&130023424)&&(mf=4194304)):e=1);var n=Xn();t=ci(t,e),t!==null&&(hh(t,e,n),ur(t,n))}function YB(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qA(t,n)}function XB(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(e),qA(t,n)}var QA;QA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||lr.current)or=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return or=!1,VB(t,e,n);or=!!(t.flags&131072)}else or=!1,It&&e.flags&1048576&&ZI(e,Bp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;sp(t,e),t=e.pendingProps;var s=hc(e,Fn.current);Ul(e,n),s=W_(null,e,r,t,s,n);var i=K_();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cr(r)?(i=!0,Fp(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,F_(e),s.updater=Ym,e.stateNode=s,s._reactInternals=e,bw(e,r,t,n),e=Rw(null,e,r,!0,i,n)):(e.tag=0,It&&i&&D_(e),Qn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(sp(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=ZB(r),t=qr(r,t),s){case 0:e=Pw(null,e,r,t,n);break e;case 1:e=mb(null,e,r,t,n);break e;case 11:e=fb(null,e,r,t,n);break e;case 14:e=pb(null,e,r,qr(r.type,t),n);break e}throw Error(X(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:qr(r,s),Pw(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:qr(r,s),mb(t,e,r,s,n);case 3:e:{if(DA(e),t===null)throw Error(X(387));r=e.pendingProps,i=e.memoizedState,s=i.element,iA(t,e),Wp(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=gc(Error(X(423)),e),e=gb(t,e,r,n,s);break e}else if(r!==s){s=gc(Error(X(424)),e),e=gb(t,e,r,n,s);break e}else for(yr=co(e.stateNode.containerInfo.firstChild),wr=e,It=!0,Jr=null,n=rA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fc(),r===s){e=ui(t,e,n);break e}Qn(t,e,r,n)}e=e.child}return e;case 5:return oA(e),t===null&&Ew(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,yw(r,s)?o=null:i!==null&&yw(r,i)&&(e.flags|=32),NA(t,e),Qn(t,e,o,n),e.child;case 6:return t===null&&Ew(e),null;case 13:return kA(t,e,n);case 4:return U_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=pc(e,null,r,n):Qn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:qr(r,s),fb(t,e,r,s,n);case 7:return Qn(t,e,e.pendingProps,n),e.child;case 8:return Qn(t,e,e.pendingProps.children,n),e.child;case 12:return Qn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,_t($p,r._currentValue),r._currentValue=o,i!==null)if(is(i.value,o)){if(i.children===s.children&&!lr.current){e=ui(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ei(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Tw(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(X(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Tw(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Qn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ul(e,n),s=Br(s),r=r(s),e.flags|=1,Qn(t,e,r,n),e.child;case 14:return r=e.type,s=qr(r,e.pendingProps),s=qr(r.type,s),pb(t,e,r,s,n);case 15:return IA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:qr(r,s),sp(t,e),e.tag=1,cr(r)?(t=!0,Fp(e)):t=!1,Ul(e,n),CA(e,r,s),bw(e,r,s,n),Rw(null,e,r,!0,t,n);case 19:return MA(t,e,n);case 22:return AA(t,e,n)}throw Error(X(156,e.tag))};function YA(t,e){return TI(t,e)}function JB(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(t,e,n,r){return new JB(t,e,n,r)}function tx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ZB(t){if(typeof t=="function")return tx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===__)return 11;if(t===x_)return 14}return 2}function po(t,e){var n=t.alternate;return n===null?(n=jr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ap(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")tx(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case vl:return ba(n.children,s,i,e);case w_:o=8,s|=8;break;case Qv:return t=jr(12,n,e,s|2),t.elementType=Qv,t.lanes=i,t;case Yv:return t=jr(13,n,e,s),t.elementType=Yv,t.lanes=i,t;case Xv:return t=jr(19,n,e,s),t.elementType=Xv,t.lanes=i,t;case oI:return Zm(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sI:o=10;break e;case iI:o=9;break e;case __:o=11;break e;case x_:o=14;break e;case ji:o=16,r=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=jr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ba(t,e,n,r){return t=jr(7,t,r,e),t.lanes=n,t}function Zm(t,e,n,r){return t=jr(22,t,r,e),t.elementType=oI,t.lanes=n,t.stateNode={isHidden:!1},t}function Qy(t,e,n){return t=jr(6,t,null,e),t.lanes=n,t}function Yy(t,e,n){return e=jr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function e$(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ay(0),this.expirationTimes=Ay(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ay(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function nx(t,e,n,r,s,i,o,a,l){return t=new e$(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=jr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},F_(i),t}function t$(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function XA(t){if(!t)return xo;t=t._reactInternals;e:{if(Ha(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(cr(n))return XI(t,n,e)}return e}function JA(t,e,n,r,s,i,o,a,l){return t=nx(n,r,!0,t,s,i,o,a,l),t.context=XA(null),n=t.current,r=Xn(),s=fo(n),i=ei(r,s),i.callback=e??null,uo(n,i,s),t.current.lanes=s,hh(t,s,r),ur(t,r),t}function eg(t,e,n,r){var s=e.current,i=Xn(),o=fo(s);return n=XA(n),e.context===null?e.context=n:e.pendingContext=n,e=ei(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=uo(s,e,o),t!==null&&(rs(t,s,o,i),tp(t,s,o)),o}function Jp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Cb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function rx(t,e){Cb(t,e),(t=t.alternate)&&Cb(t,e)}function n$(){return null}var ZA=typeof reportError=="function"?reportError:function(t){console.error(t)};function sx(t){this._internalRoot=t}tg.prototype.render=sx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));eg(t,e,null,null)};tg.prototype.unmount=sx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ka(function(){eg(null,t,null,null)}),e[li]=null}};function tg(t){this._internalRoot=t}tg.prototype.unstable_scheduleHydration=function(t){if(t){var e=AI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fi.length&&e!==0&&e<Fi[n].priority;n++);Fi.splice(n,0,t),n===0&&DI(t)}};function ix(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ng(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Pb(){}function r$(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Jp(o);i.call(c)}}var o=JA(e,r,t,0,null,!1,!1,"",Pb);return t._reactRootContainer=o,t[li]=o.current,_d(t.nodeType===8?t.parentNode:t),ka(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Jp(l);a.call(c)}}var l=nx(t,0,!1,null,null,!1,!1,"",Pb);return t._reactRootContainer=l,t[li]=l.current,_d(t.nodeType===8?t.parentNode:t),ka(function(){eg(e,l,n,r)}),l}function rg(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Jp(o);a.call(l)}}eg(e,o,t,s)}else o=r$(n,e,t,s,r);return Jp(o)}RI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Nu(e.pendingLanes);n!==0&&(S_(e,n|1),ur(e,Gt()),!(ot&6)&&(yc=Gt()+500,jo()))}break;case 13:ka(function(){var r=ci(t,1);if(r!==null){var s=Xn();rs(r,t,1,s)}}),rx(t,1)}};b_=function(t){if(t.tag===13){var e=ci(t,134217728);if(e!==null){var n=Xn();rs(e,t,134217728,n)}rx(t,134217728)}};II=function(t){if(t.tag===13){var e=fo(t),n=ci(t,e);if(n!==null){var r=Xn();rs(n,t,e,r)}rx(t,e)}};AI=function(){return ht};NI=function(t,e){var n=ht;try{return ht=t,e()}finally{ht=n}};aw=function(t,e,n){switch(e){case"input":if(ew(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Gm(r);if(!s)throw Error(X(90));lI(r),ew(r,s)}}}break;case"textarea":uI(t,n);break;case"select":e=n.value,e!=null&&Ll(t,!!n.multiple,e,!1)}};yI=J_;vI=ka;var s$={usingClientEntryPoint:!1,Events:[ph,El,Gm,mI,gI,J_]},yu={findFiberByHostInstance:ca,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},i$={bundleType:yu.bundleType,version:yu.version,rendererPackageName:yu.rendererPackageName,rendererConfig:yu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_i.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xI(t),t===null?null:t.stateNode},findFiberByHostInstance:yu.findFiberByHostInstance||n$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cf.isDisabled&&Cf.supportsFiber)try{zm=Cf.inject(i$),Ts=Cf}catch{}}Sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s$;Sr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ix(e))throw Error(X(200));return t$(t,e,null,n)};Sr.createRoot=function(t,e){if(!ix(t))throw Error(X(299));var n=!1,r="",s=ZA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=nx(t,1,!1,null,null,n,!1,r,s),t[li]=e.current,_d(t.nodeType===8?t.parentNode:t),new sx(e)};Sr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=xI(e),t=t===null?null:t.stateNode,t};Sr.flushSync=function(t){return ka(t)};Sr.hydrate=function(t,e,n){if(!ng(e))throw Error(X(200));return rg(null,t,e,!0,n)};Sr.hydrateRoot=function(t,e,n){if(!ix(t))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=ZA;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=JA(e,null,t,1,n??null,s,!1,i,o),t[li]=e.current,_d(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new tg(e)};Sr.render=function(t,e,n){if(!ng(e))throw Error(X(200));return rg(null,t,e,!1,n)};Sr.unmountComponentAtNode=function(t){if(!ng(t))throw Error(X(40));return t._reactRootContainer?(ka(function(){rg(null,null,t,!1,function(){t._reactRootContainer=null,t[li]=null})}),!0):!1};Sr.unstable_batchedUpdates=J_;Sr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ng(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return rg(t,e,n,!1,r)};Sr.version="18.3.1-next-f1338f8080-20240426";function eN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eN)}catch(t){console.error(t)}}eN(),eI.exports=Sr;var xi=eI.exports;const gh=d_(xi),o$=B1({__proto__:null,default:gh},[xi]);var Rb=xi;Gv.createRoot=Rb.createRoot,Gv.hydrateRoot=Rb.hydrateRoot;var Ib={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},a$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},nN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(n[u],n[h],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):a$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new l$;const p=i<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),h!==64){const w=c<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class l$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c$=function(t){const e=tN(t);return nN.encodeByteArray(e,!0)},Zp=function(t){return c$(t).replace(/\./g,"")},rN=function(t){try{return nN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d$=()=>u$().__FIREBASE_DEFAULTS__,h$=()=>{if(typeof process>"u"||typeof Ib>"u")return;const t=Ib.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},f$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rN(t[1]);return e&&JSON.parse(e)},sg=()=>{try{return d$()||h$()||f$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sN=t=>{var e,n;return(n=(e=sg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},iN=t=>{const e=sN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},oN=()=>{var t;return(t=sg())===null||t===void 0?void 0:t.config},aN=t=>{var e;return(e=sg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p$=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zp(JSON.stringify(n)),Zp(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function m$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Un())}function g$(){var t;const e=(t=sg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function y$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function v$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function w$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _$(){const t=Un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function x$(){return!g$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function E$(){try{return typeof indexedDB=="object"}catch{return!1}}function T$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$="FirebaseError";class Os extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=S$,Object.setPrototypeOf(this,Os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yh.prototype.create)}}class yh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?b$(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Os(s,a,r)}}function b$(t,e){return t.replace(C$,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const C$=/\{\$([^}]+)}/g;function P$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function em(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Ab(i)&&Ab(o)){if(!em(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Ab(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function R$(t,e){const n=new I$(t,e);return n.subscribe.bind(n)}class I${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");A$(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Xy),s.error===void 0&&(s.error=Xy),s.complete===void 0&&(s.complete=Xy);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function A$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(t){return t&&t._delegate?t._delegate:t}class Eo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N$=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new p$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(k$(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:D$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function D$(t){return t===sa?void 0:t}function k$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new N$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const O$={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},L$=Ze.INFO,j$={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},V$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=j$[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ox{constructor(e){this.name=e,this._logLevel=L$,this._logHandler=V$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?O$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const F$=(t,e)=>e.some(n=>t instanceof n);let Nb,Db;function U$(){return Nb||(Nb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function B$(){return Db||(Db=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cN=new WeakMap,Uw=new WeakMap,uN=new WeakMap,Jy=new WeakMap,ax=new WeakMap;function $$(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(mo(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&cN.set(n,t)}).catch(()=>{}),ax.set(e,t),e}function z$(t){if(Uw.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Uw.set(t,e)}let Bw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Uw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function W$(t){Bw=t(Bw)}function K$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Zy(this),e,...n);return uN.set(r,e.sort?e.sort():[e]),mo(r)}:B$().includes(t)?function(...e){return t.apply(Zy(this),e),mo(cN.get(this))}:function(...e){return mo(t.apply(Zy(this),e))}}function H$(t){return typeof t=="function"?K$(t):(t instanceof IDBTransaction&&z$(t),F$(t,U$())?new Proxy(t,Bw):t)}function mo(t){if(t instanceof IDBRequest)return $$(t);if(Jy.has(t))return Jy.get(t);const e=H$(t);return e!==t&&(Jy.set(t,e),ax.set(e,t)),e}const Zy=t=>ax.get(t);function G$(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=mo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(mo(o.result),l.oldVersion,l.newVersion,mo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const q$=["get","getKey","getAll","getAllKeys","count"],Q$=["put","add","delete","clear"],ev=new Map;function kb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ev.get(e))return ev.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Q$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||q$.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return ev.set(e,i),i}W$(t=>({...t,get:(e,n,r)=>kb(e,n)||t.get(e,n,r),has:(e,n)=>!!kb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(X$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function X$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $w="@firebase/app",Mb="0.10.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=new ox("@firebase/app"),J$="@firebase/app-compat",Z$="@firebase/analytics-compat",e3="@firebase/analytics",t3="@firebase/app-check-compat",n3="@firebase/app-check",r3="@firebase/auth",s3="@firebase/auth-compat",i3="@firebase/database",o3="@firebase/database-compat",a3="@firebase/functions",l3="@firebase/functions-compat",c3="@firebase/installations",u3="@firebase/installations-compat",d3="@firebase/messaging",h3="@firebase/messaging-compat",f3="@firebase/performance",p3="@firebase/performance-compat",m3="@firebase/remote-config",g3="@firebase/remote-config-compat",y3="@firebase/storage",v3="@firebase/storage-compat",w3="@firebase/firestore",_3="@firebase/vertexai-preview",x3="@firebase/firestore-compat",E3="firebase",T3="10.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="[DEFAULT]",S3={[$w]:"fire-core",[J$]:"fire-core-compat",[e3]:"fire-analytics",[Z$]:"fire-analytics-compat",[n3]:"fire-app-check",[t3]:"fire-app-check-compat",[r3]:"fire-auth",[s3]:"fire-auth-compat",[i3]:"fire-rtdb",[o3]:"fire-rtdb-compat",[a3]:"fire-fn",[l3]:"fire-fn-compat",[c3]:"fire-iid",[u3]:"fire-iid-compat",[d3]:"fire-fcm",[h3]:"fire-fcm-compat",[f3]:"fire-perf",[p3]:"fire-perf-compat",[m3]:"fire-rc",[g3]:"fire-rc-compat",[y3]:"fire-gcs",[v3]:"fire-gcs-compat",[w3]:"fire-fst",[x3]:"fire-fst-compat",[_3]:"fire-vertex","fire-js":"fire-js",[E3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=new Map,b3=new Map,Ww=new Map;function Ob(t,e){try{t.container.addComponent(e)}catch(n){di.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ma(t){const e=t.name;if(Ww.has(e))return di.debug(`There were multiple attempts to register component ${e}.`),!1;Ww.set(e,t);for(const n of tm.values())Ob(n,t);for(const n of b3.values())Ob(n,t);return!0}function ig(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gs(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},go=new yh("app","Firebase",C3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw go.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga=T3;function dN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:zw,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw go.create("bad-app-name",{appName:String(s)});if(n||(n=oN()),!n)throw go.create("no-options");const i=tm.get(s);if(i){if(em(n,i.options)&&em(r,i.config))return i;throw go.create("duplicate-app",{appName:s})}const o=new M$(s);for(const l of Ww.values())o.addComponent(l);const a=new P3(n,r,o);return tm.set(s,a),a}function lx(t=zw){const e=tm.get(t);if(!e&&t===zw&&oN())return dN();if(!e)throw go.create("no-app",{appName:t});return e}function bs(t,e,n){var r;let s=(r=S3[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),di.warn(a.join(" "));return}Ma(new Eo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3="firebase-heartbeat-database",I3=1,Id="firebase-heartbeat-store";let tv=null;function hN(){return tv||(tv=G$(R3,I3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Id)}catch(n){console.warn(n)}}}}).catch(t=>{throw go.create("idb-open",{originalErrorMessage:t.message})})),tv}async function A3(t){try{const n=(await hN()).transaction(Id),r=await n.objectStore(Id).get(fN(t));return await n.done,r}catch(e){if(e instanceof Os)di.warn(e.message);else{const n=go.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});di.warn(n.message)}}}async function Lb(t,e){try{const r=(await hN()).transaction(Id,"readwrite");await r.objectStore(Id).put(e,fN(t)),await r.done}catch(n){if(n instanceof Os)di.warn(n.message);else{const r=go.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});di.warn(r.message)}}}function fN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3=1024,D3=30*24*60*60*1e3;class k3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new O3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=jb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=D3}),this._storage.overwrite(this._heartbeatsCache))}catch(r){di.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=jb(),{heartbeatsToSend:r,unsentEntries:s}=M3(this._heartbeatsCache.heartbeats),i=Zp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return di.warn(n),""}}}function jb(){return new Date().toISOString().substring(0,10)}function M3(t,e=N3){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Vb(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Vb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class O3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return E$()?T$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await A3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Lb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Lb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Vb(t){return Zp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(t){Ma(new Eo("platform-logger",e=>new Y$(e),"PRIVATE")),Ma(new Eo("heartbeat",e=>new k3(e),"PRIVATE")),bs($w,Mb,t),bs($w,Mb,"esm2017"),bs("fire-js","")}L3("");var _s=function(){return _s=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_s.apply(this,arguments)};function wh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function j3(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function pN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const V3=pN,mN=new yh("auth","Firebase",pN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm=new ox("@firebase/auth");function F3(t,...e){nm.logLevel<=Ze.WARN&&nm.warn(`Auth (${Ga}): ${t}`,...e)}function lp(t,...e){nm.logLevel<=Ze.ERROR&&nm.error(`Auth (${Ga}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(t,...e){throw cx(t,...e)}function Cs(t,...e){return cx(t,...e)}function gN(t,e,n){const r=Object.assign(Object.assign({},V3()),{[e]:n});return new yh("auth","Firebase",r).create(e,{appName:t.name})}function yo(t){return gN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return mN.create(t,...e)}function Ie(t,e,...n){if(!t)throw cx(e,...n)}function qs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw lp(e),new Error(e)}function fi(t,e){t||qs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function U3(){return Fb()==="http:"||Fb()==="https:"}function Fb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(U3()||v$()||"connection"in navigator)?navigator.onLine:!0}function $3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n){this.shortDelay=e,this.longDelay=n,fi(n>e,"Short delay should be less than long delay!"),this.isMobile=m$()||w$()}get(){return B3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(t,e){fi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3=new _h(3e4,6e4);function og(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Lc(t,e,n,r,s={}){return vN(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=vh(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return y$()||(c.referrerPolicy="no-referrer"),yN.fetch()(_N(t,t.config.apiHost,n,a),c)})}async function vN(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},z3),e);try{const s=new K3(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Pf(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pf(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Pf(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Pf(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw gN(t,u,c);hi(t,u)}}catch(s){if(s instanceof Os)throw s;hi(t,"network-request-failed",{message:String(s)})}}async function wN(t,e,n,r,s={}){const i=await Lc(t,e,n,r,s);return"mfaPendingCredential"in i&&hi(t,"multi-factor-auth-required",{_serverResponse:i}),i}function _N(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?ux(t.config,s):`${t.config.apiScheme}://${s}`}class K3{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Cs(this.auth,"network-request-failed")),W3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Cs(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H3(t,e){return Lc(t,"POST","/v1/accounts:delete",e)}async function xN(t,e){return Lc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function G3(t,e=!1){const n=Tn(t),r=await n.getIdToken(e),s=dx(r);Ie(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ju(nv(s.auth_time)),issuedAtTime:Ju(nv(s.iat)),expirationTime:Ju(nv(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function nv(t){return Number(t)*1e3}function dx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return lp("JWT malformed, contained fewer than 3 sections"),null;try{const s=rN(n);return s?JSON.parse(s):(lp("Failed to decode base64 JWT payload"),null)}catch(s){return lp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Ub(t){const e=dx(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ad(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Os&&q3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function q3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ju(this.lastLoginAt),this.creationTime=Ju(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rm(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Ad(t,xN(n,{idToken:r}));Ie(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?EN(i.providerUserInfo):[],a=X3(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Hw(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function Y3(t){const e=Tn(t);await rm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function X3(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function EN(t){return t.map(e=>{var{providerId:n}=e,r=wh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J3(t,e){const n=await vN(t,{},async()=>{const r=vh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=_N(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",yN.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Z3(t,e){return Lc(t,"POST","/v2/accounts:revokeToken",og(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ub(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const n=Ub(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await J3(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new $l;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Ie(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Ie(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $l,this.toJSON())}_performRefresh(){return qs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Qs{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=wh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Q3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Hw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ad(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return G3(this,e)}reload(){return Y3(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await rm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gs(this.auth.app))return Promise.reject(yo(this.auth));const e=await this.getIdToken();return await Ad(this,H3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:S,emailVerified:P,isAnonymous:A,providerData:O,stsTokenManager:C}=n;Ie(S&&C,e,"internal-error");const T=$l.fromJSON(this.name,C);Ie(typeof S=="string",e,"internal-error"),Ai(h,e.name),Ai(p,e.name),Ie(typeof P=="boolean",e,"internal-error"),Ie(typeof A=="boolean",e,"internal-error"),Ai(g,e.name),Ai(w,e.name),Ai(y,e.name),Ai(E,e.name),Ai(_,e.name),Ai(v,e.name);const R=new Qs({uid:S,auth:e,email:p,emailVerified:P,displayName:h,isAnonymous:A,photoURL:w,phoneNumber:g,tenantId:y,stsTokenManager:T,createdAt:_,lastLoginAt:v});return O&&Array.isArray(O)&&(R.providerData=O.map(I=>Object.assign({},I))),E&&(R._redirectEventId=E),R}static async _fromIdTokenResponse(e,n,r=!1){const s=new $l;s.updateFromServerResponse(n);const i=new Qs({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await rm(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ie(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?EN(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new $l;a.updateFromIdToken(r);const l=new Qs({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Hw(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=new Map;function Ys(t){fi(t instanceof Function,"Expected a class definition");let e=Bb.get(t);return e?(fi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Bb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}TN.type="NONE";const $b=TN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(t,e,n){return`firebase:${t}:${e}:${n}`}class zl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=cp(this.userKey,s.apiKey,i),this.fullPersistenceKey=cp("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Qs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new zl(Ys($b),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Ys($b);const o=cp(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=Qs._fromJSON(e,u);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new zl(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new zl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IN(e))return"Blackberry";if(AN(e))return"Webos";if(bN(e))return"Safari";if((e.includes("chrome/")||CN(e))&&!e.includes("edge/"))return"Chrome";if(RN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function SN(t=Un()){return/firefox\//i.test(t)}function bN(t=Un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CN(t=Un()){return/crios\//i.test(t)}function PN(t=Un()){return/iemobile/i.test(t)}function RN(t=Un()){return/android/i.test(t)}function IN(t=Un()){return/blackberry/i.test(t)}function AN(t=Un()){return/webos/i.test(t)}function hx(t=Un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function e5(t=Un()){var e;return hx(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function t5(){return _$()&&document.documentMode===10}function NN(t=Un()){return hx(t)||RN(t)||AN(t)||IN(t)||/windows phone/i.test(t)||PN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(t,e=[]){let n;switch(t){case"Browser":n=zb(Un());break;case"Worker":n=`${zb(Un())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ga}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r5(t,e={}){return Lc(t,"GET","/v2/passwordPolicy",og(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5=6;class i5{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:s5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wb(this),this.idTokenSubscription=new Wb(this),this.beforeStateQueue=new n5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ys(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await zl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xN(this,{idToken:e}),r=await Qs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Gs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await rm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gs(this.app))return Promise.reject(yo(this));const n=e?Tn(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gs(this.app)?Promise.reject(yo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gs(this.app)?Promise.reject(yo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await r5(this),n=new i5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new yh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Z3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ys(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=await zl.create(this,[Ys(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&F3(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ag(t){return Tn(t)}class Wb{constructor(e){this.auth=e,this.observer=null,this.addObserver=R$(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function a5(t){fx=t}function l5(t){return fx.loadJS(t)}function c5(){return fx.gapiScript}function u5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(t,e){const n=ig(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(em(i,e??{}))return s;hi(s,"already-initialized")}return n.initialize({options:e})}function h5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ys);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function f5(t,e,n){const r=ag(t);Ie(r._canInitEmulator,r,"emulator-config-failed"),Ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=kN(e),{host:o,port:a}=p5(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),m5()}function kN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function p5(t){const e=kN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Kb(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Kb(o)}}}function Kb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function m5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qs("not implemented")}_getIdTokenResponse(e){return qs("not implemented")}_linkToIdToken(e,n){return qs("not implemented")}_getReauthenticationResolver(e){return qs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wl(t,e){return wN(t,"POST","/v1/accounts:signInWithIdp",og(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5="http://localhost";class Oa extends MN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=wh(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Oa(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Wl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Wl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Wl(e,n)}buildRequest(){const e={requestUri:g5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh extends ON{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends xh{constructor(){super("facebook.com")}static credential(e){return Oa._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends xh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Oa._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return $i.credential(n,r)}catch{return null}}}$i.GOOGLE_SIGN_IN_METHOD="google.com";$i.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends xh{constructor(){super("github.com")}static credential(e){return Oa._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.GITHUB_SIGN_IN_METHOD="github.com";zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends xh{constructor(){super("twitter.com")}static credential(e,n){return Oa._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Wi.credential(n,r)}catch{return null}}}Wi.TWITTER_SIGN_IN_METHOD="twitter.com";Wi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y5(t,e){return wN(t,"POST","/v1/accounts:signUp",og(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Qs._fromIdTokenResponse(e,r,s),o=Hb(r);return new To({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Hb(r);return new To({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Hb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v5(t){var e;if(Gs(t.app))return Promise.reject(yo(t));const n=ag(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new To({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await y5(n,{returnSecureToken:!0}),s=await To._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm extends Os{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,sm.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new sm(e,n,r,s)}}function LN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?sm._fromErrorAndOperation(t,i,e,r):i})}async function w5(t,e,n=!1){const r=await Ad(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return To._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _5(t,e,n=!1){const{auth:r}=t;if(Gs(r.app))return Promise.reject(yo(r));const s="reauthenticate";try{const i=await Ad(t,LN(r,s,e,t),n);Ie(i.idToken,r,"internal-error");const o=dx(i.idToken);Ie(o,r,"internal-error");const{sub:a}=o;return Ie(t.uid===a,r,"user-mismatch"),To._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&hi(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x5(t,e,n=!1){if(Gs(t.app))return Promise.reject(yo(t));const r="signIn",s=await LN(t,r,e),i=await To._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function E5(t,e,n,r){return Tn(t).onIdTokenChanged(e,n,r)}function T5(t,e,n){return Tn(t).beforeAuthStateChanged(e,n)}const im="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(im,"1"),this.storage.removeItem(im),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5=1e3,b5=10;class VN extends jN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);t5()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,b5):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},S5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}VN.type="LOCAL";const C5=VN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN extends jN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}FN.type="SESSION";const UN=FN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new lg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await P5(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=px("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(){return window}function I5(t){Ps().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(){return typeof Ps().WorkerGlobalScope<"u"&&typeof Ps().importScripts=="function"}async function A5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function N5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function D5(){return BN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N="firebaseLocalStorageDb",k5=1,om="firebaseLocalStorage",zN="fbase_key";class Eh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cg(t,e){return t.transaction([om],e?"readwrite":"readonly").objectStore(om)}function M5(){const t=indexedDB.deleteDatabase($N);return new Eh(t).toPromise()}function Gw(){const t=indexedDB.open($N,k5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(om,{keyPath:zN})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(om)?e(r):(r.close(),await M5(),e(await Gw()))})})}async function Gb(t,e,n){const r=cg(t,!0).put({[zN]:e,value:n});return new Eh(r).toPromise()}async function O5(t,e){const n=cg(t,!1).get(e),r=await new Eh(n).toPromise();return r===void 0?null:r.value}function qb(t,e){const n=cg(t,!0).delete(e);return new Eh(n).toPromise()}const L5=800,j5=3;class WN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>j5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lg._getInstance(D5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await A5(),!this.activeServiceWorker)return;this.sender=new R5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||N5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gw();return await Gb(e,im,"1"),await qb(e,im),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Gb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>O5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>qb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=cg(s,!1).getAll();return new Eh(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),L5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WN.type="LOCAL";const V5=WN;new _h(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(t,e){return e?Ys(e):(Ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx extends MN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Wl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Wl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function U5(t){return x5(t.auth,new mx(t),t.bypassAuthState)}function B5(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),_5(n,new mx(t),t.bypassAuthState)}async function $5(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),w5(n,new mx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return U5;case"linkViaPopup":case"linkViaRedirect":return $5;case"reauthViaPopup":case"reauthViaRedirect":return B5;default:hi(this.auth,"internal-error")}}resolve(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5=new _h(2e3,1e4);class Il extends KN{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Il.currentPopupAction&&Il.currentPopupAction.cancel(),Il.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){fi(this.filter.length===1,"Popup operations only handle one event");const e=px();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Cs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Il.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,z5.get())};e()}}Il.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5="pendingRedirect",up=new Map;class K5 extends KN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=up.get(this.auth._key());if(!e){try{const r=await H5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}up.set(this.auth._key(),e)}return this.bypassAuthState||up.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function H5(t,e){const n=Q5(e),r=q5(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function G5(t,e){up.set(t._key(),e)}function q5(t){return Ys(t._redirectPersistence)}function Q5(t){return cp(W5,t.config.apiKey,t.name)}async function Y5(t,e,n=!1){if(Gs(t.app))return Promise.reject(yo(t));const r=ag(t),s=F5(r,e),o=await new K5(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5=10*60*1e3;class J5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Z5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!HN(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Cs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=X5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qb(e))}saveEventToCache(e){this.cachedEventUids.add(Qb(e)),this.lastProcessedEventTime=Date.now()}}function Qb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function HN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Z5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ez(t,e={}){return Lc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nz=/^https?/;async function rz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ez(t);for(const n of e)try{if(sz(n))return}catch{}hi(t,"unauthorized-domain")}function sz(t){const e=Kw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!nz.test(n))return!1;if(tz.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iz=new _h(3e4,6e4);function Yb(){const t=Ps().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function oz(t){return new Promise((e,n)=>{var r,s,i;function o(){Yb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Yb(),n(Cs(t,"network-request-failed"))},timeout:iz.get()})}if(!((s=(r=Ps().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Ps().gapi)===null||i===void 0)&&i.load)o();else{const a=u5("iframefcb");return Ps()[a]=()=>{gapi.load?o():n(Cs(t,"network-request-failed"))},l5(`${c5()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw dp=null,e})}let dp=null;function az(t){return dp=dp||oz(t),dp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lz=new _h(5e3,15e3),cz="__/auth/iframe",uz="emulator/auth/iframe",dz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fz(t){const e=t.config;Ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ux(e,uz):`https://${t.config.authDomain}/${cz}`,r={apiKey:e.apiKey,appName:t.name,v:Ga},s=hz.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${vh(r).slice(1)}`}async function pz(t){const e=await az(t),n=Ps().gapi;return Ie(n,t,"internal-error"),e.open({where:document.body,url:fz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dz,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Cs(t,"network-request-failed"),a=Ps().setTimeout(()=>{i(o)},lz.get());function l(){Ps().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gz=500,yz=600,vz="_blank",wz="http://localhost";class Xb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _z(t,e,n,r=gz,s=yz){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},mz),{width:r.toString(),height:s.toString(),top:i,left:o}),c=Un().toLowerCase();n&&(a=CN(c)?vz:n),SN(c)&&(e=e||wz,l.scrollbars="yes");const u=Object.entries(l).reduce((p,[g,w])=>`${p}${g}=${w},`,"");if(e5(c)&&a!=="_self")return xz(e||"",a),new Xb(null);const h=window.open(e||"",a,u);Ie(h,t,"popup-blocked");try{h.focus()}catch{}return new Xb(h)}function xz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez="__/auth/handler",Tz="emulator/auth/handler",Sz=encodeURIComponent("fac");async function Jb(t,e,n,r,s,i){Ie(t.config.authDomain,t,"auth-domain-config-required"),Ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ga,eventId:s};if(e instanceof ON){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",P$(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))o[u]=h}if(e instanceof xh){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${Sz}=${encodeURIComponent(l)}`:"";return`${bz(t)}?${vh(a).slice(1)}${c}`}function bz({config:t}){return t.emulator?ux(t,Tz):`https://${t.authDomain}/${Ez}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="webStorageSupport";class Cz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UN,this._completeRedirectFn=Y5,this._overrideRedirectResult=G5}async _openPopup(e,n,r,s){var i;fi((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Jb(e,n,r,Kw(),s);return _z(e,o,px())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Jb(e,n,r,Kw(),s);return I5(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(fi(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await pz(e),r=new J5(e);return n.register("authEvent",s=>(Ie(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(rv,{type:rv},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[rv];o!==void 0&&n(!!o),hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return NN()||bN()||hx()}}const Pz=Cz;var Zb="@firebase/auth",eC="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Az(t){Ma(new Eo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DN(t)},c=new o5(r,s,i,l);return h5(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ma(new Eo("auth-internal",e=>{const n=ag(e.getProvider("auth").getImmediate());return(r=>new Rz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bs(Zb,eC,Iz(t)),bs(Zb,eC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nz=5*60,Dz=aN("authIdTokenMaxAge")||Nz;let tC=null;const kz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Dz)return;const s=n==null?void 0:n.token;tC!==s&&(tC=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Mz(t=lx()){const e=ig(t,"auth");if(e.isInitialized())return e.getImmediate();const n=d5(t,{popupRedirectResolver:Pz,persistence:[V5,C5,UN]}),r=aN("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=kz(i.toString());T5(n,o,()=>o(n.currentUser)),E5(n,a=>o(a))}}const s=sN("auth");return s&&f5(n,`http://${s}`),n}function Oz(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}a5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Cs("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Oz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Az("Browser");const rn=(t,e=!1)=>{};var Lz={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"production",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://chatbot-api-0zup.onrender.com",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",BASE_URL:"/admin",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const nC=t=>{let e;const n=new Set,r=(u,h)=>{const p=typeof u=="function"?u(e):u;if(!Object.is(p,e)){const g=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(w=>w(e,g))}},s=()=>e,l={setState:r,getState:s,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(Lz?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,s,l);return l},jz=t=>t?nC(t):nC;var GN={exports:{}},qN={},QN={exports:{}},YN={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vc=m;function Vz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fz=typeof Object.is=="function"?Object.is:Vz,Uz=vc.useState,Bz=vc.useEffect,$z=vc.useLayoutEffect,zz=vc.useDebugValue;function Wz(t,e){var n=e(),r=Uz({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return $z(function(){s.value=n,s.getSnapshot=e,sv(s)&&i({inst:s})},[t,n,e]),Bz(function(){return sv(s)&&i({inst:s}),t(function(){sv(s)&&i({inst:s})})},[t]),zz(n),n}function sv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Fz(t,n)}catch{return!0}}function Kz(t,e){return e()}var Hz=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Kz:Wz;YN.useSyncExternalStore=vc.useSyncExternalStore!==void 0?vc.useSyncExternalStore:Hz;QN.exports=YN;var Gz=QN.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ug=m,qz=Gz;function Qz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yz=typeof Object.is=="function"?Object.is:Qz,Xz=qz.useSyncExternalStore,Jz=ug.useRef,Zz=ug.useEffect,e9=ug.useMemo,t9=ug.useDebugValue;qN.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=Jz(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=e9(function(){function l(g){if(!c){if(c=!0,u=g,g=r(g),s!==void 0&&o.hasValue){var w=o.value;if(s(w,g))return h=w}return h=g}if(w=h,Yz(u,g))return w;var y=r(g);return s!==void 0&&s(w,y)?w:(u=g,h=y)}var c=!1,u,h,p=n===void 0?null:n;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,n,r,s]);var a=Xz(t,i[0],i[1]);return Zz(function(){o.hasValue=!0,o.value=a},[a]),t9(a),a};GN.exports=qN;var n9=GN.exports;const r9=d_(n9);var XN={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"production",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://chatbot-api-0zup.onrender.com",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",BASE_URL:"/admin",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:s9}=ze,{useSyncExternalStoreWithSelector:i9}=r9;let rC=!1;const o9=t=>t;function a9(t,e=o9,n){(XN?"production":void 0)!=="production"&&n&&!rC&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),rC=!0);const r=i9(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return s9(r),r}const sC=t=>{(XN?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?jz(t):t,n=(r,s)=>a9(e,r,s);return Object.assign(n,e),n},Vo=t=>t?sC(t):sC;var l9={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"production",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://chatbot-api-0zup.onrender.com",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",BASE_URL:"/admin",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function JN(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const o=l=>l===null?null:JSON.parse(l,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const Nd=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Nd(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Nd(r)(n)}}}},c9=(t,e)=>(n,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:E=>E,version:0,merge:(E,_)=>({..._,...E}),...e},o=!1;const a=new Set,l=new Set;let c;try{c=i.getStorage()}catch{}if(!c)return t((...E)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...E)},r,s);const u=Nd(i.serialize),h=()=>{const E=i.partialize({...r()});let _;const v=u({state:E,version:i.version}).then(S=>c.setItem(i.name,S)).catch(S=>{_=S});if(_)throw _;return v},p=s.setState;s.setState=(E,_)=>{p(E,_),h()};const g=t((...E)=>{n(...E),h()},r,s);let w;const y=()=>{var E;if(!c)return;o=!1,a.forEach(v=>v(r()));const _=((E=i.onRehydrateStorage)==null?void 0:E.call(i,r()))||void 0;return Nd(c.getItem.bind(c))(i.name).then(v=>{if(v)return i.deserialize(v)}).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==i.version){if(i.migrate)return i.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var S;return w=i.merge(v,(S=r())!=null?S:g),n(w,!0),h()}).then(()=>{_==null||_(w,void 0),o=!0,l.forEach(v=>v(w))}).catch(v=>{_==null||_(void 0,v)})};return s.persist={setOptions:E=>{i={...i,...E},E.getStorage&&(c=E.getStorage())},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:E=>(a.add(E),()=>{a.delete(E)}),onFinishHydration:E=>(l.add(E),()=>{l.delete(E)})},y(),w||g},u9=(t,e)=>(n,r,s)=>{let i={storage:JN(()=>localStorage),partialize:y=>y,version:0,merge:(y,E)=>({...E,...y}),...e},o=!1;const a=new Set,l=new Set;let c=i.storage;if(!c)return t((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...y)},r,s);const u=()=>{const y=i.partialize({...r()});return c.setItem(i.name,{state:y,version:i.version})},h=s.setState;s.setState=(y,E)=>{h(y,E),u()};const p=t((...y)=>{n(...y),u()},r,s);s.getInitialState=()=>p;let g;const w=()=>{var y,E;if(!c)return;o=!1,a.forEach(v=>{var S;return v((S=r())!=null?S:p)});const _=((E=i.onRehydrateStorage)==null?void 0:E.call(i,(y=r())!=null?y:p))||void 0;return Nd(c.getItem.bind(c))(i.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==i.version){if(i.migrate)return[!0,i.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var S;const[P,A]=v;if(g=i.merge(A,(S=r())!=null?S:p),n(g,!0),P)return u()}).then(()=>{_==null||_(g,void 0),g=r(),o=!0,l.forEach(v=>v(g))}).catch(v=>{_==null||_(void 0,v)})};return s.persist={setOptions:y=>{i={...i,...y},y.storage&&(c=y.storage)},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:y=>(a.add(y),()=>{a.delete(y)}),onFinishHydration:y=>(l.add(y),()=>{l.delete(y)})},i.skipHydration||w(),g||p},d9=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((l9?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),c9(t,e)):u9(t,e),h9=d9,wc=Vo()(h9(t=>({isAuth:!1,accessToken:null,setAccessToken:e=>t({accessToken:e}),login:e=>t({isAuth:!0,accessToken:e}),logout:()=>t({isAuth:!1,accessToken:null})}),{name:"auth-storage",storage:JN(()=>sessionStorage)}));/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nt(){return Nt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nt.apply(this,arguments)}var Zt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Zt||(Zt={}));const iC="popstate";function f9(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Dd("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:La(s)}return m9(e,n,null,t)}function We(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _c(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function p9(){return Math.random().toString(36).substr(2,8)}function oC(t,e){return{usr:t.state,key:t.key,idx:e}}function Dd(t,e,n,r){return n===void 0&&(n=null),Nt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Fo(e):e,{state:n,key:e&&e.key||r||p9()})}function La(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Fo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function m9(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Zt.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Nt({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=Zt.Pop;let E=u(),_=E==null?null:E-c;c=E,l&&l({action:a,location:y.location,delta:_})}function p(E,_){a=Zt.Push;let v=Dd(y.location,E,_);c=u()+1;let S=oC(v,c),P=y.createHref(v);try{o.pushState(S,"",P)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;s.location.assign(P)}i&&l&&l({action:a,location:y.location,delta:1})}function g(E,_){a=Zt.Replace;let v=Dd(y.location,E,_);c=u();let S=oC(v,c),P=y.createHref(v);o.replaceState(S,"",P),i&&l&&l({action:a,location:y.location,delta:0})}function w(E){let _=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof E=="string"?E:La(E);return v=v.replace(/ $/,"%20"),We(_,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,_)}let y={get action(){return a},get location(){return t(s,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(iC,h),l=E,()=>{s.removeEventListener(iC,h),l=null}},createHref(E){return e(s,E)},createURL:w,encodeLocation(E){let _=w(E);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:g,go(E){return o.go(E)}};return y}var pt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(pt||(pt={}));const g9=new Set(["lazy","caseSensitive","path","id","index","children"]);function y9(t){return t.index===!0}function kd(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((s,i)=>{let o=[...n,String(i)],a=typeof s.id=="string"?s.id:o.join("-");if(We(s.index!==!0||!s.children,"Cannot specify children on an index route"),We(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),y9(s)){let l=Nt({},s,e(s),{id:a});return r[a]=l,l}else{let l=Nt({},s,e(s),{id:a,children:void 0});return r[a]=l,s.children&&(l.children=kd(s.children,e,o,r)),l}})}function aa(t,e,n){return n===void 0&&(n="/"),hp(t,e,n,!1)}function hp(t,e,n,r){let s=typeof e=="string"?Fo(e):e,i=jc(s.pathname||"/",n);if(i==null)return null;let o=ZN(t);w9(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=A9(i);a=R9(o[l],c,r)}return a}function v9(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],handle:n.handle}}function ZN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(We(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ti([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(We(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ZN(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:C9(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of eD(i.path))s(i,o,l)}),e}function eD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=eD(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function w9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:P9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const _9=/^:[\w-]+$/,x9=3,E9=2,T9=1,S9=10,b9=-2,aC=t=>t==="*";function C9(t,e){let n=t.split("/"),r=n.length;return n.some(aC)&&(r+=b9),e&&(r+=E9),n.filter(s=>!aC(s)).reduce((s,i)=>s+(_9.test(i)?x9:i===""?T9:S9),r)}function P9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function R9(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=lC({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=lC({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:ti([i,h.pathname]),pathnameBase:k9(ti([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=ti([i,h.pathnameBase]))}return o}function lC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=I9(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:p,isOptional:g}=u;if(p==="*"){let y=a[h]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const w=a[h];return g&&!w?c[p]=void 0:c[p]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function I9(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),_c(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function A9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _c(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function jc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function N9(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Fo(t):t;return{pathname:n?n.startsWith("/")?n:D9(n,e):e,search:M9(r),hash:O9(s)}}function D9(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function iv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function dg(t,e){let n=tD(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function hg(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Fo(t):(s=Nt({},t),We(!s.pathname||!s.pathname.includes("?"),iv("?","pathname","search",s)),We(!s.pathname||!s.pathname.includes("#"),iv("#","pathname","hash",s)),We(!s.search||!s.search.includes("#"),iv("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=N9(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const ti=t=>t.join("/").replace(/\/\/+/g,"/"),k9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),M9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,O9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class am{constructor(e,n,r,s){s===void 0&&(s=!1),this.status=e,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Th(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const nD=["post","put","patch","delete"],L9=new Set(nD),j9=["get",...nD],V9=new Set(j9),F9=new Set([301,302,303,307,308]),U9=new Set([307,308]),ov={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},B9={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},vu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},gx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$9=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),rD="remix-router-transitions";function z9(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;We(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let j=t.detectErrorBoundary;s=F=>({hasErrorBoundary:j(F)})}else s=$9;let i={},o=kd(t.routes,s,void 0,i),a,l=t.basename||"/",c=t.unstable_dataStrategy||Q9,u=t.unstable_patchRoutesOnNavigation,h=Nt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),p=null,g=new Set,w=1e3,y=new Set,E=null,_=null,v=null,S=t.hydrationData!=null,P=aa(o,t.history.location,l),A=null;if(P==null&&!u){let j=qn(404,{pathname:t.history.location.pathname}),{matches:F,route:W}=yC(o);P=F,A={[W.id]:j}}P&&!t.hydrationData&&Yt(P,o,t.history.location.pathname).active&&(P=null);let O;if(P)if(P.some(j=>j.route.lazy))O=!1;else if(!P.some(j=>j.route.loader))O=!0;else if(h.v7_partialHydration){let j=t.hydrationData?t.hydrationData.loaderData:null,F=t.hydrationData?t.hydrationData.errors:null,W=q=>q.route.loader?typeof q.route.loader=="function"&&q.route.loader.hydrate===!0?!1:j&&j[q.route.id]!==void 0||F&&F[q.route.id]!==void 0:!0;if(F){let q=P.findIndex(ue=>F[ue.route.id]!==void 0);O=P.slice(0,q+1).every(W)}else O=P.every(W)}else O=t.hydrationData!=null;else if(O=!1,P=[],h.v7_partialHydration){let j=Yt(null,o,t.history.location.pathname);j.active&&j.matches&&(P=j.matches)}let C,T={historyAction:t.history.action,location:t.history.location,matches:P,initialized:O,navigation:ov,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||A,fetchers:new Map,blockers:new Map},R=Zt.Pop,I=!1,M,k=!1,D=new Map,H=null,ae=!1,te=!1,ne=[],z=new Set,B=new Map,Z=0,pe=-1,Te=new Map,Re=new Set,Ye=new Map,mt=new Map,Ke=new Set,ce=new Map,je=new Map,rt=new Map,Ve;function $e(){if(p=t.history.listen(j=>{let{action:F,location:W,delta:q}=j;if(Ve){Ve(),Ve=void 0;return}_c(je.size===0||q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ue=nl({currentLocation:T.location,nextLocation:W,historyAction:F});if(ue&&q!=null){let _e=new Promise(Pe=>{Ve=Pe});t.history.go(q*-1),hs(ue,{state:"blocked",location:W,proceed(){hs(ue,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),_e.then(()=>t.history.go(q))},reset(){let Pe=new Map(T.blockers);Pe.set(ue,vu),st({blockers:Pe})}});return}return L(F,W)}),n){u6(e,D);let j=()=>d6(e,D);e.addEventListener("pagehide",j),H=()=>e.removeEventListener("pagehide",j)}return T.initialized||L(Zt.Pop,T.location,{initialHydration:!0}),C}function Ge(){p&&p(),H&&H(),g.clear(),M&&M.abort(),T.fetchers.forEach((j,F)=>ds(F)),T.blockers.forEach((j,F)=>Zc(F))}function jt(j){return g.add(j),()=>g.delete(j)}function st(j,F){F===void 0&&(F={}),T=Nt({},T,j);let W=[],q=[];h.v7_fetcherPersist&&T.fetchers.forEach((ue,_e)=>{ue.state==="idle"&&(Ke.has(_e)?q.push(_e):W.push(_e))}),[...g].forEach(ue=>ue(T,{deletedFetchers:q,unstable_viewTransitionOpts:F.viewTransitionOpts,unstable_flushSync:F.flushSync===!0})),h.v7_fetcherPersist&&(W.forEach(ue=>T.fetchers.delete(ue)),q.forEach(ue=>ds(ue)))}function pn(j,F,W){var q,ue;let{flushSync:_e}=W===void 0?{}:W,Pe=T.actionData!=null&&T.navigation.formMethod!=null&&Xr(T.navigation.formMethod)&&T.navigation.state==="loading"&&((q=j.state)==null?void 0:q._isRedirect)!==!0,se;F.actionData?Object.keys(F.actionData).length>0?se=F.actionData:se=null:Pe?se=T.actionData:se=null;let ve=F.loaderData?mC(T.loaderData,F.loaderData,F.matches||[],F.errors):T.loaderData,me=T.blockers;me.size>0&&(me=new Map(me),me.forEach((it,ft)=>me.set(ft,vu)));let ye=I===!0||T.navigation.formMethod!=null&&Xr(T.navigation.formMethod)&&((ue=j.state)==null?void 0:ue._isRedirect)!==!0;a&&(o=a,a=void 0),ae||R===Zt.Pop||(R===Zt.Push?t.history.push(j,j.state):R===Zt.Replace&&t.history.replace(j,j.state));let Xe;if(R===Zt.Pop){let it=D.get(T.location.pathname);it&&it.has(j.pathname)?Xe={currentLocation:T.location,nextLocation:j}:D.has(j.pathname)&&(Xe={currentLocation:j,nextLocation:T.location})}else if(k){let it=D.get(T.location.pathname);it?it.add(j.pathname):(it=new Set([j.pathname]),D.set(T.location.pathname,it)),Xe={currentLocation:T.location,nextLocation:j}}st(Nt({},F,{actionData:se,loaderData:ve,historyAction:R,location:j,initialized:!0,navigation:ov,revalidation:"idle",restoreScrollPosition:tu(j,F.matches||T.matches),preventScrollReset:ye,blockers:me}),{viewTransitionOpts:Xe,flushSync:_e===!0}),R=Zt.Pop,I=!1,k=!1,ae=!1,te=!1,ne=[]}async function Cr(j,F){if(typeof j=="number"){t.history.go(j);return}let W=qw(T.location,T.matches,l,h.v7_prependBasename,j,h.v7_relativeSplatPath,F==null?void 0:F.fromRouteId,F==null?void 0:F.relative),{path:q,submission:ue,error:_e}=cC(h.v7_normalizeFormMethod,!1,W,F),Pe=T.location,se=Dd(T.location,q,F&&F.state);se=Nt({},se,t.history.encodeLocation(se));let ve=F&&F.replace!=null?F.replace:void 0,me=Zt.Push;ve===!0?me=Zt.Replace:ve===!1||ue!=null&&Xr(ue.formMethod)&&ue.formAction===T.location.pathname+T.location.search&&(me=Zt.Replace);let ye=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,Xe=(F&&F.unstable_flushSync)===!0,it=nl({currentLocation:Pe,nextLocation:se,historyAction:me});if(it){hs(it,{state:"blocked",location:se,proceed(){hs(it,{state:"proceeding",proceed:void 0,reset:void 0,location:se}),Cr(j,F)},reset(){let ft=new Map(T.blockers);ft.set(it,vu),st({blockers:ft})}});return}return await L(me,se,{submission:ue,pendingError:_e,preventScrollReset:ye,replace:F&&F.replace,enableViewTransition:F&&F.unstable_viewTransition,flushSync:Xe})}function cs(){if(Ti(),st({revalidation:"loading"}),T.navigation.state!=="submitting"){if(T.navigation.state==="idle"){L(T.historyAction,T.location,{startUninterruptedRevalidation:!0});return}L(R||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation,enableViewTransition:k===!0})}}async function L(j,F,W){M&&M.abort(),M=null,R=j,ae=(W&&W.startUninterruptedRevalidation)===!0,Go(T.location,T.matches),I=(W&&W.preventScrollReset)===!0,k=(W&&W.enableViewTransition)===!0;let q=a||o,ue=W&&W.overrideNavigation,_e=aa(q,F,l),Pe=(W&&W.flushSync)===!0,se=Yt(_e,q,F.pathname);if(se.active&&se.matches&&(_e=se.matches),!_e){let{error:qe,notFoundMatches:Xt,route:xt}=Ho(F.pathname);pn(F,{matches:Xt,loaderData:{},errors:{[xt.id]:qe}},{flushSync:Pe});return}if(T.initialized&&!te&&t6(T.location,F)&&!(W&&W.submission&&Xr(W.submission.formMethod))){pn(F,{matches:_e},{flushSync:Pe});return}M=new AbortController;let ve=cl(t.history,F,M.signal,W&&W.submission),me;if(W&&W.pendingError)me=[Al(_e).route.id,{type:pt.error,error:W.pendingError}];else if(W&&W.submission&&Xr(W.submission.formMethod)){let qe=await $(ve,F,W.submission,_e,se.active,{replace:W.replace,flushSync:Pe});if(qe.shortCircuited)return;if(qe.pendingActionResult){let[Xt,xt]=qe.pendingActionResult;if(mr(xt)&&Th(xt.error)&&xt.error.status===404){M=null,pn(F,{matches:qe.matches,loaderData:{},errors:{[Xt]:xt.error}});return}}_e=qe.matches||_e,me=qe.pendingActionResult,ue=av(F,W.submission),Pe=!1,se.active=!1,ve=cl(t.history,ve.url,ve.signal)}let{shortCircuited:ye,matches:Xe,loaderData:it,errors:ft}=await G(ve,F,_e,se.active,ue,W&&W.submission,W&&W.fetcherSubmission,W&&W.replace,W&&W.initialHydration===!0,Pe,me);ye||(M=null,pn(F,Nt({matches:Xe||_e},gC(me),{loaderData:it,errors:ft})))}async function $(j,F,W,q,ue,_e){_e===void 0&&(_e={}),Ti();let Pe=l6(F,W);if(st({navigation:Pe},{flushSync:_e.flushSync===!0}),ue){let me=await qo(q,F.pathname,j.signal);if(me.type==="aborted")return{shortCircuited:!0};if(me.type==="error"){let{boundaryId:ye,error:Xe}=Pr(F.pathname,me);return{matches:me.partialMatches,pendingActionResult:[ye,{type:pt.error,error:Xe}]}}else if(me.matches)q=me.matches;else{let{notFoundMatches:ye,error:Xe,route:it}=Ho(F.pathname);return{matches:ye,pendingActionResult:[it.id,{type:pt.error,error:Xe}]}}}let se,ve=ku(q,F);if(!ve.route.action&&!ve.route.lazy)se={type:pt.error,error:qn(405,{method:j.method,pathname:F.pathname,routeId:ve.route.id})};else if(se=(await Ue("action",T,j,[ve],q,null))[ve.route.id],j.signal.aborted)return{shortCircuited:!0};if(ha(se)){let me;return _e&&_e.replace!=null?me=_e.replace:me=hC(se.response.headers.get("Location"),new URL(j.url),l)===T.location.pathname+T.location.search,await Le(j,se,!0,{submission:W,replace:me}),{shortCircuited:!0}}if(ro(se))throw qn(400,{type:"defer-action"});if(mr(se)){let me=Al(q,ve.route.id);return(_e&&_e.replace)!==!0&&(R=Zt.Push),{matches:q,pendingActionResult:[me.route.id,se]}}return{matches:q,pendingActionResult:[ve.route.id,se]}}async function G(j,F,W,q,ue,_e,Pe,se,ve,me,ye){let Xe=ue||av(F,_e),it=_e||Pe||wC(Xe),ft=!ae&&(!h.v7_partialHydration||!ve);if(q){if(ft){let wt=le(ye);st(Nt({navigation:Xe},wt!==void 0?{actionData:wt}:{}),{flushSync:me})}let Ne=await qo(W,F.pathname,j.signal);if(Ne.type==="aborted")return{shortCircuited:!0};if(Ne.type==="error"){let{boundaryId:wt,error:Cn}=Pr(F.pathname,Ne);return{matches:Ne.partialMatches,loaderData:{},errors:{[wt]:Cn}}}else if(Ne.matches)W=Ne.matches;else{let{error:wt,notFoundMatches:Cn,route:Et}=Ho(F.pathname);return{matches:Cn,loaderData:{},errors:{[Et.id]:wt}}}}let qe=a||o,[Xt,xt]=uC(t.history,T,W,it,F,h.v7_partialHydration&&ve===!0,h.v7_skipActionErrorRevalidation,te,ne,z,Ke,Ye,Re,qe,l,ye);if(rl(Ne=>!(W&&W.some(wt=>wt.route.id===Ne))||Xt&&Xt.some(wt=>wt.route.id===Ne)),pe=++Z,Xt.length===0&&xt.length===0){let Ne=qh();return pn(F,Nt({matches:W,loaderData:{},errors:ye&&mr(ye[1])?{[ye[0]]:ye[1].error}:null},gC(ye),Ne?{fetchers:new Map(T.fetchers)}:{}),{flushSync:me}),{shortCircuited:!0}}if(ft){let Ne={};if(!q){Ne.navigation=Xe;let wt=le(ye);wt!==void 0&&(Ne.actionData=wt)}xt.length>0&&(Ne.fetchers=re(xt)),st(Ne,{flushSync:me})}xt.forEach(Ne=>{B.has(Ne.key)&&Wn(Ne.key),Ne.controller&&B.set(Ne.key,Ne.controller)});let bi=()=>xt.forEach(Ne=>Wn(Ne.key));M&&M.signal.addEventListener("abort",bi);let{loaderResults:dr,fetcherResults:Rr}=await Bn(T,W,Xt,xt,j);if(j.signal.aborted)return{shortCircuited:!0};M&&M.signal.removeEventListener("abort",bi),xt.forEach(Ne=>B.delete(Ne.key));let bn=Rf(dr);if(bn)return await Le(j,bn.result,!0,{replace:se}),{shortCircuited:!0};if(bn=Rf(Rr),bn)return Re.add(bn.key),await Le(j,bn.result,!0,{replace:se}),{shortCircuited:!0};let{loaderData:Ci,errors:zr}=pC(T,W,Xt,dr,ye,xt,Rr,ce);ce.forEach((Ne,wt)=>{Ne.subscribe(Cn=>{(Cn||Ne.done)&&ce.delete(wt)})}),h.v7_partialHydration&&ve&&T.errors&&Object.entries(T.errors).filter(Ne=>{let[wt]=Ne;return!Xt.some(Cn=>Cn.route.id===wt)}).forEach(Ne=>{let[wt,Cn]=Ne;zr=Object.assign(zr||{},{[wt]:Cn})});let Yo=qh(),Xo=tl(pe),Jo=Yo||Xo||xt.length>0;return Nt({matches:W,loaderData:Ci,errors:zr},Jo?{fetchers:new Map(T.fetchers)}:{})}function le(j){if(j&&!mr(j[1]))return{[j[0]]:j[1].data};if(T.actionData)return Object.keys(T.actionData).length===0?null:T.actionData}function re(j){return j.forEach(F=>{let W=T.fetchers.get(F.key),q=wu(void 0,W?W.data:void 0);T.fetchers.set(F.key,q)}),new Map(T.fetchers)}function J(j,F,W,q){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");B.has(j)&&Wn(j);let ue=(q&&q.unstable_flushSync)===!0,_e=a||o,Pe=qw(T.location,T.matches,l,h.v7_prependBasename,W,h.v7_relativeSplatPath,F,q==null?void 0:q.relative),se=aa(_e,Pe,l),ve=Yt(se,_e,Pe);if(ve.active&&ve.matches&&(se=ve.matches),!se){zn(j,F,qn(404,{pathname:Pe}),{flushSync:ue});return}let{path:me,submission:ye,error:Xe}=cC(h.v7_normalizeFormMethod,!0,Pe,q);if(Xe){zn(j,F,Xe,{flushSync:ue});return}let it=ku(se,me);if(I=(q&&q.preventScrollReset)===!0,ye&&Xr(ye.formMethod)){Ee(j,F,me,it,se,ve.active,ue,ye);return}Ye.set(j,{routeId:F,path:me}),Oe(j,F,me,it,se,ve.active,ue,ye)}async function Ee(j,F,W,q,ue,_e,Pe,se){Ti(),Ye.delete(j);function ve(Et){if(!Et.route.action&&!Et.route.lazy){let Wr=qn(405,{method:se.formMethod,pathname:W,routeId:F});return zn(j,F,Wr,{flushSync:Pe}),!0}return!1}if(!_e&&ve(q))return;let me=T.fetchers.get(j);$n(j,c6(se,me),{flushSync:Pe});let ye=new AbortController,Xe=cl(t.history,W,ye.signal,se);if(_e){let Et=await qo(ue,W,Xe.signal);if(Et.type==="aborted")return;if(Et.type==="error"){let{error:Wr}=Pr(W,Et);zn(j,F,Wr,{flushSync:Pe});return}else if(Et.matches){if(ue=Et.matches,q=ku(ue,W),ve(q))return}else{zn(j,F,qn(404,{pathname:W}),{flushSync:Pe});return}}B.set(j,ye);let it=Z,qe=(await Ue("action",T,Xe,[q],ue,j))[q.route.id];if(Xe.signal.aborted){B.get(j)===ye&&B.delete(j);return}if(h.v7_fetcherPersist&&Ke.has(j)){if(ha(qe)||mr(qe)){$n(j,ki(void 0));return}}else{if(ha(qe))if(B.delete(j),pe>it){$n(j,ki(void 0));return}else return Re.add(j),$n(j,wu(se)),Le(Xe,qe,!1,{fetcherSubmission:se});if(mr(qe)){zn(j,F,qe.error);return}}if(ro(qe))throw qn(400,{type:"defer-action"});let Xt=T.navigation.location||T.location,xt=cl(t.history,Xt,ye.signal),bi=a||o,dr=T.navigation.state!=="idle"?aa(bi,T.navigation.location,l):T.matches;We(dr,"Didn't find any matches after fetcher action");let Rr=++Z;Te.set(j,Rr);let bn=wu(se,qe.data);T.fetchers.set(j,bn);let[Ci,zr]=uC(t.history,T,dr,se,Xt,!1,h.v7_skipActionErrorRevalidation,te,ne,z,Ke,Ye,Re,bi,l,[q.route.id,qe]);zr.filter(Et=>Et.key!==j).forEach(Et=>{let Wr=Et.key,Yh=T.fetchers.get(Wr),Xh=wu(void 0,Yh?Yh.data:void 0);T.fetchers.set(Wr,Xh),B.has(Wr)&&Wn(Wr),Et.controller&&B.set(Wr,Et.controller)}),st({fetchers:new Map(T.fetchers)});let Yo=()=>zr.forEach(Et=>Wn(Et.key));ye.signal.addEventListener("abort",Yo);let{loaderResults:Xo,fetcherResults:Jo}=await Bn(T,dr,Ci,zr,xt);if(ye.signal.aborted)return;ye.signal.removeEventListener("abort",Yo),Te.delete(j),B.delete(j),zr.forEach(Et=>B.delete(Et.key));let Ne=Rf(Xo);if(Ne)return Le(xt,Ne.result,!1);if(Ne=Rf(Jo),Ne)return Re.add(Ne.key),Le(xt,Ne.result,!1);let{loaderData:wt,errors:Cn}=pC(T,dr,Ci,Xo,void 0,zr,Jo,ce);if(T.fetchers.has(j)){let Et=ki(qe.data);T.fetchers.set(j,Et)}tl(Rr),T.navigation.state==="loading"&&Rr>pe?(We(R,"Expected pending action"),M&&M.abort(),pn(T.navigation.location,{matches:dr,loaderData:wt,errors:Cn,fetchers:new Map(T.fetchers)})):(st({errors:Cn,loaderData:mC(T.loaderData,wt,dr,Cn),fetchers:new Map(T.fetchers)}),te=!1)}async function Oe(j,F,W,q,ue,_e,Pe,se){let ve=T.fetchers.get(j);$n(j,wu(se,ve?ve.data:void 0),{flushSync:Pe});let me=new AbortController,ye=cl(t.history,W,me.signal);if(_e){let qe=await qo(ue,W,ye.signal);if(qe.type==="aborted")return;if(qe.type==="error"){let{error:Xt}=Pr(W,qe);zn(j,F,Xt,{flushSync:Pe});return}else if(qe.matches)ue=qe.matches,q=ku(ue,W);else{zn(j,F,qn(404,{pathname:W}),{flushSync:Pe});return}}B.set(j,me);let Xe=Z,ft=(await Ue("loader",T,ye,[q],ue,j))[q.route.id];if(ro(ft)&&(ft=await yx(ft,ye.signal,!0)||ft),B.get(j)===me&&B.delete(j),!ye.signal.aborted){if(Ke.has(j)){$n(j,ki(void 0));return}if(ha(ft))if(pe>Xe){$n(j,ki(void 0));return}else{Re.add(j),await Le(ye,ft,!1);return}if(mr(ft)){zn(j,F,ft.error);return}We(!ro(ft),"Unhandled fetcher deferred data"),$n(j,ki(ft.data))}}async function Le(j,F,W,q){let{submission:ue,fetcherSubmission:_e,replace:Pe}=q===void 0?{}:q;F.response.headers.has("X-Remix-Revalidate")&&(te=!0);let se=F.response.headers.get("Location");We(se,"Expected a Location header on the redirect Response"),se=hC(se,new URL(j.url),l);let ve=Dd(T.location,se,{_isRedirect:!0});if(n){let qe=!1;if(F.response.headers.has("X-Remix-Reload-Document"))qe=!0;else if(gx.test(se)){const Xt=t.history.createURL(se);qe=Xt.origin!==e.location.origin||jc(Xt.pathname,l)==null}if(qe){Pe?e.location.replace(se):e.location.assign(se);return}}M=null;let me=Pe===!0||F.response.headers.has("X-Remix-Replace")?Zt.Replace:Zt.Push,{formMethod:ye,formAction:Xe,formEncType:it}=T.navigation;!ue&&!_e&&ye&&Xe&&it&&(ue=wC(T.navigation));let ft=ue||_e;if(U9.has(F.response.status)&&ft&&Xr(ft.formMethod))await L(me,ve,{submission:Nt({},ft,{formAction:se}),preventScrollReset:I,enableViewTransition:W?k:void 0});else{let qe=av(ve,ue);await L(me,ve,{overrideNavigation:qe,fetcherSubmission:_e,preventScrollReset:I,enableViewTransition:W?k:void 0})}}async function Ue(j,F,W,q,ue,_e){let Pe,se={};try{Pe=await Y9(c,j,F,W,q,ue,_e,i,s)}catch(ve){return q.forEach(me=>{se[me.route.id]={type:pt.error,error:ve}}),se}for(let[ve,me]of Object.entries(Pe))if(r6(me)){let ye=me.result;se[ve]={type:pt.redirect,response:Z9(ye,W,ve,ue,l,h.v7_relativeSplatPath)}}else se[ve]=await J9(me);return se}async function Bn(j,F,W,q,ue){let _e=j.matches,Pe=Ue("loader",j,ue,W,F,null),se=Promise.all(q.map(async ye=>{if(ye.matches&&ye.match&&ye.controller){let it=(await Ue("loader",j,cl(t.history,ye.path,ye.controller.signal),[ye.match],ye.matches,ye.key))[ye.match.route.id];return{[ye.key]:it}}else return Promise.resolve({[ye.key]:{type:pt.error,error:qn(404,{pathname:ye.path})}})})),ve=await Pe,me=(await se).reduce((ye,Xe)=>Object.assign(ye,Xe),{});return await Promise.all([o6(F,ve,ue.signal,_e,j.loaderData),a6(F,me,q)]),{loaderResults:ve,fetcherResults:me}}function Ti(){te=!0,ne.push(...rl()),Ye.forEach((j,F)=>{B.has(F)&&(z.add(F),Wn(F))})}function $n(j,F,W){W===void 0&&(W={}),T.fetchers.set(j,F),st({fetchers:new Map(T.fetchers)},{flushSync:(W&&W.flushSync)===!0})}function zn(j,F,W,q){q===void 0&&(q={});let ue=Al(T.matches,F);ds(j),st({errors:{[ue.route.id]:W},fetchers:new Map(T.fetchers)},{flushSync:(q&&q.flushSync)===!0})}function us(j){return h.v7_fetcherPersist&&(mt.set(j,(mt.get(j)||0)+1),Ke.has(j)&&Ke.delete(j)),T.fetchers.get(j)||B9}function ds(j){let F=T.fetchers.get(j);B.has(j)&&!(F&&F.state==="loading"&&Te.has(j))&&Wn(j),Ye.delete(j),Te.delete(j),Re.delete(j),Ke.delete(j),z.delete(j),T.fetchers.delete(j)}function el(j){if(h.v7_fetcherPersist){let F=(mt.get(j)||0)-1;F<=0?(mt.delete(j),Ke.add(j)):mt.set(j,F)}else ds(j);st({fetchers:new Map(T.fetchers)})}function Wn(j){let F=B.get(j);We(F,"Expected fetch controller: "+j),F.abort(),B.delete(j)}function Gh(j){for(let F of j){let W=us(F),q=ki(W.data);T.fetchers.set(F,q)}}function qh(){let j=[],F=!1;for(let W of Re){let q=T.fetchers.get(W);We(q,"Expected fetcher: "+W),q.state==="loading"&&(Re.delete(W),j.push(W),F=!0)}return Gh(j),F}function tl(j){let F=[];for(let[W,q]of Te)if(q<j){let ue=T.fetchers.get(W);We(ue,"Expected fetcher: "+W),ue.state==="loading"&&(Wn(W),Te.delete(W),F.push(W))}return Gh(F),F.length>0}function Qh(j,F){let W=T.blockers.get(j)||vu;return je.get(j)!==F&&je.set(j,F),W}function Zc(j){T.blockers.delete(j),je.delete(j)}function hs(j,F){let W=T.blockers.get(j)||vu;We(W.state==="unblocked"&&F.state==="blocked"||W.state==="blocked"&&F.state==="blocked"||W.state==="blocked"&&F.state==="proceeding"||W.state==="blocked"&&F.state==="unblocked"||W.state==="proceeding"&&F.state==="unblocked","Invalid blocker state transition: "+W.state+" -> "+F.state);let q=new Map(T.blockers);q.set(j,F),st({blockers:q})}function nl(j){let{currentLocation:F,nextLocation:W,historyAction:q}=j;if(je.size===0)return;je.size>1&&_c(!1,"A router only supports one blocker at a time");let ue=Array.from(je.entries()),[_e,Pe]=ue[ue.length-1],se=T.blockers.get(_e);if(!(se&&se.state==="proceeding")&&Pe({currentLocation:F,nextLocation:W,historyAction:q}))return _e}function Ho(j){let F=qn(404,{pathname:j}),W=a||o,{matches:q,route:ue}=yC(W);return rl(),{notFoundMatches:q,route:ue,error:F}}function Pr(j,F){return{boundaryId:Al(F.partialMatches).route.id,error:qn(400,{type:"route-discovery",pathname:j,message:F.error!=null&&"message"in F.error?F.error:String(F.error)})}}function rl(j){let F=[];return ce.forEach((W,q)=>{(!j||j(q))&&(W.cancel(),F.push(q),ce.delete(q))}),F}function sl(j,F,W){if(E=j,v=F,_=W||null,!S&&T.navigation===ov){S=!0;let q=tu(T.location,T.matches);q!=null&&st({restoreScrollPosition:q})}return()=>{E=null,v=null,_=null}}function eu(j,F){return _&&_(j,F.map(q=>v9(q,T.loaderData)))||j.key}function Go(j,F){if(E&&v){let W=eu(j,F);E[W]=v()}}function tu(j,F){if(E){let W=eu(j,F),q=E[W];if(typeof q=="number")return q}return null}function Yt(j,F,W){if(u){if(y.has(W))return{active:!1,matches:j};if(j){if(Object.keys(j[0].params).length>0)return{active:!0,matches:hp(F,W,l,!0)}}else return{active:!0,matches:hp(F,W,l,!0)||[]}}return{active:!1,matches:null}}async function qo(j,F,W){let q=j;for(;;){let ue=a==null,_e=a||o;try{await G9(u,F,q,_e,i,s,rt,W)}catch(ve){return{type:"error",error:ve,partialMatches:q}}finally{ue&&(o=[...o])}if(W.aborted)return{type:"aborted"};let Pe=aa(_e,F,l);if(Pe)return Si(F,y),{type:"success",matches:Pe};let se=hp(_e,F,l,!0);if(!se||q.length===se.length&&q.every((ve,me)=>ve.route.id===se[me].route.id))return Si(F,y),{type:"success",matches:null};q=se}}function Si(j,F){if(F.size>=w){let W=F.values().next().value;F.delete(W)}F.add(j)}function Qo(j){i={},a=kd(j,s,void 0,i)}function vy(j,F){let W=a==null;iD(j,F,a||o,i,s),W&&(o=[...o],st({}))}return C={get basename(){return l},get future(){return h},get state(){return T},get routes(){return o},get window(){return e},initialize:$e,subscribe:jt,enableScrollRestoration:sl,navigate:Cr,fetch:J,revalidate:cs,createHref:j=>t.history.createHref(j),encodeLocation:j=>t.history.encodeLocation(j),getFetcher:us,deleteFetcher:el,dispose:Ge,getBlocker:Qh,deleteBlocker:Zc,patchRoutes:vy,_internalFetchControllers:B,_internalActiveDeferreds:ce,_internalSetRoutes:Qo},C}function W9(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function qw(t,e,n,r,s,i,o,a){let l,c;if(o){l=[];for(let h of e)if(l.push(h),h.route.id===o){c=h;break}}else l=e,c=e[e.length-1];let u=hg(s||".",dg(l,i),jc(t.pathname,n)||t.pathname,a==="path");return s==null&&(u.search=t.search,u.hash=t.hash),(s==null||s===""||s===".")&&c&&c.route.index&&!vx(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:ti([n,u.pathname])),La(u)}function cC(t,e,n,r){if(!r||!W9(r))return{path:n};if(r.formMethod&&!i6(r.formMethod))return{path:n,error:qn(405,{method:r.formMethod})};let s=()=>({path:n,error:qn(400,{type:"invalid-body"})}),i=r.formMethod||"get",o=t?i.toUpperCase():i.toLowerCase(),a=oD(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Xr(o))return s();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((g,w)=>{let[y,E]=w;return""+g+y+"="+E+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!Xr(o))return s();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return s()}}}We(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=Qw(r.formData),c=r.formData;else if(r.body instanceof FormData)l=Qw(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=fC(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=fC(l)}catch{return s()}let u={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Xr(u.formMethod))return{path:n,submission:u};let h=Fo(n);return e&&h.search&&vx(h.search)&&l.append("index",""),h.search="?"+l,{path:La(h),submission:u}}function K9(t,e){let n=t;if(e){let r=t.findIndex(s=>s.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function uC(t,e,n,r,s,i,o,a,l,c,u,h,p,g,w,y){let E=y?mr(y[1])?y[1].error:y[1].data:void 0,_=t.createURL(e.location),v=t.createURL(s),S=y&&mr(y[1])?y[0]:void 0,P=S?K9(n,S):n,A=y?y[1].statusCode:void 0,O=o&&A&&A>=400,C=P.filter((R,I)=>{let{route:M}=R;if(M.lazy)return!0;if(M.loader==null)return!1;if(i)return typeof M.loader!="function"||M.loader.hydrate?!0:e.loaderData[M.id]===void 0&&(!e.errors||e.errors[M.id]===void 0);if(H9(e.loaderData,e.matches[I],R)||l.some(H=>H===R.route.id))return!0;let k=e.matches[I],D=R;return dC(R,Nt({currentUrl:_,currentParams:k.params,nextUrl:v,nextParams:D.params},r,{actionResult:E,actionStatus:A,defaultShouldRevalidate:O?!1:a||_.pathname+_.search===v.pathname+v.search||_.search!==v.search||sD(k,D)}))}),T=[];return h.forEach((R,I)=>{if(i||!n.some(ae=>ae.route.id===R.routeId)||u.has(I))return;let M=aa(g,R.path,w);if(!M){T.push({key:I,routeId:R.routeId,path:R.path,matches:null,match:null,controller:null});return}let k=e.fetchers.get(I),D=ku(M,R.path),H=!1;p.has(I)?H=!1:c.has(I)?(c.delete(I),H=!0):k&&k.state!=="idle"&&k.data===void 0?H=a:H=dC(D,Nt({currentUrl:_,currentParams:e.matches[e.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:E,actionStatus:A,defaultShouldRevalidate:O?!1:a})),H&&T.push({key:I,routeId:R.routeId,path:R.path,matches:M,match:D,controller:new AbortController})}),[C,T]}function H9(t,e,n){let r=!e||n.route.id!==e.route.id,s=t[n.route.id]===void 0;return r||s}function sD(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function dC(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function G9(t,e,n,r,s,i,o,a){let l=[e,...n.map(c=>c.route.id)].join("-");try{let c=o.get(l);c||(c=t({path:e,matches:n,patch:(u,h)=>{a.aborted||iD(u,h,r,s,i)}}),o.set(l,c)),c&&n6(c)&&await c}finally{o.delete(l)}}function iD(t,e,n,r,s){if(t){var i;let o=r[t];We(o,"No route found to patch children into: routeId = "+t);let a=kd(e,s,[t,"patch",String(((i=o.children)==null?void 0:i.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=kd(e,s,["patch",String(n.length||"0")],r);n.push(...o)}}async function q9(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let s=n[t.id];We(s,"No route found in manifest");let i={};for(let o in r){let l=s[o]!==void 0&&o!=="hasErrorBoundary";_c(!l,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!g9.has(o)&&(i[o]=r[o])}Object.assign(s,i),Object.assign(s,Nt({},e(s),{lazy:void 0}))}async function Q9(t){let{matches:e}=t,n=e.filter(s=>s.shouldLoad);return(await Promise.all(n.map(s=>s.resolve()))).reduce((s,i,o)=>Object.assign(s,{[n[o].route.id]:i}),{})}async function Y9(t,e,n,r,s,i,o,a,l,c){let u=i.map(g=>g.route.lazy?q9(g.route,l,a):void 0),h=i.map((g,w)=>{let y=u[w],E=s.some(v=>v.route.id===g.route.id);return Nt({},g,{shouldLoad:E,resolve:async v=>(v&&r.method==="GET"&&(g.route.lazy||g.route.loader)&&(E=!0),E?X9(e,r,g,y,v,c):Promise.resolve({type:pt.data,result:void 0}))})}),p=await t({matches:h,request:r,params:i[0].params,fetcherKey:o,context:c});try{await Promise.all(u)}catch{}return p}async function X9(t,e,n,r,s,i){let o,a,l=c=>{let u,h=new Promise((w,y)=>u=y);a=()=>u(),e.signal.addEventListener("abort",a);let p=w=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:i},...w!==void 0?[w]:[]),g=(async()=>{try{return{type:"data",result:await(s?s(y=>p(y)):p())}}catch(w){return{type:"error",result:w}}})();return Promise.race([g,h])};try{let c=n.route[t];if(r)if(c){let u,[h]=await Promise.all([l(c).catch(p=>{u=p}),r]);if(u!==void 0)throw u;o=h}else if(await r,c=n.route[t],c)o=await l(c);else if(t==="action"){let u=new URL(e.url),h=u.pathname+u.search;throw qn(405,{method:e.method,pathname:h,routeId:n.route.id})}else return{type:pt.data,result:void 0};else if(c)o=await l(c);else{let u=new URL(e.url),h=u.pathname+u.search;throw qn(404,{pathname:h})}We(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:pt.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function J9(t){let{result:e,type:n}=t;if(aD(e)){let c;try{let u=e.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(u){return{type:pt.error,error:u}}return n===pt.error?{type:pt.error,error:new am(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:pt.data,data:c,statusCode:e.status,headers:e.headers}}if(n===pt.error){if(vC(e)){var r;if(e.data instanceof Error){var s;return{type:pt.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status}}e=new am(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:pt.error,error:e,statusCode:Th(e)?e.status:void 0}}if(s6(e)){var i,o;return{type:pt.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(vC(e)){var a,l;return{type:pt.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:pt.data,data:e}}function Z9(t,e,n,r,s,i){let o=t.headers.get("Location");if(We(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!gx.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=qw(new URL(e.url),a,s,!0,o,i),t.headers.set("Location",o)}return t}function hC(t,e,n){if(gx.test(t)){let r=t,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),i=jc(s.pathname,n)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return t}function cl(t,e,n,r){let s=t.createURL(oD(e)).toString(),i={signal:n};if(r&&Xr(r.formMethod)){let{formMethod:o,formEncType:a}=r;i.method=o.toUpperCase(),a==="application/json"?(i.headers=new Headers({"Content-Type":a}),i.body=JSON.stringify(r.json)):a==="text/plain"?i.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?i.body=Qw(r.formData):i.body=r.formData}return new Request(s,i)}function Qw(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function fC(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function e6(t,e,n,r,s){let i={},o=null,a,l=!1,c={},u=n&&mr(n[1])?n[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let p=h.route.id,g=e[p];if(We(!ha(g),"Cannot handle redirect results in processLoaderData"),mr(g)){let w=g.error;u!==void 0&&(w=u,u=void 0),o=o||{};{let y=Al(t,p);o[y.route.id]==null&&(o[y.route.id]=w)}i[p]=void 0,l||(l=!0,a=Th(g.error)?g.error.status:500),g.headers&&(c[p]=g.headers)}else ro(g)?(r.set(p,g.deferredData),i[p]=g.deferredData.data,g.statusCode!=null&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(c[p]=g.headers)):(i[p]=g.data,g.statusCode&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(c[p]=g.headers))}),u!==void 0&&n&&(o={[n[0]]:u},i[n[0]]=void 0),{loaderData:i,errors:o,statusCode:a||200,loaderHeaders:c}}function pC(t,e,n,r,s,i,o,a){let{loaderData:l,errors:c}=e6(e,r,s,a);return i.forEach(u=>{let{key:h,match:p,controller:g}=u,w=o[h];if(We(w,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(mr(w)){let y=Al(t.matches,p==null?void 0:p.route.id);c&&c[y.route.id]||(c=Nt({},c,{[y.route.id]:w.error})),t.fetchers.delete(h)}else if(ha(w))We(!1,"Unhandled fetcher revalidation redirect");else if(ro(w))We(!1,"Unhandled fetcher deferred data");else{let y=ki(w.data);t.fetchers.set(h,y)}}),{loaderData:l,errors:c}}function mC(t,e,n,r){let s=Nt({},e);for(let i of n){let o=i.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(s[o]=e[o]):t[o]!==void 0&&i.route.loader&&(s[o]=t[o]),r&&r.hasOwnProperty(o))break}return s}function gC(t){return t?mr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Al(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function yC(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function qn(t,e){let{pathname:n,routeId:r,method:s,type:i,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):s&&n&&r?l="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",s&&n&&r?l="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(l='Invalid request method "'+s.toUpperCase()+'"')),new am(t||500,a,new Error(l),!0)}function Rf(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,s]=e[n];if(ha(s))return{key:r,result:s}}}function oD(t){let e=typeof t=="string"?Fo(t):t;return La(Nt({},e,{hash:""}))}function t6(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function n6(t){return typeof t=="object"&&t!=null&&"then"in t}function r6(t){return aD(t.result)&&F9.has(t.result.status)}function ro(t){return t.type===pt.deferred}function mr(t){return t.type===pt.error}function ha(t){return(t&&t.type)===pt.redirect}function vC(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function s6(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function aD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function i6(t){return V9.has(t.toLowerCase())}function Xr(t){return L9.has(t.toLowerCase())}async function o6(t,e,n,r,s){let i=Object.entries(e);for(let o=0;o<i.length;o++){let[a,l]=i[o],c=t.find(p=>(p==null?void 0:p.route.id)===a);if(!c)continue;let u=r.find(p=>p.route.id===c.route.id),h=u!=null&&!sD(u,c)&&(s&&s[c.route.id])!==void 0;ro(l)&&h&&await yx(l,n,!1).then(p=>{p&&(e[a]=p)})}}async function a6(t,e,n){for(let r=0;r<n.length;r++){let{key:s,routeId:i,controller:o}=n[r],a=e[s];t.find(c=>(c==null?void 0:c.route.id)===i)&&ro(a)&&(We(o,"Expected an AbortController for revalidating fetcher deferred result"),await yx(a,o.signal,!0).then(c=>{c&&(e[s]=c)}))}}async function yx(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:pt.data,data:t.deferredData.unwrappedData}}catch(s){return{type:pt.error,error:s}}return{type:pt.data,data:t.deferredData.data}}}function vx(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function ku(t,e){let n=typeof e=="string"?Fo(e).search:e.search;if(t[t.length-1].route.index&&vx(n||""))return t[t.length-1];let r=tD(t);return r[r.length-1]}function wC(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:i,json:o}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function av(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function l6(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function wu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function c6(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ki(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function u6(t,e){try{let n=t.sessionStorage.getItem(rD);if(n){let r=JSON.parse(n);for(let[s,i]of Object.entries(r||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function d6(t,e){if(e.size>0){let n={};for(let[r,s]of e)n[r]=[...s];try{t.sessionStorage.setItem(rD,JSON.stringify(n))}catch(r){_c(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lm(){return lm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lm.apply(this,arguments)}const fg=m.createContext(null),lD=m.createContext(null),Uo=m.createContext(null),wx=m.createContext(null),Bo=m.createContext({outlet:null,matches:[],isDataRoute:!1}),cD=m.createContext(null);function h6(t,e){let{relative:n}=e===void 0?{}:e;Vc()||We(!1);let{basename:r,navigator:s}=m.useContext(Uo),{hash:i,pathname:o,search:a}=dD(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ti([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Vc(){return m.useContext(wx)!=null}function Sh(){return Vc()||We(!1),m.useContext(wx).location}function uD(t){m.useContext(Uo).static||m.useLayoutEffect(t)}function pg(){let{isDataRoute:t}=m.useContext(Bo);return t?T6():f6()}function f6(){Vc()||We(!1);let t=m.useContext(fg),{basename:e,future:n,navigator:r}=m.useContext(Uo),{matches:s}=m.useContext(Bo),{pathname:i}=Sh(),o=JSON.stringify(dg(s,n.v7_relativeSplatPath)),a=m.useRef(!1);return uD(()=>{a.current=!0}),m.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=hg(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ti([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,i,t])}function dD(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext(Uo),{matches:s}=m.useContext(Bo),{pathname:i}=Sh(),o=JSON.stringify(dg(s,r.v7_relativeSplatPath));return m.useMemo(()=>hg(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function p6(t,e,n,r){Vc()||We(!1);let{navigator:s}=m.useContext(Uo),{matches:i}=m.useContext(Bo),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Sh(),u;u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=aa(t,{pathname:p});return w6(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:ti([l,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:ti([l,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r)}function m6(){let t=pD(),e=Th(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:s},n):null,null)}const g6=m.createElement(m6,null);class y6 extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(Bo.Provider,{value:this.props.routeContext},m.createElement(cD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function v6(t){let{routeContext:e,match:n,children:r}=t,s=m.useContext(fg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Bo.Provider,{value:e},r)}function w6(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||We(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:p,errors:g}=n,w=h.route.loader&&p[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,p)=>{let g,w=!1,y=null,E=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||g6,l&&(c<0&&p===0?(S6("route-fallback"),w=!0,E=null):c===p&&(w=!0,E=h.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,p+1)),v=()=>{let S;return g?S=y:w?S=E:h.route.Component?S=m.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=u,m.createElement(v6,{match:h,routeContext:{outlet:u,matches:_,isDataRoute:n!=null},children:S})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?m.createElement(y6,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:v(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):v()},null)}var hD=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(hD||{}),cm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(cm||{});function _6(t){let e=m.useContext(fg);return e||We(!1),e}function x6(t){let e=m.useContext(lD);return e||We(!1),e}function E6(t){let e=m.useContext(Bo);return e||We(!1),e}function fD(t){let e=E6(),n=e.matches[e.matches.length-1];return n.route.id||We(!1),n.route.id}function pD(){var t;let e=m.useContext(cD),n=x6(cm.UseRouteError),r=fD(cm.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function T6(){let{router:t}=_6(hD.UseNavigateStable),e=fD(cm.UseNavigateStable),n=m.useRef(!1);return uD(()=>{n.current=!0}),m.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,lm({fromRouteId:e},i)))},[t,e])}const _C={};function S6(t,e,n){_C[t]||(_C[t]=!0)}function mD(t){let{to:e,replace:n,state:r,relative:s}=t;Vc()||We(!1);let{future:i,static:o}=m.useContext(Uo),{matches:a}=m.useContext(Bo),{pathname:l}=Sh(),c=pg(),u=hg(e,dg(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(u);return m.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function b6(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Zt.Pop,navigator:i,static:o=!1,future:a}=t;Vc()&&We(!1);let l=e.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:l,navigator:i,static:o,future:lm({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Fo(r));let{pathname:u="/",search:h="",hash:p="",state:g=null,key:w="default"}=r,y=m.useMemo(()=>{let E=jc(u,l);return E==null?null:{location:{pathname:E,search:h,hash:p,state:g,key:w},navigationType:s}},[l,u,h,p,g,w,s]);return y==null?null:m.createElement(Uo.Provider,{value:c},m.createElement(wx.Provider,{children:n,value:y}))}new Promise(()=>{});function C6(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:m.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:m.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:m.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Md(){return Md=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Md.apply(this,arguments)}function P6(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function R6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function I6(t,e){return t.button===0&&(!e||e==="_self")&&!R6(t)}const A6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],N6="6";try{window.__reactRouterVersion=N6}catch{}function D6(t,e){return z9({basename:e==null?void 0:e.basename,future:Md({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:f9({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||k6(),routes:t,mapRouteProperties:C6,unstable_dataStrategy:e==null?void 0:e.unstable_dataStrategy,unstable_patchRoutesOnNavigation:e==null?void 0:e.unstable_patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function k6(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Md({},e,{errors:M6(e.errors)})),e}function M6(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new am(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let i=new Error(s.message);i.stack="",n[r]=i}}else n[r]=s;return n}const O6=m.createContext({isTransitioning:!1}),L6=m.createContext(new Map),j6="startTransition",xC=J1[j6],V6="flushSync",EC=o$[V6];function F6(t){xC?xC(t):t()}function _u(t){EC?EC(t):t()}class U6{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function B6(t){let{fallbackElement:e,router:n,future:r}=t,[s,i]=m.useState(n.state),[o,a]=m.useState(),[l,c]=m.useState({isTransitioning:!1}),[u,h]=m.useState(),[p,g]=m.useState(),[w,y]=m.useState(),E=m.useRef(new Map),{v7_startTransition:_}=r||{},v=m.useCallback(T=>{_?F6(T):T()},[_]),S=m.useCallback((T,R)=>{let{deletedFetchers:I,unstable_flushSync:M,unstable_viewTransitionOpts:k}=R;I.forEach(H=>E.current.delete(H)),T.fetchers.forEach((H,ae)=>{H.data!==void 0&&E.current.set(ae,H.data)});let D=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!k||D){M?_u(()=>i(T)):v(()=>i(T));return}if(M){_u(()=>{p&&(u&&u.resolve(),p.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:k.currentLocation,nextLocation:k.nextLocation})});let H=n.window.document.startViewTransition(()=>{_u(()=>i(T))});H.finished.finally(()=>{_u(()=>{h(void 0),g(void 0),a(void 0),c({isTransitioning:!1})})}),_u(()=>g(H));return}p?(u&&u.resolve(),p.skipTransition(),y({state:T,currentLocation:k.currentLocation,nextLocation:k.nextLocation})):(a(T),c({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}))},[n.window,p,u,E,v]);m.useLayoutEffect(()=>n.subscribe(S),[n,S]),m.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new U6)},[l]),m.useEffect(()=>{if(u&&o&&n.window){let T=o,R=u.promise,I=n.window.document.startViewTransition(async()=>{v(()=>i(T)),await R});I.finished.finally(()=>{h(void 0),g(void 0),a(void 0),c({isTransitioning:!1})}),g(I)}},[v,o,u,n.window]),m.useEffect(()=>{u&&o&&s.location.key===o.location.key&&u.resolve()},[u,p,s.location,o]),m.useEffect(()=>{!l.isTransitioning&&w&&(a(w.state),c({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),y(void 0))},[l.isTransitioning,w]),m.useEffect(()=>{},[]);let P=m.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:T=>n.navigate(T),push:(T,R,I)=>n.navigate(T,{state:R,preventScrollReset:I==null?void 0:I.preventScrollReset}),replace:(T,R,I)=>n.navigate(T,{replace:!0,state:R,preventScrollReset:I==null?void 0:I.preventScrollReset})}),[n]),A=n.basename||"/",O=m.useMemo(()=>({router:n,navigator:P,static:!1,basename:A}),[n,P,A]),C=m.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return m.createElement(m.Fragment,null,m.createElement(fg.Provider,{value:O},m.createElement(lD.Provider,{value:s},m.createElement(L6.Provider,{value:E.current},m.createElement(O6.Provider,{value:l},m.createElement(b6,{basename:A,location:s.location,navigationType:s.historyAction,navigator:P,future:C},s.initialized||n.future.v7_partialHydration?m.createElement($6,{routes:n.routes,future:n.future,state:s}):e))))),null)}const $6=m.memo(z6);function z6(t){let{routes:e,future:n,state:r}=t;return p6(e,void 0,r,n)}const W6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",K6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,H6=m.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:h}=e,p=P6(e,A6),{basename:g}=m.useContext(Uo),w,y=!1;if(typeof c=="string"&&K6.test(c)&&(w=c,W6))try{let S=new URL(window.location.href),P=c.startsWith("//")?new URL(S.protocol+c):new URL(c),A=jc(P.pathname,g);P.origin===S.origin&&A!=null?c=A+P.search+P.hash:y=!0}catch{}let E=h6(c,{relative:s}),_=G6(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,unstable_viewTransition:h});function v(S){r&&r(S),S.defaultPrevented||_(S)}return m.createElement("a",Md({},p,{href:w||E,onClick:y||i?r:v,ref:n,target:l}))});var TC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(TC||(TC={}));var SC;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(SC||(SC={}));function G6(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=pg(),c=Sh(),u=dD(t,{relative:o});return m.useCallback(h=>{if(I6(h,n)){h.preventDefault();let p=r!==void 0?r:La(c)===La(u);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[c,l,u,r,s,n,t,i,o,a])}const q6=()=>{const t=wc(n=>n.isAuth),e=pg();m.useEffect(()=>{(async()=>{try{const r=Mz();await v5(r),rn("Sign in success")}catch{}})()},[]),m.useEffect(()=>{if(!t)return e("/login")},[t])};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gD=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Y6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>m.createElement("svg",{ref:l,...Y6,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:gD("lucide",s),...a},[...o.map(([c,u])=>m.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=(t,e)=>{const n=m.forwardRef(({className:r,...s},i)=>m.createElement(X6,{ref:i,iconNode:e,className:gD(`lucide-${Q6(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=nt("Blocks",[["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["path",{d:"M10 21V8a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H3",key:"1fpvtg"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=nt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eW=nt("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tW=nt("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=nt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=nt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nW=nt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=nt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rW=nt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=nt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sW=nt("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iW=nt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=nt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=nt("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=nt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=nt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aW=nt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=nt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=nt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=nt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uW=nt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=nt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=nt("PanelRight",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=nt("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=nt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=nt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=nt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=nt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=nt("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=nt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=nt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=nt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=nt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=nt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function ee(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function yW(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function gg(...t){return e=>t.forEach(n=>yW(n,e))}function ke(...t){return m.useCallback(gg(...t),t)}function vW(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=h=>{var _;const{scope:p,children:g,...w}=h,y=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,E=m.useMemo(()=>w,Object.values(w));return f.jsx(y.Provider,{value:E,children:g})};c.displayName=i+"Provider";function u(h,p){var y;const g=((y=p==null?void 0:p[t])==null?void 0:y[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,wW(s,...e)]}function wW(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function At(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function So({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=_W({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=At(n),l=m.useCallback(c=>{if(i){const h=typeof c=="function"?c(t):c;h!==t&&a(h)}else s(c)},[i,t,s,a]);return[o,l]}function _W({defaultProp:t,onChange:e}){const n=m.useState(t),[r]=n,s=m.useRef(r),i=At(e);return m.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var bo=m.forwardRef((t,e)=>{const{children:n,...r}=t,s=m.Children.toArray(n),i=s.find(xW);if(i){const o=i.props.children,a=s.map(l=>l===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:l);return f.jsx(Yw,{...r,ref:e,children:m.isValidElement(o)?m.cloneElement(o,void 0,a):null})}return f.jsx(Yw,{...r,ref:e,children:n})});bo.displayName="Slot";var Yw=m.forwardRef((t,e)=>{const{children:n,...r}=t;if(m.isValidElement(n)){const s=TW(n);return m.cloneElement(n,{...EW(r,n.props),ref:e?gg(e,s):s})}return m.Children.count(n)>1?m.Children.only(null):null});Yw.displayName="SlotClone";var xx=({children:t})=>f.jsx(f.Fragment,{children:t});function xW(t){return m.isValidElement(t)&&t.type===xx}function EW(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function TW(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var SW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],xe=SW.reduce((t,e)=>{const n=m.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?bo:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function qa(t,e){t&&xi.flushSync(()=>t.dispatchEvent(e))}function Fc(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:p,children:g,...w}=h,y=(p==null?void 0:p[t][l])||a,E=m.useMemo(()=>w,Object.values(w));return f.jsx(y.Provider,{value:E,children:g})}function u(h,p){const g=(p==null?void 0:p[t][l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,bW(s,...e)]}function bW(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function yg(t){const e=t+"CollectionProvider",[n,r]=Fc(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:w,children:y}=g,E=ze.useRef(null),_=ze.useRef(new Map).current;return f.jsx(s,{scope:w,itemMap:_,collectionRef:E,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=ze.forwardRef((g,w)=>{const{scope:y,children:E}=g,_=i(a,y),v=ke(w,_.collectionRef);return f.jsx(bo,{ref:v,children:E})});l.displayName=a;const c=t+"CollectionItemSlot",u="data-radix-collection-item",h=ze.forwardRef((g,w)=>{const{scope:y,children:E,..._}=g,v=ze.useRef(null),S=ke(w,v),P=i(c,y);return ze.useEffect(()=>(P.itemMap.set(v,{ref:v,..._}),()=>void P.itemMap.delete(v))),f.jsx(bo,{[u]:"",ref:S,children:E})});h.displayName=c;function p(g){const w=i(t+"CollectionConsumer",g);return ze.useCallback(()=>{const E=w.collectionRef.current;if(!E)return[];const _=Array.from(E.querySelectorAll(`[${u}]`));return Array.from(w.itemMap.values()).sort((P,A)=>_.indexOf(P.ref.current)-_.indexOf(A.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},p,r]}function CW(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=h=>{var _;const{scope:p,children:g,...w}=h,y=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,E=m.useMemo(()=>w,Object.values(w));return f.jsx(y.Provider,{value:E,children:g})};c.displayName=i+"Provider";function u(h,p){var y;const g=((y=p==null?void 0:p[t])==null?void 0:y[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,PW(s,...e)]}function PW(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var RW=m.createContext(void 0);function vg(t){const e=m.useContext(RW);return t||e||"ltr"}function Ch(t,e=globalThis==null?void 0:globalThis.document){const n=At(t);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var IW="DismissableLayer",Xw="dismissableLayer.update",AW="dismissableLayer.pointerDownOutside",NW="dismissableLayer.focusOutside",bC,RD=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ID=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(RD),[u,h]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=ke(e,C=>h(C)),y=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=y.indexOf(E),v=u?y.indexOf(u):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,P=v>=_,A=MW(C=>{const T=C.target,R=[...c.branches].some(I=>I.contains(T));!P||R||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),O=OW(C=>{const T=C.target;[...c.branches].some(I=>I.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return Ch(C=>{v===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(bC=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),CC(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=bC)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),CC())},[u,c]),m.useEffect(()=>{const C=()=>g({});return document.addEventListener(Xw,C),()=>document.removeEventListener(Xw,C)},[]),f.jsx(xe.div,{...l,ref:w,style:{pointerEvents:S?P?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,A.onPointerDownCapture)})});ID.displayName=IW;var DW="DismissableLayerBranch",kW=m.forwardRef((t,e)=>{const n=m.useContext(RD),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(xe.div,{...t,ref:s})});kW.displayName=DW;function MW(t,e=globalThis==null?void 0:globalThis.document){const n=At(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){AD(AW,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function OW(t,e=globalThis==null?void 0:globalThis.document){const n=At(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&AD(NW,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function CC(){const t=new CustomEvent(Xw);document.dispatchEvent(t)}function AD(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?qa(s,i):s.dispatchEvent(i)}var lv=0;function Ex(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??PC()),document.body.insertAdjacentElement("beforeend",t[1]??PC()),lv++,()=>{lv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),lv--}},[])}function PC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var cv="focusScope.autoFocusOnMount",uv="focusScope.autoFocusOnUnmount",RC={bubbles:!1,cancelable:!0},LW="FocusScope",wg=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=m.useState(null),c=At(s),u=At(i),h=m.useRef(null),p=ke(e,y=>l(y)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let y=function(S){if(g.paused||!a)return;const P=S.target;a.contains(P)?h.current=P:Mi(h.current,{select:!0})},E=function(S){if(g.paused||!a)return;const P=S.relatedTarget;P!==null&&(a.contains(P)||Mi(h.current,{select:!0}))},_=function(S){if(document.activeElement===document.body)for(const A of S)A.removedNodes.length>0&&Mi(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",E);const v=new MutationObserver(_);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",E),v.disconnect()}}},[r,a,g.paused]),m.useEffect(()=>{if(a){AC.add(g);const y=document.activeElement;if(!a.contains(y)){const _=new CustomEvent(cv,RC);a.addEventListener(cv,c),a.dispatchEvent(_),_.defaultPrevented||(jW($W(ND(a)),{select:!0}),document.activeElement===y&&Mi(a))}return()=>{a.removeEventListener(cv,c),setTimeout(()=>{const _=new CustomEvent(uv,RC);a.addEventListener(uv,u),a.dispatchEvent(_),_.defaultPrevented||Mi(y??document.body,{select:!0}),a.removeEventListener(uv,u),AC.remove(g)},0)}}},[a,c,u,g]);const w=m.useCallback(y=>{if(!n&&!r||g.paused)return;const E=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,_=document.activeElement;if(E&&_){const v=y.currentTarget,[S,P]=VW(v);S&&P?!y.shiftKey&&_===P?(y.preventDefault(),n&&Mi(S,{select:!0})):y.shiftKey&&_===S&&(y.preventDefault(),n&&Mi(P,{select:!0})):_===v&&y.preventDefault()}},[n,r,g.paused]);return f.jsx(xe.div,{tabIndex:-1,...o,ref:p,onKeyDown:w})});wg.displayName=LW;function jW(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Mi(r,{select:e}),document.activeElement!==n)return}function VW(t){const e=ND(t),n=IC(e,t),r=IC(e.reverse(),t);return[n,r]}function ND(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function IC(t,e){for(const n of t)if(!FW(n,{upTo:e}))return n}function FW(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function UW(t){return t instanceof HTMLInputElement&&"select"in t}function Mi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&UW(t)&&e&&t.select()}}var AC=BW();function BW(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=NC(t,e),t.unshift(e)},remove(e){var n;t=NC(t,e),(n=t[0])==null||n.resume()}}}function NC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function $W(t){return t.filter(e=>e.tagName!=="A")}var Pt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},zW=J1.useId||(()=>{}),WW=0;function ss(t){const[e,n]=m.useState(zW());return Pt(()=>{t||n(r=>r??String(WW++))},[t]),t||(e?`radix-${e}`:"")}const KW=["top","right","bottom","left"],Co=Math.min,gr=Math.max,dm=Math.round,If=Math.floor,Po=t=>({x:t,y:t}),HW={left:"right",right:"left",bottom:"top",top:"bottom"},GW={start:"end",end:"start"};function Jw(t,e,n){return gr(t,Co(e,n))}function pi(t,e){return typeof t=="function"?t(e):t}function mi(t){return t.split("-")[0]}function Uc(t){return t.split("-")[1]}function Tx(t){return t==="x"?"y":"x"}function Sx(t){return t==="y"?"height":"width"}function Ro(t){return["top","bottom"].includes(mi(t))?"y":"x"}function bx(t){return Tx(Ro(t))}function qW(t,e,n){n===void 0&&(n=!1);const r=Uc(t),s=bx(t),i=Sx(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=hm(o)),[o,hm(o)]}function QW(t){const e=hm(t);return[Zw(t),e,Zw(e)]}function Zw(t){return t.replace(/start|end/g,e=>GW[e])}function YW(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function XW(t,e,n,r){const s=Uc(t);let i=YW(mi(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Zw)))),i}function hm(t){return t.replace(/left|right|bottom|top/g,e=>HW[e])}function JW(t){return{top:0,right:0,bottom:0,left:0,...t}}function DD(t){return typeof t!="number"?JW(t):{top:t,right:t,bottom:t,left:t}}function fm(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function DC(t,e,n){let{reference:r,floating:s}=t;const i=Ro(e),o=bx(e),a=Sx(o),l=mi(e),c=i==="y",u=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:u,y:r.y-s.height};break;case"bottom":g={x:u,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-s.width,y:h};break;default:g={x:r.x,y:r.y}}switch(Uc(e)){case"start":g[o]-=p*(n&&c?-1:1);break;case"end":g[o]+=p*(n&&c?-1:1);break}return g}const ZW=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:h}=DC(c,r,l),p=r,g={},w=0;for(let y=0;y<a.length;y++){const{name:E,fn:_}=a[y],{x:v,y:S,data:P,reset:A}=await _({x:u,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});u=v??u,h=S??h,g={...g,[E]:{...g[E],...P}},A&&w<=50&&(w++,typeof A=="object"&&(A.placement&&(p=A.placement),A.rects&&(c=A.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):A.rects),{x:u,y:h}=DC(c,p,l)),y=-1)}return{x:u,y:h,placement:p,strategy:s,middlewareData:g}};async function Od(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:p=!1,padding:g=0}=pi(e,t),w=DD(g),E=a[p?h==="floating"?"reference":"floating":h],_=fm(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),P=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},A=fm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:S,strategy:l}):v);return{top:(_.top-A.top+w.top)/P.y,bottom:(A.bottom-_.bottom+w.bottom)/P.y,left:(_.left-A.left+w.left)/P.x,right:(A.right-_.right+w.right)/P.x}}const eK=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=pi(t,e)||{};if(c==null)return{};const h=DD(u),p={x:n,y:r},g=bx(s),w=Sx(g),y=await o.getDimensions(c),E=g==="y",_=E?"top":"left",v=E?"bottom":"right",S=E?"clientHeight":"clientWidth",P=i.reference[w]+i.reference[g]-p[g]-i.floating[w],A=p[g]-i.reference[g],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=O?O[S]:0;(!C||!await(o.isElement==null?void 0:o.isElement(O)))&&(C=a.floating[S]||i.floating[w]);const T=P/2-A/2,R=C/2-y[w]/2-1,I=Co(h[_],R),M=Co(h[v],R),k=I,D=C-y[w]-M,H=C/2-y[w]/2+T,ae=Jw(k,H,D),te=!l.arrow&&Uc(s)!=null&&H!==ae&&i.reference[w]/2-(H<k?I:M)-y[w]/2<0,ne=te?H<k?H-k:H-D:0;return{[g]:p[g]+ne,data:{[g]:ae,centerOffset:H-ae-ne,...te&&{alignmentOffset:ne}},reset:te}}}),tK=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,...E}=pi(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=mi(s),v=Ro(a),S=mi(a)===a,P=await(l.isRTL==null?void 0:l.isRTL(c.floating)),A=p||(S||!y?[hm(a)]:QW(a)),O=w!=="none";!p&&O&&A.push(...XW(a,y,w,P));const C=[a,...A],T=await Od(e,E),R=[];let I=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&R.push(T[_]),h){const H=qW(s,o,P);R.push(T[H[0]],T[H[1]])}if(I=[...I,{placement:s,overflows:R}],!R.every(H=>H<=0)){var M,k;const H=(((M=i.flip)==null?void 0:M.index)||0)+1,ae=C[H];if(ae)return{data:{index:H,overflows:I},reset:{placement:ae}};let te=(k=I.filter(ne=>ne.overflows[0]<=0).sort((ne,z)=>ne.overflows[1]-z.overflows[1])[0])==null?void 0:k.placement;if(!te)switch(g){case"bestFit":{var D;const ne=(D=I.filter(z=>{if(O){const B=Ro(z.placement);return B===v||B==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(B=>B>0).reduce((B,Z)=>B+Z,0)]).sort((z,B)=>z[1]-B[1])[0])==null?void 0:D[0];ne&&(te=ne);break}case"initialPlacement":te=a;break}if(s!==te)return{reset:{placement:te}}}return{}}}};function kC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function MC(t){return KW.some(e=>t[e]>=0)}const nK=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=pi(t,e);switch(r){case"referenceHidden":{const i=await Od(e,{...s,elementContext:"reference"}),o=kC(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:MC(o)}}}case"escaped":{const i=await Od(e,{...s,altBoundary:!0}),o=kC(i,n.floating);return{data:{escapedOffsets:o,escaped:MC(o)}}}default:return{}}}}};async function rK(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=mi(n),a=Uc(n),l=Ro(n)==="y",c=["left","top"].includes(o)?-1:1,u=i&&l?-1:1,h=pi(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof w=="number"&&(g=a==="end"?w*-1:w),l?{x:g*u,y:p*c}:{x:p*c,y:g*u}}const sK=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await rK(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},iK=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x:_,y:v}=E;return{x:_,y:v}}},...l}=pi(t,e),c={x:n,y:r},u=await Od(e,l),h=Ro(mi(s)),p=Tx(h);let g=c[p],w=c[h];if(i){const E=p==="y"?"top":"left",_=p==="y"?"bottom":"right",v=g+u[E],S=g-u[_];g=Jw(v,g,S)}if(o){const E=h==="y"?"top":"left",_=h==="y"?"bottom":"right",v=w+u[E],S=w-u[_];w=Jw(v,w,S)}const y=a.fn({...e,[p]:g,[h]:w});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[p]:i,[h]:o}}}}}},oK=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=pi(t,e),u={x:n,y:r},h=Ro(s),p=Tx(h);let g=u[p],w=u[h];const y=pi(a,e),E=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const S=p==="y"?"height":"width",P=i.reference[p]-i.floating[S]+E.mainAxis,A=i.reference[p]+i.reference[S]-E.mainAxis;g<P?g=P:g>A&&(g=A)}if(c){var _,v;const S=p==="y"?"width":"height",P=["top","left"].includes(mi(s)),A=i.reference[h]-i.floating[S]+(P&&((_=o.offset)==null?void 0:_[h])||0)+(P?0:E.crossAxis),O=i.reference[h]+i.reference[S]+(P?0:((v=o.offset)==null?void 0:v[h])||0)-(P?E.crossAxis:0);w<A?w=A:w>O&&(w=O)}return{[p]:g,[h]:w}}}},aK=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=pi(t,e),u=await Od(e,c),h=mi(s),p=Uc(s),g=Ro(s)==="y",{width:w,height:y}=i.floating;let E,_;h==="top"||h==="bottom"?(E=h,_=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=h,E=p==="end"?"top":"bottom");const v=y-u.top-u.bottom,S=w-u.left-u.right,P=Co(y-u[E],v),A=Co(w-u[_],S),O=!e.middlewareData.shift;let C=P,T=A;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=v),O&&!p){const I=gr(u.left,0),M=gr(u.right,0),k=gr(u.top,0),D=gr(u.bottom,0);g?T=w-2*(I!==0||M!==0?I+M:gr(u.left,u.right)):C=y-2*(k!==0||D!==0?k+D:gr(u.top,u.bottom))}await l({...e,availableWidth:T,availableHeight:C});const R=await o.getDimensions(a.floating);return w!==R.width||y!==R.height?{reset:{rects:!0}}:{}}}};function _g(){return typeof window<"u"}function Bc(t){return kD(t)?(t.nodeName||"").toLowerCase():"#document"}function _r(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ls(t){var e;return(e=(kD(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function kD(t){return _g()?t instanceof Node||t instanceof _r(t).Node:!1}function os(t){return _g()?t instanceof Element||t instanceof _r(t).Element:!1}function Ds(t){return _g()?t instanceof HTMLElement||t instanceof _r(t).HTMLElement:!1}function OC(t){return!_g()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof _r(t).ShadowRoot}function Ph(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=as(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function lK(t){return["table","td","th"].includes(Bc(t))}function xg(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Cx(t){const e=Px(),n=os(t)?as(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function cK(t){let e=Io(t);for(;Ds(e)&&!xc(e);){if(Cx(e))return e;if(xg(e))return null;e=Io(e)}return null}function Px(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function xc(t){return["html","body","#document"].includes(Bc(t))}function as(t){return _r(t).getComputedStyle(t)}function Eg(t){return os(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Io(t){if(Bc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||OC(t)&&t.host||Ls(t);return OC(e)?e.host:e}function MD(t){const e=Io(t);return xc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ds(e)&&Ph(e)?e:MD(e)}function Ld(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=MD(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=_r(s);if(i){const a=e0(o);return e.concat(o,o.visualViewport||[],Ph(s)?s:[],a&&n?Ld(a):[])}return e.concat(s,Ld(s,[],n))}function e0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function OD(t){const e=as(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Ds(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=dm(n)!==i||dm(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Rx(t){return os(t)?t:t.contextElement}function Kl(t){const e=Rx(t);if(!Ds(e))return Po(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=OD(e);let o=(i?dm(n.width):n.width)/r,a=(i?dm(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const uK=Po(0);function LD(t){const e=_r(t);return!Px()||!e.visualViewport?uK:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function dK(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==_r(t)?!1:e}function ja(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Rx(t);let o=Po(1);e&&(r?os(r)&&(o=Kl(r)):o=Kl(t));const a=dK(i,n,r)?LD(i):Po(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,h=s.height/o.y;if(i){const p=_r(i),g=r&&os(r)?_r(r):r;let w=p,y=e0(w);for(;y&&r&&g!==w;){const E=Kl(y),_=y.getBoundingClientRect(),v=as(y),S=_.left+(y.clientLeft+parseFloat(v.paddingLeft))*E.x,P=_.top+(y.clientTop+parseFloat(v.paddingTop))*E.y;l*=E.x,c*=E.y,u*=E.x,h*=E.y,l+=S,c+=P,w=_r(y),y=e0(w)}}return fm({width:u,height:h,x:l,y:c})}function hK(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Ls(r),a=e?xg(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Po(1);const u=Po(0),h=Ds(r);if((h||!h&&!i)&&((Bc(r)!=="body"||Ph(o))&&(l=Eg(r)),Ds(r))){const p=ja(r);c=Kl(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function fK(t){return Array.from(t.getClientRects())}function t0(t,e){const n=Eg(t).scrollLeft;return e?e.left+n:ja(Ls(t)).left+n}function pK(t){const e=Ls(t),n=Eg(t),r=t.ownerDocument.body,s=gr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=gr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+t0(t);const a=-n.scrollTop;return as(r).direction==="rtl"&&(o+=gr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function mK(t,e){const n=_r(t),r=Ls(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=Px();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function gK(t,e){const n=ja(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Ds(t)?Kl(t):Po(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function LC(t,e,n){let r;if(e==="viewport")r=mK(t,n);else if(e==="document")r=pK(Ls(t));else if(os(e))r=gK(e,n);else{const s=LD(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return fm(r)}function jD(t,e){const n=Io(t);return n===e||!os(n)||xc(n)?!1:as(n).position==="fixed"||jD(n,e)}function yK(t,e){const n=e.get(t);if(n)return n;let r=Ld(t,[],!1).filter(a=>os(a)&&Bc(a)!=="body"),s=null;const i=as(t).position==="fixed";let o=i?Io(t):t;for(;os(o)&&!xc(o);){const a=as(o),l=Cx(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Ph(o)&&!l&&jD(t,o))?r=r.filter(u=>u!==o):s=a,o=Io(o)}return e.set(t,r),r}function vK(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?xg(e)?[]:yK(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const h=LC(e,u,s);return c.top=gr(h.top,c.top),c.right=Co(h.right,c.right),c.bottom=Co(h.bottom,c.bottom),c.left=gr(h.left,c.left),c},LC(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function wK(t){const{width:e,height:n}=OD(t);return{width:e,height:n}}function _K(t,e,n){const r=Ds(e),s=Ls(e),i=n==="fixed",o=ja(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Po(0);if(r||!r&&!i)if((Bc(e)!=="body"||Ph(s))&&(a=Eg(e)),r){const g=ja(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&(l.x=t0(s));let c=0,u=0;if(s&&!r&&!i){const g=s.getBoundingClientRect();u=g.top+a.scrollTop,c=g.left+a.scrollLeft-t0(s,g)}const h=o.left+a.scrollLeft-l.x-c,p=o.top+a.scrollTop-l.y-u;return{x:h,y:p,width:o.width,height:o.height}}function dv(t){return as(t).position==="static"}function jC(t,e){if(!Ds(t)||as(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ls(t)===n&&(n=n.ownerDocument.body),n}function VD(t,e){const n=_r(t);if(xg(t))return n;if(!Ds(t)){let s=Io(t);for(;s&&!xc(s);){if(os(s)&&!dv(s))return s;s=Io(s)}return n}let r=jC(t,e);for(;r&&lK(r)&&dv(r);)r=jC(r,e);return r&&xc(r)&&dv(r)&&!Cx(r)?n:r||cK(t)||n}const xK=async function(t){const e=this.getOffsetParent||VD,n=this.getDimensions,r=await n(t.floating);return{reference:_K(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function EK(t){return as(t).direction==="rtl"}const TK={convertOffsetParentRelativeRectToViewportRelativeRect:hK,getDocumentElement:Ls,getClippingRect:vK,getOffsetParent:VD,getElementRects:xK,getClientRects:fK,getDimensions:wK,getScale:Kl,isElement:os,isRTL:EK};function SK(t,e){let n=null,r;const s=Ls(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:u,width:h,height:p}=t.getBoundingClientRect();if(a||e(),!h||!p)return;const g=If(u),w=If(s.clientWidth-(c+h)),y=If(s.clientHeight-(u+p)),E=If(c),v={rootMargin:-g+"px "+-w+"px "+-y+"px "+-E+"px",threshold:gr(0,Co(1,l))||1};let S=!0;function P(A){const O=A[0].intersectionRatio;if(O!==l){if(!S)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S=!1}try{n=new IntersectionObserver(P,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(P,v)}n.observe(t)}return o(!0),i}function bK(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Rx(t),u=s||i?[...c?Ld(c):[],...Ld(e)]:[];u.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const h=c&&a?SK(c,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(_=>{let[v]=_;v&&v.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var S;(S=g)==null||S.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let w,y=l?ja(t):null;l&&E();function E(){const _=ja(t);y&&(_.x!==y.x||_.y!==y.y||_.width!==y.width||_.height!==y.height)&&n(),y=_,w=requestAnimationFrame(E)}return n(),()=>{var _;u.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),h==null||h(),(_=g)==null||_.disconnect(),g=null,l&&cancelAnimationFrame(w)}}const CK=sK,PK=iK,RK=tK,IK=aK,AK=nK,VC=eK,NK=oK,DK=(t,e,n)=>{const r=new Map,s={platform:TK,...n},i={...s.platform,_c:r};return ZW(t,e,{...s,platform:i})};var fp=typeof document<"u"?m.useLayoutEffect:m.useEffect;function pm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!pm(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!pm(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function FD(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function FC(t,e){const n=FD(t);return Math.round(e*n)/n}function hv(t){const e=m.useRef(t);return fp(()=>{e.current=t}),e}function kK(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,h]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=m.useState(r);pm(p,r)||g(r);const[w,y]=m.useState(null),[E,_]=m.useState(null),v=m.useCallback(z=>{z!==O.current&&(O.current=z,y(z))},[]),S=m.useCallback(z=>{z!==C.current&&(C.current=z,_(z))},[]),P=i||w,A=o||E,O=m.useRef(null),C=m.useRef(null),T=m.useRef(u),R=l!=null,I=hv(l),M=hv(s),k=hv(c),D=m.useCallback(()=>{if(!O.current||!C.current)return;const z={placement:e,strategy:n,middleware:p};M.current&&(z.platform=M.current),DK(O.current,C.current,z).then(B=>{const Z={...B,isPositioned:k.current!==!1};H.current&&!pm(T.current,Z)&&(T.current=Z,xi.flushSync(()=>{h(Z)}))})},[p,e,n,M,k]);fp(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(z=>({...z,isPositioned:!1})))},[c]);const H=m.useRef(!1);fp(()=>(H.current=!0,()=>{H.current=!1}),[]),fp(()=>{if(P&&(O.current=P),A&&(C.current=A),P&&A){if(I.current)return I.current(P,A,D);D()}},[P,A,D,I,R]);const ae=m.useMemo(()=>({reference:O,floating:C,setReference:v,setFloating:S}),[v,S]),te=m.useMemo(()=>({reference:P,floating:A}),[P,A]),ne=m.useMemo(()=>{const z={position:n,left:0,top:0};if(!te.floating)return z;const B=FC(te.floating,u.x),Z=FC(te.floating,u.y);return a?{...z,transform:"translate("+B+"px, "+Z+"px)",...FD(te.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:Z}},[n,a,te.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:D,refs:ae,elements:te,floatingStyles:ne}),[u,D,ae,te,ne])}const MK=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?VC({element:r.current,padding:s}).fn(n):{}:r?VC({element:r,padding:s}).fn(n):{}}}},OK=(t,e)=>({...CK(t),options:[t,e]}),LK=(t,e)=>({...PK(t),options:[t,e]}),jK=(t,e)=>({...NK(t),options:[t,e]}),VK=(t,e)=>({...RK(t),options:[t,e]}),FK=(t,e)=>({...IK(t),options:[t,e]}),UK=(t,e)=>({...AK(t),options:[t,e]}),BK=(t,e)=>({...MK(t),options:[t,e]});var $K="Arrow",UD=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return f.jsx(xe.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});UD.displayName=$K;var zK=UD;function WK(t){const[e,n]=m.useState(void 0);return Pt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Ix="Popper",[BD,$c]=Fc(Ix),[KK,$D]=BD(Ix),zD=t=>{const{__scopePopper:e,children:n}=t,[r,s]=m.useState(null);return f.jsx(KK,{scope:e,anchor:r,onAnchorChange:s,children:n})};zD.displayName=Ix;var WD="PopperAnchor",KD=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=$D(WD,n),o=m.useRef(null),a=ke(e,o);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:f.jsx(xe.div,{...s,ref:a})});KD.displayName=WD;var Ax="PopperContent",[HK,GK]=BD(Ax),HD=m.forwardRef((t,e)=>{var ce,je,rt,Ve,$e,Ge;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:w,...y}=t,E=$D(Ax,n),[_,v]=m.useState(null),S=ke(e,jt=>v(jt)),[P,A]=m.useState(null),O=WK(P),C=(O==null?void 0:O.width)??0,T=(O==null?void 0:O.height)??0,R=r+(i!=="center"?"-"+i:""),I=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},M=Array.isArray(c)?c:[c],k=M.length>0,D={padding:I,boundary:M.filter(QK),altBoundary:k},{refs:H,floatingStyles:ae,placement:te,isPositioned:ne,middlewareData:z}=kK({strategy:"fixed",placement:R,whileElementsMounted:(...jt)=>bK(...jt,{animationFrame:g==="always"}),elements:{reference:E.anchor},middleware:[OK({mainAxis:s+T,alignmentAxis:o}),l&&LK({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?jK():void 0,...D}),l&&VK({...D}),FK({...D,apply:({elements:jt,rects:st,availableWidth:pn,availableHeight:Cr})=>{const{width:cs,height:L}=st.reference,$=jt.floating.style;$.setProperty("--radix-popper-available-width",`${pn}px`),$.setProperty("--radix-popper-available-height",`${Cr}px`),$.setProperty("--radix-popper-anchor-width",`${cs}px`),$.setProperty("--radix-popper-anchor-height",`${L}px`)}}),P&&BK({element:P,padding:a}),YK({arrowWidth:C,arrowHeight:T}),p&&UK({strategy:"referenceHidden",...D})]}),[B,Z]=QD(te),pe=At(w);Pt(()=>{ne&&(pe==null||pe())},[ne,pe]);const Te=(ce=z.arrow)==null?void 0:ce.x,Re=(je=z.arrow)==null?void 0:je.y,Ye=((rt=z.arrow)==null?void 0:rt.centerOffset)!==0,[mt,Ke]=m.useState();return Pt(()=>{_&&Ke(window.getComputedStyle(_).zIndex)},[_]),f.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...ae,transform:ne?ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:mt,"--radix-popper-transform-origin":[(Ve=z.transformOrigin)==null?void 0:Ve.x,($e=z.transformOrigin)==null?void 0:$e.y].join(" "),...((Ge=z.hide)==null?void 0:Ge.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(HK,{scope:n,placedSide:B,onArrowChange:A,arrowX:Te,arrowY:Re,shouldHideArrow:Ye,children:f.jsx(xe.div,{"data-side":B,"data-align":Z,...y,ref:S,style:{...y.style,animation:ne?void 0:"none"}})})})});HD.displayName=Ax;var GD="PopperArrow",qK={top:"bottom",right:"left",bottom:"top",left:"right"},qD=m.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=GK(GD,r),o=qK[i.placedSide];return f.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:f.jsx(zK,{...s,ref:n,style:{...s.style,display:"block"}})})});qD.displayName=GD;function QK(t){return t!==null}var YK=t=>({name:"transformOrigin",options:t,fn(e){var E,_,v;const{placement:n,rects:r,middlewareData:s}=e,o=((E=s.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=QD(n),h={start:"0%",center:"50%",end:"100%"}[u],p=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,g=(((v=s.arrow)==null?void 0:v.y)??0)+l/2;let w="",y="";return c==="bottom"?(w=o?h:`${p}px`,y=`${-l}px`):c==="top"?(w=o?h:`${p}px`,y=`${r.floating.height+l}px`):c==="right"?(w=`${-l}px`,y=o?h:`${g}px`):c==="left"&&(w=`${r.floating.width+l}px`,y=o?h:`${g}px`),{data:{x:w,y}}}});function QD(t){const[e,n="center"]=t.split("-");return[e,n]}var Nx=zD,Dx=KD,kx=HD,Mx=qD,XK="Portal",YD=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Pt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?gh.createPortal(f.jsx(xe.div,{...r,ref:e}),o):null});YD.displayName=XK;function JK(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var Rh=t=>{const{present:e,children:n}=t,r=ZK(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=ke(r.ref,eH(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};Rh.displayName="Presence";function ZK(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=JK(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Af(r.current);i.current=a==="mounted"?c:"none"},[a]),Pt(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=Af(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Pt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=g=>{const y=Af(r.current).includes(g.animationName);if(g.target===e&&y&&(l("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},p=g=>{g.target===e&&(i.current=Af(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Af(t){return(t==null?void 0:t.animationName)||"none"}function eH(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var fv="rovingFocusGroup.onEntryFocus",tH={bubbles:!1,cancelable:!0},Tg="RovingFocusGroup",[n0,XD,nH]=yg(Tg),[rH,Sg]=Fc(Tg,[nH]),[sH,iH]=rH(Tg),JD=m.forwardRef((t,e)=>f.jsx(n0.Provider,{scope:t.__scopeRovingFocusGroup,children:f.jsx(n0.Slot,{scope:t.__scopeRovingFocusGroup,children:f.jsx(oH,{...t,ref:e})})}));JD.displayName=Tg;var oH=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...h}=t,p=m.useRef(null),g=ke(e,p),w=vg(i),[y=null,E]=So({prop:o,defaultProp:a,onChange:l}),[_,v]=m.useState(!1),S=At(c),P=XD(n),A=m.useRef(!1),[O,C]=m.useState(0);return m.useEffect(()=>{const T=p.current;if(T)return T.addEventListener(fv,S),()=>T.removeEventListener(fv,S)},[S]),f.jsx(sH,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:y,onItemFocus:m.useCallback(T=>E(T),[E]),onItemShiftTab:m.useCallback(()=>v(!0),[]),onFocusableItemAdd:m.useCallback(()=>C(T=>T+1),[]),onFocusableItemRemove:m.useCallback(()=>C(T=>T-1),[]),children:f.jsx(xe.div,{tabIndex:_||O===0?-1:0,"data-orientation":r,...h,ref:g,style:{outline:"none",...t.style},onMouseDown:ee(t.onMouseDown,()=>{A.current=!0}),onFocus:ee(t.onFocus,T=>{const R=!A.current;if(T.target===T.currentTarget&&R&&!_){const I=new CustomEvent(fv,tH);if(T.currentTarget.dispatchEvent(I),!I.defaultPrevented){const M=P().filter(te=>te.focusable),k=M.find(te=>te.active),D=M.find(te=>te.id===y),ae=[k,D,...M].filter(Boolean).map(te=>te.ref.current);tk(ae,u)}}A.current=!1}),onBlur:ee(t.onBlur,()=>v(!1))})})}),ZD="RovingFocusGroupItem",ek=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=ss(),l=i||a,c=iH(ZD,n),u=c.currentTabStopId===l,h=XD(n),{onFocusableItemAdd:p,onFocusableItemRemove:g}=c;return m.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),f.jsx(n0.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:f.jsx(xe.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:ee(t.onMouseDown,w=>{r?c.onItemFocus(l):w.preventDefault()}),onFocus:ee(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:ee(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){c.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const y=cH(w,c.orientation,c.dir);if(y!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let _=h().filter(v=>v.focusable).map(v=>v.ref.current);if(y==="last")_.reverse();else if(y==="prev"||y==="next"){y==="prev"&&_.reverse();const v=_.indexOf(w.currentTarget);_=c.loop?uH(_,v+1):_.slice(v+1)}setTimeout(()=>tk(_))}})})})});ek.displayName=ZD;var aH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function lH(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function cH(t,e,n){const r=lH(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return aH[r]}function tk(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function uH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var nk=JD,rk=ek,dH=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ul=new WeakMap,Nf=new WeakMap,Df={},pv=0,sk=function(t){return t&&(t.host||sk(t.parentNode))},hH=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=sk(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},fH=function(t,e,n,r){var s=hH(e,Array.isArray(t)?t:[t]);Df[n]||(Df[n]=new WeakMap);var i=Df[n],o=[],a=new Set,l=new Set(s),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};s.forEach(c);var u=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))u(p);else try{var g=p.getAttribute(r),w=g!==null&&g!=="false",y=(ul.get(p)||0)+1,E=(i.get(p)||0)+1;ul.set(p,y),i.set(p,E),o.push(p),y===1&&w&&Nf.set(p,!0),E===1&&p.setAttribute(n,"true"),w||p.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",p,_)}})};return u(e),a.clear(),pv++,function(){o.forEach(function(h){var p=ul.get(h)-1,g=i.get(h)-1;ul.set(h,p),i.set(h,g),p||(Nf.has(h)||h.removeAttribute(r),Nf.delete(h)),g||h.removeAttribute(n)}),pv--,pv||(ul=new WeakMap,ul=new WeakMap,Nf=new WeakMap,Df={})}},Ox=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=dH(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),fH(r,s,n,"aria-hidden")):function(){return null}},pp="right-scroll-bar-position",mp="width-before-scroll-bar",pH="with-scroll-bars-hidden",mH="--removed-body-scroll-bar-size";function mv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function gH(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var yH=typeof window<"u"?m.useLayoutEffect:m.useEffect,UC=new WeakMap;function vH(t,e){var n=gH(null,function(r){return t.forEach(function(s){return mv(s,r)})});return yH(function(){var r=UC.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||mv(a,null)}),i.forEach(function(a){s.has(a)||mv(a,o)})}UC.set(n,t)},[t]),n}function wH(t){return t}function _H(t,e){e===void 0&&(e=wH);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var u=o;o=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return s}function xH(t){t===void 0&&(t={});var e=_H(null);return e.options=_s({async:!0,ssr:!1},t),e}var ik=function(t){var e=t.sideCar,n=wh(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,_s({},n))};ik.isSideCarExport=!0;function EH(t,e){return t.useMedium(e),ik}var ok=xH(),gv=function(){},bg=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:gv,onWheelCapture:gv,onTouchMoveCapture:gv}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,h=t.shards,p=t.sideCar,g=t.noIsolation,w=t.inert,y=t.allowPinchZoom,E=t.as,_=E===void 0?"div":E,v=t.gapMode,S=wh(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=p,A=vH([n,e]),O=_s(_s({},S),s);return m.createElement(m.Fragment,null,u&&m.createElement(P,{sideCar:ok,removeScrollBar:c,shards:h,noIsolation:g,inert:w,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:v}),o?m.cloneElement(m.Children.only(a),_s(_s({},O),{ref:A})):m.createElement(_,_s({},O,{className:l,ref:A}),a))});bg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bg.classNames={fullWidth:mp,zeroRight:pp};var TH=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function SH(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=TH();return e&&t.setAttribute("nonce",e),t}function bH(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function CH(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var PH=function(){var t=0,e=null;return{add:function(n){t==0&&(e=SH())&&(bH(e,n),CH(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},RH=function(){var t=PH();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},ak=function(){var t=RH(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},IH={left:0,top:0,right:0,gap:0},yv=function(t){return parseInt(t||"",10)||0},AH=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[yv(n),yv(r),yv(s)]},NH=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return IH;var e=AH(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},DH=ak(),Hl="data-scroll-locked",kH=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(pH,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Hl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(pp,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(mp,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(pp," .").concat(pp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(mp," .").concat(mp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Hl,`] {
    `).concat(mH,": ").concat(a,`px;
  }
`)},BC=function(){var t=parseInt(document.body.getAttribute(Hl)||"0",10);return isFinite(t)?t:0},MH=function(){m.useEffect(function(){return document.body.setAttribute(Hl,(BC()+1).toString()),function(){var t=BC()-1;t<=0?document.body.removeAttribute(Hl):document.body.setAttribute(Hl,t.toString())}},[])},OH=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;MH();var i=m.useMemo(function(){return NH(s)},[s]);return m.createElement(DH,{styles:kH(i,!e,s,n?"":"!important")})},r0=!1;if(typeof window<"u")try{var kf=Object.defineProperty({},"passive",{get:function(){return r0=!0,!0}});window.addEventListener("test",kf,kf),window.removeEventListener("test",kf,kf)}catch{r0=!1}var dl=r0?{passive:!1}:!1,LH=function(t){return t.tagName==="TEXTAREA"},lk=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!LH(t)&&n[e]==="visible")},jH=function(t){return lk(t,"overflowY")},VH=function(t){return lk(t,"overflowX")},$C=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=ck(t,r);if(s){var i=uk(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},FH=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},UH=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},ck=function(t,e){return t==="v"?jH(e):VH(e)},uk=function(t,e){return t==="v"?FH(e):UH(e)},BH=function(t,e){return t==="h"&&e==="rtl"?-1:1},$H=function(t,e,n,r,s){var i=BH(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,u=o>0,h=0,p=0;do{var g=uk(t,a),w=g[0],y=g[1],E=g[2],_=y-E-i*w;(w||_)&&ck(t,a)&&(h+=_,p+=w),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(h)<1||!s)||!u&&(Math.abs(p)<1||!s))&&(c=!0),c},Mf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},zC=function(t){return[t.deltaX,t.deltaY]},WC=function(t){return t&&"current"in t?t.current:t},zH=function(t,e){return t[0]===e[0]&&t[1]===e[1]},WH=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},KH=0,hl=[];function HH(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(KH++)[0],i=m.useState(ak)[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=j3([t.lockRef.current],(t.shards||[]).map(WC),!0).filter(Boolean);return y.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(y,E){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var _=Mf(y),v=n.current,S="deltaX"in y?y.deltaX:v[0]-_[0],P="deltaY"in y?y.deltaY:v[1]-_[1],A,O=y.target,C=Math.abs(S)>Math.abs(P)?"h":"v";if("touches"in y&&C==="h"&&O.type==="range")return!1;var T=$C(C,O);if(!T)return!0;if(T?A=C:(A=C==="v"?"h":"v",T=$C(C,O)),!T)return!1;if(!r.current&&"changedTouches"in y&&(S||P)&&(r.current=A),!A)return!0;var R=r.current||A;return $H(R,E,y,R==="h"?S:P,!0)},[]),l=m.useCallback(function(y){var E=y;if(!(!hl.length||hl[hl.length-1]!==i)){var _="deltaY"in E?zC(E):Mf(E),v=e.current.filter(function(A){return A.name===E.type&&(A.target===E.target||E.target===A.shadowParent)&&zH(A.delta,_)})[0];if(v&&v.should){E.cancelable&&E.preventDefault();return}if(!v){var S=(o.current.shards||[]).map(WC).filter(Boolean).filter(function(A){return A.contains(E.target)}),P=S.length>0?a(E,S[0]):!o.current.noIsolation;P&&E.cancelable&&E.preventDefault()}}},[]),c=m.useCallback(function(y,E,_,v){var S={name:y,delta:E,target:_,should:v,shadowParent:GH(_)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(P){return P!==S})},1)},[]),u=m.useCallback(function(y){n.current=Mf(y),r.current=void 0},[]),h=m.useCallback(function(y){c(y.type,zC(y),y.target,a(y,t.lockRef.current))},[]),p=m.useCallback(function(y){c(y.type,Mf(y),y.target,a(y,t.lockRef.current))},[]);m.useEffect(function(){return hl.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,dl),document.addEventListener("touchmove",l,dl),document.addEventListener("touchstart",u,dl),function(){hl=hl.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,dl),document.removeEventListener("touchmove",l,dl),document.removeEventListener("touchstart",u,dl)}},[]);var g=t.removeScrollBar,w=t.inert;return m.createElement(m.Fragment,null,w?m.createElement(i,{styles:WH(s)}):null,g?m.createElement(OH,{gapMode:t.gapMode}):null)}function GH(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const qH=EH(ok,HH);var Cg=m.forwardRef(function(t,e){return m.createElement(bg,_s({},t,{ref:e,sideCar:qH}))});Cg.classNames=bg.classNames;var s0=["Enter"," "],QH=["ArrowDown","PageUp","Home"],dk=["ArrowUp","PageDown","End"],YH=[...QH,...dk],XH={ltr:[...s0,"ArrowRight"],rtl:[...s0,"ArrowLeft"]},JH={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ih="Menu",[jd,ZH,e8]=yg(Ih),[Qa,hk]=CW(Ih,[e8,$c,Sg]),Pg=$c(),fk=Sg(),[t8,Ya]=Qa(Ih),[n8,Ah]=Qa(Ih),pk=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=Pg(e),[l,c]=m.useState(null),u=m.useRef(!1),h=At(i),p=vg(s);return m.useEffect(()=>{const g=()=>{u.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>u.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),f.jsx(Nx,{...a,children:f.jsx(t8,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:c,children:f.jsx(n8,{scope:e,onClose:m.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:p,modal:o,children:r})})})};pk.displayName=Ih;var r8="MenuAnchor",Lx=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Pg(n);return f.jsx(Dx,{...s,...r,ref:e})});Lx.displayName=r8;var jx="MenuPortal",[s8,mk]=Qa(jx,{forceMount:void 0}),gk=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Ya(jx,e);return f.jsx(s8,{scope:e,forceMount:n,children:f.jsx(Rh,{present:n||i.open,children:f.jsx(YD,{asChild:!0,container:s,children:r})})})};gk.displayName=jx;var Fr="MenuContent",[i8,Vx]=Qa(Fr),yk=m.forwardRef((t,e)=>{const n=mk(Fr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Ya(Fr,t.__scopeMenu),o=Ah(Fr,t.__scopeMenu);return f.jsx(jd.Provider,{scope:t.__scopeMenu,children:f.jsx(Rh,{present:r||i.open,children:f.jsx(jd.Slot,{scope:t.__scopeMenu,children:o.modal?f.jsx(o8,{...s,ref:e}):f.jsx(a8,{...s,ref:e})})})})}),o8=m.forwardRef((t,e)=>{const n=Ya(Fr,t.__scopeMenu),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return Ox(i)},[]),f.jsx(Fx,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ee(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),a8=m.forwardRef((t,e)=>{const n=Ya(Fr,t.__scopeMenu);return f.jsx(Fx,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Fx=m.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:p,onDismiss:g,disableOutsideScroll:w,...y}=t,E=Ya(Fr,n),_=Ah(Fr,n),v=Pg(n),S=fk(n),P=ZH(n),[A,O]=m.useState(null),C=m.useRef(null),T=ke(e,C,E.onContentChange),R=m.useRef(0),I=m.useRef(""),M=m.useRef(0),k=m.useRef(null),D=m.useRef("right"),H=m.useRef(0),ae=w?Cg:m.Fragment,te=w?{as:bo,allowPinchZoom:!0}:void 0,ne=B=>{var ce,je;const Z=I.current+B,pe=P().filter(rt=>!rt.disabled),Te=document.activeElement,Re=(ce=pe.find(rt=>rt.ref.current===Te))==null?void 0:ce.textValue,Ye=pe.map(rt=>rt.textValue),mt=w8(Ye,Z,Re),Ke=(je=pe.find(rt=>rt.textValue===mt))==null?void 0:je.ref.current;(function rt(Ve){I.current=Ve,window.clearTimeout(R.current),Ve!==""&&(R.current=window.setTimeout(()=>rt(""),1e3))})(Z),Ke&&setTimeout(()=>Ke.focus())};m.useEffect(()=>()=>window.clearTimeout(R.current),[]),Ex();const z=m.useCallback(B=>{var pe,Te;return D.current===((pe=k.current)==null?void 0:pe.side)&&x8(B,(Te=k.current)==null?void 0:Te.area)},[]);return f.jsx(i8,{scope:n,searchRef:I,onItemEnter:m.useCallback(B=>{z(B)&&B.preventDefault()},[z]),onItemLeave:m.useCallback(B=>{var Z;z(B)||((Z=C.current)==null||Z.focus(),O(null))},[z]),onTriggerLeave:m.useCallback(B=>{z(B)&&B.preventDefault()},[z]),pointerGraceTimerRef:M,onPointerGraceIntentChange:m.useCallback(B=>{k.current=B},[]),children:f.jsx(ae,{...te,children:f.jsx(wg,{asChild:!0,trapped:s,onMountAutoFocus:ee(i,B=>{var Z;B.preventDefault(),(Z=C.current)==null||Z.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:f.jsx(ID,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:p,onDismiss:g,children:f.jsx(nk,{asChild:!0,...S,dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:A,onCurrentTabStopIdChange:O,onEntryFocus:ee(l,B=>{_.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:f.jsx(kx,{role:"menu","aria-orientation":"vertical","data-state":kk(E.open),"data-radix-menu-content":"",dir:_.dir,...v,...y,ref:T,style:{outline:"none",...y.style},onKeyDown:ee(y.onKeyDown,B=>{const pe=B.target.closest("[data-radix-menu-content]")===B.currentTarget,Te=B.ctrlKey||B.altKey||B.metaKey,Re=B.key.length===1;pe&&(B.key==="Tab"&&B.preventDefault(),!Te&&Re&&ne(B.key));const Ye=C.current;if(B.target!==Ye||!YH.includes(B.key))return;B.preventDefault();const Ke=P().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);dk.includes(B.key)&&Ke.reverse(),y8(Ke)}),onBlur:ee(t.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(R.current),I.current="")}),onPointerMove:ee(t.onPointerMove,Vd(B=>{const Z=B.target,pe=H.current!==B.clientX;if(B.currentTarget.contains(Z)&&pe){const Te=B.clientX>H.current?"right":"left";D.current=Te,H.current=B.clientX}}))})})})})})})});yk.displayName=Fr;var l8="MenuGroup",Ux=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(xe.div,{role:"group",...r,ref:e})});Ux.displayName=l8;var c8="MenuLabel",vk=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(xe.div,{...r,ref:e})});vk.displayName=c8;var mm="MenuItem",KC="menu.itemSelect",Rg=m.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=m.useRef(null),o=Ah(mm,t.__scopeMenu),a=Vx(mm,t.__scopeMenu),l=ke(e,i),c=m.useRef(!1),u=()=>{const h=i.current;if(!n&&h){const p=new CustomEvent(KC,{bubbles:!0,cancelable:!0});h.addEventListener(KC,g=>r==null?void 0:r(g),{once:!0}),qa(h,p),p.defaultPrevented?c.current=!1:o.onClose()}};return f.jsx(wk,{...s,ref:l,disabled:n,onClick:ee(t.onClick,u),onPointerDown:h=>{var p;(p=t.onPointerDown)==null||p.call(t,h),c.current=!0},onPointerUp:ee(t.onPointerUp,h=>{var p;c.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:ee(t.onKeyDown,h=>{const p=a.searchRef.current!=="";n||p&&h.key===" "||s0.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Rg.displayName=mm;var wk=m.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=Vx(mm,n),a=fk(n),l=m.useRef(null),c=ke(e,l),[u,h]=m.useState(!1),[p,g]=m.useState("");return m.useEffect(()=>{const w=l.current;w&&g((w.textContent??"").trim())},[i.children]),f.jsx(jd.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:f.jsx(rk,{asChild:!0,...a,focusable:!r,children:f.jsx(xe.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:ee(t.onPointerMove,Vd(w=>{r?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ee(t.onPointerLeave,Vd(w=>o.onItemLeave(w))),onFocus:ee(t.onFocus,()=>h(!0)),onBlur:ee(t.onBlur,()=>h(!1))})})})}),u8="MenuCheckboxItem",_k=m.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return f.jsx(bk,{scope:t.__scopeMenu,checked:n,children:f.jsx(Rg,{role:"menuitemcheckbox","aria-checked":gm(n)?"mixed":n,...s,ref:e,"data-state":$x(n),onSelect:ee(s.onSelect,()=>r==null?void 0:r(gm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});_k.displayName=u8;var xk="MenuRadioGroup",[d8,h8]=Qa(xk,{value:void 0,onValueChange:()=>{}}),Ek=m.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=At(r);return f.jsx(d8,{scope:t.__scopeMenu,value:n,onValueChange:i,children:f.jsx(Ux,{...s,ref:e})})});Ek.displayName=xk;var Tk="MenuRadioItem",Sk=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=h8(Tk,t.__scopeMenu),i=n===s.value;return f.jsx(bk,{scope:t.__scopeMenu,checked:i,children:f.jsx(Rg,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":$x(i),onSelect:ee(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});Sk.displayName=Tk;var Bx="MenuItemIndicator",[bk,f8]=Qa(Bx,{checked:!1}),Ck=m.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=f8(Bx,n);return f.jsx(Rh,{present:r||gm(i.checked)||i.checked===!0,children:f.jsx(xe.span,{...s,ref:e,"data-state":$x(i.checked)})})});Ck.displayName=Bx;var p8="MenuSeparator",Pk=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(xe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});Pk.displayName=p8;var m8="MenuArrow",Rk=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Pg(n);return f.jsx(Mx,{...s,...r,ref:e})});Rk.displayName=m8;var g8="MenuSub",[rle,Ik]=Qa(g8),Mu="MenuSubTrigger",Ak=m.forwardRef((t,e)=>{const n=Ya(Mu,t.__scopeMenu),r=Ah(Mu,t.__scopeMenu),s=Ik(Mu,t.__scopeMenu),i=Vx(Mu,t.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},u=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>u,[u]),m.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),f.jsx(Lx,{asChild:!0,...c,children:f.jsx(wk,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":kk(n.open),...t,ref:gg(e,s.onTriggerChange),onClick:h=>{var p;(p=t.onClick)==null||p.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ee(t.onPointerMove,Vd(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:ee(t.onPointerLeave,Vd(h=>{var g,w;u();const p=(g=n.content)==null?void 0:g.getBoundingClientRect();if(p){const y=(w=n.content)==null?void 0:w.dataset.side,E=y==="right",_=E?-5:5,v=p[E?"left":"right"],S=p[E?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+_,y:h.clientY},{x:v,y:p.top},{x:S,y:p.top},{x:S,y:p.bottom},{x:v,y:p.bottom}],side:y}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ee(t.onKeyDown,h=>{var g;const p=i.searchRef.current!=="";t.disabled||p&&h.key===" "||XH[r.dir].includes(h.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),h.preventDefault())})})})});Ak.displayName=Mu;var Nk="MenuSubContent",Dk=m.forwardRef((t,e)=>{const n=mk(Fr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Ya(Fr,t.__scopeMenu),o=Ah(Fr,t.__scopeMenu),a=Ik(Nk,t.__scopeMenu),l=m.useRef(null),c=ke(e,l);return f.jsx(jd.Provider,{scope:t.__scopeMenu,children:f.jsx(Rh,{present:r||i.open,children:f.jsx(jd.Slot,{scope:t.__scopeMenu,children:f.jsx(Fx,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:ee(t.onFocusOutside,u=>{u.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ee(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:ee(t.onKeyDown,u=>{var g;const h=u.currentTarget.contains(u.target),p=JH[o.dir].includes(u.key);h&&p&&(i.onOpenChange(!1),(g=a.trigger)==null||g.focus(),u.preventDefault())})})})})})});Dk.displayName=Nk;function kk(t){return t?"open":"closed"}function gm(t){return t==="indeterminate"}function $x(t){return gm(t)?"indeterminate":t?"checked":"unchecked"}function y8(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function v8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function w8(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=v8(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function _8(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(s=!s)}return s}function x8(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return _8(n,e)}function Vd(t){return e=>e.pointerType==="mouse"?t(e):void 0}var E8=pk,T8=Lx,S8=gk,b8=yk,C8=Ux,P8=vk,R8=Rg,I8=_k,A8=Ek,N8=Sk,D8=Ck,k8=Pk,M8=Rk,O8=Ak,L8=Dk,zx="DropdownMenu",[j8,sle]=vW(zx,[hk]),er=hk(),[V8,Mk]=j8(zx),Wx=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=er(e),c=m.useRef(null),[u=!1,h]=So({prop:s,defaultProp:i,onChange:o});return f.jsx(V8,{scope:e,triggerId:ss(),triggerRef:c,contentId:ss(),open:u,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(p=>!p),[h]),modal:a,children:f.jsx(E8,{...l,open:u,onOpenChange:h,dir:r,modal:a,children:n})})};Wx.displayName=zx;var Ok="DropdownMenuTrigger",Kx=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=Mk(Ok,n),o=er(n);return f.jsx(T8,{asChild:!0,...o,children:f.jsx(xe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:gg(e,i.triggerRef),onPointerDown:ee(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:ee(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});Kx.displayName=Ok;var F8="DropdownMenuPortal",Lk=t=>{const{__scopeDropdownMenu:e,...n}=t,r=er(e);return f.jsx(S8,{...r,...n})};Lk.displayName=F8;var jk="DropdownMenuContent",Hx=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Mk(jk,n),i=er(n),o=m.useRef(!1);return f.jsx(b8,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:ee(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:ee(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!s.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Hx.displayName=jk;var U8="DropdownMenuGroup",B8=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=er(n);return f.jsx(C8,{...s,...r,ref:e})});B8.displayName=U8;var $8="DropdownMenuLabel",Vk=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=er(n);return f.jsx(P8,{...s,...r,ref:e})});Vk.displayName=$8;var z8="DropdownMenuItem",Gx=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=er(n);return f.jsx(R8,{...s,...r,ref:e})});Gx.displayName=z8;var W8="DropdownMenuCheckboxItem",Fk=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=er(n);return f.jsx(I8,{...s,...r,ref:e})});Fk.displayName=W8;var K8="DropdownMenuRadioGroup",H8=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=er(n);return f.jsx(A8,{...s,...r,ref:e})});H8.displayName=K8;var G8="DropdownMenuRadioItem",Uk=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=er(n);return f.jsx(N8,{...s,...r,ref:e})});Uk.displayName=G8;var q8="DropdownMenuItemIndicator",Bk=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=er(n);return f.jsx(D8,{...s,...r,ref:e})});Bk.displayName=q8;var Q8="DropdownMenuSeparator",$k=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=er(n);return f.jsx(k8,{...s,...r,ref:e})});$k.displayName=Q8;var Y8="DropdownMenuArrow",X8=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=er(n);return f.jsx(M8,{...s,...r,ref:e})});X8.displayName=Y8;var J8="DropdownMenuSubTrigger",zk=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=er(n);return f.jsx(O8,{...s,...r,ref:e})});zk.displayName=J8;var Z8="DropdownMenuSubContent",Wk=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=er(n);return f.jsx(L8,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Wk.displayName=Z8;var e7=Wx,t7=Kx,n7=Lk,Kk=Hx,Hk=Vk,Gk=Gx,qk=Fk,Qk=Uk,Yk=Bk,Xk=$k,Jk=zk,Zk=Wk;const r7=({children:t,text:e})=>{const n=wc(r=>r.logout);return f.jsxs("header",{className:"w-full flex flex-col items-center ",children:[f.jsxs("div",{className:"w-full px-8 h-14 flex items-center justify-between",children:[f.jsx("p",{children:e}),f.jsxs(Wx,{children:[f.jsx(Kx,{asChild:!0,children:f.jsx("div",{className:"hover:bg-slate-200 rounded-lg p-2 cursor-pointer",children:f.jsx(mW,{})})}),f.jsx(Hx,{align:"end",className:"w-[8rem] border border-neutral-300 p-1 rounded-lg",children:f.jsx(Gx,{className:"outline-none hover:bg-gray-200 px-2 py-1 rounded-md cursor-pointer",onSelect:()=>n(),children:"Logout"})})]})]}),t]})},s7=({Component:t})=>f.jsx("div",{className:"flex-1 flex justify-center =py-3",children:f.jsx(t,{})}),i7=({headerText:t})=>f.jsx("header",{className:"py-4 text-3xl font-semibold w-full",children:t});function vv(){return Date.now().toString()}const sn=()=>{const t=new Date,e={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};return t.toLocaleDateString("en-US",e)},wv="http://localhost:3001",Ig=async(t,e)=>{const{method:n="GET",headers:r={},body:s}=e,{accessToken:i,setAccessToken:o,logout:a}=wc.getState(),l={method:n,credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer ${i}`,...r},...s&&{body:JSON.stringify(s)}};try{let c=await fetch(`${wv}${t}`,l);if(c.status===401){rn("Fetching new access token");const h=await fetch(`${wv}/api/auth/refresh-token`,{method:"POST",credentials:"include"});console.log(h),h.status===404&&a();const{accessToken:p}=await h.json();o(p),l.headers={...l.headers,authorization:`Bearer ${p}`},c=await fetch(`${wv}${t}`,l)}return await c.json()}catch(c){throw console.error("Request failed:",c),c}},qx=(t,e)=>Ig(t,{method:"GET",headers:e}),zc=(t,e,n)=>Ig(t,{method:"POST",headers:e,body:n}),Qx=(t,e,n)=>Ig(t,{method:"PUT",headers:e,body:n}),Yx=(t,e,n)=>Ig(t,{method:"DELETE",headers:e,body:n}),o7=async t=>{const e={userQuery:t},{success:n,response:r}=await zc("/api/chatbot/query-admin",{},e);if(!n)throw new Error(`Sending query to chatbot was unsuccessful: ${r}`);return r},a7=async()=>{const{success:t,response:e}=await zc("/api/chatbot/train",{});if(!t)throw new Error(`Training model is unsuccessful: ${e}`)},l7=()=>{const[t,e]=m.useState([]),[n,r]=m.useState(""),[s,i]=m.useState(null),[o,a]=m.useState(!1),l=m.useRef(null),c=()=>{var w;(w=l.current)==null||w.scrollIntoView({behavior:"smooth"})};m.useEffect(()=>{c()},[t]);const u=w=>{const y={uuid:vv(),text:w.answer,sender:"bot",response:w};i(y.response),o||a(!0),e(E=>[...E,y])},h=(w,y="bot")=>{const E={uuid:vv(),text:w,sender:y};e(_=>[..._,E])},p=w=>{const y={uuid:vv(),text:w,sender:"user"};e(E=>[...E,y])};return{messageHistory:t,handleSubmitMessage:async w=>{try{if(!w)throw new Error("Message is empty");p(w);const y=await o7(w);u(y)}catch(y){if(y instanceof Error){if(y.message==="Message is empty"){console.error(y.message);return}console.error(y.message),h("An error occured failed to send chat.")}console.error("Unknown error occured: ",y)}},message:n,setMessage:r,endOfMessagesRef:l,selectedResponse:s,setSelectedResponse:i,isInfoPanelOpen:o,setIsInfoPanelOpen:a}};function eM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=eM(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function c7(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=eM(t))&&(r&&(r+=" "),r+=e);return r}const HC=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,GC=c7,Nh=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return GC(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const u=n==null?void 0:n[c],h=i==null?void 0:i[c];if(u===null)return null;const p=HC(u)||HC(h);return s[c][p]}),a=n&&Object.entries(n).reduce((c,u)=>{let[h,p]=u;return p===void 0||(c[h]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:h,className:p,...g}=u;return Object.entries(g).every(w=>{let[y,E]=w;return Array.isArray(E)?E.includes({...i,...a}[y]):{...i,...a}[y]===E})?[...c,h,p]:c},[]);return GC(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};function tM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=tM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function u7(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=tM(t))&&(r&&(r+=" "),r+=e);return r}const Xx="-",d7=t=>{const e=f7(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Xx);return a[0]===""&&a.length!==1&&a.shift(),nM(a,e)||h7(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},nM=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?nM(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Xx);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},qC=/^\[(.+)\]$/,h7=t=>{if(qC.test(t)){const e=qC.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},f7=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return m7(Object.entries(t.classGroups),n).forEach(([i,o])=>{i0(o,r,i,e)}),r},i0=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:QC(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(p7(s)){i0(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{i0(o,QC(e,i),n,r)})})},QC=(t,e)=>{let n=t;return e.split(Xx).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},p7=t=>t.isThemeGetter,m7=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,g7=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},rM="!",y7=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,u=0,h;for(let E=0;E<a.length;E++){let _=a[E];if(c===0){if(_===s&&(r||a.slice(E,E+i)===e)){l.push(a.slice(u,E)),u=E+i;continue}if(_==="/"){h=E;continue}}_==="["?c++:_==="]"&&c--}const p=l.length===0?a:a.substring(u),g=p.startsWith(rM),w=g?p.substring(1):p,y=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:w,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},v7=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},w7=t=>({cache:g7(t.cacheSize),parseClassName:y7(t),...d7(t)}),_7=/\s+/,x7=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(_7);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:g}=n(c);let w=!!g,y=r(w?p.substring(0,g):p);if(!y){if(!w){a=c+(a.length>0?" "+a:a);continue}if(y=r(p),!y){a=c+(a.length>0?" "+a:a);continue}w=!1}const E=v7(u).join(":"),_=h?E+rM:E,v=_+y;if(i.includes(v))continue;i.push(v);const S=s(y,w);for(let P=0;P<S.length;++P){const A=S[P];i.push(_+A)}a=c+(a.length>0?" "+a:a)}return a};function E7(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=sM(e))&&(r&&(r+=" "),r+=n);return r}const sM=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=sM(t[r]))&&(n&&(n+=" "),n+=e);return n};function T7(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((u,h)=>h(u),t());return n=w7(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=x7(l,n);return s(l,u),u}return function(){return i(E7.apply(null,arguments))}}const St=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},iM=/^\[(?:([a-z-]+):)?(.+)\]$/i,S7=/^\d+\/\d+$/,b7=new Set(["px","full","screen"]),C7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,P7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,R7=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,I7=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,A7=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Fs=t=>Gl(t)||b7.has(t)||S7.test(t),Ni=t=>Wc(t,"length",V7),Gl=t=>!!t&&!Number.isNaN(Number(t)),_v=t=>Wc(t,"number",Gl),xu=t=>!!t&&Number.isInteger(Number(t)),N7=t=>t.endsWith("%")&&Gl(t.slice(0,-1)),Fe=t=>iM.test(t),Di=t=>C7.test(t),D7=new Set(["length","size","percentage"]),k7=t=>Wc(t,D7,oM),M7=t=>Wc(t,"position",oM),O7=new Set(["image","url"]),L7=t=>Wc(t,O7,U7),j7=t=>Wc(t,"",F7),Eu=()=>!0,Wc=(t,e,n)=>{const r=iM.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},V7=t=>P7.test(t)&&!R7.test(t),oM=()=>!1,F7=t=>I7.test(t),U7=t=>A7.test(t),B7=()=>{const t=St("colors"),e=St("spacing"),n=St("blur"),r=St("brightness"),s=St("borderColor"),i=St("borderRadius"),o=St("borderSpacing"),a=St("borderWidth"),l=St("contrast"),c=St("grayscale"),u=St("hueRotate"),h=St("invert"),p=St("gap"),g=St("gradientColorStops"),w=St("gradientColorStopPositions"),y=St("inset"),E=St("margin"),_=St("opacity"),v=St("padding"),S=St("saturate"),P=St("scale"),A=St("sepia"),O=St("skew"),C=St("space"),T=St("translate"),R=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",Fe,e],k=()=>[Fe,e],D=()=>["",Fs,Ni],H=()=>["auto",Gl,Fe],ae=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",Fe],Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],pe=()=>[Gl,Fe];return{cacheSize:500,separator:":",theme:{colors:[Eu],spacing:[Fs,Ni],blur:["none","",Di,Fe],brightness:pe(),borderColor:[t],borderRadius:["none","","full",Di,Fe],borderSpacing:k(),borderWidth:D(),contrast:pe(),grayscale:B(),hueRotate:pe(),invert:B(),gap:k(),gradientColorStops:[t],gradientColorStopPositions:[N7,Ni],inset:M(),margin:M(),opacity:pe(),padding:k(),saturate:pe(),scale:pe(),sepia:B(),skew:pe(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",Fe]}],container:["container"],columns:[{columns:[Di]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ae(),Fe]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",xu,Fe]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Fe]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",xu,Fe]}],"grid-cols":[{"grid-cols":[Eu]}],"col-start-end":[{col:["auto",{span:["full",xu,Fe]},Fe]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Eu]}],"row-start-end":[{row:["auto",{span:[xu,Fe]},Fe]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Fe]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Fe,e]}],"min-w":[{"min-w":[Fe,e,"min","max","fit"]}],"max-w":[{"max-w":[Fe,e,"none","full","min","max","fit","prose",{screen:[Di]},Di]}],h:[{h:[Fe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Fe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Fe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Fe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Di,Ni]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",_v]}],"font-family":[{font:[Eu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Fe]}],"line-clamp":[{"line-clamp":["none",Gl,_v]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Fs,Fe]}],"list-image":[{"list-image":["none",Fe]}],"list-style-type":[{list:["none","disc","decimal",Fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Fs,Ni]}],"underline-offset":[{"underline-offset":["auto",Fs,Fe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ae(),M7]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",k7]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},L7]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:te()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[Fs,Fe]}],"outline-w":[{outline:[Fs,Ni]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Fs,Ni]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Di,j7]}],"shadow-color":[{shadow:[Eu]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Di,Fe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[S]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Fe]}],duration:[{duration:pe()}],ease:[{ease:["linear","in","out","in-out",Fe]}],delay:[{delay:pe()}],animate:[{animate:["none","spin","ping","pulse","bounce",Fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[xu,Fe]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Fe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Fe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Fe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Fs,Ni,_v]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},$7=T7(B7);function de(...t){return $7(u7(t))}const z7=Nh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ag({className:t,variant:e,...n}){return f.jsx("div",{className:de(z7({variant:e}),t),...n})}var Jx="Progress",Zx=100,[W7,ile]=Fc(Jx),[K7,H7]=W7(Jx),aM=m.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=G7,...o}=t;(s||s===0)&&!YC(s)&&console.error(q7(`${s}`,"Progress"));const a=YC(s)?s:Zx;r!==null&&!XC(r,a)&&console.error(Q7(`${r}`,"Progress"));const l=XC(r,a)?r:null,c=ym(l)?i(l,a):void 0;return f.jsx(K7,{scope:n,value:l,max:a,children:f.jsx(xe.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":ym(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":uM(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});aM.displayName=Jx;var lM="ProgressIndicator",cM=m.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=H7(lM,n);return f.jsx(xe.div,{"data-state":uM(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});cM.displayName=lM;function G7(t,e){return`${Math.round(t/e*100)}%`}function uM(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function ym(t){return typeof t=="number"}function YC(t){return ym(t)&&!isNaN(t)&&t>0}function XC(t,e){return ym(t)&&!isNaN(t)&&t<=e&&t>=0}function q7(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Zx}\`.`}function Q7(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Zx} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var dM=aM,Y7=cM;const hM=m.forwardRef(({className:t,value:e,...n},r)=>f.jsx(dM,{ref:r,className:de("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:f.jsx(Y7,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));hM.displayName=dM.displayName;const X7=({responseData:t,showPanel:e})=>{var r,s,i;const n=()=>t==null?void 0:t.classifications.slice(0,3).filter(a=>a.intent!=="None"&&a.score>0);return f.jsx("div",{className:`bg-gray-50  transition-all duration-300 ease-in-out overflow-hidden ${e?"w-64 border-l border-neutral-200":"w-0"}`,children:f.jsx("div",{className:"w-64 h-full",children:f.jsxs("div",{className:de(`p-4 h-full flex flex-col transition-opacity duration-300,
            showPanel ? "opacity-100" : "opacity-0"
            }`),children:[f.jsxs("h2",{className:"text-lg font-semibold text-gray-700 mb-4 flex items-center",children:[f.jsx(lW,{className:"w-5 h-5 mr-2"}),"Bot Response Info"]}),t?f.jsxs("div",{className:"space-y-4 flex-grow",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"flex items-center justify-between space-x-2 text-sm font-medium text-gray-700 mb-1",children:[f.jsx("p",{children:"Confidence Score "}),f.jsxs("div",{className:"flex items-center",children:[f.jsx(fW,{className:"size-4 mr-1 text-yellow-400 fill-yellow-400"}),f.jsx("span",{className:"text-sm font-medium text-gray-600",children:t.score.toFixed(2)})]})]}),f.jsx("div",{className:"flex items-center gap-2",children:f.jsx(hM,{value:t.score*100,className:"w-full"})})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Detected Intent"}),f.jsx(Ag,{variant:"outline",children:t==null?void 0:t.intent})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Other Possible Intents"}),f.jsx("ul",{className:de("list-disc space-y-1",((r=n())==null?void 0:r.length)&&"pl-5"),children:(s=n())!=null&&s.length?(i=n())==null?void 0:i.map((o,a)=>f.jsx("li",{className:"text-sm ",children:f.jsxs("div",{className:"line-clamp-3",children:[f.jsx("span",{children:o.intent}),f.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",o.score.toFixed(2),")"]})]})},a)):f.jsx("span",{className:"text-sm text-muted-foreground",children:"No other intents detected"})})]})]}):f.jsx("div",{className:"text-center text-gray-500",children:"No bot response yet. Start a conversation to see details."})]})})})},un=m.forwardRef(({className:t,type:e,...n},r)=>f.jsx("input",{type:e,className:de("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));un.displayName="Input";const eE=Nh("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ct=m.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?bo:"button";return f.jsx(o,{className:de(eE({variant:e,size:n,className:t})),ref:i,...s})});ct.displayName="Button";const J7=({message:t,setMessage:e,handleSubmit:n})=>{const r=i=>{e(i.target.value)},s=()=>{n(t),e("")};return f.jsxs("div",{className:"w-full h-[5rem] border-t border-t-customBorderColor flex items-center justify-between px-4 space-x-2",children:[f.jsx(un,{placeholder:"Type message here",value:t,onChange:r}),f.jsxs(ct,{onClick:s,children:[f.jsx(CD,{className:"size-4 mr-2"}),"Send"]})]})},Z7=({message:t,onItemClick:e})=>{const{text:n,sender:r,response:s}=t;return f.jsx("div",{className:de("flex",r==="user"?"justify-end":"justify-start"),onClick:s?()=>e(s):void 0,children:f.jsx("div",{className:de("w-fit rounded-tl-2xl rounded-tr-2xl transition-colors ease-out",r==="user"?"text-white py-1.5 px-3.5 rounded-bl-2xl rounded-br-[4px] bg-blue-500":"py-2.5 px-4 rounded-br-2xl rounded-bl-[2px] bg-gray-100 cursor-pointer",s?"hover:bg-gray-200":""),children:n})})},Ng=({items:t,renderItem:e,listStyle:n})=>f.jsx("div",{className:n,children:t==null?void 0:t.map((r,s)=>f.jsx(m.Fragment,{children:e(r)},s))});function eG(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}function Fd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const o0=t=>Array.isArray(t);function fM(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Ud(t){return typeof t=="string"||Array.isArray(t)}function JC(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function tE(t,e,n,r){if(typeof e=="function"){const[s,i]=JC(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=JC(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Dg(t,e,n){const r=t.getProps();return tE(r,e,n!==void 0?n:r.custom,t)}const nE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],rE=["initial",...nE],Dh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$o=new Set(Dh),ni=t=>t*1e3,ri=t=>t/1e3,tG={type:"spring",stiffness:500,damping:25,restSpeed:10},nG=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),rG={type:"keyframes",duration:.8},sG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},iG=(t,{keyframes:e})=>e.length>2?rG:$o.has(t)?t.startsWith("scale")?nG(e[1]):tG:sG;function oG({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function sE(t,e){return t[e]||t.default||t}const aG={skipAnimations:!1,useManualTiming:!1},lG=t=>t!==null;function kg(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(lG),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const Vn=t=>t;function cG(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){i.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,u=!1,h=!1)=>{const g=h&&r?e:n;return u&&i.add(c),g.has(c)||g.add(c),c},cancel:c=>{n.delete(c),i.delete(c)},process:c=>{if(o=c,r){s=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,s&&(s=!1,l.process(c))}};return l}const Of=["read","resolveKeyframes","update","preRender","render","postRender"],uG=40;function pM(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Of.reduce((_,v)=>(_[v]=cG(i),_),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:h,postRender:p}=o,g=()=>{const _=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(_-s.timestamp,uG),1),s.timestamp=_,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),u.process(s),h.process(s),p.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(g))},w=()=>{n=!0,r=!0,s.isProcessing||t(g)};return{schedule:Of.reduce((_,v)=>{const S=o[v];return _[v]=(P,A=!1,O=!1)=>(n||w(),S.schedule(P,A,O)),_},{}),cancel:_=>{for(let v=0;v<Of.length;v++)o[Of[v]].cancel(_)},state:s,steps:o}}const{schedule:dt,cancel:gi,state:yn,steps:xv}=pM(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vn,!0),mM=t=>/^0[^.\s]+$/u.test(t);function dG(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||mM(t):!0}let a0=Vn;const gM=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),yM=t=>e=>typeof e=="string"&&e.startsWith(t),vM=yM("--"),hG=yM("var(--"),iE=t=>hG(t)?fG.test(t.split("/*")[0].trim()):!1,fG=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,pG=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function mG(t){const e=pG.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function wM(t,e,n=1){const[r,s]=mG(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return gM(o)?parseFloat(o):o}return iE(s)?wM(s,e,n+1):s}const Ao=(t,e,n)=>n>e?e:n<t?t:n,Kc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Zu={...Kc,transform:t=>Ao(0,1,t)},Lf={...Kc,default:1},ed=t=>Math.round(t*1e5)/1e5,oE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,gG=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,yG=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function kh(t){return typeof t=="string"}function vG(t){return t==null}const Mh=t=>({test:e=>kh(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Oi=Mh("deg"),Rs=Mh("%"),Ce=Mh("px"),wG=Mh("vh"),_G=Mh("vw"),ZC={...Rs,parse:t=>Rs.parse(t)/100,transform:t=>Rs.transform(t*100)},xG=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),eP=t=>t===Kc||t===Ce,tP=(t,e)=>parseFloat(t.split(", ")[e]),nP=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return tP(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?tP(i[1],t):0}},EG=new Set(["x","y","z"]),TG=Dh.filter(t=>!EG.has(t));function SG(t){const e=[];return TG.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ec={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:nP(4,13),y:nP(5,14)};Ec.translateX=Ec.x;Ec.translateY=Ec.y;const _M=t=>e=>e.test(t),bG={test:t=>t==="auto",parse:t=>t},xM=[Kc,Ce,Rs,Oi,_G,wG,bG],rP=t=>xM.find(_M(t)),Ca=new Set;let l0=!1,c0=!1;function EM(){if(c0){const t=Array.from(Ca).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=SG(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}c0=!1,l0=!1,Ca.forEach(t=>t.complete()),Ca.clear()}function TM(){Ca.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(c0=!0)})}function CG(){TM(),EM()}class aE{constructor(e,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ca.add(this),l0||(l0=!0,dt.read(TM),dt.resolveKeyframes(EM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ca.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ca.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const lE=(t,e)=>n=>!!(kh(n)&&yG.test(n)&&n.startsWith(t)||e&&!vG(n)&&Object.prototype.hasOwnProperty.call(n,e)),SM=(t,e,n)=>r=>{if(!kh(r))return r;const[s,i,o,a]=r.match(oE);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},PG=t=>Ao(0,255,t),Ev={...Kc,transform:t=>Math.round(PG(t))},fa={test:lE("rgb","red"),parse:SM("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Ev.transform(t)+", "+Ev.transform(e)+", "+Ev.transform(n)+", "+ed(Zu.transform(r))+")"};function RG(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const u0={test:lE("#"),parse:RG,transform:fa.transform},Nl={test:lE("hsl","hue"),parse:SM("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Rs.transform(ed(e))+", "+Rs.transform(ed(n))+", "+ed(Zu.transform(r))+")"},kn={test:t=>fa.test(t)||u0.test(t)||Nl.test(t),parse:t=>fa.test(t)?fa.parse(t):Nl.test(t)?Nl.parse(t):u0.parse(t),transform:t=>kh(t)?t:t.hasOwnProperty("red")?fa.transform(t):Nl.transform(t)};function IG(t){var e,n;return isNaN(t)&&kh(t)&&(((e=t.match(oE))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(gG))===null||n===void 0?void 0:n.length)||0)>0}const bM="number",CM="color",AG="var",NG="var(",sP="${}",DG=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Bd(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(DG,l=>(kn.test(l)?(r.color.push(i),s.push(CM),n.push(kn.parse(l))):l.startsWith(NG)?(r.var.push(i),s.push(AG),n.push(l)):(r.number.push(i),s.push(bM),n.push(parseFloat(l))),++i,sP)).split(sP);return{values:n,split:a,indexes:r,types:s}}function PM(t){return Bd(t).values}function RM(t){const{split:e,types:n}=Bd(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===bM?i+=ed(s[o]):a===CM?i+=kn.transform(s[o]):i+=s[o]}return i}}const kG=t=>typeof t=="number"?0:t;function MG(t){const e=PM(t);return RM(t)(e.map(kG))}const No={test:IG,parse:PM,createTransformer:RM,getAnimatableNone:MG},OG=new Set(["brightness","contrast","saturate","opacity"]);function LG(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(oE)||[];if(!r)return t;const s=n.replace(r,"");let i=OG.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const jG=/\b([a-z-]*)\(.*?\)/gu,d0={...No,getAnimatableNone:t=>{const e=t.match(jG);return e?e.map(LG).join(" "):t}},iP={...Kc,transform:Math.round},cE={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,size:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,rotate:Oi,rotateX:Oi,rotateY:Oi,rotateZ:Oi,scale:Lf,scaleX:Lf,scaleY:Lf,scaleZ:Lf,skew:Oi,skewX:Oi,skewY:Oi,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:Zu,originX:ZC,originY:ZC,originZ:Ce,zIndex:iP,backgroundPositionX:Ce,backgroundPositionY:Ce,fillOpacity:Zu,strokeOpacity:Zu,numOctaves:iP},VG={...cE,color:kn,backgroundColor:kn,outlineColor:kn,fill:kn,stroke:kn,borderColor:kn,borderTopColor:kn,borderRightColor:kn,borderBottomColor:kn,borderLeftColor:kn,filter:d0,WebkitFilter:d0},uE=t=>VG[t];function IM(t,e){let n=uE(t);return n!==d0&&(n=No),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const FG=new Set(["auto","none","0"]);function UG(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!FG.has(i)&&Bd(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=IM(n,s)}class AM extends aE{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),iE(c))){const u=wM(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!xG.has(r)||e.length!==2)return;const[s,i]=e,o=rP(s),a=rP(i);if(o!==a)if(eP(o)&&eP(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)dG(e[s])&&r.push(s);r.length&&UG(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ec[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=Ec[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function NM(t){let e;return()=>(e===void 0&&(e=t()),e)}let gp;function BG(){gp=void 0}const Is={now:()=>(gp===void 0&&Is.set(yn.isProcessing||aG.useManualTiming?yn.timestamp:performance.now()),gp),set:t=>{gp=t,queueMicrotask(BG)}},oP=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(No.test(t)||t==="0")&&!t.startsWith("url("));function $G(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function zG(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=oP(s,e),a=oP(i,e);return!o||!a?!1:$G(t)||n==="spring"&&r}const WG=40;class DM{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Is.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>WG?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&CG(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Is.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!zG(e,r,s,i))if(o)this.options.duration=0;else{l==null||l(kg(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function kM(t,e){return e?t*(1e3/e):0}const KG=5;function MM(t,e,n){const r=Math.max(e-KG,0);return kM(n-t(r),e-r)}const Tv=.001,HG=.01,GG=10,qG=.05,QG=1;function YG({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,o=1-e;o=Ao(qG,QG,o),t=Ao(HG,GG,ri(t)),o<1?(s=c=>{const u=c*o,h=u*t,p=u-n,g=h0(c,o),w=Math.exp(-h);return Tv-p/g*w},i=c=>{const h=c*o*t,p=h*n+n,g=Math.pow(o,2)*Math.pow(c,2)*t,w=Math.exp(-h),y=h0(Math.pow(c,2),o);return(-s(c)+Tv>0?-1:1)*((p-g)*w)/y}):(s=c=>{const u=Math.exp(-c*t),h=(c-n)*t+1;return-Tv+u*h},i=c=>{const u=Math.exp(-c*t),h=(n-c)*(t*t);return u*h});const a=5/t,l=JG(s,i,a);if(t=ni(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const XG=12;function JG(t,e,n){let r=n;for(let s=1;s<XG;s++)r=r-t(r)/e(r);return r}function h0(t,e){return t*Math.sqrt(1-e*e)}const ZG=["duration","bounce"],eq=["stiffness","damping","mass"];function aP(t,e){return e.some(n=>t[n]!==void 0)}function tq(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!aP(t,eq)&&aP(t,ZG)){const n=YG(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function OM({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:c,duration:u,velocity:h,isResolvedFromDuration:p}=tq({...r,velocity:-ri(r.velocity||0)}),g=h||0,w=l/(2*Math.sqrt(a*c)),y=i-s,E=ri(Math.sqrt(a/c)),_=Math.abs(y)<5;n||(n=_?.01:2),e||(e=_?.005:.5);let v;if(w<1){const S=h0(E,w);v=P=>{const A=Math.exp(-w*E*P);return i-A*((g+w*E*y)/S*Math.sin(S*P)+y*Math.cos(S*P))}}else if(w===1)v=S=>i-Math.exp(-E*S)*(y+(g+E*y)*S);else{const S=E*Math.sqrt(w*w-1);v=P=>{const A=Math.exp(-w*E*P),O=Math.min(S*P,300);return i-A*((g+w*E*y)*Math.sinh(O)+S*y*Math.cosh(O))/S}}return{calculatedDuration:p&&u||null,next:S=>{const P=v(S);if(p)o.done=S>=u;else{let A=0;w<1&&(A=S===0?ni(g):MM(v,S,P));const O=Math.abs(A)<=n,C=Math.abs(i-P)<=e;o.done=O&&C}return o.value=o.done?i:P,o}}}function lP({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const h=t[0],p={done:!1,value:h},g=T=>a!==void 0&&T<a||l!==void 0&&T>l,w=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let y=n*e;const E=h+y,_=o===void 0?E:o(E);_!==E&&(y=_-h);const v=T=>-y*Math.exp(-T/r),S=T=>_+v(T),P=T=>{const R=v(T),I=S(T);p.done=Math.abs(R)<=c,p.value=p.done?_:I};let A,O;const C=T=>{g(p.value)&&(A=T,O=OM({keyframes:[p.value,w(p.value)],velocity:MM(S,T,p.value),damping:s,stiffness:i,restDelta:c,restSpeed:u}))};return C(0),{calculatedDuration:null,next:T=>{let R=!1;return!O&&A===void 0&&(R=!0,P(T),C(T)),A!==void 0&&T>=A?O.next(T-A):(!R&&P(T),p)}}}const LM=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,nq=1e-7,rq=12;function sq(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=LM(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>nq&&++a<rq);return o}function Oh(t,e,n,r){if(t===e&&n===r)return Vn;const s=i=>sq(i,0,1,t,n);return i=>i===0||i===1?i:LM(s(i),e,r)}const iq=Oh(.42,0,1,1),oq=Oh(0,0,.58,1),jM=Oh(.42,0,.58,1),aq=t=>Array.isArray(t)&&typeof t[0]!="number",VM=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,FM=t=>e=>1-t(1-e),dE=t=>1-Math.sin(Math.acos(t)),UM=FM(dE),lq=VM(dE),BM=Oh(.33,1.53,.69,.99),hE=FM(BM),cq=VM(hE),uq=t=>(t*=2)<1?.5*hE(t):.5*(2-Math.pow(2,-10*(t-1))),cP={linear:Vn,easeIn:iq,easeInOut:jM,easeOut:oq,circIn:dE,circInOut:lq,circOut:UM,backIn:hE,backInOut:cq,backOut:BM,anticipate:uq},uP=t=>{if(Array.isArray(t)){a0(t.length===4);const[e,n,r,s]=t;return Oh(e,n,r,s)}else if(typeof t=="string")return a0(cP[t]!==void 0),cP[t];return t},dq=(t,e)=>n=>e(t(n)),si=(...t)=>t.reduce(dq),$d=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},kt=(t,e,n)=>t+(e-t)*n;function Sv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function hq({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=Sv(l,a,t+1/3),i=Sv(l,a,t),o=Sv(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function vm(t,e){return n=>n>0?e:t}const bv=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},fq=[u0,fa,Nl],pq=t=>fq.find(e=>e.test(t));function dP(t){const e=pq(t);if(!e)return!1;let n=e.parse(t);return e===Nl&&(n=hq(n)),n}const hP=(t,e)=>{const n=dP(t),r=dP(e);if(!n||!r)return vm(t,e);const s={...n};return i=>(s.red=bv(n.red,r.red,i),s.green=bv(n.green,r.green,i),s.blue=bv(n.blue,r.blue,i),s.alpha=kt(n.alpha,r.alpha,i),fa.transform(s))},f0=new Set(["none","hidden"]);function mq(t,e){return f0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function gq(t,e){return n=>kt(t,e,n)}function fE(t){return typeof t=="number"?gq:typeof t=="string"?iE(t)?vm:kn.test(t)?hP:wq:Array.isArray(t)?$M:typeof t=="object"?kn.test(t)?hP:yq:vm}function $M(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>fE(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function yq(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=fE(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function vq(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][s[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const wq=(t,e)=>{const n=No.createTransformer(e),r=Bd(t),s=Bd(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?f0.has(t)&&!s.values.length||f0.has(e)&&!r.values.length?mq(t,e):si($M(vq(r,s),s.values),n):vm(t,e)};function zM(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?kt(t,e,n):fE(t)(t,e)}function _q(t,e,n){const r=[],s=n||zM,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Vn:e;a=si(l,a)}r.push(a)}return r}function xq(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(a0(i===e.length),i===1)return()=>e[0];if(i===2&&t[0]===t[1])return()=>e[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=_q(e,r,s),a=o.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const h=$d(t[u],t[u+1],c);return o[u](h)};return n?c=>l(Ao(t[0],t[i-1],c)):l}function Eq(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=$d(0,e,r);t.push(kt(n,1,s))}}function Tq(t){const e=[0];return Eq(e,t.length-1),e}function Sq(t,e){return t.map(n=>n*e)}function bq(t,e){return t.map(()=>e||jM).splice(0,t.length-1)}function wm({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=aq(r)?r.map(uP):uP(r),i={done:!1,value:e[0]},o=Sq(n&&n.length===e.length?n:Tq(e),t),a=xq(o,e,{ease:Array.isArray(s)?s:bq(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const fP=2e4;function Cq(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<fP;)e+=n,r=t.next(e);return e>=fP?1/0:e}const Pq=t=>{const e=({timestamp:n})=>t(n);return{start:()=>dt.update(e,!0),stop:()=>gi(e),now:()=>yn.isProcessing?yn.timestamp:Is.now()}},Rq={decay:lP,inertia:lP,tween:wm,keyframes:wm,spring:OM},Iq=t=>t/100;class pE extends DM{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||aE,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=Rq[n]||wm;let l,c;a!==wm&&typeof e[0]!="number"&&(l=si(Iq,zM(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});i==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Cq(u));const{calculatedDuration:h}=u,p=h+s,g=p*(r+1)-s;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:p,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:p,repeat:g,repeatType:w,repeatDelay:y,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const _=this.currentTime-p*(this.speed>=0?1:-1),v=this.speed>=0?_<0:_>u;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let S=this.currentTime,P=i;if(g){const T=Math.min(this.currentTime,u)/h;let R=Math.floor(T),I=T%1;!I&&T>=1&&(I=1),I===1&&R--,R=Math.min(R,g+1),!!(R%2)&&(w==="reverse"?(I=1-I,y&&(I-=y/h)):w==="mirror"&&(P=o)),S=Ao(0,1,I)*h}const A=v?{done:!1,value:l[0]}:P.next(S);a&&(A.value=a(A.value));let{done:O}=A;!v&&c!==null&&(O=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return C&&s!==void 0&&(A.value=kg(l,this.options,s)),E&&E(A.value),C&&this.finish(),A}get duration(){const{resolved:e}=this;return e?ri(e.calculatedDuration):0}get time(){return ri(this.currentTime)}set time(e){e=ni(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ri(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Pq,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const WM=new Set(["opacity","clipPath","filter","transform"]),KM=t=>Array.isArray(t)&&typeof t[0]=="number";function HM(t){return!!(!t||typeof t=="string"&&t in mE||KM(t)||Array.isArray(t)&&t.every(HM))}const Ou=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,mE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ou([0,.65,.55,1]),circOut:Ou([.55,0,1,.45]),backIn:Ou([.31,.01,.66,-.59]),backOut:Ou([.33,1.53,.69,.99])};function Aq(t){return GM(t)||mE.easeOut}function GM(t){if(t)return KM(t)?Ou(t):Array.isArray(t)?t.map(Aq):mE[t]}function Nq(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=GM(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const Dq=NM(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),_m=10,kq=2e4;function Mq(t){return t.type==="spring"||!HM(t.ease)}function Oq(t,e){const n=new pE({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<kq;)r=n.sample(i),s.push(r.value),i+=_m;return{times:void 0,keyframes:s,duration:i-_m,ease:"linear"}}class pP extends DM{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new AM(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:s=300,times:i,ease:o,type:a,motionValue:l,name:c,startTime:u}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(Mq(this.options)){const{onComplete:p,onUpdate:g,motionValue:w,element:y,...E}=this.options,_=Oq(e,E);e=_.keyframes,e.length===1&&(e[1]=e[0]),s=_.duration,i=_.times,o=_.ease,a="keyframes"}const h=Nq(l.owner.current,c,e,{...this.options,duration:s,times:i,ease:o});return h.startTime=u??this.calcStartTime(),this.pendingTimeline?(h.timeline=this.pendingTimeline,this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:p}=this.options;l.set(kg(e,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:s,times:i,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ri(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ri(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ni(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Vn;const{animation:r}=n;r.timeline=e,r.onfinish=null}return Vn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:h,element:p,...g}=this.options,w=new pE({...g,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),y=ni(this.time);c.setWithVelocity(w.sample(y-_m).value,w.sample(y).value,_m)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=e;return Dq()&&r&&WM.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}function Lq(t,e){let n;const r=()=>{const{currentTime:s}=e,o=(s===null?0:s.value)/100;n!==o&&t(o),n=o};return dt.update(r,!0),()=>gi(r)}const jq=NM(()=>window.ScrollTimeline!==void 0);class Vq{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>{if(jq()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),Lq(s=>{r.time=r.duration*s},e)});return()=>{n.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const gE=(t,e,n,r={},s,i,o)=>a=>{const l=sE(r,t)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-ni(c);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:g=>{e.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{a(),l.onComplete&&l.onComplete(),o&&o()},onStop:o,name:t,motionValue:e,element:i?void 0:s};oG(l)||(h={...h,...iG(t,h)}),h.duration&&(h.duration=ni(h.duration)),h.repeatDelay&&(h.repeatDelay=ni(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let p=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(p=!0)),p&&!i&&e.get()!==void 0){const g=kg(h.keyframes,l);if(g!==void 0)return dt.update(()=>{h.onUpdate(g),h.onComplete()}),new Vq([])}return!i&&pP.supports(h)?new pP(h):new pE(h)},Fq=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Uq=t=>o0(t)?t[t.length-1]||0:t;function Mg(t,e){t.indexOf(e)===-1&&t.push(e)}function Og(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class yE{constructor(){this.subscriptions=[]}add(e){return Mg(this.subscriptions,e),()=>Og(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const mP=30,Bq=t=>!isNaN(parseFloat(t));class qM{constructor(e,n={}){this.version="11.5.6",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=Is.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Is.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Bq(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new yE);const r=this.events[e].add(n);return e==="change"?()=>{r(),dt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Is.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>mP)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,mP);return kM(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zd(t,e){return new qM(t,e)}function $q(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,zd(n))}function zq(t,e){const n=Dg(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=Uq(i[o]);$q(t,o,a)}}const Lg=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Wq="framerAppearId",QM="data-"+Lg(Wq);function YM(t){return t.props[QM]}function XM(t){if($o.has(t))return"transform";if(WM.has(t))return Lg(t)}class Kq extends qM{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(e){const n=XM(e);if(!n)return;const r=this.counts.get(n)||0;this.counts.set(n,r+1),r===0&&(this.output.push(n),this.update());let s=!1;return()=>{if(s)return;s=!0;const i=this.counts.get(n)-1;this.counts.set(n,i),i===0&&(Og(this.output,n),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}const jn=t=>!!(t&&t.getVelocity);function Hq(t){return!!(jn(t)&&t.add)}function p0(t,e){var n;if(!t.applyWillChange)return;let r=t.getValue("willChange");if(!r&&!(!((n=t.props.style)===null||n===void 0)&&n.willChange)&&(r=new Kq("auto"),t.addValue("willChange",r)),Hq(r))return r.add(e)}function Gq({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function JM(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const h in l){const p=t.getValue(h,(i=t.latestValues[h])!==null&&i!==void 0?i:null),g=l[h];if(g===void 0||u&&Gq(u,h))continue;const w={delay:n,...sE(o||{},h)};let y=!1;if(window.MotionHandoffAnimation){const _=YM(t);if(_){const v=window.MotionHandoffAnimation(_,h,dt);v!==null&&(w.startTime=v,y=!0)}}p.start(gE(h,p,g,t.shouldReduceMotion&&$o.has(h)?{type:!1}:w,t,y,p0(t,h)));const E=p.animation;E&&c.push(E)}return a&&Promise.all(c).then(()=>{dt.update(()=>{a&&zq(t,a)})}),c}function m0(t,e,n={}){var r;const s=Dg(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(JM(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:p}=i;return qq(t,e,u+c,h,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function qq(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(Qq).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(m0(c,e,{...i,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function Qq(t,e){return t.sortNodePosition(e)}function Yq(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>m0(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=m0(t,e,n);else{const s=typeof e=="function"?Dg(t,e,n.custom):e;r=Promise.all(JM(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const Xq=rE.length;function ZM(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ZM(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Xq;n++){const r=rE[n],s=t.props[r];(Ud(s)||s===!1)&&(e[r]=s)}return e}const Jq=[...nE].reverse(),Zq=nE.length;function eQ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Yq(t,n,r)))}function tQ(t){let e=eQ(t),n=gP(),r=!0;const s=l=>(c,u)=>{var h;const p=Dg(t,u,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(p){const{transition:g,transitionEnd:w,...y}=p;c={...c,...y,...w}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,u=ZM(t.parent)||{},h=[],p=new Set;let g={},w=1/0;for(let E=0;E<Zq;E++){const _=Jq[E],v=n[_],S=c[_]!==void 0?c[_]:u[_],P=Ud(S),A=_===l?v.isActive:null;A===!1&&(w=E);let O=S===u[_]&&S!==c[_]&&P;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),v.protectedKeys={...g},!v.isActive&&A===null||!S&&!v.prevProp||Fd(S)||typeof S=="boolean")continue;const C=nQ(v.prevProp,S);let T=C||_===l&&v.isActive&&!O&&P||E>w&&P,R=!1;const I=Array.isArray(S)?S:[S];let M=I.reduce(s(_),{});A===!1&&(M={});const{prevResolvedValues:k={}}=v,D={...k,...M},H=ne=>{T=!0,p.has(ne)&&(R=!0,p.delete(ne)),v.needsAnimating[ne]=!0;const z=t.getValue(ne);z&&(z.liveStyle=!1)};for(const ne in D){const z=M[ne],B=k[ne];if(g.hasOwnProperty(ne))continue;let Z=!1;o0(z)&&o0(B)?Z=!fM(z,B):Z=z!==B,Z?z!=null?H(ne):p.add(ne):z!==void 0&&p.has(ne)?H(ne):v.protectedKeys[ne]=!0}v.prevProp=S,v.prevResolvedValues=M,v.isActive&&(g={...g,...M}),r&&t.blockInitialAnimation&&(T=!1),T&&(!(O&&C)||R)&&h.push(...I.map(ne=>({animation:ne,options:{type:_}})))}if(p.size){const E={};p.forEach(_=>{const v=t.getBaseTarget(_),S=t.getValue(_);S&&(S.liveStyle=!0),E[_]=v??null}),h.push({animation:E})}let y=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(h):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=gP(),r=!0}}}function nQ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!fM(e,t):!1}function ta(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function gP(){return{animate:ta(!0),whileInView:ta(),whileHover:ta(),whileTap:ta(),whileDrag:ta(),whileFocus:ta(),exit:ta()}}class zo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class rQ extends zo{constructor(e){super(e),e.animationState||(e.animationState=tQ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Fd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let sQ=0;class iQ extends zo{constructor(){super(...arguments),this.id=sQ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const oQ={animation:{Feature:rQ},exit:{Feature:iQ}},eO=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function jg(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const aQ=t=>e=>eO(e)&&t(e,jg(e));function Xs(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function ii(t,e,n,r){return Xs(t,e,aQ(n),r)}const yP=(t,e)=>Math.abs(t-e);function lQ(t,e){const n=yP(t.x,e.x),r=yP(t.y,e.y);return Math.sqrt(n**2+r**2)}class tO{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Pv(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=lQ(h.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:w}=h,{timestamp:y}=yn;this.history.push({...w,timestamp:y});const{onStart:E,onMove:_}=this.handlers;p||(E&&E(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Cv(p,this.transformPagePoint),dt.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:g,onSessionEnd:w,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Pv(h.type==="pointercancel"?this.lastMoveEventInfo:Cv(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,E),w&&w(h,E)},!eO(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=jg(e),a=Cv(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=yn;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,Pv(a,this.history)),this.removeListeners=si(ii(this.contextWindow,"pointermove",this.handlePointerMove),ii(this.contextWindow,"pointerup",this.handlePointerUp),ii(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),gi(this.updatePoint)}}function Cv(t,e){return e?{point:e(t.point)}:t}function vP(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Pv({point:t},e){return{point:t,delta:vP(t,nO(e)),offset:vP(t,cQ(e)),velocity:uQ(e,.1)}}function cQ(t){return t[0]}function nO(t){return t[t.length-1]}function uQ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=nO(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>ni(e)));)n--;if(!r)return{x:0,y:0};const i=ri(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function rO(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const wP=rO("dragHorizontal"),_P=rO("dragVertical");function sO(t){let e=!1;if(t==="y")e=_P();else if(t==="x")e=wP();else{const n=wP(),r=_P();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function iO(){const t=sO(!0);return t?(t(),!1):!0}function Dl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const oO=1e-4,dQ=1-oO,hQ=1+oO,aO=.01,fQ=0-aO,pQ=0+aO;function Tr(t){return t.max-t.min}function mQ(t,e,n){return Math.abs(t-e)<=n}function xP(t,e,n,r=.5){t.origin=r,t.originPoint=kt(e.min,e.max,t.origin),t.scale=Tr(n)/Tr(e),t.translate=kt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=dQ&&t.scale<=hQ||isNaN(t.scale))&&(t.scale=1),(t.translate>=fQ&&t.translate<=pQ||isNaN(t.translate))&&(t.translate=0)}function td(t,e,n,r){xP(t.x,e.x,n.x,r?r.originX:void 0),xP(t.y,e.y,n.y,r?r.originY:void 0)}function EP(t,e,n){t.min=n.min+e.min,t.max=t.min+Tr(e)}function gQ(t,e,n){EP(t.x,e.x,n.x),EP(t.y,e.y,n.y)}function TP(t,e,n){t.min=e.min-n.min,t.max=t.min+Tr(e)}function nd(t,e,n){TP(t.x,e.x,n.x),TP(t.y,e.y,n.y)}function yQ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?kt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?kt(n,t,r.max):Math.min(t,n)),t}function SP(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function vQ(t,{top:e,left:n,bottom:r,right:s}){return{x:SP(t.x,n,s),y:SP(t.y,e,r)}}function bP(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function wQ(t,e){return{x:bP(t.x,e.x),y:bP(t.y,e.y)}}function _Q(t,e){let n=.5;const r=Tr(t),s=Tr(e);return s>r?n=$d(e.min,e.max-r,t.min):r>s&&(n=$d(t.min,t.max-s,e.min)),Ao(0,1,n)}function xQ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const g0=.35;function EQ(t=g0){return t===!1?t=0:t===!0&&(t=g0),{x:CP(t,"left","right"),y:CP(t,"top","bottom")}}function CP(t,e,n){return{min:PP(t,e),max:PP(t,n)}}function PP(t,e){return typeof t=="number"?t:t[e]||0}const RP=()=>({translate:0,scale:1,origin:0,originPoint:0}),kl=()=>({x:RP(),y:RP()}),IP=()=>({min:0,max:0}),Kt=()=>({x:IP(),y:IP()});function Ar(t){return[t("x"),t("y")]}function lO({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function TQ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function SQ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Rv(t){return t===void 0||t===1}function y0({scale:t,scaleX:e,scaleY:n}){return!Rv(t)||!Rv(e)||!Rv(n)}function ia(t){return y0(t)||cO(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function cO(t){return AP(t.x)||AP(t.y)}function AP(t){return t&&t!=="0%"}function xm(t,e,n){const r=t-n,s=e*r;return n+s}function NP(t,e,n,r,s){return s!==void 0&&(t=xm(t,s,r)),xm(t,n,r)+e}function v0(t,e=0,n=1,r,s){t.min=NP(t.min,e,n,r,s),t.max=NP(t.max,e,n,r,s)}function uO(t,{x:e,y:n}){v0(t.x,e.translate,e.scale,e.originPoint),v0(t.y,n.translate,n.scale,n.originPoint)}const DP=.999999999999,kP=1.0000000000001;function bQ(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ol(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,uO(t,o)),r&&ia(i.latestValues)&&Ol(t,i.latestValues))}e.x<kP&&e.x>DP&&(e.x=1),e.y<kP&&e.y>DP&&(e.y=1)}function Ml(t,e){t.min=t.min+e,t.max=t.max+e}function MP(t,e,n,r,s=.5){const i=kt(t.min,t.max,s);v0(t,e,n,i,r)}function Ol(t,e){MP(t.x,e.x,e.scaleX,e.scale,e.originX),MP(t.y,e.y,e.scaleY,e.scale,e.originY)}function dO(t,e){return lO(SQ(t.getBoundingClientRect(),e))}function CQ(t,e,n){const r=dO(t,n),{scroll:s}=e;return s&&(Ml(r.x,s.offset.x),Ml(r.y,s.offset.y)),r}const hO=({current:t})=>t?t.ownerDocument.defaultView:null,PQ=new WeakMap;class RQ{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Kt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(jg(u,"page").point)},i=(u,h)=>{var p;const{drag:g,dragPropagation:w,onDragStart:y}=this.getProps();if(g&&!w&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=sO(g),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ar(_=>{let v=this.getAxisMotionValue(_).get()||0;if(Rs.test(v)){const{projection:S}=this.visualElement;if(S&&S.layout){const P=S.layout.layoutBox[_];P&&(v=Tr(P)*(parseFloat(v)/100))}}this.originPoint[_]=v}),y&&dt.postRender(()=>y(u,h)),(p=this.removeWillChange)===null||p===void 0||p.call(this),this.removeWillChange=p0(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:w,onDrag:y}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:E}=h;if(g&&this.currentDirection===null){this.currentDirection=IQ(E),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",h.point,E),this.updateAxis("y",h.point,E),this.visualElement.render(),y&&y(u,h)},a=(u,h)=>this.stop(u,h),l=()=>Ar(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new tO(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:hO(this.visualElement)})}stop(e,n){var r;(r=this.removeWillChange)===null||r===void 0||r.call(this);const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&dt.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!jf(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=yQ(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Dl(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=vQ(s.layoutBox,n):this.constraints=!1,this.elastic=EQ(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ar(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=xQ(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Dl(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=CQ(r,s.root,this.visualElement.getTransformPagePoint());let o=wQ(s.layout.layoutBox,i);if(n){const a=n(TQ(o));this.hasMutatedConstraints=!!a,a&&(o=lO(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Ar(u=>{if(!jf(u,n,this.currentDirection))return;let h=l&&l[u]||{};o&&(h={min:0,max:0});const p=s?200:1e6,g=s?40:1e7,w={type:"inertia",velocity:r?e[u]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,w)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(gE(e,r,0,n,this.visualElement,!1,p0(this.visualElement,e)))}stopAnimation(){Ar(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ar(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ar(n=>{const{drag:r}=this.getProps();if(!jf(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-kt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Dl(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ar(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=_Q({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ar(o=>{if(!jf(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(kt(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;PQ.set(this.visualElement,this);const e=this.visualElement.current,n=ii(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Dl(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),dt.read(r);const o=Xs(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ar(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=g0,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function jf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function IQ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class AQ extends zo{constructor(e){super(e),this.removeGroupControls=Vn,this.removeListeners=Vn,this.controls=new RQ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vn}unmount(){this.removeGroupControls(),this.removeListeners()}}const OP=t=>(e,n)=>{t&&dt.postRender(()=>t(e,n))};class NQ extends zo{constructor(){super(...arguments),this.removePointerDownListener=Vn}onPointerDown(e){this.session=new tO(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hO(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:OP(e),onStart:OP(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&dt.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=ii(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vg=m.createContext(null);function DQ(){const t=m.useContext(Vg);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=m.useId();m.useEffect(()=>r(s),[]);const i=m.useCallback(()=>n&&n(s),[s,n]);return!e&&n?[!1,i]:[!0]}const vE=m.createContext({}),fO=m.createContext({}),yp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function LP(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Tu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ce.test(t))t=parseFloat(t);else return t;const n=LP(t,e.target.x),r=LP(t,e.target.y);return`${n}% ${r}%`}},kQ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=No.parse(t);if(s.length>5)return r;const i=No.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=kt(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}},Em={};function MQ(t){Object.assign(Em,t)}const{schedule:wE,cancel:ole}=pM(queueMicrotask,!1);class OQ extends m.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;MQ(LQ),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),yp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||dt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),wE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function pO(t){const[e,n]=DQ(),r=m.useContext(vE);return f.jsx(OQ,{...t,layoutGroup:r,switchLayoutGroup:m.useContext(fO),isPresent:e,safeToRemove:n})}const LQ={borderRadius:{...Tu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Tu,borderTopRightRadius:Tu,borderBottomLeftRadius:Tu,borderBottomRightRadius:Tu,boxShadow:kQ},mO=["TopLeft","TopRight","BottomLeft","BottomRight"],jQ=mO.length,jP=t=>typeof t=="string"?parseFloat(t):t,VP=t=>typeof t=="number"||Ce.test(t);function VQ(t,e,n,r,s,i){s?(t.opacity=kt(0,n.opacity!==void 0?n.opacity:1,FQ(r)),t.opacityExit=kt(e.opacity!==void 0?e.opacity:1,0,UQ(r))):i&&(t.opacity=kt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<jQ;o++){const a=`border${mO[o]}Radius`;let l=FP(e,a),c=FP(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||VP(l)===VP(c)?(t[a]=Math.max(kt(jP(l),jP(c),r),0),(Rs.test(c)||Rs.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=kt(e.rotate||0,n.rotate||0,r))}function FP(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const FQ=gO(0,.5,UM),UQ=gO(.5,.95,Vn);function gO(t,e,n){return r=>r<t?0:r>e?1:n($d(t,e,r))}function UP(t,e){t.min=e.min,t.max=e.max}function Ir(t,e){UP(t.x,e.x),UP(t.y,e.y)}function BP(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function $P(t,e,n,r,s){return t-=e,t=xm(t,1/n,r),s!==void 0&&(t=xm(t,1/s,r)),t}function BQ(t,e=0,n=1,r=.5,s,i=t,o=t){if(Rs.test(e)&&(e=parseFloat(e),e=kt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=kt(i.min,i.max,r);t===i&&(a-=e),t.min=$P(t.min,e,n,a,s),t.max=$P(t.max,e,n,a,s)}function zP(t,e,[n,r,s],i,o){BQ(t,e[n],e[r],e[s],e.scale,i,o)}const $Q=["x","scaleX","originX"],zQ=["y","scaleY","originY"];function WP(t,e,n,r){zP(t.x,e,$Q,n?n.x:void 0,r?r.x:void 0),zP(t.y,e,zQ,n?n.y:void 0,r?r.y:void 0)}function KP(t){return t.translate===0&&t.scale===1}function yO(t){return KP(t.x)&&KP(t.y)}function HP(t,e){return t.min===e.min&&t.max===e.max}function WQ(t,e){return HP(t.x,e.x)&&HP(t.y,e.y)}function GP(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function vO(t,e){return GP(t.x,e.x)&&GP(t.y,e.y)}function qP(t){return Tr(t.x)/Tr(t.y)}function QP(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class KQ{constructor(){this.members=[]}add(e){Mg(this.members,e),e.scheduleRender()}remove(e){if(Og(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function HQ(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:h,rotateY:p,skewX:g,skewY:w}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),p&&(r+=`rotateY(${p}deg) `),g&&(r+=`skewX(${g}deg) `),w&&(r+=`skewY(${w}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const GQ=(t,e)=>t.depth-e.depth;class qQ{constructor(){this.children=[],this.isDirty=!1}add(e){Mg(this.children,e),this.isDirty=!0}remove(e){Og(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(GQ),this.isDirty=!1,this.children.forEach(e)}}function vp(t){const e=jn(t)?t.get():t;return Fq(e)?e.toValue():e}function QQ(t,e){const n=Is.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(gi(r),t(i-e))};return dt.read(r,!0),()=>gi(r)}function YQ(t){return t instanceof SVGElement&&t.tagName!=="svg"}function XQ(t,e,n){const r=jn(t)?t:zd(t);return r.start(gE("",r,e,n)),r.animation}const oa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Lu=typeof window<"u"&&window.MotionDebug!==void 0,Iv=["","X","Y","Z"],JQ={visibility:"hidden"},YP=1e3;let ZQ=0;function Av(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function wO(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=YM(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",dt,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&wO(r)}function _O({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=ZQ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Lu&&(oa.totalNodes=oa.resolvedTargetDeltas=oa.recalculatedProjection=0),this.nodes.forEach(nY),this.nodes.forEach(aY),this.nodes.forEach(lY),this.nodes.forEach(rY),Lu&&window.MotionDebug.record(oa)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new qQ)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new yE),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=YQ(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=QQ(p,250),yp.hasAnimatedSinceResize&&(yp.hasAnimatedSinceResize=!1,this.nodes.forEach(JP))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:g,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||fY,{onLayoutAnimationStart:E,onLayoutAnimationComplete:_}=u.getProps(),v=!this.targetLayout||!vO(this.targetLayout,w)||g,S=!p&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||p&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,S);const P={...sE(y,"layout"),onPlay:E,onComplete:_};(u.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else p||JP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,gi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cY),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&wO(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(XP);return}this.isUpdating||this.nodes.forEach(iY),this.isUpdating=!1,this.nodes.forEach(oY),this.nodes.forEach(eY),this.nodes.forEach(tY),this.clearAllSnapshots();const a=Is.now();yn.delta=Ao(0,1e3/60,a-yn.timestamp),yn.timestamp=a,yn.isProcessing=!0,xv.update.process(yn),xv.preRender.process(yn),xv.render.process(yn),yn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,wE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(sY),this.sharedNodes.forEach(uY)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Kt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!yO(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||ia(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),pY(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Kt();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(mY))){const{scroll:u}=this.root;u&&(Ml(l.x,u.offset.x),Ml(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=Kt();if(Ir(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:h,options:p}=u;u!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&Ir(l,o),Ml(l.x,h.offset.x),Ml(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=Kt();Ir(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ol(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ia(u.latestValues)&&Ol(l,u.latestValues)}return ia(this.latestValues)&&Ol(l,this.latestValues),l}removeTransform(o){const a=Kt();Ir(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ia(c.latestValues))continue;y0(c.latestValues)&&c.updateSnapshot();const u=Kt(),h=c.measurePageBox();Ir(u,h),WP(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return ia(this.latestValues)&&WP(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=yn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Kt(),this.relativeTargetOrigin=Kt(),nd(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Ir(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Kt(),this.targetWithTransforms=Kt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),gQ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ir(this.target,this.layout.layoutBox),uO(this.target,this.targetDelta)):Ir(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Kt(),this.relativeTargetOrigin=Kt(),nd(this.relativeTargetOrigin,this.target,g.target),Ir(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Lu&&oa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||y0(this.parent.latestValues)||cO(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===yn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;Ir(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;bQ(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Kt());const{target:w}=a;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(BP(this.prevProjectionDelta.x,this.projectionDelta.x),BP(this.prevProjectionDelta.y,this.projectionDelta.y)),td(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!QP(this.projectionDelta.x,this.prevProjectionDelta.x)||!QP(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),Lu&&oa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=kl(),this.projectionDelta=kl(),this.projectionDeltaWithTransform=kl()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},h=kl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Kt(),g=l?l.source:void 0,w=this.layout?this.layout.source:void 0,y=g!==w,E=this.getStack(),_=!E||E.members.length<=1,v=!!(y&&!_&&this.options.crossfade===!0&&!this.path.some(hY));this.animationProgress=0;let S;this.mixTargetDelta=P=>{const A=P/1e3;ZP(h.x,o.x,A),ZP(h.y,o.y,A),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(nd(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),dY(this.relativeTarget,this.relativeTargetOrigin,p,A),S&&WQ(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Kt()),Ir(S,this.relativeTarget)),y&&(this.animationValues=u,VQ(u,c,this.latestValues,A,v,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(gi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dt.update(()=>{yp.hasAnimatedSinceResize=!0,this.currentAnimation=XQ(0,YP,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(YP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&xO(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Kt();const h=Tr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=Tr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Ir(a,l),Ol(a,u),td(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new KQ),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Av("z",o,c,this.animationValues);for(let u=0;u<Iv.length;u++)Av(`rotate${Iv[u]}`,o,c,this.animationValues),Av(`skew${Iv[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return JQ;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=vp(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=vp(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ia(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=HQ(this.projectionDeltaWithTransform,this.treeScale,p),u&&(c.transform=u(p,c.transform));const{x:g,y:w}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${w.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const y in Em){if(p[y]===void 0)continue;const{correct:E,applyTo:_}=Em[y],v=c.transform==="none"?p[y]:E(p[y],h);if(_){const S=_.length;for(let P=0;P<S;P++)c[_[P]]=v}else c[y]=v}return this.options.layoutId&&(c.pointerEvents=h===this?vp(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(XP),this.root.sharedNodes.clear()}}}function eY(t){t.updateLayout()}function tY(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?Ar(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],g=Tr(p);p.min=r[h].min,p.max=p.min+g}):xO(i,n.layoutBox,r)&&Ar(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],g=Tr(r[h]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+g)});const a=kl();td(a,r,n.layoutBox);const l=kl();o?td(l,t.applyTransform(s,!0),n.measuredBox):td(l,r,n.layoutBox);const c=!yO(a);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:g}=h;if(p&&g){const w=Kt();nd(w,n.layoutBox,p.layoutBox);const y=Kt();nd(y,r,g.layoutBox),vO(w,y)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=w,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function nY(t){Lu&&oa.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function rY(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function sY(t){t.clearSnapshot()}function XP(t){t.clearMeasurements()}function iY(t){t.isLayoutDirty=!1}function oY(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function JP(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function aY(t){t.resolveTargetDelta()}function lY(t){t.calcProjection()}function cY(t){t.resetSkewAndRotation()}function uY(t){t.removeLeadSnapshot()}function ZP(t,e,n){t.translate=kt(e.translate,0,n),t.scale=kt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function eR(t,e,n,r){t.min=kt(e.min,n.min,r),t.max=kt(e.max,n.max,r)}function dY(t,e,n,r){eR(t.x,e.x,n.x,r),eR(t.y,e.y,n.y,r)}function hY(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const fY={duration:.45,ease:[.4,0,.1,1]},tR=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),nR=tR("applewebkit/")&&!tR("chrome/")?Math.round:Vn;function rR(t){t.min=nR(t.min),t.max=nR(t.max)}function pY(t){rR(t.x),rR(t.y)}function xO(t,e,n){return t==="position"||t==="preserve-aspect"&&!mQ(qP(e),qP(n),.2)}function mY(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const gY=_O({attachResizeListener:(t,e)=>Xs(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Nv={current:void 0},EO=_O({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Nv.current){const t=new gY({});t.mount(window),t.setOptions({layoutScroll:!0}),Nv.current=t}return Nv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),yY={pan:{Feature:NQ},drag:{Feature:AQ,ProjectionNode:EO,MeasureLayout:pO}};function sR(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",s=(i,o)=>{if(i.pointerType==="touch"||iO())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&dt.postRender(()=>l(i,o))};return ii(t.current,n,s,{passive:!t.getProps()[r]})}class vY extends zo{mount(){this.unmount=si(sR(this.node,!0),sR(this.node,!1))}unmount(){}}class wY extends zo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=si(Xs(this.node.current,"focus",()=>this.onFocus()),Xs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const TO=(t,e)=>e?t===e?!0:TO(t,e.parentElement):!1;function Dv(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,jg(n))}class _Y extends zo{constructor(){super(...arguments),this.removeStartListeners=Vn,this.removeEndListeners=Vn,this.removeAccessibleListeners=Vn,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=ii(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:h}=this.node.getProps(),p=!h&&!TO(this.node.current,a.target)?u:c;p&&dt.update(()=>p(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=ii(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=si(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Dv("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&dt.postRender(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=Xs(this.node.current,"keyup",o),Dv("down",(a,l)=>{this.startPress(a,l)})},n=Xs(this.node.current,"keydown",e),r=()=>{this.isPressing&&Dv("cancel",(i,o)=>this.cancelPress(i,o))},s=Xs(this.node.current,"blur",r);this.removeAccessibleListeners=si(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&dt.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!iO()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&dt.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=ii(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Xs(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=si(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const w0=new WeakMap,kv=new WeakMap,xY=t=>{const e=w0.get(t.target);e&&e(t)},EY=t=>{t.forEach(xY)};function TY({root:t,...e}){const n=t||document;kv.has(n)||kv.set(n,{});const r=kv.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(EY,{root:t,...e})),r[s]}function SY(t,e,n){const r=TY(e);return w0.set(t,n),r.observe(t),()=>{w0.delete(t),r.unobserve(t)}}const bY={some:0,all:1};class CY extends zo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:bY[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),p=c?u:h;p&&p(l)};return SY(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(PY(e,n))&&this.startObserver()}unmount(){}}function PY({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const RY={inView:{Feature:CY},tap:{Feature:_Y},focus:{Feature:wY},hover:{Feature:vY}},IY={layout:{ProjectionNode:EO,MeasureLayout:pO}},_E=m.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Fg=m.createContext({}),xE=typeof window<"u",SO=xE?m.useLayoutEffect:m.useEffect,bO=m.createContext({strict:!1});let iR=!1;function AY(t,e,n,r,s){var i;const{visualElement:o}=m.useContext(Fg),a=m.useContext(bO),l=m.useContext(Vg),c=m.useContext(_E).reducedMotion,u=m.useRef();r=r||a.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const h=u.current,p=m.useContext(fO);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&DY(u.current,n,s,p),m.useInsertionEffect(()=>{h&&h.update(n,l)});const g=n[QM],w=m.useRef(!!g&&!window.MotionHandoffIsComplete&&((i=window.MotionHasOptimisedAnimation)===null||i===void 0?void 0:i.call(window,g)));return SO(()=>{h&&(h.updateFeatures(),wE.render(h.render),w.current&&h.animationState&&h.animationState.animateChanges())}),m.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current=!1,iR||(iR=!0,queueMicrotask(NY)))}),h}function NY(){window.MotionHandoffIsComplete=!0}function DY(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:CO(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Dl(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function CO(t){if(t)return t.options.allowProjection!==!1?t.projection:CO(t.parent)}function kY(t,e,n){return m.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Dl(n)&&(n.current=r))},[e])}function Ug(t){return Fd(t.animate)||rE.some(e=>Ud(t[e]))}function PO(t){return!!(Ug(t)||t.variants)}function MY(t,e){if(Ug(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ud(n)?n:void 0,animate:Ud(r)?r:void 0}}return t.inherit!==!1?e:{}}function OY(t){const{initial:e,animate:n}=MY(t,m.useContext(Fg));return m.useMemo(()=>({initial:e,animate:n}),[oR(e),oR(n)])}function oR(t){return Array.isArray(t)?t.join(" "):t}const aR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Tc={};for(const t in aR)Tc[t]={isEnabled:e=>aR[t].some(n=>!!e[n])};function LY(t){for(const e in t)Tc[e]={...Tc[e],...t[e]}}const jY=Symbol.for("motionComponentSymbol");function VY({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&LY(t);function i(a,l){let c;const u={...m.useContext(_E),...a,layoutId:FY(a)},{isStatic:h}=u,p=OY(a),g=r(a,h);if(!h&&xE){UY();const w=BY(u);c=w.MeasureLayout,p.visualElement=AY(s,g,u,e,w.ProjectionNode)}return f.jsxs(Fg.Provider,{value:p,children:[c&&p.visualElement?f.jsx(c,{visualElement:p.visualElement,...u}):null,n(s,a,kY(g,p.visualElement,l),g,h,p.visualElement)]})}const o=m.forwardRef(i);return o[jY]=s,o}function FY({layoutId:t}){const e=m.useContext(vE).id;return e&&t!==void 0?e+"-"+t:t}function UY(t,e){m.useContext(bO).strict}function BY(t){const{drag:e,layout:n}=Tc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const $Y=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function EE(t){return typeof t!="string"||t.includes("-")?!1:!!($Y.indexOf(t)>-1||/[A-Z]/u.test(t))}function RO(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const IO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function AO(t,e,n,r){RO(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(IO.has(s)?s:Lg(s),e.attrs[s])}function NO(t,{layout:e,layoutId:n}){return $o.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Em[t]||t==="opacity")}function TE(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(jn(s[o])||e.style&&jn(e.style[o])||NO(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return n&&s&&typeof s.willChange=="string"&&(n.applyWillChange=!1),i}function DO(t,e,n){const r=TE(t,e,n);for(const s in t)if(jn(t[s])||jn(e[s])){const i=Dh.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function SE(t){const e=m.useRef(null);return e.current===null&&(e.current=t()),e.current}function zY({applyWillChange:t=!1,scrapeMotionValuesFromProps:e,createRenderState:n,onMount:r},s,i,o,a){const l={latestValues:KY(s,i,o,a?!1:t,e),renderState:n()};return r&&(l.mount=c=>r(s,c,l)),l}const kO=t=>(e,n)=>{const r=m.useContext(Fg),s=m.useContext(Vg),i=()=>zY(t,e,r,s,n);return n?i():SE(i)};function WY(t,e){const n=XM(e);n&&Mg(t,n)}function lR(t,e,n){const r=Array.isArray(e)?e:[e];for(let s=0;s<r.length;s++){const i=tE(t,r[s]);if(i){const{transitionEnd:o,transition:a,...l}=i;n(l,o)}}}function KY(t,e,n,r,s){var i;const o={},a=[],l=r&&((i=t.style)===null||i===void 0?void 0:i.willChange)===void 0,c=s(t,{});for(const E in c)o[E]=vp(c[E]);let{initial:u,animate:h}=t;const p=Ug(t),g=PO(t);e&&g&&!p&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let w=n?n.initial===!1:!1;w=w||u===!1;const y=w?h:u;return y&&typeof y!="boolean"&&!Fd(y)&&lR(t,y,(E,_)=>{for(const v in E){let S=E[v];if(Array.isArray(S)){const P=w?S.length-1:0;S=S[P]}S!==null&&(o[v]=S)}for(const v in _)o[v]=_[v]}),l&&(h&&u!==!1&&!Fd(h)&&lR(t,h,E=>{for(const _ in E)WY(a,_)}),a.length&&(o.willChange=a.join(","))),o}const bE=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),MO=()=>({...bE(),attrs:{}}),OO=(t,e)=>e&&typeof t=="number"?e.transform(t):t,HY={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},GY=Dh.length;function qY(t,e,n){let r="",s=!0;for(let i=0;i<GY;i++){const o=Dh[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=OO(a,cE[o]);if(!l){s=!1;const u=HY[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function CE(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if($o.has(l)){o=!0;continue}else if(vM(l)){s[l]=c;continue}else{const u=OO(c,cE[l]);l.startsWith("origin")?(a=!0,i[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=qY(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;r.transformOrigin=`${l} ${c} ${u}`}}function cR(t,e,n){return typeof t=="string"?t:Ce.transform(e+n*t)}function QY(t,e,n){const r=cR(e,t.x,t.width),s=cR(n,t.y,t.height);return`${r} ${s}`}const YY={offset:"stroke-dashoffset",array:"stroke-dasharray"},XY={offset:"strokeDashoffset",array:"strokeDasharray"};function JY(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?YY:XY;t[i.offset]=Ce.transform(-r);const o=Ce.transform(e),a=Ce.transform(n);t[i.array]=`${o} ${a}`}function PE(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,h){if(CE(t,c,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g,dimensions:w}=t;p.transform&&(w&&(g.transform=p.transform),delete p.transform),w&&(s!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=QY(w,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&JY(p,o,a,l,!1)}const RE=t=>typeof t=="string"&&t.toLowerCase()==="svg",ZY={useVisualState:kO({scrapeMotionValuesFromProps:DO,createRenderState:MO,onMount:(t,e,{renderState:n,latestValues:r})=>{dt.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),dt.render(()=>{PE(n,r,RE(e.tagName),t.transformTemplate),AO(e,n)})}})},eX={useVisualState:kO({applyWillChange:!0,scrapeMotionValuesFromProps:TE,createRenderState:bE})};function LO(t,e,n){for(const r in e)!jn(e[r])&&!NO(r,n)&&(t[r]=e[r])}function tX({transformTemplate:t},e){return m.useMemo(()=>{const n=bE();return CE(n,e,t),Object.assign({},n.vars,n.style)},[e])}function nX(t,e){const n=t.style||{},r={};return LO(r,n,t),Object.assign(r,tX(t,e)),r}function rX(t,e){const n={},r=nX(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const sX=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Tm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||sX.has(t)}let jO=t=>!Tm(t);function iX(t){t&&(jO=e=>e.startsWith("on")?!Tm(e):t(e))}try{iX(require("@emotion/is-prop-valid").default)}catch{}function oX(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(jO(s)||n===!0&&Tm(s)||!e&&!Tm(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function aX(t,e,n,r){const s=m.useMemo(()=>{const i=MO();return PE(i,e,RE(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};LO(i,t.style,t),s.style={...i,...s.style}}return s}function lX(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(EE(n)?aX:rX)(r,i,o,n),c=oX(r,typeof n=="string",t),u=n!==m.Fragment?{...c,...l,ref:s}:{},{children:h}=r,p=m.useMemo(()=>jn(h)?h.get():h,[h]);return m.createElement(n,{...u,children:p})}}function cX(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...EE(r)?ZY:eX,preloadedFeatures:t,useRender:lX(s),createVisualElement:e,Component:r};return VY(o)}}const _0={current:null},VO={current:!1};function uX(){if(VO.current=!0,!!xE)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>_0.current=t.matches;t.addListener(e),e()}else _0.current=!1}function dX(t,e,n){for(const r in e){const s=e[r],i=n[r];if(jn(s))t.addValue(r,s);else if(jn(i))t.addValue(r,zd(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,zd(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const uR=new WeakMap,hX=[...xM,kn,No],fX=t=>hX.find(_M(t)),dR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class pX{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=aE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Is.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,dt.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Ug(n),this.isVariantNode=PO(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const g=h[p];l[p]!==void 0&&jn(g)&&g.set(l[p],!1)}}mount(e){this.current=e,uR.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),VO.current||uX(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){uR.delete(this.current),this.projection&&this.projection.unmount(),gi(this.notifyUpdate),gi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=$o.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&dt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Tc){const n=Tc[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Kt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<dR.length;r++){const s=dR[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=dX(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=zd(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(gM(s)||mM(s))?s=parseFloat(s):!fX(s)&&No.test(n)&&(s=IM(e,n)),this.setBaseTarget(e,jn(s)?s.get():s)),jn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=tE(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!jn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new yE),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class FO extends pX{constructor(){super(...arguments),this.KeyframeResolver=AM}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function mX(t){return window.getComputedStyle(t)}class gX extends FO{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=RO}readValueFromInstance(e,n){if($o.has(n)){const r=uE(n);return r&&r.default||0}else{const r=mX(e),s=(vM(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return dO(e,n)}build(e,n,r){CE(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return TE(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;jn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class yX extends FO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Kt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if($o.has(n)){const r=uE(n);return r&&r.default||0}return n=IO.has(n)?n:Lg(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return DO(e,n,r)}build(e,n,r){PE(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){AO(e,n,r,s)}mount(e){this.isSVGTag=RE(e.tagName),super.mount(e)}}const vX=(t,e)=>EE(t)?new yX(e):new gX(e,{allowProjection:t!==m.Fragment}),wX=cX({...oQ,...RY,...yY,...IY},vX),_X=eG(wX);class xX extends m.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function EX({children:t,isPresent:e}){const n=m.useId(),r=m.useRef(null),s=m.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=m.useContext(_E);return m.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=s.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return i&&(u.nonce=i),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),f.jsx(xX,{isPresent:e,childRef:r,sizeRef:s,children:m.cloneElement(t,{ref:r})})}const TX=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=SE(SX),l=m.useId(),c=m.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:u=>{a.set(u,!0);for(const h of a.values())if(!h)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),i?[Math.random()]:[n]);return m.useMemo(()=>{a.forEach((u,h)=>a.set(h,!1))},[n]),m.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=f.jsx(EX,{isPresent:n,children:t})),f.jsx(Vg.Provider,{value:c,children:t})};function SX(){return new Map}const Vf=t=>t.key||"";function hR(t){const e=[];return m.Children.forEach(t,n=>{m.isValidElement(n)&&e.push(n)}),e}const bX=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=m.useMemo(()=>hR(t),[t]),l=a.map(Vf),c=m.useRef(!0),u=m.useRef(a),h=SE(()=>new Map),[p,g]=m.useState(a),[w,y]=m.useState(a);SO(()=>{c.current=!1,u.current=a;for(let v=0;v<w.length;v++){const S=Vf(w[v]);l.includes(S)?h.delete(S):h.get(S)!==!0&&h.set(S,!1)}},[w,l.length,l.join("-")]);const E=[];if(a!==p){let v=[...a];for(let S=0;S<w.length;S++){const P=w[S],A=Vf(P);l.includes(A)||(v.splice(S,0,P),E.push(P))}o==="wait"&&E.length&&(v=E),y(hR(v)),g(a);return}const{forceRender:_}=m.useContext(vE);return f.jsx(f.Fragment,{children:w.map(v=>{const S=Vf(v),P=a===w||l.includes(S),A=()=>{if(h.has(S))h.set(S,!0);else return;let O=!0;h.forEach(C=>{C||(O=!1)}),O&&(_==null||_(),y(u.current),s&&s())};return f.jsx(TX,{isPresent:P,initial:!c.current||r?void 0:!1,custom:P?void 0:n,presenceAffectsLayout:i,mode:o,onExitComplete:P?void 0:A,children:v},S)})})},CX=({messageHistory:t,endOfMessagesRef:e,handleMessageClick:n})=>f.jsxs("div",{className:"flex-1 py-4 overflow-y-auto",children:[f.jsx(bX,{children:f.jsx(Ng,{items:t,renderItem:r=>f.jsx(_X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`mb-4 ${r.sender==="user"?"text-right":"text-left"}`,children:f.jsx(Z7,{message:r,onItemClick:n})},r.uuid),listStyle:"px-4 flex flex-col space-y-4"})}),f.jsx("div",{ref:e})]}),PX=()=>{const{messageHistory:t,handleSubmitMessage:e,message:n,setMessage:r,endOfMessagesRef:s,selectedResponse:i,setSelectedResponse:o,isInfoPanelOpen:a,setIsInfoPanelOpen:l}=l7();return f.jsxs("div",{className:"flex flex-col w-full max-w-4xl h-[44rem] border border-neutral-200 bg-white rounded-md",children:[f.jsxs("header",{className:"w-full h-[4rem] text-xl font-medium flex items-center justify-between px-4 border-b border-customBorderColor",children:["Admin Chat Interface",f.jsx("button",{onClick:()=>l(c=>!c),children:f.jsx("div",{className:"border border-customBorderColor text-zinc-500 p-1.5 rounded-sm hover:bg-zinc-50",children:f.jsx(hW,{})})})]}),f.jsxs("div",{className:"flex-1 flex overflow-y-auto",children:[f.jsxs("section",{className:"flex-1 flex flex-col",children:[f.jsx(CX,{messageHistory:t,endOfMessagesRef:s,handleMessageClick:o}),f.jsx(J7,{message:n,setMessage:r,handleSubmit:e})]}),f.jsx(X7,{showPanel:a,responseData:i})]})]})},RX=()=>f.jsxs("div",{className:"flex items-center flex-col w-[84rem] px-20 space-y-6 pb-8",children:[f.jsx(i7,{headerText:"Chatbot"}),f.jsx(PX,{})]}),IX=()=>f.jsx("header",{className:"py-4 text-3xl font-semibold w-full",children:"Knowledge"});function AX(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var IE=t=>{const{present:e,children:n}=t,r=NX(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=ke(r.ref,DX(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};IE.displayName="Presence";function NX(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=AX(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Ff(r.current);i.current=a==="mounted"?c:"none"},[a]),Pt(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=Ff(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Pt(()=>{if(e){const c=h=>{const g=Ff(r.current).includes(h.animationName);h.target===e&&g&&xi.flushSync(()=>l("ANIMATION_END"))},u=h=>{h.target===e&&(i.current=Ff(r.current))};return e.addEventListener("animationstart",u),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",u),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Ff(t){return(t==null?void 0:t.animationName)||"none"}function DX(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var AE="Tabs",[kX,lle]=Fc(AE,[Sg]),UO=Sg(),[MX,NE]=kX(AE),BO=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=vg(a),[h,p]=So({prop:r,onChange:s,defaultProp:i});return f.jsx(MX,{scope:n,baseId:ss(),value:h,onValueChange:p,orientation:o,dir:u,activationMode:l,children:f.jsx(xe.div,{dir:u,"data-orientation":o,...c,ref:e})})});BO.displayName=AE;var $O="TabsList",zO=m.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=NE($O,n),o=UO(n);return f.jsx(nk,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:f.jsx(xe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});zO.displayName=$O;var WO="TabsTrigger",KO=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=NE(WO,n),a=UO(n),l=GO(o.baseId,r),c=qO(o.baseId,r),u=r===o.value;return f.jsx(rk,{asChild:!0,...a,focusable:!s,active:u,children:f.jsx(xe.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:ee(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:ee(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:ee(t.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!s&&h&&o.onValueChange(r)})})})});KO.displayName=WO;var HO="TabsContent",Bg=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=NE(HO,n),l=GO(a.baseId,r),c=qO(a.baseId,r),u=r===a.value,h=m.useRef(u);return m.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),f.jsx(IE,{present:s||u,children:({present:p})=>f.jsx(xe.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:p&&i})})});Bg.displayName=HO;function GO(t,e){return`${t}-trigger-${e}`}function qO(t,e){return`${t}-content-${e}`}var OX=BO,QO=zO,YO=KO,XO=Bg;const LX=OX,JO=m.forwardRef(({className:t,...e},n)=>f.jsx(QO,{ref:n,className:de("inline-flex min-h-10 items-center justify-center rounded-tl-md rounded-tr-md bg-muted px-4 py-3 text-muted-foreground",t),...e}));JO.displayName=QO.displayName;const ZO=m.forwardRef(({className:t,...e},n)=>f.jsx(YO,{ref:n,className:de("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-2 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));ZO.displayName=YO.displayName;const eL=m.forwardRef(({className:t,...e},n)=>f.jsx(XO,{ref:n,className:de("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));eL.displayName=XO.displayName;const jX=[{tabValue:"knowledgeBase",tabName:"Knowledge Base"},{tabValue:"knowledgeEntry",tabName:"Knowledge Entry"},{tabValue:"entryDetails",tabName:"Entry Details"}],VX={knowledgeBase:oW,knowledgeEntry:Z6,entryDetails:aW},FX=({tabs:t})=>f.jsx(JO,{className:"grid w-full grid-cols-3 bg-heading",children:t.map(({tabName:e,tabValue:n})=>{const r=VX[n];return f.jsxs(ZO,{value:n,className:"data-[state=active]:bg-primary data-[state=active]:text-white",children:[f.jsx(r,{className:"size-5 mr-2"}),f.jsx("p",{className:"hidden md:block",children:e})]},e)})});var UX="DismissableLayer",x0="dismissableLayer.update",BX="dismissableLayer.pointerDownOutside",$X="dismissableLayer.focusOutside",fR,tL=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),nL=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(tL),[u,h]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=ke(e,C=>h(C)),y=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=y.indexOf(E),v=u?y.indexOf(u):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,P=v>=_,A=KX(C=>{const T=C.target,R=[...c.branches].some(I=>I.contains(T));!P||R||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),O=HX(C=>{const T=C.target;[...c.branches].some(I=>I.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return Ch(C=>{v===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(fR=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),pR(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=fR)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),pR())},[u,c]),m.useEffect(()=>{const C=()=>g({});return document.addEventListener(x0,C),()=>document.removeEventListener(x0,C)},[]),f.jsx(xe.div,{...l,ref:w,style:{pointerEvents:S?P?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,A.onPointerDownCapture)})});nL.displayName=UX;var zX="DismissableLayerBranch",WX=m.forwardRef((t,e)=>{const n=m.useContext(tL),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(xe.div,{...t,ref:s})});WX.displayName=zX;function KX(t,e=globalThis==null?void 0:globalThis.document){const n=At(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){rL(BX,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function HX(t,e=globalThis==null?void 0:globalThis.document){const n=At(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&rL($X,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function pR(){const t=new CustomEvent(x0);document.dispatchEvent(t)}function rL(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?qa(s,i):s.dispatchEvent(i)}var GX="VisuallyHidden",Lh=m.forwardRef((t,e)=>f.jsx(xe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Lh.displayName=GX;var qX=Lh,[$g,cle]=Fc("Tooltip",[$c]),zg=$c(),sL="TooltipProvider",QX=700,E0="tooltip.open",[YX,DE]=$g(sL),iL=t=>{const{__scopeTooltip:e,delayDuration:n=QX,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=m.useState(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),f.jsx(YX,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};iL.displayName=sL;var Wg="Tooltip",[XX,Kg]=$g(Wg),oL=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,l=DE(Wg,t.__scopeTooltip),c=zg(e),[u,h]=m.useState(null),p=ss(),g=m.useRef(0),w=o??l.disableHoverableContent,y=a??l.delayDuration,E=m.useRef(!1),[_=!1,v]=So({prop:r,defaultProp:s,onChange:C=>{C?(l.onOpen(),document.dispatchEvent(new CustomEvent(E0))):l.onClose(),i==null||i(C)}}),S=m.useMemo(()=>_?E.current?"delayed-open":"instant-open":"closed",[_]),P=m.useCallback(()=>{window.clearTimeout(g.current),E.current=!1,v(!0)},[v]),A=m.useCallback(()=>{window.clearTimeout(g.current),v(!1)},[v]),O=m.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{E.current=!0,v(!0)},y)},[y,v]);return m.useEffect(()=>()=>window.clearTimeout(g.current),[]),f.jsx(Nx,{...c,children:f.jsx(XX,{scope:e,contentId:p,open:_,stateAttribute:S,trigger:u,onTriggerChange:h,onTriggerEnter:m.useCallback(()=>{l.isOpenDelayed?O():P()},[l.isOpenDelayed,O,P]),onTriggerLeave:m.useCallback(()=>{w?A():window.clearTimeout(g.current)},[A,w]),onOpen:P,onClose:A,disableHoverableContent:w,children:n})})};oL.displayName=Wg;var T0="TooltipTrigger",aL=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Kg(T0,n),i=DE(T0,n),o=zg(n),a=m.useRef(null),l=ke(e,a,s.onTriggerChange),c=m.useRef(!1),u=m.useRef(!1),h=m.useCallback(()=>c.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),f.jsx(Dx,{asChild:!0,...o,children:f.jsx(xe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ee(t.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:ee(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:ee(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ee(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:ee(t.onBlur,s.onClose),onClick:ee(t.onClick,s.onClose)})})});aL.displayName=T0;var JX="TooltipPortal",[ule,ZX]=$g(JX,{forceMount:void 0}),Sc="TooltipContent",lL=m.forwardRef((t,e)=>{const n=ZX(Sc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Kg(Sc,t.__scopeTooltip);return f.jsx(IE,{present:r||o.open,children:o.disableHoverableContent?f.jsx(cL,{side:s,...i,ref:e}):f.jsx(eJ,{side:s,...i,ref:e})})}),eJ=m.forwardRef((t,e)=>{const n=Kg(Sc,t.__scopeTooltip),r=DE(Sc,t.__scopeTooltip),s=m.useRef(null),i=ke(e,s),[o,a]=m.useState(null),{trigger:l,onClose:c}=n,u=s.current,{onPointerInTransitChange:h}=r,p=m.useCallback(()=>{a(null),h(!1)},[h]),g=m.useCallback((w,y)=>{const E=w.currentTarget,_={x:w.clientX,y:w.clientY},v=sJ(_,E.getBoundingClientRect()),S=iJ(_,v),P=oJ(y.getBoundingClientRect()),A=lJ([...S,...P]);a(A),h(!0)},[h]);return m.useEffect(()=>()=>p(),[p]),m.useEffect(()=>{if(l&&u){const w=E=>g(E,u),y=E=>g(E,l);return l.addEventListener("pointerleave",w),u.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",w),u.removeEventListener("pointerleave",y)}}},[l,u,g,p]),m.useEffect(()=>{if(o){const w=y=>{const E=y.target,_={x:y.clientX,y:y.clientY},v=(l==null?void 0:l.contains(E))||(u==null?void 0:u.contains(E)),S=!aJ(_,o);v?p():S&&(p(),c())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,u,o,c,p]),f.jsx(cL,{...t,ref:i})}),[tJ,nJ]=$g(Wg,{isInside:!1}),cL=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Kg(Sc,n),c=zg(n),{onClose:u}=l;return m.useEffect(()=>(document.addEventListener(E0,u),()=>document.removeEventListener(E0,u)),[u]),m.useEffect(()=>{if(l.trigger){const h=p=>{const g=p.target;g!=null&&g.contains(l.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,u]),f.jsx(nL,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:f.jsxs(kx,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(xx,{children:r}),f.jsx(tJ,{scope:n,isInside:!0,children:f.jsx(qX,{id:l.contentId,role:"tooltip",children:s||r})})]})})});lL.displayName=Sc;var uL="TooltipArrow",rJ=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=zg(n);return nJ(uL,n).isInside?null:f.jsx(Mx,{...s,...r,ref:e})});rJ.displayName=uL;function sJ(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function iJ(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function oJ(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function aJ(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(s=!s)}return s}function lJ(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),cJ(e)}function cJ(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var uJ=iL,dJ=oL,hJ=aL,dL=lL;const fJ=uJ,pJ=dJ,mJ=hJ,hL=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>f.jsx(dL,{ref:r,sideOffset:e,className:de("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));hL.displayName=dL.displayName;const kE=({label:t,htmlFor:e,tooltip:n})=>f.jsx(fJ,{children:f.jsxs(pJ,{children:[f.jsx(mJ,{asChild:!0,children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("label",{htmlFor:e,className:"cursor-pointer font-medium ",children:t}),f.jsx(SD,{className:"size-4 text-[#64748b] cursor-pointer"})]})}),f.jsx(hL,{className:"max-w-xs",children:f.jsx("p",{children:n})})]})}),gJ={entry:"ENTRY",base:"BASE"},yJ="A unique action or purpose the user wants to achieve",vJ="Example phrases the bot associates with the intent during training",wJ="The bot's response to the query",_J=8,ut=Vo((t,e)=>({formData:{knowledgeBaseName:"",intent:"",documents:[""],answer:"",fileUrl:"",file:null},formDataErrors:{},setFormData:(n,r)=>{t(s=>({formData:{...s.formData,[n]:r}}))},setFile:n=>{t(r=>({formData:{...r.formData,file:n}}))},setFormDataErrors:n=>{t({formDataErrors:n})},setDocuments:(n,r)=>{const s=e().formData.documents;s[r]=n,t(i=>({formData:{...i.formData,documents:s}}))},addDocument:()=>{e().formData.documents.length>=_J||t(n=>({formData:{...n.formData,documents:[...n.formData.documents,""]}}))},removeDocument:n=>{const r=e().formData.documents;if(r.length===1)throw new Error("Documents cannot be empty");r.splice(n,1),t(s=>({formData:{...s.formData,documents:r}}))},clearFormData:()=>{t(()=>({formData:{knowledgeBaseName:"",intent:"",documents:[""],answer:"",fileUrl:"",file:null},formDataErrors:{knowledgeBaseName:"",intent:"",documents:"",answer:""}}))}})),xJ=()=>{const{intent:t}=ut(n=>n.formData),e=ut(n=>n.setFormData);return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-fit",children:f.jsx(kE,{label:"Intent",htmlFor:"intent",tooltip:yJ})}),f.jsx(un,{id:"intent",placeholder:"Enter intent",value:t,className:"mt-1",onChange:n=>e("intent",n.target.value)})]})},Hg=m.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:de("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Hg.displayName="Card";const fL=m.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:de("flex flex-col space-y-1.5 p-6",t),...e}));fL.displayName="CardHeader";const pL=m.forwardRef(({className:t,...e},n)=>f.jsx("h3",{ref:n,className:de("text-2xl font-semibold leading-none tracking-tight",t),...e}));pL.displayName="CardTitle";const mL=m.forwardRef(({className:t,...e},n)=>f.jsx("p",{ref:n,className:de("text-sm text-muted-foreground",t),...e}));mL.displayName="CardDescription";const Gg=m.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:de("p-6 pt-0",t),...e}));Gg.displayName="CardContent";const gL=m.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:de("flex items-center p-6 pt-0",t),...e}));gL.displayName="CardFooter";const EJ=()=>{var i;const t=ut(o=>o.formData),e=ut(o=>o.setDocuments),n=ut(o=>o.addDocument),r=ut(o=>o.removeDocument),s=async o=>{try{if(!t.intent)return;if(t.documents.length===1)return window.alert("Documents cannot be empty");r(o)}catch(a){console.error(a)}};return f.jsxs("div",{children:[f.jsx("div",{className:"w-fit",children:f.jsx(kE,{label:"Document",htmlFor:"document",tooltip:vJ})}),f.jsx("div",{className:"space-y-2 mt-1",children:(i=t.documents)==null?void 0:i.map((o,a)=>f.jsx(Hg,{className:"w-full hover:bg-lightGray transition-colors",children:f.jsxs(Gg,{className:"p-4 w-full flex items-center justify-between-",children:[f.jsx("div",{className:"flex w-full items-center space-x-4",children:f.jsx("input",{value:o,id:"document",className:"text-sm bg-transparent outline-none w-full py-2",placeholder:"Enter document",onChange:l=>e(l.target.value,a)})}),f.jsx("div",{className:"flex space-x-2",children:f.jsxs(ct,{variant:"ghost",size:"icon",className:"hover:bg-transparent",onClick:async()=>{await s(a)},children:[f.jsx(_x,{className:"size-5 font-bold hover:text-red-600 ease-in",strokeWidth:2}),f.jsx("span",{className:"sr-only",children:"Delete"})]})})]})},a))}),f.jsxs(ct,{variant:"outline",size:"sm",className:"mt-2",onClick:n,disabled:!t.intent,children:[f.jsx(bh,{className:"w-4 h-4 mr-2"})," Add Document"]})]})},yL=m.forwardRef(({className:t,...e},n)=>f.jsx("textarea",{className:de("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));yL.displayName="Textarea";const TJ=".png,.jpg,.mp4,.pdf",SJ=({fileRef:t,changeFile:e})=>f.jsxs("div",{children:[f.jsx(un,{id:"file-upload",type:"file",className:"hidden",ref:t,accept:TJ,onChange:e}),f.jsx(ct,{variant:"ghost",size:"icon",className:"size-8 rounded-full hover:bg-neutral-100 p-1.5",onClick:()=>{var n;return(n=t.current)==null?void 0:n.click()},children:f.jsx(bD,{className:"size-4"})})]}),ME=e7,OE=t7,bJ=m.forwardRef(({className:t,inset:e,children:n,...r},s)=>f.jsxs(Jk,{ref:s,className:de("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,f.jsx(wD,{className:"ml-auto h-4 w-4"})]}));bJ.displayName=Jk.displayName;const CJ=m.forwardRef(({className:t,...e},n)=>f.jsx(Zk,{ref:n,className:de("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));CJ.displayName=Zk.displayName;const qg=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>f.jsx(n7,{children:f.jsx(Kk,{ref:r,sideOffset:e,className:de("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));qg.displayName=Kk.displayName;const la=m.forwardRef(({className:t,inset:e,...n},r)=>f.jsx(Gk,{ref:r,className:de("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));la.displayName=Gk.displayName;const PJ=m.forwardRef(({className:t,children:e,checked:n,...r},s)=>f.jsxs(qk,{ref:s,className:de("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(Yk,{children:f.jsx(yD,{className:"h-4 w-4"})})}),e]}));PJ.displayName=qk.displayName;const RJ=m.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(Qk,{ref:r,className:de("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(Yk,{children:f.jsx(iW,{className:"h-2 w-2 fill-current"})})}),e]}));RJ.displayName=Qk.displayName;const IJ=m.forwardRef(({className:t,inset:e,...n},r)=>f.jsx(Hk,{ref:r,className:de("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));IJ.displayName=Hk.displayName;const vL=m.forwardRef(({className:t,...e},n)=>f.jsx(Xk,{ref:n,className:de("-mx-1 my-1 h-px bg-muted",t),...e}));vL.displayName=Xk.displayName;var AJ="Label",wL=m.forwardRef((t,e)=>f.jsx(xe.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));wL.displayName=AJ;var _L=wL;const NJ=Nh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ar=m.forwardRef(({className:t,...e},n)=>f.jsx(_L,{ref:n,className:de(NJ(),t),...e}));ar.displayName=_L.displayName;const DJ=({isLinkDropdownOpen:t,setIsLinkDropdownOpen:e,onInsertLink:n})=>{const[r,s]=m.useState(""),[i,o]=m.useState(""),a=()=>{e(!1),n(r,i),s(""),o("")};return f.jsxs(ME,{open:t,onOpenChange:e,children:[f.jsx(OE,{asChild:!0,children:f.jsx(ct,{variant:"ghost",size:"icon",className:"size-8 rounded-full hover:bg-neutral-100 p-1.5",onClick:()=>e(!0),children:f.jsx(cW,{className:"size-4"})})}),f.jsx(qg,{side:"top",className:"w-56",children:f.jsxs("div",{className:"flex flex-col p-4 space-y-4",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsx(ar,{htmlFor:"link-url",className:"mb-1",children:"URL"}),f.jsx(un,{id:"link-url",value:r,onChange:l=>s(l.target.value),className:"col-span-3",placeholder:"Enter link URL"})]}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx(ar,{htmlFor:"link-text",className:"mb-1",children:"Text"}),f.jsx(un,{id:"link-text",value:i,onChange:l=>o(l.target.value),className:"col-span-3",placeholder:"Enter link Text"})]}),f.jsx(ct,{onClick:a,children:"Insert Link"})]})})]})},xL=({answer:t,handleTextChange:e,onFileChange:n,fileRef:r,textAreaRef:s,isError:i,isLinkDropDownVisible:o,setIsLinkDropDownVisible:a,onInsertLink:l})=>{const c=u=>{const h=u.target;h.style.height="auto",h.style.height=`${h.scrollHeight}px`,e("answer",h.value)};return m.useEffect(()=>{s.current&&(s.current.style.height="auto",s.current.style.height=`${s.current.scrollHeight}px`)},[s,t]),f.jsxs("div",{className:"relative mb-4 ",children:[f.jsx(yL,{spellCheck:!1,name:"answer",ref:s,placeholder:"Enter the answer",className:de("min-h-[100px] pb-12 overflow-hidden resize-none outline-none focus:outline-none",i&&"border-destructive"),value:t,onChange:c}),f.jsxs("div",{className:"absolute bottom-2 left-2 flex space-x-2",children:[f.jsx(DJ,{isLinkDropdownOpen:o,setIsLinkDropdownOpen:a,onInsertLink:l}),f.jsx(SJ,{fileRef:r,changeFile:n})]})]})},kJ=t=>Object.entries(t).map(([e,n])=>({id:Date.now().toString(),key:e,value:n})),MJ=t=>t<1024?t+" bytes":t<1048576?(t/1024).toFixed(1)+" KB":(t/1048576).toFixed(1)+" MB",EL=t=>{try{const e=decodeURIComponent(t),n=e.lastIndexOf("/")+1,r=e.indexOf("?alt=");return n!==-1&&r!==-1?e.substring(n,r):null}catch(e){return console.error("Failed to extract filename:",e),null}},OJ=t=>t&&t.charAt(0).toUpperCase()+t.slice(1),TL=({file:t,removeFile:e})=>f.jsx("div",{className:"mt-4 p-4 border rounded-md bg-muted",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-2 overflow-hidden",children:[f.jsx(bD,{className:"h-4 w-4 text-muted-foreground"}),f.jsx("div",{className:"font-medium truncate max-w-[250px]",children:t.name}),f.jsxs("div",{className:"text-sm text-center text-muted-foreground w-20",children:["(",MJ(t.size),")"]})]}),f.jsx(ct,{variant:"ghost",size:"icon",onClick:e,className:"h-8 w-8 min-w-8",children:f.jsx(mg,{className:"h-4 w-4"})})]})});var LJ="firebase",jJ="10.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bs(LJ,jJ,"app");var mR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pa,SL;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,T){function R(){}R.prototype=T.prototype,C.D=T.prototype,C.prototype=new R,C.prototype.constructor=C,C.C=function(I,M,k){for(var D=Array(arguments.length-2),H=2;H<arguments.length;H++)D[H-2]=arguments[H];return T.prototype[M].apply(I,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,T,R){R||(R=0);var I=Array(16);if(typeof T=="string")for(var M=0;16>M;++M)I[M]=T.charCodeAt(R++)|T.charCodeAt(R++)<<8|T.charCodeAt(R++)<<16|T.charCodeAt(R++)<<24;else for(M=0;16>M;++M)I[M]=T[R++]|T[R++]<<8|T[R++]<<16|T[R++]<<24;T=C.g[0],R=C.g[1],M=C.g[2];var k=C.g[3],D=T+(k^R&(M^k))+I[0]+3614090360&4294967295;T=R+(D<<7&4294967295|D>>>25),D=k+(M^T&(R^M))+I[1]+3905402710&4294967295,k=T+(D<<12&4294967295|D>>>20),D=M+(R^k&(T^R))+I[2]+606105819&4294967295,M=k+(D<<17&4294967295|D>>>15),D=R+(T^M&(k^T))+I[3]+3250441966&4294967295,R=M+(D<<22&4294967295|D>>>10),D=T+(k^R&(M^k))+I[4]+4118548399&4294967295,T=R+(D<<7&4294967295|D>>>25),D=k+(M^T&(R^M))+I[5]+1200080426&4294967295,k=T+(D<<12&4294967295|D>>>20),D=M+(R^k&(T^R))+I[6]+2821735955&4294967295,M=k+(D<<17&4294967295|D>>>15),D=R+(T^M&(k^T))+I[7]+4249261313&4294967295,R=M+(D<<22&4294967295|D>>>10),D=T+(k^R&(M^k))+I[8]+1770035416&4294967295,T=R+(D<<7&4294967295|D>>>25),D=k+(M^T&(R^M))+I[9]+2336552879&4294967295,k=T+(D<<12&4294967295|D>>>20),D=M+(R^k&(T^R))+I[10]+4294925233&4294967295,M=k+(D<<17&4294967295|D>>>15),D=R+(T^M&(k^T))+I[11]+2304563134&4294967295,R=M+(D<<22&4294967295|D>>>10),D=T+(k^R&(M^k))+I[12]+1804603682&4294967295,T=R+(D<<7&4294967295|D>>>25),D=k+(M^T&(R^M))+I[13]+4254626195&4294967295,k=T+(D<<12&4294967295|D>>>20),D=M+(R^k&(T^R))+I[14]+2792965006&4294967295,M=k+(D<<17&4294967295|D>>>15),D=R+(T^M&(k^T))+I[15]+1236535329&4294967295,R=M+(D<<22&4294967295|D>>>10),D=T+(M^k&(R^M))+I[1]+4129170786&4294967295,T=R+(D<<5&4294967295|D>>>27),D=k+(R^M&(T^R))+I[6]+3225465664&4294967295,k=T+(D<<9&4294967295|D>>>23),D=M+(T^R&(k^T))+I[11]+643717713&4294967295,M=k+(D<<14&4294967295|D>>>18),D=R+(k^T&(M^k))+I[0]+3921069994&4294967295,R=M+(D<<20&4294967295|D>>>12),D=T+(M^k&(R^M))+I[5]+3593408605&4294967295,T=R+(D<<5&4294967295|D>>>27),D=k+(R^M&(T^R))+I[10]+38016083&4294967295,k=T+(D<<9&4294967295|D>>>23),D=M+(T^R&(k^T))+I[15]+3634488961&4294967295,M=k+(D<<14&4294967295|D>>>18),D=R+(k^T&(M^k))+I[4]+3889429448&4294967295,R=M+(D<<20&4294967295|D>>>12),D=T+(M^k&(R^M))+I[9]+568446438&4294967295,T=R+(D<<5&4294967295|D>>>27),D=k+(R^M&(T^R))+I[14]+3275163606&4294967295,k=T+(D<<9&4294967295|D>>>23),D=M+(T^R&(k^T))+I[3]+4107603335&4294967295,M=k+(D<<14&4294967295|D>>>18),D=R+(k^T&(M^k))+I[8]+1163531501&4294967295,R=M+(D<<20&4294967295|D>>>12),D=T+(M^k&(R^M))+I[13]+2850285829&4294967295,T=R+(D<<5&4294967295|D>>>27),D=k+(R^M&(T^R))+I[2]+4243563512&4294967295,k=T+(D<<9&4294967295|D>>>23),D=M+(T^R&(k^T))+I[7]+1735328473&4294967295,M=k+(D<<14&4294967295|D>>>18),D=R+(k^T&(M^k))+I[12]+2368359562&4294967295,R=M+(D<<20&4294967295|D>>>12),D=T+(R^M^k)+I[5]+4294588738&4294967295,T=R+(D<<4&4294967295|D>>>28),D=k+(T^R^M)+I[8]+2272392833&4294967295,k=T+(D<<11&4294967295|D>>>21),D=M+(k^T^R)+I[11]+1839030562&4294967295,M=k+(D<<16&4294967295|D>>>16),D=R+(M^k^T)+I[14]+4259657740&4294967295,R=M+(D<<23&4294967295|D>>>9),D=T+(R^M^k)+I[1]+2763975236&4294967295,T=R+(D<<4&4294967295|D>>>28),D=k+(T^R^M)+I[4]+1272893353&4294967295,k=T+(D<<11&4294967295|D>>>21),D=M+(k^T^R)+I[7]+4139469664&4294967295,M=k+(D<<16&4294967295|D>>>16),D=R+(M^k^T)+I[10]+3200236656&4294967295,R=M+(D<<23&4294967295|D>>>9),D=T+(R^M^k)+I[13]+681279174&4294967295,T=R+(D<<4&4294967295|D>>>28),D=k+(T^R^M)+I[0]+3936430074&4294967295,k=T+(D<<11&4294967295|D>>>21),D=M+(k^T^R)+I[3]+3572445317&4294967295,M=k+(D<<16&4294967295|D>>>16),D=R+(M^k^T)+I[6]+76029189&4294967295,R=M+(D<<23&4294967295|D>>>9),D=T+(R^M^k)+I[9]+3654602809&4294967295,T=R+(D<<4&4294967295|D>>>28),D=k+(T^R^M)+I[12]+3873151461&4294967295,k=T+(D<<11&4294967295|D>>>21),D=M+(k^T^R)+I[15]+530742520&4294967295,M=k+(D<<16&4294967295|D>>>16),D=R+(M^k^T)+I[2]+3299628645&4294967295,R=M+(D<<23&4294967295|D>>>9),D=T+(M^(R|~k))+I[0]+4096336452&4294967295,T=R+(D<<6&4294967295|D>>>26),D=k+(R^(T|~M))+I[7]+1126891415&4294967295,k=T+(D<<10&4294967295|D>>>22),D=M+(T^(k|~R))+I[14]+2878612391&4294967295,M=k+(D<<15&4294967295|D>>>17),D=R+(k^(M|~T))+I[5]+4237533241&4294967295,R=M+(D<<21&4294967295|D>>>11),D=T+(M^(R|~k))+I[12]+1700485571&4294967295,T=R+(D<<6&4294967295|D>>>26),D=k+(R^(T|~M))+I[3]+2399980690&4294967295,k=T+(D<<10&4294967295|D>>>22),D=M+(T^(k|~R))+I[10]+4293915773&4294967295,M=k+(D<<15&4294967295|D>>>17),D=R+(k^(M|~T))+I[1]+2240044497&4294967295,R=M+(D<<21&4294967295|D>>>11),D=T+(M^(R|~k))+I[8]+1873313359&4294967295,T=R+(D<<6&4294967295|D>>>26),D=k+(R^(T|~M))+I[15]+4264355552&4294967295,k=T+(D<<10&4294967295|D>>>22),D=M+(T^(k|~R))+I[6]+2734768916&4294967295,M=k+(D<<15&4294967295|D>>>17),D=R+(k^(M|~T))+I[13]+1309151649&4294967295,R=M+(D<<21&4294967295|D>>>11),D=T+(M^(R|~k))+I[4]+4149444226&4294967295,T=R+(D<<6&4294967295|D>>>26),D=k+(R^(T|~M))+I[11]+3174756917&4294967295,k=T+(D<<10&4294967295|D>>>22),D=M+(T^(k|~R))+I[2]+718787259&4294967295,M=k+(D<<15&4294967295|D>>>17),D=R+(k^(M|~T))+I[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+k&4294967295}r.prototype.u=function(C,T){T===void 0&&(T=C.length);for(var R=T-this.blockSize,I=this.B,M=this.h,k=0;k<T;){if(M==0)for(;k<=R;)s(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<T;)if(I[M++]=C.charCodeAt(k++),M==this.blockSize){s(this,I),M=0;break}}else for(;k<T;)if(I[M++]=C[k++],M==this.blockSize){s(this,I),M=0;break}}this.h=M,this.o+=T},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;var R=8*this.o;for(T=C.length-8;T<C.length;++T)C[T]=R&255,R/=256;for(this.u(C),C=Array(16),T=R=0;4>T;++T)for(var I=0;32>I;I+=8)C[R++]=this.g[T]>>>I&255;return C};function i(C,T){var R=a;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=T(C)}function o(C,T){this.h=T;for(var R=[],I=!0,M=C.length-1;0<=M;M--){var k=C[M]|0;I&&k==T||(R[M]=k,I=!1)}this.g=R}var a={};function l(C){return-128<=C&&128>C?i(C,function(T){return new o([T|0],0>T?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return h;if(0>C)return E(c(-C));for(var T=[],R=1,I=0;C>=R;I++)T[I]=C/R|0,R*=4294967296;return new o(T,0)}function u(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return E(u(C.substring(1),T));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=c(Math.pow(T,8)),I=h,M=0;M<C.length;M+=8){var k=Math.min(8,C.length-M),D=parseInt(C.substring(M,M+k),T);8>k?(k=c(Math.pow(T,k)),I=I.j(k).add(c(D))):(I=I.j(R),I=I.add(c(D)))}return I}var h=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-E(this).m();for(var C=0,T=1,R=0;R<this.g.length;R++){var I=this.i(R);C+=(0<=I?I:4294967296+I)*T,T*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(w(this))return"0";if(y(this))return"-"+E(this).toString(C);for(var T=c(Math.pow(C,6)),R=this,I="";;){var M=P(R,T).g;R=_(R,M.j(T));var k=((0<R.g.length?R.g[0]:R.h)>>>0).toString(C);if(R=M,w(R))return k+I;for(;6>k.length;)k="0"+k;I=k+I}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function w(C){if(C.h!=0)return!1;for(var T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function y(C){return C.h==-1}t.l=function(C){return C=_(this,C),y(C)?-1:w(C)?0:1};function E(C){for(var T=C.g.length,R=[],I=0;I<T;I++)R[I]=~C.g[I];return new o(R,~C.h).add(p)}t.abs=function(){return y(this)?E(this):this},t.add=function(C){for(var T=Math.max(this.g.length,C.g.length),R=[],I=0,M=0;M<=T;M++){var k=I+(this.i(M)&65535)+(C.i(M)&65535),D=(k>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);I=D>>>16,k&=65535,D&=65535,R[M]=D<<16|k}return new o(R,R[R.length-1]&-2147483648?-1:0)};function _(C,T){return C.add(E(T))}t.j=function(C){if(w(this)||w(C))return h;if(y(this))return y(C)?E(this).j(E(C)):E(E(this).j(C));if(y(C))return E(this.j(E(C)));if(0>this.l(g)&&0>C.l(g))return c(this.m()*C.m());for(var T=this.g.length+C.g.length,R=[],I=0;I<2*T;I++)R[I]=0;for(I=0;I<this.g.length;I++)for(var M=0;M<C.g.length;M++){var k=this.i(I)>>>16,D=this.i(I)&65535,H=C.i(M)>>>16,ae=C.i(M)&65535;R[2*I+2*M]+=D*ae,v(R,2*I+2*M),R[2*I+2*M+1]+=k*ae,v(R,2*I+2*M+1),R[2*I+2*M+1]+=D*H,v(R,2*I+2*M+1),R[2*I+2*M+2]+=k*H,v(R,2*I+2*M+2)}for(I=0;I<T;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=T;I<2*T;I++)R[I]=0;return new o(R,0)};function v(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function S(C,T){this.g=C,this.h=T}function P(C,T){if(w(T))throw Error("division by zero");if(w(C))return new S(h,h);if(y(C))return T=P(E(C),T),new S(E(T.g),E(T.h));if(y(T))return T=P(C,E(T)),new S(E(T.g),T.h);if(30<C.g.length){if(y(C)||y(T))throw Error("slowDivide_ only works with positive integers.");for(var R=p,I=T;0>=I.l(C);)R=A(R),I=A(I);var M=O(R,1),k=O(I,1);for(I=O(I,2),R=O(R,2);!w(I);){var D=k.add(I);0>=D.l(C)&&(M=M.add(R),k=D),I=O(I,1),R=O(R,1)}return T=_(C,M.j(T)),new S(M,T)}for(M=h;0<=C.l(T);){for(R=Math.max(1,Math.floor(C.m()/T.m())),I=Math.ceil(Math.log(R)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),k=c(R),D=k.j(T);y(D)||0<D.l(C);)R-=I,k=c(R),D=k.j(T);w(k)&&(k=p),M=M.add(k),C=_(C,D)}return new S(M,C)}t.A=function(C){return P(this,C).h},t.and=function(C){for(var T=Math.max(this.g.length,C.g.length),R=[],I=0;I<T;I++)R[I]=this.i(I)&C.i(I);return new o(R,this.h&C.h)},t.or=function(C){for(var T=Math.max(this.g.length,C.g.length),R=[],I=0;I<T;I++)R[I]=this.i(I)|C.i(I);return new o(R,this.h|C.h)},t.xor=function(C){for(var T=Math.max(this.g.length,C.g.length),R=[],I=0;I<T;I++)R[I]=this.i(I)^C.i(I);return new o(R,this.h^C.h)};function A(C){for(var T=C.g.length+1,R=[],I=0;I<T;I++)R[I]=C.i(I)<<1|C.i(I-1)>>>31;return new o(R,C.h)}function O(C,T){var R=T>>5;T%=32;for(var I=C.g.length-R,M=[],k=0;k<I;k++)M[k]=0<T?C.i(k+R)>>>T|C.i(k+R+1)<<32-T:C.i(k+R);return new o(M,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,SL=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Pa=o}).apply(typeof mR<"u"?mR:typeof self<"u"?self:typeof window<"u"?window:{});var Uf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bL,CL,ju,PL,wp,S0,RL,IL,AL;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,x,b){return d==Array.prototype||d==Object.prototype||(d[x]=b.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uf=="object"&&Uf];for(var x=0;x<d.length;++x){var b=d[x];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function s(d,x){if(x)e:{var b=r;d=d.split(".");for(var N=0;N<d.length-1;N++){var U=d[N];if(!(U in b))break e;b=b[U]}d=d[d.length-1],N=b[d],x=x(N),x!=N&&x!=null&&e(b,d,{configurable:!0,writable:!0,value:x})}}function i(d,x){d instanceof String&&(d+="");var b=0,N=!1,U={next:function(){if(!N&&b<d.length){var K=b++;return{value:x(K,d[K]),done:!1}}return N=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}s("Array.prototype.values",function(d){return d||function(){return i(this,function(x,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(d){var x=typeof d;return x=x!="object"?x:d?Array.isArray(d)?"array":x:"null",x=="array"||x=="object"&&typeof d.length=="number"}function c(d){var x=typeof d;return x=="object"&&d!=null||x=="function"}function u(d,x,b){return d.call.apply(d.bind,arguments)}function h(d,x,b){if(!d)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,N),d.apply(x,U)}}return function(){return d.apply(x,arguments)}}function p(d,x,b){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,p.apply(null,arguments)}function g(d,x){var b=Array.prototype.slice.call(arguments,1);return function(){var N=b.slice();return N.push.apply(N,arguments),d.apply(this,N)}}function w(d,x){function b(){}b.prototype=x.prototype,d.aa=x.prototype,d.prototype=new b,d.prototype.constructor=d,d.Qb=function(N,U,K){for(var ie=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)ie[gt-2]=arguments[gt];return x.prototype[U].apply(N,ie)}}function y(d){const x=d.length;if(0<x){const b=Array(x);for(let N=0;N<x;N++)b[N]=d[N];return b}return[]}function E(d,x){for(let b=1;b<arguments.length;b++){const N=arguments[b];if(l(N)){const U=d.length||0,K=N.length||0;d.length=U+K;for(let ie=0;ie<K;ie++)d[U+ie]=N[ie]}else d.push(N)}}class _{constructor(x,b){this.i=x,this.j=b,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function v(d){return/^[\s\xa0]*$/.test(d)}function S(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function P(d){return P[" "](d),d}P[" "]=function(){};var A=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function O(d,x,b){for(const N in d)x.call(b,d[N],N,d)}function C(d,x){for(const b in d)x.call(void 0,d[b],b,d)}function T(d){const x={};for(const b in d)x[b]=d[b];return x}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(d,x){let b,N;for(let U=1;U<arguments.length;U++){N=arguments[U];for(b in N)d[b]=N[b];for(let K=0;K<R.length;K++)b=R[K],Object.prototype.hasOwnProperty.call(N,b)&&(d[b]=N[b])}}function M(d){var x=1;d=d.split(":");const b=[];for(;0<x&&d.length;)b.push(d.shift()),x--;return d.length&&b.push(d.join(":")),b}function k(d){a.setTimeout(()=>{throw d},0)}function D(){var d=B;let x=null;return d.g&&(x=d.g,d.g=d.g.next,d.g||(d.h=null),x.next=null),x}class H{constructor(){this.h=this.g=null}add(x,b){const N=ae.get();N.set(x,b),this.h?this.h.next=N:this.g=N,this.h=N}}var ae=new _(()=>new te,d=>d.reset());class te{constructor(){this.next=this.g=this.h=null}set(x,b){this.h=x,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,z=!1,B=new H,Z=()=>{const d=a.Promise.resolve(void 0);ne=()=>{d.then(pe)}};var pe=()=>{for(var d;d=D();){try{d.h.call(d.g)}catch(b){k(b)}var x=ae;x.j(d),100>x.h&&(x.h++,d.next=x.g,x.g=d)}z=!1};function Te(){this.s=this.s,this.C=this.C}Te.prototype.s=!1,Te.prototype.ma=function(){this.s||(this.s=!0,this.N())},Te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Re(d,x){this.type=d,this.g=this.target=x,this.defaultPrevented=!1}Re.prototype.h=function(){this.defaultPrevented=!0};var Ye=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,x=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const b=()=>{};a.addEventListener("test",b,x),a.removeEventListener("test",b,x)}catch{}return d}();function mt(d,x){if(Re.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var b=this.type=d.type,N=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=x,x=d.relatedTarget){if(A){e:{try{P(x.nodeName);var U=!0;break e}catch{}U=!1}U||(x=null)}}else b=="mouseover"?x=d.fromElement:b=="mouseout"&&(x=d.toElement);this.relatedTarget=x,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ke[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&mt.aa.h.call(this)}}w(mt,Re);var Ke={2:"touch",3:"pen",4:"mouse"};mt.prototype.h=function(){mt.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),je=0;function rt(d,x,b,N,U){this.listener=d,this.proxy=null,this.src=x,this.type=b,this.capture=!!N,this.ha=U,this.key=++je,this.da=this.fa=!1}function Ve(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function $e(d){this.src=d,this.g={},this.h=0}$e.prototype.add=function(d,x,b,N,U){var K=d.toString();d=this.g[K],d||(d=this.g[K]=[],this.h++);var ie=jt(d,x,N,U);return-1<ie?(x=d[ie],b||(x.fa=!1)):(x=new rt(x,this.src,K,!!N,U),x.fa=b,d.push(x)),x};function Ge(d,x){var b=x.type;if(b in d.g){var N=d.g[b],U=Array.prototype.indexOf.call(N,x,void 0),K;(K=0<=U)&&Array.prototype.splice.call(N,U,1),K&&(Ve(x),d.g[b].length==0&&(delete d.g[b],d.h--))}}function jt(d,x,b,N){for(var U=0;U<d.length;++U){var K=d[U];if(!K.da&&K.listener==x&&K.capture==!!b&&K.ha==N)return U}return-1}var st="closure_lm_"+(1e6*Math.random()|0),pn={};function Cr(d,x,b,N,U){if(Array.isArray(x)){for(var K=0;K<x.length;K++)Cr(d,x[K],b,N,U);return null}return b=Oe(b),d&&d[ce]?d.K(x,b,c(N)?!!N.capture:!!N,U):cs(d,x,b,!1,N,U)}function cs(d,x,b,N,U,K){if(!x)throw Error("Invalid event type");var ie=c(U)?!!U.capture:!!U,gt=J(d);if(gt||(d[st]=gt=new $e(d)),b=gt.add(x,b,N,ie,K),b.proxy)return b;if(N=L(),b.proxy=N,N.src=d,N.listener=b,d.addEventListener)Ye||(U=ie),U===void 0&&(U=!1),d.addEventListener(x.toString(),N,U);else if(d.attachEvent)d.attachEvent(le(x.toString()),N);else if(d.addListener&&d.removeListener)d.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return b}function L(){function d(b){return x.call(d.src,d.listener,b)}const x=re;return d}function $(d,x,b,N,U){if(Array.isArray(x))for(var K=0;K<x.length;K++)$(d,x[K],b,N,U);else N=c(N)?!!N.capture:!!N,b=Oe(b),d&&d[ce]?(d=d.i,x=String(x).toString(),x in d.g&&(K=d.g[x],b=jt(K,b,N,U),-1<b&&(Ve(K[b]),Array.prototype.splice.call(K,b,1),K.length==0&&(delete d.g[x],d.h--)))):d&&(d=J(d))&&(x=d.g[x.toString()],d=-1,x&&(d=jt(x,b,N,U)),(b=-1<d?x[d]:null)&&G(b))}function G(d){if(typeof d!="number"&&d&&!d.da){var x=d.src;if(x&&x[ce])Ge(x.i,d);else{var b=d.type,N=d.proxy;x.removeEventListener?x.removeEventListener(b,N,d.capture):x.detachEvent?x.detachEvent(le(b),N):x.addListener&&x.removeListener&&x.removeListener(N),(b=J(x))?(Ge(b,d),b.h==0&&(b.src=null,x[st]=null)):Ve(d)}}}function le(d){return d in pn?pn[d]:pn[d]="on"+d}function re(d,x){if(d.da)d=!0;else{x=new mt(x,this);var b=d.listener,N=d.ha||d.src;d.fa&&G(d),d=b.call(N,x)}return d}function J(d){return d=d[st],d instanceof $e?d:null}var Ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oe(d){return typeof d=="function"?d:(d[Ee]||(d[Ee]=function(x){return d.handleEvent(x)}),d[Ee])}function Le(){Te.call(this),this.i=new $e(this),this.M=this,this.F=null}w(Le,Te),Le.prototype[ce]=!0,Le.prototype.removeEventListener=function(d,x,b,N){$(this,d,x,b,N)};function Ue(d,x){var b,N=d.F;if(N)for(b=[];N;N=N.F)b.push(N);if(d=d.M,N=x.type||x,typeof x=="string")x=new Re(x,d);else if(x instanceof Re)x.target=x.target||d;else{var U=x;x=new Re(N,d),I(x,U)}if(U=!0,b)for(var K=b.length-1;0<=K;K--){var ie=x.g=b[K];U=Bn(ie,N,!0,x)&&U}if(ie=x.g=d,U=Bn(ie,N,!0,x)&&U,U=Bn(ie,N,!1,x)&&U,b)for(K=0;K<b.length;K++)ie=x.g=b[K],U=Bn(ie,N,!1,x)&&U}Le.prototype.N=function(){if(Le.aa.N.call(this),this.i){var d=this.i,x;for(x in d.g){for(var b=d.g[x],N=0;N<b.length;N++)Ve(b[N]);delete d.g[x],d.h--}}this.F=null},Le.prototype.K=function(d,x,b,N){return this.i.add(String(d),x,!1,b,N)},Le.prototype.L=function(d,x,b,N){return this.i.add(String(d),x,!0,b,N)};function Bn(d,x,b,N){if(x=d.i.g[String(x)],!x)return!0;x=x.concat();for(var U=!0,K=0;K<x.length;++K){var ie=x[K];if(ie&&!ie.da&&ie.capture==b){var gt=ie.listener,mn=ie.ha||ie.src;ie.fa&&Ge(d.i,ie),U=gt.call(mn,N)!==!1&&U}}return U&&!N.defaultPrevented}function Ti(d,x,b){if(typeof d=="function")b&&(d=p(d,b));else if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:a.setTimeout(d,x||0)}function $n(d){d.g=Ti(()=>{d.g=null,d.i&&(d.i=!1,$n(d))},d.l);const x=d.h;d.h=null,d.m.apply(null,x)}class zn extends Te{constructor(x,b){super(),this.m=x,this.l=b,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:$n(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function us(d){Te.call(this),this.h=d,this.g={}}w(us,Te);var ds=[];function el(d){O(d.g,function(x,b){this.g.hasOwnProperty(b)&&G(x)},d),d.g={}}us.prototype.N=function(){us.aa.N.call(this),el(this)},us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wn=a.JSON.stringify,Gh=a.JSON.parse,qh=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function tl(){}tl.prototype.h=null;function Qh(d){return d.h||(d.h=d.i())}function Zc(){}var hs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nl(){Re.call(this,"d")}w(nl,Re);function Ho(){Re.call(this,"c")}w(Ho,Re);var Pr={},rl=null;function sl(){return rl=rl||new Le}Pr.La="serverreachability";function eu(d){Re.call(this,Pr.La,d)}w(eu,Re);function Go(d){const x=sl();Ue(x,new eu(x))}Pr.STAT_EVENT="statevent";function tu(d,x){Re.call(this,Pr.STAT_EVENT,d),this.stat=x}w(tu,Re);function Yt(d){const x=sl();Ue(x,new tu(x,d))}Pr.Ma="timingevent";function qo(d,x){Re.call(this,Pr.Ma,d),this.size=x}w(qo,Re);function Si(d,x){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},x)}function Qo(){this.g=!0}Qo.prototype.xa=function(){this.g=!1};function vy(d,x,b,N,U,K){d.info(function(){if(d.g)if(K)for(var ie="",gt=K.split("&"),mn=0;mn<gt.length;mn++){var at=gt[mn].split("=");if(1<at.length){var Pn=at[0];at=at[1];var Rn=Pn.split("_");ie=2<=Rn.length&&Rn[1]=="type"?ie+(Pn+"="+at+"&"):ie+(Pn+"=redacted&")}}else ie=null;else ie=K;return"XMLHTTP REQ ("+N+") [attempt "+U+"]: "+x+`
`+b+`
`+ie})}function j(d,x,b,N,U,K,ie){d.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+U+"]: "+x+`
`+b+`
`+K+" "+ie})}function F(d,x,b,N){d.info(function(){return"XMLHTTP TEXT ("+x+"): "+q(d,b)+(N?" "+N:"")})}function W(d,x){d.info(function(){return"TIMEOUT: "+x})}Qo.prototype.info=function(){};function q(d,x){if(!d.g)return x;if(!x)return null;try{var b=JSON.parse(x);if(b){for(d=0;d<b.length;d++)if(Array.isArray(b[d])){var N=b[d];if(!(2>N.length)){var U=N[1];if(Array.isArray(U)&&!(1>U.length)){var K=U[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ie=1;ie<U.length;ie++)U[ie]=""}}}}return Wn(b)}catch{return x}}var ue={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_e={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pe;function se(){}w(se,tl),se.prototype.g=function(){return new XMLHttpRequest},se.prototype.i=function(){return{}},Pe=new se;function ve(d,x,b,N){this.j=d,this.i=x,this.l=b,this.R=N||1,this.U=new us(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new me}function me(){this.i=null,this.g="",this.h=!1}var ye={},Xe={};function it(d,x,b){d.L=1,d.v=ef(js(x)),d.m=b,d.P=!0,ft(d,null)}function ft(d,x){d.F=Date.now(),xt(d),d.A=js(d.v);var b=d.A,N=d.R;Array.isArray(N)||(N=[String(N)]),JT(b.i,"t",N),d.C=0,b=d.j.J,d.h=new me,d.g=gS(d.j,b?x:null,!d.m),0<d.O&&(d.M=new zn(p(d.Y,d,d.g),d.O)),x=d.U,b=d.g,N=d.ca;var U="readystatechange";Array.isArray(U)||(U&&(ds[0]=U.toString()),U=ds);for(var K=0;K<U.length;K++){var ie=Cr(b,U[K],N||x.handleEvent,!1,x.h||x);if(!ie)break;x.g[ie.key]=ie}x=d.H?T(d.H):{},d.m?(d.u||(d.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,x)):(d.u="GET",d.g.ea(d.A,d.u,null,x)),Go(),vy(d.i,d.u,d.A,d.l,d.R,d.m)}ve.prototype.ca=function(d){d=d.target;const x=this.M;x&&Vs(d)==3?x.j():this.Y(d)},ve.prototype.Y=function(d){try{if(d==this.g)e:{const Rn=Vs(this.g);var x=this.g.Ba();const al=this.g.Z();if(!(3>Rn)&&(Rn!=3||this.g&&(this.h.h||this.g.oa()||iS(this.g)))){this.J||Rn!=4||x==7||(x==8||0>=al?Go(3):Go(2)),dr(this);var b=this.g.Z();this.X=b;t:if(qe(this)){var N=iS(this.g);d="";var U=N.length,K=Vs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bn(this),Rr(this);var ie="";break t}this.h.i=new a.TextDecoder}for(x=0;x<U;x++)this.h.h=!0,d+=this.h.i.decode(N[x],{stream:!(K&&x==U-1)});N.length=0,this.h.g+=d,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=b==200,j(this.i,this.u,this.A,this.l,this.R,Rn,b),this.o){if(this.T&&!this.K){t:{if(this.g){var gt,mn=this.g;if((gt=mn.g?mn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(gt)){var at=gt;break t}}at=null}if(b=at)F(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ci(this,b);else{this.o=!1,this.s=3,Yt(12),bn(this),Rr(this);break e}}if(this.P){b=!0;let Kr;for(;!this.J&&this.C<ie.length;)if(Kr=Xt(this,ie),Kr==Xe){Rn==4&&(this.s=4,Yt(14),b=!1),F(this.i,this.l,null,"[Incomplete Response]");break}else if(Kr==ye){this.s=4,Yt(15),F(this.i,this.l,ie,"[Invalid Chunk]"),b=!1;break}else F(this.i,this.l,Kr,null),Ci(this,Kr);if(qe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rn!=4||ie.length!=0||this.h.h||(this.s=1,Yt(16),b=!1),this.o=this.o&&b,!b)F(this.i,this.l,ie,"[Invalid Chunked Response]"),bn(this),Rr(this);else if(0<ie.length&&!this.W){this.W=!0;var Pn=this.j;Pn.g==this&&Pn.ba&&!Pn.M&&(Pn.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Ey(Pn),Pn.M=!0,Yt(11))}}else F(this.i,this.l,ie,null),Ci(this,ie);Rn==4&&bn(this),this.o&&!this.J&&(Rn==4?hS(this.j,this):(this.o=!1,xt(this)))}else kU(this.g),b==400&&0<ie.indexOf("Unknown SID")?(this.s=3,Yt(12)):(this.s=0,Yt(13)),bn(this),Rr(this)}}}catch{}finally{}};function qe(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Xt(d,x){var b=d.C,N=x.indexOf(`
`,b);return N==-1?Xe:(b=Number(x.substring(b,N)),isNaN(b)?ye:(N+=1,N+b>x.length?Xe:(x=x.slice(N,N+b),d.C=N+b,x)))}ve.prototype.cancel=function(){this.J=!0,bn(this)};function xt(d){d.S=Date.now()+d.I,bi(d,d.I)}function bi(d,x){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Si(p(d.ba,d),x)}function dr(d){d.B&&(a.clearTimeout(d.B),d.B=null)}ve.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(W(this.i,this.A),this.L!=2&&(Go(),Yt(17)),bn(this),this.s=2,Rr(this)):bi(this,this.S-d)};function Rr(d){d.j.G==0||d.J||hS(d.j,d)}function bn(d){dr(d);var x=d.M;x&&typeof x.ma=="function"&&x.ma(),d.M=null,el(d.U),d.g&&(x=d.g,d.g=null,x.abort(),x.ma())}function Ci(d,x){try{var b=d.j;if(b.G!=0&&(b.g==d||Ne(b.h,d))){if(!d.K&&Ne(b.h,d)&&b.G==3){try{var N=b.Da.g.parse(x)}catch{N=null}if(Array.isArray(N)&&N.length==3){var U=N;if(U[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<d.F)of(b),rf(b);else break e;xy(b),Yt(18)}}else b.za=U[1],0<b.za-b.T&&37500>U[2]&&b.F&&b.v==0&&!b.C&&(b.C=Si(p(b.Za,b),6e3));if(1>=Jo(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else ea(b,11)}else if((d.K||b.g==d)&&of(b),!v(x))for(U=b.Da.g.parse(x),x=0;x<U.length;x++){let at=U[x];if(b.T=at[0],at=at[1],b.G==2)if(at[0]=="c"){b.K=at[1],b.ia=at[2];const Pn=at[3];Pn!=null&&(b.la=Pn,b.j.info("VER="+b.la));const Rn=at[4];Rn!=null&&(b.Aa=Rn,b.j.info("SVER="+b.Aa));const al=at[5];al!=null&&typeof al=="number"&&0<al&&(N=1.5*al,b.L=N,b.j.info("backChannelRequestTimeoutMs_="+N)),N=b;const Kr=d.g;if(Kr){const lf=Kr.g?Kr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lf){var K=N.h;K.g||lf.indexOf("spdy")==-1&&lf.indexOf("quic")==-1&&lf.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(wt(K,K.h),K.h=null))}if(N.D){const Ty=Kr.g?Kr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ty&&(N.ya=Ty,Tt(N.I,N.D,Ty))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-d.F,b.j.info("Handshake RTT: "+b.R+"ms")),N=b;var ie=d;if(N.qa=mS(N,N.J?N.ia:null,N.W),ie.K){Cn(N.h,ie);var gt=ie,mn=N.L;mn&&(gt.I=mn),gt.B&&(dr(gt),xt(gt)),N.g=ie}else uS(N);0<b.i.length&&sf(b)}else at[0]!="stop"&&at[0]!="close"||ea(b,7);else b.G==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?ea(b,7):_y(b):at[0]!="noop"&&b.l&&b.l.ta(at),b.v=0)}}Go(4)}catch{}}var zr=class{constructor(d,x){this.g=d,this.map=x}};function Yo(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xo(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Jo(d){return d.h?1:d.g?d.g.size:0}function Ne(d,x){return d.h?d.h==x:d.g?d.g.has(x):!1}function wt(d,x){d.g?d.g.add(x):d.h=x}function Cn(d,x){d.h&&d.h==x?d.h=null:d.g&&d.g.has(x)&&d.g.delete(x)}Yo.prototype.cancel=function(){if(this.i=Et(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Et(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let x=d.i;for(const b of d.g.values())x=x.concat(b.D);return x}return y(d.i)}function Wr(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var x=[],b=d.length,N=0;N<b;N++)x.push(d[N]);return x}x=[],b=0;for(N in d)x[b++]=d[N];return x}function Yh(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var x=[];d=d.length;for(var b=0;b<d;b++)x.push(b);return x}x=[],b=0;for(const N in d)x[b++]=N;return x}}}function Xh(d,x){if(d.forEach&&typeof d.forEach=="function")d.forEach(x,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,x,void 0);else for(var b=Yh(d),N=Wr(d),U=N.length,K=0;K<U;K++)x.call(void 0,N[K],b&&b[K],d)}var GT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _U(d,x){if(d){d=d.split("&");for(var b=0;b<d.length;b++){var N=d[b].indexOf("="),U=null;if(0<=N){var K=d[b].substring(0,N);U=d[b].substring(N+1)}else K=d[b];x(K,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Zo(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Zo){this.h=d.h,Jh(this,d.j),this.o=d.o,this.g=d.g,Zh(this,d.s),this.l=d.l;var x=d.i,b=new su;b.i=x.i,x.g&&(b.g=new Map(x.g),b.h=x.h),qT(this,b),this.m=d.m}else d&&(x=String(d).match(GT))?(this.h=!1,Jh(this,x[1]||"",!0),this.o=nu(x[2]||""),this.g=nu(x[3]||"",!0),Zh(this,x[4]),this.l=nu(x[5]||"",!0),qT(this,x[6]||"",!0),this.m=nu(x[7]||"")):(this.h=!1,this.i=new su(null,this.h))}Zo.prototype.toString=function(){var d=[],x=this.j;x&&d.push(ru(x,QT,!0),":");var b=this.g;return(b||x=="file")&&(d.push("//"),(x=this.o)&&d.push(ru(x,QT,!0),"@"),d.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&d.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&d.push("/"),d.push(ru(b,b.charAt(0)=="/"?TU:EU,!0))),(b=this.i.toString())&&d.push("?",b),(b=this.m)&&d.push("#",ru(b,bU)),d.join("")};function js(d){return new Zo(d)}function Jh(d,x,b){d.j=b?nu(x,!0):x,d.j&&(d.j=d.j.replace(/:$/,""))}function Zh(d,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);d.s=x}else d.s=null}function qT(d,x,b){x instanceof su?(d.i=x,CU(d.i,d.h)):(b||(x=ru(x,SU)),d.i=new su(x,d.h))}function Tt(d,x,b){d.i.set(x,b)}function ef(d){return Tt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function nu(d,x){return d?x?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ru(d,x,b){return typeof d=="string"?(d=encodeURI(d).replace(x,xU),b&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function xU(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var QT=/[#\/\?@]/g,EU=/[#\?:]/g,TU=/[#\?]/g,SU=/[#\?@]/g,bU=/#/g;function su(d,x){this.h=this.g=null,this.i=d||null,this.j=!!x}function Pi(d){d.g||(d.g=new Map,d.h=0,d.i&&_U(d.i,function(x,b){d.add(decodeURIComponent(x.replace(/\+/g," ")),b)}))}t=su.prototype,t.add=function(d,x){Pi(this),this.i=null,d=il(this,d);var b=this.g.get(d);return b||this.g.set(d,b=[]),b.push(x),this.h+=1,this};function YT(d,x){Pi(d),x=il(d,x),d.g.has(x)&&(d.i=null,d.h-=d.g.get(x).length,d.g.delete(x))}function XT(d,x){return Pi(d),x=il(d,x),d.g.has(x)}t.forEach=function(d,x){Pi(this),this.g.forEach(function(b,N){b.forEach(function(U){d.call(x,U,N,this)},this)},this)},t.na=function(){Pi(this);const d=Array.from(this.g.values()),x=Array.from(this.g.keys()),b=[];for(let N=0;N<x.length;N++){const U=d[N];for(let K=0;K<U.length;K++)b.push(x[N])}return b},t.V=function(d){Pi(this);let x=[];if(typeof d=="string")XT(this,d)&&(x=x.concat(this.g.get(il(this,d))));else{d=Array.from(this.g.values());for(let b=0;b<d.length;b++)x=x.concat(d[b])}return x},t.set=function(d,x){return Pi(this),this.i=null,d=il(this,d),XT(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[x]),this.h+=1,this},t.get=function(d,x){return d?(d=this.V(d),0<d.length?String(d[0]):x):x};function JT(d,x,b){YT(d,x),0<b.length&&(d.i=null,d.g.set(il(d,x),y(b)),d.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],x=Array.from(this.g.keys());for(var b=0;b<x.length;b++){var N=x[b];const K=encodeURIComponent(String(N)),ie=this.V(N);for(N=0;N<ie.length;N++){var U=K;ie[N]!==""&&(U+="="+encodeURIComponent(String(ie[N]))),d.push(U)}}return this.i=d.join("&")};function il(d,x){return x=String(x),d.j&&(x=x.toLowerCase()),x}function CU(d,x){x&&!d.j&&(Pi(d),d.i=null,d.g.forEach(function(b,N){var U=N.toLowerCase();N!=U&&(YT(this,N),JT(this,U,b))},d)),d.j=x}function PU(d,x){const b=new Qo;if(a.Image){const N=new Image;N.onload=g(Ri,b,"TestLoadImage: loaded",!0,x,N),N.onerror=g(Ri,b,"TestLoadImage: error",!1,x,N),N.onabort=g(Ri,b,"TestLoadImage: abort",!1,x,N),N.ontimeout=g(Ri,b,"TestLoadImage: timeout",!1,x,N),a.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=d}else x(!1)}function RU(d,x){const b=new Qo,N=new AbortController,U=setTimeout(()=>{N.abort(),Ri(b,"TestPingServer: timeout",!1,x)},1e4);fetch(d,{signal:N.signal}).then(K=>{clearTimeout(U),K.ok?Ri(b,"TestPingServer: ok",!0,x):Ri(b,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(U),Ri(b,"TestPingServer: error",!1,x)})}function Ri(d,x,b,N,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),N(b)}catch{}}function IU(){this.g=new qh}function AU(d,x,b){const N=b||"";try{Xh(d,function(U,K){let ie=U;c(U)&&(ie=Wn(U)),x.push(N+K+"="+encodeURIComponent(ie))})}catch(U){throw x.push(N+"type="+encodeURIComponent("_badmap")),U}}function iu(d){this.l=d.Ub||null,this.j=d.eb||!1}w(iu,tl),iu.prototype.g=function(){return new tf(this.l,this.j)},iu.prototype.i=function(d){return function(){return d}}({});function tf(d,x){Le.call(this),this.D=d,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(tf,Le),t=tf.prototype,t.open=function(d,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=x,this.readyState=1,au(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(x.body=d),(this.D||a).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ou(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,au(this)),this.g&&(this.readyState=3,au(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ZT(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function ZT(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var x=d.value?d.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!d.done}))&&(this.response=this.responseText+=x)}d.done?ou(this):au(this),this.readyState==3&&ZT(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,ou(this))},t.Qa=function(d){this.g&&(this.response=d,ou(this))},t.ga=function(){this.g&&ou(this)};function ou(d){d.readyState=4,d.l=null,d.j=null,d.v=null,au(d)}t.setRequestHeader=function(d,x){this.u.append(d,x)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],x=this.h.entries();for(var b=x.next();!b.done;)b=b.value,d.push(b[0]+": "+b[1]),b=x.next();return d.join(`\r
`)};function au(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(tf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function eS(d){let x="";return O(d,function(b,N){x+=N,x+=":",x+=b,x+=`\r
`}),x}function wy(d,x,b){e:{for(N in b){var N=!1;break e}N=!0}N||(b=eS(b),typeof d=="string"?b!=null&&encodeURIComponent(String(b)):Tt(d,x,b))}function Vt(d){Le.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Vt,Le);var NU=/^https?$/i,DU=["POST","PUT"];t=Vt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,x,b,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);x=x?x.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pe.g(),this.v=this.o?Qh(this.o):Qh(Pe),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(x,String(d),!0),this.B=!1}catch(K){tS(this,K);return}if(d=b||"",b=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var U in N)b.set(U,N[U]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const K of N.keys())b.set(K,N.get(K));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(b.keys()).find(K=>K.toLowerCase()=="content-type"),U=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(DU,x,void 0))||N||U||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ie]of b)this.g.setRequestHeader(K,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sS(this),this.u=!0,this.g.send(d),this.u=!1}catch(K){tS(this,K)}};function tS(d,x){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=x,d.m=5,nS(d),nf(d)}function nS(d){d.A||(d.A=!0,Ue(d,"complete"),Ue(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Ue(this,"complete"),Ue(this,"abort"),nf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nf(this,!0)),Vt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?rS(this):this.bb())},t.bb=function(){rS(this)};function rS(d){if(d.h&&typeof o<"u"&&(!d.v[1]||Vs(d)!=4||d.Z()!=2)){if(d.u&&Vs(d)==4)Ti(d.Ea,0,d);else if(Ue(d,"readystatechange"),Vs(d)==4){d.h=!1;try{const ie=d.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var b;if(!(b=x)){var N;if(N=ie===0){var U=String(d.D).match(GT)[1]||null;!U&&a.self&&a.self.location&&(U=a.self.location.protocol.slice(0,-1)),N=!NU.test(U?U.toLowerCase():"")}b=N}if(b)Ue(d,"complete"),Ue(d,"success");else{d.m=6;try{var K=2<Vs(d)?d.g.statusText:""}catch{K=""}d.l=K+" ["+d.Z()+"]",nS(d)}}finally{nf(d)}}}}function nf(d,x){if(d.g){sS(d);const b=d.g,N=d.v[0]?()=>{}:null;d.g=null,d.v=null,x||Ue(d,"ready");try{b.onreadystatechange=N}catch{}}}function sS(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Vs(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Vs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var x=this.g.responseText;return d&&x.indexOf(d)==0&&(x=x.substring(d.length)),Gh(x)}};function iS(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function kU(d){const x={};d=(d.g&&2<=Vs(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<d.length;N++){if(v(d[N]))continue;var b=M(d[N]);const U=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const K=x[U]||[];x[U]=K,K.push(b)}C(x,function(N){return N.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function lu(d,x,b){return b&&b.internalChannelParams&&b.internalChannelParams[d]||x}function oS(d){this.Aa=0,this.i=[],this.j=new Qo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=lu("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=lu("baseRetryDelayMs",5e3,d),this.cb=lu("retryDelaySeedMs",1e4,d),this.Wa=lu("forwardChannelMaxRetries",2,d),this.wa=lu("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Yo(d&&d.concurrentRequestLimit),this.Da=new IU,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=oS.prototype,t.la=8,t.G=1,t.connect=function(d,x,b,N){Yt(0),this.W=d,this.H=x||{},b&&N!==void 0&&(this.H.OSID=b,this.H.OAID=N),this.F=this.X,this.I=mS(this,null,this.W),sf(this)};function _y(d){if(aS(d),d.G==3){var x=d.U++,b=js(d.I);if(Tt(b,"SID",d.K),Tt(b,"RID",x),Tt(b,"TYPE","terminate"),cu(d,b),x=new ve(d,d.j,x),x.L=2,x.v=ef(js(b)),b=!1,a.navigator&&a.navigator.sendBeacon)try{b=a.navigator.sendBeacon(x.v.toString(),"")}catch{}!b&&a.Image&&(new Image().src=x.v,b=!0),b||(x.g=gS(x.j,null),x.g.ea(x.v)),x.F=Date.now(),xt(x)}pS(d)}function rf(d){d.g&&(Ey(d),d.g.cancel(),d.g=null)}function aS(d){rf(d),d.u&&(a.clearTimeout(d.u),d.u=null),of(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function sf(d){if(!Xo(d.h)&&!d.s){d.s=!0;var x=d.Ga;ne||Z(),z||(ne(),z=!0),B.add(x,d),d.B=0}}function MU(d,x){return Jo(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=x.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Si(p(d.Ga,d,x),fS(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const U=new ve(this,this.j,d);let K=this.o;if(this.S&&(K?(K=T(K),I(K,this.S)):K=this.S),this.m!==null||this.O||(U.H=K,K=null),this.P)e:{for(var x=0,b=0;b<this.i.length;b++){t:{var N=this.i[b];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(x+=N,4096<x){x=b;break e}if(x===4096||b===this.i.length-1){x=b+1;break e}}x=1e3}else x=1e3;x=cS(this,U,x),b=js(this.I),Tt(b,"RID",d),Tt(b,"CVER",22),this.D&&Tt(b,"X-HTTP-Session-Id",this.D),cu(this,b),K&&(this.O?x="headers="+encodeURIComponent(String(eS(K)))+"&"+x:this.m&&wy(b,this.m,K)),wt(this.h,U),this.Ua&&Tt(b,"TYPE","init"),this.P?(Tt(b,"$req",x),Tt(b,"SID","null"),U.T=!0,it(U,b,null)):it(U,b,x),this.G=2}}else this.G==3&&(d?lS(this,d):this.i.length==0||Xo(this.h)||lS(this))};function lS(d,x){var b;x?b=x.l:b=d.U++;const N=js(d.I);Tt(N,"SID",d.K),Tt(N,"RID",b),Tt(N,"AID",d.T),cu(d,N),d.m&&d.o&&wy(N,d.m,d.o),b=new ve(d,d.j,b,d.B+1),d.m===null&&(b.H=d.o),x&&(d.i=x.D.concat(d.i)),x=cS(d,b,1e3),b.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),wt(d.h,b),it(b,N,x)}function cu(d,x){d.H&&O(d.H,function(b,N){Tt(x,N,b)}),d.l&&Xh({},function(b,N){Tt(x,N,b)})}function cS(d,x,b){b=Math.min(d.i.length,b);var N=d.l?p(d.l.Na,d.l,d):null;e:{var U=d.i;let K=-1;for(;;){const ie=["count="+b];K==-1?0<b?(K=U[0].g,ie.push("ofs="+K)):K=0:ie.push("ofs="+K);let gt=!0;for(let mn=0;mn<b;mn++){let at=U[mn].g;const Pn=U[mn].map;if(at-=K,0>at)K=Math.max(0,U[mn].g-100),gt=!1;else try{AU(Pn,ie,"req"+at+"_")}catch{N&&N(Pn)}}if(gt){N=ie.join("&");break e}}}return d=d.i.splice(0,b),x.D=d,N}function uS(d){if(!d.g&&!d.u){d.Y=1;var x=d.Fa;ne||Z(),z||(ne(),z=!0),B.add(x,d),d.v=0}}function xy(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Si(p(d.Fa,d),fS(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,dS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Si(p(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Yt(10),rf(this),dS(this))};function Ey(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function dS(d){d.g=new ve(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var x=js(d.qa);Tt(x,"RID","rpc"),Tt(x,"SID",d.K),Tt(x,"AID",d.T),Tt(x,"CI",d.F?"0":"1"),!d.F&&d.ja&&Tt(x,"TO",d.ja),Tt(x,"TYPE","xmlhttp"),cu(d,x),d.m&&d.o&&wy(x,d.m,d.o),d.L&&(d.g.I=d.L);var b=d.g;d=d.ia,b.L=1,b.v=ef(js(x)),b.m=null,b.P=!0,ft(b,d)}t.Za=function(){this.C!=null&&(this.C=null,rf(this),xy(this),Yt(19))};function of(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function hS(d,x){var b=null;if(d.g==x){of(d),Ey(d),d.g=null;var N=2}else if(Ne(d.h,x))b=x.D,Cn(d.h,x),N=1;else return;if(d.G!=0){if(x.o)if(N==1){b=x.m?x.m.length:0,x=Date.now()-x.F;var U=d.B;N=sl(),Ue(N,new qo(N,b)),sf(d)}else uS(d);else if(U=x.s,U==3||U==0&&0<x.X||!(N==1&&MU(d,x)||N==2&&xy(d)))switch(b&&0<b.length&&(x=d.h,x.i=x.i.concat(b)),U){case 1:ea(d,5);break;case 4:ea(d,10);break;case 3:ea(d,6);break;default:ea(d,2)}}}function fS(d,x){let b=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(b*=2),b*x}function ea(d,x){if(d.j.info("Error code "+x),x==2){var b=p(d.fb,d),N=d.Xa;const U=!N;N=new Zo(N||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Jh(N,"https"),ef(N),U?PU(N.toString(),b):RU(N.toString(),b)}else Yt(2);d.G=0,d.l&&d.l.sa(x),pS(d),aS(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Yt(2)):(this.j.info("Failed to ping google.com"),Yt(1))};function pS(d){if(d.G=0,d.ka=[],d.l){const x=Et(d.h);(x.length!=0||d.i.length!=0)&&(E(d.ka,x),E(d.ka,d.i),d.h.i.length=0,y(d.i),d.i.length=0),d.l.ra()}}function mS(d,x,b){var N=b instanceof Zo?js(b):new Zo(b);if(N.g!="")x&&(N.g=x+"."+N.g),Zh(N,N.s);else{var U=a.location;N=U.protocol,x=x?x+"."+U.hostname:U.hostname,U=+U.port;var K=new Zo(null);N&&Jh(K,N),x&&(K.g=x),U&&Zh(K,U),b&&(K.l=b),N=K}return b=d.D,x=d.ya,b&&x&&Tt(N,b,x),Tt(N,"VER",d.la),cu(d,N),N}function gS(d,x,b){if(x&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=d.Ca&&!d.pa?new Vt(new iu({eb:b})):new Vt(d.pa),x.Ha(d.J),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yS(){}t=yS.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function af(){}af.prototype.g=function(d,x){return new hr(d,x)};function hr(d,x){Le.call(this),this.g=new oS(x),this.l=d,this.h=x&&x.messageUrlParams||null,d=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(d?d["X-WebChannel-Content-Type"]=x.messageContentType:d={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(d?d["X-WebChannel-Client-Profile"]=x.va:d={"X-WebChannel-Client-Profile":x.va}),this.g.S=d,(d=x&&x.Sb)&&!v(d)&&(this.g.m=d),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!v(x)&&(this.g.D=x,d=this.h,d!==null&&x in d&&(d=this.h,x in d&&delete d[x])),this.j=new ol(this)}w(hr,Le),hr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hr.prototype.close=function(){_y(this.g)},hr.prototype.o=function(d){var x=this.g;if(typeof d=="string"){var b={};b.__data__=d,d=b}else this.u&&(b={},b.__data__=Wn(d),d=b);x.i.push(new zr(x.Ya++,d)),x.G==3&&sf(x)},hr.prototype.N=function(){this.g.l=null,delete this.j,_y(this.g),delete this.g,hr.aa.N.call(this)};function vS(d){nl.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var x=d.__sm__;if(x){e:{for(const b in x){d=b;break e}d=void 0}(this.i=d)&&(d=this.i,x=x!==null&&d in x?x[d]:void 0),this.data=x}else this.data=d}w(vS,nl);function wS(){Ho.call(this),this.status=1}w(wS,Ho);function ol(d){this.g=d}w(ol,yS),ol.prototype.ua=function(){Ue(this.g,"a")},ol.prototype.ta=function(d){Ue(this.g,new vS(d))},ol.prototype.sa=function(d){Ue(this.g,new wS)},ol.prototype.ra=function(){Ue(this.g,"b")},af.prototype.createWebChannel=af.prototype.g,hr.prototype.send=hr.prototype.o,hr.prototype.open=hr.prototype.m,hr.prototype.close=hr.prototype.close,AL=function(){return new af},IL=function(){return sl()},RL=Pr,S0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ue.NO_ERROR=0,ue.TIMEOUT=8,ue.HTTP_ERROR=6,wp=ue,_e.COMPLETE="complete",PL=_e,Zc.EventType=hs,hs.OPEN="a",hs.CLOSE="b",hs.ERROR="c",hs.MESSAGE="d",Le.prototype.listen=Le.prototype.K,ju=Zc,CL=iu,Vt.prototype.listenOnce=Vt.prototype.L,Vt.prototype.getLastError=Vt.prototype.Ka,Vt.prototype.getLastErrorCode=Vt.prototype.Ba,Vt.prototype.getStatus=Vt.prototype.Z,Vt.prototype.getResponseJson=Vt.prototype.Oa,Vt.prototype.getResponseText=Vt.prototype.oa,Vt.prototype.send=Vt.prototype.ea,Vt.prototype.setWithCredentials=Vt.prototype.Ha,bL=Vt}).apply(typeof Uf<"u"?Uf:typeof self<"u"?self:typeof window<"u"?window:{});const gR="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mn.UNAUTHENTICATED=new Mn(null),Mn.GOOGLE_CREDENTIALS=new Mn("google-credentials-uid"),Mn.FIRST_PARTY=new Mn("first-party-uid"),Mn.MOCK_USER=new Mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hc="10.13.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=new ox("@firebase/firestore");function Su(){return Va.logLevel}function ge(t,...e){if(Va.logLevel<=Ze.DEBUG){const n=e.map(LE);Va.debug(`Firestore (${Hc}): ${t}`,...n)}}function yi(t,...e){if(Va.logLevel<=Ze.ERROR){const n=e.map(LE);Va.error(`Firestore (${Hc}): ${t}`,...n)}}function bc(t,...e){if(Va.logLevel<=Ze.WARN){const n=e.map(LE);Va.warn(`Firestore (${Hc}): ${t}`,...n)}}function LE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t="Unexpected state"){const e=`FIRESTORE (${Hc}) INTERNAL ASSERTION FAILED: `+t;throw yi(e),new Error(e)}function vt(t,e){t||Ae()}function Me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Os{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mn.UNAUTHENTICATED))}shutdown(){}}class FJ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class UJ{constructor(e){this.t=e,this.currentUser=Mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new vo;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new vo,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new vo)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(vt(typeof r.accessToken=="string"),new NL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return vt(e===null||typeof e=="string"),new Mn(e)}}class BJ{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Mn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class $J{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new BJ(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zJ{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WJ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,ge("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(vt(typeof n.token=="string"),this.R=n.token,new zJ(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KJ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=KJ(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function lt(t,e){return t<e?-1:t>e?1:0}function Cc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Se(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return cn.fromMillis(Date.now())}static fromDate(e){return cn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new cn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?lt(this.nanoseconds,e.nanoseconds):lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.timestamp=e}static fromTimestamp(e){return new De(e)}static min(){return new De(new cn(0,0))}static max(){return new De(new cn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ae(),r===void 0?r=e.length-n:r>e.length-n&&Ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Wd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class $t extends Wd{construct(e,n,r){return new $t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new $t(n)}static emptyPath(){return new $t([])}}const HJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wn extends Wd{construct(e,n,r){return new wn(e,n,r)}static isValidIdentifier(e){return HJ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wn(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Se(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Se(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Se(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Se(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wn(n)}static emptyPath(){return new wn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be($t.fromString(e))}static fromName(e){return new be($t.fromString(e).popFirst(5))}static empty(){return new be($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new $t(e.slice()))}}function GJ(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=De.fromTimestamp(r===1e9?new cn(n+1,0):new cn(n,r));return new Do(s,be.empty(),e)}function qJ(t){return new Do(t.readTime,t.key,-1)}class Do{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Do(De.min(),be.empty(),-1)}static max(){return new Do(De.max(),be.empty(),-1)}}function QJ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:lt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YJ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XJ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jh(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==YJ)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(s=>s?Q.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new Q((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function JJ(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}jE.oe=-1;function Qg(t){return t==null}function Sm(t){return t===0&&1/t==-1/0}function ZJ(t){return typeof t=="number"&&Number.isInteger(t)&&!Sm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function kL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n){this.comparator=e,this.root=n||vn.EMPTY}insert(e,n){return new Lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new Lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bf(this.root,e,this.comparator,!0)}}class Bf{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??vn.RED,this.left=s??vn.EMPTY,this.right=i??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new vn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return vn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,n,r,s,i){return this}insert(e,n,r){return new vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.comparator=e,this.data=new Lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vR(this.data.getIterator())}getIteratorFrom(e){return new vR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xn(this.comparator);return n.data=e,n}}class vR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.fields=e,e.sort(wn.comparator)}static empty(){return new ts([])}unionWith(e){let n=new xn(wn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ts(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Cc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new ML("Invalid base64 string: "+i):i}}(e);return new Sn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sn.EMPTY_BYTE_STRING=new Sn("");const eZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ko(t){if(vt(!!t),typeof t=="string"){let e=0;const n=eZ.exec(t);if(vt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ht(t.seconds),nanos:Ht(t.nanos)}}function Ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fa(t){return typeof t=="string"?Sn.fromBase64String(t):Sn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function FE(t){const e=t.mapValue.fields.__previous_value__;return VE(e)?FE(e):e}function Kd(t){const e=ko(t.mapValue.fields.__local_write_time__.timestampValue);return new cn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tZ{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Hd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Hd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Hd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ua(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?VE(t)?4:rZ(t)?9007199254740991:nZ(t)?10:11:Ae()}function ks(t,e){if(t===e)return!0;const n=Ua(t);if(n!==Ua(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Kd(t).isEqual(Kd(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ko(s.timestampValue),a=ko(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Fa(s.bytesValue).isEqual(Fa(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ht(s.geoPointValue.latitude)===Ht(i.geoPointValue.latitude)&&Ht(s.geoPointValue.longitude)===Ht(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ht(s.integerValue)===Ht(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ht(s.doubleValue),a=Ht(i.doubleValue);return o===a?Sm(o)===Sm(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Cc(t.arrayValue.values||[],e.arrayValue.values||[],ks);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(yR(o)!==yR(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ks(o[l],a[l])))return!1;return!0}(t,e);default:return Ae()}}function Gd(t,e){return(t.values||[]).find(n=>ks(n,e))!==void 0}function Pc(t,e){if(t===e)return 0;const n=Ua(t),r=Ua(e);if(n!==r)return lt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return lt(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Ht(i.integerValue||i.doubleValue),l=Ht(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return wR(t.timestampValue,e.timestampValue);case 4:return wR(Kd(t),Kd(e));case 5:return lt(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Fa(i),l=Fa(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=lt(a[c],l[c]);if(u!==0)return u}return lt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=lt(Ht(i.latitude),Ht(o.latitude));return a!==0?a:lt(Ht(i.longitude),Ht(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return _R(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,u;const h=i.fields||{},p=o.fields||{},g=(a=h.value)===null||a===void 0?void 0:a.arrayValue,w=(l=p.value)===null||l===void 0?void 0:l.arrayValue,y=lt(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((u=w==null?void 0:w.values)===null||u===void 0?void 0:u.length)||0);return y!==0?y:_R(g,w)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===$f.mapValue&&o===$f.mapValue)return 0;if(i===$f.mapValue)return 1;if(o===$f.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const p=lt(l[h],u[h]);if(p!==0)return p;const g=Pc(a[l[h]],c[u[h]]);if(g!==0)return g}return lt(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Ae()}}function wR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return lt(t,e);const n=ko(t),r=ko(e),s=lt(n.seconds,r.seconds);return s!==0?s:lt(n.nanos,r.nanos)}function _R(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Pc(n[s],r[s]);if(i)return i}return lt(n.length,r.length)}function Rc(t){return b0(t)}function b0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ko(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Fa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return be.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=b0(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${b0(n.fields[o])}`;return s+"}"}(t.mapValue):Ae()}function C0(t){return!!t&&"integerValue"in t}function UE(t){return!!t&&"arrayValue"in t}function xR(t){return!!t&&"nullValue"in t}function ER(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _p(t){return!!t&&"mapValue"in t}function nZ(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function rd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Gc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=rd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function rZ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this.value=e}static empty(){return new Lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_p(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rd(n)}setAll(e){let n=wn.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=rd(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());_p(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ks(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];_p(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Gc(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Lr(rd(this.value))}}function OL(t){const e=[];return Gc(t.fields,(n,r)=>{const s=new wn([n]);if(_p(r)){const i=OL(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new ts(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ln(e,0,De.min(),De.min(),De.min(),Lr.empty(),0)}static newFoundDocument(e,n,r,s){return new Ln(e,1,n,De.min(),r,s,0)}static newNoDocument(e,n){return new Ln(e,2,n,De.min(),De.min(),Lr.empty(),0)}static newUnknownDocument(e,n){return new Ln(e,3,n,De.min(),De.min(),Lr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n){this.position=e,this.inclusive=n}}function TR(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=be.comparator(be.fromName(o.referenceValue),n.key):r=Pc(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function SR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ks(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n="asc"){this.field=e,this.dir=n}}function sZ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{}class an extends LL{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new oZ(e,n,r):n==="array-contains"?new cZ(e,r):n==="in"?new uZ(e,r):n==="not-in"?new dZ(e,r):n==="array-contains-any"?new hZ(e,r):new an(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new aZ(e,r):new lZ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Pc(n,this.value)):n!==null&&Ua(this.value)===Ua(n)&&this.matchesComparison(Pc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ms extends LL{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ms(e,n)}matches(e){return jL(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function jL(t){return t.op==="and"}function VL(t){return iZ(t)&&jL(t)}function iZ(t){for(const e of t.filters)if(e instanceof Ms)return!1;return!0}function P0(t){if(t instanceof an)return t.field.canonicalString()+t.op.toString()+Rc(t.value);if(VL(t))return t.filters.map(e=>P0(e)).join(",");{const e=t.filters.map(n=>P0(n)).join(",");return`${t.op}(${e})`}}function FL(t,e){return t instanceof an?function(r,s){return s instanceof an&&r.op===s.op&&r.field.isEqual(s.field)&&ks(r.value,s.value)}(t,e):t instanceof Ms?function(r,s){return s instanceof Ms&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&FL(o,s.filters[a]),!0):!1}(t,e):void Ae()}function UL(t){return t instanceof an?function(n){return`${n.field.canonicalString()} ${n.op} ${Rc(n.value)}`}(t):t instanceof Ms?function(n){return n.op.toString()+" {"+n.getFilters().map(UL).join(" ,")+"}"}(t):"Filter"}class oZ extends an{constructor(e,n,r){super(e,n,r),this.key=be.fromName(r.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class aZ extends an{constructor(e,n){super(e,"in",n),this.keys=BL("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class lZ extends an{constructor(e,n){super(e,"not-in",n),this.keys=BL("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function BL(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>be.fromName(r.referenceValue))}class cZ extends an{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return UE(n)&&Gd(n.arrayValue,this.value)}}class uZ extends an{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Gd(this.value.arrayValue,n)}}class dZ extends an{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Gd(this.value.arrayValue,n)}}class hZ extends an{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!UE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Gd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fZ{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function bR(t,e=null,n=[],r=[],s=null,i=null,o=null){return new fZ(t,e,n,r,s,i,o)}function BE(t){const e=Me(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>P0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Qg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Rc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Rc(r)).join(",")),e.ue=n}return e.ue}function $E(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!sZ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!FL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!SR(t.startAt,e.startAt)&&SR(t.endAt,e.endAt)}function R0(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function pZ(t,e,n,r,s,i,o,a){return new Yg(t,e,n,r,s,i,o,a)}function Xg(t){return new Yg(t)}function CR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function mZ(t){return t.collectionGroup!==null}function sd(t){const e=Me(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new xn(wn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Cm(i,r))}),n.has(wn.keyField().canonicalString())||e.ce.push(new Cm(wn.keyField(),r))}return e.ce}function As(t){const e=Me(t);return e.le||(e.le=gZ(e,sd(t))),e.le}function gZ(t,e){if(t.limitType==="F")return bR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Cm(s.field,i)});const n=t.endAt?new bm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new bm(t.startAt.position,t.startAt.inclusive):null;return bR(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function I0(t,e,n){return new Yg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jg(t,e){return $E(As(t),As(e))&&t.limitType===e.limitType}function $L(t){return`${BE(As(t))}|lt:${t.limitType}`}function pl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>UL(s)).join(", ")}]`),Qg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Rc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Rc(s)).join(",")),`Target(${r})`}(As(t))}; limitType=${t.limitType})`}function Zg(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):be.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of sd(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=TR(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,sd(r),s)||r.endAt&&!function(o,a,l){const c=TR(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,sd(r),s))}(t,e)}function yZ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zL(t){return(e,n)=>{let r=!1;for(const s of sd(t)){const i=vZ(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function vZ(t,e,n){const r=t.field.isKeyField()?be.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Pc(l,c):Ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Gc(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return kL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wZ=new Lt(be.comparator);function vi(){return wZ}const WL=new Lt(be.comparator);function Vu(...t){let e=WL;for(const n of t)e=e.insert(n.key,n);return e}function KL(t){let e=WL;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function pa(){return id()}function HL(){return id()}function id(){return new qc(t=>t.toString(),(t,e)=>t.isEqual(e))}const _Z=new Lt(be.comparator),xZ=new xn(be.comparator);function Qe(...t){let e=xZ;for(const n of t)e=e.add(n);return e}const EZ=new xn(lt);function TZ(){return EZ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sm(e)?"-0":e}}function GL(t){return{integerValue:""+t}}function SZ(t,e){return ZJ(e)?GL(e):zE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(){this._=void 0}}function bZ(t,e,n){return t instanceof Pm?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&VE(i)&&(i=FE(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof qd?QL(t,e):t instanceof Qd?YL(t,e):function(s,i){const o=qL(s,i),a=PR(o)+PR(s.Pe);return C0(o)&&C0(s.Pe)?GL(a):zE(s.serializer,a)}(t,e)}function CZ(t,e,n){return t instanceof qd?QL(t,e):t instanceof Qd?YL(t,e):n}function qL(t,e){return t instanceof Rm?function(r){return C0(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Pm extends ey{}class qd extends ey{constructor(e){super(),this.elements=e}}function QL(t,e){const n=XL(e);for(const r of t.elements)n.some(s=>ks(s,r))||n.push(r);return{arrayValue:{values:n}}}class Qd extends ey{constructor(e){super(),this.elements=e}}function YL(t,e){let n=XL(e);for(const r of t.elements)n=n.filter(s=>!ks(s,r));return{arrayValue:{values:n}}}class Rm extends ey{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function PR(t){return Ht(t.integerValue||t.doubleValue)}function XL(t){return UE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function PZ(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof qd&&s instanceof qd||r instanceof Qd&&s instanceof Qd?Cc(r.elements,s.elements,ks):r instanceof Rm&&s instanceof Rm?ks(r.Pe,s.Pe):r instanceof Pm&&s instanceof Pm}(t.transform,e.transform)}class RZ{constructor(e,n){this.version=e,this.transformResults=n}}class oi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new oi}static exists(e){return new oi(void 0,e)}static updateTime(e){return new oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let ty=class{};function JL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ej(t.key,oi.none()):new Fh(t.key,t.data,oi.none());{const n=t.data,r=Lr.empty();let s=new xn(wn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Xa(t.key,r,new ts(s.toArray()),oi.none())}}function IZ(t,e,n){t instanceof Fh?function(s,i,o){const a=s.value.clone(),l=IR(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Xa?function(s,i,o){if(!xp(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=IR(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(ZL(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function od(t,e,n,r){return t instanceof Fh?function(i,o,a,l){if(!xp(i.precondition,o))return a;const c=i.value.clone(),u=AR(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xa?function(i,o,a,l){if(!xp(i.precondition,o))return a;const c=AR(i.fieldTransforms,l,o),u=o.data;return u.setAll(ZL(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return xp(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function AZ(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=qL(r.transform,s||null);i!=null&&(n===null&&(n=Lr.empty()),n.set(r.field,i))}return n||null}function RR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Cc(r,s,(i,o)=>PZ(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fh extends ty{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Xa extends ty{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ZL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function IR(t,e,n){const r=new Map;vt(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,CZ(o,a,n[s]))}return r}function AR(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,bZ(i,o,e))}return r}class ej extends ty{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NZ extends ty{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DZ{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&IZ(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=od(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=od(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=HL();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=JL(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(De.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qe())}isEqual(e){return this.batchId===e.batchId&&Cc(this.mutations,e.mutations,(n,r)=>RR(n,r))&&Cc(this.baseMutations,e.baseMutations,(n,r)=>RR(n,r))}}class WE{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){vt(e.mutations.length===r.length);let s=function(){return _Z}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new WE(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kZ=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MZ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt,et;function OZ(t){switch(t){default:return Ae();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function tj(t){if(t===void 0)return yi("GRPC error has no .code"),Y.UNKNOWN;switch(t){case Jt.OK:return Y.OK;case Jt.CANCELLED:return Y.CANCELLED;case Jt.UNKNOWN:return Y.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return Y.INTERNAL;case Jt.UNAVAILABLE:return Y.UNAVAILABLE;case Jt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Jt.NOT_FOUND:return Y.NOT_FOUND;case Jt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Jt.ABORTED:return Y.ABORTED;case Jt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Jt.DATA_LOSS:return Y.DATA_LOSS;default:return Ae()}}(et=Jt||(Jt={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LZ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jZ=new Pa([4294967295,4294967295],0);function NR(t){const e=LZ().encode(t),n=new SL;return n.update(e),new Uint8Array(n.digest())}function DR(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Pa([n,r],0),new Pa([s,i],0)]}class KE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fu(`Invalid padding: ${n}`);if(r<0)throw new Fu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Fu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Pa.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Pa.fromNumber(r)));return s.compare(jZ)===1&&(s=new Pa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=NR(e),[r,s]=DR(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new KE(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=NR(e),[r,s]=DR(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Uh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ny(De.min(),s,new Lt(lt),vi(),Qe())}}class Uh{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Uh(r,n,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class nj{constructor(e,n){this.targetId=e,this.me=n}}class rj{constructor(e,n,r=Sn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class kR{constructor(){this.fe=0,this.ge=OR(),this.pe=Sn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Qe(),n=Qe(),r=Qe();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ae()}}),new Uh(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=OR()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,vt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class VZ{constructor(e){this.Le=e,this.Be=new Map,this.ke=vi(),this.qe=MR(),this.Qe=new Lt(lt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(R0(i))if(r===0){const o=new be(i.path);this.Ue(n,o,Ln.newNoDocument(o,De.min()))}else vt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Fa(r).toUint8Array()}catch(l){if(l instanceof ML)return bc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new KE(o,s,i)}catch(l){return bc(l instanceof Fu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&R0(a.target)){const l=new be(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Ln.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=Qe();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new ny(e,n,this.Qe,this.ke,r);return this.ke=vi(),this.qe=MR(),this.Qe=new Lt(lt),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new kR,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new xn(lt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new kR),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function MR(){return new Lt(be.comparator)}function OR(){return new Lt(be.comparator)}const FZ={asc:"ASCENDING",desc:"DESCENDING"},UZ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BZ={and:"AND",or:"OR"};class $Z{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function A0(t,e){return t.useProto3Json||Qg(e)?e:{value:e}}function Im(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zZ(t,e){return Im(t,e.toTimestamp())}function Ns(t){return vt(!!t),De.fromTimestamp(function(n){const r=ko(n);return new cn(r.seconds,r.nanos)}(t))}function HE(t,e){return N0(t,e).canonicalString()}function N0(t,e){const n=function(s){return new $t(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ij(t){const e=$t.fromString(t);return vt(uj(e)),e}function D0(t,e){return HE(t.databaseId,e.path)}function Mv(t,e){const n=ij(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(aj(n))}function oj(t,e){return HE(t.databaseId,e)}function WZ(t){const e=ij(t);return e.length===4?$t.emptyPath():aj(e)}function k0(t){return new $t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function aj(t){return vt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function LR(t,e,n){return{name:D0(t,e),fields:n.value.mapValue.fields}}function KZ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(vt(u===void 0||typeof u=="string"),Sn.fromBase64String(u||"")):(vt(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Sn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?Y.UNKNOWN:tj(c.code);return new Se(u,c.message||"")}(o);n=new rj(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Mv(t,r.document.name),i=Ns(r.document.updateTime),o=r.document.createTime?Ns(r.document.createTime):De.min(),a=new Lr({mapValue:{fields:r.document.fields}}),l=Ln.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Ep(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Mv(t,r.document),i=r.readTime?Ns(r.readTime):De.min(),o=Ln.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Ep([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Mv(t,r.document),i=r.removedTargetIds||[];n=new Ep([],i,s,null)}else{if(!("filter"in e))return Ae();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new MZ(s,i),a=r.targetId;n=new nj(a,o)}}return n}function HZ(t,e){let n;if(e instanceof Fh)n={update:LR(t,e.key,e.value)};else if(e instanceof ej)n={delete:D0(t,e.key)};else if(e instanceof Xa)n={update:LR(t,e.key,e.data),updateMask:tee(e.fieldMask)};else{if(!(e instanceof NZ))return Ae();n={verify:D0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Pm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof qd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Qd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Rm)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Ae()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:zZ(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ae()}(t,e.precondition)),n}function GZ(t,e){return t&&t.length>0?(vt(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Ns(s.updateTime):Ns(i);return o.isEqual(De.min())&&(o=Ns(i)),new RZ(o,s.transformResults||[])}(n,e))):[]}function qZ(t,e){return{documents:[oj(t,e.path)]}}function QZ(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=oj(t,s);const i=function(c){if(c.length!==0)return cj(Ms.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(u=>function(p){return{field:ml(p.field),direction:JZ(p.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=A0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function YZ(t){let e=WZ(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){vt(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(h){const p=lj(h);return p instanceof Ms&&VL(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(w){return new Cm(gl(w.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,Qg(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,g=h.values||[];return new bm(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const p=!h.before,g=h.values||[];return new bm(g,p)}(n.endAt)),pZ(e,s,o,i,a,"F",l,c)}function XZ(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=gl(n.unaryFilter.field);return an.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=gl(n.unaryFilter.field);return an.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=gl(n.unaryFilter.field);return an.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=gl(n.unaryFilter.field);return an.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(t):t.fieldFilter!==void 0?function(n){return an.create(gl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ms.create(n.compositeFilter.filters.map(r=>lj(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ae()}}(n.compositeFilter.op))}(t):Ae()}function JZ(t){return FZ[t]}function ZZ(t){return UZ[t]}function eee(t){return BZ[t]}function ml(t){return{fieldPath:t.canonicalString()}}function gl(t){return wn.fromServerFormat(t.fieldPath)}function cj(t){return t instanceof an?function(n){if(n.op==="=="){if(ER(n.value))return{unaryFilter:{field:ml(n.field),op:"IS_NAN"}};if(xR(n.value))return{unaryFilter:{field:ml(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ER(n.value))return{unaryFilter:{field:ml(n.field),op:"IS_NOT_NAN"}};if(xR(n.value))return{unaryFilter:{field:ml(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ml(n.field),op:ZZ(n.op),value:n.value}}}(t):t instanceof Ms?function(n){const r=n.getFilters().map(s=>cj(s));return r.length===1?r[0]:{compositeFilter:{op:eee(n.op),filters:r}}}(t):Ae()}function tee(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function uj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,n,r,s,i=De.min(),o=De.min(),a=Sn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new so(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new so(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new so(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new so(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nee{constructor(e){this.ct=e}}function ree(t){const e=YZ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?I0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class see{constructor(){this.un=new iee}addToCollectionParentIndex(e,n){return this.un.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(Do.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(Do.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class iee{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new xn($t.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new xn($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ic(0)}static kn(){return new Ic(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oee{constructor(){this.changes=new qc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aee{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lee{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&od(r.mutation,s,ts.empty(),cn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Qe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Qe()){const s=pa();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Vu();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=pa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Qe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=vi();const o=id(),a=function(){return id()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof Xa)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),od(u.mutation,c,u.mutation.getFieldMask(),cn.now())):o.set(c.key,ts.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new aee(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=id();let s=new Lt((o,a)=>o-a),i=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||ts.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(s.get(a.batchId)||Qe()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=HL();u.forEach(p=>{if(!i.has(p)){const g=JL(n.get(p),r.get(p));g!==null&&h.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return Q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return be.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mZ(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Q.resolve(pa());let a=-1,l=i;return o.next(c=>Q.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?Q.resolve():this.remoteDocumentCache.getEntry(e,u).next(p=>{l=l.insert(u,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Qe())).next(u=>({batchId:a,changes:KL(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next(r=>{let s=Vu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Vu();return this.indexManager.getCollectionParents(e,i).next(a=>Q.forEach(a,l=>{const c=function(h,p){return new Yg(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(u=>{u.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Ln.newInvalidDocument(u)))});let a=Vu();return o.forEach((l,c)=>{const u=i.get(l);u!==void 0&&od(u.mutation,c,ts.empty(),cn.now()),Zg(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cee{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ns(s.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:ree(s.bundledQuery),readTime:Ns(s.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uee{constructor(){this.overlays=new Lt(be.comparator),this.Ir=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=pa();return Q.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const s=pa(),i=n.length+1,o=new be(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Lt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=pa(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=pa(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return Q.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new kZ(n,r));let i=this.Ir.get(n);i===void 0&&(i=Qe(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dee{constructor(){this.sessionToken=Sn.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(){this.Tr=new xn(dn.Er),this.dr=new xn(dn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new dn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new dn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new be(new $t([])),r=new dn(n,e),s=new dn(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new be(new $t([])),r=new dn(n,e),s=new dn(n,e+1);let i=Qe();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new dn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class dn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return be.comparator(e.key,n.key)||lt(e.wr,n.wr)}static Ar(e,n){return lt(e.wr,n.wr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hee{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new xn(dn.Er)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new DZ(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new dn(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return Q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new dn(n,0),s=new dn(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),Q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xn(lt);return n.forEach(s=>{const i=new dn(s,0),o=new dn(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),Q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;be.isDocumentKey(i)||(i=i.child(""));const o=new dn(new be(i),0);let a=new xn(lt);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.wr)),!0)},o),Q.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){vt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Q.forEach(n.mutations,s=>{const i=new dn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new dn(n,0),s=this.br.firstAfterOrEqual(r);return Q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fee{constructor(e){this.Mr=e,this.docs=function(){return new Lt(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():Ln.newInvalidDocument(n))}getEntries(e,n){let r=vi();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ln.newInvalidDocument(s))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=vi();const o=n.path,a=new be(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||QJ(qJ(u),r)<=0||(s.has(u.key)||Zg(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return Q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ae()}Or(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new pee(this)}getSize(e){return Q.resolve(this.size)}}class pee extends oee{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mee{constructor(e){this.persistence=e,this.Nr=new qc(n=>BE(n),$E),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.Lr=0,this.Br=new GE,this.targetCount=0,this.kr=Ic.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ic(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Kn(n),Q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),Q.waitFor(i).next(()=>s)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),Q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gee{constructor(e,n){this.qr={},this.overlays={},this.Qr=new jE(0),this.Kr=!1,this.Kr=!0,this.$r=new dee,this.referenceDelegate=e(this),this.Ur=new mee(this),this.indexManager=new see,this.remoteDocumentCache=function(s){return new fee(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new nee(n),this.Gr=new cee(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uee,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new hee(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ge("MemoryPersistence","Starting transaction:",e);const s=new yee(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return Q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class yee extends XJ{constructor(e){super(),this.currentSequenceNumber=e}}class qE{constructor(e){this.persistence=e,this.Jr=new GE,this.Yr=null}static Zr(e){return new qE(e)}get Xr(){if(this.Yr)return this.Yr;throw Ae()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Xr,r=>{const s=be.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,De.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Q.or([()=>Q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Qe(),s=Qe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new QE(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vee{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wee{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return x$()?8:JJ(Un())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new vee;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Su()<=Ze.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",pl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Q.resolve()):(Su()<=Ze.DEBUG&&ge("QueryEngine","Query:",pl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Su()<=Ze.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",pl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,As(n))):Q.resolve())}Yi(e,n){if(CR(n))return Q.resolve(null);let r=As(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=I0(n,null,"F"),r=As(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Qe(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,I0(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,s){return CR(n)||s.isEqual(De.min())?Q.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?Q.resolve(null):(Su()<=Ze.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),pl(n)),this.rs(e,o,n,GJ(s,-1)).next(a=>a))})}ts(e,n){let r=new xn(zL(e));return n.forEach((s,i)=>{Zg(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Su()<=Ze.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",pl(n)),this.Ji.getDocumentsMatchingQuery(e,n,Do.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ee{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Lt(lt),this._s=new qc(i=>BE(i),$E),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lee(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function xee(t,e,n,r){return new _ee(t,e,n,r)}async function dj(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Qe();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function Eee(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,p=h.keys();let g=Q.resolve();return p.forEach(w=>{g=g.next(()=>u.getEntry(l,w)).next(y=>{const E=c.docVersions.get(w);vt(E!==null),y.version.compareTo(E)<0&&(h.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Qe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function hj(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Tee(t,e){const n=Me(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((u,h)=>{const p=s.get(h);if(!p)return;a.push(n.Ur.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(i,u.addedDocuments,h)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(Sn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,r)),s=s.insert(h,g),function(y,E,_){return y.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,g,u)&&a.push(n.Ur.updateTargetData(i,g))});let l=vi(),c=Qe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(See(i,o,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual(De.min())){const u=n.Ur.getLastRemoteSnapshotVersion(i).next(h=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return Q.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.os=s,i))}function See(t,e,n){let r=Qe(),s=Qe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=vi();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(De.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ge("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function bee(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Cee(t,e){const n=Me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,Q.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new so(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function M0(t,e,n){const r=Me(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Vh(o))throw o;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function jR(t,e,n){const r=Me(t);let s=De.min(),i=Qe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=Me(l),p=h._s.get(u);return p!==void 0?Q.resolve(h.os.get(p)):h.Ur.getTargetData(c,u)}(r,o,As(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:De.min(),n?i:Qe())).next(a=>(Pee(r,yZ(e),a),{documents:a,Ts:i})))}function Pee(t,e,n){let r=t.us.get(e)||De.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class VR{constructor(){this.activeTargetIds=TZ()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ree{constructor(){this.so=new VR,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new VR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iee{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zf=null;function Ov(){return zf===null?zf=function(){return 268435456+Math.round(2147483648*Math.random())}():zf++,"0x"+zf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aee={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nee{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="WebChannelConnection";class Dee extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=Ov(),l=this.xo(n,r.toUriEncodedString());ge("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(n,l,c,s).then(u=>(ge("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw bc("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Hc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=Aee[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Ov();return new Promise((o,a)=>{const l=new bL;l.setWithCredentials(!0),l.listenOnce(PL.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case wp.NO_ERROR:const u=l.getResponseJson();ge(Nn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case wp.TIMEOUT:ge(Nn,`RPC '${e}' ${i} timed out`),a(new Se(Y.DEADLINE_EXCEEDED,"Request time out"));break;case wp.HTTP_ERROR:const h=l.getStatus();if(ge(Nn,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const w=function(E){const _=E.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(_)>=0?_:Y.UNKNOWN}(g.status);a(new Se(w,g.message))}else a(new Se(Y.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Se(Y.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{ge(Nn,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);ge(Nn,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=Ov(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=AL(),a=IL(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new CL({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");ge(Nn,`Creating RPC '${e}' stream ${s}: ${u}`,l);const h=o.createWebChannel(u,l);let p=!1,g=!1;const w=new Nee({Io:E=>{g?ge(Nn,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(p||(ge(Nn,`Opening RPC '${e}' stream ${s} transport.`),h.open(),p=!0),ge(Nn,`RPC '${e}' stream ${s} sending:`,E),h.send(E))},To:()=>h.close()}),y=(E,_,v)=>{E.listen(_,S=>{try{v(S)}catch(P){setTimeout(()=>{throw P},0)}})};return y(h,ju.EventType.OPEN,()=>{g||(ge(Nn,`RPC '${e}' stream ${s} transport opened.`),w.yo())}),y(h,ju.EventType.CLOSE,()=>{g||(g=!0,ge(Nn,`RPC '${e}' stream ${s} transport closed`),w.So())}),y(h,ju.EventType.ERROR,E=>{g||(g=!0,bc(Nn,`RPC '${e}' stream ${s} transport errored:`,E),w.So(new Se(Y.UNAVAILABLE,"The operation could not be completed")))}),y(h,ju.EventType.MESSAGE,E=>{var _;if(!g){const v=E.data[0];vt(!!v);const S=v,P=S.error||((_=S[0])===null||_===void 0?void 0:_.error);if(P){ge(Nn,`RPC '${e}' stream ${s} received error:`,P);const A=P.status;let O=function(R){const I=Jt[R];if(I!==void 0)return tj(I)}(A),C=P.message;O===void 0&&(O=Y.INTERNAL,C="Unknown error status: "+A+" with message "+P.message),g=!0,w.So(new Se(O,C)),h.close()}else ge(Nn,`RPC '${e}' stream ${s} received:`,v),w.bo(v)}}),y(a,RL.STAT_EVENT,E=>{E.stat===S0.PROXY?ge(Nn,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===S0.NOPROXY&&ge(Nn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function Lv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(t){return new $Z(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&ge("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e,n,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new fj(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(yi(n.toString()),yi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new Se(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kee extends pj{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=KZ(this.serializer,e),r=function(i){if(!("targetChange"in i))return De.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?De.min():o.readTime?Ns(o.readTime):De.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=k0(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=R0(l)?{documents:qZ(i,l)}:{query:QZ(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=sj(i,o.resumeToken);const c=A0(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(De.min())>0){a.readTime=Im(i,o.snapshotVersion.toTimestamp());const c=A0(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=XZ(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=k0(this.serializer),n.removeTarget=e,this.a_(n)}}class Mee extends pj{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return vt(!!e.streamToken),this.lastStreamToken=e.streamToken,vt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=GZ(e.writeResults,e.commitTime),r=Ns(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=k0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>HZ(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oee extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new Se(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,N0(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Se(Y.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,N0(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(Y.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Lee{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(yi(n),this.D_=!1):ge("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jee{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ja(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Me(l);c.L_.add(4),await Bh(c),c.q_.set("Unknown"),c.L_.delete(4),await sy(c)}(this))})}),this.q_=new Lee(r,s)}}async function sy(t){if(Ja(t))for(const e of t.B_)await e(!0)}async function Bh(t){for(const e of t.B_)await e(!1)}function mj(t,e){const n=Me(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),ZE(n)?JE(n):Qc(n).r_()&&XE(n,e))}function YE(t,e){const n=Me(t),r=Qc(n);n.N_.delete(e),r.r_()&&gj(n,e),n.N_.size===0&&(r.r_()?r.o_():Ja(n)&&n.q_.set("Unknown"))}function XE(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Qc(t).A_(e)}function gj(t,e){t.Q_.xe(e),Qc(t).R_(e)}function JE(t){t.Q_=new VZ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Qc(t).start(),t.q_.v_()}function ZE(t){return Ja(t)&&!Qc(t).n_()&&t.N_.size>0}function Ja(t){return Me(t).L_.size===0}function yj(t){t.Q_=void 0}async function Vee(t){t.q_.set("Online")}async function Fee(t){t.N_.forEach((e,n)=>{XE(t,e)})}async function Uee(t,e){yj(t),ZE(t)?(t.q_.M_(e),JE(t)):t.q_.set("Unknown")}async function Bee(t,e,n){if(t.q_.set("Online"),e instanceof rj&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Am(t,r)}else if(e instanceof Ep?t.Q_.Ke(e):e instanceof nj?t.Q_.He(e):t.Q_.We(e),!n.isEqual(De.min()))try{const r=await hj(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.N_.get(c);u&&i.N_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.N_.get(l);if(!u)return;i.N_.set(l,u.withResumeToken(Sn.EMPTY_BYTE_STRING,u.snapshotVersion)),gj(i,l);const h=new so(u.target,l,c,u.sequenceNumber);XE(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ge("RemoteStore","Failed to raise snapshot:",r),await Am(t,r)}}async function Am(t,e,n){if(!Vh(e))throw e;t.L_.add(1),await Bh(t),t.q_.set("Offline"),n||(n=()=>hj(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ge("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await sy(t)})}function vj(t,e){return e().catch(n=>Am(t,n,e))}async function iy(t){const e=Me(t),n=Mo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;$ee(e);)try{const s=await bee(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,zee(e,s)}catch(s){await Am(e,s)}wj(e)&&_j(e)}function $ee(t){return Ja(t)&&t.O_.length<10}function zee(t,e){t.O_.push(e);const n=Mo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function wj(t){return Ja(t)&&!Mo(t).n_()&&t.O_.length>0}function _j(t){Mo(t).start()}async function Wee(t){Mo(t).p_()}async function Kee(t){const e=Mo(t);for(const n of t.O_)e.m_(n.mutations)}async function Hee(t,e,n){const r=t.O_.shift(),s=WE.from(r,e,n);await vj(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await iy(t)}async function Gee(t,e){e&&Mo(t).V_&&await async function(r,s){if(function(o){return OZ(o)&&o!==Y.ABORTED}(s.code)){const i=r.O_.shift();Mo(r).s_(),await vj(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await iy(r)}}(t,e),wj(t)&&_j(t)}async function UR(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const r=Ja(n);n.L_.add(3),await Bh(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await sy(n)}async function qee(t,e){const n=Me(t);e?(n.L_.delete(2),await sy(n)):e||(n.L_.add(2),await Bh(n),n.q_.set("Unknown"))}function Qc(t){return t.K_||(t.K_=function(n,r,s){const i=Me(n);return i.w_(),new kee(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:Vee.bind(null,t),Ro:Fee.bind(null,t),mo:Uee.bind(null,t),d_:Bee.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),ZE(t)?JE(t):t.q_.set("Unknown")):(await t.K_.stop(),yj(t))})),t.K_}function Mo(t){return t.U_||(t.U_=function(n,r,s){const i=Me(n);return i.w_(),new Mee(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Wee.bind(null,t),mo:Gee.bind(null,t),f_:Kee.bind(null,t),g_:Hee.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await iy(t)):(await t.U_.stop(),t.O_.length>0&&(ge("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new vo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new eT(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tT(t,e){if(yi("AsyncQueue",`${e}: ${t}`),Vh(t))return new Se(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e){this.comparator=e?(n,r)=>e(n,r)||be.comparator(n.key,r.key):(n,r)=>be.comparator(n.key,r.key),this.keyedMap=Vu(),this.sortedSet=new Lt(this.comparator)}static emptySet(e){return new ql(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ql)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ql;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(){this.W_=new Lt(be.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ae():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ac{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ac(e,n,ql.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qee{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Yee{constructor(){this.queries=$R(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Me(n),i=s.queries;s.queries=$R(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Se(Y.ABORTED,"Firestore shutting down"))}}function $R(){return new qc(t=>$L(t),Jg)}async function xj(t,e){const n=Me(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new Qee,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=tT(o,`Initialization of query '${pl(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&nT(n)}async function Ej(t,e){const n=Me(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Xee(t,e){const n=Me(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&nT(n)}function Jee(t,e,n){const r=Me(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function nT(t){t.Y_.forEach(e=>{e.next()})}var O0,zR;(zR=O0||(O0={})).ea="default",zR.Cache="cache";class Tj{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ac(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ac.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==O0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e){this.key=e}}class bj{constructor(e){this.key=e}}class Zee{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Qe(),this.mutatedKeys=Qe(),this.Aa=zL(e),this.Ra=new ql(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new BR,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,h)=>{const p=s.get(u),g=Zg(this.query,h)?h:null,w=!!p&&this.mutatedKeys.has(p.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let E=!1;p&&g?p.data.isEqual(g.data)?w!==y&&(r.track({type:3,doc:g}),E=!0):this.ga(p,g)||(r.track({type:2,doc:g}),E=!0,(l&&this.Aa(g,l)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),E=!0):p&&!g&&(r.track({type:1,doc:p}),E=!0,(l||c)&&(a=!0)),E&&(g?(o=o.add(g),i=y?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,h)=>function(g,w){const y=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return y(g)-y(w)}(u.type,h.type)||this.Aa(u.doc,h.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Ac(this.query,e.Ra,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new BR,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Qe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new bj(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Sj(r))}),n}ba(e){this.Ta=e.Ts,this.da=Qe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ac.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class ete{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class tte{constructor(e){this.key=e,this.va=!1}}class nte{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new qc(a=>$L(a),Jg),this.Ma=new Map,this.xa=new Set,this.Oa=new Lt(be.comparator),this.Na=new Map,this.La=new GE,this.Ba={},this.ka=new Map,this.qa=Ic.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function rte(t,e,n=!0){const r=Nj(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await Cj(r,e,n,!0),s}async function ste(t,e){const n=Nj(t);await Cj(n,e,!0,!1)}async function Cj(t,e,n,r){const s=await Cee(t.localStore,As(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await ite(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&mj(t.remoteStore,s),a}async function ite(t,e,n,r,s){t.Ka=(h,p,g)=>async function(y,E,_,v){let S=E.view.ma(_);S.ns&&(S=await jR(y.localStore,E.query,!1).then(({documents:C})=>E.view.ma(C,S)));const P=v&&v.targetChanges.get(E.targetId),A=v&&v.targetMismatches.get(E.targetId)!=null,O=E.view.applyChanges(S,y.isPrimaryClient,P,A);return KR(y,E.targetId,O.wa),O.snapshot}(t,h,p,g);const i=await jR(t.localStore,e,!0),o=new Zee(e,i.Ts),a=o.ma(i.documents),l=Uh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);KR(t,n,c.wa);const u=new ete(e,n,o);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function ote(t,e,n){const r=Me(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!Jg(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await M0(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&YE(r.remoteStore,s.targetId),L0(r,s.targetId)}).catch(jh)):(L0(r,s.targetId),await M0(r.localStore,s.targetId,!0))}async function ate(t,e){const n=Me(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),YE(n.remoteStore,r.targetId))}async function lte(t,e,n){const r=mte(t);try{const s=await function(o,a){const l=Me(o),c=cn.now(),u=a.reduce((g,w)=>g.add(w.key),Qe());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=vi(),y=Qe();return l.cs.getEntries(g,u).next(E=>{w=E,w.forEach((_,v)=>{v.isValidDocument()||(y=y.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,w)).next(E=>{h=E;const _=[];for(const v of a){const S=AZ(v,h.get(v.key).overlayedDocument);S!=null&&_.push(new Xa(v.key,S,OL(S.value.mapValue),oi.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,_,a)}).next(E=>{p=E;const _=E.applyToLocalDocumentSet(h,y);return l.documentOverlayCache.saveOverlays(g,E.batchId,_)})}).then(()=>({batchId:p.batchId,changes:KL(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Lt(lt)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,s.batchId,n),await $h(r,s.changes),await iy(r.remoteStore)}catch(s){const i=tT(s,"Failed to persist write");n.reject(i)}}async function Pj(t,e){const n=Me(t);try{const r=await Tee(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(vt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?vt(o.va):s.removedDocuments.size>0&&(vt(o.va),o.va=!1))}),await $h(n,r,e)}catch(r){await jh(r)}}function WR(t,e,n){const r=Me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Me(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const p of h.j_)p.Z_(a)&&(c=!0)}),c&&nT(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function cte(t,e,n){const r=Me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new Lt(be.comparator);o=o.insert(i,Ln.newNoDocument(i,De.min()));const a=Qe().add(i),l=new ny(De.min(),new Map,new Lt(lt),o,a);await Pj(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),rT(r)}else await M0(r.localStore,e,!1).then(()=>L0(r,e,n)).catch(jh)}async function ute(t,e){const n=Me(t),r=e.batch.batchId;try{const s=await Eee(n.localStore,e);Ij(n,r,null),Rj(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $h(n,s)}catch(s){await jh(s)}}async function dte(t,e,n){const r=Me(t);try{const s=await function(o,a){const l=Me(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(vt(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);Ij(r,e,n),Rj(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await $h(r,s)}catch(s){await jh(s)}}function Rj(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Ij(t,e,n){const r=Me(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function L0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Aj(t,r)})}function Aj(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(YE(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),rT(t))}function KR(t,e,n){for(const r of n)r instanceof Sj?(t.La.addReference(r.key,e),hte(t,r)):r instanceof bj?(ge("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Aj(t,r.key)):Ae()}function hte(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ge("SyncEngine","New document in limbo: "+n),t.xa.add(r),rT(t))}function rT(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new be($t.fromString(e)),r=t.qa.next();t.Na.set(r,new tte(n)),t.Oa=t.Oa.insert(n,r),mj(t.remoteStore,new so(As(Xg(n.path)),r,"TargetPurposeLimboResolution",jE.oe))}}async function $h(t,e,n){const r=Me(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){s.push(c);const h=QE.Wi(l.targetId,c);i.push(h)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,c){const u=Me(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Q.forEach(c,p=>Q.forEach(p.$i,g=>u.persistence.referenceDelegate.addReference(h,p.targetId,g)).next(()=>Q.forEach(p.Ui,g=>u.persistence.referenceDelegate.removeReference(h,p.targetId,g)))))}catch(h){if(!Vh(h))throw h;ge("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const g=u.os.get(p),w=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(w);u.os=u.os.insert(p,y)}}}(r.localStore,i))}async function fte(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const r=await dj(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new Se(Y.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await $h(n,r.hs)}}function pte(t,e){const n=Me(t),r=n.Na.get(e);if(r&&r.va)return Qe().add(r.key);{let s=Qe();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function Nj(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pte.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cte.bind(null,e),e.Ca.d_=Xee.bind(null,e.eventManager),e.Ca.$a=Jee.bind(null,e.eventManager),e}function mte(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ute.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dte.bind(null,e),e}class HR{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=ry(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return xee(this.persistence,new wee,e.initialUser,this.serializer)}createPersistence(e){return new gee(qE.Zr,this.serializer)}createSharedClientState(e){return new Ree}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class gte{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>WR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=fte.bind(null,this.syncEngine),await qee(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Yee}()}createDatastore(e){const n=ry(e.databaseInfo.databaseId),r=function(i){return new Dee(i)}(e.databaseInfo);return function(i,o,a,l){return new Oee(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new jee(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>WR(this.syncEngine,n,0),function(){return FR.D()?new FR:new Iee}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,u){const h=new nte(s,i,o,a,l,c);return u&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Me(s);ge("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Bh(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):yi("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yte{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Mn.UNAUTHENTICATED,this.clientId=DL.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{ge("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(ge("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Se(Y.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=tT(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function jv(t,e){t.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await dj(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function GR(t,e){t.asyncQueue.verifyOperationInProgress();const n=await wte(t);ge("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>UR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>UR(e.remoteStore,s)),t._onlineComponents=e}function vte(t){return t.name==="FirebaseError"?t.code===Y.FAILED_PRECONDITION||t.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function wte(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await jv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!vte(n))throw n;bc("Error using user provided cache. Falling back to memory cache: "+n),await jv(t,new HR)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),await jv(t,new HR);return t._offlineComponents}async function kj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),await GR(t,t._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),await GR(t,new gte))),t._onlineComponents}function _te(t){return kj(t).then(e=>e.syncEngine)}async function j0(t){const e=await kj(t),n=e.eventManager;return n.onListen=rte.bind(null,e.syncEngine),n.onUnlisten=ote.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ste.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ate.bind(null,e.syncEngine),n}function xte(t,e,n={}){const r=new vo;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new Dj({next:p=>{o.enqueueAndForget(()=>Ej(i,h));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new Se(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?c.reject(new Se(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new Tj(Xg(a.path),u,{includeMetadataChanges:!0,_a:!0});return xj(i,h)}(await j0(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ete(t,e,n){if(!n)throw new Se(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Tte(t,e,n,r){if(e===!0&&r===!0)throw new Se(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function QR(t){if(!be.isDocumentKey(t))throw new Se(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function sT(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae()}function wo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sT(t);throw new Se(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Se(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Tte("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Mj((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Se(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Se(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Se(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class iT{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Se(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Se(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YR(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new VJ;switch(r.type){case"firstParty":return new $J(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=qR.get(n);r&&(ge("ComponentProvider","Removing Datastore"),qR.delete(n),r.terminate())}(this),Promise.resolve()}}function Ste(t,e,n,r={}){var s;const i=(t=wo(t,iT))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&bc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Mn.MOCK_USER;else{a=lN(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Se(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Mn(c)}t._authCredentials=new FJ(new NL(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oj=class Lj{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Lj(this.firestore,e,this._query)}};class xr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xr(this.firestore,e,this._key)}}class Yd extends Oj{constructor(e,n,r){super(e,n,Xg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xr(this.firestore,null,new be(e))}withConverter(e){return new Yd(this.firestore,e,this._path)}}function oT(t,e,...n){if(t=Tn(t),arguments.length===1&&(e=DL.newId()),Ete("doc","path",e),t instanceof iT){const r=$t.fromString(e,...n);return QR(r),new xr(t,null,new be(r))}{if(!(t instanceof xr||t instanceof Yd))throw new Se(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($t.fromString(e,...n));return QR(r),new xr(t.firestore,t instanceof Yd?t.converter:null,new be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bte{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new fj(this,"async_queue_retry"),this.Eu=()=>{const n=Lv();n&&ge("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=Lv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=Lv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new vo;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Vh(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw yi("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const s=eT.createAndSchedule(this,e,n,r,i=>this.Vu(i));return this.lu.push(s),s}du(){this.hu&&Ae()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}function XR(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Xd extends iT{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new bte}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||jj(this),this._firestoreClient.terminate()}}function Cte(t,e){const n=typeof t=="object"?t:lx(),r=typeof t=="string"?t:"(default)",s=ig(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=iN("firestore");i&&Ste(s,...i)}return s}function aT(t){return t._firestoreClient||jj(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function jj(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,u){return new tZ(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Mj(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new yte(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nc(Sn.fromBase64String(e))}catch(n){throw new Se(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Nc(Sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return lt(this._lat,e._lat)||lt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pte=/^__.*__$/;class Rte{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fh(e,this.data,n,this.fieldTransforms)}}function Fj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class dT{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.yu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new dT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.vu(e),s}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.yu(),s}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Nm(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(Fj(this.wu)&&Pte.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class Ite{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ry(e)}Nu(e,n,r,s=!1){return new dT({wu:e,methodName:n,Ou:r,path:wn.emptyPath(),Du:!1,xu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ate(t){const e=t._freezeSettings(),n=ry(t._databaseId);return new Ite(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Nte(t,e,n,r,s,i={}){const o=t.Nu(i.merge||i.mergeFields?2:0,e,n,s);zj("Data must be an object, but it was:",o,r);const a=Bj(r,o);let l,c;if(i.merge)l=new ts(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const p=Dte(e,h,n);if(!o.contains(p))throw new Se(Y.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);Mte(u,p)||u.push(p)}l=new ts(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new Rte(new Lr(a),l,c)}function Uj(t,e){if($j(t=Tn(t)))return zj("Unsupported field value:",e,t),Bj(t,e);if(t instanceof Vj)return function(r,s){if(!Fj(s.wu))throw s.Mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Uj(a,s.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Tn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SZ(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=cn.fromDate(r);return{timestampValue:Im(s.serializer,i)}}if(r instanceof cn){const i=new cn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Im(s.serializer,i)}}if(r instanceof cT)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Nc)return{bytesValue:sj(s.serializer,r._byteString)};if(r instanceof xr){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:HE(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof uT)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return zE(a.serializer,l)})}}}}}}(r,s);throw s.Mu(`Unsupported field value: ${sT(r)}`)}(t,e)}function Bj(t,e){const n={};return kL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gc(t,(r,s)=>{const i=Uj(s,e.bu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function $j(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof cn||t instanceof cT||t instanceof Nc||t instanceof xr||t instanceof Vj||t instanceof uT)}function zj(t,e,n){if(!$j(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=sT(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function Dte(t,e,n){if((e=Tn(e))instanceof lT)return e._internalPath;if(typeof e=="string")return Wj(t,e);throw Nm("Field path arguments must be of type string or ",t,!1,void 0,n)}const kte=new RegExp("[~\\*/\\[\\]]");function Wj(t,e,n){if(e.search(kte)>=0)throw Nm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new lT(...e.split("."))._internalPath}catch{throw Nm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Nm(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Se(Y.INVALID_ARGUMENT,a+t+l)}function Mte(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new xr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ote(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Hj("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Ote extends Kj{data(){return super.data()}}function Hj(t,e){return typeof e=="string"?Wj(t,e):e instanceof lT?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lte(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jte{convertValue(e,n="none"){switch(Ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Gc(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Ht(o.doubleValue));return new uT(i)}convertGeoPoint(e){return new cT(Ht(e.latitude),Ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=FE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Kd(e));default:return null}}convertTimestamp(e){const n=ko(e);return new cn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$t.fromString(e);vt(uj(r));const s=new Hd(r.get(1),r.get(3)),i=new be(r.popFirst(5));return s.isEqual(n)||yi(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vte(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gj extends Kj{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Tp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Hj("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Tp extends Gj{data(e={}){return super.data(e)}}class Fte{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Uu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Tp(this._firestore,this._userDataWriter,r.key,r,new Uu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Tp(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Uu(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Tp(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Uu(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Ute(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Ute(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bte(t){t=wo(t,xr);const e=wo(t.firestore,Xd);return xte(aT(e),t._key).then(n=>Qj(e,t,n))}class qj extends jte{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xr(this.firestore,null,n)}}function $te(t,e,n){t=wo(t,xr);const r=wo(t.firestore,Xd),s=Vte(t.converter,e);return Wte(r,[Nte(Ate(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,oi.none())])}function zte(t,...e){var n,r,s;t=Tn(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||XR(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(XR(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let l,c,u;if(t instanceof xr)c=wo(t.firestore,Xd),u=Xg(t._key.path),l={next:h=>{e[o]&&e[o](Qj(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=wo(t,Oj);c=wo(h.firestore,Xd),u=h._query;const p=new qj(c);l={next:g=>{e[o]&&e[o](new Fte(c,p,h,g))},error:e[o+1],complete:e[o+2]},Lte(t._query)}return function(p,g,w,y){const E=new Dj(y),_=new Tj(g,E,w);return p.asyncQueue.enqueueAndForget(async()=>xj(await j0(p),_)),()=>{E.za(),p.asyncQueue.enqueueAndForget(async()=>Ej(await j0(p),_))}}(aT(c),u,a,l)}function Wte(t,e){return function(r,s){const i=new vo;return r.asyncQueue.enqueueAndForget(async()=>lte(await _te(r),s,i)),i.promise}(aT(t),e)}function Qj(t,e,n){const r=n.docs.get(e._key),s=new qj(t);return new Gj(t,s,e._key,r,new Uu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Hc=s})(Ga),Ma(new Eo("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Xd(new UJ(r.getProvider("auth-internal")),new WJ(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Se(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hd(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),bs(gR,"4.7.2",e),bs(gR,"4.7.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj="firebasestorage.googleapis.com",Xj="storageBucket",Kte=2*60*1e3,Hte=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt extends Os{constructor(e,n,r=0){super(Vv(e),`Firebase Storage: ${n} (${Vv(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Vv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var zt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(zt||(zt={}));function Vv(t){return"storage/"+t}function hT(){const t="An unknown error occurred, please check the error payload for server response.";return new Wt(zt.UNKNOWN,t)}function Gte(t){return new Wt(zt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function qte(t){return new Wt(zt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Qte(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Wt(zt.UNAUTHENTICATED,t)}function Yte(){return new Wt(zt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Xte(t){return new Wt(zt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Jte(){return new Wt(zt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Zte(){return new Wt(zt.CANCELED,"User canceled the upload/download.")}function ene(t){return new Wt(zt.INVALID_URL,"Invalid URL '"+t+"'.")}function tne(t){return new Wt(zt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function nne(){return new Wt(zt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Xj+"' property when initializing the app?")}function rne(){return new Wt(zt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function sne(){return new Wt(zt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ine(t){return new Wt(zt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function V0(t){return new Wt(zt.INVALID_ARGUMENT,t)}function Jj(){return new Wt(zt.APP_DELETED,"The Firebase app was deleted.")}function one(t){return new Wt(zt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ad(t,e){return new Wt(zt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function bu(t){throw new Wt(zt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=vr.makeFromUrl(e,n)}catch{return new vr(e,"")}if(r.path==="")return r;throw tne(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(P){P.path_=decodeURIComponent(P.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${u}/b/${s}/o${p}`,"i"),w={bucket:1,path:3},y=n===Yj?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",_=new RegExp(`^https?://${y}/${s}/${E}`,"i"),S=[{regex:a,indices:l,postModify:i},{regex:g,indices:w,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let P=0;P<S.length;P++){const A=S[P],O=A.regex.exec(e);if(O){const C=O[A.indices.bucket];let T=O[A.indices.path];T||(T=""),r=new vr(C,T),A.postModify(r);break}}if(r==null)throw ene(e);return r}}class ane{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lne(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...E){c||(c=!0,e.apply(null,E))}function h(E){s=setTimeout(()=>{s=null,t(g,l())},E)}function p(){i&&clearTimeout(i)}function g(E,..._){if(c){p();return}if(E){p(),u.call(null,E,..._);return}if(l()||o){p(),u.call(null,E,..._);return}r<64&&(r*=2);let S;a===1?(a=2,S=0):S=(r+Math.random())*1e3,h(S)}let w=!1;function y(E){w||(w=!0,p(),!c&&(s!==null?(E||(a=2),clearTimeout(s),h(0)):E||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,y(!0)},n),y}function cne(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function une(t){return t!==void 0}function dne(t){return typeof t=="object"&&!Array.isArray(t)}function fT(t){return typeof t=="string"||t instanceof String}function JR(t){return pT()&&t instanceof Blob}function pT(){return typeof Blob<"u"}function ZR(t,e,n,r){if(r<e)throw V0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw V0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Zj(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Ra;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ra||(Ra={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hne(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fne{constructor(e,n,r,s,i,o,a,l,c,u,h,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,w)=>{this.resolve_=g,this.reject_=w,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Wf(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Ra.NO_ERROR,l=i.getStatus();if(!a||hne(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===Ra.ABORT;r(!1,new Wf(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Wf(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());une(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=hT();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?Jj():Zte();o(l)}else{const l=Jte();o(l)}};this.canceled_?n(!1,new Wf(!1,null,!0)):this.backoffId_=lne(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&cne(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Wf{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function pne(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function mne(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function gne(t,e){e&&(t["X-Firebase-GMPID"]=e)}function yne(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function vne(t,e,n,r,s,i,o=!0){const a=Zj(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return gne(c,e),pne(c,n),mne(c,i),yne(c,r),new fne(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wne(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function _ne(...t){const e=wne();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(pT())return new Blob(t);throw new Wt(zt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function xne(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ene(t){if(typeof atob>"u")throw ine("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Fv{constructor(e,n){this.data=e,this.contentType=n||null}}function Tne(t,e){switch(t){case xs.RAW:return new Fv(e2(e));case xs.BASE64:case xs.BASE64URL:return new Fv(t2(t,e));case xs.DATA_URL:return new Fv(bne(e),Cne(e))}throw hT()}function e2(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Sne(t){let e;try{e=decodeURIComponent(t)}catch{throw ad(xs.DATA_URL,"Malformed data URL.")}return e2(e)}function t2(t,e){switch(t){case xs.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw ad(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case xs.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw ad(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Ene(e)}catch(s){throw s.message.includes("polyfill")?s:ad(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class n2{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ad(xs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Pne(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function bne(t){const e=new n2(t);return e.base64?t2(xs.BASE64,e.rest):Sne(e.rest)}function Cne(t){return new n2(t).contentType}function Pne(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n){let r=0,s="";JR(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(JR(this.data_)){const r=this.data_,s=xne(r,e,n);return s===null?null:new Ki(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ki(r,!0)}}static getBlob(...e){if(pT()){const n=e.map(r=>r instanceof Ki?r.data_:r);return new Ki(_ne.apply(null,n))}else{const n=e.map(o=>fT(o)?Tne(xs.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new Ki(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(t){let e;try{e=JSON.parse(t)}catch{return null}return dne(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rne(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Ine(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function s2(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ane(t,e){return e}class Kn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||Ane}}let Kf=null;function Nne(t){return!fT(t)||t.length<2?t:s2(t)}function i2(){if(Kf)return Kf;const t=[];t.push(new Kn("bucket")),t.push(new Kn("generation")),t.push(new Kn("metageneration")),t.push(new Kn("name","fullPath",!0));function e(i,o){return Nne(o)}const n=new Kn("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new Kn("size");return s.xform=r,t.push(s),t.push(new Kn("timeCreated")),t.push(new Kn("updated")),t.push(new Kn("md5Hash",null,!0)),t.push(new Kn("cacheControl",null,!0)),t.push(new Kn("contentDisposition",null,!0)),t.push(new Kn("contentEncoding",null,!0)),t.push(new Kn("contentLanguage",null,!0)),t.push(new Kn("contentType",null,!0)),t.push(new Kn("metadata","customMetadata",!0)),Kf=t,Kf}function Dne(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new vr(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function kne(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return Dne(r,t),r}function o2(t,e,n){const r=r2(e);return r===null?null:kne(t,r,n)}function Mne(t,e,n,r){const s=r2(e);if(s===null||!fT(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(c=>{const u=t.bucket,h=t.fullPath,p="/b/"+o(u)+"/o/"+o(h),g=zh(p,n,r),w=Zj({alt:"media",token:c});return g+w})[0]}function One(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class oy{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(t){if(!t)throw hT()}function Lne(t,e){function n(r,s){const i=o2(t,s,e);return a2(i!==null),i}return n}function jne(t,e){function n(r,s){const i=o2(t,s,e);return a2(i!==null),Mne(i,s,t.host,t._protocol)}return n}function l2(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=Yte():s=Qte():n.getStatus()===402?s=qte(t.bucket):n.getStatus()===403?s=Xte(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function mT(t){const e=l2(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=Gte(t.path)),i.serverResponse=s.serverResponse,i}return n}function Vne(t,e,n){const r=e.fullServerUrl(),s=zh(r,t.host,t._protocol)+"?alt=media",i="GET",o=t.maxOperationRetryTime,a=new oy(s,i,(l,c)=>c,o);return a.errorHandler=mT(e),a}function Fne(t,e,n){const r=e.fullServerUrl(),s=zh(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new oy(s,i,jne(t,n),o);return a.errorHandler=mT(e),a}function Une(t,e){const n=e.fullServerUrl(),r=zh(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(l,c){}const a=new oy(r,s,o,i);return a.successCodes=[200,204],a.errorHandler=mT(e),a}function Bne(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function $ne(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Bne(null,e)),r}function zne(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let S="";for(let P=0;P<2;P++)S=S+Math.random().toString().slice(2);return S}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=$ne(e,r,s),u=One(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,p=`\r
--`+l+"--",g=Ki.getBlob(h,r,p);if(g===null)throw rne();const w={name:c.fullPath},y=zh(i,t.host,t._protocol),E="POST",_=t.maxUploadRetryTime,v=new oy(y,E,Lne(t,n),_);return v.urlParams=w,v.headers=o,v.body=g.uploadData(),v.errorHandler=l2(e),v}class c2{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ra.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ra.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ra.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw bu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw bu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw bu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw bu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw bu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Wne extends c2{initXhr(){this.xhr_.responseType="text"}}function gT(){return new Wne}class Kne extends c2{initXhr(){this.xhr_.responseType="blob"}}function Hne(){return new Kne}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,n){this._service=e,n instanceof vr?this._location=n:this._location=vr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ba(e,n)}get root(){const e=new vr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return s2(this._location.path)}get storage(){return this._service}get parent(){const e=Rne(this._location.path);if(e===null)return null;const n=new vr(this._location.bucket,e);return new Ba(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw one(e)}}function Gne(t,e){t._throwIfRoot("getBlob");const n=Vne(t.storage,t._location);return t.storage.makeRequestWithTokens(n,Hne).then(r=>r)}function qne(t,e,n){t._throwIfRoot("uploadBytes");const r=zne(t.storage,t._location,i2(),new Ki(e,!0),n);return t.storage.makeRequestWithTokens(r,gT).then(s=>({metadata:s,ref:t}))}function Qne(t){t._throwIfRoot("getDownloadURL");const e=Fne(t.storage,t._location,i2());return t.storage.makeRequestWithTokens(e,gT).then(n=>{if(n===null)throw sne();return n})}function Yne(t){t._throwIfRoot("deleteObject");const e=Une(t.storage,t._location);return t.storage.makeRequestWithTokens(e,gT)}function Xne(t,e){const n=Ine(t._location.path,e),r=new vr(t._location.bucket,n);return new Ba(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jne(t){return/^[A-Za-z]+:\/\//.test(t)}function Zne(t,e){return new Ba(t,e)}function u2(t,e){if(t instanceof yT){const n=t;if(n._bucket==null)throw nne();const r=new Ba(n,n._bucket);return e!=null?u2(r,e):r}else return e!==void 0?Xne(t,e):t}function ere(t,e){if(e&&Jne(e)){if(t instanceof yT)return Zne(t,e);throw V0("To use ref(service, url), the first argument must be a Storage instance.")}else return u2(t,e)}function e1(t,e){const n=e==null?void 0:e[Xj];return n==null?null:vr.makeFromBucketSpec(n,t)}function tre(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:lN(s,t.app.options.projectId))}class yT{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=Yj,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Kte,this._maxUploadRetryTime=Hte,this._requests=new Set,s!=null?this._bucket=vr.makeFromBucketSpec(s,this._host):this._bucket=e1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=vr.makeFromBucketSpec(this._url,e):this._bucket=e1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ZR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ZR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ba(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new ane(Jj());{const o=vne(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const t1="@firebase/storage",n1="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="storage";function nre(t,e,n){return t=Tn(t),qne(t,e,n)}function rre(t){return t=Tn(t),Qne(t)}function sre(t){return t=Tn(t),Yne(t)}function vT(t,e){return t=Tn(t),ere(t,e)}function ire(t=lx(),e){t=Tn(t);const r=ig(t,d2).getImmediate({identifier:e}),s=iN("storage");return s&&ore(r,...s),r}function ore(t,e,n,r={}){tre(t,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function are(t,e){return t=Tn(t),Gne(t)}function lre(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new yT(n,r,s,e,Ga)}function cre(){Ma(new Eo(d2,lre,"PUBLIC").setMultipleInstances(!0)),bs(t1,n1,""),bs(t1,n1,"esm2017")}cre();const ure={apiKey:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",authDomain:"cob-chatbot.firebaseapp.com",projectId:"cob-chatbot",storageBucket:"cob-chatbot.appspot.com",messagingSenderId:"275602489097",appId:"1:275602489097:web:5c490d86e9f69e1314ddd8"},h2=dN(ure),wT=Cte(h2),_T=ire(h2),F0=async(t,e,n)=>{try{const r=vT(_T,`${e}/${n}`),s=await nre(r,t);return await rre(s.ref)}catch(r){r instanceof Error&&rn(r.message)}},dre=async t=>{const e=vT(_T,t),n=await are(e),r=t.split("/").pop()||"unknown_file";return new File([n],r,{type:n.type})},hre=async t=>{try{const e=vT(_T,t);await sre(e),rn("File deleted successfully!")}catch(e){e instanceof Error&&rn(e.message)}},fre=async(t,e,n)=>{try{const r=oT(wT,t,e);await $te(r,n)}catch(r){r instanceof Error&&rn(r.message)}},pre=async(t,e)=>{const n=oT(wT,t,e),r=await Bte(n);return r.exists()?r.data():null},mre=(t,e,n)=>{try{const r=oT(wT,t,e);return zte(r,i=>{i.exists()?n(i.data()):(rn("No such document!"),n(null))})}catch(r){throw r}},f2=t=>{const{file:e}=ut(p=>p.formData),n=ut(p=>p.setFormData),r=ut(p=>p.setFile),[s,i]=m.useState(!1),o=m.useRef(null),a=m.useRef(null);return{file:e,setFile:r,isLinkDialogOpen:s,setIsLinkDialogOpen:i,handleInsertLink:(p,g)=>{const w=a.current;if(w){const y=w.selectionStart,E=w.selectionEnd,_=t.substring(0,y)+`<${g}>{=${p}=}`+t.substring(E);n("answer",_),w.focus(),w.setSelectionRange(y+p.length+4,y+g.length+4)}},handleFileChange:async p=>{p.target.files&&p.target.files[0]&&r(p.target.files[0])},handleRemoveFile:async()=>{e&&(n("fileUrl",null),r(null),o.current&&(o.current.value=""))},fileInputRef:o,answerTextAreaRef:a,getFileData:async p=>{const g=EL(p);if(!g)return;const w=await dre(`knowledge-files/${g}`);r(w)}}},gre=()=>{const t=ut(u=>u.formData),e=ut(u=>u.setFormData),{isLinkDialogOpen:n,setIsLinkDialogOpen:r,handleFileChange:s,handleInsertLink:i,handleRemoveFile:o,fileInputRef:a,answerTextAreaRef:l,getFileData:c}=f2(t.answer);return m.useEffect(()=>{(async()=>{await c(t.fileUrl)})()},[t.fileUrl]),f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-fit",children:f.jsx(kE,{label:"Answer",htmlFor:"answer",tooltip:wJ})}),f.jsx(xL,{answer:t.answer,handleTextChange:e,onFileChange:s,fileRef:a,textAreaRef:l,isLinkDropDownVisible:n,setIsLinkDropDownVisible:r,onInsertLink:i}),t.file&&f.jsx(TL,{file:t.file,removeFile:o})]})},p2=t=>{const{knowledgeBaseName:e,...n}=t;return{knowledgeBaseName:e,knowledgeEntry:n}},yre=async()=>{const{success:t,knowledgeBase:e}=await qx("/api/knowledge/base");if(!t)throw new Error("Failed to fetch knowledge collection");return e},vre=async t=>{const{success:e,knowledgeEntry:n}=await qx(`/api/knowledge/${t}`);if(!e)throw new Error(`Failed to fetch knowledge base ${t} entry`);return n},wre=async t=>{const e=p2(t),{success:n,message:r}=await zc("/api/knowledge",{},e);if(!n)throw new Error(r);return r},_re=async t=>{const e=p2(t),{success:n,message:r}=await zc("/api/knowledge/entry",{},e);if(!n)throw new Error(r)},xre=async(t,e)=>{const n={knowledgeEntryIntent:t,knowledgeEntry:e},{success:r,message:s}=await Qx("/api/knowledge/entry",{},n);if(!r)throw new Error(s)},Ere=async t=>{const{success:e,message:n}=await Yx(`/api/knowledge/${t}`);if(!e)throw new Error(n)},Tre=async t=>{const{success:e,message:n}=await Yx(`/api/knowledge/entry/${t}`);if(!e)throw new Error(n)},qt=Vo(t=>({knowledgeCollection:{},knowledgeBaseNameList:null,selectedKnowledgeBaseEntryList:null,selectedKnowledgeBaseName:"",selectedKnowledgeBaseItem:"",selectedKnowledgeEntry:null,selectedKnowledgeEntryIntentItem:"",updateKnowledgeCollection:e=>{t(()=>({knowledgeCollection:e}))},setKnowledgeBaseNameList:e=>{t(()=>({knowledgeBaseNameList:e}))},setSelectedKnowledgeBaseEntryList:e=>{t(()=>({selectedKnowledgeBaseEntryList:e}))},setSelectedKnowledgeBaseName:e=>{t(()=>({selectedKnowledgeBaseName:e}))},setSelectedKnowledgeBaseItem:e=>{t(()=>({selectedKnowledgeBaseItem:e}))},setSelectedKnowledgeEntry:e=>{t(()=>({selectedKnowledgeEntry:e}))},setSelectedKnowledgeEntryIntentItem:e=>t({selectedKnowledgeEntryIntentItem:e})})),Sre="knowledge-files",r1="image",bre=async t=>{const e=`${Sre}/${t}`;await hre(e)},Cre=(t,e)=>{const n=new Set([...Object.keys(t),...Object.keys(e)]);return Array.from(n).reduce((r,s)=>{if(t[s]instanceof Array&&e[s]instanceof Array){t[s].forEach((a,l)=>{if(a!==e[s][l]){r[s]||(r[s]=[]);const c={index:l,value:e[s][l]};r[s].push(c)}});const i=t[s].length,o=e[s].length;if(i<o){r.newDocuments=[];for(let a=i;a<o;a++)e[s][a]&&r.newDocuments.push(e[s][a])}return r}return t[s]!==e[s]&&(r[s]=e[s]),r},{})},Pre=1,Rre=1e6;let Uv=0;function Ire(){return Uv=(Uv+1)%Number.MAX_SAFE_INTEGER,Uv.toString()}const Bv=new Map,s1=t=>{if(Bv.has(t))return;const e=setTimeout(()=>{Bv.delete(t),ld({type:"REMOVE_TOAST",toastId:t})},Rre);Bv.set(t,e)},Are=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Pre)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?s1(n):t.toasts.forEach(r=>{s1(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Sp=[];let bp={toasts:[]};function ld(t){bp=Are(bp,t),Sp.forEach(e=>{e(bp)})}function Nre({...t}){const e=Ire(),n=s=>ld({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>ld({type:"DISMISS_TOAST",toastId:e});return ld({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function m2(){const[t,e]=m.useState(bp);return m.useEffect(()=>(Sp.push(e),()=>{const n=Sp.indexOf(e);n>-1&&Sp.splice(n,1)}),[t]),{...t,toast:Nre,dismiss:n=>ld({type:"DISMISS_TOAST",toastId:n})}}const Za=()=>{const{toast:t}=m2();return t},Dre="knowledge-files",g2=async t=>await F0(t,Dre,t.name),kre=()=>{const t=Za(),e=qt(u=>u.selectedKnowledgeEntry),n=qt(u=>u.setSelectedKnowledgeEntry),r=ut(u=>u.setFormData),s=ut(u=>u.formData),i=ut(u=>u.setDocuments),o=ut(u=>u.clearFormData),[a,l]=m.useState(!1);return m.useEffect(()=>{if(!e)return;const{intent:u,documents:h,answer:p,fileUrl:g}=e;return r("intent",u),h.forEach((w,y)=>{i(w,y)}),r("answer",p),r("fileUrl",g),()=>{o()}},[]),{handleSubmitForm:async()=>{if(e)try{l(!0);const{knowledgeBaseName:u,file:h,...p}=s,g=Cre(e,p);if("fileUrl"in g&&g.fileUrl===null){const{fileUrl:E}=e,_=EL(E);if(!_)return rn("Unable to extract filename from the file url",!0);bre(_)}let w=null;s.file&&(w=await g2(s.file));const y=w?{...p,fileUrl:w}:{...p};await xre(e.intent,y),n(y),t({title:"Knowledge Entry Updated Successfully",description:sn()})}catch(u){let h=null;u instanceof Error?h=u.message:h="Unexpcted Error while saving knowledge entry",t({title:h,description:sn(),variant:"destructive"})}finally{l(!1)}},selectedKnowledgeEntry:e,isLoading:a}},y2=({heading:t,description:e})=>f.jsx("div",{className:"h-[450px] w-full flex justify-center items-center mt-2 pb-10",children:f.jsxs("section",{className:"flex flex-col justify-center items-center",children:[f.jsx(SD,{className:"w-12 h-12 text-blue-500 mb-4"}),f.jsx("h2",{className:"text-2xl font-semibold mb-2",children:t}),f.jsx("p",{className:"text-gray-600 mb-4",children:e})]})}),Wh=()=>f.jsx(uW,{className:"mr-2 size-5 animate-spin"}),Mre=()=>{const{handleSubmitForm:t,selectedKnowledgeEntry:e,isLoading:n}=kre();return e?f.jsx(eL,{value:"entryDetails",className:"mt-2",children:f.jsx("div",{className:"h-[450px] w-full overflow-y-auto text-sm scrollbar-slim",children:f.jsxs("div",{className:"space-y-3 px-4 pb-4",children:[f.jsx(xJ,{}),f.jsx(EJ,{}),f.jsx(gre,{}),f.jsx(ct,{variant:"default",disabled:n,onClick:async()=>await t(),className:"w-20",children:n?f.jsx(Wh,{}):"Save"})]})})}):f.jsx(y2,{heading:"No Knowledge Entry Selected",description:"Select a knowledge entry to view its contents here."})},v2=({editKnowledge:t,deleteKnowledge:e})=>f.jsxs(ME,{children:[f.jsx(OE,{asChild:!0,children:f.jsx(xD,{className:"text-zinc-400 size-6 hover:text-zinc-500 transition-colors"})}),f.jsx(qg,{align:"end",className:"w-[8rem] text-sm bg-white border border-neutral-300 p-1 rounded-lg shadow-md",children:f.jsxs(la,{className:"flex items-center p-1.5 hover:bg-zinc-100 rounded-sm",onClick:n=>{n.stopPropagation(),e()},children:[f.jsx(PD,{className:"mr-2 h-4 w-4"}),f.jsx("p",{children:"Delete"})]})})]}),wi=Vo(t=>({dialogs:{},openDialog:e=>t(n=>({dialogs:{...n.dialogs,[e]:!0}})),closeDialog:e=>t(n=>({dialogs:{...n.dialogs,[e]:!1}})),toggleDialog:e=>t(n=>({dialogs:{...n.dialogs,[e]:!n.dialogs[e]}})),setDialogState:(e,n)=>t(r=>({dialogs:{...r.dialogs,[e]:n}}))})),Ore=({intent:t,onItemClick:e})=>{const n=qt(o=>o.selectedKnowledgeEntry),r=qt(o=>o.setSelectedKnowledgeEntryIntentItem),s=wi(o=>o.openDialog),i=()=>{r(t),s("showConfirmDeleteKnowledgeEntryDialog")};return f.jsxs("div",{className:`flex justify-between p-2 rounded-md cursor-pointer ${(n==null?void 0:n.intent)===t?"bg-lightGray":"hover:bg-lightGray-darker"}`,onClick:e,children:[t,f.jsx(ct,{className:"bg-transparent hover:bg-transparent size-8 p-0 h-fit ",children:f.jsx(v2,{editKnowledge:()=>console.log("Editing item: ",t),deleteKnowledge:i})})]})},Lre=({knowledgeEntries:t,handleTabChange:e})=>{const n=qt(s=>s.setSelectedKnowledgeEntry),r=s=>{n(s),e("entryDetails")};return f.jsx("div",{className:"space-y-1",children:t==null?void 0:t.map((s,i)=>f.jsx(Ore,{intent:s.intent,onItemClick:()=>r(s)},i))})},U0=["knowledgeBaseList"],Cp=["knowledgeEntry"],Cu=["adminList"];var Yc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Dc=typeof window>"u"||"Deno"in globalThis;function Dr(){}function jre(t,e){return typeof t=="function"?t(e):t}function B0(t){return typeof t=="number"&&t>=0&&t!==1/0}function w2(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ql(t,e){return typeof t=="function"?t(e):t}function Zr(t,e){return typeof t=="function"?t(e):t}function i1(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==xT(o,e.options))return!1}else if(!Jd(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function o1(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if($a(e.options.mutationKey)!==$a(i))return!1}else if(!Jd(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function xT(t,e){return((e==null?void 0:e.queryKeyHashFn)||$a)(t)}function $a(t){return JSON.stringify(t,(e,n)=>$0(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Jd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Jd(t[n],e[n])):!1}function _2(t,e){if(t===e)return t;const n=a1(t)&&a1(e);if(n||$0(t)&&$0(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const u=n?c:i[c];(!n&&r.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=_2(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function Dm(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function a1(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function $0(t){if(!l1(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!l1(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function l1(t){return Object.prototype.toString.call(t)==="[object Object]"}function Vre(t){return new Promise(e=>{setTimeout(e,t)})}function z0(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?_2(t,e):e}function Fre(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Ure(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var x2=Symbol();function E2(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===x2?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var ga,Gi,Xl,N1,Bre=(N1=class extends Yc{constructor(){super();we(this,ga,void 0);we(this,Gi,void 0);we(this,Xl,void 0);he(this,Xl,e=>{if(!Dc&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){V(this,Gi)||this.setEventListener(V(this,Xl))}onUnsubscribe(){var e;this.hasListeners()||((e=V(this,Gi))==null||e.call(this),he(this,Gi,void 0))}setEventListener(e){var n;he(this,Xl,e),(n=V(this,Gi))==null||n.call(this),he(this,Gi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){V(this,ga)!==e&&(he(this,ga,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof V(this,ga)=="boolean"?V(this,ga):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ga=new WeakMap,Gi=new WeakMap,Xl=new WeakMap,N1),ET=new Bre,Jl,qi,Zl,D1,$re=(D1=class extends Yc{constructor(){super();we(this,Jl,!0);we(this,qi,void 0);we(this,Zl,void 0);he(this,Zl,e=>{if(!Dc&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){V(this,qi)||this.setEventListener(V(this,Zl))}onUnsubscribe(){var e;this.hasListeners()||((e=V(this,qi))==null||e.call(this),he(this,qi,void 0))}setEventListener(e){var n;he(this,Zl,e),(n=V(this,qi))==null||n.call(this),he(this,qi,e(this.setOnline.bind(this)))}setOnline(e){V(this,Jl)!==e&&(he(this,Jl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return V(this,Jl)}},Jl=new WeakMap,qi=new WeakMap,Zl=new WeakMap,D1),km=new $re;function zre(t){return Math.min(1e3*2**t,3e4)}function T2(t){return(t??"online")==="online"?km.isOnline():!0}var S2=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function $v(t){return t instanceof S2}function b2(t){let e=!1,n=0,r=!1,s,i,o;const a=new Promise((_,v)=>{i=_,o=v}),l=_=>{var v;r||(w(new S2(_)),(v=t.abort)==null||v.call(t))},c=()=>{e=!0},u=()=>{e=!1},h=()=>ET.isFocused()&&(t.networkMode==="always"||km.isOnline())&&t.canRun(),p=()=>T2(t.networkMode)&&t.canRun(),g=_=>{var v;r||(r=!0,(v=t.onSuccess)==null||v.call(t,_),s==null||s(),i(_))},w=_=>{var v;r||(r=!0,(v=t.onError)==null||v.call(t,_),s==null||s(),o(_))},y=()=>new Promise(_=>{var v;s=S=>{(r||h())&&_(S)},(v=t.onPause)==null||v.call(t)}).then(()=>{var _;s=void 0,r||(_=t.onContinue)==null||_.call(t)}),E=()=>{if(r)return;let _;const v=n===0?t.initialPromise:void 0;try{_=v??t.fn()}catch(S){_=Promise.reject(S)}Promise.resolve(_).then(g).catch(S=>{var T;if(r)return;const P=t.retry??(Dc?0:3),A=t.retryDelay??zre,O=typeof A=="function"?A(n,S):A,C=P===!0||typeof P=="number"&&n<P||typeof P=="function"&&P(n,S);if(e||!C){w(S);return}n++,(T=t.onFail)==null||T.call(t,n,S),Vre(O).then(()=>h()?void 0:y()).then(()=>{e?w(S):E()})})};return{promise:a,cancel:l,continue:()=>(s==null||s(),a),cancelRetry:c,continueRetry:u,canStart:p,start:()=>(p()?E():y().then(E),a)}}function Wre(){let t=[],e=0,n=p=>{p()},r=p=>{p()},s=p=>setTimeout(p,0);const i=p=>{s=p},o=p=>{let g;e++;try{g=p()}finally{e--,e||c()}return g},a=p=>{e?t.push(p):s(()=>{n(p)})},l=p=>(...g)=>{a(()=>{p(...g)})},c=()=>{const p=t;t=[],p.length&&s(()=>{r(()=>{p.forEach(g=>{n(g)})})})};return{batch:o,batchCalls:l,schedule:a,setNotifyFunction:p=>{n=p},setBatchNotifyFunction:p=>{r=p},setScheduler:i}}var on=Wre(),ya,k1,C2=(k1=class{constructor(){we(this,ya,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),B0(this.gcTime)&&he(this,ya,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Dc?1/0:5*60*1e3))}clearGcTimeout(){V(this,ya)&&(clearTimeout(V(this,ya)),he(this,ya,void 0))}},ya=new WeakMap,k1),ec,tc,Nr,Dn,Zd,va,Qr,Bs,M1,Kre=(M1=class extends C2{constructor(e){super();we(this,Qr);we(this,ec,void 0);we(this,tc,void 0);we(this,Nr,void 0);we(this,Dn,void 0);we(this,Zd,void 0);we(this,va,void 0);he(this,va,!1),he(this,Zd,e.defaultOptions),this.setOptions(e.options),this.observers=[],he(this,Nr,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,he(this,ec,Hre(this.options)),this.state=e.state??V(this,ec),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=V(this,Dn))==null?void 0:e.promise}setOptions(e){this.options={...V(this,Zd),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&V(this,Nr).remove(this)}setData(e,n){const r=z0(this.state.data,e,this.options);return Be(this,Qr,Bs).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Be(this,Qr,Bs).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=V(this,Dn))==null?void 0:r.promise;return(s=V(this,Dn))==null||s.cancel(e),n?n.then(Dr).catch(Dr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(V(this,ec))}isActive(){return this.observers.some(e=>Zr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!w2(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=V(this,Dn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=V(this,Dn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),V(this,Nr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(V(this,Dn)&&(V(this,va)?V(this,Dn).cancel({revert:!0}):V(this,Dn).cancelRetry()),this.scheduleGc()),V(this,Nr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Be(this,Qr,Bs).call(this,{type:"invalidate"})}fetch(e,n){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(V(this,Dn))return V(this,Dn).continueRetry(),V(this,Dn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(he(this,va,!0),r.signal)})},i=()=>{const h=E2(this.options,n),p={queryKey:this.queryKey,meta:this.meta};return s(p),he(this,va,!1),this.options.persister?this.options.persister(h,p,this):h(p)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),he(this,tc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&Be(this,Qr,Bs).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const a=h=>{var p,g,w,y;$v(h)&&h.silent||Be(this,Qr,Bs).call(this,{type:"error",error:h}),$v(h)||((g=(p=V(this,Nr).config).onError)==null||g.call(p,h,this),(y=(w=V(this,Nr).config).onSettled)==null||y.call(w,this.state.data,h,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return he(this,Dn,b2({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var p,g,w,y;if(h===void 0){a(new Error(`${this.queryHash} data is undefined`));return}this.setData(h),(g=(p=V(this,Nr).config).onSuccess)==null||g.call(p,h,this),(y=(w=V(this,Nr).config).onSettled)==null||y.call(w,h,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:a,onFail:(h,p)=>{Be(this,Qr,Bs).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{Be(this,Qr,Bs).call(this,{type:"pause"})},onContinue:()=>{Be(this,Qr,Bs).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),V(this,Dn).start()}},ec=new WeakMap,tc=new WeakMap,Nr=new WeakMap,Dn=new WeakMap,Zd=new WeakMap,va=new WeakMap,Qr=new WeakSet,Bs=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...P2(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return $v(s)&&s.revert&&V(this,tc)?{...V(this,tc),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),on.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),V(this,Nr).notify({query:this,type:"updated",action:e})})},M1);function P2(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:T2(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Hre(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ms,O1,Gre=(O1=class extends Yc{constructor(e={}){super();we(this,ms,void 0);this.config=e,he(this,ms,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??xT(s,n);let o=this.get(i);return o||(o=new Kre({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){V(this,ms).has(e.queryHash)||(V(this,ms).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=V(this,ms).get(e.queryHash);n&&(e.destroy(),n===e&&V(this,ms).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){on.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return V(this,ms).get(e)}getAll(){return[...V(this,ms).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>i1(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>i1(e,r)):n}notify(e){on.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){on.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){on.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ms=new WeakMap,O1),gs,Hn,wa,ys,Li,L1,qre=(L1=class extends C2{constructor(e){super();we(this,ys);we(this,gs,void 0);we(this,Hn,void 0);we(this,wa,void 0);this.mutationId=e.mutationId,he(this,Hn,e.mutationCache),he(this,gs,[]),this.state=e.state||R2(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){V(this,gs).includes(e)||(V(this,gs).push(e),this.clearGcTimeout(),V(this,Hn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){he(this,gs,V(this,gs).filter(n=>n!==e)),this.scheduleGc(),V(this,Hn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){V(this,gs).length||(this.state.status==="pending"?this.scheduleGc():V(this,Hn).remove(this))}continue(){var e;return((e=V(this,wa))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,l,c,u,h,p,g,w,y,E,_,v,S,P,A,O,C;he(this,wa,b2({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(T,R)=>{Be(this,ys,Li).call(this,{type:"failed",failureCount:T,error:R})},onPause:()=>{Be(this,ys,Li).call(this,{type:"pause"})},onContinue:()=>{Be(this,ys,Li).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>V(this,Hn).canRun(this)}));const n=this.state.status==="pending",r=!V(this,wa).canStart();try{if(!n){Be(this,ys,Li).call(this,{type:"pending",variables:e,isPaused:r}),await((i=(s=V(this,Hn).config).onMutate)==null?void 0:i.call(s,e,this));const R=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));R!==this.state.context&&Be(this,ys,Li).call(this,{type:"pending",context:R,variables:e,isPaused:r})}const T=await V(this,wa).start();return await((c=(l=V(this,Hn).config).onSuccess)==null?void 0:c.call(l,T,e,this.state.context,this)),await((h=(u=this.options).onSuccess)==null?void 0:h.call(u,T,e,this.state.context)),await((g=(p=V(this,Hn).config).onSettled)==null?void 0:g.call(p,T,null,this.state.variables,this.state.context,this)),await((y=(w=this.options).onSettled)==null?void 0:y.call(w,T,null,e,this.state.context)),Be(this,ys,Li).call(this,{type:"success",data:T}),T}catch(T){try{throw await((_=(E=V(this,Hn).config).onError)==null?void 0:_.call(E,T,e,this.state.context,this)),await((S=(v=this.options).onError)==null?void 0:S.call(v,T,e,this.state.context)),await((A=(P=V(this,Hn).config).onSettled)==null?void 0:A.call(P,void 0,T,this.state.variables,this.state.context,this)),await((C=(O=this.options).onSettled)==null?void 0:C.call(O,void 0,T,e,this.state.context)),T}finally{Be(this,ys,Li).call(this,{type:"error",error:T})}}finally{V(this,Hn).runNext(this)}}},gs=new WeakMap,Hn=new WeakMap,wa=new WeakMap,ys=new WeakSet,Li=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),on.batch(()=>{V(this,gs).forEach(r=>{r.onMutationUpdate(e)}),V(this,Hn).notify({mutation:this,type:"updated",action:e})})},L1);function R2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fr,eh,j1,Qre=(j1=class extends Yc{constructor(e={}){super();we(this,fr,void 0);we(this,eh,void 0);this.config=e,he(this,fr,new Map),he(this,eh,Date.now())}build(e,n,r){const s=new qre({mutationCache:this,mutationId:++cf(this,eh)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Hf(e),r=V(this,fr).get(n)??[];r.push(e),V(this,fr).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Hf(e);if(V(this,fr).has(n)){const s=(r=V(this,fr).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?V(this,fr).delete(n):V(this,fr).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=V(this,fr).get(Hf(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=V(this,fr).get(Hf(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){on.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...V(this,fr).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>o1(n,r))}findAll(e={}){return this.getAll().filter(n=>o1(e,n))}notify(e){on.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return on.batch(()=>Promise.all(e.map(n=>n.continue().catch(Dr))))}},fr=new WeakMap,eh=new WeakMap,j1);function Hf(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function Yre(t){return{onFetch:(e,n)=>{const r=async()=>{var w,y,E,_,v;const s=e.options,i=(E=(y=(w=e.fetchOptions)==null?void 0:w.meta)==null?void 0:y.fetchMore)==null?void 0:E.direction,o=((_=e.state.data)==null?void 0:_.pages)||[],a=((v=e.state.data)==null?void 0:v.pageParams)||[],l={pages:[],pageParams:[]};let c=!1;const u=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?c=!0:e.signal.addEventListener("abort",()=>{c=!0}),e.signal)})},h=E2(e.options,e.fetchOptions),p=async(S,P,A)=>{if(c)return Promise.reject();if(P==null&&S.pages.length)return Promise.resolve(S);const O={queryKey:e.queryKey,pageParam:P,direction:A?"backward":"forward",meta:e.options.meta};u(O);const C=await h(O),{maxPages:T}=e.options,R=A?Ure:Fre;return{pages:R(S.pages,C,T),pageParams:R(S.pageParams,P,T)}};let g;if(i&&o.length){const S=i==="backward",P=S?Xre:c1,A={pages:o,pageParams:a},O=P(s,A);g=await p(A,O,S)}else{g=await p(l,a[0]??s.initialPageParam);const S=t??o.length;for(let P=1;P<S;P++){const A=c1(s,g);if(A==null)break;g=await p(g,A)}}return g};e.options.persister?e.fetchFn=()=>{var s,i;return(i=(s=e.options).persister)==null?void 0:i.call(s,r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=r}}}function c1(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Xre(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ft,Qi,Yi,nc,rc,Xi,sc,ic,V1,Jre=(V1=class{constructor(t={}){we(this,Ft,void 0);we(this,Qi,void 0);we(this,Yi,void 0);we(this,nc,void 0);we(this,rc,void 0);we(this,Xi,void 0);we(this,sc,void 0);we(this,ic,void 0);he(this,Ft,t.queryCache||new Gre),he(this,Qi,t.mutationCache||new Qre),he(this,Yi,t.defaultOptions||{}),he(this,nc,new Map),he(this,rc,new Map),he(this,Xi,0)}mount(){cf(this,Xi)._++,V(this,Xi)===1&&(he(this,sc,ET.subscribe(async t=>{t&&(await this.resumePausedMutations(),V(this,Ft).onFocus())})),he(this,ic,km.subscribe(async t=>{t&&(await this.resumePausedMutations(),V(this,Ft).onOnline())})))}unmount(){var t,e;cf(this,Xi)._--,V(this,Xi)===0&&((t=V(this,sc))==null||t.call(this),he(this,sc,void 0),(e=V(this,ic))==null||e.call(this),he(this,ic,void 0))}isFetching(t){return V(this,Ft).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return V(this,Qi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=V(this,Ft).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=V(this,Ft).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Ql(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return V(this,Ft).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=V(this,Ft).get(r.queryHash),i=s==null?void 0:s.state.data,o=jre(e,i);if(o!==void 0)return V(this,Ft).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return on.batch(()=>V(this,Ft).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=V(this,Ft).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=V(this,Ft);on.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=V(this,Ft),r={type:"active",...t};return on.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=on.batch(()=>V(this,Ft).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Dr).catch(Dr)}invalidateQueries(t={},e={}){return on.batch(()=>{if(V(this,Ft).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=on.batch(()=>V(this,Ft).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Dr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Dr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=V(this,Ft).build(this,e);return n.isStaleByTime(Ql(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Dr).catch(Dr)}fetchInfiniteQuery(t){return t.behavior=Yre(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Dr).catch(Dr)}resumePausedMutations(){return km.isOnline()?V(this,Qi).resumePausedMutations():Promise.resolve()}getQueryCache(){return V(this,Ft)}getMutationCache(){return V(this,Qi)}getDefaultOptions(){return V(this,Yi)}setDefaultOptions(t){he(this,Yi,t)}setQueryDefaults(t,e){V(this,nc).set($a(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...V(this,nc).values()];let n={};return e.forEach(r=>{Jd(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){V(this,rc).set($a(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...V(this,rc).values()];let n={};return e.forEach(r=>{Jd(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...V(this,Yi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=xT(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===x2&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...V(this,Yi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){V(this,Ft).clear(),V(this,Qi).clear()}},Ft=new WeakMap,Qi=new WeakMap,Yi=new WeakMap,nc=new WeakMap,rc=new WeakMap,Xi=new WeakMap,sc=new WeakMap,ic=new WeakMap,V1),nr,Je,th,Gn,_a,oc,vs,nh,ac,lc,xa,Ea,Ji,cc,Ta,Bu,rh,W0,sh,K0,ih,H0,oh,G0,ah,q0,lh,Q0,ch,Y0,Bm,I2,F1,Zre=(F1=class extends Yc{constructor(e,n){super();we(this,Ta);we(this,rh);we(this,sh);we(this,ih);we(this,oh);we(this,ah);we(this,lh);we(this,ch);we(this,Bm);we(this,nr,void 0);we(this,Je,void 0);we(this,th,void 0);we(this,Gn,void 0);we(this,_a,void 0);we(this,oc,void 0);we(this,vs,void 0);we(this,nh,void 0);we(this,ac,void 0);we(this,lc,void 0);we(this,xa,void 0);we(this,Ea,void 0);we(this,Ji,void 0);we(this,cc,new Set);this.options=n,he(this,nr,e),he(this,vs,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(V(this,Je).addObserver(this),u1(V(this,Je),this.options)?Be(this,Ta,Bu).call(this):this.updateResult(),Be(this,oh,G0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return X0(V(this,Je),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return X0(V(this,Je),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Be(this,ah,q0).call(this),Be(this,lh,Q0).call(this),V(this,Je).removeObserver(this)}setOptions(e,n){const r=this.options,s=V(this,Je);if(this.options=V(this,nr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Zr(this.options.enabled,V(this,Je))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Be(this,ch,Y0).call(this),V(this,Je).setOptions(this.options),r._defaulted&&!Dm(this.options,r)&&V(this,nr).getQueryCache().notify({type:"observerOptionsUpdated",query:V(this,Je),observer:this});const i=this.hasListeners();i&&d1(V(this,Je),s,this.options,r)&&Be(this,Ta,Bu).call(this),this.updateResult(n),i&&(V(this,Je)!==s||Zr(this.options.enabled,V(this,Je))!==Zr(r.enabled,V(this,Je))||Ql(this.options.staleTime,V(this,Je))!==Ql(r.staleTime,V(this,Je)))&&Be(this,rh,W0).call(this);const o=Be(this,sh,K0).call(this);i&&(V(this,Je)!==s||Zr(this.options.enabled,V(this,Je))!==Zr(r.enabled,V(this,Je))||o!==V(this,Ji))&&Be(this,ih,H0).call(this,o)}getOptimisticResult(e){const n=V(this,nr).getQueryCache().build(V(this,nr),e),r=this.createResult(n,e);return tse(this,r)&&(he(this,Gn,r),he(this,oc,this.options),he(this,_a,V(this,Je).state)),r}getCurrentResult(){return V(this,Gn)}trackResult(e,n){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),e[s])})}),r}trackProp(e){V(this,cc).add(e)}getCurrentQuery(){return V(this,Je)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=V(this,nr).defaultQueryOptions(e),r=V(this,nr).getQueryCache().build(V(this,nr),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Be(this,Ta,Bu).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),V(this,Gn)))}createResult(e,n){var C;const r=V(this,Je),s=this.options,i=V(this,Gn),o=V(this,_a),a=V(this,oc),c=e!==r?e.state:V(this,th),{state:u}=e;let h={...u},p=!1,g;if(n._optimisticResults){const T=this.hasListeners(),R=!T&&u1(e,n),I=T&&d1(e,r,n,s);(R||I)&&(h={...h,...P2(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:w,errorUpdatedAt:y,status:E}=h;if(n.select&&h.data!==void 0)if(i&&h.data===(o==null?void 0:o.data)&&n.select===V(this,nh))g=V(this,ac);else try{he(this,nh,n.select),g=n.select(h.data),g=z0(i==null?void 0:i.data,g,n),he(this,ac,g),he(this,vs,null)}catch(T){he(this,vs,T)}else g=h.data;if(n.placeholderData!==void 0&&g===void 0&&E==="pending"){let T;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))T=i.data;else if(T=typeof n.placeholderData=="function"?n.placeholderData((C=V(this,lc))==null?void 0:C.state.data,V(this,lc)):n.placeholderData,n.select&&T!==void 0)try{T=n.select(T),he(this,vs,null)}catch(R){he(this,vs,R)}T!==void 0&&(E="success",g=z0(i==null?void 0:i.data,T,n),p=!0)}V(this,vs)&&(w=V(this,vs),g=V(this,ac),y=Date.now(),E="error");const _=h.fetchStatus==="fetching",v=E==="pending",S=E==="error",P=v&&_,A=g!==void 0;return{status:E,fetchStatus:h.fetchStatus,isPending:v,isSuccess:E==="success",isError:S,isInitialLoading:P,isLoading:P,data:g,dataUpdatedAt:h.dataUpdatedAt,error:w,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:_,isRefetching:_&&!v,isLoadingError:S&&!A,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:S&&A,isStale:TT(e,n),refetch:this.refetch}}updateResult(e){const n=V(this,Gn),r=this.createResult(V(this,Je),this.options);if(he(this,_a,V(this,Je).state),he(this,oc,this.options),V(this,_a).data!==void 0&&he(this,lc,V(this,Je)),Dm(r,n))return;he(this,Gn,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!V(this,cc).size)return!0;const l=new Set(a??V(this,cc));return this.options.throwOnError&&l.add("error"),Object.keys(V(this,Gn)).some(c=>{const u=c;return V(this,Gn)[u]!==n[u]&&l.has(u)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),Be(this,Bm,I2).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Be(this,oh,G0).call(this)}},nr=new WeakMap,Je=new WeakMap,th=new WeakMap,Gn=new WeakMap,_a=new WeakMap,oc=new WeakMap,vs=new WeakMap,nh=new WeakMap,ac=new WeakMap,lc=new WeakMap,xa=new WeakMap,Ea=new WeakMap,Ji=new WeakMap,cc=new WeakMap,Ta=new WeakSet,Bu=function(e){Be(this,ch,Y0).call(this);let n=V(this,Je).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Dr)),n},rh=new WeakSet,W0=function(){Be(this,ah,q0).call(this);const e=Ql(this.options.staleTime,V(this,Je));if(Dc||V(this,Gn).isStale||!B0(e))return;const r=w2(V(this,Gn).dataUpdatedAt,e)+1;he(this,xa,setTimeout(()=>{V(this,Gn).isStale||this.updateResult()},r))},sh=new WeakSet,K0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(V(this,Je)):this.options.refetchInterval)??!1},ih=new WeakSet,H0=function(e){Be(this,lh,Q0).call(this),he(this,Ji,e),!(Dc||Zr(this.options.enabled,V(this,Je))===!1||!B0(V(this,Ji))||V(this,Ji)===0)&&he(this,Ea,setInterval(()=>{(this.options.refetchIntervalInBackground||ET.isFocused())&&Be(this,Ta,Bu).call(this)},V(this,Ji)))},oh=new WeakSet,G0=function(){Be(this,rh,W0).call(this),Be(this,ih,H0).call(this,Be(this,sh,K0).call(this))},ah=new WeakSet,q0=function(){V(this,xa)&&(clearTimeout(V(this,xa)),he(this,xa,void 0))},lh=new WeakSet,Q0=function(){V(this,Ea)&&(clearInterval(V(this,Ea)),he(this,Ea,void 0))},ch=new WeakSet,Y0=function(){const e=V(this,nr).getQueryCache().build(V(this,nr),this.options);if(e===V(this,Je))return;const n=V(this,Je);he(this,Je,e),he(this,th,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},Bm=new WeakSet,I2=function(e){on.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(V(this,Gn))}),V(this,nr).getQueryCache().notify({query:V(this,Je),type:"observerResultsUpdated"})})},F1);function ese(t,e){return Zr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function u1(t,e){return ese(t,e)||t.state.data!==void 0&&X0(t,e,e.refetchOnMount)}function X0(t,e,n){if(Zr(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&TT(t,e)}return!1}function d1(t,e,n,r){return(t!==e||Zr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&TT(t,n)}function TT(t,e){return Zr(e.enabled,t)!==!1&&t.isStaleByTime(Ql(e.staleTime,t))}function tse(t,e){return!Dm(t.getCurrentResult(),e)}var Zi,eo,rr,Ws,uc,Pp,uh,J0,U1,nse=(U1=class extends Yc{constructor(n,r){super();we(this,uc);we(this,uh);we(this,Zi,void 0);we(this,eo,void 0);we(this,rr,void 0);we(this,Ws,void 0);he(this,Zi,n),this.setOptions(r),this.bindMethods(),Be(this,uc,Pp).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=V(this,Zi).defaultMutationOptions(n),Dm(this.options,r)||V(this,Zi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:V(this,rr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&$a(r.mutationKey)!==$a(this.options.mutationKey)?this.reset():((s=V(this,rr))==null?void 0:s.state.status)==="pending"&&V(this,rr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=V(this,rr))==null||n.removeObserver(this)}onMutationUpdate(n){Be(this,uc,Pp).call(this),Be(this,uh,J0).call(this,n)}getCurrentResult(){return V(this,eo)}reset(){var n;(n=V(this,rr))==null||n.removeObserver(this),he(this,rr,void 0),Be(this,uc,Pp).call(this),Be(this,uh,J0).call(this)}mutate(n,r){var s;return he(this,Ws,r),(s=V(this,rr))==null||s.removeObserver(this),he(this,rr,V(this,Zi).getMutationCache().build(V(this,Zi),this.options)),V(this,rr).addObserver(this),V(this,rr).execute(n)}},Zi=new WeakMap,eo=new WeakMap,rr=new WeakMap,Ws=new WeakMap,uc=new WeakSet,Pp=function(){var r;const n=((r=V(this,rr))==null?void 0:r.state)??R2();he(this,eo,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},uh=new WeakSet,J0=function(n){on.batch(()=>{var r,s,i,o,a,l,c,u;if(V(this,Ws)&&this.hasListeners()){const h=V(this,eo).variables,p=V(this,eo).context;(n==null?void 0:n.type)==="success"?((s=(r=V(this,Ws)).onSuccess)==null||s.call(r,n.data,h,p),(o=(i=V(this,Ws)).onSettled)==null||o.call(i,n.data,null,h,p)):(n==null?void 0:n.type)==="error"&&((l=(a=V(this,Ws)).onError)==null||l.call(a,n.error,h,p),(u=(c=V(this,Ws)).onSettled)==null||u.call(c,void 0,n.error,h,p))}this.listeners.forEach(h=>{h(V(this,eo))})})},U1),A2=m.createContext(void 0),Xc=t=>{const e=m.useContext(A2);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},rse=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(A2.Provider,{value:t,children:e})),N2=m.createContext(!1),sse=()=>m.useContext(N2);N2.Provider;function ise(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var ose=m.createContext(ise()),ase=()=>m.useContext(ose);function D2(t,e){return typeof t=="function"?t(...e):!!t}function lse(){}var cse=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},use=t=>{m.useEffect(()=>{t.clearReset()},[t])},dse=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&D2(n,[t.error,r]),hse=t=>{t.suspense&&(typeof t.staleTime!="number"&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},fse=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,pse=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function mse(t,e,n){var c,u,h,p;const r=Xc(),s=sse(),i=ase(),o=r.defaultQueryOptions(t);(u=(c=r.getDefaultOptions().queries)==null?void 0:c._experimental_beforeQuery)==null||u.call(c,o),o._optimisticResults=s?"isRestoring":"optimistic",hse(o),cse(o,i),use(i);const[a]=m.useState(()=>new e(r,o)),l=a.getOptimisticResult(o);if(m.useSyncExternalStore(m.useCallback(g=>{const w=s?()=>{}:a.subscribe(on.batchCalls(g));return a.updateResult(),w},[a,s]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),m.useEffect(()=>{a.setOptions(o,{listeners:!1})},[o,a]),fse(o,l))throw pse(o,a,i);if(dse({result:l,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw l.error;return(p=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||p.call(h,o,l),o.notifyOnChangeProps?l:a.trackResult(l)}function ST(t,e){return mse(t,Zre)}function io(t,e){const n=Xc(),[r]=m.useState(()=>new nse(n,t));m.useEffect(()=>{r.setOptions(t)},[r,t]);const s=m.useSyncExternalStore(m.useCallback(o=>r.subscribe(on.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=m.useCallback((o,a)=>{r.mutate(o,a).catch(lse)},[r]);if(s.error&&D2(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const k2=({label:t,onButtonClick:e})=>f.jsxs(ct,{variant:"outline",size:"sm",className:"mb-2 hover:bg-gray-100 h-10",onClick:e,children:[f.jsx(bh,{className:"w-4 h-4 mr-0 md:mr-2"}),f.jsx("p",{className:"hidden md:block",children:t})]});function tt({className:t,...e}){return f.jsx("div",{className:de("animate-pulse rounded-md bg-muted",t),...e})}const M2=()=>f.jsxs("div",{className:"h-[450px] w-full px-4 flex flex-col pb-4 mt-2",children:[f.jsxs("div",{className:"flex mb-7 space-x-4",children:[f.jsx(tt,{className:"flex-grow h-10 bg-lightGray-darker"}),f.jsx(tt,{className:"h-10 w-[42px] md:w-[198.85px] bg-lightGray-darker"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(tt,{className:"h-[20px] w-[20rem] bg-lightGray-darker"}),f.jsx(tt,{className:"h-[20px] w-[10rem] bg-lightGray-darker"})]})]}),Ur=Vo(t=>({isModalVisible:!1,modalMode:"BASE",openModal:()=>{t(()=>({isModalVisible:!0}))},closeModal:()=>{t(()=>({isModalVisible:!1}))},setMode:e=>{t(()=>({modalMode:e}))}})),gse=()=>{const t=Ur(i=>i.openModal),e=Ur(i=>i.setMode),n=ut(i=>i.clearFormData),r=qt(i=>i.selectedKnowledgeBaseName);return{handleOpenKnowledgeForm:async i=>{if(!r)return window.alert("No Knowledge Base Selected cannot add a knowledge entry");n(),e(i),t()},openModal:t,setMode:e,clearFormData:n}},O2=()=>{const[t,e]=m.useState("");return{filter:t,handleFilterChange:r=>{e(r)}}};function yse(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=h=>{var _;const{scope:p,children:g,...w}=h,y=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,E=m.useMemo(()=>w,Object.values(w));return f.jsx(y.Provider,{value:E,children:g})};c.displayName=i+"Provider";function u(h,p){var y;const g=((y=p==null?void 0:p[t])==null?void 0:y[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,vse(s,...e)]}function vse(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function wse(t,e){const n=m.createContext(e),r=i=>{const{children:o,...a}=i,l=m.useMemo(()=>a,Object.values(a));return f.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=m.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function _se(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=h=>{var _;const{scope:p,children:g,...w}=h,y=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,E=m.useMemo(()=>w,Object.values(w));return f.jsx(y.Provider,{value:E,children:g})};c.displayName=i+"Provider";function u(h,p){var y;const g=((y=p==null?void 0:p[t])==null?void 0:y[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,xse(s,...e)]}function xse(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Ese="DismissableLayer",Z0="dismissableLayer.update",Tse="dismissableLayer.pointerDownOutside",Sse="dismissableLayer.focusOutside",h1,L2=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),j2=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(L2),[u,h]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=ke(e,C=>h(C)),y=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=y.indexOf(E),v=u?y.indexOf(u):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,P=v>=_,A=Pse(C=>{const T=C.target,R=[...c.branches].some(I=>I.contains(T));!P||R||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),O=Rse(C=>{const T=C.target;[...c.branches].some(I=>I.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return Ch(C=>{v===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(h1=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),f1(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=h1)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),f1())},[u,c]),m.useEffect(()=>{const C=()=>g({});return document.addEventListener(Z0,C),()=>document.removeEventListener(Z0,C)},[]),f.jsx(xe.div,{...l,ref:w,style:{pointerEvents:S?P?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,A.onPointerDownCapture)})});j2.displayName=Ese;var bse="DismissableLayerBranch",Cse=m.forwardRef((t,e)=>{const n=m.useContext(L2),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(xe.div,{...t,ref:s})});Cse.displayName=bse;function Pse(t,e=globalThis==null?void 0:globalThis.document){const n=At(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){V2(Tse,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Rse(t,e=globalThis==null?void 0:globalThis.document){const n=At(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&V2(Sse,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function f1(){const t=new CustomEvent(Z0);document.dispatchEvent(t)}function V2(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?qa(s,i):s.dispatchEvent(i)}var Ise="Portal",F2=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Pt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?gh.createPortal(f.jsx(xe.div,{...r,ref:e}),o):null});F2.displayName=Ise;function Ase(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var ay=t=>{const{present:e,children:n}=t,r=Nse(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=ke(r.ref,Dse(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};ay.displayName="Presence";function Nse(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=Ase(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Gf(r.current);i.current=a==="mounted"?c:"none"},[a]),Pt(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=Gf(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Pt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=g=>{const y=Gf(r.current).includes(g.animationName);if(g.target===e&&y&&(l("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},p=g=>{g.target===e&&(i.current=Gf(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Gf(t){return(t==null?void 0:t.animationName)||"none"}function Dse(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var bT="Dialog",[U2,B2]=_se(bT),[kse,ls]=U2(bT),$2=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=m.useRef(null),l=m.useRef(null),[c=!1,u]=So({prop:r,defaultProp:s,onChange:i});return f.jsx(kse,{scope:e,triggerRef:a,contentRef:l,contentId:ss(),titleId:ss(),descriptionId:ss(),open:c,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(h=>!h),[u]),modal:o,children:n})};$2.displayName=bT;var z2="DialogTrigger",W2=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ls(z2,n),i=ke(e,s.triggerRef);return f.jsx(xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":RT(s.open),...r,ref:i,onClick:ee(t.onClick,s.onOpenToggle)})});W2.displayName=z2;var CT="DialogPortal",[Mse,K2]=U2(CT,{forceMount:void 0}),H2=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=ls(CT,e);return f.jsx(Mse,{scope:e,forceMount:n,children:m.Children.map(r,o=>f.jsx(ay,{present:n||i.open,children:f.jsx(F2,{asChild:!0,container:s,children:o})}))})};H2.displayName=CT;var Mm="DialogOverlay",G2=m.forwardRef((t,e)=>{const n=K2(Mm,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ls(Mm,t.__scopeDialog);return i.modal?f.jsx(ay,{present:r||i.open,children:f.jsx(Ose,{...s,ref:e})}):null});G2.displayName=Mm;var Ose=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ls(Mm,n);return f.jsx(Cg,{as:bo,allowPinchZoom:!0,shards:[s.contentRef],children:f.jsx(xe.div,{"data-state":RT(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),za="DialogContent",q2=m.forwardRef((t,e)=>{const n=K2(za,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ls(za,t.__scopeDialog);return f.jsx(ay,{present:r||i.open,children:i.modal?f.jsx(Lse,{...s,ref:e}):f.jsx(jse,{...s,ref:e})})});q2.displayName=za;var Lse=m.forwardRef((t,e)=>{const n=ls(za,t.__scopeDialog),r=m.useRef(null),s=ke(e,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return Ox(i)},[]),f.jsx(Q2,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ee(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ee(t.onFocusOutside,i=>i.preventDefault())})}),jse=m.forwardRef((t,e)=>{const n=ls(za,t.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return f.jsx(Q2,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Q2=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=ls(za,n),l=m.useRef(null),c=ke(e,l);return Ex(),f.jsxs(f.Fragment,{children:[f.jsx(wg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:f.jsx(j2,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":RT(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(Fse,{titleId:a.titleId}),f.jsx(Bse,{contentRef:l,descriptionId:a.descriptionId})]})]})}),PT="DialogTitle",Y2=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ls(PT,n);return f.jsx(xe.h2,{id:s.titleId,...r,ref:e})});Y2.displayName=PT;var X2="DialogDescription",J2=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ls(X2,n);return f.jsx(xe.p,{id:s.descriptionId,...r,ref:e})});J2.displayName=X2;var Z2="DialogClose",eV=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ls(Z2,n);return f.jsx(xe.button,{type:"button",...r,ref:e,onClick:ee(t.onClick,()=>s.onOpenChange(!1))})});eV.displayName=Z2;function RT(t){return t?"open":"closed"}var tV="DialogTitleWarning",[Vse,nV]=wse(tV,{contentName:za,titleName:PT,docsSlug:"dialog"}),Fse=({titleId:t})=>{const e=nV(tV),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Use="DialogDescriptionWarning",Bse=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${nV(Use).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},rV=$2,$se=W2,sV=H2,IT=G2,AT=q2,NT=Y2,DT=J2,kT=eV,iV="AlertDialog",[zse,yle]=yse(iV,[B2]),Ei=B2(),oV=t=>{const{__scopeAlertDialog:e,...n}=t,r=Ei(e);return f.jsx(rV,{...r,...n,modal:!0})};oV.displayName=iV;var Wse="AlertDialogTrigger",Kse=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ei(n);return f.jsx($se,{...s,...r,ref:e})});Kse.displayName=Wse;var Hse="AlertDialogPortal",aV=t=>{const{__scopeAlertDialog:e,...n}=t,r=Ei(e);return f.jsx(sV,{...r,...n})};aV.displayName=Hse;var Gse="AlertDialogOverlay",lV=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ei(n);return f.jsx(IT,{...s,...r,ref:e})});lV.displayName=Gse;var Yl="AlertDialogContent",[qse,Qse]=zse(Yl),cV=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=Ei(n),o=m.useRef(null),a=ke(e,o),l=m.useRef(null);return f.jsx(Vse,{contentName:Yl,titleName:uV,docsSlug:"alert-dialog",children:f.jsx(qse,{scope:n,cancelRef:l,children:f.jsxs(AT,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:ee(s.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=l.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[f.jsx(xx,{children:r}),f.jsx(Xse,{contentRef:o})]})})})});cV.displayName=Yl;var uV="AlertDialogTitle",dV=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ei(n);return f.jsx(NT,{...s,...r,ref:e})});dV.displayName=uV;var hV="AlertDialogDescription",fV=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ei(n);return f.jsx(DT,{...s,...r,ref:e})});fV.displayName=hV;var Yse="AlertDialogAction",pV=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ei(n);return f.jsx(kT,{...s,...r,ref:e})});pV.displayName=Yse;var mV="AlertDialogCancel",gV=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=Qse(mV,n),i=Ei(n),o=ke(e,s);return f.jsx(kT,{...i,...r,ref:o})});gV.displayName=mV;var Xse=({contentRef:t})=>{const e=`\`${Yl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Yl}\` by passing a \`${hV}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Yl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Jse=oV,Zse=aV,yV=lV,vV=cV,wV=pV,_V=gV,xV=dV,EV=fV;const eie=Jse,tie=Zse,TV=m.forwardRef(({className:t,...e},n)=>f.jsx(yV,{className:de("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));TV.displayName=yV.displayName;const SV=m.forwardRef(({className:t,...e},n)=>f.jsxs(tie,{children:[f.jsx(TV,{}),f.jsx(vV,{ref:n,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));SV.displayName=vV.displayName;const bV=({className:t,...e})=>f.jsx("div",{className:de("flex flex-col space-y-2 text-center sm:text-left",t),...e});bV.displayName="AlertDialogHeader";const CV=({className:t,...e})=>f.jsx("div",{className:de("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});CV.displayName="AlertDialogFooter";const PV=m.forwardRef(({className:t,...e},n)=>f.jsx(xV,{ref:n,className:de("text-lg font-semibold",t),...e}));PV.displayName=xV.displayName;const RV=m.forwardRef(({className:t,...e},n)=>f.jsx(EV,{ref:n,className:de("text-sm text-muted-foreground",t),...e}));RV.displayName=EV.displayName;const IV=m.forwardRef(({className:t,...e},n)=>f.jsx(wV,{ref:n,className:de(eE(),t),...e}));IV.displayName=wV.displayName;const AV=m.forwardRef(({className:t,...e},n)=>f.jsx(_V,{ref:n,className:de(eE({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));AV.displayName=_V.displayName;const MT=({isOpen:t,setDialogState:e,onDelete:n,message:r})=>{const s=async()=>{e(!1),await n()},i=()=>{e(!1)};return f.jsx(eie,{open:t,onOpenChange:o=>{e(o),setTimeout(()=>{o||(document.body.style.pointerEvents="")},100)},children:f.jsxs(SV,{children:[f.jsxs(bV,{children:[f.jsx(PV,{children:"Are you sure you want to delete?"}),f.jsx(RV,{children:r})]}),f.jsxs(CV,{children:[f.jsx(AV,{onClick:i,children:"Cancel"}),f.jsx(IV,{onClick:s,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})},nie={1:"Base",2:"Entry",3:"Verify"},rie={1:"Entry",2:"Verify"},NV={base:"This action cannot be undone. This will permanently delete the knowledge base.",entry:"This action cannot be undone. This will permanently delete the knowledge entry."},sie=({onTabChange:t})=>{const e=qt(E=>E.selectedKnowledgeBaseName),n=qt(E=>E.selectedKnowledgeEntryIntentItem),r=qt(E=>E.setSelectedKnowledgeEntryIntentItem),s=wi(E=>E.dialogs),i=wi(E=>E.setDialogState),{handleOpenKnowledgeForm:o}=gse(),a=Za(),l=Xc(),{data:c,isLoading:u}=ST({queryFn:()=>vre(e),queryKey:Cp,enabled:!!e}),{mutateAsync:h}=io({mutationFn:Tre,onSuccess:()=>{l.invalidateQueries({queryKey:Cp}),a({title:`Knowledge Entry with intent ${n} deleted`,description:sn()})},onError:E=>{a({title:E==null?void 0:E.message,description:sn()}),rn(E.message||"An Unexpected error occured while deleting knowledge base")}}),p=async()=>{if(!n)throw new Error("No knowledge entry intent selected cannot delete");await h(`${e}&${n}`),console.log("Knowledge entry has been removed: ",n),r("")},{filter:g,handleFilterChange:w}=O2(),y=m.useMemo(()=>c==null?void 0:c.filter(E=>E.intent.toLowerCase().includes(g.toLowerCase())),[c,g]);return m.useEffect(()=>()=>{l.resetQueries({queryKey:Cp})},[]),u?f.jsx(M2,{}):c?f.jsxs(Bg,{value:"knowledgeEntry",className:"mt-2",children:[f.jsxs("div",{className:"h-[450px] w-full px-4 flex flex-col pb-4 overflow-y-auto scrollbar-slim",children:[f.jsxs("div",{className:"flex mb-2 space-x-4",children:[f.jsx(un,{className:"flex-grow outline-none focus:outline-none",placeholder:"Search knowledge base...",onChange:E=>w(E.target.value)}),f.jsx(k2,{label:"Add knowledge entry",onButtonClick:()=>o(gJ.entry)})]}),f.jsx(Lre,{knowledgeEntries:y,handleTabChange:t})]}),s.showConfirmDeleteKnowledgeEntryDialog&&f.jsx(MT,{isOpen:s.showConfirmDeleteKnowledgeEntryDialog,setDialogState:E=>i("showConfirmDeleteKnowledgeEntryDialog",E),onDelete:p,message:NV.entry})]}):f.jsx(y2,{heading:"No Knowledge Base Selected",description:"Select a knowledge base category to view its contents here."})},DV=t=>{const[e,n]=m.useState(t);return{currentTab:e,setCurrentTab:n,setActiveTab:s=>{n(s)}}},iie=({base:t,onItemClick:e})=>{const n=qt(o=>o.selectedKnowledgeBaseName),r=qt(o=>o.setSelectedKnowledgeBaseItem),s=wi(o=>o.openDialog),i=()=>{r(t),s("showConfirmDeleteKnowledgeBaseDialog")};return f.jsxs("div",{className:`flex justify-between p-2 rounded-md cursor-pointer transition-colors ${n===t?"bg-lightGray":"hover:bg-lightGray-darker"}`,onClick:()=>e(t),children:[t,f.jsx(ct,{className:"bg-transparent hover:bg-transparent size-8 p-0 h-fit",children:f.jsx(v2,{editKnowledge:()=>console.log("Editing item: ",t),deleteKnowledge:i})})]})},oie=({knowledgeBaseNameList:t,handleTabChange:e})=>{const n=qt(i=>i.setSelectedKnowledgeBaseName),r=qt(i=>i.selectedKnowledgeBaseName),s=i=>{e("knowledgeEntry"),r!==i&&n(i)};return f.jsx("div",{children:f.jsx(Ng,{listStyle:"space-y-2",items:t,renderItem:i=>f.jsx(iie,{base:i,onItemClick:s})})})},aie=({onTabChange:t})=>{const e=Xc(),n=Za(),{handleFilterChange:r,filter:s}=O2(),i=qt(A=>A.selectedKnowledgeBaseItem),o=qt(A=>A.setSelectedKnowledgeBaseItem),a=qt(A=>A.selectedKnowledgeBaseName),l=qt(A=>A.setSelectedKnowledgeBaseName),c=qt(A=>A.setSelectedKnowledgeEntry),u=Ur(A=>A.openModal),h=Ur(A=>A.setMode),p=ut(A=>A.clearFormData),g=wi(A=>A.dialogs),w=wi(A=>A.setDialogState),{data:y,isLoading:E}=ST({queryFn:()=>yre(),queryKey:U0}),{mutateAsync:_}=io({mutationFn:Ere,onSuccess:()=>{e.invalidateQueries({queryKey:U0}),n({title:`Knowledge Base ${i} deleted`,description:sn()})},onError:A=>{n({title:A==null?void 0:A.message,description:sn(),variant:"destructive"}),rn(A.message||"An Unexpected error occured while deleting knowledge base")}}),v=m.useMemo(()=>y==null?void 0:y.filter(A=>A.toLowerCase().includes(s.toLowerCase())),[y,s]),S=async()=>{if(!i)throw new Error("No knowledge base selected cannot delete");await _(i),o(""),a&&a===i&&(l(""),c(null))},P=A=>{p(),h(A),u()};return E?f.jsx(M2,{}):y?f.jsxs(Bg,{value:"knowledgeBase",className:"mt-2",children:[f.jsxs("div",{className:"h-[450px] w-full px-4 pb-4 flex flex-col overflow-y-auto scrollbar-slim",children:[f.jsxs("div",{className:"flex mb-2 space-x-4",children:[f.jsx(un,{className:"flex-grow outline-none focus:outline-none",placeholder:"Search knowledge base...",onChange:A=>r(A.target.value)}),f.jsx(k2,{label:"Add Knowledge Base",onButtonClick:()=>P("BASE")})]}),f.jsx(oie,{knowledgeBaseNameList:v,handleTabChange:t})]}),g.showConfirmDeleteKnowledgeBaseDialog&&f.jsx(MT,{isOpen:g.showConfirmDeleteKnowledgeBaseDialog,setDialogState:A=>w("showConfirmDeleteKnowledgeBaseDialog",A),onDelete:S,message:NV.base})]}):f.jsx(f.Fragment,{children:"No knowledge base list found"})},lie=()=>{const{currentTab:t,setCurrentTab:e,setActiveTab:n}=DV("knowledgeBase");return f.jsxs(LX,{value:t,onValueChange:r=>e(r),className:"w-full p-0 border-neutral-200 bg-white border shadow-sm text-sm md:text-base rounded-md overflow-hidden box-border",children:[f.jsx(FX,{tabs:jX}),t==="knowledgeBase"&&f.jsx(aie,{onTabChange:n}),t==="knowledgeEntry"&&f.jsx(sie,{onTabChange:n}),t==="entryDetails"&&f.jsx(Mre,{})]})},OT=rV,cie=sV,kV=m.forwardRef(({className:t,...e},n)=>f.jsx(IT,{ref:n,className:de("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));kV.displayName=IT.displayName;const ly=m.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(cie,{children:[f.jsx(kV,{}),f.jsxs(AT,{ref:r,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,f.jsxs(kT,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[f.jsx(mg,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ly.displayName=AT.displayName;const cy=({className:t,...e})=>f.jsx("div",{className:de("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});cy.displayName="DialogHeader";const LT=({className:t,...e})=>f.jsx("div",{className:de("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});LT.displayName="DialogFooter";const uy=m.forwardRef(({className:t,...e},n)=>f.jsx(NT,{ref:n,className:de("text-lg font-semibold leading-none tracking-tight",t),...e}));uy.displayName=NT.displayName;const dy=m.forwardRef(({className:t,...e},n)=>f.jsx(DT,{ref:n,className:de("text-sm text-muted-foreground",t),...e}));dy.displayName=DT.displayName;const Js=Vo((t,e)=>({currentStep:1,totalStep:3,nextStep:()=>{e().currentStep!==e().totalStep&&t(n=>({currentStep:n.currentStep+1}))},prevStep:()=>{e().currentStep!==1&&t(n=>({currentStep:n.currentStep-1}))},setTotalStep:n=>{if(n==="BASE")return t(()=>({totalStep:3}));t(()=>({totalStep:2}))},resetCurrentStep:()=>{t(()=>({currentStep:1}))}})),uie=({progressData:t})=>{const e=Js(s=>s.totalStep),n=Js(s=>s.currentStep),r=(n-1)/(e-1)*100;return f.jsxs("div",{className:"mt-4 mb-8",children:[f.jsx("div",{className:"flex justify-between mb-2",children:[...Array(e)].map((s,i)=>f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${n>=i+1?"bg-lightGray text-htext":"bg-lightGray-darker text-muted-foreground"}`,children:i+1}),f.jsx("span",{className:"text-xs mt-1",children:t[i+1]})]},i))}),f.jsx("div",{className:"h-2 bg-muted rounded-full",children:f.jsx("div",{className:"h-full bg-blue-600 rounded-full transition-all duration-300 ease-in-out",style:{width:`${r}%`}})})]})},cd=({errorMessage:t})=>f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(pW,{className:"text-destructive size-5",strokeWidth:1.5}),f.jsx("div",{className:"text-destructive text-sm",children:t})]}),die=()=>{const{knowledgeBaseName:t}=ut(r=>r.formData),{knowledgeBaseName:e}=ut(r=>r.formDataErrors),n=ut(r=>r.setFormData);return f.jsx("div",{className:"space-y-1",children:f.jsxs(f.Fragment,{children:[f.jsx("label",{htmlFor:"knowledgeBaseName",className:"block text-sm font-medium",children:"Knowledge Base Name"}),f.jsx(un,{name:"knowledgeBaseName",placeholder:"Enter knowledge base name",value:t,className:de(e&&"border-destructive"),onChange:r=>n(r.target.name,r.target.value)}),e&&f.jsx(cd,{errorMessage:e})]})})},p1=()=>{const{intent:t,documents:e,answer:n}=ut(P=>P.formData),{intent:r,documents:s,answer:i}=ut(P=>P.formDataErrors),o=ut(P=>P.setDocuments),a=ut(P=>P.removeDocument),l=ut(P=>P.setFormData),c=ut(P=>P.addDocument),u=qt(P=>P.selectedKnowledgeBaseName),h=Ur(P=>P.modalMode),{file:p,isLinkDialogOpen:g,setIsLinkDialogOpen:w,handleFileChange:y,handleInsertLink:E,handleRemoveFile:_,fileInputRef:v,answerTextAreaRef:S}=f2(n);return m.useEffect(()=>{h==="ENTRY"&&l("knowledgeBaseName",u)},[]),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx(ar,{children:"Intent"}),f.jsx(un,{placeholder:"Enter the intent",value:t,className:de(r&&"border-destructive"),onChange:P=>l("intent",P.target.value)}),r&&f.jsx(cd,{errorMessage:r})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx(ar,{children:"Documents"}),e.map((P,A)=>f.jsxs("div",{className:"flex space-x-2 relative",children:[f.jsx(un,{placeholder:`Enter document ${A+1}`,className:de(s&&"border-destructive"),value:P,onChange:O=>o(O.target.value,A)},A),f.jsxs(ct,{type:"button",variant:"ghost",size:"icon",onClick:()=>a(A),className:"absolute right-2 top-1/2 -translate-y-1/2 hover:bg-transparent",children:[f.jsx(_x,{className:"h-4 w-4 text-gray-500 hover:text-gray-700"}),f.jsx("span",{className:"sr-only",children:"Remove document"})]})]},A)),s&&f.jsx(cd,{errorMessage:s}),f.jsxs(ct,{variant:"outline",onClick:c,className:"w-full",children:[f.jsx(bh,{className:"mr-2 h-4 w-4"})," Add Document"]})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx(ar,{children:"Answer"}),f.jsx(xL,{answer:n,handleTextChange:l,onFileChange:y,fileRef:v,textAreaRef:S,isError:!!i,isLinkDropDownVisible:g,setIsLinkDropDownVisible:w,onInsertLink:E}),i&&f.jsx(cd,{errorMessage:i})]}),p&&f.jsx(TL,{file:p,removeFile:_})]})},hie=({file:t})=>f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium",children:"File Details:"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:t.name})]}),m1=()=>{const{knowledgeBaseName:t,intent:e,documents:n,answer:r,file:s}=ut(i=>i.formData);return f.jsxs("div",{className:"space-y-4 break-words",children:[f.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Review Your Entry"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium",children:"Knowledge Base Name:"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium",children:"Intent:"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:e})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium",children:"Documents:"}),f.jsx("ul",{className:"list-disc pl-5 text-sm text-muted-foreground",children:n.map((i,o)=>f.jsx("li",{children:i},o))})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium",children:"Answer:"}),f.jsx("p",{className:"text-sm text-muted-foreground line-clamp-4",children:r})]}),s&&f.jsx(hie,{file:s})]})},fie=()=>{const t=Js(r=>r.currentStep),e=Ur(r=>r.modalMode),n=()=>({1:{BASE:f.jsx(die,{}),ENTRY:f.jsx(p1,{})},2:{BASE:f.jsx(p1,{}),ENTRY:f.jsx(m1,{})},3:{BASE:f.jsx(m1,{})}})[t][e]||f.jsx(f.Fragment,{children:"No Modal Section"});return f.jsx(f.Fragment,{children:n()})},pie=()=>{const t=Za(),e=Xc(),n=Ur(o=>o.closeModal),{mutateAsync:r}=io({mutationFn:o=>wre(o),onSuccess:()=>{e.invalidateQueries({queryKey:U0})}}),{mutateAsync:s}=io({mutationFn:o=>_re(o),onSuccess:()=>{e.invalidateQueries({queryKey:Cp})}});return{handleSubmitForm:async(o,a)=>{try{let l=null;o.file&&(l=await g2(o.file)),a==="BASE"?(await r(l?{...o,fileUrl:l}:o),t({title:"Knowledge Base saved successfully.",description:sn()})):(await s(l?{...o,fileUrl:l}:o),t({title:"Knowledge Entry saved successfully.",description:sn()}))}catch(l){l instanceof Error&&t({title:l==null?void 0:l.message,description:sn(),variant:"destructive"}),console.error("Unexpected error occured ",l)}finally{n()}}}},mie=(t,e)=>{const n={};return t===1&&(e.knowledgeBaseName.trim()||(n.knowledgeBaseName="Knowledge Base Name is required")),t===2&&(e.intent.trim()||(n.intent="Intent is required"),e.documents.some(s=>s.trim()==="")&&(n.documents="Document is required"),e.answer.trim()||(n.answer="Answer is required")),{isValid:Object.keys(n).length===0,errors:n}},gie=()=>{const{handleSubmitForm:t}=pie(),e=Ur(c=>c.modalMode),n=ut(c=>c.formData),r=Js(c=>c.currentStep),s=Js(c=>c.totalStep),i=Js(c=>c.nextStep),o=Js(c=>c.prevStep),a=ut(c=>c.setFormDataErrors),l=()=>{const{isValid:c,errors:u}=mie(e==="BASE"?r:r+1,n);if(!c){a(u);return}a({}),i()};return f.jsxs("div",{className:"flex justify-between items-center mt-6",children:[f.jsx(ct,{variant:"outline",size:"icon",children:f.jsx(sW,{className:"h-4 w-4"})}),f.jsxs("div",{children:[r>1&&f.jsxs(ct,{variant:"outline",onClick:o,className:"mr-2",children:[f.jsx(nW,{className:"mr-2 h-4 w-4"})," Back"]}),r<s?f.jsxs(ct,{onClick:l,children:["Next ",f.jsx(wD,{className:"ml-2 h-4 w-4"})]}):f.jsx(ct,{onClick:async()=>{t(n,e)},children:"Save Knowledge Base"})]})]})},yie=()=>{const t=ut(a=>a.clearFormData),e=Ur(a=>a.isModalVisible),n=Ur(a=>a.modalMode),r=Ur(a=>a.closeModal),s=Js(a=>a.setTotalStep),i=Js(a=>a.resetCurrentStep),o=n==="BASE"?nie:rie;return m.useEffect(()=>(s(n),()=>{t(),i()}),[s]),f.jsx(OT,{open:e,onOpenChange:r,children:f.jsxs(ly,{className:"sm:max-w-[550px] ",children:[f.jsxs(cy,{children:[f.jsx(uy,{className:"text-2xl font-bold",children:"Create New Knowledge Base"}),f.jsx(dy,{children:"Fill in the details to create a new knowledge base."})]}),f.jsx(uie,{progressData:o}),f.jsx(Hg,{children:f.jsx(Gg,{className:"pt-6 max-h-[30rem] max-w-[498px] overflow-y-scroll",children:f.jsx(fie,{})})}),f.jsx(gie,{})]})})},vie=()=>{const t=Ur(r=>r.isModalVisible),e=qt(r=>r.setSelectedKnowledgeEntry),n=qt(r=>r.selectedKnowledgeBaseName);return m.useEffect(()=>{n&&e(null)},[n,e]),f.jsxs("div",{className:"flex items-center flex-col w-[84rem] px-20 space-y-6",children:[f.jsx(IX,{}),f.jsx(lie,{}),t&&f.jsx(yie,{})]})},Rt=Vo(t=>({botName:"",errors:{botName:""},interactionIcon:null,interactionIconPreview:"",widgetIcon:null,widgetIconPreview:"",metadata:[],setBotName:e=>{t(()=>({botName:e}))},setErrors:(e,n)=>{t(r=>({errors:{...r.errors,[e]:n}}))},setInteractionIcon:e=>{t(()=>({interactionIcon:e}))},setInteractionIconPreview:e=>{t(()=>({interactionIconPreview:e}))},setWidgetIcon:e=>{t(()=>({widgetIcon:e}))},setWidgetIconPreview:e=>{t(()=>({widgetIconPreview:e}))},setMetadata:e=>{t(()=>({metadata:e}))}})),wie=({inputRef:t})=>{const e=Rt(o=>o.botName),n=Rt(o=>o.setBotName),r=Rt(o=>o.errors),s=Rt(o=>o.setErrors),i=o=>{n(o),o?s("botName",""):s("botName","Bot name field is required")};return f.jsxs("section",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"botName",className:"block text-sm font-medium text-black/80 mb-1",children:"Bot Name"}),f.jsx(un,{ref:t,type:"text",value:e,onChange:o=>i(o.target.value),className:de("w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",r.botName&&"border-destructive")}),r.botName&&f.jsx(cd,{errorMessage:r.botName})]})},_ie=()=>({handleIconChange:(n,r,s)=>{if(n.target.files&&n.target.files[0]){const i=n.target.files[0];if(i.type==="image/png"||i.type==="image/gif"||i.type==="image/jpeg"){r(i);const o=new FileReader;o.onload=a=>{var l;s((l=a.target)==null?void 0:l.result)},o.readAsDataURL(i)}else alert("Please upload a PNG, JPEG or GIF file."),n.target.value=""}},handleRemoveIcon:(n,r,s)=>{r(null),s(null),n.current&&(n.current.value="")}}),MV=({iconRef:t,setIcon:e,setIconPreview:n,iconPreview:r,acceptedFormat:s})=>{const{handleIconChange:i,handleRemoveIcon:o}=_ie();return f.jsxs("div",{className:"flex items-center ",children:[f.jsx(un,{id:"widget-icon-upload",type:"file",className:"hidden",ref:t,accept:s,onChange:a=>i(a,e,n)}),f.jsx(ct,{type:"button",variant:"outline",size:"sm",onClick:()=>{var a;return(a=t.current)==null?void 0:a.click()},children:r?f.jsxs("span",{className:"flex items-center text-sm gap-2",children:[f.jsx(um,{className:"size-5"}),"Change Icon"]}):f.jsxs("span",{className:"flex items-center text-sm gap-2",children:[f.jsx(um,{className:"size-5"}),"Upload Icon"]})}),r&&f.jsx(ct,{type:"button",variant:"ghost",size:"sm",className:"ml-2",onClick:()=>o(t,e,n),children:"Remove"})]})},xie=()=>{const t=Rt(s=>s.setInteractionIcon),e=Rt(s=>s.setInteractionIconPreview),n=Rt(s=>s.interactionIconPreview),r=m.useRef(null);return f.jsxs("section",{className:"space-y-2",children:[f.jsx("label",{className:"block text-sm font-medium text-black/80",children:"Interaction Icon"}),f.jsxs("div",{className:"mt-1 flex items-center h-[4rem] space-x-4",children:[f.jsxs("div",{className:"size-16 rounded-full bg-gray-100 flex items-center justify-center overflow-hidden",children:[n&&f.jsx("img",{src:n,className:"size-full object-cover rounded-full"}),!n&&f.jsx(um,{className:"w-8 h-8 text-gray-400"})]}),f.jsx(MV,{iconRef:r,setIcon:t,setIconPreview:e,iconPreview:n,acceptedFormat:".png,.jpg"})]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"PNG or JPG only. Max file size: 2MB."})]})},Eie=()=>{const t=Rt(s=>s.setWidgetIcon),e=Rt(s=>s.widgetIconPreview),n=Rt(s=>s.setWidgetIconPreview),r=m.useRef(null);return f.jsxs("section",{className:"space-y-2",children:[f.jsx("label",{className:"block text-sm font-medium text-black/80",children:"Widget Icon"}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs("div",{className:"size-16 rounded-full bg-gray-100 flex items-center justify-center overflow-hidden",children:[e&&f.jsx("img",{src:e,className:"size-full object-cover rounded-full"}),!e&&f.jsx(um,{className:"w-8 h-8 text-gray-400"})]}),f.jsx(MV,{iconRef:r,setIcon:t,setIconPreview:n,iconPreview:e,acceptedFormat:".png,.jpg,.gif"})]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"PNG, JPEG OR GIF only. Max file size: 30MB."})]})},Tie=({botNameInputRef:t})=>f.jsxs("form",{className:"space-y-4",children:[f.jsx(wie,{inputRef:t}),f.jsx(xie,{}),f.jsx(Eie,{})]}),Sie=({handleCloseChatbox:t})=>{const e=Rt(r=>r.botName),n=Rt(r=>r.interactionIconPreview);return f.jsx("section",{children:f.jsxs("div",{className:"bg-white h-[24rem] rounded-lg shadow-lg p-4 max-w-sm mx-auto flex flex-col",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[n?f.jsx("img",{src:n,alt:"interaction-icon-preview",className:"w-11 h-11 object-cover rounded-full"}):f.jsx("div",{className:"w-11 h-11 object-cover rounded-full bg-gray-200"}),f.jsx("span",{className:"text-sm font-medium text-gray-700",children:e||"Chatbot"})]}),f.jsx("div",{className:"cursor-pointer hover:scale-110 transition-transform",onClick:t,children:f.jsx(mg,{className:"w-5 h-5 text-gray-500"})})]}),f.jsx("div",{className:"flex-1"}),f.jsx("div",{className:" rounded-lg py-3 mb-4",children:f.jsxs("div",{className:"flex items-center",children:[n?f.jsx("img",{src:n,alt:"interaction-icon-preview",className:"w-10 h-10 object-cover rounded-full"}):f.jsx("div",{className:"w-11 h-11 object-cover rounded-full bg-gray-200"}),f.jsx("p",{className:"ml-2 text-sm text-gray-700 bg-gray-100 p-2.5 rounded-xl",children:"Hi! What can I help you with?"})]})}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{disabled:!0,type:"text",placeholder:"Message...",className:"flex-grow h-10 px-3 py-2 text-sm border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),f.jsx("div",{className:"h-10 px-3 py-2 bg-blue-500 text-white rounded-r-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 flex items-center justify-center",children:f.jsx(CD,{className:"w-5 h-5"})})]})]})})},bie=()=>{const[t,e]=m.useState(!1),n=Rt(r=>r.widgetIconPreview);return f.jsx("section",{children:f.jsx("div",{className:"border h-[28rem] border-gray-300 rounded-lg p-4 bg-gray-50 mt-4 mb-2",style:{backgroundImage:"radial-gradient(#d1d5db 1px, transparent 1px)",backgroundSize:"20px 20px"},children:f.jsx("div",{className:"h-full flex justify-end items-end",children:t?f.jsx(Sie,{handleCloseChatbox:()=>e(!1)}):f.jsx("div",{className:"size-[14rem] flex items-center justify-center",onClick:()=>e(!0),children:n?f.jsx("img",{src:n,alt:"Widget icon preview",className:"cursor-pointer"}):f.jsx("span",{className:"text-gray-400 cursor-pointer",children:"No icon"})})})})})},Cie=()=>{const t=Rt(i=>i.metadata),e=Rt(i=>i.setMetadata),n=()=>{const i={id:Date.now().toString(),key:"",value:""};e([...t,i])},r=(i,o,a)=>{const l=t.map(c=>c.id===i?{...c,[o]:a}:c);e(l)},s=i=>{const o=t.filter((a,l)=>l!==i);e(o)};return f.jsxs("div",{className:"space-y-4",children:[t.map((i,o)=>f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(un,{placeholder:"Key",value:i.key,onChange:a=>r(i.id,"key",a.target.value),className:"flex-1"}),f.jsx(un,{placeholder:"Value",value:i.value,onChange:a=>r(i.id,"value",a.target.value),className:"flex-1"}),f.jsx(ct,{type:"button",variant:"ghost",size:"icon",className:"hover:text-red-600",onClick:()=>s(o),children:f.jsx(_x,{className:"size-5 transition-transform ease-in"})})]},o)),f.jsxs(ct,{type:"button",variant:"outline",size:"sm",onClick:n,className:"mt-2",children:[f.jsx(bh,{className:"size-5 mr-2"}),"Add Field"]})]})},Pie=async()=>await pre("profile","botProfile"),Rie=async(t,e,n,r=[])=>{try{const s=r.reduce((l,c)=>({...l,[c.key]:c.value}),{}),i=t?await F0(t,r1,"interaction-icon"):null,o=e?await F0(e,r1,"widget-icon"):null;await fre("profile","botProfile",{interactionIconURL:i,widgetIconUrl:o,botName:n,metadata:s}),rn("Upload bot profile success")}catch(s){console.log(s)}},Iie=()=>{const t=Za(),e=Rt(E=>E.interactionIcon),n=Rt(E=>E.setInteractionIconPreview),r=Rt(E=>E.widgetIcon),s=Rt(E=>E.setWidgetIconPreview),i=Rt(E=>E.botName),o=Rt(E=>E.setBotName),a=Rt(E=>E.setErrors),l=Rt(E=>E.metadata),c=Rt(E=>E.setMetadata),[u,h]=m.useState(!1),[p,g]=m.useState(!0),w=m.useRef(null);return m.useEffect(()=>((async()=>{g(!0);const _=await Pie();if(!_)return;o(_.botName),n(_.interactionIconURL),s(_.widgetIconUrl);const v=kJ(_.metadata);c(v),g(!1)})(),()=>{a("botName","")}),[]),{isLoading:u,handleSubmitForm:async()=>{var _;if(!i.trim()){a("botName","Bot name field is required"),(_=w.current)==null||_.scrollIntoView({behavior:"smooth",block:"center"});return}try{h(!0),await Rie(e,r,i,l),h(!1),t({title:"Bot profile has been successfully updated",description:sn()})}catch(v){v instanceof Error&&t({title:v.message,description:sn(),variant:"destructive"}),console.error("Unexpected error occured ",v)}},isPageLoading:p,botNameInputRef:w}},Aie=()=>f.jsxs("section",{className:"flex-1 flex-col space-y-4",children:[f.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[f.jsx("header",{className:"text-2xl font-medium pb-5 leading-none tracking-tight",children:"Bot Profile"}),f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsx(tt,{className:"h-4 w-16"}),f.jsx(tt,{className:"h-10 w-full mb-3"}),f.jsx(tt,{className:"h-4 w-24"}),f.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[f.jsx(tt,{className:"size-[64px] rounded-full"}),f.jsx(tt,{className:"h-9 w-36"}),f.jsx(tt,{className:"h-9 w-36"})]}),f.jsx(tt,{className:"h-4 w-24"}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx(tt,{className:"size-[64px] rounded-full"}),f.jsx(tt,{className:"h-9 w-36"}),f.jsx(tt,{className:"h-9 w-36"})]})]})]}),f.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[f.jsx("header",{className:"text-2xl font-medium pb-5",children:"Additional Information"}),f.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[f.jsx(tt,{className:"flex-1 h-10"}),f.jsx(tt,{className:"flex-1 h-10"}),f.jsx(tt,{className:"w-10 h-10"})]}),f.jsx(tt,{className:"h-9 w-36"})]}),f.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[f.jsx("header",{className:"text-2xl font-medium pb-5",children:"Preview"}),f.jsx(tt,{className:"h-[28rem] w-full mb-2"})]}),f.jsx(tt,{className:"bg-blue-200 h-10 w-full"})]}),Nie=()=>{const{isLoading:t,handleSubmitForm:e,isPageLoading:n,botNameInputRef:r}=Iie();return n?f.jsx(Aie,{}):f.jsxs("section",{className:"flex-1 flex-col space-y-4",children:[f.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[f.jsx("header",{className:"text-2xl font-medium pb-5 leading-none tracking-tight",children:"Bot Profile"}),f.jsx(Tie,{botNameInputRef:r})]}),f.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[f.jsx("header",{className:"text-2xl font-medium pb-5",children:"Additional Information"}),f.jsx(Cie,{})]}),f.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[f.jsx("header",{className:"text-2xl font-medium",children:"Preview"}),f.jsx(bie,{})]}),f.jsx("footer",{className:"mt-4 pb-4",children:f.jsx(ct,{className:"w-full bg-blue-600 hover:bg-blue-700",disabled:t,onClick:e,children:t?f.jsx(Wh,{}):"Save changes"})})]})},Die=[{id:"team",icon:f.jsx(gW,{}),label:"Team",comingSoon:!0},{id:"botProfile",icon:f.jsx(eW,{}),label:"Bot Profile",comingSoon:!1},{id:"botModel",icon:f.jsx(J6,{}),label:"Bot Model",comingSoon:!1}],kie=({onTabChange:t,activeTab:e})=>f.jsx("nav",{className:"w-[14rem] px-2 space-y-2 text-htext font-medium",children:Die.map(n=>f.jsxs("div",{className:"relative group",children:[f.jsxs("li",{className:de("flex items-center gap-3 py-3 px-2  cursor-pointer rounded-md transition-colors hover:text-opacity-80",e===n.id?"bg-blue-600 text-white":"hover:bg-slate-100 text-opacity-100"),onClick:()=>t(n.id),children:[n.icon," ",n.label]}),n.comingSoon&&f.jsx(Ag,{variant:"secondary",className:"absolute -top-2 right-0 text-[10px] font-normal px-1 py-0.5 bg-blue-100 text-blue-800 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Coming Soon"})]},n.id))}),Mie=(t,e,n)=>mre(t,e,n),Oie=()=>{const[t,e]=m.useState(!1),[n,r]=m.useState(null),s=Za(),i=async()=>{e(!0),await a7(),e(!1),s({title:"Model Training Complete",description:"Your AI model is fully trained and ready for use. You can now run queries with the latest data."})};return m.useEffect(()=>{const o=Mie("profile","model",a=>{const{timeFinishedTraining:l}=a;r(l)});return()=>o()},[]),f.jsxs("section",{className:"flex-1 flex-col space-y-4",children:[f.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[f.jsx("header",{className:"text-2xl font-medium pb-5 leading-none tracking-tight",children:"Bot Model"}),f.jsxs("div",{className:"flex items-center mb-4",children:[f.jsx("p",{className:"font-medium flex-1",children:"Current Version"}),f.jsx("div",{className:"flex-1",children:f.jsx(Ag,{variant:"secondary",className:"text-lg",children:"v1.0.0"})})]}),f.jsx("div",{className:"grid grid-cols-2 gap-4",children:f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Trained"}),f.jsx("div",{className:"font-medium",children:n||f.jsx(tt,{className:"w-48 h-6"})})]})})]}),f.jsx("footer",{className:"mt-4 pb-4",children:f.jsx(ct,{className:"w-full bg-blue-600 hover:bg-blue-700",disabled:t,onClick:i,children:t?f.jsx(Wh,{}):f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(tW,{size:20})," Train Model"]})})})]})},Lie=({onDeleteAction:t,onResetPasswordAction:e,onUpdateRoleAction:n})=>f.jsxs(ME,{modal:!1,children:[f.jsx(OE,{asChild:!0,children:f.jsx(ct,{variant:"ghost",className:" hover:bg-gray-100 size-8 p-1 group",children:f.jsx(xD,{className:"text-zinc-400 size-5 group-hover:text-zinc-600 transition-colors"})})}),f.jsxs(qg,{align:"end",className:"w-auto bg-white border border-neutral-300 p-1 rounded-lg shadow-md",children:[f.jsx(la,{className:"flex items-center p-2 hover:bg-zinc-100",onClick:r=>{r.stopPropagation(),n("admin")},children:"Set as Admin"}),f.jsx(la,{className:"flex items-center p-2 hover:bg-zinc-100",onClick:r=>{r.stopPropagation(),n("editor")},children:"Set as Editor"}),f.jsx(la,{className:"flex items-center p-2 hover:bg-zinc-100",onClick:r=>{r.stopPropagation(),n("viewer")},children:"Set as Viewer"}),f.jsx(vL,{}),f.jsxs(la,{className:"flex items-center p-2 hover:bg-zinc-100",onClick:r=>{r.stopPropagation(),e()},children:[f.jsx(dW,{className:"mr-2 h-4 w-4"}),"Reset Password"]}),f.jsxs(la,{className:"flex items-center p-2 hover:bg-zinc-100 text-red-600",onClick:r=>{r.stopPropagation(),t()},children:[f.jsx(PD,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]}),OV=Vo(t=>({adminId:null,setAdminId:e=>t({adminId:e})})),jie=({adminInfo:t,onUpdateRole:e})=>{const{email:n,role:r,_id:s}=t,i=OV(c=>c.setAdminId),o=wi(c=>c.openDialog),a=()=>{i(s),o("showConfirmDeleteDialog")},l=()=>{i(s),o("showResetPasswordDialog")};return f.jsxs("section",{className:"flex items-center w-full py-2 font-medium text-sm",children:[f.jsx("h4",{className:"flex-1 max-w-[438px] text-zinc-700 truncate",title:n,children:n}),f.jsx("h4",{className:"w-[14rem] text-zinc-500",children:"1d ago"}),f.jsx("h4",{className:"w-[8rem]",children:f.jsx(Ag,{className:de("flex w-16 items-center justify-center pointer-events-none select-none",r==="admin"&&"bg-red-200 text-red-800",r==="editor"&&"bg-blue-200 text-blue-800",r==="viewer"&&"bg-green-200 text-green-800"),children:OJ(r)})}),f.jsx("h4",{className:"w-[6rem]",children:f.jsx(Lie,{onDeleteAction:a,onResetPasswordAction:l,onUpdateRoleAction:e})})]})},Om=({field:t,placeholderText:e,register:n,message:r,isError:s,validate:i})=>{const[o,a]=m.useState(!1);return f.jsxs("div",{className:"relative",children:[f.jsx(un,{id:"password",className:de(s&&"border-destructive"),type:o?"text":"password",placeholder:e,...n(t,{required:r,minLength:{value:9,message:"Password must be atleast 9 characters"},validate:i})}),f.jsx(ct,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>a(l=>!l),"aria-label":o?"Hide password":"Show password",children:o?f.jsx(ED,{className:"h-4 w-4 text-gray-500"}):f.jsx(TD,{className:"h-4 w-4 text-gray-500"})})]})};var Kh=t=>t.type==="checkbox",ma=t=>t instanceof Date,Yn=t=>t==null;const LV=t=>typeof t=="object";var Qt=t=>!Yn(t)&&!Array.isArray(t)&&LV(t)&&!ma(t),jV=t=>Qt(t)&&t.target?Kh(t.target)?t.target.checked:t.target.value:t,Vie=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,VV=(t,e)=>t.has(Vie(e)),Fie=t=>{const e=t.constructor&&t.constructor.prototype;return Qt(e)&&e.hasOwnProperty("isPrototypeOf")},jT=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function tr(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(jT&&(t instanceof Blob||t instanceof FileList))&&(n||Qt(t)))if(e=n?[]:{},!n&&!Fie(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=tr(t[r]));else return t;return e}var hy=t=>Array.isArray(t)?t.filter(Boolean):[],Bt=t=>t===void 0,oe=(t,e,n)=>{if(!e||!Qt(t))return n;const r=hy(e.split(/[,[\].]+?/)).reduce((s,i)=>Yn(s)?s:s[i],t);return Bt(r)||r===t?Bt(t[e])?n:t[e]:r},kr=t=>typeof t=="boolean",VT=t=>/^\w*$/.test(t),FV=t=>hy(t.replace(/["|']|\]/g,"").split(/\.|\[/)),yt=(t,e,n)=>{let r=-1;const s=VT(e)?[e]:FV(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let l=n;if(r!==o){const c=t[a];l=Qt(c)||Array.isArray(c)?c:isNaN(+s[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const Lm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},es={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Us={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Uie=ze.createContext(null),FT=()=>ze.useContext(Uie);var UV=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==es.all&&(e._proxyFormState[o]=!r||es.all),n&&(n[o]=!0),t[o]}});return s},sr=t=>Qt(t)&&!Object.keys(t).length,BV=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return sr(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||es.all))},ud=t=>Array.isArray(t)?t:[t],$V=(t,e,n)=>!t||!e||t===e||ud(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function UT(t){const e=ze.useRef(t);e.current=t,ze.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function Bie(t){const e=FT(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,a]=ze.useState(n._formState),l=ze.useRef(!0),c=ze.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=ze.useRef(s);return u.current=s,UT({disabled:r,next:h=>l.current&&$V(u.current,h.name,i)&&BV(h,c.current,n._updateFormState)&&a({...n._formState,...h}),subject:n._subjects.state}),ze.useEffect(()=>(l.current=!0,c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),UV(o,n,c.current,!1)}var Es=t=>typeof t=="string",zV=(t,e,n,r,s)=>Es(t)?(r&&e.watch.add(t),oe(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),oe(n,i))):(r&&(e.watchAll=!0),n);function $ie(t){const e=FT(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o}=t||{},a=ze.useRef(r);a.current=r,UT({disabled:i,subject:n._subjects.values,next:u=>{$V(a.current,u.name,o)&&c(tr(zV(a.current,n._names,u.values||n._formValues,!1,s)))}});const[l,c]=ze.useState(n._getWatch(r,s));return ze.useEffect(()=>n._removeUnmounted()),l}function zie(t){const e=FT(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i}=t,o=VV(s._names.array,n),a=$ie({control:s,name:n,defaultValue:oe(s._formValues,n,oe(s._defaultValues,n,t.defaultValue)),exact:!0}),l=Bie({control:s,name:n,exact:!0}),c=ze.useRef(s.register(n,{...t.rules,value:a,...kr(t.disabled)?{disabled:t.disabled}:{}}));return ze.useEffect(()=>{const u=s._options.shouldUnregister||i,h=(p,g)=>{const w=oe(s._fields,p);w&&w._f&&(w._f.mount=g)};if(h(n,!0),u){const p=tr(oe(s._options.defaultValues,n));yt(s._defaultValues,n,p),Bt(oe(s._formValues,n))&&yt(s._formValues,n,p)}return()=>{(o?u&&!s._state.action:u)?s.unregister(n):h(n,!1)}},[n,s,o,i]),ze.useEffect(()=>{oe(s._fields,n)&&s._updateDisabledField({disabled:r,fields:s._fields,name:n,value:oe(s._fields,n)._f.value})},[r,n,s]),{field:{name:n,value:a,...kr(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:ze.useCallback(u=>c.current.onChange({target:{value:jV(u),name:n},type:Lm.CHANGE}),[n]),onBlur:ze.useCallback(()=>c.current.onBlur({target:{value:oe(s._formValues,n),name:n},type:Lm.BLUR}),[n,s]),ref:ze.useCallback(u=>{const h=oe(s._fields,n);h&&u&&(h._f.ref={focus:()=>u.focus(),select:()=>u.select(),setCustomValidity:p=>u.setCustomValidity(p),reportValidity:()=>u.reportValidity()})},[s._fields,n])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!oe(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!oe(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!oe(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!oe(l.validatingFields,n)},error:{enumerable:!0,get:()=>oe(l.errors,n)}})}}const Wie=t=>t.render(zie(t));var Kie=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},g1=t=>({isOnSubmit:!t||t===es.onSubmit,isOnBlur:t===es.onBlur,isOnChange:t===es.onChange,isOnAll:t===es.all,isOnTouch:t===es.onTouched}),y1=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const dd=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=oe(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(dd(a,e))break}else if(Qt(a)&&dd(a,e))break}}};var Hie=(t,e,n)=>{const r=ud(oe(t,n));return yt(r,"root",e[n]),yt(t,n,r),t},BT=t=>t.type==="file",Zs=t=>typeof t=="function",jm=t=>{if(!jT)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Rp=t=>Es(t),$T=t=>t.type==="radio",Vm=t=>t instanceof RegExp;const v1={value:!1,isValid:!1},w1={value:!0,isValid:!0};var WV=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Bt(t[0].attributes.value)?Bt(t[0].value)||t[0].value===""?w1:{value:t[0].value,isValid:!0}:w1:v1}return v1};const _1={isValid:!1,value:null};var KV=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,_1):_1;function x1(t,e,n="validate"){if(Rp(t)||Array.isArray(t)&&t.every(Rp)||kr(t)&&!t)return{type:n,message:Rp(t)?t:"",ref:e}}var fl=t=>Qt(t)&&!Vm(t)?t:{value:t,message:""},E1=async(t,e,n,r,s)=>{const{ref:i,refs:o,required:a,maxLength:l,minLength:c,min:u,max:h,pattern:p,validate:g,name:w,valueAsNumber:y,mount:E,disabled:_}=t._f,v=oe(e,w);if(!E||_)return{};const S=o?o[0]:i,P=k=>{r&&S.reportValidity&&(S.setCustomValidity(kr(k)?"":k||""),S.reportValidity())},A={},O=$T(i),C=Kh(i),T=O||C,R=(y||BT(i))&&Bt(i.value)&&Bt(v)||jm(i)&&i.value===""||v===""||Array.isArray(v)&&!v.length,I=Kie.bind(null,w,n,A),M=(k,D,H,ae=Us.maxLength,te=Us.minLength)=>{const ne=k?D:H;A[w]={type:k?ae:te,message:ne,ref:i,...I(k?ae:te,ne)}};if(s?!Array.isArray(v)||!v.length:a&&(!T&&(R||Yn(v))||kr(v)&&!v||C&&!WV(o).isValid||O&&!KV(o).isValid)){const{value:k,message:D}=Rp(a)?{value:!!a,message:a}:fl(a);if(k&&(A[w]={type:Us.required,message:D,ref:S,...I(Us.required,D)},!n))return P(D),A}if(!R&&(!Yn(u)||!Yn(h))){let k,D;const H=fl(h),ae=fl(u);if(!Yn(v)&&!isNaN(v)){const te=i.valueAsNumber||v&&+v;Yn(H.value)||(k=te>H.value),Yn(ae.value)||(D=te<ae.value)}else{const te=i.valueAsDate||new Date(v),ne=Z=>new Date(new Date().toDateString()+" "+Z),z=i.type=="time",B=i.type=="week";Es(H.value)&&v&&(k=z?ne(v)>ne(H.value):B?v>H.value:te>new Date(H.value)),Es(ae.value)&&v&&(D=z?ne(v)<ne(ae.value):B?v<ae.value:te<new Date(ae.value))}if((k||D)&&(M(!!k,H.message,ae.message,Us.max,Us.min),!n))return P(A[w].message),A}if((l||c)&&!R&&(Es(v)||s&&Array.isArray(v))){const k=fl(l),D=fl(c),H=!Yn(k.value)&&v.length>+k.value,ae=!Yn(D.value)&&v.length<+D.value;if((H||ae)&&(M(H,k.message,D.message),!n))return P(A[w].message),A}if(p&&!R&&Es(v)){const{value:k,message:D}=fl(p);if(Vm(k)&&!v.match(k)&&(A[w]={type:Us.pattern,message:D,ref:i,...I(Us.pattern,D)},!n))return P(D),A}if(g){if(Zs(g)){const k=await g(v,e),D=x1(k,S);if(D&&(A[w]={...D,...I(Us.validate,D.message)},!n))return P(D.message),A}else if(Qt(g)){let k={};for(const D in g){if(!sr(k)&&!n)break;const H=x1(await g[D](v,e),S,D);H&&(k={...H,...I(D,H.message)},P(H.message),n&&(A[w]=k))}if(!sr(k)&&(A[w]={ref:S,...k},!n))return A}}return P(!0),A};function Gie(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Bt(t)?r++:t[e[r++]];return t}function qie(t){for(const e in t)if(t.hasOwnProperty(e)&&!Bt(t[e]))return!1;return!0}function tn(t,e){const n=Array.isArray(e)?e:VT(e)?[e]:FV(e),r=n.length===1?t:Gie(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(Qt(r)&&sr(r)||Array.isArray(r)&&qie(r))&&tn(t,n.slice(0,-1)),t}var zv=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},e_=t=>Yn(t)||!LV(t);function Hi(t,e){if(e_(t)||e_(e))return t===e;if(ma(t)&&ma(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(ma(i)&&ma(o)||Qt(i)&&Qt(o)||Array.isArray(i)&&Array.isArray(o)?!Hi(i,o):i!==o)return!1}}return!0}var HV=t=>t.type==="select-multiple",Qie=t=>$T(t)||Kh(t),Wv=t=>jm(t)&&t.isConnected,GV=t=>{for(const e in t)if(Zs(t[e]))return!0;return!1};function Fm(t,e={}){const n=Array.isArray(t);if(Qt(t)||n)for(const r in t)Array.isArray(t[r])||Qt(t[r])&&!GV(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Fm(t[r],e[r])):Yn(t[r])||(e[r]=!0);return e}function qV(t,e,n){const r=Array.isArray(t);if(Qt(t)||r)for(const s in t)Array.isArray(t[s])||Qt(t[s])&&!GV(t[s])?Bt(e)||e_(n[s])?n[s]=Array.isArray(t[s])?Fm(t[s],[]):{...Fm(t[s])}:qV(t[s],Yn(e)?{}:e[s],n[s]):n[s]=!Hi(t[s],e[s]);return n}var Pu=(t,e)=>qV(t,e,Fm(e)),QV=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Bt(t)?t:e?t===""?NaN:t&&+t:n&&Es(t)?new Date(t):r?r(t):t;function Kv(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return BT(e)?e.files:$T(e)?KV(t.refs).value:HV(e)?[...e.selectedOptions].map(({value:n})=>n):Kh(e)?WV(t.refs).value:QV(Bt(e.value)?t.ref.value:e.value,t)}var Yie=(t,e,n,r)=>{const s={};for(const i of t){const o=oe(e,i);o&&yt(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Ru=t=>Bt(t)?t:Vm(t)?t.source:Qt(t)?Vm(t.value)?t.value.source:t.value:t;const T1="AsyncFunction";var Xie=t=>(!t||!t.validate)&&!!(Zs(t.validate)&&t.validate.constructor.name===T1||Qt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===T1)),Jie=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function S1(t,e,n){const r=oe(t,n);if(r||VT(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=oe(e,i),a=oe(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var Zie=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,eoe=(t,e)=>!hy(oe(t,e)).length&&tn(t,e);const toe={mode:es.onSubmit,reValidateMode:es.onChange,shouldFocusError:!0};function noe(t={}){let e={...toe,...t},n={submitCount:0,isDirty:!1,isLoading:Zs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=Qt(e.defaultValues)||Qt(e.values)?tr(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:tr(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:zv(),array:zv(),state:zv()},p=g1(e.mode),g=g1(e.reValidateMode),w=e.criteriaMode===es.all,y=L=>$=>{clearTimeout(c),c=setTimeout(L,$)},E=async L=>{if(!t.disabled&&(u.isValid||L)){const $=e.resolver?sr((await T()).errors):await I(r,!0);$!==n.isValid&&h.state.next({isValid:$})}},_=(L,$)=>{!t.disabled&&(u.isValidating||u.validatingFields)&&((L||Array.from(a.mount)).forEach(G=>{G&&($?yt(n.validatingFields,G,$):tn(n.validatingFields,G))}),h.state.next({validatingFields:n.validatingFields,isValidating:!sr(n.validatingFields)}))},v=(L,$=[],G,le,re=!0,J=!0)=>{if(le&&G&&!t.disabled){if(o.action=!0,J&&Array.isArray(oe(r,L))){const Ee=G(oe(r,L),le.argA,le.argB);re&&yt(r,L,Ee)}if(J&&Array.isArray(oe(n.errors,L))){const Ee=G(oe(n.errors,L),le.argA,le.argB);re&&yt(n.errors,L,Ee),eoe(n.errors,L)}if(u.touchedFields&&J&&Array.isArray(oe(n.touchedFields,L))){const Ee=G(oe(n.touchedFields,L),le.argA,le.argB);re&&yt(n.touchedFields,L,Ee)}u.dirtyFields&&(n.dirtyFields=Pu(s,i)),h.state.next({name:L,isDirty:k(L,$),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else yt(i,L,$)},S=(L,$)=>{yt(n.errors,L,$),h.state.next({errors:n.errors})},P=L=>{n.errors=L,h.state.next({errors:n.errors,isValid:!1})},A=(L,$,G,le)=>{const re=oe(r,L);if(re){const J=oe(i,L,Bt(G)?oe(s,L):G);Bt(J)||le&&le.defaultChecked||$?yt(i,L,$?J:Kv(re._f)):ae(L,J),o.mount&&E()}},O=(L,$,G,le,re)=>{let J=!1,Ee=!1;const Oe={name:L};if(!t.disabled){const Le=!!(oe(r,L)&&oe(r,L)._f&&oe(r,L)._f.disabled);if(!G||le){u.isDirty&&(Ee=n.isDirty,n.isDirty=Oe.isDirty=k(),J=Ee!==Oe.isDirty);const Ue=Le||Hi(oe(s,L),$);Ee=!!(!Le&&oe(n.dirtyFields,L)),Ue||Le?tn(n.dirtyFields,L):yt(n.dirtyFields,L,!0),Oe.dirtyFields=n.dirtyFields,J=J||u.dirtyFields&&Ee!==!Ue}if(G){const Ue=oe(n.touchedFields,L);Ue||(yt(n.touchedFields,L,G),Oe.touchedFields=n.touchedFields,J=J||u.touchedFields&&Ue!==G)}J&&re&&h.state.next(Oe)}return J?Oe:{}},C=(L,$,G,le)=>{const re=oe(n.errors,L),J=u.isValid&&kr($)&&n.isValid!==$;if(t.delayError&&G?(l=y(()=>S(L,G)),l(t.delayError)):(clearTimeout(c),l=null,G?yt(n.errors,L,G):tn(n.errors,L)),(G?!Hi(re,G):re)||!sr(le)||J){const Ee={...le,...J&&kr($)?{isValid:$}:{},errors:n.errors,name:L};n={...n,...Ee},h.state.next(Ee)}},T=async L=>{_(L,!0);const $=await e.resolver(i,e.context,Yie(L||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return _(L),$},R=async L=>{const{errors:$}=await T(L);if(L)for(const G of L){const le=oe($,G);le?yt(n.errors,G,le):tn(n.errors,G)}else n.errors=$;return $},I=async(L,$,G={valid:!0})=>{for(const le in L){const re=L[le];if(re){const{_f:J,...Ee}=re;if(J){const Oe=a.array.has(J.name),Le=re._f&&Xie(re._f);Le&&u.validatingFields&&_([le],!0);const Ue=await E1(re,i,w,e.shouldUseNativeValidation&&!$,Oe);if(Le&&u.validatingFields&&_([le]),Ue[J.name]&&(G.valid=!1,$))break;!$&&(oe(Ue,J.name)?Oe?Hie(n.errors,Ue,J.name):yt(n.errors,J.name,Ue[J.name]):tn(n.errors,J.name))}!sr(Ee)&&await I(Ee,$,G)}}return G.valid},M=()=>{for(const L of a.unMount){const $=oe(r,L);$&&($._f.refs?$._f.refs.every(G=>!Wv(G)):!Wv($._f.ref))&&Ke(L)}a.unMount=new Set},k=(L,$)=>!t.disabled&&(L&&$&&yt(i,L,$),!Hi(pe(),s)),D=(L,$,G)=>zV(L,a,{...o.mount?i:Bt($)?s:Es(L)?{[L]:$}:$},G,$),H=L=>hy(oe(o.mount?i:s,L,t.shouldUnregister?oe(s,L,[]):[])),ae=(L,$,G={})=>{const le=oe(r,L);let re=$;if(le){const J=le._f;J&&(!J.disabled&&yt(i,L,QV($,J)),re=jm(J.ref)&&Yn($)?"":$,HV(J.ref)?[...J.ref.options].forEach(Ee=>Ee.selected=re.includes(Ee.value)):J.refs?Kh(J.ref)?J.refs.length>1?J.refs.forEach(Ee=>(!Ee.defaultChecked||!Ee.disabled)&&(Ee.checked=Array.isArray(re)?!!re.find(Oe=>Oe===Ee.value):re===Ee.value)):J.refs[0]&&(J.refs[0].checked=!!re):J.refs.forEach(Ee=>Ee.checked=Ee.value===re):BT(J.ref)?J.ref.value="":(J.ref.value=re,J.ref.type||h.values.next({name:L,values:{...i}})))}(G.shouldDirty||G.shouldTouch)&&O(L,re,G.shouldTouch,G.shouldDirty,!0),G.shouldValidate&&Z(L)},te=(L,$,G)=>{for(const le in $){const re=$[le],J=`${L}.${le}`,Ee=oe(r,J);(a.array.has(L)||Qt(re)||Ee&&!Ee._f)&&!ma(re)?te(J,re,G):ae(J,re,G)}},ne=(L,$,G={})=>{const le=oe(r,L),re=a.array.has(L),J=tr($);yt(i,L,J),re?(h.array.next({name:L,values:{...i}}),(u.isDirty||u.dirtyFields)&&G.shouldDirty&&h.state.next({name:L,dirtyFields:Pu(s,i),isDirty:k(L,J)})):le&&!le._f&&!Yn(J)?te(L,J,G):ae(L,J,G),y1(L,a)&&h.state.next({...n}),h.values.next({name:o.mount?L:void 0,values:{...i}})},z=async L=>{o.mount=!0;const $=L.target;let G=$.name,le=!0;const re=oe(r,G),J=()=>$.type?Kv(re._f):jV(L),Ee=Oe=>{le=Number.isNaN(Oe)||ma(Oe)&&isNaN(Oe.getTime())||Hi(Oe,oe(i,G,Oe))};if(re){let Oe,Le;const Ue=J(),Bn=L.type===Lm.BLUR||L.type===Lm.FOCUS_OUT,Ti=!Jie(re._f)&&!e.resolver&&!oe(n.errors,G)&&!re._f.deps||Zie(Bn,oe(n.touchedFields,G),n.isSubmitted,g,p),$n=y1(G,a,Bn);yt(i,G,Ue),Bn?(re._f.onBlur&&re._f.onBlur(L),l&&l(0)):re._f.onChange&&re._f.onChange(L);const zn=O(G,Ue,Bn,!1),us=!sr(zn)||$n;if(!Bn&&h.values.next({name:G,type:L.type,values:{...i}}),Ti)return u.isValid&&(t.mode==="onBlur"?Bn&&E():E()),us&&h.state.next({name:G,...$n?{}:zn});if(!Bn&&$n&&h.state.next({...n}),e.resolver){const{errors:ds}=await T([G]);if(Ee(Ue),le){const el=S1(n.errors,r,G),Wn=S1(ds,r,el.name||G);Oe=Wn.error,G=Wn.name,Le=sr(ds)}}else _([G],!0),Oe=(await E1(re,i,w,e.shouldUseNativeValidation))[G],_([G]),Ee(Ue),le&&(Oe?Le=!1:u.isValid&&(Le=await I(r,!0)));le&&(re._f.deps&&Z(re._f.deps),C(G,Le,Oe,zn))}},B=(L,$)=>{if(oe(n.errors,$)&&L.focus)return L.focus(),1},Z=async(L,$={})=>{let G,le;const re=ud(L);if(e.resolver){const J=await R(Bt(L)?L:re);G=sr(J),le=L?!re.some(Ee=>oe(J,Ee)):G}else L?(le=(await Promise.all(re.map(async J=>{const Ee=oe(r,J);return await I(Ee&&Ee._f?{[J]:Ee}:Ee)}))).every(Boolean),!(!le&&!n.isValid)&&E()):le=G=await I(r);return h.state.next({...!Es(L)||u.isValid&&G!==n.isValid?{}:{name:L},...e.resolver||!L?{isValid:G}:{},errors:n.errors}),$.shouldFocus&&!le&&dd(r,B,L?re:a.mount),le},pe=L=>{const $={...o.mount?i:s};return Bt(L)?$:Es(L)?oe($,L):L.map(G=>oe($,G))},Te=(L,$)=>({invalid:!!oe(($||n).errors,L),isDirty:!!oe(($||n).dirtyFields,L),error:oe(($||n).errors,L),isValidating:!!oe(n.validatingFields,L),isTouched:!!oe(($||n).touchedFields,L)}),Re=L=>{L&&ud(L).forEach($=>tn(n.errors,$)),h.state.next({errors:L?n.errors:{}})},Ye=(L,$,G)=>{const le=(oe(r,L,{_f:{}})._f||{}).ref,re=oe(n.errors,L)||{},{ref:J,message:Ee,type:Oe,...Le}=re;yt(n.errors,L,{...Le,...$,ref:le}),h.state.next({name:L,errors:n.errors,isValid:!1}),G&&G.shouldFocus&&le&&le.focus&&le.focus()},mt=(L,$)=>Zs(L)?h.values.subscribe({next:G=>L(D(void 0,$),G)}):D(L,$,!0),Ke=(L,$={})=>{for(const G of L?ud(L):a.mount)a.mount.delete(G),a.array.delete(G),$.keepValue||(tn(r,G),tn(i,G)),!$.keepError&&tn(n.errors,G),!$.keepDirty&&tn(n.dirtyFields,G),!$.keepTouched&&tn(n.touchedFields,G),!$.keepIsValidating&&tn(n.validatingFields,G),!e.shouldUnregister&&!$.keepDefaultValue&&tn(s,G);h.values.next({values:{...i}}),h.state.next({...n,...$.keepDirty?{isDirty:k()}:{}}),!$.keepIsValid&&E()},ce=({disabled:L,name:$,field:G,fields:le,value:re})=>{if(kr(L)&&o.mount||L){const J=L?void 0:Bt(re)?Kv(G?G._f:oe(le,$)._f):re;yt(i,$,J),O($,J,!1,!1,!0)}},je=(L,$={})=>{let G=oe(r,L);const le=kr($.disabled)||kr(t.disabled);return yt(r,L,{...G||{},_f:{...G&&G._f?G._f:{ref:{name:L}},name:L,mount:!0,...$}}),a.mount.add(L),G?ce({field:G,disabled:kr($.disabled)?$.disabled:t.disabled,name:L,value:$.value}):A(L,!0,$.value),{...le?{disabled:$.disabled||t.disabled}:{},...e.progressive?{required:!!$.required,min:Ru($.min),max:Ru($.max),minLength:Ru($.minLength),maxLength:Ru($.maxLength),pattern:Ru($.pattern)}:{},name:L,onChange:z,onBlur:z,ref:re=>{if(re){je(L,$),G=oe(r,L);const J=Bt(re.value)&&re.querySelectorAll&&re.querySelectorAll("input,select,textarea")[0]||re,Ee=Qie(J),Oe=G._f.refs||[];if(Ee?Oe.find(Le=>Le===J):J===G._f.ref)return;yt(r,L,{_f:{...G._f,...Ee?{refs:[...Oe.filter(Wv),J,...Array.isArray(oe(s,L))?[{}]:[]],ref:{type:J.type,name:L}}:{ref:J}}}),A(L,!1,void 0,J)}else G=oe(r,L,{}),G._f&&(G._f.mount=!1),(e.shouldUnregister||$.shouldUnregister)&&!(VV(a.array,L)&&o.action)&&a.unMount.add(L)}}},rt=()=>e.shouldFocusError&&dd(r,B,a.mount),Ve=L=>{kr(L)&&(h.state.next({disabled:L}),dd(r,($,G)=>{const le=oe(r,G);le&&($.disabled=le._f.disabled||L,Array.isArray(le._f.refs)&&le._f.refs.forEach(re=>{re.disabled=le._f.disabled||L}))},0,!1))},$e=(L,$)=>async G=>{let le;G&&(G.preventDefault&&G.preventDefault(),G.persist&&G.persist());let re=tr(i);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:J,values:Ee}=await T();n.errors=J,re=Ee}else await I(r);if(tn(n.errors,"root"),sr(n.errors)){h.state.next({errors:{}});try{await L(re,G)}catch(J){le=J}}else $&&await $({...n.errors},G),rt(),setTimeout(rt);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:sr(n.errors)&&!le,submitCount:n.submitCount+1,errors:n.errors}),le)throw le},Ge=(L,$={})=>{oe(r,L)&&(Bt($.defaultValue)?ne(L,tr(oe(s,L))):(ne(L,$.defaultValue),yt(s,L,tr($.defaultValue))),$.keepTouched||tn(n.touchedFields,L),$.keepDirty||(tn(n.dirtyFields,L),n.isDirty=$.defaultValue?k(L,tr(oe(s,L))):k()),$.keepError||(tn(n.errors,L),u.isValid&&E()),h.state.next({...n}))},jt=(L,$={})=>{const G=L?tr(L):s,le=tr(G),re=sr(L),J=re?s:le;if($.keepDefaultValues||(s=G),!$.keepValues){if($.keepDirtyValues){const Ee=new Set([...a.mount,...Object.keys(Pu(s,i))]);for(const Oe of Array.from(Ee))oe(n.dirtyFields,Oe)?yt(J,Oe,oe(i,Oe)):ne(Oe,oe(J,Oe))}else{if(jT&&Bt(L))for(const Ee of a.mount){const Oe=oe(r,Ee);if(Oe&&Oe._f){const Le=Array.isArray(Oe._f.refs)?Oe._f.refs[0]:Oe._f.ref;if(jm(Le)){const Ue=Le.closest("form");if(Ue){Ue.reset();break}}}}r={}}i=t.shouldUnregister?$.keepDefaultValues?tr(s):{}:tr(J),h.array.next({values:{...J}}),h.values.next({values:{...J}})}a={mount:$.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!$.keepIsValid||!!$.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:$.keepSubmitCount?n.submitCount:0,isDirty:re?!1:$.keepDirty?n.isDirty:!!($.keepDefaultValues&&!Hi(L,s)),isSubmitted:$.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:re?{}:$.keepDirtyValues?$.keepDefaultValues&&i?Pu(s,i):n.dirtyFields:$.keepDefaultValues&&L?Pu(s,L):$.keepDirty?n.dirtyFields:{},touchedFields:$.keepTouched?n.touchedFields:{},errors:$.keepErrors?n.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},st=(L,$)=>jt(Zs(L)?L(i):L,$);return{control:{register:je,unregister:Ke,getFieldState:Te,handleSubmit:$e,setError:Ye,_executeSchema:T,_getWatch:D,_getDirty:k,_updateValid:E,_removeUnmounted:M,_updateFieldArray:v,_updateDisabledField:ce,_getFieldArray:H,_reset:jt,_resetDefaultValues:()=>Zs(e.defaultValues)&&e.defaultValues().then(L=>{st(L,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:L=>{n={...n,...L}},_disableForm:Ve,_subjects:h,_proxyFormState:u,_setErrors:P,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(L){o=L},get _defaultValues(){return s},get _names(){return a},set _names(L){a=L},get _formState(){return n},set _formState(L){n=L},get _options(){return e},set _options(L){e={...e,...L}}},trigger:Z,register:je,handleSubmit:$e,watch:mt,setValue:ne,getValues:pe,reset:st,resetField:Ge,clearErrors:Re,unregister:Ke,setError:Ye,setFocus:(L,$={})=>{const G=oe(r,L),le=G&&G._f;if(le){const re=le.refs?le.refs[0]:le.ref;re.focus&&(re.focus(),$.shouldSelect&&re.select())}},getFieldState:Te}}function YV(t={}){const e=ze.useRef(),n=ze.useRef(),[r,s]=ze.useState({isDirty:!1,isValidating:!1,isLoading:Zs(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Zs(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...noe(t),formState:r});const i=e.current.control;return i._options=t,UT({subject:i._subjects.state,next:o=>{BV(o,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),ze.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),ze.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),ze.useEffect(()=>{t.values&&!Hi(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),ze.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),ze.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),ze.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),ze.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=UV(r,i),e.current}function b1(t,[e,n]){return Math.min(n,Math.max(e,t))}function roe(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=h=>{var _;const{scope:p,children:g,...w}=h,y=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,E=m.useMemo(()=>w,Object.values(w));return f.jsx(y.Provider,{value:E,children:g})};c.displayName=i+"Provider";function u(h,p){var y;const g=((y=p==null?void 0:p[t])==null?void 0:y[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,soe(s,...e)]}function soe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var ioe="DismissableLayer",t_="dismissableLayer.update",ooe="dismissableLayer.pointerDownOutside",aoe="dismissableLayer.focusOutside",C1,XV=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),JV=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(XV),[u,h]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=ke(e,C=>h(C)),y=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=y.indexOf(E),v=u?y.indexOf(u):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,P=v>=_,A=uoe(C=>{const T=C.target,R=[...c.branches].some(I=>I.contains(T));!P||R||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),O=doe(C=>{const T=C.target;[...c.branches].some(I=>I.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return Ch(C=>{v===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(C1=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),P1(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=C1)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),P1())},[u,c]),m.useEffect(()=>{const C=()=>g({});return document.addEventListener(t_,C),()=>document.removeEventListener(t_,C)},[]),f.jsx(xe.div,{...l,ref:w,style:{pointerEvents:S?P?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,A.onPointerDownCapture)})});JV.displayName=ioe;var loe="DismissableLayerBranch",coe=m.forwardRef((t,e)=>{const n=m.useContext(XV),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(xe.div,{...t,ref:s})});coe.displayName=loe;function uoe(t,e=globalThis==null?void 0:globalThis.document){const n=At(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){ZV(ooe,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function doe(t,e=globalThis==null?void 0:globalThis.document){const n=At(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&ZV(aoe,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function P1(){const t=new CustomEvent(t_);document.dispatchEvent(t)}function ZV(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?qa(s,i):s.dispatchEvent(i)}var hoe="Portal",eF=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Pt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?gh.createPortal(f.jsx(xe.div,{...r,ref:e}),o):null});eF.displayName=hoe;function foe(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var poe=[" ","Enter","ArrowUp","ArrowDown"],moe=[" ","Enter"],Hh="Select",[fy,py,goe]=yg(Hh),[Jc,vle]=roe(Hh,[goe,$c]),my=$c(),[yoe,Wo]=Jc(Hh),[voe,woe]=Jc(Hh),tF=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:h,disabled:p,required:g,form:w}=t,y=my(e),[E,_]=m.useState(null),[v,S]=m.useState(null),[P,A]=m.useState(!1),O=vg(c),[C=!1,T]=So({prop:r,defaultProp:s,onChange:i}),[R,I]=So({prop:o,defaultProp:a,onChange:l}),M=m.useRef(null),k=E?w||!!E.closest("form"):!0,[D,H]=m.useState(new Set),ae=Array.from(D).map(te=>te.props.value).join(";");return f.jsx(Nx,{...y,children:f.jsxs(yoe,{required:g,scope:e,trigger:E,onTriggerChange:_,valueNode:v,onValueNodeChange:S,valueNodeHasChildren:P,onValueNodeHasChildrenChange:A,contentId:ss(),value:R,onValueChange:I,open:C,onOpenChange:T,dir:O,triggerPointerDownPosRef:M,disabled:p,children:[f.jsx(fy.Provider,{scope:e,children:f.jsx(voe,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(te=>{H(ne=>new Set(ne).add(te))},[]),onNativeOptionRemove:m.useCallback(te=>{H(ne=>{const z=new Set(ne);return z.delete(te),z})},[]),children:n})}),k?f.jsxs(PF,{"aria-hidden":!0,required:g,tabIndex:-1,name:u,autoComplete:h,value:R,onChange:te=>I(te.target.value),disabled:p,form:w,children:[R===void 0?f.jsx("option",{value:""}):null,Array.from(D)]},ae):null]})})};tF.displayName=Hh;var nF="SelectTrigger",rF=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=my(n),o=Wo(nF,n),a=o.disabled||r,l=ke(e,o.onTriggerChange),c=py(n),u=m.useRef("touch"),[h,p,g]=RF(y=>{const E=c().filter(S=>!S.disabled),_=E.find(S=>S.value===o.value),v=IF(E,y,_);v!==void 0&&o.onValueChange(v.value)}),w=y=>{a||(o.onOpenChange(!0),g()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return f.jsx(Dx,{asChild:!0,...i,children:f.jsx(xe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":CF(o.value)?"":void 0,...s,ref:l,onClick:ee(s.onClick,y=>{y.currentTarget.focus(),u.current!=="mouse"&&w(y)}),onPointerDown:ee(s.onPointerDown,y=>{u.current=y.pointerType;const E=y.target;E.hasPointerCapture(y.pointerId)&&E.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(w(y),y.preventDefault())}),onKeyDown:ee(s.onKeyDown,y=>{const E=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&p(y.key),!(E&&y.key===" ")&&poe.includes(y.key)&&(w(),y.preventDefault())})})})});rF.displayName=nF;var sF="SelectValue",iF=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Wo(sF,n),{onValueNodeHasChildrenChange:c}=l,u=i!==void 0,h=ke(e,l.onValueNodeChange);return Pt(()=>{c(u)},[c,u]),f.jsx(xe.span,{...a,ref:h,style:{pointerEvents:"none"},children:CF(l.value)?f.jsx(f.Fragment,{children:o}):i})});iF.displayName=sF;var _oe="SelectIcon",oF=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return f.jsx(xe.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});oF.displayName=_oe;var xoe="SelectPortal",aF=t=>f.jsx(eF,{asChild:!0,...t});aF.displayName=xoe;var Wa="SelectContent",lF=m.forwardRef((t,e)=>{const n=Wo(Wa,t.__scopeSelect),[r,s]=m.useState();if(Pt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?xi.createPortal(f.jsx(cF,{scope:t.__scopeSelect,children:f.jsx(fy.Slot,{scope:t.__scopeSelect,children:f.jsx("div",{children:t.children})})}),i):null}return f.jsx(uF,{...t,ref:e})});lF.displayName=Wa;var Gr=10,[cF,Ko]=Jc(Wa),Eoe="SelectContentImpl",uF=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:p,collisionPadding:g,sticky:w,hideWhenDetached:y,avoidCollisions:E,..._}=t,v=Wo(Wa,n),[S,P]=m.useState(null),[A,O]=m.useState(null),C=ke(e,ce=>P(ce)),[T,R]=m.useState(null),[I,M]=m.useState(null),k=py(n),[D,H]=m.useState(!1),ae=m.useRef(!1);m.useEffect(()=>{if(S)return Ox(S)},[S]),Ex();const te=m.useCallback(ce=>{const[je,...rt]=k().map(Ge=>Ge.ref.current),[Ve]=rt.slice(-1),$e=document.activeElement;for(const Ge of ce)if(Ge===$e||(Ge==null||Ge.scrollIntoView({block:"nearest"}),Ge===je&&A&&(A.scrollTop=0),Ge===Ve&&A&&(A.scrollTop=A.scrollHeight),Ge==null||Ge.focus(),document.activeElement!==$e))return},[k,A]),ne=m.useCallback(()=>te([T,S]),[te,T,S]);m.useEffect(()=>{D&&ne()},[D,ne]);const{onOpenChange:z,triggerPointerDownPosRef:B}=v;m.useEffect(()=>{if(S){let ce={x:0,y:0};const je=Ve=>{var $e,Ge;ce={x:Math.abs(Math.round(Ve.pageX)-((($e=B.current)==null?void 0:$e.x)??0)),y:Math.abs(Math.round(Ve.pageY)-(((Ge=B.current)==null?void 0:Ge.y)??0))}},rt=Ve=>{ce.x<=10&&ce.y<=10?Ve.preventDefault():S.contains(Ve.target)||z(!1),document.removeEventListener("pointermove",je),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",je),document.addEventListener("pointerup",rt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",je),document.removeEventListener("pointerup",rt,{capture:!0})}}},[S,z,B]),m.useEffect(()=>{const ce=()=>z(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[z]);const[Z,pe]=RF(ce=>{const je=k().filter($e=>!$e.disabled),rt=je.find($e=>$e.ref.current===document.activeElement),Ve=IF(je,ce,rt);Ve&&setTimeout(()=>Ve.ref.current.focus())}),Te=m.useCallback((ce,je,rt)=>{const Ve=!ae.current&&!rt;(v.value!==void 0&&v.value===je||Ve)&&(R(ce),Ve&&(ae.current=!0))},[v.value]),Re=m.useCallback(()=>S==null?void 0:S.focus(),[S]),Ye=m.useCallback((ce,je,rt)=>{const Ve=!ae.current&&!rt;(v.value!==void 0&&v.value===je||Ve)&&M(ce)},[v.value]),mt=r==="popper"?n_:dF,Ke=mt===n_?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:p,collisionPadding:g,sticky:w,hideWhenDetached:y,avoidCollisions:E}:{};return f.jsx(cF,{scope:n,content:S,viewport:A,onViewportChange:O,itemRefCallback:Te,selectedItem:T,onItemLeave:Re,itemTextRefCallback:Ye,focusSelectedItem:ne,selectedItemText:I,position:r,isPositioned:D,searchRef:Z,children:f.jsx(Cg,{as:bo,allowPinchZoom:!0,children:f.jsx(wg,{asChild:!0,trapped:v.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:ee(s,ce=>{var je;(je=v.trigger)==null||je.focus({preventScroll:!0}),ce.preventDefault()}),children:f.jsx(JV,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:f.jsx(mt,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:ce=>ce.preventDefault(),..._,...Ke,onPlaced:()=>H(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:ee(_.onKeyDown,ce=>{const je=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!je&&ce.key.length===1&&pe(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let Ve=k().filter($e=>!$e.disabled).map($e=>$e.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(Ve=Ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const $e=ce.target,Ge=Ve.indexOf($e);Ve=Ve.slice(Ge+1)}setTimeout(()=>te(Ve)),ce.preventDefault()}})})})})})})});uF.displayName=Eoe;var Toe="SelectItemAlignedPosition",dF=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Wo(Wa,n),o=Ko(Wa,n),[a,l]=m.useState(null),[c,u]=m.useState(null),h=ke(e,C=>u(C)),p=py(n),g=m.useRef(!1),w=m.useRef(!0),{viewport:y,selectedItem:E,selectedItemText:_,focusSelectedItem:v}=o,S=m.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&y&&E&&_){const C=i.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),R=i.valueNode.getBoundingClientRect(),I=_.getBoundingClientRect();if(i.dir!=="rtl"){const $e=I.left-T.left,Ge=R.left-$e,jt=C.left-Ge,st=C.width+jt,pn=Math.max(st,T.width),Cr=window.innerWidth-Gr,cs=b1(Ge,[Gr,Math.max(Gr,Cr-pn)]);a.style.minWidth=st+"px",a.style.left=cs+"px"}else{const $e=T.right-I.right,Ge=window.innerWidth-R.right-$e,jt=window.innerWidth-C.right-Ge,st=C.width+jt,pn=Math.max(st,T.width),Cr=window.innerWidth-Gr,cs=b1(Ge,[Gr,Math.max(Gr,Cr-pn)]);a.style.minWidth=st+"px",a.style.right=cs+"px"}const M=p(),k=window.innerHeight-Gr*2,D=y.scrollHeight,H=window.getComputedStyle(c),ae=parseInt(H.borderTopWidth,10),te=parseInt(H.paddingTop,10),ne=parseInt(H.borderBottomWidth,10),z=parseInt(H.paddingBottom,10),B=ae+te+D+z+ne,Z=Math.min(E.offsetHeight*5,B),pe=window.getComputedStyle(y),Te=parseInt(pe.paddingTop,10),Re=parseInt(pe.paddingBottom,10),Ye=C.top+C.height/2-Gr,mt=k-Ye,Ke=E.offsetHeight/2,ce=E.offsetTop+Ke,je=ae+te+ce,rt=B-je;if(je<=Ye){const $e=M.length>0&&E===M[M.length-1].ref.current;a.style.bottom="0px";const Ge=c.clientHeight-y.offsetTop-y.offsetHeight,jt=Math.max(mt,Ke+($e?Re:0)+Ge+ne),st=je+jt;a.style.height=st+"px"}else{const $e=M.length>0&&E===M[0].ref.current;a.style.top="0px";const jt=Math.max(Ye,ae+y.offsetTop+($e?Te:0)+Ke)+rt;a.style.height=jt+"px",y.scrollTop=je-Ye+y.offsetTop}a.style.margin=`${Gr}px 0`,a.style.minHeight=Z+"px",a.style.maxHeight=k+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[p,i.trigger,i.valueNode,a,c,y,E,_,i.dir,r]);Pt(()=>S(),[S]);const[P,A]=m.useState();Pt(()=>{c&&A(window.getComputedStyle(c).zIndex)},[c]);const O=m.useCallback(C=>{C&&w.current===!0&&(S(),v==null||v(),w.current=!1)},[S,v]);return f.jsx(boe,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:O,children:f.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:f.jsx(xe.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});dF.displayName=Toe;var Soe="SelectPopperPosition",n_=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Gr,...i}=t,o=my(n);return f.jsx(kx,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});n_.displayName=Soe;var[boe,zT]=Jc(Wa,{}),r_="SelectViewport",hF=m.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Ko(r_,n),o=zT(r_,n),a=ke(e,i.onViewportChange),l=m.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),f.jsx(fy.Slot,{scope:n,children:f.jsx(xe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ee(s.onScroll,c=>{const u=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&h){const g=Math.abs(l.current-u.scrollTop);if(g>0){const w=window.innerHeight-Gr*2,y=parseFloat(h.style.minHeight),E=parseFloat(h.style.height),_=Math.max(y,E);if(_<w){const v=_+g,S=Math.min(w,v),P=v-S;h.style.height=S+"px",h.style.bottom==="0px"&&(u.scrollTop=P>0?P:0,h.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});hF.displayName=r_;var fF="SelectGroup",[Coe,Poe]=Jc(fF),pF=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ss();return f.jsx(Coe,{scope:n,id:s,children:f.jsx(xe.div,{role:"group","aria-labelledby":s,...r,ref:e})})});pF.displayName=fF;var mF="SelectLabel",gF=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Poe(mF,n);return f.jsx(xe.div,{id:s.id,...r,ref:e})});gF.displayName=mF;var Um="SelectItem",[Roe,yF]=Jc(Um),vF=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Wo(Um,n),l=Ko(Um,n),c=a.value===r,[u,h]=m.useState(i??""),[p,g]=m.useState(!1),w=ke(e,v=>{var S;return(S=l.itemRefCallback)==null?void 0:S.call(l,v,r,s)}),y=ss(),E=m.useRef("touch"),_=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(Roe,{scope:n,value:r,disabled:s,textId:y,isSelected:c,onItemTextChange:m.useCallback(v=>{h(S=>S||((v==null?void 0:v.textContent)??"").trim())},[]),children:f.jsx(fy.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:f.jsx(xe.div,{role:"option","aria-labelledby":y,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:w,onFocus:ee(o.onFocus,()=>g(!0)),onBlur:ee(o.onBlur,()=>g(!1)),onClick:ee(o.onClick,()=>{E.current!=="mouse"&&_()}),onPointerUp:ee(o.onPointerUp,()=>{E.current==="mouse"&&_()}),onPointerDown:ee(o.onPointerDown,v=>{E.current=v.pointerType}),onPointerMove:ee(o.onPointerMove,v=>{var S;E.current=v.pointerType,s?(S=l.onItemLeave)==null||S.call(l):E.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ee(o.onPointerLeave,v=>{var S;v.currentTarget===document.activeElement&&((S=l.onItemLeave)==null||S.call(l))}),onKeyDown:ee(o.onKeyDown,v=>{var P;((P=l.searchRef)==null?void 0:P.current)!==""&&v.key===" "||(moe.includes(v.key)&&_(),v.key===" "&&v.preventDefault())})})})})});vF.displayName=Um;var $u="SelectItemText",wF=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Wo($u,n),a=Ko($u,n),l=yF($u,n),c=woe($u,n),[u,h]=m.useState(null),p=ke(e,_=>h(_),l.onItemTextChange,_=>{var v;return(v=a.itemTextRefCallback)==null?void 0:v.call(a,_,l.value,l.disabled)}),g=u==null?void 0:u.textContent,w=m.useMemo(()=>f.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:E}=c;return Pt(()=>(y(w),()=>E(w)),[y,E,w]),f.jsxs(f.Fragment,{children:[f.jsx(xe.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?xi.createPortal(i.children,o.valueNode):null]})});wF.displayName=$u;var _F="SelectItemIndicator",xF=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return yF(_F,n).isSelected?f.jsx(xe.span,{"aria-hidden":!0,...r,ref:e}):null});xF.displayName=_F;var s_="SelectScrollUpButton",EF=m.forwardRef((t,e)=>{const n=Ko(s_,t.__scopeSelect),r=zT(s_,t.__scopeSelect),[s,i]=m.useState(!1),o=ke(e,r.onScrollButtonChange);return Pt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?f.jsx(SF,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});EF.displayName=s_;var i_="SelectScrollDownButton",TF=m.forwardRef((t,e)=>{const n=Ko(i_,t.__scopeSelect),r=zT(i_,t.__scopeSelect),[s,i]=m.useState(!1),o=ke(e,r.onScrollButtonChange);return Pt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?f.jsx(SF,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});TF.displayName=i_;var SF=m.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Ko("SelectScrollButton",n),o=m.useRef(null),a=py(n),l=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>l(),[l]),Pt(()=>{var u;const c=a().find(h=>h.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),f.jsx(xe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ee(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ee(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ee(s.onPointerLeave,()=>{l()})})}),Ioe="SelectSeparator",bF=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return f.jsx(xe.div,{"aria-hidden":!0,...r,ref:e})});bF.displayName=Ioe;var o_="SelectArrow",Aoe=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=my(n),i=Wo(o_,n),o=Ko(o_,n);return i.open&&o.position==="popper"?f.jsx(Mx,{...s,...r,ref:e}):null});Aoe.displayName=o_;function CF(t){return t===""||t===void 0}var PF=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=m.useRef(null),i=ke(e,s),o=foe(n);return m.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&u){const h=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(h)}},[o,n]),f.jsx(Lh,{asChild:!0,children:f.jsx("select",{...r,ref:i,defaultValue:n})})});PF.displayName="BubbleSelect";function RF(t){const e=At(t),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function IF(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Noe(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function Noe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Doe=tF,AF=rF,koe=iF,Moe=oF,Ooe=aF,NF=lF,Loe=hF,joe=pF,DF=gF,kF=vF,Voe=wF,Foe=xF,MF=EF,OF=TF,LF=bF;const Uoe=Doe,Boe=joe,$oe=koe,jF=m.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(AF,{ref:r,className:de("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,f.jsx(Moe,{asChild:!0,children:f.jsx(vD,{className:"h-4 w-4 opacity-50"})})]}));jF.displayName=AF.displayName;const VF=m.forwardRef(({className:t,...e},n)=>f.jsx(MF,{ref:n,className:de("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(rW,{className:"h-4 w-4"})}));VF.displayName=MF.displayName;const FF=m.forwardRef(({className:t,...e},n)=>f.jsx(OF,{ref:n,className:de("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(vD,{className:"h-4 w-4"})}));FF.displayName=OF.displayName;const UF=m.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>f.jsx(Ooe,{children:f.jsxs(NF,{ref:s,className:de("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[f.jsx(VF,{}),f.jsx(Loe,{className:de("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),f.jsx(FF,{})]})}));UF.displayName=NF.displayName;const zoe=m.forwardRef(({className:t,...e},n)=>f.jsx(DF,{ref:n,className:de("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));zoe.displayName=DF.displayName;const BF=m.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(kF,{ref:r,className:de("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(Foe,{children:f.jsx(yD,{className:"h-4 w-4"})})}),f.jsx(Voe,{children:e})]}));BF.displayName=kF.displayName;const Woe=m.forwardRef(({className:t,...e},n)=>f.jsx(LF,{ref:n,className:de("-mx-1 my-1 h-px bg-muted",t),...e}));Woe.displayName=LF.displayName;const Koe=["admin","editor","viewer"],Hoe=({isOpen:t,setDialogState:e,onAddAdmin:n,isLoading:r})=>{const{register:s,watch:i,formState:{errors:o,isSubmitted:a},control:l,handleSubmit:c,reset:u}=YV(),h=i("password"),p=async w=>{const{confirmPassword:y,...E}=w;await n(E),g()},g=(w=void 0)=>{u({email:"",password:"",confirmPassword:""}),e("showAddAdminDialog",w??!1)};return f.jsx(OT,{open:t,onOpenChange:w=>{g(w)},children:f.jsxs(ly,{className:"sm:max-w-[425px]",children:[f.jsxs(cy,{children:[f.jsx(uy,{className:"text-2xl font-bold",children:"Add Admin"}),f.jsx(dy,{children:"Create a new admin account."})]}),f.jsxs("form",{onSubmit:c(p),className:"text-sm space-y-2",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsx(ar,{htmlFor:"current-password",children:"Email"}),f.jsx(un,{className:de(!!o.email&&"border-destructive"),type:"text",placeholder:"Enter your email",...s("email",{required:"Email is required",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Please enter a valid email address"}})}),a&&o.email&&f.jsx("p",{className:"text-red-500",children:o.email.message})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx(ar,{htmlFor:"current-password",children:"Password"}),f.jsx(Om,{field:"password",placeholderText:"Enter your password",register:s,message:"Password is required",isError:!!o.password}),a&&o.password&&f.jsx("p",{className:"text-red-500",children:o.password.message})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx(ar,{htmlFor:"new-password",children:"Confirm Password"}),f.jsx(Om,{field:"confirmPassword",placeholderText:"Re-enter your password",register:s,message:"Confirm password is required",isError:!!o.confirmPassword,validate:w=>w===h||"Password does not match"}),a&&o.confirmPassword&&f.jsx("p",{className:"text-red-500",children:o.confirmPassword.message})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx(ar,{children:"Role"}),f.jsx(Wie,{name:"role",control:l,rules:{required:"Role is required"},render:({field:w})=>f.jsxs(Uoe,{onValueChange:w.onChange,value:w.value,children:[f.jsx(jF,{className:de("w-[180px]",!!o.role&&"border-destructive"),children:f.jsx($oe,{placeholder:"Select a Role"})}),f.jsx(UF,{children:f.jsx(Boe,{children:f.jsx(Ng,{items:Koe,renderItem:y=>f.jsx(BF,{value:y,children:y})})})})]})}),a&&o.role&&f.jsx("p",{className:"text-red-500",children:o.role.message})]}),f.jsx(LT,{children:f.jsx(ct,{disabled:r,type:"submit",className:"w-40",children:r?f.jsx(Wh,{}):"Save changes"})})]})]})})},Goe=async(t,e)=>{const r=await zc("/api/auth/login",{},{email:t,password:e});if(!r.success)throw new Error("Error loggin in");return r.accessToken},qoe=async()=>{const{admins:t}=await qx("/api/auth/admins");return t},Qoe=async t=>{const{message:e}=await zc("/api/auth/register",{},t);return e},Yoe=async t=>{const{message:e}=await Yx(`/api/auth/${t}`);return e},Xoe=async t=>{const{message:e}=await Qx("/api/auth/reset",{},t);return e},Joe=async t=>{const{message:e}=await Qx("/api/auth/role",{},t);return e},Zoe=({isOpen:t,setDialogState:e,onResetPassword:n,isLoading:r})=>{const{register:s,formState:{errors:i,isSubmitted:o},watch:a,handleSubmit:l,reset:c}=YV(),u=a("password"),h=async g=>{const{confirmPassword:w,...y}=g;await n(y),p(!1)},p=(g=void 0)=>{e("showResetPasswordDialog",g??!1),c({})};return f.jsx(OT,{open:t,onOpenChange:g=>{p(g),setTimeout(()=>{g||(document.body.style.pointerEvents="")},100)},children:f.jsxs(ly,{className:"sm:max-w-[425px]",children:[f.jsxs(cy,{children:[f.jsx(uy,{className:"text-2xl font-bold",children:"Reset Password"}),f.jsx(dy,{children:"Reset admin password and provide a new password."})]}),f.jsxs("form",{onSubmit:l(h),className:"text-sm space-y-2",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsx(ar,{htmlFor:"current-password",children:"Password"}),f.jsx(Om,{field:"password",placeholderText:"Enter new password",register:s,message:"Password is required",isError:!!i.password}),o&&i.password&&f.jsx("p",{className:"text-red-500",children:i.password.message})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx(ar,{htmlFor:"new-password",children:"Confirm Password"}),f.jsx(Om,{field:"confirmPassword",placeholderText:"Re-enter your password",register:s,message:"Confirm password is required",isError:!!i.confirmPassword,validate:g=>g===u||"Password does not match"}),o&&i.confirmPassword&&f.jsx("p",{className:"text-red-500",children:i.confirmPassword.message})]}),f.jsx(LT,{children:f.jsx(ct,{type:"submit",className:"w-40",children:r?f.jsx(Wh,{}):"Reset Password"})})]})]})})},eae=()=>f.jsx("section",{className:"flex-1 flex-col space-y-4 relative",children:f.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[f.jsxs("header",{className:"text-2xl flex items-center justify-between font-medium pb-5 leading-none tracking-tight",children:[f.jsxs("div",{children:["Team",f.jsx("p",{className:"ml-3 inline-block min-w-6 text-xs font-medium text-zinc-600",children:"1/1"})]}),f.jsx(tt,{className:"w-[125.556px] h-[36px]"})]}),f.jsxs("div",{children:[f.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[f.jsx("h4",{className:"flex-1",children:f.jsx(tt,{className:"w-16 h-[20px]"})}),f.jsx("h4",{className:"w-[14rem]",children:f.jsx(tt,{className:"w-24 h-[20px]"})}),f.jsx("h4",{className:"w-[8rem]",children:f.jsx(tt,{className:"w-12 h-[20px]"})}),f.jsx("h4",{className:"w-[6rem]"})]}),f.jsx("hr",{className:"border-customBorderColor"}),f.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[f.jsx("h4",{className:"flex-1",children:f.jsx(tt,{className:"w-32 h-[20px]"})}),f.jsx("h4",{className:"w-[14rem]",children:f.jsx(tt,{className:"w-12 h-[20px]"})}),f.jsx("h4",{className:"w-[8rem]",children:f.jsx(tt,{className:"w-20 h-[20px]"})}),f.jsx("h4",{className:"w-[6rem]"})]}),f.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[f.jsx("h4",{className:"flex-1",children:f.jsx(tt,{className:"w-40 h-[20px]"})}),f.jsx("h4",{className:"w-[14rem]",children:f.jsx(tt,{className:"w-16 h-[20px]"})}),f.jsx("h4",{className:"w-[8rem]",children:f.jsx(tt,{className:"w-12 h-[20px]"})}),f.jsx("h4",{className:"w-[6rem]"})]}),f.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[f.jsx("h4",{className:"flex-1",children:f.jsx(tt,{className:"w-32 h-[20px]"})}),f.jsx("h4",{className:"w-[14rem]",children:f.jsx(tt,{className:"w-12 h-[20px]"})}),f.jsx("h4",{className:"w-[8rem]",children:f.jsx(tt,{className:"w-20 h-[20px]"})}),f.jsx("h4",{className:"w-[6rem]"})]})]})]})}),tae=()=>{const t=Xc(),e=Za(),n=wi(_=>_.dialogs),r=wi(_=>_.setDialogState),s=OV(_=>_.adminId),{data:i,isLoading:o}=ST({queryFn:()=>qoe(),queryKey:Cu}),{mutateAsync:a}=io({mutationFn:Yoe,onSuccess:_=>{t.invalidateQueries({queryKey:Cu}),e({title:_,description:sn()})},onError:_=>{e({title:_==null?void 0:_.message,description:sn(),variant:"destructive"}),rn(_.message||"An Unexpected error occured while deleting admin account")}}),{mutateAsync:l,isPending:c}=io({mutationFn:Qoe,onSuccess:_=>{t.invalidateQueries({queryKey:Cu}),e({title:_,description:sn()})},onError:_=>{e({title:_==null?void 0:_.message,description:sn(),variant:"destructive"}),rn(_.message||"An Unexpected error occured while adding admin account")}}),{mutateAsync:u,isPending:h}=io({mutationFn:Xoe,onSuccess:_=>{t.invalidateQueries({queryKey:Cu}),e({title:_,description:sn()})},onError:_=>{e({title:_==null?void 0:_.message,description:sn(),variant:"destructive"}),rn(_.message||"An Unexpected error occured while updating admin account")}}),{mutateAsync:p}=io({mutationFn:Joe,onSuccess:_=>{t.invalidateQueries({queryKey:Cu}),e({title:_,description:sn()})},onError:_=>{e({title:_==null?void 0:_.message,description:sn(),variant:"destructive"}),rn(_.message||"An Unexpected error occured while updating admin role")}}),g=async _=>{try{if(!s)throw new Error("No admin selected cannot delete");await p({role:_,_id:s})}catch(v){v instanceof Error&&rn(v.message??"An error occured deleting admin account"),console.error("An unexpected error occured: ",v)}},w=async _=>{try{await l(_)}catch(v){v instanceof Error&&rn(v.message??"An error occured adding admin account"),console.error("An unexpected error occured: ",v)}},y=async()=>{try{if(!s)throw new Error("No admin selected cannot delete");await a(s)}catch(_){_ instanceof Error&&rn(_.message??"An error occured deleting admin account"),console.error("An unexpected error occured: ",_)}},E=async _=>{try{if(!s)throw new Error("Admin ID not found, cannot proceed");await u({..._,_id:s})}catch(v){v instanceof Error&&rn(v.message??"An error occured deleting admin account"),console.error("An unexpected error occured: ",v)}};return o?f.jsx(eae,{}):f.jsxs("section",{className:"flex-1 flex-col space-y-4 relative",children:[f.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[f.jsxs("header",{className:"text-2xl flex items-center justify-between font-medium pb-5 leading-none tracking-tight",children:[f.jsxs("div",{children:["Team",f.jsx("p",{className:"ml-3 inline-block min-w-6 text-xs font-medium text-zinc-600",children:"1/1"})]}),f.jsx("div",{children:f.jsxs(ct,{size:"sm",className:"w-full bg-blue-600 hover:bg-blue-700",onClick:()=>r("showAddAdminDialog",!0),children:[f.jsx(bh,{className:"size-5 mr-2"}),"Add Admin"]})})]}),f.jsxs("div",{children:[f.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[f.jsx("h4",{className:"flex-1",children:"User"}),f.jsx("h4",{className:"w-[14rem]",children:"Last Active"}),f.jsx("h4",{className:"w-[8rem]",children:"Role"}),f.jsx("h4",{className:"w-[6rem]"})]}),f.jsx("hr",{className:"border-customBorderColor"}),f.jsx(Ng,{items:i,renderItem:_=>f.jsx(jie,{adminInfo:_,onUpdateRole:g})})]})]}),f.jsx(Hoe,{isOpen:n.showAddAdminDialog,setDialogState:r,onAddAdmin:w,isLoading:c}),(n==null?void 0:n.showConfirmDeleteDialog)&&f.jsx(MT,{isOpen:n.showConfirmDeleteDialog,setDialogState:_=>r("showConfirmDeleteDialog",_),onDelete:y,message:"This action cannot be undone. This will permanently delete the admin account"}),(n==null?void 0:n.showResetPasswordDialog)&&f.jsx(Zoe,{isOpen:n.showResetPasswordDialog,setDialogState:r,onResetPassword:E,isLoading:h})]})},nae=()=>{const{currentTab:t,setActiveTab:e}=DV("team");return f.jsxs("section",{className:"flex space-x-2",children:[f.jsx(kie,{activeTab:t,onTabChange:e}),t==="team"&&f.jsx(tae,{}),t==="botProfile"&&f.jsx(Nie,{}),t==="botModel"&&f.jsx(Oie,{})]})},rae=()=>f.jsx("header",{className:"py-4 text-3xl font-semibold",children:"Settings"}),sae=()=>f.jsxs("div",{className:"flex flex-col w-[84rem] px-20 space-y-6",children:[f.jsx(rae,{}),f.jsx(nae,{})]}),iae=({id:t,text:e,onChange:n,checked:r})=>f.jsxs(f.Fragment,{children:[f.jsx("input",{type:"radio",id:t,name:"nav-btn",value:e,className:"hidden peer",checked:r,onChange:n}),f.jsx("label",{htmlFor:t,className:"flex-1 flex w-[190px] justify-center items-center py-3 px-4 cursor-pointer uppercase text-sm font-[500]",children:e})]}),oae=({labels:t,selectedTab:e,setSelectedTab:n})=>{const r=s=>{n(s)};return f.jsx("nav",{className:"tabs relative flex after:absolute after:bottom-0 after:pointer-events-none after:border after:border-blue-500",children:t==null?void 0:t.map(s=>f.jsx(iae,{id:s,text:s,checked:e==s,onChange:()=>r(s)},s))})},aae={siteName:"COB-CHATBOT",botName:"AI NLP Assistant"},lae={chatbot:RX,settings:sae,knowledge:vie},cae=()=>{const[t,e]=m.useState("chatbot"),n=["chatbot","knowledge","settings"],r=lae[t]||null;return f.jsxs("div",{className:"min-h-[100dvh] flex flex-col bg-[#F8F9FB] scrollbar-slim",children:[f.jsxs(r7,{text:aae.siteName,children:[f.jsx(oae,{labels:n,selectedTab:t,setSelectedTab:e}),f.jsx("hr",{className:"w-full border-neutral-300"})]}),r&&f.jsx(s7,{Component:r})]})};function uae(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=h=>{var _;const{scope:p,children:g,...w}=h,y=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,E=m.useMemo(()=>w,Object.values(w));return f.jsx(y.Provider,{value:E,children:g})};c.displayName=i+"Provider";function u(h,p){var y;const g=((y=p==null?void 0:p[t])==null?void 0:y[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,dae(s,...e)]}function dae(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var hae="DismissableLayer",a_="dismissableLayer.update",fae="dismissableLayer.pointerDownOutside",pae="dismissableLayer.focusOutside",R1,$F=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zF=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext($F),[u,h]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=ke(e,C=>h(C)),y=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=y.indexOf(E),v=u?y.indexOf(u):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,P=v>=_,A=gae(C=>{const T=C.target,R=[...c.branches].some(I=>I.contains(T));!P||R||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),O=yae(C=>{const T=C.target;[...c.branches].some(I=>I.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return Ch(C=>{v===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(R1=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),I1(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=R1)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),I1())},[u,c]),m.useEffect(()=>{const C=()=>g({});return document.addEventListener(a_,C),()=>document.removeEventListener(a_,C)},[]),f.jsx(xe.div,{...l,ref:w,style:{pointerEvents:S?P?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,A.onPointerDownCapture)})});zF.displayName=hae;var mae="DismissableLayerBranch",WF=m.forwardRef((t,e)=>{const n=m.useContext($F),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(xe.div,{...t,ref:s})});WF.displayName=mae;function gae(t,e=globalThis==null?void 0:globalThis.document){const n=At(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){KF(fae,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function yae(t,e=globalThis==null?void 0:globalThis.document){const n=At(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&KF(pae,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function I1(){const t=new CustomEvent(a_);document.dispatchEvent(t)}function KF(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?qa(s,i):s.dispatchEvent(i)}var vae=zF,wae=WF,_ae="Portal",HF=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Pt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?gh.createPortal(f.jsx(xe.div,{...r,ref:e}),o):null});HF.displayName=_ae;function xae(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var GF=t=>{const{present:e,children:n}=t,r=Eae(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=ke(r.ref,Tae(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};GF.displayName="Presence";function Eae(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=xae(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=qf(r.current);i.current=a==="mounted"?c:"none"},[a]),Pt(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=qf(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Pt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=g=>{const y=qf(r.current).includes(g.animationName);if(g.target===e&&y&&(l("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},p=g=>{g.target===e&&(i.current=qf(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function qf(t){return(t==null?void 0:t.animationName)||"none"}function Tae(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var WT="ToastProvider",[KT,Sae,bae]=yg("Toast"),[qF,wle]=uae("Toast",[bae]),[Cae,gy]=qF(WT),QF=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=m.useState(null),[c,u]=m.useState(0),h=m.useRef(!1),p=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${WT}\`. Expected non-empty \`string\`.`),f.jsx(KT.Provider,{scope:e,children:f.jsx(Cae,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>u(g=>g+1),[]),onToastRemove:m.useCallback(()=>u(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};QF.displayName=WT;var YF="ToastViewport",Pae=["F8"],l_="toast.viewportPause",c_="toast.viewportResume",XF=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Pae,label:s="Notifications ({hotkey})",...i}=t,o=gy(YF,n),a=Sae(n),l=m.useRef(null),c=m.useRef(null),u=m.useRef(null),h=m.useRef(null),p=ke(e,h,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;m.useEffect(()=>{const E=_=>{var S;r.length!==0&&r.every(P=>_[P]||_.code===P)&&((S=h.current)==null||S.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),m.useEffect(()=>{const E=l.current,_=h.current;if(w&&E&&_){const v=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(l_);_.dispatchEvent(O),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(c_);_.dispatchEvent(O),o.isClosePausedRef.current=!1}},P=O=>{!E.contains(O.relatedTarget)&&S()},A=()=>{E.contains(document.activeElement)||S()};return E.addEventListener("focusin",v),E.addEventListener("focusout",P),E.addEventListener("pointermove",v),E.addEventListener("pointerleave",A),window.addEventListener("blur",v),window.addEventListener("focus",S),()=>{E.removeEventListener("focusin",v),E.removeEventListener("focusout",P),E.removeEventListener("pointermove",v),E.removeEventListener("pointerleave",A),window.removeEventListener("blur",v),window.removeEventListener("focus",S)}}},[w,o.isClosePausedRef]);const y=m.useCallback(({tabbingDirection:E})=>{const v=a().map(S=>{const P=S.ref.current,A=[P,...Uae(P)];return E==="forwards"?A:A.reverse()});return(E==="forwards"?v.reverse():v).flat()},[a]);return m.useEffect(()=>{const E=h.current;if(E){const _=v=>{var A,O,C;const S=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!S){const T=document.activeElement,R=v.shiftKey;if(v.target===E&&R){(A=c.current)==null||A.focus();return}const k=y({tabbingDirection:R?"backwards":"forwards"}),D=k.findIndex(H=>H===T);Hv(k.slice(D+1))?v.preventDefault():R?(O=c.current)==null||O.focus():(C=u.current)==null||C.focus()}};return E.addEventListener("keydown",_),()=>E.removeEventListener("keydown",_)}},[a,y]),f.jsxs(wae,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&f.jsx(u_,{ref:c,onFocusFromOutsideViewport:()=>{const E=y({tabbingDirection:"forwards"});Hv(E)}}),f.jsx(KT.Slot,{scope:n,children:f.jsx(xe.ol,{tabIndex:-1,...i,ref:p})}),w&&f.jsx(u_,{ref:u,onFocusFromOutsideViewport:()=>{const E=y({tabbingDirection:"backwards"});Hv(E)}})]})});XF.displayName=YF;var JF="ToastFocusProxy",u_=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=gy(JF,n);return f.jsx(Lh,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});u_.displayName=JF;var yy="Toast",Rae="toast.swipeStart",Iae="toast.swipeMove",Aae="toast.swipeCancel",Nae="toast.swipeEnd",ZF=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=So({prop:r,defaultProp:s,onChange:i});return f.jsx(GF,{present:n||a,children:f.jsx(Mae,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:At(t.onPause),onResume:At(t.onResume),onSwipeStart:ee(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ee(t.onSwipeMove,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ee(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ee(t.onSwipeEnd,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});ZF.displayName=yy;var[Dae,kae]=qF(yy,{onClose(){}}),Mae=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:g,...w}=t,y=gy(yy,n),[E,_]=m.useState(null),v=ke(e,H=>_(H)),S=m.useRef(null),P=m.useRef(null),A=s||y.duration,O=m.useRef(0),C=m.useRef(A),T=m.useRef(0),{onToastAdd:R,onToastRemove:I}=y,M=At(()=>{var ae;(E==null?void 0:E.contains(document.activeElement))&&((ae=y.viewport)==null||ae.focus()),o()}),k=m.useCallback(H=>{!H||H===1/0||(window.clearTimeout(T.current),O.current=new Date().getTime(),T.current=window.setTimeout(M,H))},[M]);m.useEffect(()=>{const H=y.viewport;if(H){const ae=()=>{k(C.current),c==null||c()},te=()=>{const ne=new Date().getTime()-O.current;C.current=C.current-ne,window.clearTimeout(T.current),l==null||l()};return H.addEventListener(l_,te),H.addEventListener(c_,ae),()=>{H.removeEventListener(l_,te),H.removeEventListener(c_,ae)}}},[y.viewport,A,l,c,k]),m.useEffect(()=>{i&&!y.isClosePausedRef.current&&k(A)},[i,A,y.isClosePausedRef,k]),m.useEffect(()=>(R(),()=>I()),[R,I]);const D=m.useMemo(()=>E?oU(E):null,[E]);return y.viewport?f.jsxs(f.Fragment,{children:[D&&f.jsx(Oae,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),f.jsx(Dae,{scope:n,onClose:M,children:xi.createPortal(f.jsx(KT.ItemSlot,{scope:n,children:f.jsx(vae,{asChild:!0,onEscapeKeyDown:ee(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||M(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(xe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...w,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ee(t.onKeyDown,H=>{H.key==="Escape"&&(a==null||a(H.nativeEvent),H.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:ee(t.onPointerDown,H=>{H.button===0&&(S.current={x:H.clientX,y:H.clientY})}),onPointerMove:ee(t.onPointerMove,H=>{if(!S.current)return;const ae=H.clientX-S.current.x,te=H.clientY-S.current.y,ne=!!P.current,z=["left","right"].includes(y.swipeDirection),B=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,Z=z?B(0,ae):0,pe=z?0:B(0,te),Te=H.pointerType==="touch"?10:2,Re={x:Z,y:pe},Ye={originalEvent:H,delta:Re};ne?(P.current=Re,Qf(Iae,h,Ye,{discrete:!1})):A1(Re,y.swipeDirection,Te)?(P.current=Re,Qf(Rae,u,Ye,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(ae)>Te||Math.abs(te)>Te)&&(S.current=null)}),onPointerUp:ee(t.onPointerUp,H=>{const ae=P.current,te=H.target;if(te.hasPointerCapture(H.pointerId)&&te.releasePointerCapture(H.pointerId),P.current=null,S.current=null,ae){const ne=H.currentTarget,z={originalEvent:H,delta:ae};A1(ae,y.swipeDirection,y.swipeThreshold)?Qf(Nae,g,z,{discrete:!0}):Qf(Aae,p,z,{discrete:!0}),ne.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),Oae=t=>{const{__scopeToast:e,children:n,...r}=t,s=gy(yy,e),[i,o]=m.useState(!1),[a,l]=m.useState(!1);return Vae(()=>o(!0)),m.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:f.jsx(HF,{asChild:!0,children:f.jsx(Lh,{...r,children:i&&f.jsxs(f.Fragment,{children:[s.label," ",n]})})})},Lae="ToastTitle",eU=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(xe.div,{...r,ref:e})});eU.displayName=Lae;var jae="ToastDescription",tU=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(xe.div,{...r,ref:e})});tU.displayName=jae;var nU="ToastAction",rU=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?f.jsx(iU,{altText:n,asChild:!0,children:f.jsx(HT,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${nU}\`. Expected non-empty \`string\`.`),null)});rU.displayName=nU;var sU="ToastClose",HT=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=kae(sU,n);return f.jsx(iU,{asChild:!0,children:f.jsx(xe.button,{type:"button",...r,ref:e,onClick:ee(t.onClick,s.onClose)})})});HT.displayName=sU;var iU=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return f.jsx(xe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function oU(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Fae(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...oU(r))}}),e}function Qf(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?qa(s,i):s.dispatchEvent(i)}var A1=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function Vae(t=()=>{}){const e=At(t);Pt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Fae(t){return t.nodeType===t.ELEMENT_NODE}function Uae(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Hv(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var Bae=QF,aU=XF,lU=ZF,cU=eU,uU=tU,dU=rU,hU=HT;const $ae=Bae,fU=m.forwardRef(({className:t,...e},n)=>f.jsx(aU,{ref:n,className:de("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));fU.displayName=aU.displayName;const zae=Nh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),pU=m.forwardRef(({className:t,variant:e,...n},r)=>f.jsx(lU,{ref:r,className:de(zae({variant:e}),t),...n}));pU.displayName=lU.displayName;const Wae=m.forwardRef(({className:t,...e},n)=>f.jsx(dU,{ref:n,className:de("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Wae.displayName=dU.displayName;const mU=m.forwardRef(({className:t,...e},n)=>f.jsx(hU,{ref:n,className:de("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:f.jsx(mg,{className:"h-4 w-4"})}));mU.displayName=hU.displayName;const gU=m.forwardRef(({className:t,...e},n)=>f.jsx(cU,{ref:n,className:de("text-sm font-semibold",t),...e}));gU.displayName=cU.displayName;const yU=m.forwardRef(({className:t,...e},n)=>f.jsx(uU,{ref:n,className:de("text-sm opacity-90",t),...e}));yU.displayName=uU.displayName;function Kae(){const{toasts:t}=m2();return f.jsxs($ae,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return f.jsxs(pU,{...i,children:[f.jsxs("div",{className:"grid gap-1",children:[n&&f.jsx(gU,{children:n}),r&&f.jsx(yU,{children:r})]}),s,f.jsx(mU,{})]},e)}),f.jsx(fU,{})]})}const Hae=()=>{const t=wc(n=>n.isAuth),e=new Jre;return q6(),t?f.jsx(rse,{client:e,children:f.jsxs("main",{children:[f.jsx(cae,{}),f.jsx(Kae,{})]})}):f.jsx(mD,{to:"/login"})},Gae=Nh("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),vU=m.forwardRef(({className:t,variant:e,...n},r)=>f.jsx("div",{ref:r,role:"alert",className:de(Gae({variant:e}),t),...n}));vU.displayName="Alert";const qae=m.forwardRef(({className:t,...e},n)=>f.jsx("h5",{ref:n,className:de("mb-1 font-medium leading-none tracking-tight",t),...e}));qae.displayName="AlertTitle";const wU=m.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:de("text-sm [&_p]:leading-relaxed",t),...e}));wU.displayName="AlertDescription";const Qae=async(t,e)=>await Goe(t,e),Yae=({password:t,setPassword:e})=>{const[n,r]=m.useState(!1);return f.jsxs("div",{className:"relative",children:[f.jsx(un,{id:"password",type:n?"text":"password",placeholder:"",value:t,onChange:s=>e(s.target.value),required:!0}),f.jsx(ct,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>r(s=>!s),"aria-label":n?"Hide password":"Show password",children:n?f.jsx(ED,{className:"h-4 w-4 text-gray-500"}):f.jsx(TD,{className:"h-4 w-4 text-gray-500"})})]})},Xae=()=>{const t=pg(),[e,n]=m.useState(""),[r,s]=m.useState(""),[i,o]=m.useState(""),[a,l]=m.useState(!1),c=wc(p=>p.login),u=wc(p=>p.isAuth),h=async p=>{p.preventDefault(),o(""),l(!0);try{const g=await Qae(e,r);c(g),t("/")}catch{o("Invalid credentials, Please try again.")}finally{l(!1)}};return u?f.jsx(mD,{to:"/"}):f.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-r from-gray-100 to-gray-200 relative",children:[f.jsx("div",{className:"absolute inset-0 opacity-10 bg-cover bg-center z-0",style:{backgroundImage:"url('/placeholder.svg?height=1080&width=1920')",filter:"blur(3px)"},"aria-hidden":"true"}),f.jsxs(Hg,{className:"w-full max-w-md z-10",children:[f.jsxs(fL,{children:[f.jsx(pL,{className:"text-2xl font-bold text-center",children:"Welcome Back"}),f.jsx(mL,{className:"text-center",children:"Please sign in to your account"})]}),f.jsx(Gg,{children:f.jsxs("form",{onSubmit:h,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(ar,{htmlFor:"email",children:"Email"}),f.jsx(un,{id:"email",type:"email",placeholder:"email@address.com",value:e,onChange:p=>n(p.target.value),required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(ar,{htmlFor:"password",children:"Password"}),f.jsx(Yae,{password:r,setPassword:s})]}),i&&f.jsxs(vU,{variant:"destructive",children:[f.jsx(_D,{className:"h-4 w-4"}),f.jsx(wU,{children:i})]}),f.jsx(ct,{type:"submit",className:"w-full",disabled:a,children:a?"Signing In...":"Sign In"})]})}),f.jsxs(gL,{className:"flex flex-col items-center justify-center space-y-2",children:[f.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Powered by cob-chatbot"}),f.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Intelligent conversations, seamless interactions"})]})]})]})};function Jae(){var n;const t=pD();let e;return Th(t)?e=t.statusText||((n=t.data)==null?void 0:n.message)||"An unexpected error occurred.":t instanceof Error?e=t.message:typeof t=="string"?e=t:(console.error(t),e="An unknown error occurred."),f.jsx("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center items-center px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"max-w-md w-full space-y-8 text-center",children:[f.jsx("div",{className:"flex justify-center",children:f.jsx(_D,{className:"h-24 w-24 text-red-600"})}),f.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Oops! Something went wrong"}),f.jsx("p",{className:"mt-2 text-sm text-gray-600",children:e}),f.jsx("div",{className:"mt-5",children:f.jsx(H6,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Go back home"})})]})})}const Zae=D6([{path:"/",element:f.jsx(Hae,{}),errorElement:f.jsx(Jae,{})},{path:"/login",element:f.jsx(Xae,{})}],{basename:"/admin"});Gv.createRoot(document.getElementById("root")).render(f.jsx(ze.StrictMode,{children:f.jsx(B6,{router:Zae})}));
