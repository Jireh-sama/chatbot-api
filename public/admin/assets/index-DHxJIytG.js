var My=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var V=(t,e,n)=>(My(t,e,"read from private field"),n?n.call(t):e.get(t)),we=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},he=(t,e,n,r)=>(My(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var vf=(t,e,n,r)=>({set _(s){he(t,e,s,n)},get _(){return V(t,e,r)}}),Be=(t,e,n)=>(My(t,e,"access private method"),n);function KR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function __(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var WR={exports:{}},Jm={},HR={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ph=Symbol.for("react.element"),B4=Symbol.for("react.portal"),$4=Symbol.for("react.fragment"),z4=Symbol.for("react.strict_mode"),K4=Symbol.for("react.profiler"),W4=Symbol.for("react.provider"),H4=Symbol.for("react.context"),G4=Symbol.for("react.forward_ref"),q4=Symbol.for("react.suspense"),Q4=Symbol.for("react.memo"),Y4=Symbol.for("react.lazy"),ES=Symbol.iterator;function X4(t){return t===null||typeof t!="object"?null:(t=ES&&t[ES]||t["@@iterator"],typeof t=="function"?t:null)}var GR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qR=Object.assign,QR={};function Oc(t,e,n){this.props=t,this.context=e,this.refs=QR,this.updater=n||GR}Oc.prototype.isReactComponent={};Oc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Oc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function YR(){}YR.prototype=Oc.prototype;function x_(t,e,n){this.props=t,this.context=e,this.refs=QR,this.updater=n||GR}var E_=x_.prototype=new YR;E_.constructor=x_;qR(E_,Oc.prototype);E_.isPureReactComponent=!0;var TS=Array.isArray,XR=Object.prototype.hasOwnProperty,T_={current:null},JR={key:!0,ref:!0,__self:!0,__source:!0};function ZR(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)XR.call(e,r)&&!JR.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ph,type:t,key:i,ref:o,props:s,_owner:T_.current}}function J4(t,e){return{$$typeof:ph,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function S_(t){return typeof t=="object"&&t!==null&&t.$$typeof===ph}function Z4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var SS=/\/+/g;function Oy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Z4(""+t.key):e.toString(36)}function op(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ph:case B4:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Oy(o,0):r,TS(s)?(n="",t!=null&&(n=t.replace(SS,"$&/")+"/"),op(s,e,n,"",function(c){return c})):s!=null&&(S_(s)&&(s=J4(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(SS,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",TS(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Oy(i,a);o+=op(i,e,n,l,s)}else if(l=X4(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Oy(i,a++),o+=op(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function wf(t,e,n){if(t==null)return t;var r=[],s=0;return op(t,r,"","",function(i){return e.call(n,i,s++)}),r}function eU(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var er={current:null},ap={transition:null},tU={ReactCurrentDispatcher:er,ReactCurrentBatchConfig:ap,ReactCurrentOwner:T_};function eI(){throw Error("act(...) is not supported in production builds of React.")}Ge.Children={map:wf,forEach:function(t,e,n){wf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wf(t,function(){e++}),e},toArray:function(t){return wf(t,function(e){return e})||[]},only:function(t){if(!S_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ge.Component=Oc;Ge.Fragment=$4;Ge.Profiler=K4;Ge.PureComponent=x_;Ge.StrictMode=z4;Ge.Suspense=q4;Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tU;Ge.act=eI;Ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=qR({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=T_.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)XR.call(e,l)&&!JR.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ph,type:t.type,key:s,ref:i,props:r,_owner:o}};Ge.createContext=function(t){return t={$$typeof:H4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:W4,_context:t},t.Consumer=t};Ge.createElement=ZR;Ge.createFactory=function(t){var e=ZR.bind(null,t);return e.type=t,e};Ge.createRef=function(){return{current:null}};Ge.forwardRef=function(t){return{$$typeof:G4,render:t}};Ge.isValidElement=S_;Ge.lazy=function(t){return{$$typeof:Y4,_payload:{_status:-1,_result:t},_init:eU}};Ge.memo=function(t,e){return{$$typeof:Q4,type:t,compare:e===void 0?null:e}};Ge.startTransition=function(t){var e=ap.transition;ap.transition={};try{t()}finally{ap.transition=e}};Ge.unstable_act=eI;Ge.useCallback=function(t,e){return er.current.useCallback(t,e)};Ge.useContext=function(t){return er.current.useContext(t)};Ge.useDebugValue=function(){};Ge.useDeferredValue=function(t){return er.current.useDeferredValue(t)};Ge.useEffect=function(t,e){return er.current.useEffect(t,e)};Ge.useId=function(){return er.current.useId()};Ge.useImperativeHandle=function(t,e,n){return er.current.useImperativeHandle(t,e,n)};Ge.useInsertionEffect=function(t,e){return er.current.useInsertionEffect(t,e)};Ge.useLayoutEffect=function(t,e){return er.current.useLayoutEffect(t,e)};Ge.useMemo=function(t,e){return er.current.useMemo(t,e)};Ge.useReducer=function(t,e,n){return er.current.useReducer(t,e,n)};Ge.useRef=function(t){return er.current.useRef(t)};Ge.useState=function(t){return er.current.useState(t)};Ge.useSyncExternalStore=function(t,e,n){return er.current.useSyncExternalStore(t,e,n)};Ge.useTransition=function(){return er.current.useTransition()};Ge.version="18.3.1";HR.exports=Ge;var m=HR.exports;const Ke=__(m),tI=KR({__proto__:null,default:Ke},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nU=m,rU=Symbol.for("react.element"),sU=Symbol.for("react.fragment"),iU=Object.prototype.hasOwnProperty,oU=nU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aU={key:!0,ref:!0,__self:!0,__source:!0};function nI(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)iU.call(e,r)&&!aU.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:rU,type:t,key:i,ref:o,props:s,_owner:oU.current}}Jm.Fragment=sU;Jm.jsx=nI;Jm.jsxs=nI;WR.exports=Jm;var f=WR.exports,nw={},rI={exports:{}},br={},sI={exports:{}},iI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,B){var Z=z.length;z.push(B);e:for(;0<Z;){var pe=Z-1>>>1,Te=z[pe];if(0<s(Te,B))z[pe]=B,z[Z]=Te,Z=pe;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var B=z[0],Z=z.pop();if(Z!==B){z[0]=Z;e:for(var pe=0,Te=z.length,Re=Te>>>1;pe<Re;){var Xe=2*(pe+1)-1,gt=z[Xe],He=Xe+1,ce=z[He];if(0>s(gt,Z))He<Te&&0>s(ce,gt)?(z[pe]=ce,z[He]=Z,pe=He):(z[pe]=gt,z[Xe]=Z,pe=Xe);else if(He<Te&&0>s(ce,Z))z[pe]=ce,z[He]=Z,pe=He;else break e}}return B}function s(z,B){var Z=z.sortIndex-B.sortIndex;return Z!==0?Z:z.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,p=3,g=!1,w=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(z){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=z)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function R(z){if(v=!1,S(z),!w)if(n(l)!==null)w=!0,te(D);else{var B=n(c);B!==null&&ne(R,B.startTime-z)}}function D(z,B){w=!1,v&&(v=!1,_(T),T=-1),g=!0;var Z=p;try{for(S(B),d=n(l);d!==null&&(!(d.expirationTime>B)||z&&!M());){var pe=d.callback;if(typeof pe=="function"){d.callback=null,p=d.priorityLevel;var Te=pe(d.expirationTime<=B);B=t.unstable_now(),typeof Te=="function"?d.callback=Te:d===n(l)&&r(l),S(B)}else r(l);d=n(l)}if(d!==null)var Re=!0;else{var Xe=n(c);Xe!==null&&ne(R,Xe.startTime-B),Re=!1}return Re}finally{d=null,p=Z,g=!1}}var O=!1,C=null,T=-1,P=5,I=-1;function M(){return!(t.unstable_now()-I<P)}function k(){if(C!==null){var z=t.unstable_now();I=z;var B=!0;try{B=C(!0,z)}finally{B?N():(O=!1,C=null)}}else O=!1}var N;if(typeof y=="function")N=function(){y(k)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ae=H.port2;H.port1.onmessage=k,N=function(){ae.postMessage(null)}}else N=function(){E(k,0)};function te(z){C=z,O||(O=!0,N())}function ne(z,B){T=E(function(){z(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,te(D))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var Z=p;p=B;try{return z()}finally{p=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,B){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Z=p;p=z;try{return B()}finally{p=Z}},t.unstable_scheduleCallback=function(z,B,Z){var pe=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?pe+Z:pe):Z=pe,z){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=Z+Te,z={id:u++,callback:B,priorityLevel:z,startTime:Z,expirationTime:Te,sortIndex:-1},Z>pe?(z.sortIndex=Z,e(c,z),n(l)===null&&z===n(c)&&(v?(_(T),T=-1):v=!0,ne(R,Z-pe))):(z.sortIndex=Te,e(l,z),w||g||(w=!0,te(D))),z},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(z){var B=p;return function(){var Z=p;p=B;try{return z.apply(this,arguments)}finally{p=Z}}}})(iI);sI.exports=iI;var lU=sI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cU=m,Tr=lU;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oI=new Set,pd={};function Ga(t,e){pc(t,e),pc(t+"Capture",e)}function pc(t,e){for(pd[t]=e,t=0;t<e.length;t++)oI.add(e[t])}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rw=Object.prototype.hasOwnProperty,uU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bS={},CS={};function dU(t){return rw.call(CS,t)?!0:rw.call(bS,t)?!1:uU.test(t)?CS[t]=!0:(bS[t]=!0,!1)}function hU(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function fU(t,e,n,r){if(e===null||typeof e>"u"||hU(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tr(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Tn[t]=new tr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Tn[e]=new tr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Tn[t]=new tr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Tn[t]=new tr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Tn[t]=new tr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Tn[t]=new tr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Tn[t]=new tr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Tn[t]=new tr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Tn[t]=new tr(t,5,!1,t.toLowerCase(),null,!1,!1)});var b_=/[\-:]([a-z])/g;function C_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(b_,C_);Tn[e]=new tr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(b_,C_);Tn[e]=new tr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(b_,C_);Tn[e]=new tr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Tn[t]=new tr(t,1,!1,t.toLowerCase(),null,!1,!1)});Tn.xlinkHref=new tr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Tn[t]=new tr(t,1,!1,t.toLowerCase(),null,!0,!0)});function P_(t,e,n,r){var s=Tn.hasOwnProperty(e)?Tn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(fU(e,n,s,r)&&(n=null),r||s===null?dU(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ti=cU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_f=Symbol.for("react.element"),_l=Symbol.for("react.portal"),xl=Symbol.for("react.fragment"),R_=Symbol.for("react.strict_mode"),sw=Symbol.for("react.profiler"),aI=Symbol.for("react.provider"),lI=Symbol.for("react.context"),I_=Symbol.for("react.forward_ref"),iw=Symbol.for("react.suspense"),ow=Symbol.for("react.suspense_list"),A_=Symbol.for("react.memo"),Ui=Symbol.for("react.lazy"),cI=Symbol.for("react.offscreen"),PS=Symbol.iterator;function hu(t){return t===null||typeof t!="object"?null:(t=PS&&t[PS]||t["@@iterator"],typeof t=="function"?t:null)}var jt=Object.assign,Ly;function Nu(t){if(Ly===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ly=e&&e[1]||""}return`
`+Ly+t}var jy=!1;function Vy(t,e){if(!t||jy)return"";jy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{jy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Nu(t):""}function pU(t){switch(t.tag){case 5:return Nu(t.type);case 16:return Nu("Lazy");case 13:return Nu("Suspense");case 19:return Nu("SuspenseList");case 0:case 2:case 15:return t=Vy(t.type,!1),t;case 11:return t=Vy(t.type.render,!1),t;case 1:return t=Vy(t.type,!0),t;default:return""}}function aw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xl:return"Fragment";case _l:return"Portal";case sw:return"Profiler";case R_:return"StrictMode";case iw:return"Suspense";case ow:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case lI:return(t.displayName||"Context")+".Consumer";case aI:return(t._context.displayName||"Context")+".Provider";case I_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case A_:return e=t.displayName||null,e!==null?e:aw(t.type)||"Memo";case Ui:e=t._payload,t=t._init;try{return aw(t(e))}catch{}}return null}function mU(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return aw(e);case 8:return e===R_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function To(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function uI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gU(t){var e=uI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xf(t){t._valueTracker||(t._valueTracker=gU(t))}function dI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=uI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Up(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function lw(t,e){var n=e.checked;return jt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function RS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=To(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function hI(t,e){e=e.checked,e!=null&&P_(t,"checked",e,!1)}function cw(t,e){hI(t,e);var n=To(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?uw(t,e.type,n):e.hasOwnProperty("defaultValue")&&uw(t,e.type,To(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function IS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function uw(t,e,n){(e!=="number"||Up(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Du=Array.isArray;function Fl(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+To(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function dw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return jt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function AS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if(Du(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:To(n)}}function fI(t,e){var n=To(e.value),r=To(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function NS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function pI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?pI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ef,mI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ef=Ef||document.createElement("div"),Ef.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ef.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function md(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Wu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yU=["Webkit","ms","Moz","O"];Object.keys(Wu).forEach(function(t){yU.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wu[e]=Wu[t]})});function gI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Wu.hasOwnProperty(t)&&Wu[t]?(""+e).trim():e+"px"}function yI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=gI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var vU=jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fw(t,e){if(e){if(vU[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function pw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mw=null;function N_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gw=null,Ul=null,Bl=null;function DS(t){if(t=yh(t)){if(typeof gw!="function")throw Error(X(280));var e=t.stateNode;e&&(e=rg(e),gw(t.stateNode,t.type,e))}}function vI(t){Ul?Bl?Bl.push(t):Bl=[t]:Ul=t}function wI(){if(Ul){var t=Ul,e=Bl;if(Bl=Ul=null,DS(t),e)for(t=0;t<e.length;t++)DS(e[t])}}function _I(t,e){return t(e)}function xI(){}var Fy=!1;function EI(t,e,n){if(Fy)return t(e,n);Fy=!0;try{return _I(t,e,n)}finally{Fy=!1,(Ul!==null||Bl!==null)&&(xI(),wI())}}function gd(t,e){var n=t.stateNode;if(n===null)return null;var r=rg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var yw=!1;if(ui)try{var fu={};Object.defineProperty(fu,"passive",{get:function(){yw=!0}}),window.addEventListener("test",fu,fu),window.removeEventListener("test",fu,fu)}catch{yw=!1}function wU(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Hu=!1,Bp=null,$p=!1,vw=null,_U={onError:function(t){Hu=!0,Bp=t}};function xU(t,e,n,r,s,i,o,a,l){Hu=!1,Bp=null,wU.apply(_U,arguments)}function EU(t,e,n,r,s,i,o,a,l){if(xU.apply(this,arguments),Hu){if(Hu){var c=Bp;Hu=!1,Bp=null}else throw Error(X(198));$p||($p=!0,vw=c)}}function qa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function TI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function kS(t){if(qa(t)!==t)throw Error(X(188))}function TU(t){var e=t.alternate;if(!e){if(e=qa(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return kS(s),t;if(i===r)return kS(s),e;i=i.sibling}throw Error(X(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function SI(t){return t=TU(t),t!==null?bI(t):null}function bI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=bI(t);if(e!==null)return e;t=t.sibling}return null}var CI=Tr.unstable_scheduleCallback,MS=Tr.unstable_cancelCallback,SU=Tr.unstable_shouldYield,bU=Tr.unstable_requestPaint,Yt=Tr.unstable_now,CU=Tr.unstable_getCurrentPriorityLevel,D_=Tr.unstable_ImmediatePriority,PI=Tr.unstable_UserBlockingPriority,zp=Tr.unstable_NormalPriority,PU=Tr.unstable_LowPriority,RI=Tr.unstable_IdlePriority,Zm=null,bs=null;function RU(t){if(bs&&typeof bs.onCommitFiberRoot=="function")try{bs.onCommitFiberRoot(Zm,t,void 0,(t.current.flags&128)===128)}catch{}}var ss=Math.clz32?Math.clz32:NU,IU=Math.log,AU=Math.LN2;function NU(t){return t>>>=0,t===0?32:31-(IU(t)/AU|0)|0}var Tf=64,Sf=4194304;function ku(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Kp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ku(a):(i&=o,i!==0&&(r=ku(i)))}else o=n&~s,o!==0?r=ku(o):i!==0&&(r=ku(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ss(e),s=1<<n,r|=t[n],e&=~s;return r}function DU(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kU(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ss(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=DU(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function ww(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function II(){var t=Tf;return Tf<<=1,!(Tf&4194240)&&(Tf=64),t}function Uy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function mh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ss(e),t[e]=n}function MU(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ss(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function k_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ss(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ht=0;function AI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var NI,M_,DI,kI,MI,_w=!1,bf=[],co=null,uo=null,ho=null,yd=new Map,vd=new Map,$i=[],OU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function OS(t,e){switch(t){case"focusin":case"focusout":co=null;break;case"dragenter":case"dragleave":uo=null;break;case"mouseover":case"mouseout":ho=null;break;case"pointerover":case"pointerout":yd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vd.delete(e.pointerId)}}function pu(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=yh(e),e!==null&&M_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function LU(t,e,n,r,s){switch(e){case"focusin":return co=pu(co,t,e,n,r,s),!0;case"dragenter":return uo=pu(uo,t,e,n,r,s),!0;case"mouseover":return ho=pu(ho,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return yd.set(i,pu(yd.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,vd.set(i,pu(vd.get(i)||null,t,e,n,r,s)),!0}return!1}function OI(t){var e=da(t.target);if(e!==null){var n=qa(e);if(n!==null){if(e=n.tag,e===13){if(e=TI(n),e!==null){t.blockedOn=e,MI(t.priority,function(){DI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=xw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);mw=r,n.target.dispatchEvent(r),mw=null}else return e=yh(n),e!==null&&M_(e),t.blockedOn=n,!1;e.shift()}return!0}function LS(t,e,n){lp(t)&&n.delete(e)}function jU(){_w=!1,co!==null&&lp(co)&&(co=null),uo!==null&&lp(uo)&&(uo=null),ho!==null&&lp(ho)&&(ho=null),yd.forEach(LS),vd.forEach(LS)}function mu(t,e){t.blockedOn===e&&(t.blockedOn=null,_w||(_w=!0,Tr.unstable_scheduleCallback(Tr.unstable_NormalPriority,jU)))}function wd(t){function e(s){return mu(s,t)}if(0<bf.length){mu(bf[0],t);for(var n=1;n<bf.length;n++){var r=bf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(co!==null&&mu(co,t),uo!==null&&mu(uo,t),ho!==null&&mu(ho,t),yd.forEach(e),vd.forEach(e),n=0;n<$i.length;n++)r=$i[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<$i.length&&(n=$i[0],n.blockedOn===null);)OI(n),n.blockedOn===null&&$i.shift()}var $l=Ti.ReactCurrentBatchConfig,Wp=!0;function VU(t,e,n,r){var s=ht,i=$l.transition;$l.transition=null;try{ht=1,O_(t,e,n,r)}finally{ht=s,$l.transition=i}}function FU(t,e,n,r){var s=ht,i=$l.transition;$l.transition=null;try{ht=4,O_(t,e,n,r)}finally{ht=s,$l.transition=i}}function O_(t,e,n,r){if(Wp){var s=xw(t,e,n,r);if(s===null)Yy(t,e,r,Hp,n),OS(t,r);else if(LU(s,t,e,n,r))r.stopPropagation();else if(OS(t,r),e&4&&-1<OU.indexOf(t)){for(;s!==null;){var i=yh(s);if(i!==null&&NI(i),i=xw(t,e,n,r),i===null&&Yy(t,e,r,Hp,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Yy(t,e,r,null,n)}}var Hp=null;function xw(t,e,n,r){if(Hp=null,t=N_(r),t=da(t),t!==null)if(e=qa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=TI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hp=t,null}function LI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CU()){case D_:return 1;case PI:return 4;case zp:case PU:return 16;case RI:return 536870912;default:return 16}default:return 16}}var so=null,L_=null,cp=null;function jI(){if(cp)return cp;var t,e=L_,n=e.length,r,s="value"in so?so.value:so.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return cp=s.slice(t,1<r?1-r:void 0)}function up(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Cf(){return!0}function jS(){return!1}function Cr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Cf:jS,this.isPropagationStopped=jS,this}return jt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cf)},persist:function(){},isPersistent:Cf}),e}var Lc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},j_=Cr(Lc),gh=jt({},Lc,{view:0,detail:0}),UU=Cr(gh),By,$y,gu,eg=jt({},gh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:V_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gu&&(gu&&t.type==="mousemove"?(By=t.screenX-gu.screenX,$y=t.screenY-gu.screenY):$y=By=0,gu=t),By)},movementY:function(t){return"movementY"in t?t.movementY:$y}}),VS=Cr(eg),BU=jt({},eg,{dataTransfer:0}),$U=Cr(BU),zU=jt({},gh,{relatedTarget:0}),zy=Cr(zU),KU=jt({},Lc,{animationName:0,elapsedTime:0,pseudoElement:0}),WU=Cr(KU),HU=jt({},Lc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),GU=Cr(HU),qU=jt({},Lc,{data:0}),FS=Cr(qU),QU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JU(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=XU[t])?!!e[t]:!1}function V_(){return JU}var ZU=jt({},gh,{key:function(t){if(t.key){var e=QU[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=up(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?YU[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:V_,charCode:function(t){return t.type==="keypress"?up(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?up(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),eB=Cr(ZU),tB=jt({},eg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),US=Cr(tB),nB=jt({},gh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:V_}),rB=Cr(nB),sB=jt({},Lc,{propertyName:0,elapsedTime:0,pseudoElement:0}),iB=Cr(sB),oB=jt({},eg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),aB=Cr(oB),lB=[9,13,27,32],F_=ui&&"CompositionEvent"in window,Gu=null;ui&&"documentMode"in document&&(Gu=document.documentMode);var cB=ui&&"TextEvent"in window&&!Gu,VI=ui&&(!F_||Gu&&8<Gu&&11>=Gu),BS=" ",$S=!1;function FI(t,e){switch(t){case"keyup":return lB.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var El=!1;function uB(t,e){switch(t){case"compositionend":return UI(e);case"keypress":return e.which!==32?null:($S=!0,BS);case"textInput":return t=e.data,t===BS&&$S?null:t;default:return null}}function dB(t,e){if(El)return t==="compositionend"||!F_&&FI(t,e)?(t=jI(),cp=L_=so=null,El=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return VI&&e.locale!=="ko"?null:e.data;default:return null}}var hB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hB[t.type]:e==="textarea"}function BI(t,e,n,r){vI(r),e=Gp(e,"onChange"),0<e.length&&(n=new j_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var qu=null,_d=null;function fB(t){JI(t,0)}function tg(t){var e=bl(t);if(dI(e))return t}function pB(t,e){if(t==="change")return e}var $I=!1;if(ui){var Ky;if(ui){var Wy="oninput"in document;if(!Wy){var KS=document.createElement("div");KS.setAttribute("oninput","return;"),Wy=typeof KS.oninput=="function"}Ky=Wy}else Ky=!1;$I=Ky&&(!document.documentMode||9<document.documentMode)}function WS(){qu&&(qu.detachEvent("onpropertychange",zI),_d=qu=null)}function zI(t){if(t.propertyName==="value"&&tg(_d)){var e=[];BI(e,_d,t,N_(t)),EI(fB,e)}}function mB(t,e,n){t==="focusin"?(WS(),qu=e,_d=n,qu.attachEvent("onpropertychange",zI)):t==="focusout"&&WS()}function gB(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tg(_d)}function yB(t,e){if(t==="click")return tg(e)}function vB(t,e){if(t==="input"||t==="change")return tg(e)}function wB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var as=typeof Object.is=="function"?Object.is:wB;function xd(t,e){if(as(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!rw.call(e,s)||!as(t[s],e[s]))return!1}return!0}function HS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function GS(t,e){var n=HS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=HS(n)}}function KI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?KI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function WI(){for(var t=window,e=Up();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Up(t.document)}return e}function U_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function _B(t){var e=WI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&KI(n.ownerDocument.documentElement,n)){if(r!==null&&U_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=GS(n,i);var o=GS(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xB=ui&&"documentMode"in document&&11>=document.documentMode,Tl=null,Ew=null,Qu=null,Tw=!1;function qS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Tw||Tl==null||Tl!==Up(r)||(r=Tl,"selectionStart"in r&&U_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qu&&xd(Qu,r)||(Qu=r,r=Gp(Ew,"onSelect"),0<r.length&&(e=new j_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Tl)))}function Pf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Sl={animationend:Pf("Animation","AnimationEnd"),animationiteration:Pf("Animation","AnimationIteration"),animationstart:Pf("Animation","AnimationStart"),transitionend:Pf("Transition","TransitionEnd")},Hy={},HI={};ui&&(HI=document.createElement("div").style,"AnimationEvent"in window||(delete Sl.animationend.animation,delete Sl.animationiteration.animation,delete Sl.animationstart.animation),"TransitionEvent"in window||delete Sl.transitionend.transition);function ng(t){if(Hy[t])return Hy[t];if(!Sl[t])return t;var e=Sl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in HI)return Hy[t]=e[n];return t}var GI=ng("animationend"),qI=ng("animationiteration"),QI=ng("animationstart"),YI=ng("transitionend"),XI=new Map,QS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vo(t,e){XI.set(t,e),Ga(e,[t])}for(var Gy=0;Gy<QS.length;Gy++){var qy=QS[Gy],EB=qy.toLowerCase(),TB=qy[0].toUpperCase()+qy.slice(1);Vo(EB,"on"+TB)}Vo(GI,"onAnimationEnd");Vo(qI,"onAnimationIteration");Vo(QI,"onAnimationStart");Vo("dblclick","onDoubleClick");Vo("focusin","onFocus");Vo("focusout","onBlur");Vo(YI,"onTransitionEnd");pc("onMouseEnter",["mouseout","mouseover"]);pc("onMouseLeave",["mouseout","mouseover"]);pc("onPointerEnter",["pointerout","pointerover"]);pc("onPointerLeave",["pointerout","pointerover"]);Ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ga("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SB=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mu));function YS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,EU(r,e,void 0,t),t.currentTarget=null}function JI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;YS(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;YS(s,a,c),i=l}}}if($p)throw t=vw,$p=!1,vw=null,t}function Ct(t,e){var n=e[Rw];n===void 0&&(n=e[Rw]=new Set);var r=t+"__bubble";n.has(r)||(ZI(e,t,2,!1),n.add(r))}function Qy(t,e,n){var r=0;e&&(r|=4),ZI(n,t,r,e)}var Rf="_reactListening"+Math.random().toString(36).slice(2);function Ed(t){if(!t[Rf]){t[Rf]=!0,oI.forEach(function(n){n!=="selectionchange"&&(SB.has(n)||Qy(n,!1,t),Qy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Rf]||(e[Rf]=!0,Qy("selectionchange",!1,e))}}function ZI(t,e,n,r){switch(LI(e)){case 1:var s=VU;break;case 4:s=FU;break;default:s=O_}n=s.bind(null,e,n,t),s=void 0,!yw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Yy(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=da(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}EI(function(){var c=i,u=N_(n),d=[];e:{var p=XI.get(t);if(p!==void 0){var g=j_,w=t;switch(t){case"keypress":if(up(n)===0)break e;case"keydown":case"keyup":g=eB;break;case"focusin":w="focus",g=zy;break;case"focusout":w="blur",g=zy;break;case"beforeblur":case"afterblur":g=zy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=VS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=$U;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=rB;break;case GI:case qI:case QI:g=WU;break;case YI:g=iB;break;case"scroll":g=UU;break;case"wheel":g=aB;break;case"copy":case"cut":case"paste":g=GU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=US}var v=(e&4)!==0,E=!v&&t==="scroll",_=v?p!==null?p+"Capture":null:p;v=[];for(var y=c,S;y!==null;){S=y;var R=S.stateNode;if(S.tag===5&&R!==null&&(S=R,_!==null&&(R=gd(y,_),R!=null&&v.push(Td(y,R,S)))),E)break;y=y.return}0<v.length&&(p=new g(p,w,null,n,u),d.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==mw&&(w=n.relatedTarget||n.fromElement)&&(da(w)||w[di]))break e;if((g||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=c,w=w?da(w):null,w!==null&&(E=qa(w),w!==E||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=c),g!==w)){if(v=VS,R="onMouseLeave",_="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=US,R="onPointerLeave",_="onPointerEnter",y="pointer"),E=g==null?p:bl(g),S=w==null?p:bl(w),p=new v(R,y+"leave",g,n,u),p.target=E,p.relatedTarget=S,R=null,da(u)===c&&(v=new v(_,y+"enter",w,n,u),v.target=S,v.relatedTarget=E,R=v),E=R,g&&w)t:{for(v=g,_=w,y=0,S=v;S;S=dl(S))y++;for(S=0,R=_;R;R=dl(R))S++;for(;0<y-S;)v=dl(v),y--;for(;0<S-y;)_=dl(_),S--;for(;y--;){if(v===_||_!==null&&v===_.alternate)break t;v=dl(v),_=dl(_)}v=null}else v=null;g!==null&&XS(d,p,g,v,!1),w!==null&&E!==null&&XS(d,E,w,v,!0)}}e:{if(p=c?bl(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var D=pB;else if(zS(p))if($I)D=vB;else{D=gB;var O=mB}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=yB);if(D&&(D=D(t,c))){BI(d,D,n,u);break e}O&&O(t,p,c),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&uw(p,"number",p.value)}switch(O=c?bl(c):window,t){case"focusin":(zS(O)||O.contentEditable==="true")&&(Tl=O,Ew=c,Qu=null);break;case"focusout":Qu=Ew=Tl=null;break;case"mousedown":Tw=!0;break;case"contextmenu":case"mouseup":case"dragend":Tw=!1,qS(d,n,u);break;case"selectionchange":if(xB)break;case"keydown":case"keyup":qS(d,n,u)}var C;if(F_)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else El?FI(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(VI&&n.locale!=="ko"&&(El||T!=="onCompositionStart"?T==="onCompositionEnd"&&El&&(C=jI()):(so=u,L_="value"in so?so.value:so.textContent,El=!0)),O=Gp(c,T),0<O.length&&(T=new FS(T,t,null,n,u),d.push({event:T,listeners:O}),C?T.data=C:(C=UI(n),C!==null&&(T.data=C)))),(C=cB?uB(t,n):dB(t,n))&&(c=Gp(c,"onBeforeInput"),0<c.length&&(u=new FS("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=C))}JI(d,e)})}function Td(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gp(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=gd(t,n),i!=null&&r.unshift(Td(t,i,s)),i=gd(t,e),i!=null&&r.push(Td(t,i,s))),t=t.return}return r}function dl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function XS(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=gd(n,i),l!=null&&o.unshift(Td(n,l,a))):s||(l=gd(n,i),l!=null&&o.push(Td(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var bB=/\r\n?/g,CB=/\u0000|\uFFFD/g;function JS(t){return(typeof t=="string"?t:""+t).replace(bB,`
`).replace(CB,"")}function If(t,e,n){if(e=JS(e),JS(t)!==e&&n)throw Error(X(425))}function qp(){}var Sw=null,bw=null;function Cw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Pw=typeof setTimeout=="function"?setTimeout:void 0,PB=typeof clearTimeout=="function"?clearTimeout:void 0,ZS=typeof Promise=="function"?Promise:void 0,RB=typeof queueMicrotask=="function"?queueMicrotask:typeof ZS<"u"?function(t){return ZS.resolve(null).then(t).catch(IB)}:Pw;function IB(t){setTimeout(function(){throw t})}function Xy(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),wd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);wd(e)}function fo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function eb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var jc=Math.random().toString(36).slice(2),xs="__reactFiber$"+jc,Sd="__reactProps$"+jc,di="__reactContainer$"+jc,Rw="__reactEvents$"+jc,AB="__reactListeners$"+jc,NB="__reactHandles$"+jc;function da(t){var e=t[xs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[di]||n[xs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=eb(t);t!==null;){if(n=t[xs])return n;t=eb(t)}return e}t=n,n=t.parentNode}return null}function yh(t){return t=t[xs]||t[di],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function rg(t){return t[Sd]||null}var Iw=[],Cl=-1;function Fo(t){return{current:t}}function Pt(t){0>Cl||(t.current=Iw[Cl],Iw[Cl]=null,Cl--)}function xt(t,e){Cl++,Iw[Cl]=t.current,t.current=e}var So={},Un=Fo(So),cr=Fo(!1),Na=So;function mc(t,e){var n=t.type.contextTypes;if(!n)return So;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ur(t){return t=t.childContextTypes,t!=null}function Qp(){Pt(cr),Pt(Un)}function tb(t,e,n){if(Un.current!==So)throw Error(X(168));xt(Un,e),xt(cr,n)}function eA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(X(108,mU(t)||"Unknown",s));return jt({},n,r)}function Yp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||So,Na=Un.current,xt(Un,t),xt(cr,cr.current),!0}function nb(t,e,n){var r=t.stateNode;if(!r)throw Error(X(169));n?(t=eA(t,e,Na),r.__reactInternalMemoizedMergedChildContext=t,Pt(cr),Pt(Un),xt(Un,t)):Pt(cr),xt(cr,n)}var Ws=null,sg=!1,Jy=!1;function tA(t){Ws===null?Ws=[t]:Ws.push(t)}function DB(t){sg=!0,tA(t)}function Uo(){if(!Jy&&Ws!==null){Jy=!0;var t=0,e=ht;try{var n=Ws;for(ht=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ws=null,sg=!1}catch(s){throw Ws!==null&&(Ws=Ws.slice(t+1)),CI(D_,Uo),s}finally{ht=e,Jy=!1}}return null}var Pl=[],Rl=0,Xp=null,Jp=0,Or=[],Lr=0,Da=null,Gs=1,qs="";function ia(t,e){Pl[Rl++]=Jp,Pl[Rl++]=Xp,Xp=t,Jp=e}function nA(t,e,n){Or[Lr++]=Gs,Or[Lr++]=qs,Or[Lr++]=Da,Da=t;var r=Gs;t=qs;var s=32-ss(r)-1;r&=~(1<<s),n+=1;var i=32-ss(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Gs=1<<32-ss(e)+s|n<<s|r,qs=i+t}else Gs=1<<i|n<<s|r,qs=t}function B_(t){t.return!==null&&(ia(t,1),nA(t,1,0))}function $_(t){for(;t===Xp;)Xp=Pl[--Rl],Pl[Rl]=null,Jp=Pl[--Rl],Pl[Rl]=null;for(;t===Da;)Da=Or[--Lr],Or[Lr]=null,qs=Or[--Lr],Or[Lr]=null,Gs=Or[--Lr],Or[Lr]=null}var _r=null,vr=null,At=!1,Zr=null;function rA(t,e){var n=Vr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function rb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,_r=t,vr=fo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,_r=t,vr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Da!==null?{id:Gs,overflow:qs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Vr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,_r=t,vr=null,!0):!1;default:return!1}}function Aw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Nw(t){if(At){var e=vr;if(e){var n=e;if(!rb(t,e)){if(Aw(t))throw Error(X(418));e=fo(n.nextSibling);var r=_r;e&&rb(t,e)?rA(r,n):(t.flags=t.flags&-4097|2,At=!1,_r=t)}}else{if(Aw(t))throw Error(X(418));t.flags=t.flags&-4097|2,At=!1,_r=t}}}function sb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_r=t}function Af(t){if(t!==_r)return!1;if(!At)return sb(t),At=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Cw(t.type,t.memoizedProps)),e&&(e=vr)){if(Aw(t))throw sA(),Error(X(418));for(;e;)rA(t,e),e=fo(e.nextSibling)}if(sb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vr=fo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vr=null}}else vr=_r?fo(t.stateNode.nextSibling):null;return!0}function sA(){for(var t=vr;t;)t=fo(t.nextSibling)}function gc(){vr=_r=null,At=!1}function z_(t){Zr===null?Zr=[t]:Zr.push(t)}var kB=Ti.ReactCurrentBatchConfig;function yu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function Nf(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ib(t){var e=t._init;return e(t._payload)}function iA(t){function e(_,y){if(t){var S=_.deletions;S===null?(_.deletions=[y],_.flags|=16):S.push(y)}}function n(_,y){if(!t)return null;for(;y!==null;)e(_,y),y=y.sibling;return null}function r(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function s(_,y){return _=yo(_,y),_.index=0,_.sibling=null,_}function i(_,y,S){return _.index=S,t?(S=_.alternate,S!==null?(S=S.index,S<y?(_.flags|=2,y):S):(_.flags|=2,y)):(_.flags|=1048576,y)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,y,S,R){return y===null||y.tag!==6?(y=iv(S,_.mode,R),y.return=_,y):(y=s(y,S),y.return=_,y)}function l(_,y,S,R){var D=S.type;return D===xl?u(_,y,S.props.children,R,S.key):y!==null&&(y.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Ui&&ib(D)===y.type)?(R=s(y,S.props),R.ref=yu(_,y,S),R.return=_,R):(R=yp(S.type,S.key,S.props,null,_.mode,R),R.ref=yu(_,y,S),R.return=_,R)}function c(_,y,S,R){return y===null||y.tag!==4||y.stateNode.containerInfo!==S.containerInfo||y.stateNode.implementation!==S.implementation?(y=ov(S,_.mode,R),y.return=_,y):(y=s(y,S.children||[]),y.return=_,y)}function u(_,y,S,R,D){return y===null||y.tag!==7?(y=Pa(S,_.mode,R,D),y.return=_,y):(y=s(y,S),y.return=_,y)}function d(_,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return y=iv(""+y,_.mode,S),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case _f:return S=yp(y.type,y.key,y.props,null,_.mode,S),S.ref=yu(_,null,y),S.return=_,S;case _l:return y=ov(y,_.mode,S),y.return=_,y;case Ui:var R=y._init;return d(_,R(y._payload),S)}if(Du(y)||hu(y))return y=Pa(y,_.mode,S,null),y.return=_,y;Nf(_,y)}return null}function p(_,y,S,R){var D=y!==null?y.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return D!==null?null:a(_,y,""+S,R);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case _f:return S.key===D?l(_,y,S,R):null;case _l:return S.key===D?c(_,y,S,R):null;case Ui:return D=S._init,p(_,y,D(S._payload),R)}if(Du(S)||hu(S))return D!==null?null:u(_,y,S,R,null);Nf(_,S)}return null}function g(_,y,S,R,D){if(typeof R=="string"&&R!==""||typeof R=="number")return _=_.get(S)||null,a(y,_,""+R,D);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case _f:return _=_.get(R.key===null?S:R.key)||null,l(y,_,R,D);case _l:return _=_.get(R.key===null?S:R.key)||null,c(y,_,R,D);case Ui:var O=R._init;return g(_,y,S,O(R._payload),D)}if(Du(R)||hu(R))return _=_.get(S)||null,u(y,_,R,D,null);Nf(y,R)}return null}function w(_,y,S,R){for(var D=null,O=null,C=y,T=y=0,P=null;C!==null&&T<S.length;T++){C.index>T?(P=C,C=null):P=C.sibling;var I=p(_,C,S[T],R);if(I===null){C===null&&(C=P);break}t&&C&&I.alternate===null&&e(_,C),y=i(I,y,T),O===null?D=I:O.sibling=I,O=I,C=P}if(T===S.length)return n(_,C),At&&ia(_,T),D;if(C===null){for(;T<S.length;T++)C=d(_,S[T],R),C!==null&&(y=i(C,y,T),O===null?D=C:O.sibling=C,O=C);return At&&ia(_,T),D}for(C=r(_,C);T<S.length;T++)P=g(C,_,T,S[T],R),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?T:P.key),y=i(P,y,T),O===null?D=P:O.sibling=P,O=P);return t&&C.forEach(function(M){return e(_,M)}),At&&ia(_,T),D}function v(_,y,S,R){var D=hu(S);if(typeof D!="function")throw Error(X(150));if(S=D.call(S),S==null)throw Error(X(151));for(var O=D=null,C=y,T=y=0,P=null,I=S.next();C!==null&&!I.done;T++,I=S.next()){C.index>T?(P=C,C=null):P=C.sibling;var M=p(_,C,I.value,R);if(M===null){C===null&&(C=P);break}t&&C&&M.alternate===null&&e(_,C),y=i(M,y,T),O===null?D=M:O.sibling=M,O=M,C=P}if(I.done)return n(_,C),At&&ia(_,T),D;if(C===null){for(;!I.done;T++,I=S.next())I=d(_,I.value,R),I!==null&&(y=i(I,y,T),O===null?D=I:O.sibling=I,O=I);return At&&ia(_,T),D}for(C=r(_,C);!I.done;T++,I=S.next())I=g(C,_,T,I.value,R),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?T:I.key),y=i(I,y,T),O===null?D=I:O.sibling=I,O=I);return t&&C.forEach(function(k){return e(_,k)}),At&&ia(_,T),D}function E(_,y,S,R){if(typeof S=="object"&&S!==null&&S.type===xl&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case _f:e:{for(var D=S.key,O=y;O!==null;){if(O.key===D){if(D=S.type,D===xl){if(O.tag===7){n(_,O.sibling),y=s(O,S.props.children),y.return=_,_=y;break e}}else if(O.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Ui&&ib(D)===O.type){n(_,O.sibling),y=s(O,S.props),y.ref=yu(_,O,S),y.return=_,_=y;break e}n(_,O);break}else e(_,O);O=O.sibling}S.type===xl?(y=Pa(S.props.children,_.mode,R,S.key),y.return=_,_=y):(R=yp(S.type,S.key,S.props,null,_.mode,R),R.ref=yu(_,y,S),R.return=_,_=R)}return o(_);case _l:e:{for(O=S.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===S.containerInfo&&y.stateNode.implementation===S.implementation){n(_,y.sibling),y=s(y,S.children||[]),y.return=_,_=y;break e}else{n(_,y);break}else e(_,y);y=y.sibling}y=ov(S,_.mode,R),y.return=_,_=y}return o(_);case Ui:return O=S._init,E(_,y,O(S._payload),R)}if(Du(S))return w(_,y,S,R);if(hu(S))return v(_,y,S,R);Nf(_,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,y!==null&&y.tag===6?(n(_,y.sibling),y=s(y,S),y.return=_,_=y):(n(_,y),y=iv(S,_.mode,R),y.return=_,_=y),o(_)):n(_,y)}return E}var yc=iA(!0),oA=iA(!1),Zp=Fo(null),em=null,Il=null,K_=null;function W_(){K_=Il=em=null}function H_(t){var e=Zp.current;Pt(Zp),t._currentValue=e}function Dw(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function zl(t,e){em=t,K_=Il=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(lr=!0),t.firstContext=null)}function $r(t){var e=t._currentValue;if(K_!==t)if(t={context:t,memoizedValue:e,next:null},Il===null){if(em===null)throw Error(X(308));Il=t,em.dependencies={lanes:0,firstContext:t}}else Il=Il.next=t;return e}var ha=null;function G_(t){ha===null?ha=[t]:ha.push(t)}function aA(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,G_(e)):(n.next=s.next,s.next=n),e.interleaved=n,hi(t,r)}function hi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Bi=!1;function q_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ri(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function po(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ot&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,hi(t,n)}return s=r.interleaved,s===null?(e.next=e,G_(r)):(e.next=s.next,s.next=e),r.interleaved=e,hi(t,n)}function dp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,k_(t,n)}}function ob(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function tm(t,e,n,r){var s=t.updateQueue;Bi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,v=a;switch(p=e,g=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){d=w.call(g,d,p);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,p=typeof w=="function"?w.call(g,d,p):w,p==null)break e;d=jt({},d,p);break e;case 2:Bi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=g,l=d):u=u.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ma|=o,t.lanes=o,t.memoizedState=d}}function ab(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(X(191,s));s.call(r)}}}var vh={},Cs=Fo(vh),bd=Fo(vh),Cd=Fo(vh);function fa(t){if(t===vh)throw Error(X(174));return t}function Q_(t,e){switch(xt(Cd,e),xt(bd,t),xt(Cs,vh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:hw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=hw(e,t)}Pt(Cs),xt(Cs,e)}function vc(){Pt(Cs),Pt(bd),Pt(Cd)}function cA(t){fa(Cd.current);var e=fa(Cs.current),n=hw(e,t.type);e!==n&&(xt(bd,t),xt(Cs,n))}function Y_(t){bd.current===t&&(Pt(Cs),Pt(bd))}var kt=Fo(0);function nm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zy=[];function X_(){for(var t=0;t<Zy.length;t++)Zy[t]._workInProgressVersionPrimary=null;Zy.length=0}var hp=Ti.ReactCurrentDispatcher,ev=Ti.ReactCurrentBatchConfig,ka=0,Lt=null,an=null,fn=null,rm=!1,Yu=!1,Pd=0,MB=0;function An(){throw Error(X(321))}function J_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!as(t[n],e[n]))return!1;return!0}function Z_(t,e,n,r,s,i){if(ka=i,Lt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hp.current=t===null||t.memoizedState===null?VB:FB,t=n(r,s),Yu){i=0;do{if(Yu=!1,Pd=0,25<=i)throw Error(X(301));i+=1,fn=an=null,e.updateQueue=null,hp.current=UB,t=n(r,s)}while(Yu)}if(hp.current=sm,e=an!==null&&an.next!==null,ka=0,fn=an=Lt=null,rm=!1,e)throw Error(X(300));return t}function ex(){var t=Pd!==0;return Pd=0,t}function gs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Lt.memoizedState=fn=t:fn=fn.next=t,fn}function zr(){if(an===null){var t=Lt.alternate;t=t!==null?t.memoizedState:null}else t=an.next;var e=fn===null?Lt.memoizedState:fn.next;if(e!==null)fn=e,an=t;else{if(t===null)throw Error(X(310));an=t,t={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},fn===null?Lt.memoizedState=fn=t:fn=fn.next=t}return fn}function Rd(t,e){return typeof e=="function"?e(t):e}function tv(t){var e=zr(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=an,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((ka&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Lt.lanes|=u,Ma|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,as(r,e.memoizedState)||(lr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Lt.lanes|=i,Ma|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function nv(t){var e=zr(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);as(i,e.memoizedState)||(lr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function uA(){}function dA(t,e){var n=Lt,r=zr(),s=e(),i=!as(r.memoizedState,s);if(i&&(r.memoizedState=s,lr=!0),r=r.queue,tx(pA.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||fn!==null&&fn.memoizedState.tag&1){if(n.flags|=2048,Id(9,fA.bind(null,n,r,s,e),void 0,null),pn===null)throw Error(X(349));ka&30||hA(n,e,s)}return s}function hA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Lt.updateQueue,e===null?(e={lastEffect:null,stores:null},Lt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function fA(t,e,n,r){e.value=n,e.getSnapshot=r,mA(e)&&gA(t)}function pA(t,e,n){return n(function(){mA(e)&&gA(t)})}function mA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!as(t,n)}catch{return!0}}function gA(t){var e=hi(t,1);e!==null&&is(e,t,1,-1)}function lb(t){var e=gs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rd,lastRenderedState:t},e.queue=t,t=t.dispatch=jB.bind(null,Lt,t),[e.memoizedState,t]}function Id(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Lt.updateQueue,e===null?(e={lastEffect:null,stores:null},Lt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function yA(){return zr().memoizedState}function fp(t,e,n,r){var s=gs();Lt.flags|=t,s.memoizedState=Id(1|e,n,void 0,r===void 0?null:r)}function ig(t,e,n,r){var s=zr();r=r===void 0?null:r;var i=void 0;if(an!==null){var o=an.memoizedState;if(i=o.destroy,r!==null&&J_(r,o.deps)){s.memoizedState=Id(e,n,i,r);return}}Lt.flags|=t,s.memoizedState=Id(1|e,n,i,r)}function cb(t,e){return fp(8390656,8,t,e)}function tx(t,e){return ig(2048,8,t,e)}function vA(t,e){return ig(4,2,t,e)}function wA(t,e){return ig(4,4,t,e)}function _A(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xA(t,e,n){return n=n!=null?n.concat([t]):null,ig(4,4,_A.bind(null,e,t),n)}function nx(){}function EA(t,e){var n=zr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&J_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function TA(t,e){var n=zr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&J_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function SA(t,e,n){return ka&21?(as(n,e)||(n=II(),Lt.lanes|=n,Ma|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,lr=!0),t.memoizedState=n)}function OB(t,e){var n=ht;ht=n!==0&&4>n?n:4,t(!0);var r=ev.transition;ev.transition={};try{t(!1),e()}finally{ht=n,ev.transition=r}}function bA(){return zr().memoizedState}function LB(t,e,n){var r=go(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},CA(t))PA(e,n);else if(n=aA(t,e,n,r),n!==null){var s=Zn();is(n,t,r,s),RA(n,e,r)}}function jB(t,e,n){var r=go(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(CA(t))PA(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,as(a,o)){var l=e.interleaved;l===null?(s.next=s,G_(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=aA(t,e,s,r),n!==null&&(s=Zn(),is(n,t,r,s),RA(n,e,r))}}function CA(t){var e=t.alternate;return t===Lt||e!==null&&e===Lt}function PA(t,e){Yu=rm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function RA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,k_(t,n)}}var sm={readContext:$r,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useInsertionEffect:An,useLayoutEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useMutableSource:An,useSyncExternalStore:An,useId:An,unstable_isNewReconciler:!1},VB={readContext:$r,useCallback:function(t,e){return gs().memoizedState=[t,e===void 0?null:e],t},useContext:$r,useEffect:cb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,fp(4194308,4,_A.bind(null,e,t),n)},useLayoutEffect:function(t,e){return fp(4194308,4,t,e)},useInsertionEffect:function(t,e){return fp(4,2,t,e)},useMemo:function(t,e){var n=gs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=gs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=LB.bind(null,Lt,t),[r.memoizedState,t]},useRef:function(t){var e=gs();return t={current:t},e.memoizedState=t},useState:lb,useDebugValue:nx,useDeferredValue:function(t){return gs().memoizedState=t},useTransition:function(){var t=lb(!1),e=t[0];return t=OB.bind(null,t[1]),gs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Lt,s=gs();if(At){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),pn===null)throw Error(X(349));ka&30||hA(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,cb(pA.bind(null,r,i,t),[t]),r.flags|=2048,Id(9,fA.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=gs(),e=pn.identifierPrefix;if(At){var n=qs,r=Gs;n=(r&~(1<<32-ss(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Pd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=MB++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},FB={readContext:$r,useCallback:EA,useContext:$r,useEffect:tx,useImperativeHandle:xA,useInsertionEffect:vA,useLayoutEffect:wA,useMemo:TA,useReducer:tv,useRef:yA,useState:function(){return tv(Rd)},useDebugValue:nx,useDeferredValue:function(t){var e=zr();return SA(e,an.memoizedState,t)},useTransition:function(){var t=tv(Rd)[0],e=zr().memoizedState;return[t,e]},useMutableSource:uA,useSyncExternalStore:dA,useId:bA,unstable_isNewReconciler:!1},UB={readContext:$r,useCallback:EA,useContext:$r,useEffect:tx,useImperativeHandle:xA,useInsertionEffect:vA,useLayoutEffect:wA,useMemo:TA,useReducer:nv,useRef:yA,useState:function(){return nv(Rd)},useDebugValue:nx,useDeferredValue:function(t){var e=zr();return an===null?e.memoizedState=t:SA(e,an.memoizedState,t)},useTransition:function(){var t=nv(Rd)[0],e=zr().memoizedState;return[t,e]},useMutableSource:uA,useSyncExternalStore:dA,useId:bA,unstable_isNewReconciler:!1};function Qr(t,e){if(t&&t.defaultProps){e=jt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function kw(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:jt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var og={isMounted:function(t){return(t=t._reactInternals)?qa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Zn(),s=go(t),i=ri(r,s);i.payload=e,n!=null&&(i.callback=n),e=po(t,i,s),e!==null&&(is(e,t,s,r),dp(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Zn(),s=go(t),i=ri(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=po(t,i,s),e!==null&&(is(e,t,s,r),dp(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zn(),r=go(t),s=ri(n,r);s.tag=2,e!=null&&(s.callback=e),e=po(t,s,r),e!==null&&(is(e,t,r,n),dp(e,t,r))}};function ub(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!xd(n,r)||!xd(s,i):!0}function IA(t,e,n){var r=!1,s=So,i=e.contextType;return typeof i=="object"&&i!==null?i=$r(i):(s=ur(e)?Na:Un.current,r=e.contextTypes,i=(r=r!=null)?mc(t,s):So),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=og,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function db(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&og.enqueueReplaceState(e,e.state,null)}function Mw(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},q_(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=$r(i):(i=ur(e)?Na:Un.current,s.context=mc(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(kw(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&og.enqueueReplaceState(s,s.state,null),tm(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function wc(t,e){try{var n="",r=e;do n+=pU(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function rv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ow(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var BB=typeof WeakMap=="function"?WeakMap:Map;function AA(t,e,n){n=ri(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){om||(om=!0,Ww=r),Ow(t,e)},n}function NA(t,e,n){n=ri(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ow(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ow(t,e),typeof r!="function"&&(mo===null?mo=new Set([this]):mo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function hb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new BB;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=t$.bind(null,t,e,n),e.then(t,t))}function fb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function pb(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ri(-1,1),e.tag=2,po(n,e,1))),n.lanes|=1),t)}var $B=Ti.ReactCurrentOwner,lr=!1;function Yn(t,e,n,r){e.child=t===null?oA(e,null,n,r):yc(e,t.child,n,r)}function mb(t,e,n,r,s){n=n.render;var i=e.ref;return zl(e,s),r=Z_(t,e,n,r,i,s),n=ex(),t!==null&&!lr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,fi(t,e,s)):(At&&n&&B_(e),e.flags|=1,Yn(t,e,r,s),e.child)}function gb(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!ux(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,DA(t,e,i,r,s)):(t=yp(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:xd,n(o,r)&&t.ref===e.ref)return fi(t,e,s)}return e.flags|=1,t=yo(i,r),t.ref=e.ref,t.return=e,e.child=t}function DA(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(xd(i,r)&&t.ref===e.ref)if(lr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(lr=!0);else return e.lanes=t.lanes,fi(t,e,s)}return Lw(t,e,n,r,s)}function kA(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(Nl,mr),mr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xt(Nl,mr),mr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,xt(Nl,mr),mr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,xt(Nl,mr),mr|=r;return Yn(t,e,s,n),e.child}function MA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Lw(t,e,n,r,s){var i=ur(n)?Na:Un.current;return i=mc(e,i),zl(e,s),n=Z_(t,e,n,r,i,s),r=ex(),t!==null&&!lr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,fi(t,e,s)):(At&&r&&B_(e),e.flags|=1,Yn(t,e,n,s),e.child)}function yb(t,e,n,r,s){if(ur(n)){var i=!0;Yp(e)}else i=!1;if(zl(e,s),e.stateNode===null)pp(t,e),IA(e,n,r),Mw(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=$r(c):(c=ur(n)?Na:Un.current,c=mc(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&db(e,o,r,c),Bi=!1;var p=e.memoizedState;o.state=p,tm(e,r,o,s),l=e.memoizedState,a!==r||p!==l||cr.current||Bi?(typeof u=="function"&&(kw(e,n,u,r),l=e.memoizedState),(a=Bi||ub(e,n,a,r,p,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,lA(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Qr(e.type,a),o.props=c,d=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=$r(l):(l=ur(n)?Na:Un.current,l=mc(e,l));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&db(e,o,r,l),Bi=!1,p=e.memoizedState,o.state=p,tm(e,r,o,s);var w=e.memoizedState;a!==d||p!==w||cr.current||Bi?(typeof g=="function"&&(kw(e,n,g,r),w=e.memoizedState),(c=Bi||ub(e,n,c,r,p,w,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return jw(t,e,n,r,i,s)}function jw(t,e,n,r,s,i){MA(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&nb(e,n,!1),fi(t,e,i);r=e.stateNode,$B.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=yc(e,t.child,null,i),e.child=yc(e,null,a,i)):Yn(t,e,a,i),e.memoizedState=r.state,s&&nb(e,n,!0),e.child}function OA(t){var e=t.stateNode;e.pendingContext?tb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&tb(t,e.context,!1),Q_(t,e.containerInfo)}function vb(t,e,n,r,s){return gc(),z_(s),e.flags|=256,Yn(t,e,n,r),e.child}var Vw={dehydrated:null,treeContext:null,retryLane:0};function Fw(t){return{baseLanes:t,cachePool:null,transitions:null}}function LA(t,e,n){var r=e.pendingProps,s=kt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),xt(kt,s&1),t===null)return Nw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=cg(o,r,0,null),t=Pa(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Fw(n),e.memoizedState=Vw,t):rx(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return zB(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=yo(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=yo(a,i):(i=Pa(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Fw(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Vw,r}return i=t.child,t=i.sibling,r=yo(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function rx(t,e){return e=cg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Df(t,e,n,r){return r!==null&&z_(r),yc(e,t.child,null,n),t=rx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zB(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=rv(Error(X(422))),Df(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=cg({mode:"visible",children:r.children},s,0,null),i=Pa(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&yc(e,t.child,null,o),e.child.memoizedState=Fw(o),e.memoizedState=Vw,i);if(!(e.mode&1))return Df(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(X(419)),r=rv(i,r,void 0),Df(t,e,o,r)}if(a=(o&t.childLanes)!==0,lr||a){if(r=pn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,hi(t,s),is(r,t,s,-1))}return cx(),r=rv(Error(X(421))),Df(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=n$.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,vr=fo(s.nextSibling),_r=e,At=!0,Zr=null,t!==null&&(Or[Lr++]=Gs,Or[Lr++]=qs,Or[Lr++]=Da,Gs=t.id,qs=t.overflow,Da=e),e=rx(e,r.children),e.flags|=4096,e)}function wb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Dw(t.return,e,n)}function sv(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function jA(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Yn(t,e,r.children,n),r=kt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wb(t,n,e);else if(t.tag===19)wb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(xt(kt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&nm(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),sv(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&nm(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}sv(e,!0,n,null,i);break;case"together":sv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ma|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=yo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=yo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function KB(t,e,n){switch(e.tag){case 3:OA(e),gc();break;case 5:cA(e);break;case 1:ur(e.type)&&Yp(e);break;case 4:Q_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;xt(Zp,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(xt(kt,kt.current&1),e.flags|=128,null):n&e.child.childLanes?LA(t,e,n):(xt(kt,kt.current&1),t=fi(t,e,n),t!==null?t.sibling:null);xt(kt,kt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return jA(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),xt(kt,kt.current),r)break;return null;case 22:case 23:return e.lanes=0,kA(t,e,n)}return fi(t,e,n)}var VA,Uw,FA,UA;VA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Uw=function(){};FA=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,fa(Cs.current);var i=null;switch(n){case"input":s=lw(t,s),r=lw(t,r),i=[];break;case"select":s=jt({},s,{value:void 0}),r=jt({},r,{value:void 0}),i=[];break;case"textarea":s=dw(t,s),r=dw(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=qp)}fw(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(pd.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(pd.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ct("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};UA=function(t,e,n,r){n!==r&&(e.flags|=4)};function vu(t,e){if(!At)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Nn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function WB(t,e,n){var r=e.pendingProps;switch($_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(e),null;case 1:return ur(e.type)&&Qp(),Nn(e),null;case 3:return r=e.stateNode,vc(),Pt(cr),Pt(Un),X_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Af(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zr!==null&&(qw(Zr),Zr=null))),Uw(t,e),Nn(e),null;case 5:Y_(e);var s=fa(Cd.current);if(n=e.type,t!==null&&e.stateNode!=null)FA(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(X(166));return Nn(e),null}if(t=fa(Cs.current),Af(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[xs]=e,r[Sd]=i,t=(e.mode&1)!==0,n){case"dialog":Ct("cancel",r),Ct("close",r);break;case"iframe":case"object":case"embed":Ct("load",r);break;case"video":case"audio":for(s=0;s<Mu.length;s++)Ct(Mu[s],r);break;case"source":Ct("error",r);break;case"img":case"image":case"link":Ct("error",r),Ct("load",r);break;case"details":Ct("toggle",r);break;case"input":RS(r,i),Ct("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ct("invalid",r);break;case"textarea":AS(r,i),Ct("invalid",r)}fw(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&If(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&If(r.textContent,a,t),s=["children",""+a]):pd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ct("scroll",r)}switch(n){case"input":xf(r),IS(r,i,!0);break;case"textarea":xf(r),NS(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=qp)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=pI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[xs]=e,t[Sd]=r,VA(t,e,!1,!1),e.stateNode=t;e:{switch(o=pw(n,r),n){case"dialog":Ct("cancel",t),Ct("close",t),s=r;break;case"iframe":case"object":case"embed":Ct("load",t),s=r;break;case"video":case"audio":for(s=0;s<Mu.length;s++)Ct(Mu[s],t);s=r;break;case"source":Ct("error",t),s=r;break;case"img":case"image":case"link":Ct("error",t),Ct("load",t),s=r;break;case"details":Ct("toggle",t),s=r;break;case"input":RS(t,r),s=lw(t,r),Ct("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=jt({},r,{value:void 0}),Ct("invalid",t);break;case"textarea":AS(t,r),s=dw(t,r),Ct("invalid",t);break;default:s=r}fw(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?yI(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&mI(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&md(t,l):typeof l=="number"&&md(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(pd.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ct("scroll",t):l!=null&&P_(t,i,l,o))}switch(n){case"input":xf(t),IS(t,r,!1);break;case"textarea":xf(t),NS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+To(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Fl(t,!!r.multiple,i,!1):r.defaultValue!=null&&Fl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=qp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nn(e),null;case 6:if(t&&e.stateNode!=null)UA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(n=fa(Cd.current),fa(Cs.current),Af(e)){if(r=e.stateNode,n=e.memoizedProps,r[xs]=e,(i=r.nodeValue!==n)&&(t=_r,t!==null))switch(t.tag){case 3:If(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&If(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xs]=e,e.stateNode=r}return Nn(e),null;case 13:if(Pt(kt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(At&&vr!==null&&e.mode&1&&!(e.flags&128))sA(),gc(),e.flags|=98560,i=!1;else if(i=Af(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(X(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(X(317));i[xs]=e}else gc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nn(e),i=!1}else Zr!==null&&(qw(Zr),Zr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||kt.current&1?un===0&&(un=3):cx())),e.updateQueue!==null&&(e.flags|=4),Nn(e),null);case 4:return vc(),Uw(t,e),t===null&&Ed(e.stateNode.containerInfo),Nn(e),null;case 10:return H_(e.type._context),Nn(e),null;case 17:return ur(e.type)&&Qp(),Nn(e),null;case 19:if(Pt(kt),i=e.memoizedState,i===null)return Nn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)vu(i,!1);else{if(un!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=nm(t),o!==null){for(e.flags|=128,vu(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return xt(kt,kt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Yt()>_c&&(e.flags|=128,r=!0,vu(i,!1),e.lanes=4194304)}else{if(!r)if(t=nm(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),vu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!At)return Nn(e),null}else 2*Yt()-i.renderingStartTime>_c&&n!==1073741824&&(e.flags|=128,r=!0,vu(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Yt(),e.sibling=null,n=kt.current,xt(kt,r?n&1|2:n&1),e):(Nn(e),null);case 22:case 23:return lx(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?mr&1073741824&&(Nn(e),e.subtreeFlags&6&&(e.flags|=8192)):Nn(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function HB(t,e){switch($_(e),e.tag){case 1:return ur(e.type)&&Qp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return vc(),Pt(cr),Pt(Un),X_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Y_(e),null;case 13:if(Pt(kt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));gc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pt(kt),null;case 4:return vc(),null;case 10:return H_(e.type._context),null;case 22:case 23:return lx(),null;case 24:return null;default:return null}}var kf=!1,Ln=!1,GB=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Al(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$t(t,e,r)}else n.current=null}function Bw(t,e,n){try{n()}catch(r){$t(t,e,r)}}var _b=!1;function qB(t,e){if(Sw=Wp,t=WI(),U_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,p=null;t:for(;;){for(var g;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)p=d,d=g;for(;;){if(d===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++u===r&&(l=o),(g=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(bw={focusedElem:t,selectionRange:n},Wp=!1,fe=e;fe!==null;)if(e=fe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,fe=t;else for(;fe!==null;){e=fe;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,E=w.memoizedState,_=e.stateNode,y=_.getSnapshotBeforeUpdate(e.elementType===e.type?v:Qr(e.type,v),E);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(R){$t(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,fe=t;break}fe=e.return}return w=_b,_b=!1,w}function Xu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Bw(e,n,i)}s=s.next}while(s!==r)}}function ag(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function $w(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function BA(t){var e=t.alternate;e!==null&&(t.alternate=null,BA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xs],delete e[Sd],delete e[Rw],delete e[AB],delete e[NB])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $A(t){return t.tag===5||t.tag===3||t.tag===4}function xb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$A(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=qp));else if(r!==4&&(t=t.child,t!==null))for(zw(t,e,n),t=t.sibling;t!==null;)zw(t,e,n),t=t.sibling}function Kw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Kw(t,e,n),t=t.sibling;t!==null;)Kw(t,e,n),t=t.sibling}var yn=null,Xr=!1;function Di(t,e,n){for(n=n.child;n!==null;)zA(t,e,n),n=n.sibling}function zA(t,e,n){if(bs&&typeof bs.onCommitFiberUnmount=="function")try{bs.onCommitFiberUnmount(Zm,n)}catch{}switch(n.tag){case 5:Ln||Al(n,e);case 6:var r=yn,s=Xr;yn=null,Di(t,e,n),yn=r,Xr=s,yn!==null&&(Xr?(t=yn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):yn.removeChild(n.stateNode));break;case 18:yn!==null&&(Xr?(t=yn,n=n.stateNode,t.nodeType===8?Xy(t.parentNode,n):t.nodeType===1&&Xy(t,n),wd(t)):Xy(yn,n.stateNode));break;case 4:r=yn,s=Xr,yn=n.stateNode.containerInfo,Xr=!0,Di(t,e,n),yn=r,Xr=s;break;case 0:case 11:case 14:case 15:if(!Ln&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Bw(n,e,o),s=s.next}while(s!==r)}Di(t,e,n);break;case 1:if(!Ln&&(Al(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){$t(n,e,a)}Di(t,e,n);break;case 21:Di(t,e,n);break;case 22:n.mode&1?(Ln=(r=Ln)||n.memoizedState!==null,Di(t,e,n),Ln=r):Di(t,e,n);break;default:Di(t,e,n)}}function Eb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new GB),e.forEach(function(r){var s=r$.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Gr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:yn=a.stateNode,Xr=!1;break e;case 3:yn=a.stateNode.containerInfo,Xr=!0;break e;case 4:yn=a.stateNode.containerInfo,Xr=!0;break e}a=a.return}if(yn===null)throw Error(X(160));zA(i,o,s),yn=null,Xr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){$t(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)KA(e,t),e=e.sibling}function KA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gr(e,t),ms(t),r&4){try{Xu(3,t,t.return),ag(3,t)}catch(v){$t(t,t.return,v)}try{Xu(5,t,t.return)}catch(v){$t(t,t.return,v)}}break;case 1:Gr(e,t),ms(t),r&512&&n!==null&&Al(n,n.return);break;case 5:if(Gr(e,t),ms(t),r&512&&n!==null&&Al(n,n.return),t.flags&32){var s=t.stateNode;try{md(s,"")}catch(v){$t(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&hI(s,i),pw(a,o);var c=pw(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?yI(s,d):u==="dangerouslySetInnerHTML"?mI(s,d):u==="children"?md(s,d):P_(s,u,d,c)}switch(a){case"input":cw(s,i);break;case"textarea":fI(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Fl(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?Fl(s,!!i.multiple,i.defaultValue,!0):Fl(s,!!i.multiple,i.multiple?[]:"",!1))}s[Sd]=i}catch(v){$t(t,t.return,v)}}break;case 6:if(Gr(e,t),ms(t),r&4){if(t.stateNode===null)throw Error(X(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){$t(t,t.return,v)}}break;case 3:if(Gr(e,t),ms(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wd(e.containerInfo)}catch(v){$t(t,t.return,v)}break;case 4:Gr(e,t),ms(t);break;case 13:Gr(e,t),ms(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ox=Yt())),r&4&&Eb(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ln=(c=Ln)||u,Gr(e,t),Ln=c):Gr(e,t),ms(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(fe=t,u=t.child;u!==null;){for(d=fe=u;fe!==null;){switch(p=fe,g=p.child,p.tag){case 0:case 11:case 14:case 15:Xu(4,p,p.return);break;case 1:Al(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(v){$t(r,n,v)}}break;case 5:Al(p,p.return);break;case 22:if(p.memoizedState!==null){Sb(d);continue}}g!==null?(g.return=p,fe=g):Sb(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=gI("display",o))}catch(v){$t(t,t.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){$t(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Gr(e,t),ms(t),r&4&&Eb(t);break;case 21:break;default:Gr(e,t),ms(t)}}function ms(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if($A(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(md(s,""),r.flags&=-33);var i=xb(t);Kw(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=xb(t);zw(t,a,o);break;default:throw Error(X(161))}}catch(l){$t(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function QB(t,e,n){fe=t,WA(t)}function WA(t,e,n){for(var r=(t.mode&1)!==0;fe!==null;){var s=fe,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||kf;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ln;a=kf;var c=Ln;if(kf=o,(Ln=l)&&!c)for(fe=s;fe!==null;)o=fe,l=o.child,o.tag===22&&o.memoizedState!==null?bb(s):l!==null?(l.return=o,fe=l):bb(s);for(;i!==null;)fe=i,WA(i),i=i.sibling;fe=s,kf=a,Ln=c}Tb(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,fe=i):Tb(t)}}function Tb(t){for(;fe!==null;){var e=fe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ln||ag(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ln)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Qr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&ab(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ab(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&wd(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}Ln||e.flags&512&&$w(e)}catch(p){$t(e,e.return,p)}}if(e===t){fe=null;break}if(n=e.sibling,n!==null){n.return=e.return,fe=n;break}fe=e.return}}function Sb(t){for(;fe!==null;){var e=fe;if(e===t){fe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,fe=n;break}fe=e.return}}function bb(t){for(;fe!==null;){var e=fe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ag(4,e)}catch(l){$t(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){$t(e,s,l)}}var i=e.return;try{$w(e)}catch(l){$t(e,i,l)}break;case 5:var o=e.return;try{$w(e)}catch(l){$t(e,o,l)}}}catch(l){$t(e,e.return,l)}if(e===t){fe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,fe=a;break}fe=e.return}}var YB=Math.ceil,im=Ti.ReactCurrentDispatcher,sx=Ti.ReactCurrentOwner,Fr=Ti.ReactCurrentBatchConfig,ot=0,pn=null,rn=null,xn=0,mr=0,Nl=Fo(0),un=0,Ad=null,Ma=0,lg=0,ix=0,Ju=null,ar=null,ox=0,_c=1/0,Ks=null,om=!1,Ww=null,mo=null,Mf=!1,io=null,am=0,Zu=0,Hw=null,mp=-1,gp=0;function Zn(){return ot&6?Yt():mp!==-1?mp:mp=Yt()}function go(t){return t.mode&1?ot&2&&xn!==0?xn&-xn:kB.transition!==null?(gp===0&&(gp=II()),gp):(t=ht,t!==0||(t=window.event,t=t===void 0?16:LI(t.type)),t):1}function is(t,e,n,r){if(50<Zu)throw Zu=0,Hw=null,Error(X(185));mh(t,n,r),(!(ot&2)||t!==pn)&&(t===pn&&(!(ot&2)&&(lg|=n),un===4&&zi(t,xn)),dr(t,r),n===1&&ot===0&&!(e.mode&1)&&(_c=Yt()+500,sg&&Uo()))}function dr(t,e){var n=t.callbackNode;kU(t,e);var r=Kp(t,t===pn?xn:0);if(r===0)n!==null&&MS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&MS(n),e===1)t.tag===0?DB(Cb.bind(null,t)):tA(Cb.bind(null,t)),RB(function(){!(ot&6)&&Uo()}),n=null;else{switch(AI(r)){case 1:n=D_;break;case 4:n=PI;break;case 16:n=zp;break;case 536870912:n=RI;break;default:n=zp}n=ZA(n,HA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function HA(t,e){if(mp=-1,gp=0,ot&6)throw Error(X(327));var n=t.callbackNode;if(Kl()&&t.callbackNode!==n)return null;var r=Kp(t,t===pn?xn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=lm(t,r);else{e=r;var s=ot;ot|=2;var i=qA();(pn!==t||xn!==e)&&(Ks=null,_c=Yt()+500,Ca(t,e));do try{ZB();break}catch(a){GA(t,a)}while(!0);W_(),im.current=i,ot=s,rn!==null?e=0:(pn=null,xn=0,e=un)}if(e!==0){if(e===2&&(s=ww(t),s!==0&&(r=s,e=Gw(t,s))),e===1)throw n=Ad,Ca(t,0),zi(t,r),dr(t,Yt()),n;if(e===6)zi(t,r);else{if(s=t.current.alternate,!(r&30)&&!XB(s)&&(e=lm(t,r),e===2&&(i=ww(t),i!==0&&(r=i,e=Gw(t,i))),e===1))throw n=Ad,Ca(t,0),zi(t,r),dr(t,Yt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(X(345));case 2:oa(t,ar,Ks);break;case 3:if(zi(t,r),(r&130023424)===r&&(e=ox+500-Yt(),10<e)){if(Kp(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Zn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Pw(oa.bind(null,t,ar,Ks),e);break}oa(t,ar,Ks);break;case 4:if(zi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-ss(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Yt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*YB(r/1960))-r,10<r){t.timeoutHandle=Pw(oa.bind(null,t,ar,Ks),r);break}oa(t,ar,Ks);break;case 5:oa(t,ar,Ks);break;default:throw Error(X(329))}}}return dr(t,Yt()),t.callbackNode===n?HA.bind(null,t):null}function Gw(t,e){var n=Ju;return t.current.memoizedState.isDehydrated&&(Ca(t,e).flags|=256),t=lm(t,e),t!==2&&(e=ar,ar=n,e!==null&&qw(e)),t}function qw(t){ar===null?ar=t:ar.push.apply(ar,t)}function XB(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!as(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function zi(t,e){for(e&=~ix,e&=~lg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ss(e),r=1<<n;t[n]=-1,e&=~r}}function Cb(t){if(ot&6)throw Error(X(327));Kl();var e=Kp(t,0);if(!(e&1))return dr(t,Yt()),null;var n=lm(t,e);if(t.tag!==0&&n===2){var r=ww(t);r!==0&&(e=r,n=Gw(t,r))}if(n===1)throw n=Ad,Ca(t,0),zi(t,e),dr(t,Yt()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,oa(t,ar,Ks),dr(t,Yt()),null}function ax(t,e){var n=ot;ot|=1;try{return t(e)}finally{ot=n,ot===0&&(_c=Yt()+500,sg&&Uo())}}function Oa(t){io!==null&&io.tag===0&&!(ot&6)&&Kl();var e=ot;ot|=1;var n=Fr.transition,r=ht;try{if(Fr.transition=null,ht=1,t)return t()}finally{ht=r,Fr.transition=n,ot=e,!(ot&6)&&Uo()}}function lx(){mr=Nl.current,Pt(Nl)}function Ca(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,PB(n)),rn!==null)for(n=rn.return;n!==null;){var r=n;switch($_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qp();break;case 3:vc(),Pt(cr),Pt(Un),X_();break;case 5:Y_(r);break;case 4:vc();break;case 13:Pt(kt);break;case 19:Pt(kt);break;case 10:H_(r.type._context);break;case 22:case 23:lx()}n=n.return}if(pn=t,rn=t=yo(t.current,null),xn=mr=e,un=0,Ad=null,ix=lg=Ma=0,ar=Ju=null,ha!==null){for(e=0;e<ha.length;e++)if(n=ha[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ha=null}return t}function GA(t,e){do{var n=rn;try{if(W_(),hp.current=sm,rm){for(var r=Lt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}rm=!1}if(ka=0,fn=an=Lt=null,Yu=!1,Pd=0,sx.current=null,n===null||n.return===null){un=1,Ad=e,rn=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=xn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=fb(o);if(g!==null){g.flags&=-257,pb(g,o,a,i,e),g.mode&1&&hb(i,c,e),e=g,l=c;var w=e.updateQueue;if(w===null){var v=new Set;v.add(l),e.updateQueue=v}else w.add(l);break e}else{if(!(e&1)){hb(i,c,e),cx();break e}l=Error(X(426))}}else if(At&&a.mode&1){var E=fb(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),pb(E,o,a,i,e),z_(wc(l,a));break e}}i=l=wc(l,a),un!==4&&(un=2),Ju===null?Ju=[i]:Ju.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=AA(i,l,e);ob(i,_);break e;case 1:a=l;var y=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(mo===null||!mo.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var R=NA(i,a,e);ob(i,R);break e}}i=i.return}while(i!==null)}YA(n)}catch(D){e=D,rn===n&&n!==null&&(rn=n=n.return);continue}break}while(!0)}function qA(){var t=im.current;return im.current=sm,t===null?sm:t}function cx(){(un===0||un===3||un===2)&&(un=4),pn===null||!(Ma&268435455)&&!(lg&268435455)||zi(pn,xn)}function lm(t,e){var n=ot;ot|=2;var r=qA();(pn!==t||xn!==e)&&(Ks=null,Ca(t,e));do try{JB();break}catch(s){GA(t,s)}while(!0);if(W_(),ot=n,im.current=r,rn!==null)throw Error(X(261));return pn=null,xn=0,un}function JB(){for(;rn!==null;)QA(rn)}function ZB(){for(;rn!==null&&!SU();)QA(rn)}function QA(t){var e=JA(t.alternate,t,mr);t.memoizedProps=t.pendingProps,e===null?YA(t):rn=e,sx.current=null}function YA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=HB(n,e),n!==null){n.flags&=32767,rn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{un=6,rn=null;return}}else if(n=WB(n,e,mr),n!==null){rn=n;return}if(e=e.sibling,e!==null){rn=e;return}rn=e=t}while(e!==null);un===0&&(un=5)}function oa(t,e,n){var r=ht,s=Fr.transition;try{Fr.transition=null,ht=1,e$(t,e,n,r)}finally{Fr.transition=s,ht=r}return null}function e$(t,e,n,r){do Kl();while(io!==null);if(ot&6)throw Error(X(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(MU(t,i),t===pn&&(rn=pn=null,xn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Mf||(Mf=!0,ZA(zp,function(){return Kl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Fr.transition,Fr.transition=null;var o=ht;ht=1;var a=ot;ot|=4,sx.current=null,qB(t,n),KA(n,t),_B(bw),Wp=!!Sw,bw=Sw=null,t.current=n,QB(n),bU(),ot=a,ht=o,Fr.transition=i}else t.current=n;if(Mf&&(Mf=!1,io=t,am=s),i=t.pendingLanes,i===0&&(mo=null),RU(n.stateNode),dr(t,Yt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(om)throw om=!1,t=Ww,Ww=null,t;return am&1&&t.tag!==0&&Kl(),i=t.pendingLanes,i&1?t===Hw?Zu++:(Zu=0,Hw=t):Zu=0,Uo(),null}function Kl(){if(io!==null){var t=AI(am),e=Fr.transition,n=ht;try{if(Fr.transition=null,ht=16>t?16:t,io===null)var r=!1;else{if(t=io,io=null,am=0,ot&6)throw Error(X(331));var s=ot;for(ot|=4,fe=t.current;fe!==null;){var i=fe,o=i.child;if(fe.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(fe=c;fe!==null;){var u=fe;switch(u.tag){case 0:case 11:case 15:Xu(8,u,i)}var d=u.child;if(d!==null)d.return=u,fe=d;else for(;fe!==null;){u=fe;var p=u.sibling,g=u.return;if(BA(u),u===c){fe=null;break}if(p!==null){p.return=g,fe=p;break}fe=g}}}var w=i.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}fe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,fe=o;else e:for(;fe!==null;){if(i=fe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xu(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,fe=_;break e}fe=i.return}}var y=t.current;for(fe=y;fe!==null;){o=fe;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,fe=S;else e:for(o=y;fe!==null;){if(a=fe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ag(9,a)}}catch(D){$t(a,a.return,D)}if(a===o){fe=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,fe=R;break e}fe=a.return}}if(ot=s,Uo(),bs&&typeof bs.onPostCommitFiberRoot=="function")try{bs.onPostCommitFiberRoot(Zm,t)}catch{}r=!0}return r}finally{ht=n,Fr.transition=e}}return!1}function Pb(t,e,n){e=wc(n,e),e=AA(t,e,1),t=po(t,e,1),e=Zn(),t!==null&&(mh(t,1,e),dr(t,e))}function $t(t,e,n){if(t.tag===3)Pb(t,t,n);else for(;e!==null;){if(e.tag===3){Pb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mo===null||!mo.has(r))){t=wc(n,t),t=NA(e,t,1),e=po(e,t,1),t=Zn(),e!==null&&(mh(e,1,t),dr(e,t));break}}e=e.return}}function t$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Zn(),t.pingedLanes|=t.suspendedLanes&n,pn===t&&(xn&n)===n&&(un===4||un===3&&(xn&130023424)===xn&&500>Yt()-ox?Ca(t,0):ix|=n),dr(t,e)}function XA(t,e){e===0&&(t.mode&1?(e=Sf,Sf<<=1,!(Sf&130023424)&&(Sf=4194304)):e=1);var n=Zn();t=hi(t,e),t!==null&&(mh(t,e,n),dr(t,n))}function n$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),XA(t,n)}function r$(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(e),XA(t,n)}var JA;JA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||cr.current)lr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return lr=!1,KB(t,e,n);lr=!!(t.flags&131072)}else lr=!1,At&&e.flags&1048576&&nA(e,Jp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;pp(t,e),t=e.pendingProps;var s=mc(e,Un.current);zl(e,n),s=Z_(null,e,r,t,s,n);var i=ex();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ur(r)?(i=!0,Yp(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,q_(e),s.updater=og,e.stateNode=s,s._reactInternals=e,Mw(e,r,t,n),e=jw(null,e,r,!0,i,n)):(e.tag=0,At&&i&&B_(e),Yn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(pp(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=i$(r),t=Qr(r,t),s){case 0:e=Lw(null,e,r,t,n);break e;case 1:e=yb(null,e,r,t,n);break e;case 11:e=mb(null,e,r,t,n);break e;case 14:e=gb(null,e,r,Qr(r.type,t),n);break e}throw Error(X(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Qr(r,s),Lw(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Qr(r,s),yb(t,e,r,s,n);case 3:e:{if(OA(e),t===null)throw Error(X(387));r=e.pendingProps,i=e.memoizedState,s=i.element,lA(t,e),tm(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=wc(Error(X(423)),e),e=vb(t,e,r,n,s);break e}else if(r!==s){s=wc(Error(X(424)),e),e=vb(t,e,r,n,s);break e}else for(vr=fo(e.stateNode.containerInfo.firstChild),_r=e,At=!0,Zr=null,n=oA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gc(),r===s){e=fi(t,e,n);break e}Yn(t,e,r,n)}e=e.child}return e;case 5:return cA(e),t===null&&Nw(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Cw(r,s)?o=null:i!==null&&Cw(r,i)&&(e.flags|=32),MA(t,e),Yn(t,e,o,n),e.child;case 6:return t===null&&Nw(e),null;case 13:return LA(t,e,n);case 4:return Q_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=yc(e,null,r,n):Yn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Qr(r,s),mb(t,e,r,s,n);case 7:return Yn(t,e,e.pendingProps,n),e.child;case 8:return Yn(t,e,e.pendingProps.children,n),e.child;case 12:return Yn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,xt(Zp,r._currentValue),r._currentValue=o,i!==null)if(as(i.value,o)){if(i.children===s.children&&!cr.current){e=fi(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ri(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Dw(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(X(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Dw(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Yn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,zl(e,n),s=$r(s),r=r(s),e.flags|=1,Yn(t,e,r,n),e.child;case 14:return r=e.type,s=Qr(r,e.pendingProps),s=Qr(r.type,s),gb(t,e,r,s,n);case 15:return DA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Qr(r,s),pp(t,e),e.tag=1,ur(r)?(t=!0,Yp(e)):t=!1,zl(e,n),IA(e,r,s),Mw(e,r,s,n),jw(null,e,r,!0,t,n);case 19:return jA(t,e,n);case 22:return kA(t,e,n)}throw Error(X(156,e.tag))};function ZA(t,e){return CI(t,e)}function s$(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(t,e,n,r){return new s$(t,e,n,r)}function ux(t){return t=t.prototype,!(!t||!t.isReactComponent)}function i$(t){if(typeof t=="function")return ux(t)?1:0;if(t!=null){if(t=t.$$typeof,t===I_)return 11;if(t===A_)return 14}return 2}function yo(t,e){var n=t.alternate;return n===null?(n=Vr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function yp(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")ux(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case xl:return Pa(n.children,s,i,e);case R_:o=8,s|=8;break;case sw:return t=Vr(12,n,e,s|2),t.elementType=sw,t.lanes=i,t;case iw:return t=Vr(13,n,e,s),t.elementType=iw,t.lanes=i,t;case ow:return t=Vr(19,n,e,s),t.elementType=ow,t.lanes=i,t;case cI:return cg(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case aI:o=10;break e;case lI:o=9;break e;case I_:o=11;break e;case A_:o=14;break e;case Ui:o=16,r=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=Vr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Pa(t,e,n,r){return t=Vr(7,t,r,e),t.lanes=n,t}function cg(t,e,n,r){return t=Vr(22,t,r,e),t.elementType=cI,t.lanes=n,t.stateNode={isHidden:!1},t}function iv(t,e,n){return t=Vr(6,t,null,e),t.lanes=n,t}function ov(t,e,n){return e=Vr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function o$(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uy(0),this.expirationTimes=Uy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uy(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function dx(t,e,n,r,s,i,o,a,l){return t=new o$(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Vr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},q_(i),t}function a$(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_l,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function eN(t){if(!t)return So;t=t._reactInternals;e:{if(qa(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ur(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(ur(n))return eA(t,n,e)}return e}function tN(t,e,n,r,s,i,o,a,l){return t=dx(n,r,!0,t,s,i,o,a,l),t.context=eN(null),n=t.current,r=Zn(),s=go(n),i=ri(r,s),i.callback=e??null,po(n,i,s),t.current.lanes=s,mh(t,s,r),dr(t,r),t}function ug(t,e,n,r){var s=e.current,i=Zn(),o=go(s);return n=eN(n),e.context===null?e.context=n:e.pendingContext=n,e=ri(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=po(s,e,o),t!==null&&(is(t,s,o,i),dp(t,s,o)),o}function cm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Rb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function hx(t,e){Rb(t,e),(t=t.alternate)&&Rb(t,e)}function l$(){return null}var nN=typeof reportError=="function"?reportError:function(t){console.error(t)};function fx(t){this._internalRoot=t}dg.prototype.render=fx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));ug(t,e,null,null)};dg.prototype.unmount=fx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Oa(function(){ug(null,t,null,null)}),e[di]=null}};function dg(t){this._internalRoot=t}dg.prototype.unstable_scheduleHydration=function(t){if(t){var e=kI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<$i.length&&e!==0&&e<$i[n].priority;n++);$i.splice(n,0,t),n===0&&OI(t)}};function px(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ib(){}function c$(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=cm(o);i.call(c)}}var o=tN(e,r,t,0,null,!1,!1,"",Ib);return t._reactRootContainer=o,t[di]=o.current,Ed(t.nodeType===8?t.parentNode:t),Oa(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=cm(l);a.call(c)}}var l=dx(t,0,!1,null,null,!1,!1,"",Ib);return t._reactRootContainer=l,t[di]=l.current,Ed(t.nodeType===8?t.parentNode:t),Oa(function(){ug(e,l,n,r)}),l}function fg(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=cm(o);a.call(l)}}ug(e,o,t,s)}else o=c$(n,e,t,s,r);return cm(o)}NI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ku(e.pendingLanes);n!==0&&(k_(e,n|1),dr(e,Yt()),!(ot&6)&&(_c=Yt()+500,Uo()))}break;case 13:Oa(function(){var r=hi(t,1);if(r!==null){var s=Zn();is(r,t,1,s)}}),hx(t,1)}};M_=function(t){if(t.tag===13){var e=hi(t,134217728);if(e!==null){var n=Zn();is(e,t,134217728,n)}hx(t,134217728)}};DI=function(t){if(t.tag===13){var e=go(t),n=hi(t,e);if(n!==null){var r=Zn();is(n,t,e,r)}hx(t,e)}};kI=function(){return ht};MI=function(t,e){var n=ht;try{return ht=t,e()}finally{ht=n}};gw=function(t,e,n){switch(e){case"input":if(cw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=rg(r);if(!s)throw Error(X(90));dI(r),cw(r,s)}}}break;case"textarea":fI(t,n);break;case"select":e=n.value,e!=null&&Fl(t,!!n.multiple,e,!1)}};_I=ax;xI=Oa;var u$={usingClientEntryPoint:!1,Events:[yh,bl,rg,vI,wI,ax]},wu={findFiberByHostInstance:da,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},d$={bundleType:wu.bundleType,version:wu.version,rendererPackageName:wu.rendererPackageName,rendererConfig:wu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ti.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=SI(t),t===null?null:t.stateNode},findFiberByHostInstance:wu.findFiberByHostInstance||l$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Of.isDisabled&&Of.supportsFiber)try{Zm=Of.inject(d$),bs=Of}catch{}}br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u$;br.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!px(e))throw Error(X(200));return a$(t,e,null,n)};br.createRoot=function(t,e){if(!px(t))throw Error(X(299));var n=!1,r="",s=nN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=dx(t,1,!1,null,null,n,!1,r,s),t[di]=e.current,Ed(t.nodeType===8?t.parentNode:t),new fx(e)};br.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=SI(e),t=t===null?null:t.stateNode,t};br.flushSync=function(t){return Oa(t)};br.hydrate=function(t,e,n){if(!hg(e))throw Error(X(200));return fg(null,t,e,!0,n)};br.hydrateRoot=function(t,e,n){if(!px(t))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=nN;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=tN(e,null,t,1,n??null,s,!1,i,o),t[di]=e.current,Ed(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new dg(e)};br.render=function(t,e,n){if(!hg(e))throw Error(X(200));return fg(null,t,e,!1,n)};br.unmountComponentAtNode=function(t){if(!hg(t))throw Error(X(40));return t._reactRootContainer?(Oa(function(){fg(null,null,t,!1,function(){t._reactRootContainer=null,t[di]=null})}),!0):!1};br.unstable_batchedUpdates=ax;br.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!hg(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return fg(t,e,n,!1,r)};br.version="18.3.1-next-f1338f8080-20240426";function rN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rN)}catch(t){console.error(t)}}rN(),rI.exports=br;var Si=rI.exports;const wh=__(Si),h$=KR({__proto__:null,default:wh},[Si]);var Ab=Si;nw.createRoot=Ab.createRoot,nw.hydrateRoot=Ab.hydrateRoot;var Nb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},f$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},iN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,d=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(n[u],n[d],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):f$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||d==null)throw new p$;const p=i<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),d!==64){const w=c<<6&192|d;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class p$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m$=function(t){const e=sN(t);return iN.encodeByteArray(e,!0)},um=function(t){return m$(t).replace(/\./g,"")},oN=function(t){try{return iN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y$=()=>g$().__FIREBASE_DEFAULTS__,v$=()=>{if(typeof process>"u"||typeof Nb>"u")return;const t=Nb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},w$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&oN(t[1]);return e&&JSON.parse(e)},pg=()=>{try{return y$()||v$()||w$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},aN=t=>{var e,n;return(n=(e=pg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},lN=t=>{const e=aN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},cN=()=>{var t;return(t=pg())===null||t===void 0?void 0:t.config},uN=t=>{var e;return(e=pg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _$=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[um(JSON.stringify(n)),um(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function x$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bn())}function E$(){var t;const e=(t=pg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function T$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function S$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function b$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function C$(){const t=Bn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function P$(){return!E$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function R$(){try{return typeof indexedDB=="object"}catch{return!1}}function I$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A$="FirebaseError";class js extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=A$,Object.setPrototypeOf(this,js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_h.prototype.create)}}class _h{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?N$(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new js(s,a,r)}}function N$(t,e){return t.replace(D$,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const D$=/\{\$([^}]+)}/g;function k$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function dm(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Db(i)&&Db(o)){if(!dm(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Db(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function M$(t,e){const n=new O$(t,e);return n.subscribe.bind(n)}class O${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");L$(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=av),s.error===void 0&&(s.error=av),s.complete===void 0&&(s.complete=av);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function L$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function av(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(t){return t&&t._delegate?t._delegate:t}class bo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let j$=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(F$(e))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=aa){return this.instances.has(e)}getOptions(e=aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:V$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=aa){return this.component?this.component.multipleInstances?e:aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function V$(t){return t===aa?void 0:t}function F$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new j$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tt||(tt={}));const B$={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},$$=tt.INFO,z$={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},K$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=z$[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mx{constructor(e){this.name=e,this._logLevel=$$,this._logHandler=K$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?B$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const W$=(t,e)=>e.some(n=>t instanceof n);let kb,Mb;function H$(){return kb||(kb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function G$(){return Mb||(Mb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hN=new WeakMap,Qw=new WeakMap,fN=new WeakMap,lv=new WeakMap,gx=new WeakMap;function q$(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(vo(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&hN.set(n,t)}).catch(()=>{}),gx.set(e,t),e}function Q$(t){if(Qw.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Qw.set(t,e)}let Yw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Y$(t){Yw=t(Yw)}function X$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cv(this),e,...n);return fN.set(r,e.sort?e.sort():[e]),vo(r)}:G$().includes(t)?function(...e){return t.apply(cv(this),e),vo(hN.get(this))}:function(...e){return vo(t.apply(cv(this),e))}}function J$(t){return typeof t=="function"?X$(t):(t instanceof IDBTransaction&&Q$(t),W$(t,H$())?new Proxy(t,Yw):t)}function vo(t){if(t instanceof IDBRequest)return q$(t);if(lv.has(t))return lv.get(t);const e=J$(t);return e!==t&&(lv.set(t,e),gx.set(e,t)),e}const cv=t=>gx.get(t);function Z$(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=vo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(vo(o.result),l.oldVersion,l.newVersion,vo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const e5=["get","getKey","getAll","getAllKeys","count"],t5=["put","add","delete","clear"],uv=new Map;function Ob(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(uv.get(e))return uv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=t5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||e5.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return uv.set(e,i),i}Y$(t=>({...t,get:(e,n,r)=>Ob(e,n)||t.get(e,n,r),has:(e,n)=>!!Ob(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(r5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function r5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xw="@firebase/app",Lb="0.10.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi=new mx("@firebase/app"),s5="@firebase/app-compat",i5="@firebase/analytics-compat",o5="@firebase/analytics",a5="@firebase/app-check-compat",l5="@firebase/app-check",c5="@firebase/auth",u5="@firebase/auth-compat",d5="@firebase/database",h5="@firebase/database-compat",f5="@firebase/functions",p5="@firebase/functions-compat",m5="@firebase/installations",g5="@firebase/installations-compat",y5="@firebase/messaging",v5="@firebase/messaging-compat",w5="@firebase/performance",_5="@firebase/performance-compat",x5="@firebase/remote-config",E5="@firebase/remote-config-compat",T5="@firebase/storage",S5="@firebase/storage-compat",b5="@firebase/firestore",C5="@firebase/vertexai-preview",P5="@firebase/firestore-compat",R5="firebase",I5="10.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="[DEFAULT]",A5={[Xw]:"fire-core",[s5]:"fire-core-compat",[o5]:"fire-analytics",[i5]:"fire-analytics-compat",[l5]:"fire-app-check",[a5]:"fire-app-check-compat",[c5]:"fire-auth",[u5]:"fire-auth-compat",[d5]:"fire-rtdb",[h5]:"fire-rtdb-compat",[f5]:"fire-fn",[p5]:"fire-fn-compat",[m5]:"fire-iid",[g5]:"fire-iid-compat",[y5]:"fire-fcm",[v5]:"fire-fcm-compat",[w5]:"fire-perf",[_5]:"fire-perf-compat",[x5]:"fire-rc",[E5]:"fire-rc-compat",[T5]:"fire-gcs",[S5]:"fire-gcs-compat",[b5]:"fire-fst",[P5]:"fire-fst-compat",[C5]:"fire-vertex","fire-js":"fire-js",[R5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=new Map,N5=new Map,Zw=new Map;function jb(t,e){try{t.container.addComponent(e)}catch(n){pi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function La(t){const e=t.name;if(Zw.has(e))return pi.debug(`There were multiple attempts to register component ${e}.`),!1;Zw.set(e,t);for(const n of hm.values())jb(n,t);for(const n of N5.values())jb(n,t);return!0}function mg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Qs(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wo=new _h("app","Firebase",D5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=I5;function pN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Jw,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw wo.create("bad-app-name",{appName:String(s)});if(n||(n=cN()),!n)throw wo.create("no-options");const i=hm.get(s);if(i){if(dm(n,i.options)&&dm(r,i.config))return i;throw wo.create("duplicate-app",{appName:s})}const o=new U$(s);for(const l of Zw.values())o.addComponent(l);const a=new k5(n,r,o);return hm.set(s,a),a}function yx(t=Jw){const e=hm.get(t);if(!e&&t===Jw&&cN())return pN();if(!e)throw wo.create("no-app",{appName:t});return e}function Ps(t,e,n){var r;let s=(r=A5[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pi.warn(a.join(" "));return}La(new bo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5="firebase-heartbeat-database",O5=1,Nd="firebase-heartbeat-store";let dv=null;function mN(){return dv||(dv=Z$(M5,O5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Nd)}catch(n){console.warn(n)}}}}).catch(t=>{throw wo.create("idb-open",{originalErrorMessage:t.message})})),dv}async function L5(t){try{const n=(await mN()).transaction(Nd),r=await n.objectStore(Nd).get(gN(t));return await n.done,r}catch(e){if(e instanceof js)pi.warn(e.message);else{const n=wo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pi.warn(n.message)}}}async function Vb(t,e){try{const r=(await mN()).transaction(Nd,"readwrite");await r.objectStore(Nd).put(e,gN(t)),await r.done}catch(n){if(n instanceof js)pi.warn(n.message);else{const r=wo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});pi.warn(r.message)}}}function gN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5=1024,V5=30*24*60*60*1e3;class F5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new B5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Fb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=V5}),this._storage.overwrite(this._heartbeatsCache))}catch(r){pi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Fb(),{heartbeatsToSend:r,unsentEntries:s}=U5(this._heartbeatsCache.heartbeats),i=um(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return pi.warn(n),""}}}function Fb(){return new Date().toISOString().substring(0,10)}function U5(t,e=j5){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Ub(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ub(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class B5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return R$()?I$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await L5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Vb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Vb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ub(t){return um(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(t){La(new bo("platform-logger",e=>new n5(e),"PRIVATE")),La(new bo("heartbeat",e=>new F5(e),"PRIVATE")),Ps(Xw,Lb,t),Ps(Xw,Lb,"esm2017"),Ps("fire-js","")}$5("");var Es=function(){return Es=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Es.apply(this,arguments)};function Eh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function z5(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function yN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const K5=yN,vN=new _h("auth","Firebase",yN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm=new mx("@firebase/auth");function W5(t,...e){fm.logLevel<=tt.WARN&&fm.warn(`Auth (${Qa}): ${t}`,...e)}function vp(t,...e){fm.logLevel<=tt.ERROR&&fm.error(`Auth (${Qa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(t,...e){throw vx(t,...e)}function Rs(t,...e){return vx(t,...e)}function wN(t,e,n){const r=Object.assign(Object.assign({},K5()),{[e]:n});return new _h("auth","Firebase",r).create(e,{appName:t.name})}function _o(t){return wN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return vN.create(t,...e)}function Ie(t,e,...n){if(!t)throw vx(e,...n)}function Ys(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vp(e),new Error(e)}function gi(t,e){t||Ys(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function H5(){return Bb()==="http:"||Bb()==="https:"}function Bb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(H5()||S$()||"connection"in navigator)?navigator.onLine:!0}function q5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n){this.shortDelay=e,this.longDelay=n,gi(n>e,"Short delay should be less than long delay!"),this.isMobile=x$()||b$()}get(){return G5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(t,e){gi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ys("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ys("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ys("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5=new Th(3e4,6e4);function gg(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Vc(t,e,n,r,s={}){return xN(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=xh(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return T$()||(c.referrerPolicy="no-referrer"),_N.fetch()(TN(t,t.config.apiHost,n,a),c)})}async function xN(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Q5),e);try{const s=new X5(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Lf(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lf(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Lf(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Lf(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw wN(t,u,c);mi(t,u)}}catch(s){if(s instanceof js)throw s;mi(t,"network-request-failed",{message:String(s)})}}async function EN(t,e,n,r,s={}){const i=await Vc(t,e,n,r,s);return"mfaPendingCredential"in i&&mi(t,"multi-factor-auth-required",{_serverResponse:i}),i}function TN(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?wx(t.config,s):`${t.config.apiScheme}://${s}`}class X5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rs(this.auth,"network-request-failed")),Y5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Lf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Rs(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J5(t,e){return Vc(t,"POST","/v1/accounts:delete",e)}async function SN(t,e){return Vc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Z5(t,e=!1){const n=Sn(t),r=await n.getIdToken(e),s=_x(r);Ie(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ed(hv(s.auth_time)),issuedAtTime:ed(hv(s.iat)),expirationTime:ed(hv(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function hv(t){return Number(t)*1e3}function _x(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vp("JWT malformed, contained fewer than 3 sections"),null;try{const s=oN(n);return s?JSON.parse(s):(vp("Failed to decode base64 JWT payload"),null)}catch(s){return vp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function $b(t){const e=_x(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof js&&e3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function e3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ed(this.lastLoginAt),this.creationTime=ed(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pm(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Dd(t,SN(n,{idToken:r}));Ie(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?bN(i.providerUserInfo):[],a=r3(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new t0(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function n3(t){const e=Sn(t);await pm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function r3(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function bN(t){return t.map(e=>{var{providerId:n}=e,r=Eh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s3(t,e){const n=await xN(t,{},async()=>{const r=xh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=TN(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",_N.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function i3(t,e){return Vc(t,"POST","/v2/accounts:revokeToken",gg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$b(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const n=$b(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await s3(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Wl;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Ie(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Ie(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wl,this.toJSON())}_performRefresh(){return Ys("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Xs{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Eh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new t3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new t0(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Dd(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Z5(this,e)}reload(){return n3(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await pm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qs(this.auth.app))return Promise.reject(_o(this.auth));const e=await this.getIdToken();return await Dd(this,J5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:S,emailVerified:R,isAnonymous:D,providerData:O,stsTokenManager:C}=n;Ie(S&&C,e,"internal-error");const T=Wl.fromJSON(this.name,C);Ie(typeof S=="string",e,"internal-error"),ki(d,e.name),ki(p,e.name),Ie(typeof R=="boolean",e,"internal-error"),Ie(typeof D=="boolean",e,"internal-error"),ki(g,e.name),ki(w,e.name),ki(v,e.name),ki(E,e.name),ki(_,e.name),ki(y,e.name);const P=new Xs({uid:S,auth:e,email:p,emailVerified:R,displayName:d,isAnonymous:D,photoURL:w,phoneNumber:g,tenantId:v,stsTokenManager:T,createdAt:_,lastLoginAt:y});return O&&Array.isArray(O)&&(P.providerData=O.map(I=>Object.assign({},I))),E&&(P._redirectEventId=E),P}static async _fromIdTokenResponse(e,n,r=!1){const s=new Wl;s.updateFromServerResponse(n);const i=new Xs({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await pm(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ie(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?bN(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Wl;a.updateFromIdToken(r);const l=new Xs({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new t0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=new Map;function Js(t){gi(t instanceof Function,"Expected a class definition");let e=zb.get(t);return e?(gi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}CN.type="NONE";const Kb=CN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(t,e,n){return`firebase:${t}:${e}:${n}`}class Hl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=wp(this.userKey,s.apiKey,i),this.fullPersistenceKey=wp("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Xs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Hl(Js(Kb),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Js(Kb);const o=wp(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=Xs._fromJSON(e,u);c!==i&&(a=d),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Hl(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Hl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DN(e))return"Blackberry";if(kN(e))return"Webos";if(RN(e))return"Safari";if((e.includes("chrome/")||IN(e))&&!e.includes("edge/"))return"Chrome";if(NN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function PN(t=Bn()){return/firefox\//i.test(t)}function RN(t=Bn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IN(t=Bn()){return/crios\//i.test(t)}function AN(t=Bn()){return/iemobile/i.test(t)}function NN(t=Bn()){return/android/i.test(t)}function DN(t=Bn()){return/blackberry/i.test(t)}function kN(t=Bn()){return/webos/i.test(t)}function xx(t=Bn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function o3(t=Bn()){var e;return xx(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function a3(){return C$()&&document.documentMode===10}function MN(t=Bn()){return xx(t)||NN(t)||kN(t)||DN(t)||/windows phone/i.test(t)||AN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(t,e=[]){let n;switch(t){case"Browser":n=Wb(Bn());break;case"Worker":n=`${Wb(Bn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c3(t,e={}){return Vc(t,"GET","/v2/passwordPolicy",gg(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=6;class d3{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:u3,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hb(this),this.idTokenSubscription=new Hb(this),this.beforeStateQueue=new l3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Js(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Hl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await SN(this,{idToken:e}),r=await Xs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Qs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=q5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qs(this.app))return Promise.reject(_o(this));const n=e?Sn(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qs(this.app)?Promise.reject(_o(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qs(this.app)?Promise.reject(_o(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Js(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await c3(this),n=new d3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _h("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await i3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Js(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=await Hl.create(this,[Js(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ON(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&W5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function yg(t){return Sn(t)}class Hb{constructor(e){this.auth=e,this.observer=null,this.addObserver=M$(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ex={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function f3(t){Ex=t}function p3(t){return Ex.loadJS(t)}function m3(){return Ex.gapiScript}function g3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(t,e){const n=mg(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(dm(i,e??{}))return s;mi(s,"already-initialized")}return n.initialize({options:e})}function v3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Js);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function w3(t,e,n){const r=yg(t);Ie(r._canInitEmulator,r,"emulator-config-failed"),Ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=LN(e),{host:o,port:a}=_3(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),x3()}function LN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _3(t){const e=LN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Gb(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Gb(o)}}}function Gb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function x3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ys("not implemented")}_getIdTokenResponse(e){return Ys("not implemented")}_linkToIdToken(e,n){return Ys("not implemented")}_getReauthenticationResolver(e){return Ys("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(t,e){return EN(t,"POST","/v1/accounts:signInWithIdp",gg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3="http://localhost";class ja extends jN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ja(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Eh(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new ja(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Gl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Gl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Gl(e,n)}buildRequest(){const e={requestUri:E3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends VN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Sh{constructor(){super("facebook.com")}static credential(e){return ja._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ki.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Sh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ja._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Wi.credential(n,r)}catch{return null}}}Wi.GOOGLE_SIGN_IN_METHOD="google.com";Wi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Sh{constructor(){super("github.com")}static credential(e){return ja._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.GITHUB_SIGN_IN_METHOD="github.com";Hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Sh{constructor(){super("twitter.com")}static credential(e,n){return ja._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Gi.credential(n,r)}catch{return null}}}Gi.TWITTER_SIGN_IN_METHOD="twitter.com";Gi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T3(t,e){return EN(t,"POST","/v1/accounts:signUp",gg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Xs._fromIdTokenResponse(e,r,s),o=qb(r);return new Co({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=qb(r);return new Co({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function qb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S3(t){var e;if(Qs(t.app))return Promise.reject(_o(t));const n=yg(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Co({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await T3(n,{returnSecureToken:!0}),s=await Co._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm extends js{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,mm.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new mm(e,n,r,s)}}function FN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?mm._fromErrorAndOperation(t,i,e,r):i})}async function b3(t,e,n=!1){const r=await Dd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Co._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C3(t,e,n=!1){const{auth:r}=t;if(Qs(r.app))return Promise.reject(_o(r));const s="reauthenticate";try{const i=await Dd(t,FN(r,s,e,t),n);Ie(i.idToken,r,"internal-error");const o=_x(i.idToken);Ie(o,r,"internal-error");const{sub:a}=o;return Ie(t.uid===a,r,"user-mismatch"),Co._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&mi(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P3(t,e,n=!1){if(Qs(t.app))return Promise.reject(_o(t));const r="signIn",s=await FN(t,r,e),i=await Co._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function R3(t,e,n,r){return Sn(t).onIdTokenChanged(e,n,r)}function I3(t,e,n){return Sn(t).beforeAuthStateChanged(e,n)}const gm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gm,"1"),this.storage.removeItem(gm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3=1e3,N3=10;class BN extends UN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);a3()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,N3):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},A3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}BN.type="LOCAL";const D3=BN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N extends UN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$N.type="SESSION";const zN=$N;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new vg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await k3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=Tx("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const p=d;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(){return window}function O3(t){Is().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(){return typeof Is().WorkerGlobalScope<"u"&&typeof Is().importScripts=="function"}async function L3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function j3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function V3(){return KN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="firebaseLocalStorageDb",F3=1,ym="firebaseLocalStorage",HN="fbase_key";class bh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wg(t,e){return t.transaction([ym],e?"readwrite":"readonly").objectStore(ym)}function U3(){const t=indexedDB.deleteDatabase(WN);return new bh(t).toPromise()}function n0(){const t=indexedDB.open(WN,F3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ym,{keyPath:HN})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ym)?e(r):(r.close(),await U3(),e(await n0()))})})}async function Qb(t,e,n){const r=wg(t,!0).put({[HN]:e,value:n});return new bh(r).toPromise()}async function B3(t,e){const n=wg(t,!1).get(e),r=await new bh(n).toPromise();return r===void 0?null:r.value}function Yb(t,e){const n=wg(t,!0).delete(e);return new bh(n).toPromise()}const $3=800,z3=3;class GN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await n0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>z3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vg._getInstance(V3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await L3(),!this.activeServiceWorker)return;this.sender=new M3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||j3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await n0();return await Qb(e,gm,"1"),await Yb(e,gm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Qb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>B3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Yb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=wg(s,!1).getAll();return new bh(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GN.type="LOCAL";const K3=GN;new Th(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(t,e){return e?Js(e):(Ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx extends jN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Gl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Gl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function H3(t){return P3(t.auth,new Sx(t),t.bypassAuthState)}function G3(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),C3(n,new Sx(t),t.bypassAuthState)}async function q3(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),b3(n,new Sx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return H3;case"linkViaPopup":case"linkViaRedirect":return q3;case"reauthViaPopup":case"reauthViaRedirect":return G3;default:mi(this.auth,"internal-error")}}resolve(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=new Th(2e3,1e4);class Dl extends qN{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Dl.currentPopupAction&&Dl.currentPopupAction.cancel(),Dl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){gi(this.filter.length===1,"Popup operations only handle one event");const e=Tx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Rs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Dl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Q3.get())};e()}}Dl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3="pendingRedirect",_p=new Map;class X3 extends qN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=_p.get(this.auth._key());if(!e){try{const r=await J3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}_p.set(this.auth._key(),e)}return this.bypassAuthState||_p.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function J3(t,e){const n=tz(e),r=ez(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Z3(t,e){_p.set(t._key(),e)}function ez(t){return Js(t._redirectPersistence)}function tz(t){return wp(Y3,t.config.apiKey,t.name)}async function nz(t,e,n=!1){if(Qs(t.app))return Promise.reject(_o(t));const r=yg(t),s=W3(r,e),o=await new X3(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rz=10*60*1e3;class sz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!QN(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Rs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rz&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xb(e))}saveEventToCache(e){this.cachedEventUids.add(Xb(e)),this.lastProcessedEventTime=Date.now()}}function Xb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function QN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function iz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oz(t,e={}){return Vc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const az=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lz=/^https?/;async function cz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await oz(t);for(const n of e)try{if(uz(n))return}catch{}mi(t,"unauthorized-domain")}function uz(t){const e=e0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!lz.test(n))return!1;if(az.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dz=new Th(3e4,6e4);function Jb(){const t=Is().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function hz(t){return new Promise((e,n)=>{var r,s,i;function o(){Jb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Jb(),n(Rs(t,"network-request-failed"))},timeout:dz.get()})}if(!((s=(r=Is().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Is().gapi)===null||i===void 0)&&i.load)o();else{const a=g3("iframefcb");return Is()[a]=()=>{gapi.load?o():n(Rs(t,"network-request-failed"))},p3(`${m3()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw xp=null,e})}let xp=null;function fz(t){return xp=xp||hz(t),xp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pz=new Th(5e3,15e3),mz="__/auth/iframe",gz="emulator/auth/iframe",yz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wz(t){const e=t.config;Ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?wx(e,gz):`https://${t.config.authDomain}/${mz}`,r={apiKey:e.apiKey,appName:t.name,v:Qa},s=vz.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${xh(r).slice(1)}`}async function _z(t){const e=await fz(t),n=Is().gapi;return Ie(n,t,"internal-error"),e.open({where:document.body,url:wz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yz,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Rs(t,"network-request-failed"),a=Is().setTimeout(()=>{i(o)},pz.get());function l(){Is().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ez=500,Tz=600,Sz="_blank",bz="http://localhost";class Zb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Cz(t,e,n,r=Ez,s=Tz){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},xz),{width:r.toString(),height:s.toString(),top:i,left:o}),c=Bn().toLowerCase();n&&(a=IN(c)?Sz:n),PN(c)&&(e=e||bz,l.scrollbars="yes");const u=Object.entries(l).reduce((p,[g,w])=>`${p}${g}=${w},`,"");if(o3(c)&&a!=="_self")return Pz(e||"",a),new Zb(null);const d=window.open(e||"",a,u);Ie(d,t,"popup-blocked");try{d.focus()}catch{}return new Zb(d)}function Pz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rz="__/auth/handler",Iz="emulator/auth/handler",Az=encodeURIComponent("fac");async function eC(t,e,n,r,s,i){Ie(t.config.authDomain,t,"auth-domain-config-required"),Ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Qa,eventId:s};if(e instanceof VN){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",k$(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof Sh){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${Az}=${encodeURIComponent(l)}`:"";return`${Nz(t)}?${xh(a).slice(1)}${c}`}function Nz({config:t}){return t.emulator?wx(t,Iz):`https://${t.authDomain}/${Rz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="webStorageSupport";class Dz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zN,this._completeRedirectFn=nz,this._overrideRedirectResult=Z3}async _openPopup(e,n,r,s){var i;gi((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await eC(e,n,r,e0(),s);return Cz(e,o,Tx())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await eC(e,n,r,e0(),s);return O3(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(gi(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _z(e),r=new sz(e);return n.register("authEvent",s=>(Ie(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fv,{type:fv},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[fv];o!==void 0&&n(!!o),mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return MN()||RN()||xx()}}const kz=Dz;var tC="@firebase/auth",nC="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Lz(t){La(new bo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ON(t)},c=new h3(r,s,i,l);return v3(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),La(new bo("auth-internal",e=>{const n=yg(e.getProvider("auth").getImmediate());return(r=>new Mz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ps(tC,nC,Oz(t)),Ps(tC,nC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz=5*60,Vz=uN("authIdTokenMaxAge")||jz;let rC=null;const Fz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Vz)return;const s=n==null?void 0:n.token;rC!==s&&(rC=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Uz(t=yx()){const e=mg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=y3(t,{popupRedirectResolver:kz,persistence:[K3,D3,zN]}),r=uN("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=Fz(i.toString());I3(n,o,()=>o(n.currentUser)),R3(n,a=>o(a))}}const s=aN("auth");return s&&w3(n,`http://${s}`),n}function Bz(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}f3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Rs("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Bz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Lz("Browser");const Mt=(t,e=!1)=>{};var $z={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"production",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://chatbot-api-0zup.onrender.com",VITE_SUPER_ADMIN_ID:"672ca434f2191d3bb7606f0d",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",BASE_URL:"/admin",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const sC=t=>{let e;const n=new Set,r=(u,d)=>{const p=typeof u=="function"?u(e):u;if(!Object.is(p,e)){const g=e;e=d??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(w=>w(e,g))}},s=()=>e,l={setState:r,getState:s,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{($z?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,s,l);return l},zz=t=>t?sC(t):sC;var YN={exports:{}},XN={},JN={exports:{}},ZN={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xc=m;function Kz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wz=typeof Object.is=="function"?Object.is:Kz,Hz=xc.useState,Gz=xc.useEffect,qz=xc.useLayoutEffect,Qz=xc.useDebugValue;function Yz(t,e){var n=e(),r=Hz({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return qz(function(){s.value=n,s.getSnapshot=e,pv(s)&&i({inst:s})},[t,n,e]),Gz(function(){return pv(s)&&i({inst:s}),t(function(){pv(s)&&i({inst:s})})},[t]),Qz(n),n}function pv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wz(t,n)}catch{return!0}}function Xz(t,e){return e()}var Jz=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Xz:Yz;ZN.useSyncExternalStore=xc.useSyncExternalStore!==void 0?xc.useSyncExternalStore:Jz;JN.exports=ZN;var Zz=JN.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _g=m,e6=Zz;function t6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var n6=typeof Object.is=="function"?Object.is:t6,r6=e6.useSyncExternalStore,s6=_g.useRef,i6=_g.useEffect,o6=_g.useMemo,a6=_g.useDebugValue;XN.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=s6(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=o6(function(){function l(g){if(!c){if(c=!0,u=g,g=r(g),s!==void 0&&o.hasValue){var w=o.value;if(s(w,g))return d=w}return d=g}if(w=d,n6(u,g))return w;var v=r(g);return s!==void 0&&s(w,v)?w:(u=g,d=v)}var c=!1,u,d,p=n===void 0?null:n;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,n,r,s]);var a=r6(t,i[0],i[1]);return i6(function(){o.hasValue=!0,o.value=a},[a]),a6(a),a};YN.exports=XN;var l6=YN.exports;const c6=__(l6);var eD={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"production",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://chatbot-api-0zup.onrender.com",VITE_SUPER_ADMIN_ID:"672ca434f2191d3bb7606f0d",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",BASE_URL:"/admin",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:u6}=Ke,{useSyncExternalStoreWithSelector:d6}=c6;let iC=!1;const h6=t=>t;function f6(t,e=h6,n){(eD?"production":void 0)!=="production"&&n&&!iC&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),iC=!0);const r=d6(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return u6(r),r}const oC=t=>{(eD?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?zz(t):t,n=(r,s)=>f6(e,r,s);return Object.assign(n,e),n},Bo=t=>t?oC(t):oC;var p6={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"production",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://chatbot-api-0zup.onrender.com",VITE_SUPER_ADMIN_ID:"672ca434f2191d3bb7606f0d",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",BASE_URL:"/admin",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function tD(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const o=l=>l===null?null:JSON.parse(l,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const kd=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return kd(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return kd(r)(n)}}}},m6=(t,e)=>(n,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:E=>E,version:0,merge:(E,_)=>({..._,...E}),...e},o=!1;const a=new Set,l=new Set;let c;try{c=i.getStorage()}catch{}if(!c)return t((...E)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...E)},r,s);const u=kd(i.serialize),d=()=>{const E=i.partialize({...r()});let _;const y=u({state:E,version:i.version}).then(S=>c.setItem(i.name,S)).catch(S=>{_=S});if(_)throw _;return y},p=s.setState;s.setState=(E,_)=>{p(E,_),d()};const g=t((...E)=>{n(...E),d()},r,s);let w;const v=()=>{var E;if(!c)return;o=!1,a.forEach(y=>y(r()));const _=((E=i.onRehydrateStorage)==null?void 0:E.call(i,r()))||void 0;return kd(c.getItem.bind(c))(i.name).then(y=>{if(y)return i.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return i.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var S;return w=i.merge(y,(S=r())!=null?S:g),n(w,!0),d()}).then(()=>{_==null||_(w,void 0),o=!0,l.forEach(y=>y(w))}).catch(y=>{_==null||_(void 0,y)})};return s.persist={setOptions:E=>{i={...i,...E},E.getStorage&&(c=E.getStorage())},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:E=>(a.add(E),()=>{a.delete(E)}),onFinishHydration:E=>(l.add(E),()=>{l.delete(E)})},v(),w||g},g6=(t,e)=>(n,r,s)=>{let i={storage:tD(()=>localStorage),partialize:v=>v,version:0,merge:(v,E)=>({...E,...v}),...e},o=!1;const a=new Set,l=new Set;let c=i.storage;if(!c)return t((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...v)},r,s);const u=()=>{const v=i.partialize({...r()});return c.setItem(i.name,{state:v,version:i.version})},d=s.setState;s.setState=(v,E)=>{d(v,E),u()};const p=t((...v)=>{n(...v),u()},r,s);s.getInitialState=()=>p;let g;const w=()=>{var v,E;if(!c)return;o=!1,a.forEach(y=>{var S;return y((S=r())!=null?S:p)});const _=((E=i.onRehydrateStorage)==null?void 0:E.call(i,(v=r())!=null?v:p))||void 0;return kd(c.getItem.bind(c))(i.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return[!0,i.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var S;const[R,D]=y;if(g=i.merge(D,(S=r())!=null?S:p),n(g,!0),R)return u()}).then(()=>{_==null||_(g,void 0),g=r(),o=!0,l.forEach(y=>y(g))}).catch(y=>{_==null||_(void 0,y)})};return s.persist={setOptions:v=>{i={...i,...v},v.storage&&(c=v.storage)},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:v=>(a.add(v),()=>{a.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},i.skipHydration||w(),g||p},y6=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((p6?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),m6(t,e)):g6(t,e),v6=y6,Rt=Bo()(v6(t=>({admin:null,isAuth:!1,accessToken:null,setAccessToken:e=>t({accessToken:e}),login:(e,n)=>t({isAuth:!0,accessToken:e,admin:n}),logout:()=>t({isAuth:!1,accessToken:null,admin:null})}),{name:"auth-storage",storage:tD(()=>sessionStorage)}));/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dt(){return Dt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dt.apply(this,arguments)}var nn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(nn||(nn={}));const aC="popstate";function w6(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Md("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Va(s)}return x6(e,n,null,t)}function We(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ec(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _6(){return Math.random().toString(36).substr(2,8)}function lC(t,e){return{usr:t.state,key:t.key,idx:e}}function Md(t,e,n,r){return n===void 0&&(n=null),Dt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?$o(e):e,{state:n,key:e&&e.key||r||_6()})}function Va(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function $o(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function x6(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=nn.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Dt({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=nn.Pop;let E=u(),_=E==null?null:E-c;c=E,l&&l({action:a,location:v.location,delta:_})}function p(E,_){a=nn.Push;let y=Md(v.location,E,_);c=u()+1;let S=lC(y,c),R=v.createHref(y);try{o.pushState(S,"",R)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(R)}i&&l&&l({action:a,location:v.location,delta:1})}function g(E,_){a=nn.Replace;let y=Md(v.location,E,_);c=u();let S=lC(y,c),R=v.createHref(y);o.replaceState(S,"",R),i&&l&&l({action:a,location:v.location,delta:0})}function w(E){let _=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof E=="string"?E:Va(E);return y=y.replace(/ $/,"%20"),We(_,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,_)}let v={get action(){return a},get location(){return t(s,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(aC,d),l=E,()=>{s.removeEventListener(aC,d),l=null}},createHref(E){return e(s,E)},createURL:w,encodeLocation(E){let _=w(E);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:g,go(E){return o.go(E)}};return v}var pt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(pt||(pt={}));const E6=new Set(["lazy","caseSensitive","path","id","index","children"]);function T6(t){return t.index===!0}function Od(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((s,i)=>{let o=[...n,String(i)],a=typeof s.id=="string"?s.id:o.join("-");if(We(s.index!==!0||!s.children,"Cannot specify children on an index route"),We(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),T6(s)){let l=Dt({},s,e(s),{id:a});return r[a]=l,l}else{let l=Dt({},s,e(s),{id:a,children:void 0});return r[a]=l,s.children&&(l.children=Od(s.children,e,o,r)),l}})}function ua(t,e,n){return n===void 0&&(n="/"),Ep(t,e,n,!1)}function Ep(t,e,n,r){let s=typeof e=="string"?$o(e):e,i=Fc(s.pathname||"/",n);if(i==null)return null;let o=nD(t);b6(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=L6(i);a=M6(o[l],c,r)}return a}function S6(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],handle:n.handle}}function nD(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(We(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=si([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(We(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),nD(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:D6(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of rD(i.path))s(i,o,l)}),e}function rD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=rD(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function b6(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:k6(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const C6=/^:[\w-]+$/,P6=3,R6=2,I6=1,A6=10,N6=-2,cC=t=>t==="*";function D6(t,e){let n=t.split("/"),r=n.length;return n.some(cC)&&(r+=N6),e&&(r+=R6),n.filter(s=>!cC(s)).reduce((s,i)=>s+(C6.test(i)?P6:i===""?I6:A6),r)}function k6(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function M6(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=uC({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=uC({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:si([i,d.pathname]),pathnameBase:F6(si([i,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(i=si([i,d.pathnameBase]))}return o}function uC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=O6(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:p,isOptional:g}=u;if(p==="*"){let v=a[d]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const w=a[d];return g&&!w?c[p]=void 0:c[p]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function O6(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ec(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function L6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ec(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Fc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function j6(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?$o(t):t;return{pathname:n?n.startsWith("/")?n:V6(n,e):e,search:U6(r),hash:B6(s)}}function V6(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function mv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xg(t,e){let n=sD(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Eg(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=$o(t):(s=Dt({},t),We(!s.pathname||!s.pathname.includes("?"),mv("?","pathname","search",s)),We(!s.pathname||!s.pathname.includes("#"),mv("#","pathname","hash",s)),We(!s.search||!s.search.includes("#"),mv("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;s.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=j6(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const si=t=>t.join("/").replace(/\/\/+/g,"/"),F6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),U6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,B6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class vm{constructor(e,n,r,s){s===void 0&&(s=!1),this.status=e,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Ch(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const iD=["post","put","patch","delete"],$6=new Set(iD),z6=["get",...iD],K6=new Set(z6),W6=new Set([301,302,303,307,308]),H6=new Set([307,308]),gv={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},G6={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},_u={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},bx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q6=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),oD="remix-router-transitions";function Q6(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;We(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let j=t.detectErrorBoundary;s=F=>({hasErrorBoundary:j(F)})}else s=q6;let i={},o=Od(t.routes,s,void 0,i),a,l=t.basename||"/",c=t.unstable_dataStrategy||t9,u=t.unstable_patchRoutesOnNavigation,d=Dt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),p=null,g=new Set,w=1e3,v=new Set,E=null,_=null,y=null,S=t.hydrationData!=null,R=ua(o,t.history.location,l),D=null;if(R==null&&!u){let j=Qn(404,{pathname:t.history.location.pathname}),{matches:F,route:K}=wC(o);R=F,D={[K.id]:j}}R&&!t.hydrationData&&Zt(R,o,t.history.location.pathname).active&&(R=null);let O;if(R)if(R.some(j=>j.route.lazy))O=!1;else if(!R.some(j=>j.route.loader))O=!0;else if(d.v7_partialHydration){let j=t.hydrationData?t.hydrationData.loaderData:null,F=t.hydrationData?t.hydrationData.errors:null,K=q=>q.route.loader?typeof q.route.loader=="function"&&q.route.loader.hydrate===!0?!1:j&&j[q.route.id]!==void 0||F&&F[q.route.id]!==void 0:!0;if(F){let q=R.findIndex(ue=>F[ue.route.id]!==void 0);O=R.slice(0,q+1).every(K)}else O=R.every(K)}else O=t.hydrationData!=null;else if(O=!1,R=[],d.v7_partialHydration){let j=Zt(null,o,t.history.location.pathname);j.active&&j.matches&&(R=j.matches)}let C,T={historyAction:t.history.action,location:t.history.location,matches:R,initialized:O,navigation:gv,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||D,fetchers:new Map,blockers:new Map},P=nn.Pop,I=!1,M,k=!1,N=new Map,H=null,ae=!1,te=!1,ne=[],z=new Set,B=new Map,Z=0,pe=-1,Te=new Map,Re=new Set,Xe=new Map,gt=new Map,He=new Set,ce=new Map,je=new Map,rt=new Map,Ve;function ze(){if(p=t.history.listen(j=>{let{action:F,location:K,delta:q}=j;if(Ve){Ve(),Ve=void 0;return}Ec(je.size===0||q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ue=il({currentLocation:T.location,nextLocation:K,historyAction:F});if(ue&&q!=null){let _e=new Promise(Pe=>{Ve=Pe});t.history.go(q*-1),ps(ue,{state:"blocked",location:K,proceed(){ps(ue,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),_e.then(()=>t.history.go(q))},reset(){let Pe=new Map(T.blockers);Pe.set(ue,_u),st({blockers:Pe})}});return}return L(F,K)}),n){g9(e,N);let j=()=>y9(e,N);e.addEventListener("pagehide",j),H=()=>e.removeEventListener("pagehide",j)}return T.initialized||L(nn.Pop,T.location,{initialHydration:!0}),C}function qe(){p&&p(),H&&H(),g.clear(),M&&M.abort(),T.fetchers.forEach((j,F)=>fs(F)),T.blockers.forEach((j,F)=>tu(F))}function Ft(j){return g.add(j),()=>g.delete(j)}function st(j,F){F===void 0&&(F={}),T=Dt({},T,j);let K=[],q=[];d.v7_fetcherPersist&&T.fetchers.forEach((ue,_e)=>{ue.state==="idle"&&(He.has(_e)?q.push(_e):K.push(_e))}),[...g].forEach(ue=>ue(T,{deletedFetchers:q,unstable_viewTransitionOpts:F.viewTransitionOpts,unstable_flushSync:F.flushSync===!0})),d.v7_fetcherPersist&&(K.forEach(ue=>T.fetchers.delete(ue)),q.forEach(ue=>fs(ue)))}function mn(j,F,K){var q,ue;let{flushSync:_e}=K===void 0?{}:K,Pe=T.actionData!=null&&T.navigation.formMethod!=null&&Jr(T.navigation.formMethod)&&T.navigation.state==="loading"&&((q=j.state)==null?void 0:q._isRedirect)!==!0,se;F.actionData?Object.keys(F.actionData).length>0?se=F.actionData:se=null:Pe?se=T.actionData:se=null;let ve=F.loaderData?yC(T.loaderData,F.loaderData,F.matches||[],F.errors):T.loaderData,me=T.blockers;me.size>0&&(me=new Map(me),me.forEach((it,ft)=>me.set(ft,_u)));let ye=I===!0||T.navigation.formMethod!=null&&Jr(T.navigation.formMethod)&&((ue=j.state)==null?void 0:ue._isRedirect)!==!0;a&&(o=a,a=void 0),ae||P===nn.Pop||(P===nn.Push?t.history.push(j,j.state):P===nn.Replace&&t.history.replace(j,j.state));let Je;if(P===nn.Pop){let it=N.get(T.location.pathname);it&&it.has(j.pathname)?Je={currentLocation:T.location,nextLocation:j}:N.has(j.pathname)&&(Je={currentLocation:j,nextLocation:T.location})}else if(k){let it=N.get(T.location.pathname);it?it.add(j.pathname):(it=new Set([j.pathname]),N.set(T.location.pathname,it)),Je={currentLocation:T.location,nextLocation:j}}st(Dt({},F,{actionData:se,loaderData:ve,historyAction:P,location:j,initialized:!0,navigation:gv,revalidation:"idle",restoreScrollPosition:ru(j,F.matches||T.matches),preventScrollReset:ye,blockers:me}),{viewTransitionOpts:Je,flushSync:_e===!0}),P=nn.Pop,I=!1,k=!1,ae=!1,te=!1,ne=[]}async function Pr(j,F){if(typeof j=="number"){t.history.go(j);return}let K=r0(T.location,T.matches,l,d.v7_prependBasename,j,d.v7_relativeSplatPath,F==null?void 0:F.fromRouteId,F==null?void 0:F.relative),{path:q,submission:ue,error:_e}=dC(d.v7_normalizeFormMethod,!1,K,F),Pe=T.location,se=Md(T.location,q,F&&F.state);se=Dt({},se,t.history.encodeLocation(se));let ve=F&&F.replace!=null?F.replace:void 0,me=nn.Push;ve===!0?me=nn.Replace:ve===!1||ue!=null&&Jr(ue.formMethod)&&ue.formAction===T.location.pathname+T.location.search&&(me=nn.Replace);let ye=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,Je=(F&&F.unstable_flushSync)===!0,it=il({currentLocation:Pe,nextLocation:se,historyAction:me});if(it){ps(it,{state:"blocked",location:se,proceed(){ps(it,{state:"proceeding",proceed:void 0,reset:void 0,location:se}),Pr(j,F)},reset(){let ft=new Map(T.blockers);ft.set(it,_u),st({blockers:ft})}});return}return await L(me,se,{submission:ue,pendingError:_e,preventScrollReset:ye,replace:F&&F.replace,enableViewTransition:F&&F.unstable_viewTransition,flushSync:Je})}function ds(){if(Ci(),st({revalidation:"loading"}),T.navigation.state!=="submitting"){if(T.navigation.state==="idle"){L(T.historyAction,T.location,{startUninterruptedRevalidation:!0});return}L(P||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation,enableViewTransition:k===!0})}}async function L(j,F,K){M&&M.abort(),M=null,P=j,ae=(K&&K.startUninterruptedRevalidation)===!0,Yo(T.location,T.matches),I=(K&&K.preventScrollReset)===!0,k=(K&&K.enableViewTransition)===!0;let q=a||o,ue=K&&K.overrideNavigation,_e=ua(q,F,l),Pe=(K&&K.flushSync)===!0,se=Zt(_e,q,F.pathname);if(se.active&&se.matches&&(_e=se.matches),!_e){let{error:Qe,notFoundMatches:en,route:Et}=Qo(F.pathname);mn(F,{matches:en,loaderData:{},errors:{[Et.id]:Qe}},{flushSync:Pe});return}if(T.initialized&&!te&&a9(T.location,F)&&!(K&&K.submission&&Jr(K.submission.formMethod))){mn(F,{matches:_e},{flushSync:Pe});return}M=new AbortController;let ve=hl(t.history,F,M.signal,K&&K.submission),me;if(K&&K.pendingError)me=[kl(_e).route.id,{type:pt.error,error:K.pendingError}];else if(K&&K.submission&&Jr(K.submission.formMethod)){let Qe=await $(ve,F,K.submission,_e,se.active,{replace:K.replace,flushSync:Pe});if(Qe.shortCircuited)return;if(Qe.pendingActionResult){let[en,Et]=Qe.pendingActionResult;if(gr(Et)&&Ch(Et.error)&&Et.error.status===404){M=null,mn(F,{matches:Qe.matches,loaderData:{},errors:{[en]:Et.error}});return}}_e=Qe.matches||_e,me=Qe.pendingActionResult,ue=yv(F,K.submission),Pe=!1,se.active=!1,ve=hl(t.history,ve.url,ve.signal)}let{shortCircuited:ye,matches:Je,loaderData:it,errors:ft}=await G(ve,F,_e,se.active,ue,K&&K.submission,K&&K.fetcherSubmission,K&&K.replace,K&&K.initialHydration===!0,Pe,me);ye||(M=null,mn(F,Dt({matches:Je||_e},vC(me),{loaderData:it,errors:ft})))}async function $(j,F,K,q,ue,_e){_e===void 0&&(_e={}),Ci();let Pe=p9(F,K);if(st({navigation:Pe},{flushSync:_e.flushSync===!0}),ue){let me=await Xo(q,F.pathname,j.signal);if(me.type==="aborted")return{shortCircuited:!0};if(me.type==="error"){let{boundaryId:ye,error:Je}=Rr(F.pathname,me);return{matches:me.partialMatches,pendingActionResult:[ye,{type:pt.error,error:Je}]}}else if(me.matches)q=me.matches;else{let{notFoundMatches:ye,error:Je,route:it}=Qo(F.pathname);return{matches:ye,pendingActionResult:[it.id,{type:pt.error,error:Je}]}}}let se,ve=Ou(q,F);if(!ve.route.action&&!ve.route.lazy)se={type:pt.error,error:Qn(405,{method:j.method,pathname:F.pathname,routeId:ve.route.id})};else if(se=(await Ue("action",T,j,[ve],q,null))[ve.route.id],j.signal.aborted)return{shortCircuited:!0};if(pa(se)){let me;return _e&&_e.replace!=null?me=_e.replace:me=pC(se.response.headers.get("Location"),new URL(j.url),l)===T.location.pathname+T.location.search,await Le(j,se,!0,{submission:K,replace:me}),{shortCircuited:!0}}if(oo(se))throw Qn(400,{type:"defer-action"});if(gr(se)){let me=kl(q,ve.route.id);return(_e&&_e.replace)!==!0&&(P=nn.Push),{matches:q,pendingActionResult:[me.route.id,se]}}return{matches:q,pendingActionResult:[ve.route.id,se]}}async function G(j,F,K,q,ue,_e,Pe,se,ve,me,ye){let Je=ue||yv(F,_e),it=_e||Pe||xC(Je),ft=!ae&&(!d.v7_partialHydration||!ve);if(q){if(ft){let _t=le(ye);st(Dt({navigation:Je},_t!==void 0?{actionData:_t}:{}),{flushSync:me})}let Ne=await Xo(K,F.pathname,j.signal);if(Ne.type==="aborted")return{shortCircuited:!0};if(Ne.type==="error"){let{boundaryId:_t,error:Pn}=Rr(F.pathname,Ne);return{matches:Ne.partialMatches,loaderData:{},errors:{[_t]:Pn}}}else if(Ne.matches)K=Ne.matches;else{let{error:_t,notFoundMatches:Pn,route:Tt}=Qo(F.pathname);return{matches:Pn,loaderData:{},errors:{[Tt.id]:_t}}}}let Qe=a||o,[en,Et]=hC(t.history,T,K,it,F,d.v7_partialHydration&&ve===!0,d.v7_skipActionErrorRevalidation,te,ne,z,He,Xe,Re,Qe,l,ye);if(ol(Ne=>!(K&&K.some(_t=>_t.route.id===Ne))||en&&en.some(_t=>_t.route.id===Ne)),pe=++Z,en.length===0&&Et.length===0){let Ne=rf();return mn(F,Dt({matches:K,loaderData:{},errors:ye&&gr(ye[1])?{[ye[0]]:ye[1].error}:null},vC(ye),Ne?{fetchers:new Map(T.fetchers)}:{}),{flushSync:me}),{shortCircuited:!0}}if(ft){let Ne={};if(!q){Ne.navigation=Je;let _t=le(ye);_t!==void 0&&(Ne.actionData=_t)}Et.length>0&&(Ne.fetchers=re(Et)),st(Ne,{flushSync:me})}Et.forEach(Ne=>{B.has(Ne.key)&&Wn(Ne.key),Ne.controller&&B.set(Ne.key,Ne.controller)});let Ri=()=>Et.forEach(Ne=>Wn(Ne.key));M&&M.signal.addEventListener("abort",Ri);let{loaderResults:hr,fetcherResults:Ir}=await $n(T,K,en,Et,j);if(j.signal.aborted)return{shortCircuited:!0};M&&M.signal.removeEventListener("abort",Ri),Et.forEach(Ne=>B.delete(Ne.key));let Cn=jf(hr);if(Cn)return await Le(j,Cn.result,!0,{replace:se}),{shortCircuited:!0};if(Cn=jf(Ir),Cn)return Re.add(Cn.key),await Le(j,Cn.result,!0,{replace:se}),{shortCircuited:!0};let{loaderData:Ii,errors:Kr}=gC(T,K,en,hr,ye,Et,Ir,ce);ce.forEach((Ne,_t)=>{Ne.subscribe(Pn=>{(Pn||Ne.done)&&ce.delete(_t)})}),d.v7_partialHydration&&ve&&T.errors&&Object.entries(T.errors).filter(Ne=>{let[_t]=Ne;return!en.some(Pn=>Pn.route.id===_t)}).forEach(Ne=>{let[_t,Pn]=Ne;Kr=Object.assign(Kr||{},{[_t]:Pn})});let Zo=rf(),ea=sl(pe),ta=Zo||ea||Et.length>0;return Dt({matches:K,loaderData:Ii,errors:Kr},ta?{fetchers:new Map(T.fetchers)}:{})}function le(j){if(j&&!gr(j[1]))return{[j[0]]:j[1].data};if(T.actionData)return Object.keys(T.actionData).length===0?null:T.actionData}function re(j){return j.forEach(F=>{let K=T.fetchers.get(F.key),q=xu(void 0,K?K.data:void 0);T.fetchers.set(F.key,q)}),new Map(T.fetchers)}function J(j,F,K,q){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");B.has(j)&&Wn(j);let ue=(q&&q.unstable_flushSync)===!0,_e=a||o,Pe=r0(T.location,T.matches,l,d.v7_prependBasename,K,d.v7_relativeSplatPath,F,q==null?void 0:q.relative),se=ua(_e,Pe,l),ve=Zt(se,_e,Pe);if(ve.active&&ve.matches&&(se=ve.matches),!se){Kn(j,F,Qn(404,{pathname:Pe}),{flushSync:ue});return}let{path:me,submission:ye,error:Je}=dC(d.v7_normalizeFormMethod,!0,Pe,q);if(Je){Kn(j,F,Je,{flushSync:ue});return}let it=Ou(se,me);if(I=(q&&q.preventScrollReset)===!0,ye&&Jr(ye.formMethod)){Ee(j,F,me,it,se,ve.active,ue,ye);return}Xe.set(j,{routeId:F,path:me}),Oe(j,F,me,it,se,ve.active,ue,ye)}async function Ee(j,F,K,q,ue,_e,Pe,se){Ci(),Xe.delete(j);function ve(Tt){if(!Tt.route.action&&!Tt.route.lazy){let Wr=Qn(405,{method:se.formMethod,pathname:K,routeId:F});return Kn(j,F,Wr,{flushSync:Pe}),!0}return!1}if(!_e&&ve(q))return;let me=T.fetchers.get(j);zn(j,m9(se,me),{flushSync:Pe});let ye=new AbortController,Je=hl(t.history,K,ye.signal,se);if(_e){let Tt=await Xo(ue,K,Je.signal);if(Tt.type==="aborted")return;if(Tt.type==="error"){let{error:Wr}=Rr(K,Tt);Kn(j,F,Wr,{flushSync:Pe});return}else if(Tt.matches){if(ue=Tt.matches,q=Ou(ue,K),ve(q))return}else{Kn(j,F,Qn(404,{pathname:K}),{flushSync:Pe});return}}B.set(j,ye);let it=Z,Qe=(await Ue("action",T,Je,[q],ue,j))[q.route.id];if(Je.signal.aborted){B.get(j)===ye&&B.delete(j);return}if(d.v7_fetcherPersist&&He.has(j)){if(pa(Qe)||gr(Qe)){zn(j,Li(void 0));return}}else{if(pa(Qe))if(B.delete(j),pe>it){zn(j,Li(void 0));return}else return Re.add(j),zn(j,xu(se)),Le(Je,Qe,!1,{fetcherSubmission:se});if(gr(Qe)){Kn(j,F,Qe.error);return}}if(oo(Qe))throw Qn(400,{type:"defer-action"});let en=T.navigation.location||T.location,Et=hl(t.history,en,ye.signal),Ri=a||o,hr=T.navigation.state!=="idle"?ua(Ri,T.navigation.location,l):T.matches;We(hr,"Didn't find any matches after fetcher action");let Ir=++Z;Te.set(j,Ir);let Cn=xu(se,Qe.data);T.fetchers.set(j,Cn);let[Ii,Kr]=hC(t.history,T,hr,se,en,!1,d.v7_skipActionErrorRevalidation,te,ne,z,He,Xe,Re,Ri,l,[q.route.id,Qe]);Kr.filter(Tt=>Tt.key!==j).forEach(Tt=>{let Wr=Tt.key,of=T.fetchers.get(Wr),af=xu(void 0,of?of.data:void 0);T.fetchers.set(Wr,af),B.has(Wr)&&Wn(Wr),Tt.controller&&B.set(Wr,Tt.controller)}),st({fetchers:new Map(T.fetchers)});let Zo=()=>Kr.forEach(Tt=>Wn(Tt.key));ye.signal.addEventListener("abort",Zo);let{loaderResults:ea,fetcherResults:ta}=await $n(T,hr,Ii,Kr,Et);if(ye.signal.aborted)return;ye.signal.removeEventListener("abort",Zo),Te.delete(j),B.delete(j),Kr.forEach(Tt=>B.delete(Tt.key));let Ne=jf(ea);if(Ne)return Le(Et,Ne.result,!1);if(Ne=jf(ta),Ne)return Re.add(Ne.key),Le(Et,Ne.result,!1);let{loaderData:_t,errors:Pn}=gC(T,hr,Ii,ea,void 0,Kr,ta,ce);if(T.fetchers.has(j)){let Tt=Li(Qe.data);T.fetchers.set(j,Tt)}sl(Ir),T.navigation.state==="loading"&&Ir>pe?(We(P,"Expected pending action"),M&&M.abort(),mn(T.navigation.location,{matches:hr,loaderData:_t,errors:Pn,fetchers:new Map(T.fetchers)})):(st({errors:Pn,loaderData:yC(T.loaderData,_t,hr,Pn),fetchers:new Map(T.fetchers)}),te=!1)}async function Oe(j,F,K,q,ue,_e,Pe,se){let ve=T.fetchers.get(j);zn(j,xu(se,ve?ve.data:void 0),{flushSync:Pe});let me=new AbortController,ye=hl(t.history,K,me.signal);if(_e){let Qe=await Xo(ue,K,ye.signal);if(Qe.type==="aborted")return;if(Qe.type==="error"){let{error:en}=Rr(K,Qe);Kn(j,F,en,{flushSync:Pe});return}else if(Qe.matches)ue=Qe.matches,q=Ou(ue,K);else{Kn(j,F,Qn(404,{pathname:K}),{flushSync:Pe});return}}B.set(j,me);let Je=Z,ft=(await Ue("loader",T,ye,[q],ue,j))[q.route.id];if(oo(ft)&&(ft=await Cx(ft,ye.signal,!0)||ft),B.get(j)===me&&B.delete(j),!ye.signal.aborted){if(He.has(j)){zn(j,Li(void 0));return}if(pa(ft))if(pe>Je){zn(j,Li(void 0));return}else{Re.add(j),await Le(ye,ft,!1);return}if(gr(ft)){Kn(j,F,ft.error);return}We(!oo(ft),"Unhandled fetcher deferred data"),zn(j,Li(ft.data))}}async function Le(j,F,K,q){let{submission:ue,fetcherSubmission:_e,replace:Pe}=q===void 0?{}:q;F.response.headers.has("X-Remix-Revalidate")&&(te=!0);let se=F.response.headers.get("Location");We(se,"Expected a Location header on the redirect Response"),se=pC(se,new URL(j.url),l);let ve=Md(T.location,se,{_isRedirect:!0});if(n){let Qe=!1;if(F.response.headers.has("X-Remix-Reload-Document"))Qe=!0;else if(bx.test(se)){const en=t.history.createURL(se);Qe=en.origin!==e.location.origin||Fc(en.pathname,l)==null}if(Qe){Pe?e.location.replace(se):e.location.assign(se);return}}M=null;let me=Pe===!0||F.response.headers.has("X-Remix-Replace")?nn.Replace:nn.Push,{formMethod:ye,formAction:Je,formEncType:it}=T.navigation;!ue&&!_e&&ye&&Je&&it&&(ue=xC(T.navigation));let ft=ue||_e;if(H6.has(F.response.status)&&ft&&Jr(ft.formMethod))await L(me,ve,{submission:Dt({},ft,{formAction:se}),preventScrollReset:I,enableViewTransition:K?k:void 0});else{let Qe=yv(ve,ue);await L(me,ve,{overrideNavigation:Qe,fetcherSubmission:_e,preventScrollReset:I,enableViewTransition:K?k:void 0})}}async function Ue(j,F,K,q,ue,_e){let Pe,se={};try{Pe=await n9(c,j,F,K,q,ue,_e,i,s)}catch(ve){return q.forEach(me=>{se[me.route.id]={type:pt.error,error:ve}}),se}for(let[ve,me]of Object.entries(Pe))if(c9(me)){let ye=me.result;se[ve]={type:pt.redirect,response:i9(ye,K,ve,ue,l,d.v7_relativeSplatPath)}}else se[ve]=await s9(me);return se}async function $n(j,F,K,q,ue){let _e=j.matches,Pe=Ue("loader",j,ue,K,F,null),se=Promise.all(q.map(async ye=>{if(ye.matches&&ye.match&&ye.controller){let it=(await Ue("loader",j,hl(t.history,ye.path,ye.controller.signal),[ye.match],ye.matches,ye.key))[ye.match.route.id];return{[ye.key]:it}}else return Promise.resolve({[ye.key]:{type:pt.error,error:Qn(404,{pathname:ye.path})}})})),ve=await Pe,me=(await se).reduce((ye,Je)=>Object.assign(ye,Je),{});return await Promise.all([h9(F,ve,ue.signal,_e,j.loaderData),f9(F,me,q)]),{loaderResults:ve,fetcherResults:me}}function Ci(){te=!0,ne.push(...ol()),Xe.forEach((j,F)=>{B.has(F)&&(z.add(F),Wn(F))})}function zn(j,F,K){K===void 0&&(K={}),T.fetchers.set(j,F),st({fetchers:new Map(T.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function Kn(j,F,K,q){q===void 0&&(q={});let ue=kl(T.matches,F);fs(j),st({errors:{[ue.route.id]:K},fetchers:new Map(T.fetchers)},{flushSync:(q&&q.flushSync)===!0})}function hs(j){return d.v7_fetcherPersist&&(gt.set(j,(gt.get(j)||0)+1),He.has(j)&&He.delete(j)),T.fetchers.get(j)||G6}function fs(j){let F=T.fetchers.get(j);B.has(j)&&!(F&&F.state==="loading"&&Te.has(j))&&Wn(j),Xe.delete(j),Te.delete(j),Re.delete(j),He.delete(j),z.delete(j),T.fetchers.delete(j)}function rl(j){if(d.v7_fetcherPersist){let F=(gt.get(j)||0)-1;F<=0?(gt.delete(j),He.add(j)):gt.set(j,F)}else fs(j);st({fetchers:new Map(T.fetchers)})}function Wn(j){let F=B.get(j);We(F,"Expected fetch controller: "+j),F.abort(),B.delete(j)}function nf(j){for(let F of j){let K=hs(F),q=Li(K.data);T.fetchers.set(F,q)}}function rf(){let j=[],F=!1;for(let K of Re){let q=T.fetchers.get(K);We(q,"Expected fetcher: "+K),q.state==="loading"&&(Re.delete(K),j.push(K),F=!0)}return nf(j),F}function sl(j){let F=[];for(let[K,q]of Te)if(q<j){let ue=T.fetchers.get(K);We(ue,"Expected fetcher: "+K),ue.state==="loading"&&(Wn(K),Te.delete(K),F.push(K))}return nf(F),F.length>0}function sf(j,F){let K=T.blockers.get(j)||_u;return je.get(j)!==F&&je.set(j,F),K}function tu(j){T.blockers.delete(j),je.delete(j)}function ps(j,F){let K=T.blockers.get(j)||_u;We(K.state==="unblocked"&&F.state==="blocked"||K.state==="blocked"&&F.state==="blocked"||K.state==="blocked"&&F.state==="proceeding"||K.state==="blocked"&&F.state==="unblocked"||K.state==="proceeding"&&F.state==="unblocked","Invalid blocker state transition: "+K.state+" -> "+F.state);let q=new Map(T.blockers);q.set(j,F),st({blockers:q})}function il(j){let{currentLocation:F,nextLocation:K,historyAction:q}=j;if(je.size===0)return;je.size>1&&Ec(!1,"A router only supports one blocker at a time");let ue=Array.from(je.entries()),[_e,Pe]=ue[ue.length-1],se=T.blockers.get(_e);if(!(se&&se.state==="proceeding")&&Pe({currentLocation:F,nextLocation:K,historyAction:q}))return _e}function Qo(j){let F=Qn(404,{pathname:j}),K=a||o,{matches:q,route:ue}=wC(K);return ol(),{notFoundMatches:q,route:ue,error:F}}function Rr(j,F){return{boundaryId:kl(F.partialMatches).route.id,error:Qn(400,{type:"route-discovery",pathname:j,message:F.error!=null&&"message"in F.error?F.error:String(F.error)})}}function ol(j){let F=[];return ce.forEach((K,q)=>{(!j||j(q))&&(K.cancel(),F.push(q),ce.delete(q))}),F}function al(j,F,K){if(E=j,y=F,_=K||null,!S&&T.navigation===gv){S=!0;let q=ru(T.location,T.matches);q!=null&&st({restoreScrollPosition:q})}return()=>{E=null,y=null,_=null}}function nu(j,F){return _&&_(j,F.map(q=>S6(q,T.loaderData)))||j.key}function Yo(j,F){if(E&&y){let K=nu(j,F);E[K]=y()}}function ru(j,F){if(E){let K=nu(j,F),q=E[K];if(typeof q=="number")return q}return null}function Zt(j,F,K){if(u){if(v.has(K))return{active:!1,matches:j};if(j){if(Object.keys(j[0].params).length>0)return{active:!0,matches:Ep(F,K,l,!0)}}else return{active:!0,matches:Ep(F,K,l,!0)||[]}}return{active:!1,matches:null}}async function Xo(j,F,K){let q=j;for(;;){let ue=a==null,_e=a||o;try{await Z6(u,F,q,_e,i,s,rt,K)}catch(ve){return{type:"error",error:ve,partialMatches:q}}finally{ue&&(o=[...o])}if(K.aborted)return{type:"aborted"};let Pe=ua(_e,F,l);if(Pe)return Pi(F,v),{type:"success",matches:Pe};let se=Ep(_e,F,l,!0);if(!se||q.length===se.length&&q.every((ve,me)=>ve.route.id===se[me].route.id))return Pi(F,v),{type:"success",matches:null};q=se}}function Pi(j,F){if(F.size>=w){let K=F.values().next().value;F.delete(K)}F.add(j)}function Jo(j){i={},a=Od(j,s,void 0,i)}function Ry(j,F){let K=a==null;lD(j,F,a||o,i,s),K&&(o=[...o],st({}))}return C={get basename(){return l},get future(){return d},get state(){return T},get routes(){return o},get window(){return e},initialize:ze,subscribe:Ft,enableScrollRestoration:al,navigate:Pr,fetch:J,revalidate:ds,createHref:j=>t.history.createHref(j),encodeLocation:j=>t.history.encodeLocation(j),getFetcher:hs,deleteFetcher:rl,dispose:qe,getBlocker:sf,deleteBlocker:tu,patchRoutes:Ry,_internalFetchControllers:B,_internalActiveDeferreds:ce,_internalSetRoutes:Jo},C}function Y6(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function r0(t,e,n,r,s,i,o,a){let l,c;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){c=d;break}}else l=e,c=e[e.length-1];let u=Eg(s||".",xg(l,i),Fc(t.pathname,n)||t.pathname,a==="path");return s==null&&(u.search=t.search,u.hash=t.hash),(s==null||s===""||s===".")&&c&&c.route.index&&!Px(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:si([n,u.pathname])),Va(u)}function dC(t,e,n,r){if(!r||!Y6(r))return{path:n};if(r.formMethod&&!d9(r.formMethod))return{path:n,error:Qn(405,{method:r.formMethod})};let s=()=>({path:n,error:Qn(400,{type:"invalid-body"})}),i=r.formMethod||"get",o=t?i.toUpperCase():i.toLowerCase(),a=cD(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Jr(o))return s();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((g,w)=>{let[v,E]=w;return""+g+v+"="+E+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!Jr(o))return s();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return s()}}}We(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=s0(r.formData),c=r.formData;else if(r.body instanceof FormData)l=s0(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=mC(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=mC(l)}catch{return s()}let u={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Jr(u.formMethod))return{path:n,submission:u};let d=$o(n);return e&&d.search&&Px(d.search)&&l.append("index",""),d.search="?"+l,{path:Va(d),submission:u}}function X6(t,e){let n=t;if(e){let r=t.findIndex(s=>s.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function hC(t,e,n,r,s,i,o,a,l,c,u,d,p,g,w,v){let E=v?gr(v[1])?v[1].error:v[1].data:void 0,_=t.createURL(e.location),y=t.createURL(s),S=v&&gr(v[1])?v[0]:void 0,R=S?X6(n,S):n,D=v?v[1].statusCode:void 0,O=o&&D&&D>=400,C=R.filter((P,I)=>{let{route:M}=P;if(M.lazy)return!0;if(M.loader==null)return!1;if(i)return typeof M.loader!="function"||M.loader.hydrate?!0:e.loaderData[M.id]===void 0&&(!e.errors||e.errors[M.id]===void 0);if(J6(e.loaderData,e.matches[I],P)||l.some(H=>H===P.route.id))return!0;let k=e.matches[I],N=P;return fC(P,Dt({currentUrl:_,currentParams:k.params,nextUrl:y,nextParams:N.params},r,{actionResult:E,actionStatus:D,defaultShouldRevalidate:O?!1:a||_.pathname+_.search===y.pathname+y.search||_.search!==y.search||aD(k,N)}))}),T=[];return d.forEach((P,I)=>{if(i||!n.some(ae=>ae.route.id===P.routeId)||u.has(I))return;let M=ua(g,P.path,w);if(!M){T.push({key:I,routeId:P.routeId,path:P.path,matches:null,match:null,controller:null});return}let k=e.fetchers.get(I),N=Ou(M,P.path),H=!1;p.has(I)?H=!1:c.has(I)?(c.delete(I),H=!0):k&&k.state!=="idle"&&k.data===void 0?H=a:H=fC(N,Dt({currentUrl:_,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:E,actionStatus:D,defaultShouldRevalidate:O?!1:a})),H&&T.push({key:I,routeId:P.routeId,path:P.path,matches:M,match:N,controller:new AbortController})}),[C,T]}function J6(t,e,n){let r=!e||n.route.id!==e.route.id,s=t[n.route.id]===void 0;return r||s}function aD(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function fC(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function Z6(t,e,n,r,s,i,o,a){let l=[e,...n.map(c=>c.route.id)].join("-");try{let c=o.get(l);c||(c=t({path:e,matches:n,patch:(u,d)=>{a.aborted||lD(u,d,r,s,i)}}),o.set(l,c)),c&&l9(c)&&await c}finally{o.delete(l)}}function lD(t,e,n,r,s){if(t){var i;let o=r[t];We(o,"No route found to patch children into: routeId = "+t);let a=Od(e,s,[t,"patch",String(((i=o.children)==null?void 0:i.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=Od(e,s,["patch",String(n.length||"0")],r);n.push(...o)}}async function e9(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let s=n[t.id];We(s,"No route found in manifest");let i={};for(let o in r){let l=s[o]!==void 0&&o!=="hasErrorBoundary";Ec(!l,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!E6.has(o)&&(i[o]=r[o])}Object.assign(s,i),Object.assign(s,Dt({},e(s),{lazy:void 0}))}async function t9(t){let{matches:e}=t,n=e.filter(s=>s.shouldLoad);return(await Promise.all(n.map(s=>s.resolve()))).reduce((s,i,o)=>Object.assign(s,{[n[o].route.id]:i}),{})}async function n9(t,e,n,r,s,i,o,a,l,c){let u=i.map(g=>g.route.lazy?e9(g.route,l,a):void 0),d=i.map((g,w)=>{let v=u[w],E=s.some(y=>y.route.id===g.route.id);return Dt({},g,{shouldLoad:E,resolve:async y=>(y&&r.method==="GET"&&(g.route.lazy||g.route.loader)&&(E=!0),E?r9(e,r,g,v,y,c):Promise.resolve({type:pt.data,result:void 0}))})}),p=await t({matches:d,request:r,params:i[0].params,fetcherKey:o,context:c});try{await Promise.all(u)}catch{}return p}async function r9(t,e,n,r,s,i){let o,a,l=c=>{let u,d=new Promise((w,v)=>u=v);a=()=>u(),e.signal.addEventListener("abort",a);let p=w=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:i},...w!==void 0?[w]:[]),g=(async()=>{try{return{type:"data",result:await(s?s(v=>p(v)):p())}}catch(w){return{type:"error",result:w}}})();return Promise.race([g,d])};try{let c=n.route[t];if(r)if(c){let u,[d]=await Promise.all([l(c).catch(p=>{u=p}),r]);if(u!==void 0)throw u;o=d}else if(await r,c=n.route[t],c)o=await l(c);else if(t==="action"){let u=new URL(e.url),d=u.pathname+u.search;throw Qn(405,{method:e.method,pathname:d,routeId:n.route.id})}else return{type:pt.data,result:void 0};else if(c)o=await l(c);else{let u=new URL(e.url),d=u.pathname+u.search;throw Qn(404,{pathname:d})}We(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:pt.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function s9(t){let{result:e,type:n}=t;if(uD(e)){let c;try{let u=e.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(u){return{type:pt.error,error:u}}return n===pt.error?{type:pt.error,error:new vm(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:pt.data,data:c,statusCode:e.status,headers:e.headers}}if(n===pt.error){if(_C(e)){var r;if(e.data instanceof Error){var s;return{type:pt.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status}}e=new vm(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:pt.error,error:e,statusCode:Ch(e)?e.status:void 0}}if(u9(e)){var i,o;return{type:pt.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(_C(e)){var a,l;return{type:pt.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:pt.data,data:e}}function i9(t,e,n,r,s,i){let o=t.headers.get("Location");if(We(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!bx.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=r0(new URL(e.url),a,s,!0,o,i),t.headers.set("Location",o)}return t}function pC(t,e,n){if(bx.test(t)){let r=t,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),i=Fc(s.pathname,n)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return t}function hl(t,e,n,r){let s=t.createURL(cD(e)).toString(),i={signal:n};if(r&&Jr(r.formMethod)){let{formMethod:o,formEncType:a}=r;i.method=o.toUpperCase(),a==="application/json"?(i.headers=new Headers({"Content-Type":a}),i.body=JSON.stringify(r.json)):a==="text/plain"?i.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?i.body=s0(r.formData):i.body=r.formData}return new Request(s,i)}function s0(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function mC(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function o9(t,e,n,r,s){let i={},o=null,a,l=!1,c={},u=n&&gr(n[1])?n[1].error:void 0;return t.forEach(d=>{if(!(d.route.id in e))return;let p=d.route.id,g=e[p];if(We(!pa(g),"Cannot handle redirect results in processLoaderData"),gr(g)){let w=g.error;u!==void 0&&(w=u,u=void 0),o=o||{};{let v=kl(t,p);o[v.route.id]==null&&(o[v.route.id]=w)}i[p]=void 0,l||(l=!0,a=Ch(g.error)?g.error.status:500),g.headers&&(c[p]=g.headers)}else oo(g)?(r.set(p,g.deferredData),i[p]=g.deferredData.data,g.statusCode!=null&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(c[p]=g.headers)):(i[p]=g.data,g.statusCode&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(c[p]=g.headers))}),u!==void 0&&n&&(o={[n[0]]:u},i[n[0]]=void 0),{loaderData:i,errors:o,statusCode:a||200,loaderHeaders:c}}function gC(t,e,n,r,s,i,o,a){let{loaderData:l,errors:c}=o9(e,r,s,a);return i.forEach(u=>{let{key:d,match:p,controller:g}=u,w=o[d];if(We(w,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(gr(w)){let v=kl(t.matches,p==null?void 0:p.route.id);c&&c[v.route.id]||(c=Dt({},c,{[v.route.id]:w.error})),t.fetchers.delete(d)}else if(pa(w))We(!1,"Unhandled fetcher revalidation redirect");else if(oo(w))We(!1,"Unhandled fetcher deferred data");else{let v=Li(w.data);t.fetchers.set(d,v)}}),{loaderData:l,errors:c}}function yC(t,e,n,r){let s=Dt({},e);for(let i of n){let o=i.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(s[o]=e[o]):t[o]!==void 0&&i.route.loader&&(s[o]=t[o]),r&&r.hasOwnProperty(o))break}return s}function vC(t){return t?gr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function kl(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function wC(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Qn(t,e){let{pathname:n,routeId:r,method:s,type:i,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):s&&n&&r?l="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",s&&n&&r?l="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(l='Invalid request method "'+s.toUpperCase()+'"')),new vm(t||500,a,new Error(l),!0)}function jf(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,s]=e[n];if(pa(s))return{key:r,result:s}}}function cD(t){let e=typeof t=="string"?$o(t):t;return Va(Dt({},e,{hash:""}))}function a9(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function l9(t){return typeof t=="object"&&t!=null&&"then"in t}function c9(t){return uD(t.result)&&W6.has(t.result.status)}function oo(t){return t.type===pt.deferred}function gr(t){return t.type===pt.error}function pa(t){return(t&&t.type)===pt.redirect}function _C(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function u9(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function uD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function d9(t){return K6.has(t.toLowerCase())}function Jr(t){return $6.has(t.toLowerCase())}async function h9(t,e,n,r,s){let i=Object.entries(e);for(let o=0;o<i.length;o++){let[a,l]=i[o],c=t.find(p=>(p==null?void 0:p.route.id)===a);if(!c)continue;let u=r.find(p=>p.route.id===c.route.id),d=u!=null&&!aD(u,c)&&(s&&s[c.route.id])!==void 0;oo(l)&&d&&await Cx(l,n,!1).then(p=>{p&&(e[a]=p)})}}async function f9(t,e,n){for(let r=0;r<n.length;r++){let{key:s,routeId:i,controller:o}=n[r],a=e[s];t.find(c=>(c==null?void 0:c.route.id)===i)&&oo(a)&&(We(o,"Expected an AbortController for revalidating fetcher deferred result"),await Cx(a,o.signal,!0).then(c=>{c&&(e[s]=c)}))}}async function Cx(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:pt.data,data:t.deferredData.unwrappedData}}catch(s){return{type:pt.error,error:s}}return{type:pt.data,data:t.deferredData.data}}}function Px(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Ou(t,e){let n=typeof e=="string"?$o(e).search:e.search;if(t[t.length-1].route.index&&Px(n||""))return t[t.length-1];let r=sD(t);return r[r.length-1]}function xC(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:i,json:o}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function yv(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function p9(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function xu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function m9(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Li(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function g9(t,e){try{let n=t.sessionStorage.getItem(oD);if(n){let r=JSON.parse(n);for(let[s,i]of Object.entries(r||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function y9(t,e){if(e.size>0){let n={};for(let[r,s]of e)n[r]=[...s];try{t.sessionStorage.setItem(oD,JSON.stringify(n))}catch(r){Ec(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wm(){return wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wm.apply(this,arguments)}const Tg=m.createContext(null),dD=m.createContext(null),zo=m.createContext(null),Rx=m.createContext(null),Ko=m.createContext({outlet:null,matches:[],isDataRoute:!1}),hD=m.createContext(null);function v9(t,e){let{relative:n}=e===void 0?{}:e;Uc()||We(!1);let{basename:r,navigator:s}=m.useContext(zo),{hash:i,pathname:o,search:a}=pD(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:si([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Uc(){return m.useContext(Rx)!=null}function Ph(){return Uc()||We(!1),m.useContext(Rx).location}function fD(t){m.useContext(zo).static||m.useLayoutEffect(t)}function Rh(){let{isDataRoute:t}=m.useContext(Ko);return t?I9():w9()}function w9(){Uc()||We(!1);let t=m.useContext(Tg),{basename:e,future:n,navigator:r}=m.useContext(zo),{matches:s}=m.useContext(Ko),{pathname:i}=Ph(),o=JSON.stringify(xg(s,n.v7_relativeSplatPath)),a=m.useRef(!1);return fD(()=>{a.current=!0}),m.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Eg(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:si([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,i,t])}function pD(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext(zo),{matches:s}=m.useContext(Ko),{pathname:i}=Ph(),o=JSON.stringify(xg(s,r.v7_relativeSplatPath));return m.useMemo(()=>Eg(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function _9(t,e,n,r){Uc()||We(!1);let{navigator:s}=m.useContext(zo),{matches:i}=m.useContext(Ko),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Ph(),u;u=c;let d=u.pathname||"/",p=d;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=ua(t,{pathname:p});return b9(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:si([l,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:si([l,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n,r)}function x9(){let t=yD(),e=Ch(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:s},n):null,null)}const E9=m.createElement(x9,null);class T9 extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(Ko.Provider,{value:this.props.routeContext},m.createElement(hD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function S9(t){let{routeContext:e,match:n,children:r}=t,s=m.useContext(Tg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Ko.Provider,{value:e},r)}function b9(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||We(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:p,errors:g}=n,w=d.route.loader&&p[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,p)=>{let g,w=!1,v=null,E=null;n&&(g=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||E9,l&&(c<0&&p===0?(A9("route-fallback"),w=!0,E=null):c===p&&(w=!0,E=d.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,p+1)),y=()=>{let S;return g?S=v:w?S=E:d.route.Component?S=m.createElement(d.route.Component,null):d.route.element?S=d.route.element:S=u,m.createElement(S9,{match:d,routeContext:{outlet:u,matches:_,isDataRoute:n!=null},children:S})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?m.createElement(T9,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:y(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):y()},null)}var mD=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(mD||{}),_m=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(_m||{});function C9(t){let e=m.useContext(Tg);return e||We(!1),e}function P9(t){let e=m.useContext(dD);return e||We(!1),e}function R9(t){let e=m.useContext(Ko);return e||We(!1),e}function gD(t){let e=R9(),n=e.matches[e.matches.length-1];return n.route.id||We(!1),n.route.id}function yD(){var t;let e=m.useContext(hD),n=P9(_m.UseRouteError),r=gD(_m.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function I9(){let{router:t}=C9(mD.UseNavigateStable),e=gD(_m.UseNavigateStable),n=m.useRef(!1);return fD(()=>{n.current=!0}),m.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,wm({fromRouteId:e},i)))},[t,e])}const EC={};function A9(t,e,n){EC[t]||(EC[t]=!0)}function vD(t){let{to:e,replace:n,state:r,relative:s}=t;Uc()||We(!1);let{future:i,static:o}=m.useContext(zo),{matches:a}=m.useContext(Ko),{pathname:l}=Ph(),c=Rh(),u=Eg(e,xg(a,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(u);return m.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:s}),[c,d,s,n,r]),null}function N9(t){let{basename:e="/",children:n=null,location:r,navigationType:s=nn.Pop,navigator:i,static:o=!1,future:a}=t;Uc()&&We(!1);let l=e.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:l,navigator:i,static:o,future:wm({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=$o(r));let{pathname:u="/",search:d="",hash:p="",state:g=null,key:w="default"}=r,v=m.useMemo(()=>{let E=Fc(u,l);return E==null?null:{location:{pathname:E,search:d,hash:p,state:g,key:w},navigationType:s}},[l,u,d,p,g,w,s]);return v==null?null:m.createElement(zo.Provider,{value:c},m.createElement(Rx.Provider,{children:n,value:v}))}new Promise(()=>{});function D9(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:m.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:m.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:m.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ld(){return Ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ld.apply(this,arguments)}function k9(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function M9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function O9(t,e){return t.button===0&&(!e||e==="_self")&&!M9(t)}const L9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],j9="6";try{window.__reactRouterVersion=j9}catch{}function V9(t,e){return Q6({basename:e==null?void 0:e.basename,future:Ld({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:w6({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||F9(),routes:t,mapRouteProperties:D9,unstable_dataStrategy:e==null?void 0:e.unstable_dataStrategy,unstable_patchRoutesOnNavigation:e==null?void 0:e.unstable_patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function F9(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Ld({},e,{errors:U9(e.errors)})),e}function U9(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new vm(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let i=new Error(s.message);i.stack="",n[r]=i}}else n[r]=s;return n}const B9=m.createContext({isTransitioning:!1}),$9=m.createContext(new Map),z9="startTransition",TC=tI[z9],K9="flushSync",SC=h$[K9];function W9(t){TC?TC(t):t()}function Eu(t){SC?SC(t):t()}class H9{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function G9(t){let{fallbackElement:e,router:n,future:r}=t,[s,i]=m.useState(n.state),[o,a]=m.useState(),[l,c]=m.useState({isTransitioning:!1}),[u,d]=m.useState(),[p,g]=m.useState(),[w,v]=m.useState(),E=m.useRef(new Map),{v7_startTransition:_}=r||{},y=m.useCallback(T=>{_?W9(T):T()},[_]),S=m.useCallback((T,P)=>{let{deletedFetchers:I,unstable_flushSync:M,unstable_viewTransitionOpts:k}=P;I.forEach(H=>E.current.delete(H)),T.fetchers.forEach((H,ae)=>{H.data!==void 0&&E.current.set(ae,H.data)});let N=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!k||N){M?Eu(()=>i(T)):y(()=>i(T));return}if(M){Eu(()=>{p&&(u&&u.resolve(),p.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:k.currentLocation,nextLocation:k.nextLocation})});let H=n.window.document.startViewTransition(()=>{Eu(()=>i(T))});H.finished.finally(()=>{Eu(()=>{d(void 0),g(void 0),a(void 0),c({isTransitioning:!1})})}),Eu(()=>g(H));return}p?(u&&u.resolve(),p.skipTransition(),v({state:T,currentLocation:k.currentLocation,nextLocation:k.nextLocation})):(a(T),c({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}))},[n.window,p,u,E,y]);m.useLayoutEffect(()=>n.subscribe(S),[n,S]),m.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new H9)},[l]),m.useEffect(()=>{if(u&&o&&n.window){let T=o,P=u.promise,I=n.window.document.startViewTransition(async()=>{y(()=>i(T)),await P});I.finished.finally(()=>{d(void 0),g(void 0),a(void 0),c({isTransitioning:!1})}),g(I)}},[y,o,u,n.window]),m.useEffect(()=>{u&&o&&s.location.key===o.location.key&&u.resolve()},[u,p,s.location,o]),m.useEffect(()=>{!l.isTransitioning&&w&&(a(w.state),c({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),v(void 0))},[l.isTransitioning,w]),m.useEffect(()=>{},[]);let R=m.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:T=>n.navigate(T),push:(T,P,I)=>n.navigate(T,{state:P,preventScrollReset:I==null?void 0:I.preventScrollReset}),replace:(T,P,I)=>n.navigate(T,{replace:!0,state:P,preventScrollReset:I==null?void 0:I.preventScrollReset})}),[n]),D=n.basename||"/",O=m.useMemo(()=>({router:n,navigator:R,static:!1,basename:D}),[n,R,D]),C=m.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return m.createElement(m.Fragment,null,m.createElement(Tg.Provider,{value:O},m.createElement(dD.Provider,{value:s},m.createElement($9.Provider,{value:E.current},m.createElement(B9.Provider,{value:l},m.createElement(N9,{basename:D,location:s.location,navigationType:s.historyAction,navigator:R,future:C},s.initialized||n.future.v7_partialHydration?m.createElement(q9,{routes:n.routes,future:n.future,state:s}):e))))),null)}const q9=m.memo(Q9);function Q9(t){let{routes:e,future:n,state:r}=t;return _9(e,void 0,r,n)}const Y9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",X9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,J9=m.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,p=k9(e,L9),{basename:g}=m.useContext(zo),w,v=!1;if(typeof c=="string"&&X9.test(c)&&(w=c,Y9))try{let S=new URL(window.location.href),R=c.startsWith("//")?new URL(S.protocol+c):new URL(c),D=Fc(R.pathname,g);R.origin===S.origin&&D!=null?c=D+R.search+R.hash:v=!0}catch{}let E=v9(c,{relative:s}),_=Z9(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,unstable_viewTransition:d});function y(S){r&&r(S),S.defaultPrevented||_(S)}return m.createElement("a",Ld({},p,{href:w||E,onClick:v||i?r:y,ref:n,target:l}))});var bC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(bC||(bC={}));var CC;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(CC||(CC={}));function Z9(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Rh(),c=Ph(),u=pD(t,{relative:o});return m.useCallback(d=>{if(O9(d,n)){d.preventDefault();let p=r!==void 0?r:Va(c)===Va(u);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[c,l,u,r,s,n,t,i,o,a])}const eK=()=>{const t=Rt(n=>n.isAuth),e=Rh();m.useEffect(()=>{(async()=>{try{const r=Uz();await S3(r),Mt("Sign in success")}catch{}})()},[]),m.useEffect(()=>{if(!t)return e("/login")},[t])};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tK=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wD=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rK=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>m.createElement("svg",{ref:l,...nK,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:wD("lucide",s),...a},[...o.map(([c,u])=>m.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=(t,e)=>{const n=m.forwardRef(({className:r,...s},i)=>m.createElement(rK,{ref:i,iconNode:e,className:wD(`lucide-${tK(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=$e("Blocks",[["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["path",{d:"M10 21V8a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H3",key:"1fpvtg"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iK=$e("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oK=$e("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=$e("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=$e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=$e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=$e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=$e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=$e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=$e("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=$e("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=$e("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hK=$e("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=$e("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=$e("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=$e("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=$e("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=$e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fK=$e("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pK=$e("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mK=$e("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gK=$e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yK=$e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vK=$e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wK=$e("PanelRight",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=$e("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _K=$e("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=$e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=$e("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xK=$e("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EK=$e("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TK=$e("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=$e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=$e("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SK=$e("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=$e("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bK=$e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CK=$e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=$e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function ee(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function PK(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Cg(...t){return e=>t.forEach(n=>PK(n,e))}function ke(...t){return m.useCallback(Cg(...t),t)}function RK(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=d=>{var _;const{scope:p,children:g,...w}=d,v=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,E=m.useMemo(()=>w,Object.values(w));return f.jsx(v.Provider,{value:E,children:g})};c.displayName=i+"Provider";function u(d,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,IK(s,...e)]}function IK(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Nt(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Po({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=AK({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Nt(n),l=m.useCallback(c=>{if(i){const d=typeof c=="function"?c(t):c;d!==t&&a(d)}else s(c)},[i,t,s,a]);return[o,l]}function AK({defaultProp:t,onChange:e}){const n=m.useState(t),[r]=n,s=m.useRef(r),i=Nt(e);return m.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var Ro=m.forwardRef((t,e)=>{const{children:n,...r}=t,s=m.Children.toArray(n),i=s.find(NK);if(i){const o=i.props.children,a=s.map(l=>l===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:l);return f.jsx(i0,{...r,ref:e,children:m.isValidElement(o)?m.cloneElement(o,void 0,a):null})}return f.jsx(i0,{...r,ref:e,children:n})});Ro.displayName="Slot";var i0=m.forwardRef((t,e)=>{const{children:n,...r}=t;if(m.isValidElement(n)){const s=kK(n);return m.cloneElement(n,{...DK(r,n.props),ref:e?Cg(e,s):s})}return m.Children.count(n)>1?m.Children.only(null):null});i0.displayName="SlotClone";var Nx=({children:t})=>f.jsx(f.Fragment,{children:t});function NK(t){return m.isValidElement(t)&&t.type===Nx}function DK(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function kK(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var MK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],xe=MK.reduce((t,e)=>{const n=m.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Ro:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Ya(t,e){t&&Si.flushSync(()=>t.dispatchEvent(e))}function Bc(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];function c(d){const{scope:p,children:g,...w}=d,v=(p==null?void 0:p[t][l])||a,E=m.useMemo(()=>w,Object.values(w));return f.jsx(v.Provider,{value:E,children:g})}function u(d,p){const g=(p==null?void 0:p[t][l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,OK(s,...e)]}function OK(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Pg(t){const e=t+"CollectionProvider",[n,r]=Bc(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:w,children:v}=g,E=Ke.useRef(null),_=Ke.useRef(new Map).current;return f.jsx(s,{scope:w,itemMap:_,collectionRef:E,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=Ke.forwardRef((g,w)=>{const{scope:v,children:E}=g,_=i(a,v),y=ke(w,_.collectionRef);return f.jsx(Ro,{ref:y,children:E})});l.displayName=a;const c=t+"CollectionItemSlot",u="data-radix-collection-item",d=Ke.forwardRef((g,w)=>{const{scope:v,children:E,..._}=g,y=Ke.useRef(null),S=ke(w,y),R=i(c,v);return Ke.useEffect(()=>(R.itemMap.set(y,{ref:y,..._}),()=>void R.itemMap.delete(y))),f.jsx(Ro,{[u]:"",ref:S,children:E})});d.displayName=c;function p(g){const w=i(t+"CollectionConsumer",g);return Ke.useCallback(()=>{const E=w.collectionRef.current;if(!E)return[];const _=Array.from(E.querySelectorAll(`[${u}]`));return Array.from(w.itemMap.values()).sort((R,D)=>_.indexOf(R.ref.current)-_.indexOf(D.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:l,ItemSlot:d},p,r]}function LK(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=d=>{var _;const{scope:p,children:g,...w}=d,v=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,E=m.useMemo(()=>w,Object.values(w));return f.jsx(v.Provider,{value:E,children:g})};c.displayName=i+"Provider";function u(d,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,jK(s,...e)]}function jK(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var VK=m.createContext(void 0);function Rg(t){const e=m.useContext(VK);return t||e||"ltr"}function Ah(t,e=globalThis==null?void 0:globalThis.document){const n=Nt(t);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var FK="DismissableLayer",o0="dismissableLayer.update",UK="dismissableLayer.pointerDownOutside",BK="dismissableLayer.focusOutside",RC,AD=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ND=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(AD),[u,d]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=ke(e,C=>d(C)),v=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(E),y=u?v.indexOf(u):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,R=y>=_,D=KK(C=>{const T=C.target,P=[...c.branches].some(I=>I.contains(T));!R||P||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),O=WK(C=>{const T=C.target;[...c.branches].some(I=>I.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return Ah(C=>{y===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(RC=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),IC(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=RC)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),IC())},[u,c]),m.useEffect(()=>{const C=()=>g({});return document.addEventListener(o0,C),()=>document.removeEventListener(o0,C)},[]),f.jsx(xe.div,{...l,ref:w,style:{pointerEvents:S?R?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,D.onPointerDownCapture)})});ND.displayName=FK;var $K="DismissableLayerBranch",zK=m.forwardRef((t,e)=>{const n=m.useContext(AD),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(xe.div,{...t,ref:s})});zK.displayName=$K;function KK(t,e=globalThis==null?void 0:globalThis.document){const n=Nt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){DD(UK,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function WK(t,e=globalThis==null?void 0:globalThis.document){const n=Nt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&DD(BK,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function IC(){const t=new CustomEvent(o0);document.dispatchEvent(t)}function DD(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Ya(s,i):s.dispatchEvent(i)}var vv=0;function Dx(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??AC()),document.body.insertAdjacentElement("beforeend",t[1]??AC()),vv++,()=>{vv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),vv--}},[])}function AC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var wv="focusScope.autoFocusOnMount",_v="focusScope.autoFocusOnUnmount",NC={bubbles:!1,cancelable:!0},HK="FocusScope",Ig=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=m.useState(null),c=Nt(s),u=Nt(i),d=m.useRef(null),p=ke(e,v=>l(v)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let v=function(S){if(g.paused||!a)return;const R=S.target;a.contains(R)?d.current=R:ji(d.current,{select:!0})},E=function(S){if(g.paused||!a)return;const R=S.relatedTarget;R!==null&&(a.contains(R)||ji(d.current,{select:!0}))},_=function(S){if(document.activeElement===document.body)for(const D of S)D.removedNodes.length>0&&ji(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",E);const y=new MutationObserver(_);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",E),y.disconnect()}}},[r,a,g.paused]),m.useEffect(()=>{if(a){kC.add(g);const v=document.activeElement;if(!a.contains(v)){const _=new CustomEvent(wv,NC);a.addEventListener(wv,c),a.dispatchEvent(_),_.defaultPrevented||(GK(JK(kD(a)),{select:!0}),document.activeElement===v&&ji(a))}return()=>{a.removeEventListener(wv,c),setTimeout(()=>{const _=new CustomEvent(_v,NC);a.addEventListener(_v,u),a.dispatchEvent(_),_.defaultPrevented||ji(v??document.body,{select:!0}),a.removeEventListener(_v,u),kC.remove(g)},0)}}},[a,c,u,g]);const w=m.useCallback(v=>{if(!n&&!r||g.paused)return;const E=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,_=document.activeElement;if(E&&_){const y=v.currentTarget,[S,R]=qK(y);S&&R?!v.shiftKey&&_===R?(v.preventDefault(),n&&ji(S,{select:!0})):v.shiftKey&&_===S&&(v.preventDefault(),n&&ji(R,{select:!0})):_===y&&v.preventDefault()}},[n,r,g.paused]);return f.jsx(xe.div,{tabIndex:-1,...o,ref:p,onKeyDown:w})});Ig.displayName=HK;function GK(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ji(r,{select:e}),document.activeElement!==n)return}function qK(t){const e=kD(t),n=DC(e,t),r=DC(e.reverse(),t);return[n,r]}function kD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function DC(t,e){for(const n of t)if(!QK(n,{upTo:e}))return n}function QK(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function YK(t){return t instanceof HTMLInputElement&&"select"in t}function ji(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&YK(t)&&e&&t.select()}}var kC=XK();function XK(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=MC(t,e),t.unshift(e)},remove(e){var n;t=MC(t,e),(n=t[0])==null||n.resume()}}}function MC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function JK(t){return t.filter(e=>e.tagName!=="A")}var It=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},ZK=tI.useId||(()=>{}),eW=0;function os(t){const[e,n]=m.useState(ZK());return It(()=>{t||n(r=>r??String(eW++))},[t]),t||(e?`radix-${e}`:"")}const tW=["top","right","bottom","left"],Io=Math.min,yr=Math.max,xm=Math.round,Vf=Math.floor,Ao=t=>({x:t,y:t}),nW={left:"right",right:"left",bottom:"top",top:"bottom"},rW={start:"end",end:"start"};function a0(t,e,n){return yr(t,Io(e,n))}function yi(t,e){return typeof t=="function"?t(e):t}function vi(t){return t.split("-")[0]}function $c(t){return t.split("-")[1]}function kx(t){return t==="x"?"y":"x"}function Mx(t){return t==="y"?"height":"width"}function No(t){return["top","bottom"].includes(vi(t))?"y":"x"}function Ox(t){return kx(No(t))}function sW(t,e,n){n===void 0&&(n=!1);const r=$c(t),s=Ox(t),i=Mx(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Em(o)),[o,Em(o)]}function iW(t){const e=Em(t);return[l0(t),e,l0(e)]}function l0(t){return t.replace(/start|end/g,e=>rW[e])}function oW(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function aW(t,e,n,r){const s=$c(t);let i=oW(vi(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(l0)))),i}function Em(t){return t.replace(/left|right|bottom|top/g,e=>nW[e])}function lW(t){return{top:0,right:0,bottom:0,left:0,...t}}function MD(t){return typeof t!="number"?lW(t):{top:t,right:t,bottom:t,left:t}}function Tm(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function OC(t,e,n){let{reference:r,floating:s}=t;const i=No(e),o=Ox(e),a=Mx(o),l=vi(e),c=i==="y",u=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:u,y:r.y-s.height};break;case"bottom":g={x:u,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:d};break;case"left":g={x:r.x-s.width,y:d};break;default:g={x:r.x,y:r.y}}switch($c(e)){case"start":g[o]-=p*(n&&c?-1:1);break;case"end":g[o]+=p*(n&&c?-1:1);break}return g}const cW=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:d}=OC(c,r,l),p=r,g={},w=0;for(let v=0;v<a.length;v++){const{name:E,fn:_}=a[v],{x:y,y:S,data:R,reset:D}=await _({x:u,y:d,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});u=y??u,d=S??d,g={...g,[E]:{...g[E],...R}},D&&w<=50&&(w++,typeof D=="object"&&(D.placement&&(p=D.placement),D.rects&&(c=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:u,y:d}=OC(c,p,l)),v=-1)}return{x:u,y:d,placement:p,strategy:s,middlewareData:g}};async function jd(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:g=0}=yi(e,t),w=MD(g),E=a[p?d==="floating"?"reference":"floating":d],_=Tm(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=d==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),R=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},D=Tm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:S,strategy:l}):y);return{top:(_.top-D.top+w.top)/R.y,bottom:(D.bottom-_.bottom+w.bottom)/R.y,left:(_.left-D.left+w.left)/R.x,right:(D.right-_.right+w.right)/R.x}}const uW=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=yi(t,e)||{};if(c==null)return{};const d=MD(u),p={x:n,y:r},g=Ox(s),w=Mx(g),v=await o.getDimensions(c),E=g==="y",_=E?"top":"left",y=E?"bottom":"right",S=E?"clientHeight":"clientWidth",R=i.reference[w]+i.reference[g]-p[g]-i.floating[w],D=p[g]-i.reference[g],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=O?O[S]:0;(!C||!await(o.isElement==null?void 0:o.isElement(O)))&&(C=a.floating[S]||i.floating[w]);const T=R/2-D/2,P=C/2-v[w]/2-1,I=Io(d[_],P),M=Io(d[y],P),k=I,N=C-v[w]-M,H=C/2-v[w]/2+T,ae=a0(k,H,N),te=!l.arrow&&$c(s)!=null&&H!==ae&&i.reference[w]/2-(H<k?I:M)-v[w]/2<0,ne=te?H<k?H-k:H-N:0;return{[g]:p[g]+ne,data:{[g]:ae,centerOffset:H-ae-ne,...te&&{alignmentOffset:ne}},reset:te}}}),dW=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,...E}=yi(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=vi(s),y=No(a),S=vi(a)===a,R=await(l.isRTL==null?void 0:l.isRTL(c.floating)),D=p||(S||!v?[Em(a)]:iW(a)),O=w!=="none";!p&&O&&D.push(...aW(a,v,w,R));const C=[a,...D],T=await jd(e,E),P=[];let I=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&P.push(T[_]),d){const H=sW(s,o,R);P.push(T[H[0]],T[H[1]])}if(I=[...I,{placement:s,overflows:P}],!P.every(H=>H<=0)){var M,k;const H=(((M=i.flip)==null?void 0:M.index)||0)+1,ae=C[H];if(ae)return{data:{index:H,overflows:I},reset:{placement:ae}};let te=(k=I.filter(ne=>ne.overflows[0]<=0).sort((ne,z)=>ne.overflows[1]-z.overflows[1])[0])==null?void 0:k.placement;if(!te)switch(g){case"bestFit":{var N;const ne=(N=I.filter(z=>{if(O){const B=No(z.placement);return B===y||B==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(B=>B>0).reduce((B,Z)=>B+Z,0)]).sort((z,B)=>z[1]-B[1])[0])==null?void 0:N[0];ne&&(te=ne);break}case"initialPlacement":te=a;break}if(s!==te)return{reset:{placement:te}}}return{}}}};function LC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function jC(t){return tW.some(e=>t[e]>=0)}const hW=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=yi(t,e);switch(r){case"referenceHidden":{const i=await jd(e,{...s,elementContext:"reference"}),o=LC(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:jC(o)}}}case"escaped":{const i=await jd(e,{...s,altBoundary:!0}),o=LC(i,n.floating);return{data:{escapedOffsets:o,escaped:jC(o)}}}default:return{}}}}};async function fW(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=vi(n),a=$c(n),l=No(n)==="y",c=["left","top"].includes(o)?-1:1,u=i&&l?-1:1,d=yi(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:w}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof w=="number"&&(g=a==="end"?w*-1:w),l?{x:g*u,y:p*c}:{x:p*c,y:g*u}}const pW=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await fW(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},mW=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x:_,y}=E;return{x:_,y}}},...l}=yi(t,e),c={x:n,y:r},u=await jd(e,l),d=No(vi(s)),p=kx(d);let g=c[p],w=c[d];if(i){const E=p==="y"?"top":"left",_=p==="y"?"bottom":"right",y=g+u[E],S=g-u[_];g=a0(y,g,S)}if(o){const E=d==="y"?"top":"left",_=d==="y"?"bottom":"right",y=w+u[E],S=w-u[_];w=a0(y,w,S)}const v=a.fn({...e,[p]:g,[d]:w});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[p]:i,[d]:o}}}}}},gW=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=yi(t,e),u={x:n,y:r},d=No(s),p=kx(d);let g=u[p],w=u[d];const v=yi(a,e),E=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const S=p==="y"?"height":"width",R=i.reference[p]-i.floating[S]+E.mainAxis,D=i.reference[p]+i.reference[S]-E.mainAxis;g<R?g=R:g>D&&(g=D)}if(c){var _,y;const S=p==="y"?"width":"height",R=["top","left"].includes(vi(s)),D=i.reference[d]-i.floating[S]+(R&&((_=o.offset)==null?void 0:_[d])||0)+(R?0:E.crossAxis),O=i.reference[d]+i.reference[S]+(R?0:((y=o.offset)==null?void 0:y[d])||0)-(R?E.crossAxis:0);w<D?w=D:w>O&&(w=O)}return{[p]:g,[d]:w}}}},yW=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=yi(t,e),u=await jd(e,c),d=vi(s),p=$c(s),g=No(s)==="y",{width:w,height:v}=i.floating;let E,_;d==="top"||d==="bottom"?(E=d,_=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=d,E=p==="end"?"top":"bottom");const y=v-u.top-u.bottom,S=w-u.left-u.right,R=Io(v-u[E],y),D=Io(w-u[_],S),O=!e.middlewareData.shift;let C=R,T=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=y),O&&!p){const I=yr(u.left,0),M=yr(u.right,0),k=yr(u.top,0),N=yr(u.bottom,0);g?T=w-2*(I!==0||M!==0?I+M:yr(u.left,u.right)):C=v-2*(k!==0||N!==0?k+N:yr(u.top,u.bottom))}await l({...e,availableWidth:T,availableHeight:C});const P=await o.getDimensions(a.floating);return w!==P.width||v!==P.height?{reset:{rects:!0}}:{}}}};function Ag(){return typeof window<"u"}function zc(t){return OD(t)?(t.nodeName||"").toLowerCase():"#document"}function xr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Vs(t){var e;return(e=(OD(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function OD(t){return Ag()?t instanceof Node||t instanceof xr(t).Node:!1}function ls(t){return Ag()?t instanceof Element||t instanceof xr(t).Element:!1}function Ms(t){return Ag()?t instanceof HTMLElement||t instanceof xr(t).HTMLElement:!1}function VC(t){return!Ag()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof xr(t).ShadowRoot}function Nh(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=cs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function vW(t){return["table","td","th"].includes(zc(t))}function Ng(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Lx(t){const e=jx(),n=ls(t)?cs(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function wW(t){let e=Do(t);for(;Ms(e)&&!Tc(e);){if(Lx(e))return e;if(Ng(e))return null;e=Do(e)}return null}function jx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Tc(t){return["html","body","#document"].includes(zc(t))}function cs(t){return xr(t).getComputedStyle(t)}function Dg(t){return ls(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Do(t){if(zc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||VC(t)&&t.host||Vs(t);return VC(e)?e.host:e}function LD(t){const e=Do(t);return Tc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ms(e)&&Nh(e)?e:LD(e)}function Vd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=LD(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=xr(s);if(i){const a=c0(o);return e.concat(o,o.visualViewport||[],Nh(s)?s:[],a&&n?Vd(a):[])}return e.concat(s,Vd(s,[],n))}function c0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function jD(t){const e=cs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Ms(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=xm(n)!==i||xm(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Vx(t){return ls(t)?t:t.contextElement}function ql(t){const e=Vx(t);if(!Ms(e))return Ao(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=jD(e);let o=(i?xm(n.width):n.width)/r,a=(i?xm(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const _W=Ao(0);function VD(t){const e=xr(t);return!jx()||!e.visualViewport?_W:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function xW(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==xr(t)?!1:e}function Fa(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Vx(t);let o=Ao(1);e&&(r?ls(r)&&(o=ql(r)):o=ql(t));const a=xW(i,n,r)?VD(i):Ao(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,d=s.height/o.y;if(i){const p=xr(i),g=r&&ls(r)?xr(r):r;let w=p,v=c0(w);for(;v&&r&&g!==w;){const E=ql(v),_=v.getBoundingClientRect(),y=cs(v),S=_.left+(v.clientLeft+parseFloat(y.paddingLeft))*E.x,R=_.top+(v.clientTop+parseFloat(y.paddingTop))*E.y;l*=E.x,c*=E.y,u*=E.x,d*=E.y,l+=S,c+=R,w=xr(v),v=c0(w)}}return Tm({width:u,height:d,x:l,y:c})}function EW(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Vs(r),a=e?Ng(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Ao(1);const u=Ao(0),d=Ms(r);if((d||!d&&!i)&&((zc(r)!=="body"||Nh(o))&&(l=Dg(r)),Ms(r))){const p=Fa(r);c=ql(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function TW(t){return Array.from(t.getClientRects())}function u0(t,e){const n=Dg(t).scrollLeft;return e?e.left+n:Fa(Vs(t)).left+n}function SW(t){const e=Vs(t),n=Dg(t),r=t.ownerDocument.body,s=yr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=yr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+u0(t);const a=-n.scrollTop;return cs(r).direction==="rtl"&&(o+=yr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function bW(t,e){const n=xr(t),r=Vs(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=jx();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function CW(t,e){const n=Fa(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Ms(t)?ql(t):Ao(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function FC(t,e,n){let r;if(e==="viewport")r=bW(t,n);else if(e==="document")r=SW(Vs(t));else if(ls(e))r=CW(e,n);else{const s=VD(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return Tm(r)}function FD(t,e){const n=Do(t);return n===e||!ls(n)||Tc(n)?!1:cs(n).position==="fixed"||FD(n,e)}function PW(t,e){const n=e.get(t);if(n)return n;let r=Vd(t,[],!1).filter(a=>ls(a)&&zc(a)!=="body"),s=null;const i=cs(t).position==="fixed";let o=i?Do(t):t;for(;ls(o)&&!Tc(o);){const a=cs(o),l=Lx(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Nh(o)&&!l&&FD(t,o))?r=r.filter(u=>u!==o):s=a,o=Do(o)}return e.set(t,r),r}function RW(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Ng(e)?[]:PW(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=FC(e,u,s);return c.top=yr(d.top,c.top),c.right=Io(d.right,c.right),c.bottom=Io(d.bottom,c.bottom),c.left=yr(d.left,c.left),c},FC(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function IW(t){const{width:e,height:n}=jD(t);return{width:e,height:n}}function AW(t,e,n){const r=Ms(e),s=Vs(e),i=n==="fixed",o=Fa(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Ao(0);if(r||!r&&!i)if((zc(e)!=="body"||Nh(s))&&(a=Dg(e)),r){const g=Fa(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&(l.x=u0(s));let c=0,u=0;if(s&&!r&&!i){const g=s.getBoundingClientRect();u=g.top+a.scrollTop,c=g.left+a.scrollLeft-u0(s,g)}const d=o.left+a.scrollLeft-l.x-c,p=o.top+a.scrollTop-l.y-u;return{x:d,y:p,width:o.width,height:o.height}}function xv(t){return cs(t).position==="static"}function UC(t,e){if(!Ms(t)||cs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Vs(t)===n&&(n=n.ownerDocument.body),n}function UD(t,e){const n=xr(t);if(Ng(t))return n;if(!Ms(t)){let s=Do(t);for(;s&&!Tc(s);){if(ls(s)&&!xv(s))return s;s=Do(s)}return n}let r=UC(t,e);for(;r&&vW(r)&&xv(r);)r=UC(r,e);return r&&Tc(r)&&xv(r)&&!Lx(r)?n:r||wW(t)||n}const NW=async function(t){const e=this.getOffsetParent||UD,n=this.getDimensions,r=await n(t.floating);return{reference:AW(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function DW(t){return cs(t).direction==="rtl"}const kW={convertOffsetParentRelativeRectToViewportRelativeRect:EW,getDocumentElement:Vs,getClippingRect:RW,getOffsetParent:UD,getElementRects:NW,getClientRects:TW,getDimensions:IW,getScale:ql,isElement:ls,isRTL:DW};function MW(t,e){let n=null,r;const s=Vs(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:u,width:d,height:p}=t.getBoundingClientRect();if(a||e(),!d||!p)return;const g=Vf(u),w=Vf(s.clientWidth-(c+d)),v=Vf(s.clientHeight-(u+p)),E=Vf(c),y={rootMargin:-g+"px "+-w+"px "+-v+"px "+-E+"px",threshold:yr(0,Io(1,l))||1};let S=!0;function R(D){const O=D[0].intersectionRatio;if(O!==l){if(!S)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S=!1}try{n=new IntersectionObserver(R,{...y,root:s.ownerDocument})}catch{n=new IntersectionObserver(R,y)}n.observe(t)}return o(!0),i}function OW(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Vx(t),u=s||i?[...c?Vd(c):[],...Vd(e)]:[];u.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const d=c&&a?MW(c,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(_=>{let[y]=_;y&&y.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var S;(S=g)==null||S.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let w,v=l?Fa(t):null;l&&E();function E(){const _=Fa(t);v&&(_.x!==v.x||_.y!==v.y||_.width!==v.width||_.height!==v.height)&&n(),v=_,w=requestAnimationFrame(E)}return n(),()=>{var _;u.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),d==null||d(),(_=g)==null||_.disconnect(),g=null,l&&cancelAnimationFrame(w)}}const LW=pW,jW=mW,VW=dW,FW=yW,UW=hW,BC=uW,BW=gW,$W=(t,e,n)=>{const r=new Map,s={platform:kW,...n},i={...s.platform,_c:r};return cW(t,e,{...s,platform:i})};var Tp=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Sm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Sm(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Sm(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function BD(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function $C(t,e){const n=BD(t);return Math.round(e*n)/n}function Ev(t){const e=m.useRef(t);return Tp(()=>{e.current=t}),e}function zW(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=m.useState(r);Sm(p,r)||g(r);const[w,v]=m.useState(null),[E,_]=m.useState(null),y=m.useCallback(z=>{z!==O.current&&(O.current=z,v(z))},[]),S=m.useCallback(z=>{z!==C.current&&(C.current=z,_(z))},[]),R=i||w,D=o||E,O=m.useRef(null),C=m.useRef(null),T=m.useRef(u),P=l!=null,I=Ev(l),M=Ev(s),k=Ev(c),N=m.useCallback(()=>{if(!O.current||!C.current)return;const z={placement:e,strategy:n,middleware:p};M.current&&(z.platform=M.current),$W(O.current,C.current,z).then(B=>{const Z={...B,isPositioned:k.current!==!1};H.current&&!Sm(T.current,Z)&&(T.current=Z,Si.flushSync(()=>{d(Z)}))})},[p,e,n,M,k]);Tp(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,d(z=>({...z,isPositioned:!1})))},[c]);const H=m.useRef(!1);Tp(()=>(H.current=!0,()=>{H.current=!1}),[]),Tp(()=>{if(R&&(O.current=R),D&&(C.current=D),R&&D){if(I.current)return I.current(R,D,N);N()}},[R,D,N,I,P]);const ae=m.useMemo(()=>({reference:O,floating:C,setReference:y,setFloating:S}),[y,S]),te=m.useMemo(()=>({reference:R,floating:D}),[R,D]),ne=m.useMemo(()=>{const z={position:n,left:0,top:0};if(!te.floating)return z;const B=$C(te.floating,u.x),Z=$C(te.floating,u.y);return a?{...z,transform:"translate("+B+"px, "+Z+"px)",...BD(te.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:Z}},[n,a,te.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:N,refs:ae,elements:te,floatingStyles:ne}),[u,N,ae,te,ne])}const KW=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?BC({element:r.current,padding:s}).fn(n):{}:r?BC({element:r,padding:s}).fn(n):{}}}},WW=(t,e)=>({...LW(t),options:[t,e]}),HW=(t,e)=>({...jW(t),options:[t,e]}),GW=(t,e)=>({...BW(t),options:[t,e]}),qW=(t,e)=>({...VW(t),options:[t,e]}),QW=(t,e)=>({...FW(t),options:[t,e]}),YW=(t,e)=>({...UW(t),options:[t,e]}),XW=(t,e)=>({...KW(t),options:[t,e]});var JW="Arrow",$D=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return f.jsx(xe.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});$D.displayName=JW;var ZW=$D;function eH(t){const[e,n]=m.useState(void 0);return It(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Fx="Popper",[zD,Kc]=Bc(Fx),[tH,KD]=zD(Fx),WD=t=>{const{__scopePopper:e,children:n}=t,[r,s]=m.useState(null);return f.jsx(tH,{scope:e,anchor:r,onAnchorChange:s,children:n})};WD.displayName=Fx;var HD="PopperAnchor",GD=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=KD(HD,n),o=m.useRef(null),a=ke(e,o);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:f.jsx(xe.div,{...s,ref:a})});GD.displayName=HD;var Ux="PopperContent",[nH,rH]=zD(Ux),qD=m.forwardRef((t,e)=>{var ce,je,rt,Ve,ze,qe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:w,...v}=t,E=KD(Ux,n),[_,y]=m.useState(null),S=ke(e,Ft=>y(Ft)),[R,D]=m.useState(null),O=eH(R),C=(O==null?void 0:O.width)??0,T=(O==null?void 0:O.height)??0,P=r+(i!=="center"?"-"+i:""),I=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},M=Array.isArray(c)?c:[c],k=M.length>0,N={padding:I,boundary:M.filter(iH),altBoundary:k},{refs:H,floatingStyles:ae,placement:te,isPositioned:ne,middlewareData:z}=zW({strategy:"fixed",placement:P,whileElementsMounted:(...Ft)=>OW(...Ft,{animationFrame:g==="always"}),elements:{reference:E.anchor},middleware:[WW({mainAxis:s+T,alignmentAxis:o}),l&&HW({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?GW():void 0,...N}),l&&qW({...N}),QW({...N,apply:({elements:Ft,rects:st,availableWidth:mn,availableHeight:Pr})=>{const{width:ds,height:L}=st.reference,$=Ft.floating.style;$.setProperty("--radix-popper-available-width",`${mn}px`),$.setProperty("--radix-popper-available-height",`${Pr}px`),$.setProperty("--radix-popper-anchor-width",`${ds}px`),$.setProperty("--radix-popper-anchor-height",`${L}px`)}}),R&&XW({element:R,padding:a}),oH({arrowWidth:C,arrowHeight:T}),p&&YW({strategy:"referenceHidden",...N})]}),[B,Z]=XD(te),pe=Nt(w);It(()=>{ne&&(pe==null||pe())},[ne,pe]);const Te=(ce=z.arrow)==null?void 0:ce.x,Re=(je=z.arrow)==null?void 0:je.y,Xe=((rt=z.arrow)==null?void 0:rt.centerOffset)!==0,[gt,He]=m.useState();return It(()=>{_&&He(window.getComputedStyle(_).zIndex)},[_]),f.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...ae,transform:ne?ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:gt,"--radix-popper-transform-origin":[(Ve=z.transformOrigin)==null?void 0:Ve.x,(ze=z.transformOrigin)==null?void 0:ze.y].join(" "),...((qe=z.hide)==null?void 0:qe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(nH,{scope:n,placedSide:B,onArrowChange:D,arrowX:Te,arrowY:Re,shouldHideArrow:Xe,children:f.jsx(xe.div,{"data-side":B,"data-align":Z,...v,ref:S,style:{...v.style,animation:ne?void 0:"none"}})})})});qD.displayName=Ux;var QD="PopperArrow",sH={top:"bottom",right:"left",bottom:"top",left:"right"},YD=m.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=rH(QD,r),o=sH[i.placedSide];return f.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:f.jsx(ZW,{...s,ref:n,style:{...s.style,display:"block"}})})});YD.displayName=QD;function iH(t){return t!==null}var oH=t=>({name:"transformOrigin",options:t,fn(e){var E,_,y;const{placement:n,rects:r,middlewareData:s}=e,o=((E=s.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=XD(n),d={start:"0%",center:"50%",end:"100%"}[u],p=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,g=(((y=s.arrow)==null?void 0:y.y)??0)+l/2;let w="",v="";return c==="bottom"?(w=o?d:`${p}px`,v=`${-l}px`):c==="top"?(w=o?d:`${p}px`,v=`${r.floating.height+l}px`):c==="right"?(w=`${-l}px`,v=o?d:`${g}px`):c==="left"&&(w=`${r.floating.width+l}px`,v=o?d:`${g}px`),{data:{x:w,y:v}}}});function XD(t){const[e,n="center"]=t.split("-");return[e,n]}var Bx=WD,$x=GD,zx=qD,Kx=YD,aH="Portal",JD=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);It(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?wh.createPortal(f.jsx(xe.div,{...r,ref:e}),o):null});JD.displayName=aH;function lH(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var Dh=t=>{const{present:e,children:n}=t,r=cH(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=ke(r.ref,uH(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};Dh.displayName="Presence";function cH(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=lH(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Ff(r.current);i.current=a==="mounted"?c:"none"},[a]),It(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=Ff(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),It(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=g=>{const v=Ff(r.current).includes(g.animationName);if(g.target===e&&v&&(l("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},p=g=>{g.target===e&&(i.current=Ff(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Ff(t){return(t==null?void 0:t.animationName)||"none"}function uH(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Tv="rovingFocusGroup.onEntryFocus",dH={bubbles:!1,cancelable:!0},kg="RovingFocusGroup",[d0,ZD,hH]=Pg(kg),[fH,Mg]=Bc(kg,[hH]),[pH,mH]=fH(kg),ek=m.forwardRef((t,e)=>f.jsx(d0.Provider,{scope:t.__scopeRovingFocusGroup,children:f.jsx(d0.Slot,{scope:t.__scopeRovingFocusGroup,children:f.jsx(gH,{...t,ref:e})})}));ek.displayName=kg;var gH=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=t,p=m.useRef(null),g=ke(e,p),w=Rg(i),[v=null,E]=Po({prop:o,defaultProp:a,onChange:l}),[_,y]=m.useState(!1),S=Nt(c),R=ZD(n),D=m.useRef(!1),[O,C]=m.useState(0);return m.useEffect(()=>{const T=p.current;if(T)return T.addEventListener(Tv,S),()=>T.removeEventListener(Tv,S)},[S]),f.jsx(pH,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:v,onItemFocus:m.useCallback(T=>E(T),[E]),onItemShiftTab:m.useCallback(()=>y(!0),[]),onFocusableItemAdd:m.useCallback(()=>C(T=>T+1),[]),onFocusableItemRemove:m.useCallback(()=>C(T=>T-1),[]),children:f.jsx(xe.div,{tabIndex:_||O===0?-1:0,"data-orientation":r,...d,ref:g,style:{outline:"none",...t.style},onMouseDown:ee(t.onMouseDown,()=>{D.current=!0}),onFocus:ee(t.onFocus,T=>{const P=!D.current;if(T.target===T.currentTarget&&P&&!_){const I=new CustomEvent(Tv,dH);if(T.currentTarget.dispatchEvent(I),!I.defaultPrevented){const M=R().filter(te=>te.focusable),k=M.find(te=>te.active),N=M.find(te=>te.id===v),ae=[k,N,...M].filter(Boolean).map(te=>te.ref.current);rk(ae,u)}}D.current=!1}),onBlur:ee(t.onBlur,()=>y(!1))})})}),tk="RovingFocusGroupItem",nk=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=os(),l=i||a,c=mH(tk,n),u=c.currentTabStopId===l,d=ZD(n),{onFocusableItemAdd:p,onFocusableItemRemove:g}=c;return m.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),f.jsx(d0.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:f.jsx(xe.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:ee(t.onMouseDown,w=>{r?c.onItemFocus(l):w.preventDefault()}),onFocus:ee(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:ee(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){c.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const v=wH(w,c.orientation,c.dir);if(v!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let _=d().filter(y=>y.focusable).map(y=>y.ref.current);if(v==="last")_.reverse();else if(v==="prev"||v==="next"){v==="prev"&&_.reverse();const y=_.indexOf(w.currentTarget);_=c.loop?_H(_,y+1):_.slice(y+1)}setTimeout(()=>rk(_))}})})})});nk.displayName=tk;var yH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function vH(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function wH(t,e,n){const r=vH(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return yH[r]}function rk(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function _H(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var sk=ek,ik=nk,xH=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},fl=new WeakMap,Uf=new WeakMap,Bf={},Sv=0,ok=function(t){return t&&(t.host||ok(t.parentNode))},EH=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=ok(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},TH=function(t,e,n,r){var s=EH(e,Array.isArray(t)?t:[t]);Bf[n]||(Bf[n]=new WeakMap);var i=Bf[n],o=[],a=new Set,l=new Set(s),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};s.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(p){if(a.has(p))u(p);else try{var g=p.getAttribute(r),w=g!==null&&g!=="false",v=(fl.get(p)||0)+1,E=(i.get(p)||0)+1;fl.set(p,v),i.set(p,E),o.push(p),v===1&&w&&Uf.set(p,!0),E===1&&p.setAttribute(n,"true"),w||p.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",p,_)}})};return u(e),a.clear(),Sv++,function(){o.forEach(function(d){var p=fl.get(d)-1,g=i.get(d)-1;fl.set(d,p),i.set(d,g),p||(Uf.has(d)||d.removeAttribute(r),Uf.delete(d)),g||d.removeAttribute(n)}),Sv--,Sv||(fl=new WeakMap,fl=new WeakMap,Uf=new WeakMap,Bf={})}},Wx=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=xH(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),TH(r,s,n,"aria-hidden")):function(){return null}},Sp="right-scroll-bar-position",bp="width-before-scroll-bar",SH="with-scroll-bars-hidden",bH="--removed-body-scroll-bar-size";function bv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function CH(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var PH=typeof window<"u"?m.useLayoutEffect:m.useEffect,zC=new WeakMap;function RH(t,e){var n=CH(null,function(r){return t.forEach(function(s){return bv(s,r)})});return PH(function(){var r=zC.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||bv(a,null)}),i.forEach(function(a){s.has(a)||bv(a,o)})}zC.set(n,t)},[t]),n}function IH(t){return t}function AH(t,e){e===void 0&&(e=IH);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var u=o;o=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return s}function NH(t){t===void 0&&(t={});var e=AH(null);return e.options=Es({async:!0,ssr:!1},t),e}var ak=function(t){var e=t.sideCar,n=Eh(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,Es({},n))};ak.isSideCarExport=!0;function DH(t,e){return t.useMedium(e),ak}var lk=NH(),Cv=function(){},Og=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:Cv,onWheelCapture:Cv,onTouchMoveCapture:Cv}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,p=t.sideCar,g=t.noIsolation,w=t.inert,v=t.allowPinchZoom,E=t.as,_=E===void 0?"div":E,y=t.gapMode,S=Eh(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=p,D=RH([n,e]),O=Es(Es({},S),s);return m.createElement(m.Fragment,null,u&&m.createElement(R,{sideCar:lk,removeScrollBar:c,shards:d,noIsolation:g,inert:w,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:y}),o?m.cloneElement(m.Children.only(a),Es(Es({},O),{ref:D})):m.createElement(_,Es({},O,{className:l,ref:D}),a))});Og.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Og.classNames={fullWidth:bp,zeroRight:Sp};var kH=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function MH(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=kH();return e&&t.setAttribute("nonce",e),t}function OH(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function LH(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var jH=function(){var t=0,e=null;return{add:function(n){t==0&&(e=MH())&&(OH(e,n),LH(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},VH=function(){var t=jH();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},ck=function(){var t=VH(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},FH={left:0,top:0,right:0,gap:0},Pv=function(t){return parseInt(t||"",10)||0},UH=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Pv(n),Pv(r),Pv(s)]},BH=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return FH;var e=UH(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},$H=ck(),Ql="data-scroll-locked",zH=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(SH,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ql,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Sp,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(bp,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Sp," .").concat(Sp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(bp," .").concat(bp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ql,`] {
    `).concat(bH,": ").concat(a,`px;
  }
`)},KC=function(){var t=parseInt(document.body.getAttribute(Ql)||"0",10);return isFinite(t)?t:0},KH=function(){m.useEffect(function(){return document.body.setAttribute(Ql,(KC()+1).toString()),function(){var t=KC()-1;t<=0?document.body.removeAttribute(Ql):document.body.setAttribute(Ql,t.toString())}},[])},WH=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;KH();var i=m.useMemo(function(){return BH(s)},[s]);return m.createElement($H,{styles:zH(i,!e,s,n?"":"!important")})},h0=!1;if(typeof window<"u")try{var $f=Object.defineProperty({},"passive",{get:function(){return h0=!0,!0}});window.addEventListener("test",$f,$f),window.removeEventListener("test",$f,$f)}catch{h0=!1}var pl=h0?{passive:!1}:!1,HH=function(t){return t.tagName==="TEXTAREA"},uk=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!HH(t)&&n[e]==="visible")},GH=function(t){return uk(t,"overflowY")},qH=function(t){return uk(t,"overflowX")},WC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=dk(t,r);if(s){var i=hk(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},QH=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},YH=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},dk=function(t,e){return t==="v"?GH(e):qH(e)},hk=function(t,e){return t==="v"?QH(e):YH(e)},XH=function(t,e){return t==="h"&&e==="rtl"?-1:1},JH=function(t,e,n,r,s){var i=XH(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,u=o>0,d=0,p=0;do{var g=hk(t,a),w=g[0],v=g[1],E=g[2],_=v-E-i*w;(w||_)&&dk(t,a)&&(d+=_,p+=w),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(d)<1||!s)||!u&&(Math.abs(p)<1||!s))&&(c=!0),c},zf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},HC=function(t){return[t.deltaX,t.deltaY]},GC=function(t){return t&&"current"in t?t.current:t},ZH=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e8=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},t8=0,ml=[];function n8(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(t8++)[0],i=m.useState(ck)[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=z5([t.lockRef.current],(t.shards||[]).map(GC),!0).filter(Boolean);return v.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(v,E){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var _=zf(v),y=n.current,S="deltaX"in v?v.deltaX:y[0]-_[0],R="deltaY"in v?v.deltaY:y[1]-_[1],D,O=v.target,C=Math.abs(S)>Math.abs(R)?"h":"v";if("touches"in v&&C==="h"&&O.type==="range")return!1;var T=WC(C,O);if(!T)return!0;if(T?D=C:(D=C==="v"?"h":"v",T=WC(C,O)),!T)return!1;if(!r.current&&"changedTouches"in v&&(S||R)&&(r.current=D),!D)return!0;var P=r.current||D;return JH(P,E,v,P==="h"?S:R,!0)},[]),l=m.useCallback(function(v){var E=v;if(!(!ml.length||ml[ml.length-1]!==i)){var _="deltaY"in E?HC(E):zf(E),y=e.current.filter(function(D){return D.name===E.type&&(D.target===E.target||E.target===D.shadowParent)&&ZH(D.delta,_)})[0];if(y&&y.should){E.cancelable&&E.preventDefault();return}if(!y){var S=(o.current.shards||[]).map(GC).filter(Boolean).filter(function(D){return D.contains(E.target)}),R=S.length>0?a(E,S[0]):!o.current.noIsolation;R&&E.cancelable&&E.preventDefault()}}},[]),c=m.useCallback(function(v,E,_,y){var S={name:v,delta:E,target:_,should:y,shadowParent:r8(_)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(R){return R!==S})},1)},[]),u=m.useCallback(function(v){n.current=zf(v),r.current=void 0},[]),d=m.useCallback(function(v){c(v.type,HC(v),v.target,a(v,t.lockRef.current))},[]),p=m.useCallback(function(v){c(v.type,zf(v),v.target,a(v,t.lockRef.current))},[]);m.useEffect(function(){return ml.push(i),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:p}),document.addEventListener("wheel",l,pl),document.addEventListener("touchmove",l,pl),document.addEventListener("touchstart",u,pl),function(){ml=ml.filter(function(v){return v!==i}),document.removeEventListener("wheel",l,pl),document.removeEventListener("touchmove",l,pl),document.removeEventListener("touchstart",u,pl)}},[]);var g=t.removeScrollBar,w=t.inert;return m.createElement(m.Fragment,null,w?m.createElement(i,{styles:e8(s)}):null,g?m.createElement(WH,{gapMode:t.gapMode}):null)}function r8(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const s8=DH(lk,n8);var Lg=m.forwardRef(function(t,e){return m.createElement(Og,Es({},t,{ref:e,sideCar:s8}))});Lg.classNames=Og.classNames;var f0=["Enter"," "],i8=["ArrowDown","PageUp","Home"],fk=["ArrowUp","PageDown","End"],o8=[...i8,...fk],a8={ltr:[...f0,"ArrowRight"],rtl:[...f0,"ArrowLeft"]},l8={ltr:["ArrowLeft"],rtl:["ArrowRight"]},kh="Menu",[Fd,c8,u8]=Pg(kh),[Xa,pk]=LK(kh,[u8,Kc,Mg]),jg=Kc(),mk=Mg(),[d8,Ja]=Xa(kh),[h8,Mh]=Xa(kh),gk=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=jg(e),[l,c]=m.useState(null),u=m.useRef(!1),d=Nt(i),p=Rg(s);return m.useEffect(()=>{const g=()=>{u.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>u.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),f.jsx(Bx,{...a,children:f.jsx(d8,{scope:e,open:n,onOpenChange:d,content:l,onContentChange:c,children:f.jsx(h8,{scope:e,onClose:m.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:p,modal:o,children:r})})})};gk.displayName=kh;var f8="MenuAnchor",Hx=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=jg(n);return f.jsx($x,{...s,...r,ref:e})});Hx.displayName=f8;var Gx="MenuPortal",[p8,yk]=Xa(Gx,{forceMount:void 0}),vk=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Ja(Gx,e);return f.jsx(p8,{scope:e,forceMount:n,children:f.jsx(Dh,{present:n||i.open,children:f.jsx(JD,{asChild:!0,container:s,children:r})})})};vk.displayName=Gx;var Ur="MenuContent",[m8,qx]=Xa(Ur),wk=m.forwardRef((t,e)=>{const n=yk(Ur,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Ja(Ur,t.__scopeMenu),o=Mh(Ur,t.__scopeMenu);return f.jsx(Fd.Provider,{scope:t.__scopeMenu,children:f.jsx(Dh,{present:r||i.open,children:f.jsx(Fd.Slot,{scope:t.__scopeMenu,children:o.modal?f.jsx(g8,{...s,ref:e}):f.jsx(y8,{...s,ref:e})})})})}),g8=m.forwardRef((t,e)=>{const n=Ja(Ur,t.__scopeMenu),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return Wx(i)},[]),f.jsx(Qx,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ee(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),y8=m.forwardRef((t,e)=>{const n=Ja(Ur,t.__scopeMenu);return f.jsx(Qx,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Qx=m.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:p,onDismiss:g,disableOutsideScroll:w,...v}=t,E=Ja(Ur,n),_=Mh(Ur,n),y=jg(n),S=mk(n),R=c8(n),[D,O]=m.useState(null),C=m.useRef(null),T=ke(e,C,E.onContentChange),P=m.useRef(0),I=m.useRef(""),M=m.useRef(0),k=m.useRef(null),N=m.useRef("right"),H=m.useRef(0),ae=w?Lg:m.Fragment,te=w?{as:Ro,allowPinchZoom:!0}:void 0,ne=B=>{var ce,je;const Z=I.current+B,pe=R().filter(rt=>!rt.disabled),Te=document.activeElement,Re=(ce=pe.find(rt=>rt.ref.current===Te))==null?void 0:ce.textValue,Xe=pe.map(rt=>rt.textValue),gt=I8(Xe,Z,Re),He=(je=pe.find(rt=>rt.textValue===gt))==null?void 0:je.ref.current;(function rt(Ve){I.current=Ve,window.clearTimeout(P.current),Ve!==""&&(P.current=window.setTimeout(()=>rt(""),1e3))})(Z),He&&setTimeout(()=>He.focus())};m.useEffect(()=>()=>window.clearTimeout(P.current),[]),Dx();const z=m.useCallback(B=>{var pe,Te;return N.current===((pe=k.current)==null?void 0:pe.side)&&N8(B,(Te=k.current)==null?void 0:Te.area)},[]);return f.jsx(m8,{scope:n,searchRef:I,onItemEnter:m.useCallback(B=>{z(B)&&B.preventDefault()},[z]),onItemLeave:m.useCallback(B=>{var Z;z(B)||((Z=C.current)==null||Z.focus(),O(null))},[z]),onTriggerLeave:m.useCallback(B=>{z(B)&&B.preventDefault()},[z]),pointerGraceTimerRef:M,onPointerGraceIntentChange:m.useCallback(B=>{k.current=B},[]),children:f.jsx(ae,{...te,children:f.jsx(Ig,{asChild:!0,trapped:s,onMountAutoFocus:ee(i,B=>{var Z;B.preventDefault(),(Z=C.current)==null||Z.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:f.jsx(ND,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:p,onDismiss:g,children:f.jsx(sk,{asChild:!0,...S,dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:D,onCurrentTabStopIdChange:O,onEntryFocus:ee(l,B=>{_.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:f.jsx(zx,{role:"menu","aria-orientation":"vertical","data-state":Ok(E.open),"data-radix-menu-content":"",dir:_.dir,...y,...v,ref:T,style:{outline:"none",...v.style},onKeyDown:ee(v.onKeyDown,B=>{const pe=B.target.closest("[data-radix-menu-content]")===B.currentTarget,Te=B.ctrlKey||B.altKey||B.metaKey,Re=B.key.length===1;pe&&(B.key==="Tab"&&B.preventDefault(),!Te&&Re&&ne(B.key));const Xe=C.current;if(B.target!==Xe||!o8.includes(B.key))return;B.preventDefault();const He=R().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);fk.includes(B.key)&&He.reverse(),P8(He)}),onBlur:ee(t.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(P.current),I.current="")}),onPointerMove:ee(t.onPointerMove,Ud(B=>{const Z=B.target,pe=H.current!==B.clientX;if(B.currentTarget.contains(Z)&&pe){const Te=B.clientX>H.current?"right":"left";N.current=Te,H.current=B.clientX}}))})})})})})})});wk.displayName=Ur;var v8="MenuGroup",Yx=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(xe.div,{role:"group",...r,ref:e})});Yx.displayName=v8;var w8="MenuLabel",_k=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(xe.div,{...r,ref:e})});_k.displayName=w8;var bm="MenuItem",qC="menu.itemSelect",Vg=m.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=m.useRef(null),o=Mh(bm,t.__scopeMenu),a=qx(bm,t.__scopeMenu),l=ke(e,i),c=m.useRef(!1),u=()=>{const d=i.current;if(!n&&d){const p=new CustomEvent(qC,{bubbles:!0,cancelable:!0});d.addEventListener(qC,g=>r==null?void 0:r(g),{once:!0}),Ya(d,p),p.defaultPrevented?c.current=!1:o.onClose()}};return f.jsx(xk,{...s,ref:l,disabled:n,onClick:ee(t.onClick,u),onPointerDown:d=>{var p;(p=t.onPointerDown)==null||p.call(t,d),c.current=!0},onPointerUp:ee(t.onPointerUp,d=>{var p;c.current||(p=d.currentTarget)==null||p.click()}),onKeyDown:ee(t.onKeyDown,d=>{const p=a.searchRef.current!=="";n||p&&d.key===" "||f0.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});Vg.displayName=bm;var xk=m.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=qx(bm,n),a=mk(n),l=m.useRef(null),c=ke(e,l),[u,d]=m.useState(!1),[p,g]=m.useState("");return m.useEffect(()=>{const w=l.current;w&&g((w.textContent??"").trim())},[i.children]),f.jsx(Fd.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:f.jsx(ik,{asChild:!0,...a,focusable:!r,children:f.jsx(xe.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:ee(t.onPointerMove,Ud(w=>{r?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ee(t.onPointerLeave,Ud(w=>o.onItemLeave(w))),onFocus:ee(t.onFocus,()=>d(!0)),onBlur:ee(t.onBlur,()=>d(!1))})})})}),_8="MenuCheckboxItem",Ek=m.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return f.jsx(Pk,{scope:t.__scopeMenu,checked:n,children:f.jsx(Vg,{role:"menuitemcheckbox","aria-checked":Cm(n)?"mixed":n,...s,ref:e,"data-state":Jx(n),onSelect:ee(s.onSelect,()=>r==null?void 0:r(Cm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Ek.displayName=_8;var Tk="MenuRadioGroup",[x8,E8]=Xa(Tk,{value:void 0,onValueChange:()=>{}}),Sk=m.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Nt(r);return f.jsx(x8,{scope:t.__scopeMenu,value:n,onValueChange:i,children:f.jsx(Yx,{...s,ref:e})})});Sk.displayName=Tk;var bk="MenuRadioItem",Ck=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=E8(bk,t.__scopeMenu),i=n===s.value;return f.jsx(Pk,{scope:t.__scopeMenu,checked:i,children:f.jsx(Vg,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":Jx(i),onSelect:ee(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});Ck.displayName=bk;var Xx="MenuItemIndicator",[Pk,T8]=Xa(Xx,{checked:!1}),Rk=m.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=T8(Xx,n);return f.jsx(Dh,{present:r||Cm(i.checked)||i.checked===!0,children:f.jsx(xe.span,{...s,ref:e,"data-state":Jx(i.checked)})})});Rk.displayName=Xx;var S8="MenuSeparator",Ik=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(xe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});Ik.displayName=S8;var b8="MenuArrow",Ak=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=jg(n);return f.jsx(Kx,{...s,...r,ref:e})});Ak.displayName=b8;var C8="MenuSub",[gle,Nk]=Xa(C8),Lu="MenuSubTrigger",Dk=m.forwardRef((t,e)=>{const n=Ja(Lu,t.__scopeMenu),r=Mh(Lu,t.__scopeMenu),s=Nk(Lu,t.__scopeMenu),i=qx(Lu,t.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},u=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>u,[u]),m.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),l(null)}},[a,l]),f.jsx(Hx,{asChild:!0,...c,children:f.jsx(xk,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":Ok(n.open),...t,ref:Cg(e,s.onTriggerChange),onClick:d=>{var p;(p=t.onClick)==null||p.call(t,d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ee(t.onPointerMove,Ud(d=>{i.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:ee(t.onPointerLeave,Ud(d=>{var g,w;u();const p=(g=n.content)==null?void 0:g.getBoundingClientRect();if(p){const v=(w=n.content)==null?void 0:w.dataset.side,E=v==="right",_=E?-5:5,y=p[E?"left":"right"],S=p[E?"right":"left"];i.onPointerGraceIntentChange({area:[{x:d.clientX+_,y:d.clientY},{x:y,y:p.top},{x:S,y:p.top},{x:S,y:p.bottom},{x:y,y:p.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(d),d.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ee(t.onKeyDown,d=>{var g;const p=i.searchRef.current!=="";t.disabled||p&&d.key===" "||a8[r.dir].includes(d.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),d.preventDefault())})})})});Dk.displayName=Lu;var kk="MenuSubContent",Mk=m.forwardRef((t,e)=>{const n=yk(Ur,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Ja(Ur,t.__scopeMenu),o=Mh(Ur,t.__scopeMenu),a=Nk(kk,t.__scopeMenu),l=m.useRef(null),c=ke(e,l);return f.jsx(Fd.Provider,{scope:t.__scopeMenu,children:f.jsx(Dh,{present:r||i.open,children:f.jsx(Fd.Slot,{scope:t.__scopeMenu,children:f.jsx(Qx,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;o.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:ee(t.onFocusOutside,u=>{u.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ee(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:ee(t.onKeyDown,u=>{var g;const d=u.currentTarget.contains(u.target),p=l8[o.dir].includes(u.key);d&&p&&(i.onOpenChange(!1),(g=a.trigger)==null||g.focus(),u.preventDefault())})})})})})});Mk.displayName=kk;function Ok(t){return t?"open":"closed"}function Cm(t){return t==="indeterminate"}function Jx(t){return Cm(t)?"indeterminate":t?"checked":"unchecked"}function P8(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function R8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function I8(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=R8(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function A8(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(s=!s)}return s}function N8(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return A8(n,e)}function Ud(t){return e=>e.pointerType==="mouse"?t(e):void 0}var D8=gk,k8=Hx,M8=vk,O8=wk,L8=Yx,j8=_k,V8=Vg,F8=Ek,U8=Sk,B8=Ck,$8=Rk,z8=Ik,K8=Ak,W8=Dk,H8=Mk,Zx="DropdownMenu",[G8,yle]=RK(Zx,[pk]),nr=pk(),[q8,Lk]=G8(Zx),jk=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=nr(e),c=m.useRef(null),[u=!1,d]=Po({prop:s,defaultProp:i,onChange:o});return f.jsx(q8,{scope:e,triggerId:os(),triggerRef:c,contentId:os(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(p=>!p),[d]),modal:a,children:f.jsx(D8,{...l,open:u,onOpenChange:d,dir:r,modal:a,children:n})})};jk.displayName=Zx;var Vk="DropdownMenuTrigger",Fk=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=Lk(Vk,n),o=nr(n);return f.jsx(k8,{asChild:!0,...o,children:f.jsx(xe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Cg(e,i.triggerRef),onPointerDown:ee(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:ee(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});Fk.displayName=Vk;var Q8="DropdownMenuPortal",Uk=t=>{const{__scopeDropdownMenu:e,...n}=t,r=nr(e);return f.jsx(M8,{...r,...n})};Uk.displayName=Q8;var Bk="DropdownMenuContent",$k=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Lk(Bk,n),i=nr(n),o=m.useRef(!1);return f.jsx(O8,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:ee(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:ee(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!s.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$k.displayName=Bk;var Y8="DropdownMenuGroup",X8=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=nr(n);return f.jsx(L8,{...s,...r,ref:e})});X8.displayName=Y8;var J8="DropdownMenuLabel",zk=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=nr(n);return f.jsx(j8,{...s,...r,ref:e})});zk.displayName=J8;var Z8="DropdownMenuItem",Kk=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=nr(n);return f.jsx(V8,{...s,...r,ref:e})});Kk.displayName=Z8;var e7="DropdownMenuCheckboxItem",Wk=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=nr(n);return f.jsx(F8,{...s,...r,ref:e})});Wk.displayName=e7;var t7="DropdownMenuRadioGroup",n7=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=nr(n);return f.jsx(U8,{...s,...r,ref:e})});n7.displayName=t7;var r7="DropdownMenuRadioItem",Hk=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=nr(n);return f.jsx(B8,{...s,...r,ref:e})});Hk.displayName=r7;var s7="DropdownMenuItemIndicator",Gk=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=nr(n);return f.jsx($8,{...s,...r,ref:e})});Gk.displayName=s7;var i7="DropdownMenuSeparator",qk=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=nr(n);return f.jsx(z8,{...s,...r,ref:e})});qk.displayName=i7;var o7="DropdownMenuArrow",a7=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=nr(n);return f.jsx(K8,{...s,...r,ref:e})});a7.displayName=o7;var l7="DropdownMenuSubTrigger",Qk=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=nr(n);return f.jsx(W8,{...s,...r,ref:e})});Qk.displayName=l7;var c7="DropdownMenuSubContent",Yk=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=nr(n);return f.jsx(H8,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Yk.displayName=c7;var u7=jk,d7=Fk,h7=Uk,Xk=$k,Jk=zk,Zk=Kk,eM=Wk,tM=Hk,nM=Gk,rM=qk,sM=Qk,iM=Yk;function oM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=oM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function f7(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=oM(t))&&(r&&(r+=" "),r+=e);return r}const eE="-",p7=t=>{const e=g7(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(eE);return a[0]===""&&a.length!==1&&a.shift(),aM(a,e)||m7(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},aM=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?aM(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(eE);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},QC=/^\[(.+)\]$/,m7=t=>{if(QC.test(t)){const e=QC.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},g7=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return v7(Object.entries(t.classGroups),n).forEach(([i,o])=>{p0(o,r,i,e)}),r},p0=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:YC(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(y7(s)){p0(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{p0(o,YC(e,i),n,r)})})},YC=(t,e)=>{let n=t;return e.split(eE).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},y7=t=>t.isThemeGetter,v7=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,w7=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},lM="!",_7=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,u=0,d;for(let E=0;E<a.length;E++){let _=a[E];if(c===0){if(_===s&&(r||a.slice(E,E+i)===e)){l.push(a.slice(u,E)),u=E+i;continue}if(_==="/"){d=E;continue}}_==="["?c++:_==="]"&&c--}const p=l.length===0?a:a.substring(u),g=p.startsWith(lM),w=g?p.substring(1):p,v=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:w,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},x7=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},E7=t=>({cache:w7(t.cacheSize),parseClassName:_7(t),...p7(t)}),T7=/\s+/,S7=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(T7);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:p,maybePostfixModifierPosition:g}=n(c);let w=!!g,v=r(w?p.substring(0,g):p);if(!v){if(!w){a=c+(a.length>0?" "+a:a);continue}if(v=r(p),!v){a=c+(a.length>0?" "+a:a);continue}w=!1}const E=x7(u).join(":"),_=d?E+lM:E,y=_+v;if(i.includes(y))continue;i.push(y);const S=s(v,w);for(let R=0;R<S.length;++R){const D=S[R];i.push(_+D)}a=c+(a.length>0?" "+a:a)}return a};function b7(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=cM(e))&&(r&&(r+=" "),r+=n);return r}const cM=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=cM(t[r]))&&(n&&(n+=" "),n+=e);return n};function C7(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((u,d)=>d(u),t());return n=E7(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=S7(l,n);return s(l,u),u}return function(){return i(b7.apply(null,arguments))}}const bt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},uM=/^\[(?:([a-z-]+):)?(.+)\]$/i,P7=/^\d+\/\d+$/,R7=new Set(["px","full","screen"]),I7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,A7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,N7=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,D7=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,k7=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Bs=t=>Yl(t)||R7.has(t)||P7.test(t),Mi=t=>Wc(t,"length",B7),Yl=t=>!!t&&!Number.isNaN(Number(t)),Rv=t=>Wc(t,"number",Yl),Tu=t=>!!t&&Number.isInteger(Number(t)),M7=t=>t.endsWith("%")&&Yl(t.slice(0,-1)),Fe=t=>uM.test(t),Oi=t=>I7.test(t),O7=new Set(["length","size","percentage"]),L7=t=>Wc(t,O7,dM),j7=t=>Wc(t,"position",dM),V7=new Set(["image","url"]),F7=t=>Wc(t,V7,z7),U7=t=>Wc(t,"",$7),Su=()=>!0,Wc=(t,e,n)=>{const r=uM.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},B7=t=>A7.test(t)&&!N7.test(t),dM=()=>!1,$7=t=>D7.test(t),z7=t=>k7.test(t),K7=()=>{const t=bt("colors"),e=bt("spacing"),n=bt("blur"),r=bt("brightness"),s=bt("borderColor"),i=bt("borderRadius"),o=bt("borderSpacing"),a=bt("borderWidth"),l=bt("contrast"),c=bt("grayscale"),u=bt("hueRotate"),d=bt("invert"),p=bt("gap"),g=bt("gradientColorStops"),w=bt("gradientColorStopPositions"),v=bt("inset"),E=bt("margin"),_=bt("opacity"),y=bt("padding"),S=bt("saturate"),R=bt("scale"),D=bt("sepia"),O=bt("skew"),C=bt("space"),T=bt("translate"),P=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",Fe,e],k=()=>[Fe,e],N=()=>["",Bs,Mi],H=()=>["auto",Yl,Fe],ae=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",Fe],Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],pe=()=>[Yl,Fe];return{cacheSize:500,separator:":",theme:{colors:[Su],spacing:[Bs,Mi],blur:["none","",Oi,Fe],brightness:pe(),borderColor:[t],borderRadius:["none","","full",Oi,Fe],borderSpacing:k(),borderWidth:N(),contrast:pe(),grayscale:B(),hueRotate:pe(),invert:B(),gap:k(),gradientColorStops:[t],gradientColorStopPositions:[M7,Mi],inset:M(),margin:M(),opacity:pe(),padding:k(),saturate:pe(),scale:pe(),sepia:B(),skew:pe(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",Fe]}],container:["container"],columns:[{columns:[Oi]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ae(),Fe]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Tu,Fe]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Fe]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",Tu,Fe]}],"grid-cols":[{"grid-cols":[Su]}],"col-start-end":[{col:["auto",{span:["full",Tu,Fe]},Fe]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Su]}],"row-start-end":[{row:["auto",{span:[Tu,Fe]},Fe]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Fe]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Fe,e]}],"min-w":[{"min-w":[Fe,e,"min","max","fit"]}],"max-w":[{"max-w":[Fe,e,"none","full","min","max","fit","prose",{screen:[Oi]},Oi]}],h:[{h:[Fe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Fe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Fe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Fe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Oi,Mi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Rv]}],"font-family":[{font:[Su]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Fe]}],"line-clamp":[{"line-clamp":["none",Yl,Rv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Bs,Fe]}],"list-image":[{"list-image":["none",Fe]}],"list-style-type":[{list:["none","disc","decimal",Fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Bs,Mi]}],"underline-offset":[{"underline-offset":["auto",Bs,Fe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ae(),j7]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",L7]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},F7]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:te()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[Bs,Fe]}],"outline-w":[{outline:[Bs,Mi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Bs,Mi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Oi,U7]}],"shadow-color":[{shadow:[Su]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Oi,Fe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[S]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Fe]}],duration:[{duration:pe()}],ease:[{ease:["linear","in","out","in-out",Fe]}],delay:[{delay:pe()}],animate:[{animate:["none","spin","ping","pulse","bounce",Fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[Tu,Fe]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Fe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Fe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Fe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Bs,Mi,Rv]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},W7=C7(K7);function de(...t){return W7(f7(t))}const Fg=u7,Ug=d7,H7=m.forwardRef(({className:t,inset:e,children:n,...r},s)=>f.jsxs(sM,{ref:s,className:de("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,f.jsx(ED,{className:"ml-auto h-4 w-4"})]}));H7.displayName=sM.displayName;const G7=m.forwardRef(({className:t,...e},n)=>f.jsx(iM,{ref:n,className:de("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));G7.displayName=iM.displayName;const Oh=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>f.jsx(h7,{children:f.jsx(Xk,{ref:r,sideOffset:e,className:de("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Oh.displayName=Xk.displayName;const ao=m.forwardRef(({className:t,inset:e,...n},r)=>f.jsx(Zk,{ref:r,className:de("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));ao.displayName=Zk.displayName;const q7=m.forwardRef(({className:t,children:e,checked:n,...r},s)=>f.jsxs(eM,{ref:s,className:de("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(nM,{children:f.jsx(_D,{className:"h-4 w-4"})})}),e]}));q7.displayName=eM.displayName;const Q7=m.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(tM,{ref:r,className:de("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(nM,{children:f.jsx(dK,{className:"h-2 w-2 fill-current"})})}),e]}));Q7.displayName=tM.displayName;const hM=m.forwardRef(({className:t,inset:e,...n},r)=>f.jsx(Jk,{ref:r,className:de("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));hM.displayName=Jk.displayName;const tE=m.forwardRef(({className:t,...e},n)=>f.jsx(rM,{ref:n,className:de("-mx-1 my-1 h-px bg-muted",t),...e}));tE.displayName=rM.displayName;const Y7=t=>Object.entries(t).map(([e,n])=>({id:Date.now().toString(),key:e,value:n})),X7=t=>t<1024?t+" bytes":t<1048576?(t/1024).toFixed(1)+" KB":(t/1048576).toFixed(1)+" MB",Bd=t=>{try{const e=decodeURIComponent(t),n=e.lastIndexOf("/")+1,r=e.indexOf("?alt=");return n!==-1&&r!==-1?e.substring(n,r):null}catch(e){return console.error("Failed to extract filename:",e),null}},fM=t=>t&&t.charAt(0).toUpperCase()+t.slice(1);function pM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=pM(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function J7(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=pM(t))&&(r&&(r+=" "),r+=e);return r}const XC=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,JC=J7,Lh=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return JC(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const u=n==null?void 0:n[c],d=i==null?void 0:i[c];if(u===null)return null;const p=XC(u)||XC(d);return s[c][p]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,p]=u;return p===void 0||(c[d]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:p,...g}=u;return Object.entries(g).every(w=>{let[v,E]=w;return Array.isArray(E)?E.includes({...i,...a}[v]):{...i,...a}[v]===E})?[...c,d,p]:c},[]);return JC(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},Z7=Lh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function jh({className:t,variant:e,...n}){return f.jsx("div",{className:de(Z7({variant:e}),t),...n})}const eG=({children:t,text:e})=>{const n=Rh(),r=Rt(o=>o.admin),s=Rt(o=>o.logout),i=o=>{switch(o){case"admin":return f.jsx(xK,{className:"mr-2 h-4 w-4"});case"editor":return f.jsx(EK,{className:"mr-2 h-4 w-4"});case"viewer":return f.jsx(Ix,{className:"mr-2 h-4 w-4"})}};return r?f.jsxs("header",{className:"w-full flex flex-col items-center ",children:[f.jsxs("div",{className:"w-full px-8 h-14 flex items-center justify-between",children:[f.jsx("p",{children:e}),f.jsxs(Fg,{children:[f.jsx(Ug,{asChild:!0,children:f.jsx("div",{className:"hover:bg-slate-200 rounded-lg p-2 cursor-pointer",children:f.jsx(bK,{})})}),f.jsxs(Oh,{align:"end",className:"w-64 bg-white border border-neutral-300 p-1 rounded-lg shadow-md",children:[f.jsx(hM,{className:"font-normal",children:f.jsxs("div",{className:"flex flex-col space-y-1",children:[f.jsx("p",{className:"text-sm font-medium truncate leading-tight",title:r.email,children:r.email}),f.jsxs("div",{className:"flex items-center pt-1",children:[i(r.role),f.jsx(jh,{variant:"secondary",className:de("flex w-16 items-center justify-center pointer-events-none select-none",r.role==="admin"&&"bg-red-200 text-red-800",r.role==="editor"&&"bg-blue-200 text-blue-800",r.role==="viewer"&&"bg-green-200 text-green-800"),children:fM(r.role)})]})]})}),f.jsx(tE,{}),f.jsxs(ao,{onClick:s,className:"flex items-center",children:[f.jsx(vK,{className:"mr-2 h-4 w-4"}),f.jsx("span",{children:"Log out"})]})]})]})]}),t]}):n("/login")},tG=({Component:t})=>f.jsx("div",{className:"flex-1 flex justify-center =py-3",children:f.jsx(t,{})}),nG=({headerText:t})=>f.jsx("header",{className:"py-4 text-3xl font-semibold w-full",children:t});function Kf(){return Date.now().toString()}const Kt=()=>{const t=new Date,e={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};return t.toLocaleDateString("en-US",e)},Iv="https://chatbot-api-0zup.onrender.com",Bg=async(t,e)=>{const{method:n="GET",headers:r={},body:s}=e,{accessToken:i,setAccessToken:o,logout:a}=Rt.getState(),l={method:n,credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer ${i}`,...r},...s&&{body:JSON.stringify(s)}};try{let c=await fetch(`${Iv}${t}`,l);if(c.status===401){Mt("Fetching new access token");const d=await fetch(`${Iv}/api/auth/refresh-token`,{method:"POST",credentials:"include"});d.status===404&&a();const{accessToken:p}=await d.json();o(p),l.headers={...l.headers,authorization:`Bearer ${p}`},c=await fetch(`${Iv}${t}`,l)}return await c.json()}catch(c){throw console.error("Request failed:",c),c}},nE=(t,e)=>Bg(t,{method:"GET",headers:e}),Hc=(t,e,n)=>Bg(t,{method:"POST",headers:e,body:n}),$g=(t,e,n)=>Bg(t,{method:"PUT",headers:e,body:n}),rE=(t,e,n)=>Bg(t,{method:"DELETE",headers:e,body:n}),rG=async t=>{const e={userQuery:t},{success:n,response:r}=await Hc("/api/chatbot/query-admin",{},e);if(!n)throw new Error(`Sending query to chatbot was unsuccessful: ${r}`);return r},sG=async()=>{const{success:t,response:e}=await Hc("/api/chatbot/train",{});if(!t)throw new Error(`Training model is unsuccessful: ${e}`)},mM=()=>e=>new Promise(n=>{setTimeout(n,e)}),iG=()=>{const t=mM(),[e,n]=m.useState([]),[r,s]=m.useState(null),[i,o]=m.useState(!1),a=m.useRef(null),l=()=>{var E;(E=a.current)==null||E.scrollIntoView({behavior:"smooth"})};m.useEffect(()=>{l()},[e]);const c=E=>E.replace(/\[=[^\]]+=\]/g,"").replace(/<[^>]+>\{=[^=]+=\}/g,"").trim(),u=E=>{var S;const _=/<([^>]+)>\{=([^=]+)=\}/,y=/\[\=([^\]]+)\=\]/;if(_.test(E)){const R=E.match(_);if(R)return{type:"link",linkText:R[1],linkUrl:R[2]}}if(y.test(E)){const R=E.match(y);if(R){const D=(S=Bd(R[1]))==null?void 0:S.split(".")[1];return console.log(D),{type:"file",source:R[1],fileType:D??"unknown"}}}},d=E=>{const _={uuid:Kf(),text:E,sender:"user"};n(y=>[...y,_])},p=E=>{const _={uuid:Kf(),text:E.answer,sender:"bot",response:E};s(E),i||o(!0),n(y=>[...y,_])},g=(E,_)=>{const y={uuid:Kf(),sender:"bot",linkData:{linkText:E,linkUrl:_}};n(S=>[...S,y])},w=(E,_)=>{const y={uuid:Kf(),sender:"bot",fileData:{source:E,type:_}};n(S=>[...S,y])};return{messageHistory:e,handleSubmitMessage:async E=>{try{if(!E)throw new Error("Message is empty");d(E);const _=await rG(E),y=u(_.answer);if(!y){p(_);return}const S=c(_.answer),R={..._,answer:S};p(R),await t(1e3),y.type==="file"&&w(y.source,y.fileType),y.type==="link"&&g(y.linkText,y.linkUrl)}catch(_){if(_ instanceof Error){Mt(_.message,!0);return}console.error("Unknown error occured: ",_)}},endOfMessagesRef:a,selectedResponse:r,setSelectedResponse:s,isInfoPanelOpen:i,setIsInfoPanelOpen:o}};var sE="Progress",iE=100,[oG,vle]=Bc(sE),[aG,lG]=oG(sE),gM=m.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=cG,...o}=t;(s||s===0)&&!ZC(s)&&console.error(uG(`${s}`,"Progress"));const a=ZC(s)?s:iE;r!==null&&!e1(r,a)&&console.error(dG(`${r}`,"Progress"));const l=e1(r,a)?r:null,c=Pm(l)?i(l,a):void 0;return f.jsx(aG,{scope:n,value:l,max:a,children:f.jsx(xe.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Pm(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":wM(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});gM.displayName=sE;var yM="ProgressIndicator",vM=m.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=lG(yM,n);return f.jsx(xe.div,{"data-state":wM(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});vM.displayName=yM;function cG(t,e){return`${Math.round(t/e*100)}%`}function wM(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Pm(t){return typeof t=="number"}function ZC(t){return Pm(t)&&!isNaN(t)&&t>0}function e1(t,e){return Pm(t)&&!isNaN(t)&&t<=e&&t>=0}function uG(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${iE}\`.`}function dG(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${iE} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var _M=gM,hG=vM;const xM=m.forwardRef(({className:t,value:e,...n},r)=>f.jsx(_M,{ref:r,className:de("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:f.jsx(hG,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));xM.displayName=_M.displayName;const fG=({responseData:t,showPanel:e})=>{var r,s,i;const n=()=>t==null?void 0:t.classifications.slice(0,3).filter(a=>a.intent!=="None"&&a.score>0);return f.jsx("div",{className:`bg-gray-50  transition-all duration-300 ease-in-out overflow-hidden ${e?"w-64 border-l border-neutral-200":"w-0"}`,children:f.jsx("div",{className:"w-64 h-full",children:f.jsxs("div",{className:de(`p-4 h-full flex flex-col transition-opacity duration-300,
            showPanel ? "opacity-100" : "opacity-0"
            }`),children:[f.jsxs("h2",{className:"text-lg font-semibold text-gray-700 mb-4 flex items-center",children:[f.jsx(fK,{className:"w-5 h-5 mr-2"}),"Bot Response Info"]}),t?f.jsxs("div",{className:"space-y-4 flex-grow",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"flex items-center justify-between space-x-2 text-sm font-medium text-gray-700 mb-1",children:[f.jsx("p",{children:"Confidence Score "}),f.jsxs("div",{className:"flex items-center",children:[f.jsx(TK,{className:"size-4 mr-1 text-yellow-400 fill-yellow-400"}),f.jsx("span",{className:"text-sm font-medium text-gray-600",children:t.score.toFixed(2)})]})]}),f.jsx("div",{className:"flex items-center gap-2",children:f.jsx(xM,{value:t.score*100,className:"w-full"})})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Detected Intent"}),f.jsx(jh,{variant:"outline",children:t==null?void 0:t.intent})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Other Possible Intents"}),f.jsx("ul",{className:de("list-disc space-y-1",((r=n())==null?void 0:r.length)&&"pl-5"),children:(s=n())!=null&&s.length?(i=n())==null?void 0:i.map((o,a)=>f.jsx("li",{className:"text-sm ",children:f.jsxs("div",{className:"line-clamp-3",children:[f.jsx("span",{children:o.intent}),f.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",o.score.toFixed(2),")"]})]})},a)):f.jsx("span",{className:"text-sm text-muted-foreground",children:"No other intents detected"})})]})]}):f.jsx("div",{className:"text-center text-gray-500",children:"No bot response yet. Start a conversation to see details."})]})})})},sn=m.forwardRef(({className:t,type:e,...n},r)=>f.jsx("input",{type:e,className:de("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));sn.displayName="Input";const oE=Lh("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ct=m.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Ro:"button";return f.jsx(o,{className:de(oE({variant:e,size:n,className:t})),ref:i,...s})});ct.displayName="Button";const pG=({onSendMessage:t})=>{const[e,n]=m.useState(""),[r,s]=m.useState([]),[i,o]=m.useState(-1),a=d=>{s(p=>{const g=[...p,d];return g.length>3?g.slice(1):g})},l=d=>{n(d.target.value),o(-1)},c=async()=>{const d=e;a(d),n(""),await t(d)},u=async d=>{d.key==="Enter"&&e.trim()!==""&&await c(),d.key==="ArrowUp"&&(i>0?(o(i-1),n(r[i-1])):i===-1&&r.length>0&&(o(r.length-1),n(r[r.length-1]))),d.key==="ArrowDown"&&(i<r.length-1?(o(i+1),n(r[i+1])):(o(-1),n("")))};return f.jsxs("div",{className:"w-full h-[5rem] border-t border-t-customBorderColor flex items-center justify-between px-4 space-x-2",children:[f.jsx(sn,{placeholder:"Type message here",value:e,onChange:l,onKeyDown:u}),f.jsxs(ct,{onClick:async()=>await c(),children:[f.jsx(RD,{className:"size-4 mr-2"}),"Send"]})]})},mG=["png","jpg","jpeg","jfif"],gG=["mp4"],yG=["pdf"],vG=({message:t,onItemClick:e})=>{if("linkData"in t){const{linkText:n,linkUrl:r}=t.linkData;return f.jsxs("div",{className:"flex text-blue-500 items-center space-x-1.5 w-fit rounded-tl-2xl rounded-tr-2xl transition-colors ease-out py-2.5 px-4 rounded-br-2xl rounded-bl-[2px] bg-gray-100 cursor-pointer",children:[f.jsx(pK,{className:"size-4"}),f.jsx("a",{href:r,className:"hover:underline underline-offset-2",target:"_blank",children:n})]})}if("fileData"in t){const{source:n,type:r}=t.fileData,s=i=>{if(mG.includes(i))return f.jsx("img",{className:"w-72 rounded-2xl",src:n});if(gG.includes(i))return f.jsx("video",{width:"288",height:"360",className:"rounded-2xl",controls:!0,children:f.jsx("source",{src:n,type:"video/mp4"})});if(yG.includes(i))return f.jsxs("div",{className:"flex space-x-1.5 items-center w-fit rounded-tl-2xl rounded-tr-2xl py-2.5 px-4 text-blue-600 rounded-br-2xl rounded-bl-[2px] bg-gray-100 cursor-pointer",children:[f.jsx(CD,{className:"size-5"}),f.jsx("a",{href:n,target:"_blank",className:"hover:underline underline-offset-2",children:Bd(n)})]})};return f.jsx(f.Fragment,{children:s(r)})}if("text"in t&&"sender"in t||"response"in t){const{text:n,sender:r,response:s}=t;return f.jsx("div",{className:de("flex",r==="user"?"justify-end":"justify-start"),onClick:s?()=>e(s):void 0,children:f.jsx("div",{className:de("w-auto max-w-[90%] rounded-tl-2xl rounded-tr-2xl transition-colors ease-out whitespace-pre-wrap",r==="user"?"text-white py-1.5 px-3.5 rounded-bl-2xl rounded-br-[4px] bg-blue-500":"py-2.5 px-4 rounded-br-2xl rounded-bl-[2px] bg-gray-100 cursor-pointer",s?"hover:bg-gray-200":""),children:n})})}return null},zg=({items:t,renderItem:e,listStyle:n})=>f.jsx("div",{className:n,children:t==null?void 0:t.map((r,s)=>f.jsx(m.Fragment,{children:e(r)},s))});function wG(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}function $d(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const m0=t=>Array.isArray(t);function EM(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function zd(t){return typeof t=="string"||Array.isArray(t)}function t1(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function aE(t,e,n,r){if(typeof e=="function"){const[s,i]=t1(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=t1(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Kg(t,e,n){const r=t.getProps();return aE(r,e,n!==void 0?n:r.custom,t)}const lE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],cE=["initial",...lE],Vh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wo=new Set(Vh),ii=t=>t*1e3,oi=t=>t/1e3,_G={type:"spring",stiffness:500,damping:25,restSpeed:10},xG=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),EG={type:"keyframes",duration:.8},TG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},SG=(t,{keyframes:e})=>e.length>2?EG:Wo.has(t)?t.startsWith("scale")?xG(e[1]):_G:TG;function bG({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function uE(t,e){return t[e]||t.default||t}const CG={skipAnimations:!1,useManualTiming:!1},PG=t=>t!==null;function Wg(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(PG),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const Fn=t=>t;function RG(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){i.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,u=!1,d=!1)=>{const g=d&&r?e:n;return u&&i.add(c),g.has(c)||g.add(c),c},cancel:c=>{n.delete(c),i.delete(c)},process:c=>{if(o=c,r){s=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,s&&(s=!1,l.process(c))}};return l}const Wf=["read","resolveKeyframes","update","preRender","render","postRender"],IG=40;function TM(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Wf.reduce((_,y)=>(_[y]=RG(i),_),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:p}=o,g=()=>{const _=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(_-s.timestamp,IG),1),s.timestamp=_,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),u.process(s),d.process(s),p.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(g))},w=()=>{n=!0,r=!0,s.isProcessing||t(g)};return{schedule:Wf.reduce((_,y)=>{const S=o[y];return _[y]=(R,D=!1,O=!1)=>(n||w(),S.schedule(R,D,O)),_},{}),cancel:_=>{for(let y=0;y<Wf.length;y++)o[Wf[y]].cancel(_)},state:s,steps:o}}const{schedule:dt,cancel:wi,state:vn,steps:Av}=TM(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fn,!0),SM=t=>/^0[^.\s]+$/u.test(t);function AG(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||SM(t):!0}let g0=Fn;const bM=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),CM=t=>e=>typeof e=="string"&&e.startsWith(t),PM=CM("--"),NG=CM("var(--"),dE=t=>NG(t)?DG.test(t.split("/*")[0].trim()):!1,DG=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,kG=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function MG(t){const e=kG.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function RM(t,e,n=1){const[r,s]=MG(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return bM(o)?parseFloat(o):o}return dE(s)?RM(s,e,n+1):s}const ko=(t,e,n)=>n>e?e:n<t?t:n,Gc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},td={...Gc,transform:t=>ko(0,1,t)},Hf={...Gc,default:1},nd=t=>Math.round(t*1e5)/1e5,hE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,OG=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,LG=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function Fh(t){return typeof t=="string"}function jG(t){return t==null}const Uh=t=>({test:e=>Fh(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Vi=Uh("deg"),As=Uh("%"),Ce=Uh("px"),VG=Uh("vh"),FG=Uh("vw"),n1={...As,parse:t=>As.parse(t)/100,transform:t=>As.transform(t*100)},UG=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),r1=t=>t===Gc||t===Ce,s1=(t,e)=>parseFloat(t.split(", ")[e]),i1=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return s1(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?s1(i[1],t):0}},BG=new Set(["x","y","z"]),$G=Vh.filter(t=>!BG.has(t));function zG(t){const e=[];return $G.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Sc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:i1(4,13),y:i1(5,14)};Sc.translateX=Sc.x;Sc.translateY=Sc.y;const IM=t=>e=>e.test(t),KG={test:t=>t==="auto",parse:t=>t},AM=[Gc,Ce,As,Vi,FG,VG,KG],o1=t=>AM.find(IM(t)),Ra=new Set;let y0=!1,v0=!1;function NM(){if(v0){const t=Array.from(Ra).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=zG(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}v0=!1,y0=!1,Ra.forEach(t=>t.complete()),Ra.clear()}function DM(){Ra.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(v0=!0)})}function WG(){DM(),NM()}class fE{constructor(e,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ra.add(this),y0||(y0=!0,dt.read(DM),dt.resolveKeyframes(NM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ra.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ra.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const pE=(t,e)=>n=>!!(Fh(n)&&LG.test(n)&&n.startsWith(t)||e&&!jG(n)&&Object.prototype.hasOwnProperty.call(n,e)),kM=(t,e,n)=>r=>{if(!Fh(r))return r;const[s,i,o,a]=r.match(hE);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},HG=t=>ko(0,255,t),Nv={...Gc,transform:t=>Math.round(HG(t))},ma={test:pE("rgb","red"),parse:kM("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Nv.transform(t)+", "+Nv.transform(e)+", "+Nv.transform(n)+", "+nd(td.transform(r))+")"};function GG(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const w0={test:pE("#"),parse:GG,transform:ma.transform},Ml={test:pE("hsl","hue"),parse:kM("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+As.transform(nd(e))+", "+As.transform(nd(n))+", "+nd(td.transform(r))+")"},Mn={test:t=>ma.test(t)||w0.test(t)||Ml.test(t),parse:t=>ma.test(t)?ma.parse(t):Ml.test(t)?Ml.parse(t):w0.parse(t),transform:t=>Fh(t)?t:t.hasOwnProperty("red")?ma.transform(t):Ml.transform(t)};function qG(t){var e,n;return isNaN(t)&&Fh(t)&&(((e=t.match(hE))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(OG))===null||n===void 0?void 0:n.length)||0)>0}const MM="number",OM="color",QG="var",YG="var(",a1="${}",XG=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Kd(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(XG,l=>(Mn.test(l)?(r.color.push(i),s.push(OM),n.push(Mn.parse(l))):l.startsWith(YG)?(r.var.push(i),s.push(QG),n.push(l)):(r.number.push(i),s.push(MM),n.push(parseFloat(l))),++i,a1)).split(a1);return{values:n,split:a,indexes:r,types:s}}function LM(t){return Kd(t).values}function jM(t){const{split:e,types:n}=Kd(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===MM?i+=nd(s[o]):a===OM?i+=Mn.transform(s[o]):i+=s[o]}return i}}const JG=t=>typeof t=="number"?0:t;function ZG(t){const e=LM(t);return jM(t)(e.map(JG))}const Mo={test:qG,parse:LM,createTransformer:jM,getAnimatableNone:ZG},eq=new Set(["brightness","contrast","saturate","opacity"]);function tq(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(hE)||[];if(!r)return t;const s=n.replace(r,"");let i=eq.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const nq=/\b([a-z-]*)\(.*?\)/gu,_0={...Mo,getAnimatableNone:t=>{const e=t.match(nq);return e?e.map(tq).join(" "):t}},l1={...Gc,transform:Math.round},mE={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,size:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,rotate:Vi,rotateX:Vi,rotateY:Vi,rotateZ:Vi,scale:Hf,scaleX:Hf,scaleY:Hf,scaleZ:Hf,skew:Vi,skewX:Vi,skewY:Vi,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:td,originX:n1,originY:n1,originZ:Ce,zIndex:l1,backgroundPositionX:Ce,backgroundPositionY:Ce,fillOpacity:td,strokeOpacity:td,numOctaves:l1},rq={...mE,color:Mn,backgroundColor:Mn,outlineColor:Mn,fill:Mn,stroke:Mn,borderColor:Mn,borderTopColor:Mn,borderRightColor:Mn,borderBottomColor:Mn,borderLeftColor:Mn,filter:_0,WebkitFilter:_0},gE=t=>rq[t];function VM(t,e){let n=gE(t);return n!==_0&&(n=Mo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const sq=new Set(["auto","none","0"]);function iq(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!sq.has(i)&&Kd(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=VM(n,s)}class FM extends fE{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),dE(c))){const u=RM(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!UG.has(r)||e.length!==2)return;const[s,i]=e,o=o1(s),a=o1(i);if(o!==a)if(r1(o)&&r1(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)AG(e[s])&&r.push(s);r.length&&iq(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Sc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=Sc[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function UM(t){let e;return()=>(e===void 0&&(e=t()),e)}let Cp;function oq(){Cp=void 0}const Ns={now:()=>(Cp===void 0&&Ns.set(vn.isProcessing||CG.useManualTiming?vn.timestamp:performance.now()),Cp),set:t=>{Cp=t,queueMicrotask(oq)}},c1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Mo.test(t)||t==="0")&&!t.startsWith("url("));function aq(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function lq(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=c1(s,e),a=c1(i,e);return!o||!a?!1:aq(t)||n==="spring"&&r}const cq=40;class BM{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ns.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>cq?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&WG(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Ns.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!lq(e,r,s,i))if(o)this.options.duration=0;else{l==null||l(Wg(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function $M(t,e){return e?t*(1e3/e):0}const uq=5;function zM(t,e,n){const r=Math.max(e-uq,0);return $M(n-t(r),e-r)}const Dv=.001,dq=.01,hq=10,fq=.05,pq=1;function mq({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,o=1-e;o=ko(fq,pq,o),t=ko(dq,hq,oi(t)),o<1?(s=c=>{const u=c*o,d=u*t,p=u-n,g=x0(c,o),w=Math.exp(-d);return Dv-p/g*w},i=c=>{const d=c*o*t,p=d*n+n,g=Math.pow(o,2)*Math.pow(c,2)*t,w=Math.exp(-d),v=x0(Math.pow(c,2),o);return(-s(c)+Dv>0?-1:1)*((p-g)*w)/v}):(s=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-Dv+u*d},i=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=yq(s,i,a);if(t=ii(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const gq=12;function yq(t,e,n){let r=n;for(let s=1;s<gq;s++)r=r-t(r)/e(r);return r}function x0(t,e){return t*Math.sqrt(1-e*e)}const vq=["duration","bounce"],wq=["stiffness","damping","mass"];function u1(t,e){return e.some(n=>t[n]!==void 0)}function _q(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!u1(t,wq)&&u1(t,vq)){const n=mq(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function KM({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:c,duration:u,velocity:d,isResolvedFromDuration:p}=_q({...r,velocity:-oi(r.velocity||0)}),g=d||0,w=l/(2*Math.sqrt(a*c)),v=i-s,E=oi(Math.sqrt(a/c)),_=Math.abs(v)<5;n||(n=_?.01:2),e||(e=_?.005:.5);let y;if(w<1){const S=x0(E,w);y=R=>{const D=Math.exp(-w*E*R);return i-D*((g+w*E*v)/S*Math.sin(S*R)+v*Math.cos(S*R))}}else if(w===1)y=S=>i-Math.exp(-E*S)*(v+(g+E*v)*S);else{const S=E*Math.sqrt(w*w-1);y=R=>{const D=Math.exp(-w*E*R),O=Math.min(S*R,300);return i-D*((g+w*E*v)*Math.sinh(O)+S*v*Math.cosh(O))/S}}return{calculatedDuration:p&&u||null,next:S=>{const R=y(S);if(p)o.done=S>=u;else{let D=0;w<1&&(D=S===0?ii(g):zM(y,S,R));const O=Math.abs(D)<=n,C=Math.abs(i-R)<=e;o.done=O&&C}return o.value=o.done?i:R,o}}}function d1({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],p={done:!1,value:d},g=T=>a!==void 0&&T<a||l!==void 0&&T>l,w=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let v=n*e;const E=d+v,_=o===void 0?E:o(E);_!==E&&(v=_-d);const y=T=>-v*Math.exp(-T/r),S=T=>_+y(T),R=T=>{const P=y(T),I=S(T);p.done=Math.abs(P)<=c,p.value=p.done?_:I};let D,O;const C=T=>{g(p.value)&&(D=T,O=KM({keyframes:[p.value,w(p.value)],velocity:zM(S,T,p.value),damping:s,stiffness:i,restDelta:c,restSpeed:u}))};return C(0),{calculatedDuration:null,next:T=>{let P=!1;return!O&&D===void 0&&(P=!0,R(T),C(T)),D!==void 0&&T>=D?O.next(T-D):(!P&&R(T),p)}}}const WM=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,xq=1e-7,Eq=12;function Tq(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=WM(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>xq&&++a<Eq);return o}function Bh(t,e,n,r){if(t===e&&n===r)return Fn;const s=i=>Tq(i,0,1,t,n);return i=>i===0||i===1?i:WM(s(i),e,r)}const Sq=Bh(.42,0,1,1),bq=Bh(0,0,.58,1),HM=Bh(.42,0,.58,1),Cq=t=>Array.isArray(t)&&typeof t[0]!="number",GM=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,qM=t=>e=>1-t(1-e),yE=t=>1-Math.sin(Math.acos(t)),QM=qM(yE),Pq=GM(yE),YM=Bh(.33,1.53,.69,.99),vE=qM(YM),Rq=GM(vE),Iq=t=>(t*=2)<1?.5*vE(t):.5*(2-Math.pow(2,-10*(t-1))),h1={linear:Fn,easeIn:Sq,easeInOut:HM,easeOut:bq,circIn:yE,circInOut:Pq,circOut:QM,backIn:vE,backInOut:Rq,backOut:YM,anticipate:Iq},f1=t=>{if(Array.isArray(t)){g0(t.length===4);const[e,n,r,s]=t;return Bh(e,n,r,s)}else if(typeof t=="string")return g0(h1[t]!==void 0),h1[t];return t},Aq=(t,e)=>n=>e(t(n)),ai=(...t)=>t.reduce(Aq),Wd=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ot=(t,e,n)=>t+(e-t)*n;function kv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Nq({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=kv(l,a,t+1/3),i=kv(l,a,t),o=kv(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Rm(t,e){return n=>n>0?e:t}const Mv=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},Dq=[w0,ma,Ml],kq=t=>Dq.find(e=>e.test(t));function p1(t){const e=kq(t);if(!e)return!1;let n=e.parse(t);return e===Ml&&(n=Nq(n)),n}const m1=(t,e)=>{const n=p1(t),r=p1(e);if(!n||!r)return Rm(t,e);const s={...n};return i=>(s.red=Mv(n.red,r.red,i),s.green=Mv(n.green,r.green,i),s.blue=Mv(n.blue,r.blue,i),s.alpha=Ot(n.alpha,r.alpha,i),ma.transform(s))},E0=new Set(["none","hidden"]);function Mq(t,e){return E0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Oq(t,e){return n=>Ot(t,e,n)}function wE(t){return typeof t=="number"?Oq:typeof t=="string"?dE(t)?Rm:Mn.test(t)?m1:Vq:Array.isArray(t)?XM:typeof t=="object"?Mn.test(t)?m1:Lq:Rm}function XM(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>wE(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function Lq(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=wE(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function jq(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][s[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const Vq=(t,e)=>{const n=Mo.createTransformer(e),r=Kd(t),s=Kd(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?E0.has(t)&&!s.values.length||E0.has(e)&&!r.values.length?Mq(t,e):ai(XM(jq(r,s),s.values),n):Rm(t,e)};function JM(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ot(t,e,n):wE(t)(t,e)}function Fq(t,e,n){const r=[],s=n||JM,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Fn:e;a=ai(l,a)}r.push(a)}return r}function Uq(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(g0(i===e.length),i===1)return()=>e[0];if(i===2&&t[0]===t[1])return()=>e[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=Fq(e,r,s),a=o.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const d=Wd(t[u],t[u+1],c);return o[u](d)};return n?c=>l(ko(t[0],t[i-1],c)):l}function Bq(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Wd(0,e,r);t.push(Ot(n,1,s))}}function $q(t){const e=[0];return Bq(e,t.length-1),e}function zq(t,e){return t.map(n=>n*e)}function Kq(t,e){return t.map(()=>e||HM).splice(0,t.length-1)}function Im({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=Cq(r)?r.map(f1):f1(r),i={done:!1,value:e[0]},o=zq(n&&n.length===e.length?n:$q(e),t),a=Uq(o,e,{ease:Array.isArray(s)?s:Kq(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const g1=2e4;function Wq(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<g1;)e+=n,r=t.next(e);return e>=g1?1/0:e}const Hq=t=>{const e=({timestamp:n})=>t(n);return{start:()=>dt.update(e,!0),stop:()=>wi(e),now:()=>vn.isProcessing?vn.timestamp:Ns.now()}},Gq={decay:d1,inertia:d1,tween:Im,keyframes:Im,spring:KM},qq=t=>t/100;class _E extends BM{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||fE,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=Gq[n]||Im;let l,c;a!==Im&&typeof e[0]!="number"&&(l=ai(qq,JM(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});i==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Wq(u));const{calculatedDuration:d}=u,p=d+s,g=p*(r+1)-s;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:p,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:d}=r;if(this.startTime===null)return i.next(0);const{delay:p,repeat:g,repeatType:w,repeatDelay:v,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const _=this.currentTime-p*(this.speed>=0?1:-1),y=this.speed>=0?_<0:_>u;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let S=this.currentTime,R=i;if(g){const T=Math.min(this.currentTime,u)/d;let P=Math.floor(T),I=T%1;!I&&T>=1&&(I=1),I===1&&P--,P=Math.min(P,g+1),!!(P%2)&&(w==="reverse"?(I=1-I,v&&(I-=v/d)):w==="mirror"&&(R=o)),S=ko(0,1,I)*d}const D=y?{done:!1,value:l[0]}:R.next(S);a&&(D.value=a(D.value));let{done:O}=D;!y&&c!==null&&(O=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return C&&s!==void 0&&(D.value=Wg(l,this.options,s)),E&&E(D.value),C&&this.finish(),D}get duration(){const{resolved:e}=this;return e?oi(e.calculatedDuration):0}get time(){return oi(this.currentTime)}set time(e){e=ii(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=oi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Hq,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const ZM=new Set(["opacity","clipPath","filter","transform"]),eO=t=>Array.isArray(t)&&typeof t[0]=="number";function tO(t){return!!(!t||typeof t=="string"&&t in xE||eO(t)||Array.isArray(t)&&t.every(tO))}const ju=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,xE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ju([0,.65,.55,1]),circOut:ju([.55,0,1,.45]),backIn:ju([.31,.01,.66,-.59]),backOut:ju([.33,1.53,.69,.99])};function Qq(t){return nO(t)||xE.easeOut}function nO(t){if(t)return eO(t)?ju(t):Array.isArray(t)?t.map(Qq):xE[t]}function Yq(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=nO(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const Xq=UM(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Am=10,Jq=2e4;function Zq(t){return t.type==="spring"||!tO(t.ease)}function eQ(t,e){const n=new _E({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<Jq;)r=n.sample(i),s.push(r.value),i+=Am;return{times:void 0,keyframes:s,duration:i-Am,ease:"linear"}}class y1 extends BM{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new FM(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:s=300,times:i,ease:o,type:a,motionValue:l,name:c,startTime:u}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(Zq(this.options)){const{onComplete:p,onUpdate:g,motionValue:w,element:v,...E}=this.options,_=eQ(e,E);e=_.keyframes,e.length===1&&(e[1]=e[0]),s=_.duration,i=_.times,o=_.ease,a="keyframes"}const d=Yq(l.owner.current,c,e,{...this.options,duration:s,times:i,ease:o});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(d.timeline=this.pendingTimeline,this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:p}=this.options;l.set(Wg(e,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:s,times:i,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return oi(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return oi(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ii(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Fn;const{animation:r}=n;r.timeline=e,r.onfinish=null}return Fn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:d,element:p,...g}=this.options,w=new _E({...g,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),v=ii(this.time);c.setWithVelocity(w.sample(v-Am).value,w.sample(v).value,Am)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=e;return Xq()&&r&&ZM.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}function tQ(t,e){let n;const r=()=>{const{currentTime:s}=e,o=(s===null?0:s.value)/100;n!==o&&t(o),n=o};return dt.update(r,!0),()=>wi(r)}const nQ=UM(()=>window.ScrollTimeline!==void 0);class rQ{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>{if(nQ()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),tQ(s=>{r.time=r.duration*s},e)});return()=>{n.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const EE=(t,e,n,r={},s,i,o)=>a=>{const l=uE(r,t)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-ii(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:g=>{e.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{a(),l.onComplete&&l.onComplete(),o&&o()},onStop:o,name:t,motionValue:e,element:i?void 0:s};bG(l)||(d={...d,...SG(t,d)}),d.duration&&(d.duration=ii(d.duration)),d.repeatDelay&&(d.repeatDelay=ii(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let p=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(p=!0)),p&&!i&&e.get()!==void 0){const g=Wg(d.keyframes,l);if(g!==void 0)return dt.update(()=>{d.onUpdate(g),d.onComplete()}),new rQ([])}return!i&&y1.supports(d)?new y1(d):new _E(d)},sQ=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),iQ=t=>m0(t)?t[t.length-1]||0:t;function Hg(t,e){t.indexOf(e)===-1&&t.push(e)}function Gg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class TE{constructor(){this.subscriptions=[]}add(e){return Hg(this.subscriptions,e),()=>Gg(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const v1=30,oQ=t=>!isNaN(parseFloat(t));class rO{constructor(e,n={}){this.version="11.5.6",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=Ns.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ns.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=oQ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new TE);const r=this.events[e].add(n);return e==="change"?()=>{r(),dt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ns.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>v1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,v1);return $M(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hd(t,e){return new rO(t,e)}function aQ(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Hd(n))}function lQ(t,e){const n=Kg(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=iQ(i[o]);aQ(t,o,a)}}const qg=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),cQ="framerAppearId",sO="data-"+qg(cQ);function iO(t){return t.props[sO]}function oO(t){if(Wo.has(t))return"transform";if(ZM.has(t))return qg(t)}class uQ extends rO{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(e){const n=oO(e);if(!n)return;const r=this.counts.get(n)||0;this.counts.set(n,r+1),r===0&&(this.output.push(n),this.update());let s=!1;return()=>{if(s)return;s=!0;const i=this.counts.get(n)-1;this.counts.set(n,i),i===0&&(Gg(this.output,n),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}const Vn=t=>!!(t&&t.getVelocity);function dQ(t){return!!(Vn(t)&&t.add)}function T0(t,e){var n;if(!t.applyWillChange)return;let r=t.getValue("willChange");if(!r&&!(!((n=t.props.style)===null||n===void 0)&&n.willChange)&&(r=new uQ("auto"),t.addValue("willChange",r)),dQ(r))return r.add(e)}function hQ({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function aO(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const d in l){const p=t.getValue(d,(i=t.latestValues[d])!==null&&i!==void 0?i:null),g=l[d];if(g===void 0||u&&hQ(u,d))continue;const w={delay:n,...uE(o||{},d)};let v=!1;if(window.MotionHandoffAnimation){const _=iO(t);if(_){const y=window.MotionHandoffAnimation(_,d,dt);y!==null&&(w.startTime=y,v=!0)}}p.start(EE(d,p,g,t.shouldReduceMotion&&Wo.has(d)?{type:!1}:w,t,v,T0(t,d)));const E=p.animation;E&&c.push(E)}return a&&Promise.all(c).then(()=>{dt.update(()=>{a&&lQ(t,a)})}),c}function S0(t,e,n={}){var r;const s=Kg(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(aO(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:p}=i;return fQ(t,e,u+c,d,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function fQ(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(pQ).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(S0(c,e,{...i,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function pQ(t,e){return t.sortNodePosition(e)}function mQ(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>S0(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=S0(t,e,n);else{const s=typeof e=="function"?Kg(t,e,n.custom):e;r=Promise.all(aO(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const gQ=cE.length;function lO(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?lO(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<gQ;n++){const r=cE[n],s=t.props[r];(zd(s)||s===!1)&&(e[r]=s)}return e}const yQ=[...lE].reverse(),vQ=lE.length;function wQ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>mQ(t,n,r)))}function _Q(t){let e=wQ(t),n=w1(),r=!0;const s=l=>(c,u)=>{var d;const p=Kg(t,u,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(p){const{transition:g,transitionEnd:w,...v}=p;c={...c,...v,...w}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,u=lO(t.parent)||{},d=[],p=new Set;let g={},w=1/0;for(let E=0;E<vQ;E++){const _=yQ[E],y=n[_],S=c[_]!==void 0?c[_]:u[_],R=zd(S),D=_===l?y.isActive:null;D===!1&&(w=E);let O=S===u[_]&&S!==c[_]&&R;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),y.protectedKeys={...g},!y.isActive&&D===null||!S&&!y.prevProp||$d(S)||typeof S=="boolean")continue;const C=xQ(y.prevProp,S);let T=C||_===l&&y.isActive&&!O&&R||E>w&&R,P=!1;const I=Array.isArray(S)?S:[S];let M=I.reduce(s(_),{});D===!1&&(M={});const{prevResolvedValues:k={}}=y,N={...k,...M},H=ne=>{T=!0,p.has(ne)&&(P=!0,p.delete(ne)),y.needsAnimating[ne]=!0;const z=t.getValue(ne);z&&(z.liveStyle=!1)};for(const ne in N){const z=M[ne],B=k[ne];if(g.hasOwnProperty(ne))continue;let Z=!1;m0(z)&&m0(B)?Z=!EM(z,B):Z=z!==B,Z?z!=null?H(ne):p.add(ne):z!==void 0&&p.has(ne)?H(ne):y.protectedKeys[ne]=!0}y.prevProp=S,y.prevResolvedValues=M,y.isActive&&(g={...g,...M}),r&&t.blockInitialAnimation&&(T=!1),T&&(!(O&&C)||P)&&d.push(...I.map(ne=>({animation:ne,options:{type:_}})))}if(p.size){const E={};p.forEach(_=>{const y=t.getBaseTarget(_),S=t.getValue(_);S&&(S.liveStyle=!0),E[_]=y??null}),d.push({animation:E})}let v=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(d):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=w1(),r=!0}}}function xQ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!EM(e,t):!1}function sa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function w1(){return{animate:sa(!0),whileInView:sa(),whileHover:sa(),whileTap:sa(),whileDrag:sa(),whileFocus:sa(),exit:sa()}}class Ho{constructor(e){this.isMounted=!1,this.node=e}update(){}}class EQ extends Ho{constructor(e){super(e),e.animationState||(e.animationState=_Q(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();$d(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let TQ=0;class SQ extends Ho{constructor(){super(...arguments),this.id=TQ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const bQ={animation:{Feature:EQ},exit:{Feature:SQ}},cO=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Qg(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const CQ=t=>e=>cO(e)&&t(e,Qg(e));function Zs(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function li(t,e,n,r){return Zs(t,e,CQ(n),r)}const _1=(t,e)=>Math.abs(t-e);function PQ(t,e){const n=_1(t.x,e.x),r=_1(t.y,e.y);return Math.sqrt(n**2+r**2)}class uO{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Lv(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=PQ(d.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:w}=d,{timestamp:v}=vn;this.history.push({...w,timestamp:v});const{onStart:E,onMove:_}=this.handlers;p||(E&&E(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Ov(p,this.transformPagePoint),dt.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{this.end();const{onEnd:g,onSessionEnd:w,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Lv(d.type==="pointercancel"?this.lastMoveEventInfo:Ov(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(d,E),w&&w(d,E)},!cO(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Qg(e),a=Ov(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=vn;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,Lv(a,this.history)),this.removeListeners=ai(li(this.contextWindow,"pointermove",this.handlePointerMove),li(this.contextWindow,"pointerup",this.handlePointerUp),li(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),wi(this.updatePoint)}}function Ov(t,e){return e?{point:e(t.point)}:t}function x1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Lv({point:t},e){return{point:t,delta:x1(t,dO(e)),offset:x1(t,RQ(e)),velocity:IQ(e,.1)}}function RQ(t){return t[0]}function dO(t){return t[t.length-1]}function IQ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=dO(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>ii(e)));)n--;if(!r)return{x:0,y:0};const i=oi(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function hO(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const E1=hO("dragHorizontal"),T1=hO("dragVertical");function fO(t){let e=!1;if(t==="y")e=T1();else if(t==="x")e=E1();else{const n=E1(),r=T1();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function pO(){const t=fO(!0);return t?(t(),!1):!0}function Ol(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const mO=1e-4,AQ=1-mO,NQ=1+mO,gO=.01,DQ=0-gO,kQ=0+gO;function Sr(t){return t.max-t.min}function MQ(t,e,n){return Math.abs(t-e)<=n}function S1(t,e,n,r=.5){t.origin=r,t.originPoint=Ot(e.min,e.max,t.origin),t.scale=Sr(n)/Sr(e),t.translate=Ot(n.min,n.max,t.origin)-t.originPoint,(t.scale>=AQ&&t.scale<=NQ||isNaN(t.scale))&&(t.scale=1),(t.translate>=DQ&&t.translate<=kQ||isNaN(t.translate))&&(t.translate=0)}function rd(t,e,n,r){S1(t.x,e.x,n.x,r?r.originX:void 0),S1(t.y,e.y,n.y,r?r.originY:void 0)}function b1(t,e,n){t.min=n.min+e.min,t.max=t.min+Sr(e)}function OQ(t,e,n){b1(t.x,e.x,n.x),b1(t.y,e.y,n.y)}function C1(t,e,n){t.min=e.min-n.min,t.max=t.min+Sr(e)}function sd(t,e,n){C1(t.x,e.x,n.x),C1(t.y,e.y,n.y)}function LQ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ot(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ot(n,t,r.max):Math.min(t,n)),t}function P1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function jQ(t,{top:e,left:n,bottom:r,right:s}){return{x:P1(t.x,n,s),y:P1(t.y,e,r)}}function R1(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function VQ(t,e){return{x:R1(t.x,e.x),y:R1(t.y,e.y)}}function FQ(t,e){let n=.5;const r=Sr(t),s=Sr(e);return s>r?n=Wd(e.min,e.max-r,t.min):r>s&&(n=Wd(t.min,t.max-s,e.min)),ko(0,1,n)}function UQ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const b0=.35;function BQ(t=b0){return t===!1?t=0:t===!0&&(t=b0),{x:I1(t,"left","right"),y:I1(t,"top","bottom")}}function I1(t,e,n){return{min:A1(t,e),max:A1(t,n)}}function A1(t,e){return typeof t=="number"?t:t[e]||0}const N1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ll=()=>({x:N1(),y:N1()}),D1=()=>({min:0,max:0}),qt=()=>({x:D1(),y:D1()});function Nr(t){return[t("x"),t("y")]}function yO({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function $Q({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function zQ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function jv(t){return t===void 0||t===1}function C0({scale:t,scaleX:e,scaleY:n}){return!jv(t)||!jv(e)||!jv(n)}function la(t){return C0(t)||vO(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function vO(t){return k1(t.x)||k1(t.y)}function k1(t){return t&&t!=="0%"}function Nm(t,e,n){const r=t-n,s=e*r;return n+s}function M1(t,e,n,r,s){return s!==void 0&&(t=Nm(t,s,r)),Nm(t,n,r)+e}function P0(t,e=0,n=1,r,s){t.min=M1(t.min,e,n,r,s),t.max=M1(t.max,e,n,r,s)}function wO(t,{x:e,y:n}){P0(t.x,e.translate,e.scale,e.originPoint),P0(t.y,n.translate,n.scale,n.originPoint)}const O1=.999999999999,L1=1.0000000000001;function KQ(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Vl(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,wO(t,o)),r&&la(i.latestValues)&&Vl(t,i.latestValues))}e.x<L1&&e.x>O1&&(e.x=1),e.y<L1&&e.y>O1&&(e.y=1)}function jl(t,e){t.min=t.min+e,t.max=t.max+e}function j1(t,e,n,r,s=.5){const i=Ot(t.min,t.max,s);P0(t,e,n,i,r)}function Vl(t,e){j1(t.x,e.x,e.scaleX,e.scale,e.originX),j1(t.y,e.y,e.scaleY,e.scale,e.originY)}function _O(t,e){return yO(zQ(t.getBoundingClientRect(),e))}function WQ(t,e,n){const r=_O(t,n),{scroll:s}=e;return s&&(jl(r.x,s.offset.x),jl(r.y,s.offset.y)),r}const xO=({current:t})=>t?t.ownerDocument.defaultView:null,HQ=new WeakMap;class GQ{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=qt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Qg(u,"page").point)},i=(u,d)=>{var p;const{drag:g,dragPropagation:w,onDragStart:v}=this.getProps();if(g&&!w&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=fO(g),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Nr(_=>{let y=this.getAxisMotionValue(_).get()||0;if(As.test(y)){const{projection:S}=this.visualElement;if(S&&S.layout){const R=S.layout.layoutBox[_];R&&(y=Sr(R)*(parseFloat(y)/100))}}this.originPoint[_]=y}),v&&dt.postRender(()=>v(u,d)),(p=this.removeWillChange)===null||p===void 0||p.call(this),this.removeWillChange=T0(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:w,onDrag:v}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:E}=d;if(g&&this.currentDirection===null){this.currentDirection=qQ(E),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",d.point,E),this.updateAxis("y",d.point,E),this.visualElement.render(),v&&v(u,d)},a=(u,d)=>this.stop(u,d),l=()=>Nr(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new uO(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:xO(this.visualElement)})}stop(e,n){var r;(r=this.removeWillChange)===null||r===void 0||r.call(this);const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&dt.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Gf(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=LQ(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Ol(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=jQ(s.layoutBox,n):this.constraints=!1,this.elastic=BQ(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Nr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=UQ(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ol(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=WQ(r,s.root,this.visualElement.getTransformPagePoint());let o=VQ(s.layout.layoutBox,i);if(n){const a=n($Q(o));this.hasMutatedConstraints=!!a,a&&(o=yO(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Nr(u=>{if(!Gf(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const p=s?200:1e6,g=s?40:1e7,w={type:"inertia",velocity:r?e[u]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(u,w)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(EE(e,r,0,n,this.visualElement,!1,T0(this.visualElement,e)))}stopAnimation(){Nr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Nr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Nr(n=>{const{drag:r}=this.getProps();if(!Gf(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Ot(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ol(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Nr(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=FQ({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Nr(o=>{if(!Gf(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Ot(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;HQ.set(this.visualElement,this);const e=this.visualElement.current,n=li(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ol(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),dt.read(r);const o=Zs(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Nr(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=b0,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Gf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function qQ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class QQ extends Ho{constructor(e){super(e),this.removeGroupControls=Fn,this.removeListeners=Fn,this.controls=new GQ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fn}unmount(){this.removeGroupControls(),this.removeListeners()}}const V1=t=>(e,n)=>{t&&dt.postRender(()=>t(e,n))};class YQ extends Ho{constructor(){super(...arguments),this.removePointerDownListener=Fn}onPointerDown(e){this.session=new uO(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xO(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:V1(e),onStart:V1(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&dt.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=li(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Yg=m.createContext(null);function XQ(){const t=m.useContext(Yg);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=m.useId();m.useEffect(()=>r(s),[]);const i=m.useCallback(()=>n&&n(s),[s,n]);return!e&&n?[!1,i]:[!0]}const SE=m.createContext({}),EO=m.createContext({}),Pp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function F1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const bu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ce.test(t))t=parseFloat(t);else return t;const n=F1(t,e.target.x),r=F1(t,e.target.y);return`${n}% ${r}%`}},JQ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Mo.parse(t);if(s.length>5)return r;const i=Mo.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=Ot(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}},Dm={};function ZQ(t){Object.assign(Dm,t)}const{schedule:bE,cancel:wle}=TM(queueMicrotask,!1);class eY extends m.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;ZQ(tY),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Pp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||dt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),bE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function TO(t){const[e,n]=XQ(),r=m.useContext(SE);return f.jsx(eY,{...t,layoutGroup:r,switchLayoutGroup:m.useContext(EO),isPresent:e,safeToRemove:n})}const tY={borderRadius:{...bu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bu,borderTopRightRadius:bu,borderBottomLeftRadius:bu,borderBottomRightRadius:bu,boxShadow:JQ},SO=["TopLeft","TopRight","BottomLeft","BottomRight"],nY=SO.length,U1=t=>typeof t=="string"?parseFloat(t):t,B1=t=>typeof t=="number"||Ce.test(t);function rY(t,e,n,r,s,i){s?(t.opacity=Ot(0,n.opacity!==void 0?n.opacity:1,sY(r)),t.opacityExit=Ot(e.opacity!==void 0?e.opacity:1,0,iY(r))):i&&(t.opacity=Ot(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<nY;o++){const a=`border${SO[o]}Radius`;let l=$1(e,a),c=$1(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||B1(l)===B1(c)?(t[a]=Math.max(Ot(U1(l),U1(c),r),0),(As.test(c)||As.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Ot(e.rotate||0,n.rotate||0,r))}function $1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const sY=bO(0,.5,QM),iY=bO(.5,.95,Fn);function bO(t,e,n){return r=>r<t?0:r>e?1:n(Wd(t,e,r))}function z1(t,e){t.min=e.min,t.max=e.max}function Ar(t,e){z1(t.x,e.x),z1(t.y,e.y)}function K1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function W1(t,e,n,r,s){return t-=e,t=Nm(t,1/n,r),s!==void 0&&(t=Nm(t,1/s,r)),t}function oY(t,e=0,n=1,r=.5,s,i=t,o=t){if(As.test(e)&&(e=parseFloat(e),e=Ot(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ot(i.min,i.max,r);t===i&&(a-=e),t.min=W1(t.min,e,n,a,s),t.max=W1(t.max,e,n,a,s)}function H1(t,e,[n,r,s],i,o){oY(t,e[n],e[r],e[s],e.scale,i,o)}const aY=["x","scaleX","originX"],lY=["y","scaleY","originY"];function G1(t,e,n,r){H1(t.x,e,aY,n?n.x:void 0,r?r.x:void 0),H1(t.y,e,lY,n?n.y:void 0,r?r.y:void 0)}function q1(t){return t.translate===0&&t.scale===1}function CO(t){return q1(t.x)&&q1(t.y)}function Q1(t,e){return t.min===e.min&&t.max===e.max}function cY(t,e){return Q1(t.x,e.x)&&Q1(t.y,e.y)}function Y1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function PO(t,e){return Y1(t.x,e.x)&&Y1(t.y,e.y)}function X1(t){return Sr(t.x)/Sr(t.y)}function J1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class uY{constructor(){this.members=[]}add(e){Hg(this.members,e),e.scheduleRender()}remove(e){if(Gg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dY(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:p,skewX:g,skewY:w}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),p&&(r+=`rotateY(${p}deg) `),g&&(r+=`skewX(${g}deg) `),w&&(r+=`skewY(${w}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const hY=(t,e)=>t.depth-e.depth;class fY{constructor(){this.children=[],this.isDirty=!1}add(e){Hg(this.children,e),this.isDirty=!0}remove(e){Gg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(hY),this.isDirty=!1,this.children.forEach(e)}}function Rp(t){const e=Vn(t)?t.get():t;return sQ(e)?e.toValue():e}function pY(t,e){const n=Ns.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(wi(r),t(i-e))};return dt.read(r,!0),()=>wi(r)}function mY(t){return t instanceof SVGElement&&t.tagName!=="svg"}function gY(t,e,n){const r=Vn(t)?t:Hd(t);return r.start(EE("",r,e,n)),r.animation}const ca={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Vu=typeof window<"u"&&window.MotionDebug!==void 0,Vv=["","X","Y","Z"],yY={visibility:"hidden"},Z1=1e3;let vY=0;function Fv(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function RO(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=iO(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",dt,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&RO(r)}function IO({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=vY++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Vu&&(ca.totalNodes=ca.resolvedTargetDeltas=ca.recalculatedProjection=0),this.nodes.forEach(xY),this.nodes.forEach(CY),this.nodes.forEach(PY),this.nodes.forEach(EY),Vu&&window.MotionDebug.record(ca)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new fY)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new TE),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=mY(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=pY(p,250),Pp.hasAnimatedSinceResize&&(Pp.hasAnimatedSinceResize=!1,this.nodes.forEach(tP))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:g,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||DY,{onLayoutAnimationStart:E,onLayoutAnimationComplete:_}=u.getProps(),y=!this.targetLayout||!PO(this.targetLayout,w)||g,S=!p&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||p&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,S);const R={...uE(v,"layout"),onPlay:E,onComplete:_};(u.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else p||tP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,wi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(RY),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&RO(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(eP);return}this.isUpdating||this.nodes.forEach(SY),this.isUpdating=!1,this.nodes.forEach(bY),this.nodes.forEach(wY),this.nodes.forEach(_Y),this.clearAllSnapshots();const a=Ns.now();vn.delta=ko(0,1e3/60,a-vn.timestamp),vn.timestamp=a,vn.isProcessing=!0,Av.update.process(vn),Av.preRender.process(vn),Av.render.process(vn),vn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,bE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(TY),this.sharedNodes.forEach(IY)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=qt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!CO(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||la(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),kY(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return qt();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(MY))){const{scroll:u}=this.root;u&&(jl(l.x,u.offset.x),jl(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=qt();if(Ar(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:p}=u;u!==this.root&&d&&p.layoutScroll&&(d.wasRoot&&Ar(l,o),jl(l.x,d.offset.x),jl(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=qt();Ar(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Vl(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),la(u.latestValues)&&Vl(l,u.latestValues)}return la(this.latestValues)&&Vl(l,this.latestValues),l}removeTransform(o){const a=qt();Ar(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!la(c.latestValues))continue;C0(c.latestValues)&&c.updateSnapshot();const u=qt(),d=c.measurePageBox();Ar(u,d),G1(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return la(this.latestValues)&&G1(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=vn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qt(),this.relativeTargetOrigin=qt(),sd(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Ar(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=qt(),this.targetWithTransforms=qt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),OQ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ar(this.target,this.layout.layoutBox),wO(this.target,this.targetDelta)):Ar(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qt(),this.relativeTargetOrigin=qt(),sd(this.relativeTargetOrigin,this.target,g.target),Ar(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Vu&&ca.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||C0(this.parent.latestValues)||vO(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===vn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Ar(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;KQ(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=qt());const{target:w}=a;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(K1(this.prevProjectionDelta.x,this.projectionDelta.x),K1(this.prevProjectionDelta.y,this.projectionDelta.y)),rd(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!J1(this.projectionDelta.x,this.prevProjectionDelta.x)||!J1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),Vu&&ca.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ll(),this.projectionDelta=Ll(),this.projectionDeltaWithTransform=Ll()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Ll();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=qt(),g=l?l.source:void 0,w=this.layout?this.layout.source:void 0,v=g!==w,E=this.getStack(),_=!E||E.members.length<=1,y=!!(v&&!_&&this.options.crossfade===!0&&!this.path.some(NY));this.animationProgress=0;let S;this.mixTargetDelta=R=>{const D=R/1e3;nP(d.x,o.x,D),nP(d.y,o.y,D),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(sd(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),AY(this.relativeTarget,this.relativeTargetOrigin,p,D),S&&cY(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=qt()),Ar(S,this.relativeTarget)),v&&(this.animationValues=u,rY(u,c,this.latestValues,D,y,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(wi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dt.update(()=>{Pp.hasAnimatedSinceResize=!0,this.currentAnimation=gY(0,Z1,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Z1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&AO(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||qt();const d=Sr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const p=Sr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Ar(a,l),Vl(a,u),rd(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new uY),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Fv("z",o,c,this.animationValues);for(let u=0;u<Vv.length;u++)Fv(`rotate${Vv[u]}`,o,c,this.animationValues),Fv(`skew${Vv[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return yY;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Rp(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Rp(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!la(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=dY(this.projectionDeltaWithTransform,this.treeScale,p),u&&(c.transform=u(p,c.transform));const{x:g,y:w}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${w.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in Dm){if(p[v]===void 0)continue;const{correct:E,applyTo:_}=Dm[v],y=c.transform==="none"?p[v]:E(p[v],d);if(_){const S=_.length;for(let R=0;R<S;R++)c[_[R]]=y}else c[v]=y}return this.options.layoutId&&(c.pointerEvents=d===this?Rp(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(eP),this.root.sharedNodes.clear()}}}function wY(t){t.updateLayout()}function _Y(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?Nr(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],g=Sr(p);p.min=r[d].min,p.max=p.min+g}):AO(i,n.layoutBox,r)&&Nr(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],g=Sr(r[d]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+g)});const a=Ll();rd(a,r,n.layoutBox);const l=Ll();o?rd(l,t.applyTransform(s,!0),n.measuredBox):rd(l,r,n.layoutBox);const c=!CO(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:g}=d;if(p&&g){const w=qt();sd(w,n.layoutBox,p.layoutBox);const v=qt();sd(v,r,g.layoutBox),PO(w,v)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=w,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function xY(t){Vu&&ca.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function EY(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function TY(t){t.clearSnapshot()}function eP(t){t.clearMeasurements()}function SY(t){t.isLayoutDirty=!1}function bY(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function tP(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function CY(t){t.resolveTargetDelta()}function PY(t){t.calcProjection()}function RY(t){t.resetSkewAndRotation()}function IY(t){t.removeLeadSnapshot()}function nP(t,e,n){t.translate=Ot(e.translate,0,n),t.scale=Ot(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function rP(t,e,n,r){t.min=Ot(e.min,n.min,r),t.max=Ot(e.max,n.max,r)}function AY(t,e,n,r){rP(t.x,e.x,n.x,r),rP(t.y,e.y,n.y,r)}function NY(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const DY={duration:.45,ease:[.4,0,.1,1]},sP=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),iP=sP("applewebkit/")&&!sP("chrome/")?Math.round:Fn;function oP(t){t.min=iP(t.min),t.max=iP(t.max)}function kY(t){oP(t.x),oP(t.y)}function AO(t,e,n){return t==="position"||t==="preserve-aspect"&&!MQ(X1(e),X1(n),.2)}function MY(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const OY=IO({attachResizeListener:(t,e)=>Zs(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Uv={current:void 0},NO=IO({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Uv.current){const t=new OY({});t.mount(window),t.setOptions({layoutScroll:!0}),Uv.current=t}return Uv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),LY={pan:{Feature:YQ},drag:{Feature:QQ,ProjectionNode:NO,MeasureLayout:TO}};function aP(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",s=(i,o)=>{if(i.pointerType==="touch"||pO())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&dt.postRender(()=>l(i,o))};return li(t.current,n,s,{passive:!t.getProps()[r]})}class jY extends Ho{mount(){this.unmount=ai(aP(this.node,!0),aP(this.node,!1))}unmount(){}}class VY extends Ho{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ai(Zs(this.node.current,"focus",()=>this.onFocus()),Zs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const DO=(t,e)=>e?t===e?!0:DO(t,e.parentElement):!1;function Bv(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Qg(n))}class FY extends Ho{constructor(){super(...arguments),this.removeStartListeners=Fn,this.removeEndListeners=Fn,this.removeAccessibleListeners=Fn,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=li(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:d}=this.node.getProps(),p=!d&&!DO(this.node.current,a.target)?u:c;p&&dt.update(()=>p(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=li(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ai(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Bv("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&dt.postRender(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=Zs(this.node.current,"keyup",o),Bv("down",(a,l)=>{this.startPress(a,l)})},n=Zs(this.node.current,"keydown",e),r=()=>{this.isPressing&&Bv("cancel",(i,o)=>this.cancelPress(i,o))},s=Zs(this.node.current,"blur",r);this.removeAccessibleListeners=ai(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&dt.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!pO()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&dt.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=li(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Zs(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ai(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const R0=new WeakMap,$v=new WeakMap,UY=t=>{const e=R0.get(t.target);e&&e(t)},BY=t=>{t.forEach(UY)};function $Y({root:t,...e}){const n=t||document;$v.has(n)||$v.set(n,{});const r=$v.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(BY,{root:t,...e})),r[s]}function zY(t,e,n){const r=$Y(e);return R0.set(t,n),r.observe(t),()=>{R0.delete(t),r.unobserve(t)}}const KY={some:0,all:1};class WY extends Ho{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:KY[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),p=c?u:d;p&&p(l)};return zY(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(HY(e,n))&&this.startObserver()}unmount(){}}function HY({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const GY={inView:{Feature:WY},tap:{Feature:FY},focus:{Feature:VY},hover:{Feature:jY}},qY={layout:{ProjectionNode:NO,MeasureLayout:TO}},CE=m.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Xg=m.createContext({}),PE=typeof window<"u",kO=PE?m.useLayoutEffect:m.useEffect,MO=m.createContext({strict:!1});let lP=!1;function QY(t,e,n,r,s){var i;const{visualElement:o}=m.useContext(Xg),a=m.useContext(MO),l=m.useContext(Yg),c=m.useContext(CE).reducedMotion,u=m.useRef();r=r||a.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,p=m.useContext(EO);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&XY(u.current,n,s,p),m.useInsertionEffect(()=>{d&&d.update(n,l)});const g=n[sO],w=m.useRef(!!g&&!window.MotionHandoffIsComplete&&((i=window.MotionHasOptimisedAnimation)===null||i===void 0?void 0:i.call(window,g)));return kO(()=>{d&&(d.updateFeatures(),bE.render(d.render),w.current&&d.animationState&&d.animationState.animateChanges())}),m.useEffect(()=>{d&&(!w.current&&d.animationState&&d.animationState.animateChanges(),w.current=!1,lP||(lP=!0,queueMicrotask(YY)))}),d}function YY(){window.MotionHandoffIsComplete=!0}function XY(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:OO(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Ol(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function OO(t){if(t)return t.options.allowProjection!==!1?t.projection:OO(t.parent)}function JY(t,e,n){return m.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ol(n)&&(n.current=r))},[e])}function Jg(t){return $d(t.animate)||cE.some(e=>zd(t[e]))}function LO(t){return!!(Jg(t)||t.variants)}function ZY(t,e){if(Jg(t)){const{initial:n,animate:r}=t;return{initial:n===!1||zd(n)?n:void 0,animate:zd(r)?r:void 0}}return t.inherit!==!1?e:{}}function eX(t){const{initial:e,animate:n}=ZY(t,m.useContext(Xg));return m.useMemo(()=>({initial:e,animate:n}),[cP(e),cP(n)])}function cP(t){return Array.isArray(t)?t.join(" "):t}const uP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},bc={};for(const t in uP)bc[t]={isEnabled:e=>uP[t].some(n=>!!e[n])};function tX(t){for(const e in t)bc[e]={...bc[e],...t[e]}}const nX=Symbol.for("motionComponentSymbol");function rX({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&tX(t);function i(a,l){let c;const u={...m.useContext(CE),...a,layoutId:sX(a)},{isStatic:d}=u,p=eX(a),g=r(a,d);if(!d&&PE){iX();const w=oX(u);c=w.MeasureLayout,p.visualElement=QY(s,g,u,e,w.ProjectionNode)}return f.jsxs(Xg.Provider,{value:p,children:[c&&p.visualElement?f.jsx(c,{visualElement:p.visualElement,...u}):null,n(s,a,JY(g,p.visualElement,l),g,d,p.visualElement)]})}const o=m.forwardRef(i);return o[nX]=s,o}function sX({layoutId:t}){const e=m.useContext(SE).id;return e&&t!==void 0?e+"-"+t:t}function iX(t,e){m.useContext(MO).strict}function oX(t){const{drag:e,layout:n}=bc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const aX=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function RE(t){return typeof t!="string"||t.includes("-")?!1:!!(aX.indexOf(t)>-1||/[A-Z]/u.test(t))}function jO(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const VO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function FO(t,e,n,r){jO(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(VO.has(s)?s:qg(s),e.attrs[s])}function UO(t,{layout:e,layoutId:n}){return Wo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Dm[t]||t==="opacity")}function IE(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(Vn(s[o])||e.style&&Vn(e.style[o])||UO(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return n&&s&&typeof s.willChange=="string"&&(n.applyWillChange=!1),i}function BO(t,e,n){const r=IE(t,e,n);for(const s in t)if(Vn(t[s])||Vn(e[s])){const i=Vh.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function AE(t){const e=m.useRef(null);return e.current===null&&(e.current=t()),e.current}function lX({applyWillChange:t=!1,scrapeMotionValuesFromProps:e,createRenderState:n,onMount:r},s,i,o,a){const l={latestValues:uX(s,i,o,a?!1:t,e),renderState:n()};return r&&(l.mount=c=>r(s,c,l)),l}const $O=t=>(e,n)=>{const r=m.useContext(Xg),s=m.useContext(Yg),i=()=>lX(t,e,r,s,n);return n?i():AE(i)};function cX(t,e){const n=oO(e);n&&Hg(t,n)}function dP(t,e,n){const r=Array.isArray(e)?e:[e];for(let s=0;s<r.length;s++){const i=aE(t,r[s]);if(i){const{transitionEnd:o,transition:a,...l}=i;n(l,o)}}}function uX(t,e,n,r,s){var i;const o={},a=[],l=r&&((i=t.style)===null||i===void 0?void 0:i.willChange)===void 0,c=s(t,{});for(const E in c)o[E]=Rp(c[E]);let{initial:u,animate:d}=t;const p=Jg(t),g=LO(t);e&&g&&!p&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let w=n?n.initial===!1:!1;w=w||u===!1;const v=w?d:u;return v&&typeof v!="boolean"&&!$d(v)&&dP(t,v,(E,_)=>{for(const y in E){let S=E[y];if(Array.isArray(S)){const R=w?S.length-1:0;S=S[R]}S!==null&&(o[y]=S)}for(const y in _)o[y]=_[y]}),l&&(d&&u!==!1&&!$d(d)&&dP(t,d,E=>{for(const _ in E)cX(a,_)}),a.length&&(o.willChange=a.join(","))),o}const NE=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),zO=()=>({...NE(),attrs:{}}),KO=(t,e)=>e&&typeof t=="number"?e.transform(t):t,dX={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},hX=Vh.length;function fX(t,e,n){let r="",s=!0;for(let i=0;i<hX;i++){const o=Vh[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=KO(a,mE[o]);if(!l){s=!1;const u=dX[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function DE(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Wo.has(l)){o=!0;continue}else if(PM(l)){s[l]=c;continue}else{const u=KO(c,mE[l]);l.startsWith("origin")?(a=!0,i[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=fX(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;r.transformOrigin=`${l} ${c} ${u}`}}function hP(t,e,n){return typeof t=="string"?t:Ce.transform(e+n*t)}function pX(t,e,n){const r=hP(e,t.x,t.width),s=hP(n,t.y,t.height);return`${r} ${s}`}const mX={offset:"stroke-dashoffset",array:"stroke-dasharray"},gX={offset:"strokeDashoffset",array:"strokeDasharray"};function yX(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?mX:gX;t[i.offset]=Ce.transform(-r);const o=Ce.transform(e),a=Ce.transform(n);t[i.array]=`${o} ${a}`}function kE(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,d){if(DE(t,c,d),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g,dimensions:w}=t;p.transform&&(w&&(g.transform=p.transform),delete p.transform),w&&(s!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=pX(w,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&yX(p,o,a,l,!1)}const ME=t=>typeof t=="string"&&t.toLowerCase()==="svg",vX={useVisualState:$O({scrapeMotionValuesFromProps:BO,createRenderState:zO,onMount:(t,e,{renderState:n,latestValues:r})=>{dt.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),dt.render(()=>{kE(n,r,ME(e.tagName),t.transformTemplate),FO(e,n)})}})},wX={useVisualState:$O({applyWillChange:!0,scrapeMotionValuesFromProps:IE,createRenderState:NE})};function WO(t,e,n){for(const r in e)!Vn(e[r])&&!UO(r,n)&&(t[r]=e[r])}function _X({transformTemplate:t},e){return m.useMemo(()=>{const n=NE();return DE(n,e,t),Object.assign({},n.vars,n.style)},[e])}function xX(t,e){const n=t.style||{},r={};return WO(r,n,t),Object.assign(r,_X(t,e)),r}function EX(t,e){const n={},r=xX(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const TX=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function km(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||TX.has(t)}let HO=t=>!km(t);function SX(t){t&&(HO=e=>e.startsWith("on")?!km(e):t(e))}try{SX(require("@emotion/is-prop-valid").default)}catch{}function bX(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(HO(s)||n===!0&&km(s)||!e&&!km(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function CX(t,e,n,r){const s=m.useMemo(()=>{const i=zO();return kE(i,e,ME(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};WO(i,t.style,t),s.style={...i,...s.style}}return s}function PX(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(RE(n)?CX:EX)(r,i,o,n),c=bX(r,typeof n=="string",t),u=n!==m.Fragment?{...c,...l,ref:s}:{},{children:d}=r,p=m.useMemo(()=>Vn(d)?d.get():d,[d]);return m.createElement(n,{...u,children:p})}}function RX(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...RE(r)?vX:wX,preloadedFeatures:t,useRender:PX(s),createVisualElement:e,Component:r};return rX(o)}}const I0={current:null},GO={current:!1};function IX(){if(GO.current=!0,!!PE)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>I0.current=t.matches;t.addListener(e),e()}else I0.current=!1}function AX(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Vn(s))t.addValue(r,s);else if(Vn(i))t.addValue(r,Hd(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Hd(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const fP=new WeakMap,NX=[...AM,Mn,Mo],DX=t=>NX.find(IM(t)),pP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class kX{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=fE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Ns.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,dt.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Jg(n),this.isVariantNode=LO(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in d){const g=d[p];l[p]!==void 0&&Vn(g)&&g.set(l[p],!1)}}mount(e){this.current=e,fP.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),GO.current||IX(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:I0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){fP.delete(this.current),this.projection&&this.projection.unmount(),wi(this.notifyUpdate),wi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Wo.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&dt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in bc){const n=bc[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):qt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<pP.length;r++){const s=pP[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=AX(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Hd(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(bM(s)||SM(s))?s=parseFloat(s):!DX(s)&&Mo.test(n)&&(s=VM(e,n)),this.setBaseTarget(e,Vn(s)?s.get():s)),Vn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=aE(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Vn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new TE),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class qO extends kX{constructor(){super(...arguments),this.KeyframeResolver=FM}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function MX(t){return window.getComputedStyle(t)}class OX extends qO{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=jO}readValueFromInstance(e,n){if(Wo.has(n)){const r=gE(n);return r&&r.default||0}else{const r=MX(e),s=(PM(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return _O(e,n)}build(e,n,r){DE(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return IE(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Vn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class LX extends qO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=qt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Wo.has(n)){const r=gE(n);return r&&r.default||0}return n=VO.has(n)?n:qg(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return BO(e,n,r)}build(e,n,r){kE(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){FO(e,n,r,s)}mount(e){this.isSVGTag=ME(e.tagName),super.mount(e)}}const jX=(t,e)=>RE(t)?new LX(e):new OX(e,{allowProjection:t!==m.Fragment}),VX=RX({...bQ,...GY,...LY,...qY},jX),FX=wG(VX);class UX extends m.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function BX({children:t,isPresent:e}){const n=m.useId(),r=m.useRef(null),s=m.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=m.useContext(CE);return m.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=s.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return i&&(u.nonce=i),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),f.jsx(UX,{isPresent:e,childRef:r,sizeRef:s,children:m.cloneElement(t,{ref:r})})}const $X=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=AE(zX),l=m.useId(),c=m.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:u=>{a.set(u,!0);for(const d of a.values())if(!d)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),i?[Math.random()]:[n]);return m.useMemo(()=>{a.forEach((u,d)=>a.set(d,!1))},[n]),m.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=f.jsx(BX,{isPresent:n,children:t})),f.jsx(Yg.Provider,{value:c,children:t})};function zX(){return new Map}const qf=t=>t.key||"";function mP(t){const e=[];return m.Children.forEach(t,n=>{m.isValidElement(n)&&e.push(n)}),e}const KX=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=m.useMemo(()=>mP(t),[t]),l=a.map(qf),c=m.useRef(!0),u=m.useRef(a),d=AE(()=>new Map),[p,g]=m.useState(a),[w,v]=m.useState(a);kO(()=>{c.current=!1,u.current=a;for(let y=0;y<w.length;y++){const S=qf(w[y]);l.includes(S)?d.delete(S):d.get(S)!==!0&&d.set(S,!1)}},[w,l.length,l.join("-")]);const E=[];if(a!==p){let y=[...a];for(let S=0;S<w.length;S++){const R=w[S],D=qf(R);l.includes(D)||(y.splice(S,0,R),E.push(R))}o==="wait"&&E.length&&(y=E),v(mP(y)),g(a);return}const{forceRender:_}=m.useContext(SE);return f.jsx(f.Fragment,{children:w.map(y=>{const S=qf(y),R=a===w||l.includes(S),D=()=>{if(d.has(S))d.set(S,!0);else return;let O=!0;d.forEach(C=>{C||(O=!1)}),O&&(_==null||_(),v(u.current),s&&s())};return f.jsx($X,{isPresent:R,initial:!c.current||r?void 0:!1,custom:R?void 0:n,presenceAffectsLayout:i,mode:o,onExitComplete:R?void 0:D,children:y},S)})})},WX=({messageHistory:t,endOfMessagesRef:e,handleMessageClick:n})=>f.jsxs("div",{className:"flex-1 py-4 overflow-y-auto",children:[f.jsx(KX,{children:f.jsx(zg,{items:t,renderItem:r=>f.jsx(FX.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`mb-4 ${r.sender==="user"?"text-right":"text-left"}`,children:f.jsx(vG,{message:r,onItemClick:n})},r.uuid),listStyle:"px-4 flex flex-col space-y-4"})}),f.jsx("div",{ref:e})]}),HX=()=>{const{messageHistory:t,handleSubmitMessage:e,endOfMessagesRef:n,selectedResponse:r,setSelectedResponse:s,isInfoPanelOpen:i,setIsInfoPanelOpen:o}=iG();return f.jsxs("div",{className:"flex flex-col w-full max-w-4xl h-[44rem] border border-neutral-200 bg-white rounded-md",children:[f.jsxs("header",{className:"w-full h-[4rem] text-xl font-medium flex items-center justify-between px-4 border-b border-customBorderColor",children:["Admin Chat Interface",f.jsx("button",{onClick:()=>o(a=>!a),children:f.jsx("div",{className:"border border-customBorderColor text-zinc-500 p-1.5 rounded-sm hover:bg-zinc-50",children:f.jsx(wK,{})})})]}),f.jsxs("div",{className:"flex-1 flex overflow-y-auto",children:[f.jsxs("section",{className:"flex-1 flex flex-col",children:[f.jsx(WX,{messageHistory:t,endOfMessagesRef:n,handleMessageClick:s}),f.jsx(pG,{onSendMessage:e})]}),f.jsx(fG,{showPanel:i,responseData:r})]})]})},GX=()=>f.jsxs("div",{className:"flex items-center flex-col w-[84rem] px-20 space-y-6 pb-8",children:[f.jsx(nG,{headerText:"Chatbot"}),f.jsx(HX,{})]}),qX=()=>f.jsx("header",{className:"py-4 text-3xl font-semibold w-full",children:"Knowledge"});function QX(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var OE=t=>{const{present:e,children:n}=t,r=YX(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=ke(r.ref,XX(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};OE.displayName="Presence";function YX(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=QX(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Qf(r.current);i.current=a==="mounted"?c:"none"},[a]),It(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=Qf(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),It(()=>{if(e){const c=d=>{const g=Qf(r.current).includes(d.animationName);d.target===e&&g&&Si.flushSync(()=>l("ANIMATION_END"))},u=d=>{d.target===e&&(i.current=Qf(r.current))};return e.addEventListener("animationstart",u),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",u),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Qf(t){return(t==null?void 0:t.animationName)||"none"}function XX(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var LE="Tabs",[JX,xle]=Bc(LE,[Mg]),QO=Mg(),[ZX,jE]=JX(LE),YO=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=Rg(a),[d,p]=Po({prop:r,onChange:s,defaultProp:i});return f.jsx(ZX,{scope:n,baseId:os(),value:d,onValueChange:p,orientation:o,dir:u,activationMode:l,children:f.jsx(xe.div,{dir:u,"data-orientation":o,...c,ref:e})})});YO.displayName=LE;var XO="TabsList",JO=m.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=jE(XO,n),o=QO(n);return f.jsx(sk,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:f.jsx(xe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});JO.displayName=XO;var ZO="TabsTrigger",eL=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=jE(ZO,n),a=QO(n),l=nL(o.baseId,r),c=rL(o.baseId,r),u=r===o.value;return f.jsx(ik,{asChild:!0,...a,focusable:!s,active:u,children:f.jsx(xe.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:ee(t.onMouseDown,d=>{!s&&d.button===0&&d.ctrlKey===!1?o.onValueChange(r):d.preventDefault()}),onKeyDown:ee(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(r)}),onFocus:ee(t.onFocus,()=>{const d=o.activationMode!=="manual";!u&&!s&&d&&o.onValueChange(r)})})})});eL.displayName=ZO;var tL="TabsContent",Zg=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=jE(tL,n),l=nL(a.baseId,r),c=rL(a.baseId,r),u=r===a.value,d=m.useRef(u);return m.useEffect(()=>{const p=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(p)},[]),f.jsx(OE,{present:s||u,children:({present:p})=>f.jsx(xe.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:p&&i})})});Zg.displayName=tL;function nL(t,e){return`${t}-trigger-${e}`}function rL(t,e){return`${t}-content-${e}`}var eJ=YO,sL=JO,iL=eL,oL=Zg;const tJ=eJ,aL=m.forwardRef(({className:t,...e},n)=>f.jsx(sL,{ref:n,className:de("inline-flex min-h-10 items-center justify-center rounded-tl-md rounded-tr-md bg-muted px-4 py-3 text-muted-foreground",t),...e}));aL.displayName=sL.displayName;const lL=m.forwardRef(({className:t,...e},n)=>f.jsx(iL,{ref:n,className:de("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-2 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));lL.displayName=iL.displayName;const cL=m.forwardRef(({className:t,...e},n)=>f.jsx(oL,{ref:n,className:de("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));cL.displayName=oL.displayName;const nJ=[{tabValue:"knowledgeBase",tabName:"Knowledge Base"},{tabValue:"knowledgeEntry",tabName:"Knowledge Entry"},{tabValue:"entryDetails",tabName:"Entry Details"}],rJ={knowledgeBase:hK,knowledgeEntry:iK,entryDetails:CD},sJ=({tabs:t})=>f.jsx(aL,{className:"grid w-full grid-cols-3 bg-heading",children:t.map(({tabName:e,tabValue:n})=>{const r=rJ[n];return f.jsxs(lL,{value:n,className:"data-[state=active]:bg-primary data-[state=active]:text-white",children:[f.jsx(r,{className:"size-5 mr-2"}),f.jsx("p",{className:"hidden md:block",children:e})]},e)})});var iJ="DismissableLayer",A0="dismissableLayer.update",oJ="dismissableLayer.pointerDownOutside",aJ="dismissableLayer.focusOutside",gP,uL=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),dL=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(uL),[u,d]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=ke(e,C=>d(C)),v=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(E),y=u?v.indexOf(u):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,R=y>=_,D=uJ(C=>{const T=C.target,P=[...c.branches].some(I=>I.contains(T));!R||P||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),O=dJ(C=>{const T=C.target;[...c.branches].some(I=>I.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return Ah(C=>{y===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(gP=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),yP(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=gP)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),yP())},[u,c]),m.useEffect(()=>{const C=()=>g({});return document.addEventListener(A0,C),()=>document.removeEventListener(A0,C)},[]),f.jsx(xe.div,{...l,ref:w,style:{pointerEvents:S?R?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,D.onPointerDownCapture)})});dL.displayName=iJ;var lJ="DismissableLayerBranch",cJ=m.forwardRef((t,e)=>{const n=m.useContext(uL),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(xe.div,{...t,ref:s})});cJ.displayName=lJ;function uJ(t,e=globalThis==null?void 0:globalThis.document){const n=Nt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){hL(oJ,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function dJ(t,e=globalThis==null?void 0:globalThis.document){const n=Nt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&hL(aJ,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function yP(){const t=new CustomEvent(A0);document.dispatchEvent(t)}function hL(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Ya(s,i):s.dispatchEvent(i)}var hJ="VisuallyHidden",$h=m.forwardRef((t,e)=>f.jsx(xe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));$h.displayName=hJ;var fJ=$h,[ey,Ele]=Bc("Tooltip",[Kc]),ty=Kc(),fL="TooltipProvider",pJ=700,N0="tooltip.open",[mJ,VE]=ey(fL),pL=t=>{const{__scopeTooltip:e,delayDuration:n=pJ,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=m.useState(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),f.jsx(mJ,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};pL.displayName=fL;var ny="Tooltip",[gJ,ry]=ey(ny),mL=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,l=VE(ny,t.__scopeTooltip),c=ty(e),[u,d]=m.useState(null),p=os(),g=m.useRef(0),w=o??l.disableHoverableContent,v=a??l.delayDuration,E=m.useRef(!1),[_=!1,y]=Po({prop:r,defaultProp:s,onChange:C=>{C?(l.onOpen(),document.dispatchEvent(new CustomEvent(N0))):l.onClose(),i==null||i(C)}}),S=m.useMemo(()=>_?E.current?"delayed-open":"instant-open":"closed",[_]),R=m.useCallback(()=>{window.clearTimeout(g.current),E.current=!1,y(!0)},[y]),D=m.useCallback(()=>{window.clearTimeout(g.current),y(!1)},[y]),O=m.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{E.current=!0,y(!0)},v)},[v,y]);return m.useEffect(()=>()=>window.clearTimeout(g.current),[]),f.jsx(Bx,{...c,children:f.jsx(gJ,{scope:e,contentId:p,open:_,stateAttribute:S,trigger:u,onTriggerChange:d,onTriggerEnter:m.useCallback(()=>{l.isOpenDelayed?O():R()},[l.isOpenDelayed,O,R]),onTriggerLeave:m.useCallback(()=>{w?D():window.clearTimeout(g.current)},[D,w]),onOpen:R,onClose:D,disableHoverableContent:w,children:n})})};mL.displayName=ny;var D0="TooltipTrigger",gL=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=ry(D0,n),i=VE(D0,n),o=ty(n),a=m.useRef(null),l=ke(e,a,s.onTriggerChange),c=m.useRef(!1),u=m.useRef(!1),d=m.useCallback(()=>c.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),f.jsx($x,{asChild:!0,...o,children:f.jsx(xe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ee(t.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:ee(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:ee(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:ee(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:ee(t.onBlur,s.onClose),onClick:ee(t.onClick,s.onClose)})})});gL.displayName=D0;var yJ="TooltipPortal",[Tle,vJ]=ey(yJ,{forceMount:void 0}),Cc="TooltipContent",yL=m.forwardRef((t,e)=>{const n=vJ(Cc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=ry(Cc,t.__scopeTooltip);return f.jsx(OE,{present:r||o.open,children:o.disableHoverableContent?f.jsx(vL,{side:s,...i,ref:e}):f.jsx(wJ,{side:s,...i,ref:e})})}),wJ=m.forwardRef((t,e)=>{const n=ry(Cc,t.__scopeTooltip),r=VE(Cc,t.__scopeTooltip),s=m.useRef(null),i=ke(e,s),[o,a]=m.useState(null),{trigger:l,onClose:c}=n,u=s.current,{onPointerInTransitChange:d}=r,p=m.useCallback(()=>{a(null),d(!1)},[d]),g=m.useCallback((w,v)=>{const E=w.currentTarget,_={x:w.clientX,y:w.clientY},y=TJ(_,E.getBoundingClientRect()),S=SJ(_,y),R=bJ(v.getBoundingClientRect()),D=PJ([...S,...R]);a(D),d(!0)},[d]);return m.useEffect(()=>()=>p(),[p]),m.useEffect(()=>{if(l&&u){const w=E=>g(E,u),v=E=>g(E,l);return l.addEventListener("pointerleave",w),u.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",w),u.removeEventListener("pointerleave",v)}}},[l,u,g,p]),m.useEffect(()=>{if(o){const w=v=>{const E=v.target,_={x:v.clientX,y:v.clientY},y=(l==null?void 0:l.contains(E))||(u==null?void 0:u.contains(E)),S=!CJ(_,o);y?p():S&&(p(),c())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,u,o,c,p]),f.jsx(vL,{...t,ref:i})}),[_J,xJ]=ey(ny,{isInside:!1}),vL=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=ry(Cc,n),c=ty(n),{onClose:u}=l;return m.useEffect(()=>(document.addEventListener(N0,u),()=>document.removeEventListener(N0,u)),[u]),m.useEffect(()=>{if(l.trigger){const d=p=>{const g=p.target;g!=null&&g.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),f.jsx(dL,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:f.jsxs(zx,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(Nx,{children:r}),f.jsx(_J,{scope:n,isInside:!0,children:f.jsx(fJ,{id:l.contentId,role:"tooltip",children:s||r})})]})})});yL.displayName=Cc;var wL="TooltipArrow",EJ=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=ty(n);return xJ(wL,n).isInside?null:f.jsx(Kx,{...s,...r,ref:e})});EJ.displayName=wL;function TJ(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function SJ(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function bJ(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function CJ(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(s=!s)}return s}function PJ(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),RJ(e)}function RJ(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var IJ=pL,AJ=mL,NJ=gL,_L=yL;const DJ=IJ,kJ=AJ,MJ=NJ,xL=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>f.jsx(_L,{ref:r,sideOffset:e,className:de("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));xL.displayName=_L.displayName;const sy=({tooltip:t,children:e})=>f.jsx(DJ,{children:f.jsxs(kJ,{children:[f.jsx(MJ,{asChild:!0,children:e}),f.jsx(xL,{className:"max-w-xs",children:f.jsx("p",{className:"text-zinc-500",children:t})})]})}),OJ={entry:"ENTRY",base:"BASE"},LJ="A unique action or purpose the user wants to achieve",jJ="Example phrases the bot associates with the intent during training",VJ="The bot's response to the query",FJ=8,UJ=5,ut=Bo((t,e)=>({formData:{knowledgeBaseName:"",intent:"",documents:[""],answer:"",fileUrl:"",file:null},formDataErrors:{},setFormData:(n,r)=>{t(s=>({formData:{...s.formData,[n]:r}}))},setFile:n=>{t(r=>({formData:{...r.formData,file:n}}))},setFormDataErrors:n=>{t({formDataErrors:n})},setDocuments:(n,r)=>{const s=e().formData.documents;s[r]=n,t(i=>({formData:{...i.formData,documents:s}}))},addDocument:()=>{e().formData.documents.length>=FJ||t(n=>({formData:{...n.formData,documents:[...n.formData.documents,""]}}))},removeDocument:n=>{const r=e().formData.documents;if(r.length===1)throw new Error("Documents cannot be empty");r.splice(n,1),t(s=>({formData:{...s.formData,documents:r}}))},clearFormData:()=>{t(()=>({formData:{knowledgeBaseName:"",intent:"",documents:[""],answer:"",fileUrl:"",file:null},formDataErrors:{knowledgeBaseName:"",intent:"",documents:"",answer:""}}))}})),BJ=()=>{const{intent:t}=ut(r=>r.formData),e=ut(r=>r.setFormData),n=Rt(r=>r.admin);return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-fit",children:f.jsx(sy,{tooltip:LJ,children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("label",{htmlFor:"intent",className:"cursor-pointer font-medium ",children:"Intent"}),f.jsx(Sg,{className:"size-4 text-[#64748b] cursor-pointer"})]})})}),f.jsx(sn,{id:"intent",placeholder:"Enter intent",value:t,className:"mt-1",readOnly:(n==null?void 0:n.role)==="viewer",onChange:r=>e("intent",r.target.value)})]})},iy=m.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:de("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));iy.displayName="Card";const EL=m.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:de("flex flex-col space-y-1.5 p-6",t),...e}));EL.displayName="CardHeader";const TL=m.forwardRef(({className:t,...e},n)=>f.jsx("h3",{ref:n,className:de("text-2xl font-semibold leading-none tracking-tight",t),...e}));TL.displayName="CardTitle";const SL=m.forwardRef(({className:t,...e},n)=>f.jsx("p",{ref:n,className:de("text-sm text-muted-foreground",t),...e}));SL.displayName="CardDescription";const oy=m.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:de("p-6 pt-0",t),...e}));oy.displayName="CardContent";const bL=m.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:de("flex items-center p-6 pt-0",t),...e}));bL.displayName="CardFooter";const $J=()=>{var o;const t=ut(a=>a.formData),e=ut(a=>a.setDocuments),n=ut(a=>a.addDocument),r=ut(a=>a.removeDocument),s=Rt(a=>a.admin),i=async a=>{try{if(!t.intent)return;if(t.documents.length===1)return window.alert("Documents cannot be empty");r(a)}catch(l){console.error(l)}};return f.jsxs("div",{children:[f.jsx("div",{className:"w-fit",children:f.jsx(sy,{tooltip:jJ,children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("label",{className:"cursor-pointer font-medium ",children:"Document"}),f.jsx(Sg,{className:"size-4 text-[#64748b] cursor-pointer"})]})})}),f.jsx("div",{className:"space-y-2 mt-1",children:(o=t.documents)==null?void 0:o.map((a,l)=>f.jsx(iy,{className:"w-full hover:bg-lightGray transition-colors",children:f.jsxs(oy,{className:"p-4 w-full flex items-center justify-between-",children:[f.jsx("div",{className:"flex w-full items-center space-x-4",children:f.jsx("input",{value:a,id:"document",className:"text-sm bg-transparent outline-none w-full py-2",placeholder:"Enter document",readOnly:(s==null?void 0:s.role)==="viewer",onChange:c=>e(c.target.value,l)})}),f.jsx("div",{className:"flex space-x-2",children:(s==null?void 0:s.role)!=="viewer"&&f.jsxs(ct,{variant:"ghost",size:"icon",className:"hover:bg-transparent",onClick:async()=>{await i(l)},children:[f.jsx(Ax,{className:"size-5 font-bold hover:text-red-600 ease-in",strokeWidth:2}),f.jsx("span",{className:"sr-only",children:"Delete"})]})})]})},l))}),(s==null?void 0:s.role)!=="viewer"&&f.jsxs(ct,{variant:"outline",size:"sm",className:"mt-2",onClick:n,disabled:!t.intent,children:[f.jsx(Ih,{className:"w-4 h-4 mr-2"})," Add Document"]})]})},CL=m.forwardRef(({className:t,...e},n)=>f.jsx("textarea",{className:de("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));CL.displayName="Textarea";const zJ=".png,.jpg,.mp4,.pdf",KJ=({fileRef:t,changeFile:e})=>f.jsxs("div",{children:[f.jsx(sn,{id:"file-upload",type:"file",className:"hidden",ref:t,accept:zJ,onChange:e}),f.jsx(ct,{variant:"ghost",size:"icon",className:"size-8 rounded-full hover:bg-neutral-100 p-1.5",onClick:()=>{var n;return(n=t.current)==null?void 0:n.click()},children:f.jsx(PD,{className:"size-4"})})]});var WJ="Label",PL=m.forwardRef((t,e)=>f.jsx(xe.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));PL.displayName=WJ;var RL=PL;const HJ=Lh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Jn=m.forwardRef(({className:t,...e},n)=>f.jsx(RL,{ref:n,className:de(HJ(),t),...e}));Jn.displayName=RL.displayName;const GJ=({isLinkDropdownOpen:t,setIsLinkDropdownOpen:e,onInsertLink:n})=>{const[r,s]=m.useState(""),[i,o]=m.useState(""),a=()=>{e(!1),n(r,i),s(""),o("")};return f.jsxs(Fg,{open:t,onOpenChange:e,children:[f.jsx(Ug,{asChild:!0,children:f.jsx(ct,{variant:"ghost",size:"icon",className:"size-8 rounded-full hover:bg-neutral-100 p-1.5",onClick:()=>e(!0),children:f.jsx(mK,{className:"size-4"})})}),f.jsx(Oh,{side:"top",className:"w-56",children:f.jsxs("div",{className:"flex flex-col p-4 space-y-4",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsx(Jn,{htmlFor:"link-url",className:"mb-1",children:"URL"}),f.jsx(sn,{id:"link-url",value:r,onChange:l=>s(l.target.value),className:"col-span-3",placeholder:"Enter link URL"})]}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx(Jn,{htmlFor:"link-text",className:"mb-1",children:"Text"}),f.jsx(sn,{id:"link-text",value:i,onChange:l=>o(l.target.value),className:"col-span-3",placeholder:"Enter link Text"})]}),f.jsx(ct,{onClick:a,children:"Insert Link"})]})})]})},IL=({answer:t,handleTextChange:e,onFileChange:n,fileRef:r,textAreaRef:s,isError:i,isLinkDropDownVisible:o,setIsLinkDropDownVisible:a,onInsertLink:l})=>{const c=Rt(d=>d.admin),u=d=>{const p=d.target;p.style.height="auto",p.style.height=`${p.scrollHeight}px`,e("answer",p.value)};return m.useEffect(()=>{s.current&&(s.current.style.height="auto",s.current.style.height=`${s.current.scrollHeight}px`)},[s,t]),f.jsxs("div",{className:"relative mb-4 ",children:[f.jsx(CL,{spellCheck:!1,name:"answer",ref:s,placeholder:"Enter the answer",className:de("min-h-[100px] pb-12 overflow-hidden resize-none outline-none focus:outline-none",i&&"border-destructive"),readOnly:(c==null?void 0:c.role)==="viewer",value:t,onChange:u}),(c==null?void 0:c.role)!=="viewer"&&f.jsxs("div",{className:"absolute bottom-2 left-2 flex space-x-2",children:[f.jsx(GJ,{isLinkDropdownOpen:o,setIsLinkDropdownOpen:a,onInsertLink:l}),f.jsx(KJ,{fileRef:r,changeFile:n})]})]})},AL=({file:t,removeFile:e})=>{const n=Rt(r=>r.admin);return f.jsx("div",{className:"mt-4 p-4 border rounded-md bg-muted",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-2 py-2 overflow-hidden",children:[f.jsx(PD,{className:"h-4 w-4 text-muted-foreground"}),f.jsx("div",{className:"font-medium truncate max-w-[250px]",children:t.name}),f.jsxs("div",{className:"text-sm text-center text-muted-foreground w-20",children:["(",X7(t.size),")"]})]}),(n==null?void 0:n.role)!=="viewer"&&f.jsx(ct,{variant:"ghost",size:"icon",onClick:e,className:"h-8 w-8 min-w-8",children:f.jsx(bg,{className:"h-4 w-4"})})]})})};function et({className:t,...e}){return f.jsx("div",{className:de("animate-pulse rounded-md bg-muted",t),...e})}var qJ="firebase",QJ="10.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ps(qJ,QJ,"app");var vP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ia,NL;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,T){function P(){}P.prototype=T.prototype,C.D=T.prototype,C.prototype=new P,C.prototype.constructor=C,C.C=function(I,M,k){for(var N=Array(arguments.length-2),H=2;H<arguments.length;H++)N[H-2]=arguments[H];return T.prototype[M].apply(I,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,T,P){P||(P=0);var I=Array(16);if(typeof T=="string")for(var M=0;16>M;++M)I[M]=T.charCodeAt(P++)|T.charCodeAt(P++)<<8|T.charCodeAt(P++)<<16|T.charCodeAt(P++)<<24;else for(M=0;16>M;++M)I[M]=T[P++]|T[P++]<<8|T[P++]<<16|T[P++]<<24;T=C.g[0],P=C.g[1],M=C.g[2];var k=C.g[3],N=T+(k^P&(M^k))+I[0]+3614090360&4294967295;T=P+(N<<7&4294967295|N>>>25),N=k+(M^T&(P^M))+I[1]+3905402710&4294967295,k=T+(N<<12&4294967295|N>>>20),N=M+(P^k&(T^P))+I[2]+606105819&4294967295,M=k+(N<<17&4294967295|N>>>15),N=P+(T^M&(k^T))+I[3]+3250441966&4294967295,P=M+(N<<22&4294967295|N>>>10),N=T+(k^P&(M^k))+I[4]+4118548399&4294967295,T=P+(N<<7&4294967295|N>>>25),N=k+(M^T&(P^M))+I[5]+1200080426&4294967295,k=T+(N<<12&4294967295|N>>>20),N=M+(P^k&(T^P))+I[6]+2821735955&4294967295,M=k+(N<<17&4294967295|N>>>15),N=P+(T^M&(k^T))+I[7]+4249261313&4294967295,P=M+(N<<22&4294967295|N>>>10),N=T+(k^P&(M^k))+I[8]+1770035416&4294967295,T=P+(N<<7&4294967295|N>>>25),N=k+(M^T&(P^M))+I[9]+2336552879&4294967295,k=T+(N<<12&4294967295|N>>>20),N=M+(P^k&(T^P))+I[10]+4294925233&4294967295,M=k+(N<<17&4294967295|N>>>15),N=P+(T^M&(k^T))+I[11]+2304563134&4294967295,P=M+(N<<22&4294967295|N>>>10),N=T+(k^P&(M^k))+I[12]+1804603682&4294967295,T=P+(N<<7&4294967295|N>>>25),N=k+(M^T&(P^M))+I[13]+4254626195&4294967295,k=T+(N<<12&4294967295|N>>>20),N=M+(P^k&(T^P))+I[14]+2792965006&4294967295,M=k+(N<<17&4294967295|N>>>15),N=P+(T^M&(k^T))+I[15]+1236535329&4294967295,P=M+(N<<22&4294967295|N>>>10),N=T+(M^k&(P^M))+I[1]+4129170786&4294967295,T=P+(N<<5&4294967295|N>>>27),N=k+(P^M&(T^P))+I[6]+3225465664&4294967295,k=T+(N<<9&4294967295|N>>>23),N=M+(T^P&(k^T))+I[11]+643717713&4294967295,M=k+(N<<14&4294967295|N>>>18),N=P+(k^T&(M^k))+I[0]+3921069994&4294967295,P=M+(N<<20&4294967295|N>>>12),N=T+(M^k&(P^M))+I[5]+3593408605&4294967295,T=P+(N<<5&4294967295|N>>>27),N=k+(P^M&(T^P))+I[10]+38016083&4294967295,k=T+(N<<9&4294967295|N>>>23),N=M+(T^P&(k^T))+I[15]+3634488961&4294967295,M=k+(N<<14&4294967295|N>>>18),N=P+(k^T&(M^k))+I[4]+3889429448&4294967295,P=M+(N<<20&4294967295|N>>>12),N=T+(M^k&(P^M))+I[9]+568446438&4294967295,T=P+(N<<5&4294967295|N>>>27),N=k+(P^M&(T^P))+I[14]+3275163606&4294967295,k=T+(N<<9&4294967295|N>>>23),N=M+(T^P&(k^T))+I[3]+4107603335&4294967295,M=k+(N<<14&4294967295|N>>>18),N=P+(k^T&(M^k))+I[8]+1163531501&4294967295,P=M+(N<<20&4294967295|N>>>12),N=T+(M^k&(P^M))+I[13]+2850285829&4294967295,T=P+(N<<5&4294967295|N>>>27),N=k+(P^M&(T^P))+I[2]+4243563512&4294967295,k=T+(N<<9&4294967295|N>>>23),N=M+(T^P&(k^T))+I[7]+1735328473&4294967295,M=k+(N<<14&4294967295|N>>>18),N=P+(k^T&(M^k))+I[12]+2368359562&4294967295,P=M+(N<<20&4294967295|N>>>12),N=T+(P^M^k)+I[5]+4294588738&4294967295,T=P+(N<<4&4294967295|N>>>28),N=k+(T^P^M)+I[8]+2272392833&4294967295,k=T+(N<<11&4294967295|N>>>21),N=M+(k^T^P)+I[11]+1839030562&4294967295,M=k+(N<<16&4294967295|N>>>16),N=P+(M^k^T)+I[14]+4259657740&4294967295,P=M+(N<<23&4294967295|N>>>9),N=T+(P^M^k)+I[1]+2763975236&4294967295,T=P+(N<<4&4294967295|N>>>28),N=k+(T^P^M)+I[4]+1272893353&4294967295,k=T+(N<<11&4294967295|N>>>21),N=M+(k^T^P)+I[7]+4139469664&4294967295,M=k+(N<<16&4294967295|N>>>16),N=P+(M^k^T)+I[10]+3200236656&4294967295,P=M+(N<<23&4294967295|N>>>9),N=T+(P^M^k)+I[13]+681279174&4294967295,T=P+(N<<4&4294967295|N>>>28),N=k+(T^P^M)+I[0]+3936430074&4294967295,k=T+(N<<11&4294967295|N>>>21),N=M+(k^T^P)+I[3]+3572445317&4294967295,M=k+(N<<16&4294967295|N>>>16),N=P+(M^k^T)+I[6]+76029189&4294967295,P=M+(N<<23&4294967295|N>>>9),N=T+(P^M^k)+I[9]+3654602809&4294967295,T=P+(N<<4&4294967295|N>>>28),N=k+(T^P^M)+I[12]+3873151461&4294967295,k=T+(N<<11&4294967295|N>>>21),N=M+(k^T^P)+I[15]+530742520&4294967295,M=k+(N<<16&4294967295|N>>>16),N=P+(M^k^T)+I[2]+3299628645&4294967295,P=M+(N<<23&4294967295|N>>>9),N=T+(M^(P|~k))+I[0]+4096336452&4294967295,T=P+(N<<6&4294967295|N>>>26),N=k+(P^(T|~M))+I[7]+1126891415&4294967295,k=T+(N<<10&4294967295|N>>>22),N=M+(T^(k|~P))+I[14]+2878612391&4294967295,M=k+(N<<15&4294967295|N>>>17),N=P+(k^(M|~T))+I[5]+4237533241&4294967295,P=M+(N<<21&4294967295|N>>>11),N=T+(M^(P|~k))+I[12]+1700485571&4294967295,T=P+(N<<6&4294967295|N>>>26),N=k+(P^(T|~M))+I[3]+2399980690&4294967295,k=T+(N<<10&4294967295|N>>>22),N=M+(T^(k|~P))+I[10]+4293915773&4294967295,M=k+(N<<15&4294967295|N>>>17),N=P+(k^(M|~T))+I[1]+2240044497&4294967295,P=M+(N<<21&4294967295|N>>>11),N=T+(M^(P|~k))+I[8]+1873313359&4294967295,T=P+(N<<6&4294967295|N>>>26),N=k+(P^(T|~M))+I[15]+4264355552&4294967295,k=T+(N<<10&4294967295|N>>>22),N=M+(T^(k|~P))+I[6]+2734768916&4294967295,M=k+(N<<15&4294967295|N>>>17),N=P+(k^(M|~T))+I[13]+1309151649&4294967295,P=M+(N<<21&4294967295|N>>>11),N=T+(M^(P|~k))+I[4]+4149444226&4294967295,T=P+(N<<6&4294967295|N>>>26),N=k+(P^(T|~M))+I[11]+3174756917&4294967295,k=T+(N<<10&4294967295|N>>>22),N=M+(T^(k|~P))+I[2]+718787259&4294967295,M=k+(N<<15&4294967295|N>>>17),N=P+(k^(M|~T))+I[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+k&4294967295}r.prototype.u=function(C,T){T===void 0&&(T=C.length);for(var P=T-this.blockSize,I=this.B,M=this.h,k=0;k<T;){if(M==0)for(;k<=P;)s(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<T;)if(I[M++]=C.charCodeAt(k++),M==this.blockSize){s(this,I),M=0;break}}else for(;k<T;)if(I[M++]=C[k++],M==this.blockSize){s(this,I),M=0;break}}this.h=M,this.o+=T},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;var P=8*this.o;for(T=C.length-8;T<C.length;++T)C[T]=P&255,P/=256;for(this.u(C),C=Array(16),T=P=0;4>T;++T)for(var I=0;32>I;I+=8)C[P++]=this.g[T]>>>I&255;return C};function i(C,T){var P=a;return Object.prototype.hasOwnProperty.call(P,C)?P[C]:P[C]=T(C)}function o(C,T){this.h=T;for(var P=[],I=!0,M=C.length-1;0<=M;M--){var k=C[M]|0;I&&k==T||(P[M]=k,I=!1)}this.g=P}var a={};function l(C){return-128<=C&&128>C?i(C,function(T){return new o([T|0],0>T?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return d;if(0>C)return E(c(-C));for(var T=[],P=1,I=0;C>=P;I++)T[I]=C/P|0,P*=4294967296;return new o(T,0)}function u(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return E(u(C.substring(1),T));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=c(Math.pow(T,8)),I=d,M=0;M<C.length;M+=8){var k=Math.min(8,C.length-M),N=parseInt(C.substring(M,M+k),T);8>k?(k=c(Math.pow(T,k)),I=I.j(k).add(c(N))):(I=I.j(P),I=I.add(c(N)))}return I}var d=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-E(this).m();for(var C=0,T=1,P=0;P<this.g.length;P++){var I=this.i(P);C+=(0<=I?I:4294967296+I)*T,T*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(w(this))return"0";if(v(this))return"-"+E(this).toString(C);for(var T=c(Math.pow(C,6)),P=this,I="";;){var M=R(P,T).g;P=_(P,M.j(T));var k=((0<P.g.length?P.g[0]:P.h)>>>0).toString(C);if(P=M,w(P))return k+I;for(;6>k.length;)k="0"+k;I=k+I}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function w(C){if(C.h!=0)return!1;for(var T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function v(C){return C.h==-1}t.l=function(C){return C=_(this,C),v(C)?-1:w(C)?0:1};function E(C){for(var T=C.g.length,P=[],I=0;I<T;I++)P[I]=~C.g[I];return new o(P,~C.h).add(p)}t.abs=function(){return v(this)?E(this):this},t.add=function(C){for(var T=Math.max(this.g.length,C.g.length),P=[],I=0,M=0;M<=T;M++){var k=I+(this.i(M)&65535)+(C.i(M)&65535),N=(k>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);I=N>>>16,k&=65535,N&=65535,P[M]=N<<16|k}return new o(P,P[P.length-1]&-2147483648?-1:0)};function _(C,T){return C.add(E(T))}t.j=function(C){if(w(this)||w(C))return d;if(v(this))return v(C)?E(this).j(E(C)):E(E(this).j(C));if(v(C))return E(this.j(E(C)));if(0>this.l(g)&&0>C.l(g))return c(this.m()*C.m());for(var T=this.g.length+C.g.length,P=[],I=0;I<2*T;I++)P[I]=0;for(I=0;I<this.g.length;I++)for(var M=0;M<C.g.length;M++){var k=this.i(I)>>>16,N=this.i(I)&65535,H=C.i(M)>>>16,ae=C.i(M)&65535;P[2*I+2*M]+=N*ae,y(P,2*I+2*M),P[2*I+2*M+1]+=k*ae,y(P,2*I+2*M+1),P[2*I+2*M+1]+=N*H,y(P,2*I+2*M+1),P[2*I+2*M+2]+=k*H,y(P,2*I+2*M+2)}for(I=0;I<T;I++)P[I]=P[2*I+1]<<16|P[2*I];for(I=T;I<2*T;I++)P[I]=0;return new o(P,0)};function y(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function S(C,T){this.g=C,this.h=T}function R(C,T){if(w(T))throw Error("division by zero");if(w(C))return new S(d,d);if(v(C))return T=R(E(C),T),new S(E(T.g),E(T.h));if(v(T))return T=R(C,E(T)),new S(E(T.g),T.h);if(30<C.g.length){if(v(C)||v(T))throw Error("slowDivide_ only works with positive integers.");for(var P=p,I=T;0>=I.l(C);)P=D(P),I=D(I);var M=O(P,1),k=O(I,1);for(I=O(I,2),P=O(P,2);!w(I);){var N=k.add(I);0>=N.l(C)&&(M=M.add(P),k=N),I=O(I,1),P=O(P,1)}return T=_(C,M.j(T)),new S(M,T)}for(M=d;0<=C.l(T);){for(P=Math.max(1,Math.floor(C.m()/T.m())),I=Math.ceil(Math.log(P)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),k=c(P),N=k.j(T);v(N)||0<N.l(C);)P-=I,k=c(P),N=k.j(T);w(k)&&(k=p),M=M.add(k),C=_(C,N)}return new S(M,C)}t.A=function(C){return R(this,C).h},t.and=function(C){for(var T=Math.max(this.g.length,C.g.length),P=[],I=0;I<T;I++)P[I]=this.i(I)&C.i(I);return new o(P,this.h&C.h)},t.or=function(C){for(var T=Math.max(this.g.length,C.g.length),P=[],I=0;I<T;I++)P[I]=this.i(I)|C.i(I);return new o(P,this.h|C.h)},t.xor=function(C){for(var T=Math.max(this.g.length,C.g.length),P=[],I=0;I<T;I++)P[I]=this.i(I)^C.i(I);return new o(P,this.h^C.h)};function D(C){for(var T=C.g.length+1,P=[],I=0;I<T;I++)P[I]=C.i(I)<<1|C.i(I-1)>>>31;return new o(P,C.h)}function O(C,T){var P=T>>5;T%=32;for(var I=C.g.length-P,M=[],k=0;k<I;k++)M[k]=0<T?C.i(k+P)>>>T|C.i(k+P+1)<<32-T:C.i(k+P);return new o(M,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,NL=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Ia=o}).apply(typeof vP<"u"?vP:typeof self<"u"?self:typeof window<"u"?window:{});var Yf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DL,kL,Fu,ML,Ip,k0,OL,LL,jL;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,x,b){return h==Array.prototype||h==Object.prototype||(h[x]=b.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yf=="object"&&Yf];for(var x=0;x<h.length;++x){var b=h[x];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function s(h,x){if(x)e:{var b=r;h=h.split(".");for(var A=0;A<h.length-1;A++){var U=h[A];if(!(U in b))break e;b=b[U]}h=h[h.length-1],A=b[h],x=x(A),x!=A&&x!=null&&e(b,h,{configurable:!0,writable:!0,value:x})}}function i(h,x){h instanceof String&&(h+="");var b=0,A=!1,U={next:function(){if(!A&&b<h.length){var W=b++;return{value:x(W,h[W]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}s("Array.prototype.values",function(h){return h||function(){return i(this,function(x,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(h){var x=typeof h;return x=x!="object"?x:h?Array.isArray(h)?"array":x:"null",x=="array"||x=="object"&&typeof h.length=="number"}function c(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function u(h,x,b){return h.call.apply(h.bind,arguments)}function d(h,x,b){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),h.apply(x,U)}}return function(){return h.apply(x,arguments)}}function p(h,x,b){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,p.apply(null,arguments)}function g(h,x){var b=Array.prototype.slice.call(arguments,1);return function(){var A=b.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function w(h,x){function b(){}b.prototype=x.prototype,h.aa=x.prototype,h.prototype=new b,h.prototype.constructor=h,h.Qb=function(A,U,W){for(var ie=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)ie[yt-2]=arguments[yt];return x.prototype[U].apply(A,ie)}}function v(h){const x=h.length;if(0<x){const b=Array(x);for(let A=0;A<x;A++)b[A]=h[A];return b}return[]}function E(h,x){for(let b=1;b<arguments.length;b++){const A=arguments[b];if(l(A)){const U=h.length||0,W=A.length||0;h.length=U+W;for(let ie=0;ie<W;ie++)h[U+ie]=A[ie]}else h.push(A)}}class _{constructor(x,b){this.i=x,this.j=b,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function y(h){return/^[\s\xa0]*$/.test(h)}function S(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function R(h){return R[" "](h),h}R[" "]=function(){};var D=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function O(h,x,b){for(const A in h)x.call(b,h[A],A,h)}function C(h,x){for(const b in h)x.call(void 0,h[b],b,h)}function T(h){const x={};for(const b in h)x[b]=h[b];return x}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(h,x){let b,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(b in A)h[b]=A[b];for(let W=0;W<P.length;W++)b=P[W],Object.prototype.hasOwnProperty.call(A,b)&&(h[b]=A[b])}}function M(h){var x=1;h=h.split(":");const b=[];for(;0<x&&h.length;)b.push(h.shift()),x--;return h.length&&b.push(h.join(":")),b}function k(h){a.setTimeout(()=>{throw h},0)}function N(){var h=B;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class H{constructor(){this.h=this.g=null}add(x,b){const A=ae.get();A.set(x,b),this.h?this.h.next=A:this.g=A,this.h=A}}var ae=new _(()=>new te,h=>h.reset());class te{constructor(){this.next=this.g=this.h=null}set(x,b){this.h=x,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,z=!1,B=new H,Z=()=>{const h=a.Promise.resolve(void 0);ne=()=>{h.then(pe)}};var pe=()=>{for(var h;h=N();){try{h.h.call(h.g)}catch(b){k(b)}var x=ae;x.j(h),100>x.h&&(x.h++,h.next=x.g,x.g=h)}z=!1};function Te(){this.s=this.s,this.C=this.C}Te.prototype.s=!1,Te.prototype.ma=function(){this.s||(this.s=!0,this.N())},Te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Re(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}Re.prototype.h=function(){this.defaultPrevented=!0};var Xe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};a.addEventListener("test",b,x),a.removeEventListener("test",b,x)}catch{}return h}();function gt(h,x){if(Re.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var b=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget){if(D){e:{try{R(x.nodeName);var U=!0;break e}catch{}U=!1}U||(x=null)}}else b=="mouseover"?x=h.fromElement:b=="mouseout"&&(x=h.toElement);this.relatedTarget=x,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:He[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&gt.aa.h.call(this)}}w(gt,Re);var He={2:"touch",3:"pen",4:"mouse"};gt.prototype.h=function(){gt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),je=0;function rt(h,x,b,A,U){this.listener=h,this.proxy=null,this.src=x,this.type=b,this.capture=!!A,this.ha=U,this.key=++je,this.da=this.fa=!1}function Ve(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ze(h){this.src=h,this.g={},this.h=0}ze.prototype.add=function(h,x,b,A,U){var W=h.toString();h=this.g[W],h||(h=this.g[W]=[],this.h++);var ie=Ft(h,x,A,U);return-1<ie?(x=h[ie],b||(x.fa=!1)):(x=new rt(x,this.src,W,!!A,U),x.fa=b,h.push(x)),x};function qe(h,x){var b=x.type;if(b in h.g){var A=h.g[b],U=Array.prototype.indexOf.call(A,x,void 0),W;(W=0<=U)&&Array.prototype.splice.call(A,U,1),W&&(Ve(x),h.g[b].length==0&&(delete h.g[b],h.h--))}}function Ft(h,x,b,A){for(var U=0;U<h.length;++U){var W=h[U];if(!W.da&&W.listener==x&&W.capture==!!b&&W.ha==A)return U}return-1}var st="closure_lm_"+(1e6*Math.random()|0),mn={};function Pr(h,x,b,A,U){if(Array.isArray(x)){for(var W=0;W<x.length;W++)Pr(h,x[W],b,A,U);return null}return b=Oe(b),h&&h[ce]?h.K(x,b,c(A)?!!A.capture:!!A,U):ds(h,x,b,!1,A,U)}function ds(h,x,b,A,U,W){if(!x)throw Error("Invalid event type");var ie=c(U)?!!U.capture:!!U,yt=J(h);if(yt||(h[st]=yt=new ze(h)),b=yt.add(x,b,A,ie,W),b.proxy)return b;if(A=L(),b.proxy=A,A.src=h,A.listener=b,h.addEventListener)Xe||(U=ie),U===void 0&&(U=!1),h.addEventListener(x.toString(),A,U);else if(h.attachEvent)h.attachEvent(le(x.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return b}function L(){function h(b){return x.call(h.src,h.listener,b)}const x=re;return h}function $(h,x,b,A,U){if(Array.isArray(x))for(var W=0;W<x.length;W++)$(h,x[W],b,A,U);else A=c(A)?!!A.capture:!!A,b=Oe(b),h&&h[ce]?(h=h.i,x=String(x).toString(),x in h.g&&(W=h.g[x],b=Ft(W,b,A,U),-1<b&&(Ve(W[b]),Array.prototype.splice.call(W,b,1),W.length==0&&(delete h.g[x],h.h--)))):h&&(h=J(h))&&(x=h.g[x.toString()],h=-1,x&&(h=Ft(x,b,A,U)),(b=-1<h?x[h]:null)&&G(b))}function G(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[ce])qe(x.i,h);else{var b=h.type,A=h.proxy;x.removeEventListener?x.removeEventListener(b,A,h.capture):x.detachEvent?x.detachEvent(le(b),A):x.addListener&&x.removeListener&&x.removeListener(A),(b=J(x))?(qe(b,h),b.h==0&&(b.src=null,x[st]=null)):Ve(h)}}}function le(h){return h in mn?mn[h]:mn[h]="on"+h}function re(h,x){if(h.da)h=!0;else{x=new gt(x,this);var b=h.listener,A=h.ha||h.src;h.fa&&G(h),h=b.call(A,x)}return h}function J(h){return h=h[st],h instanceof ze?h:null}var Ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oe(h){return typeof h=="function"?h:(h[Ee]||(h[Ee]=function(x){return h.handleEvent(x)}),h[Ee])}function Le(){Te.call(this),this.i=new ze(this),this.M=this,this.F=null}w(Le,Te),Le.prototype[ce]=!0,Le.prototype.removeEventListener=function(h,x,b,A){$(this,h,x,b,A)};function Ue(h,x){var b,A=h.F;if(A)for(b=[];A;A=A.F)b.push(A);if(h=h.M,A=x.type||x,typeof x=="string")x=new Re(x,h);else if(x instanceof Re)x.target=x.target||h;else{var U=x;x=new Re(A,h),I(x,U)}if(U=!0,b)for(var W=b.length-1;0<=W;W--){var ie=x.g=b[W];U=$n(ie,A,!0,x)&&U}if(ie=x.g=h,U=$n(ie,A,!0,x)&&U,U=$n(ie,A,!1,x)&&U,b)for(W=0;W<b.length;W++)ie=x.g=b[W],U=$n(ie,A,!1,x)&&U}Le.prototype.N=function(){if(Le.aa.N.call(this),this.i){var h=this.i,x;for(x in h.g){for(var b=h.g[x],A=0;A<b.length;A++)Ve(b[A]);delete h.g[x],h.h--}}this.F=null},Le.prototype.K=function(h,x,b,A){return this.i.add(String(h),x,!1,b,A)},Le.prototype.L=function(h,x,b,A){return this.i.add(String(h),x,!0,b,A)};function $n(h,x,b,A){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();for(var U=!0,W=0;W<x.length;++W){var ie=x[W];if(ie&&!ie.da&&ie.capture==b){var yt=ie.listener,gn=ie.ha||ie.src;ie.fa&&qe(h.i,ie),U=yt.call(gn,A)!==!1&&U}}return U&&!A.defaultPrevented}function Ci(h,x,b){if(typeof h=="function")b&&(h=p(h,b));else if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:a.setTimeout(h,x||0)}function zn(h){h.g=Ci(()=>{h.g=null,h.i&&(h.i=!1,zn(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class Kn extends Te{constructor(x,b){super(),this.m=x,this.l=b,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:zn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hs(h){Te.call(this),this.h=h,this.g={}}w(hs,Te);var fs=[];function rl(h){O(h.g,function(x,b){this.g.hasOwnProperty(b)&&G(x)},h),h.g={}}hs.prototype.N=function(){hs.aa.N.call(this),rl(this)},hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wn=a.JSON.stringify,nf=a.JSON.parse,rf=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function sl(){}sl.prototype.h=null;function sf(h){return h.h||(h.h=h.i())}function tu(){}var ps={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function il(){Re.call(this,"d")}w(il,Re);function Qo(){Re.call(this,"c")}w(Qo,Re);var Rr={},ol=null;function al(){return ol=ol||new Le}Rr.La="serverreachability";function nu(h){Re.call(this,Rr.La,h)}w(nu,Re);function Yo(h){const x=al();Ue(x,new nu(x))}Rr.STAT_EVENT="statevent";function ru(h,x){Re.call(this,Rr.STAT_EVENT,h),this.stat=x}w(ru,Re);function Zt(h){const x=al();Ue(x,new ru(x,h))}Rr.Ma="timingevent";function Xo(h,x){Re.call(this,Rr.Ma,h),this.size=x}w(Xo,Re);function Pi(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},x)}function Jo(){this.g=!0}Jo.prototype.xa=function(){this.g=!1};function Ry(h,x,b,A,U,W){h.info(function(){if(h.g)if(W)for(var ie="",yt=W.split("&"),gn=0;gn<yt.length;gn++){var at=yt[gn].split("=");if(1<at.length){var Rn=at[0];at=at[1];var In=Rn.split("_");ie=2<=In.length&&In[1]=="type"?ie+(Rn+"="+at+"&"):ie+(Rn+"=redacted&")}}else ie=null;else ie=W;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+x+`
`+b+`
`+ie})}function j(h,x,b,A,U,W,ie){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+x+`
`+b+`
`+W+" "+ie})}function F(h,x,b,A){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+q(h,b)+(A?" "+A:"")})}function K(h,x){h.info(function(){return"TIMEOUT: "+x})}Jo.prototype.info=function(){};function q(h,x){if(!h.g)return x;if(!x)return null;try{var b=JSON.parse(x);if(b){for(h=0;h<b.length;h++)if(Array.isArray(b[h])){var A=b[h];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var W=U[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ie=1;ie<U.length;ie++)U[ie]=""}}}}return Wn(b)}catch{return x}}var ue={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_e={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pe;function se(){}w(se,sl),se.prototype.g=function(){return new XMLHttpRequest},se.prototype.i=function(){return{}},Pe=new se;function ve(h,x,b,A){this.j=h,this.i=x,this.l=b,this.R=A||1,this.U=new hs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new me}function me(){this.i=null,this.g="",this.h=!1}var ye={},Je={};function it(h,x,b){h.L=1,h.v=uf(Fs(x)),h.m=b,h.P=!0,ft(h,null)}function ft(h,x){h.F=Date.now(),Et(h),h.A=Fs(h.v);var b=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),eS(b.i,"t",A),h.C=0,b=h.j.J,h.h=new me,h.g=vS(h.j,b?x:null,!h.m),0<h.O&&(h.M=new Kn(p(h.Y,h,h.g),h.O)),x=h.U,b=h.g,A=h.ca;var U="readystatechange";Array.isArray(U)||(U&&(fs[0]=U.toString()),U=fs);for(var W=0;W<U.length;W++){var ie=Pr(b,U[W],A||x.handleEvent,!1,x.h||x);if(!ie)break;x.g[ie.key]=ie}x=h.H?T(h.H):{},h.m?(h.u||(h.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,x)):(h.u="GET",h.g.ea(h.A,h.u,null,x)),Yo(),Ry(h.i,h.u,h.A,h.l,h.R,h.m)}ve.prototype.ca=function(h){h=h.target;const x=this.M;x&&Us(h)==3?x.j():this.Y(h)},ve.prototype.Y=function(h){try{if(h==this.g)e:{const In=Us(this.g);var x=this.g.Ba();const ul=this.g.Z();if(!(3>In)&&(In!=3||this.g&&(this.h.h||this.g.oa()||aS(this.g)))){this.J||In!=4||x==7||(x==8||0>=ul?Yo(3):Yo(2)),hr(this);var b=this.g.Z();this.X=b;t:if(Qe(this)){var A=aS(this.g);h="";var U=A.length,W=Us(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cn(this),Ir(this);var ie="";break t}this.h.i=new a.TextDecoder}for(x=0;x<U;x++)this.h.h=!0,h+=this.h.i.decode(A[x],{stream:!(W&&x==U-1)});A.length=0,this.h.g+=h,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=b==200,j(this.i,this.u,this.A,this.l,this.R,In,b),this.o){if(this.T&&!this.K){t:{if(this.g){var yt,gn=this.g;if((yt=gn.g?gn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(yt)){var at=yt;break t}}at=null}if(b=at)F(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ii(this,b);else{this.o=!1,this.s=3,Zt(12),Cn(this),Ir(this);break e}}if(this.P){b=!0;let Hr;for(;!this.J&&this.C<ie.length;)if(Hr=en(this,ie),Hr==Je){In==4&&(this.s=4,Zt(14),b=!1),F(this.i,this.l,null,"[Incomplete Response]");break}else if(Hr==ye){this.s=4,Zt(15),F(this.i,this.l,ie,"[Invalid Chunk]"),b=!1;break}else F(this.i,this.l,Hr,null),Ii(this,Hr);if(Qe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),In!=4||ie.length!=0||this.h.h||(this.s=1,Zt(16),b=!1),this.o=this.o&&b,!b)F(this.i,this.l,ie,"[Invalid Chunked Response]"),Cn(this),Ir(this);else if(0<ie.length&&!this.W){this.W=!0;var Rn=this.j;Rn.g==this&&Rn.ba&&!Rn.M&&(Rn.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Dy(Rn),Rn.M=!0,Zt(11))}}else F(this.i,this.l,ie,null),Ii(this,ie);In==4&&Cn(this),this.o&&!this.J&&(In==4?pS(this.j,this):(this.o=!1,Et(this)))}else F4(this.g),b==400&&0<ie.indexOf("Unknown SID")?(this.s=3,Zt(12)):(this.s=0,Zt(13)),Cn(this),Ir(this)}}}catch{}finally{}};function Qe(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function en(h,x){var b=h.C,A=x.indexOf(`
`,b);return A==-1?Je:(b=Number(x.substring(b,A)),isNaN(b)?ye:(A+=1,A+b>x.length?Je:(x=x.slice(A,A+b),h.C=A+b,x)))}ve.prototype.cancel=function(){this.J=!0,Cn(this)};function Et(h){h.S=Date.now()+h.I,Ri(h,h.I)}function Ri(h,x){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Pi(p(h.ba,h),x)}function hr(h){h.B&&(a.clearTimeout(h.B),h.B=null)}ve.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(K(this.i,this.A),this.L!=2&&(Yo(),Zt(17)),Cn(this),this.s=2,Ir(this)):Ri(this,this.S-h)};function Ir(h){h.j.G==0||h.J||pS(h.j,h)}function Cn(h){hr(h);var x=h.M;x&&typeof x.ma=="function"&&x.ma(),h.M=null,rl(h.U),h.g&&(x=h.g,h.g=null,x.abort(),x.ma())}function Ii(h,x){try{var b=h.j;if(b.G!=0&&(b.g==h||Ne(b.h,h))){if(!h.K&&Ne(b.h,h)&&b.G==3){try{var A=b.Da.g.parse(x)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<h.F)mf(b),ff(b);else break e;Ny(b),Zt(18)}}else b.za=U[1],0<b.za-b.T&&37500>U[2]&&b.F&&b.v==0&&!b.C&&(b.C=Pi(p(b.Za,b),6e3));if(1>=ta(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else ra(b,11)}else if((h.K||b.g==h)&&mf(b),!y(x))for(U=b.Da.g.parse(x),x=0;x<U.length;x++){let at=U[x];if(b.T=at[0],at=at[1],b.G==2)if(at[0]=="c"){b.K=at[1],b.ia=at[2];const Rn=at[3];Rn!=null&&(b.la=Rn,b.j.info("VER="+b.la));const In=at[4];In!=null&&(b.Aa=In,b.j.info("SVER="+b.Aa));const ul=at[5];ul!=null&&typeof ul=="number"&&0<ul&&(A=1.5*ul,b.L=A,b.j.info("backChannelRequestTimeoutMs_="+A)),A=b;const Hr=h.g;if(Hr){const yf=Hr.g?Hr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yf){var W=A.h;W.g||yf.indexOf("spdy")==-1&&yf.indexOf("quic")==-1&&yf.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(_t(W,W.h),W.h=null))}if(A.D){const ky=Hr.g?Hr.g.getResponseHeader("X-HTTP-Session-Id"):null;ky&&(A.ya=ky,St(A.I,A.D,ky))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-h.F,b.j.info("Handshake RTT: "+b.R+"ms")),A=b;var ie=h;if(A.qa=yS(A,A.J?A.ia:null,A.W),ie.K){Pn(A.h,ie);var yt=ie,gn=A.L;gn&&(yt.I=gn),yt.B&&(hr(yt),Et(yt)),A.g=ie}else hS(A);0<b.i.length&&pf(b)}else at[0]!="stop"&&at[0]!="close"||ra(b,7);else b.G==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?ra(b,7):Ay(b):at[0]!="noop"&&b.l&&b.l.ta(at),b.v=0)}}Yo(4)}catch{}}var Kr=class{constructor(h,x){this.g=h,this.map=x}};function Zo(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ea(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ta(h){return h.h?1:h.g?h.g.size:0}function Ne(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function _t(h,x){h.g?h.g.add(x):h.h=x}function Pn(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}Zo.prototype.cancel=function(){if(this.i=Tt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Tt(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const b of h.g.values())x=x.concat(b.D);return x}return v(h.i)}function Wr(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var x=[],b=h.length,A=0;A<b;A++)x.push(h[A]);return x}x=[],b=0;for(A in h)x[b++]=h[A];return x}function of(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var x=[];h=h.length;for(var b=0;b<h;b++)x.push(b);return x}x=[],b=0;for(const A in h)x[b++]=A;return x}}}function af(h,x){if(h.forEach&&typeof h.forEach=="function")h.forEach(x,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,x,void 0);else for(var b=of(h),A=Wr(h),U=A.length,W=0;W<U;W++)x.call(void 0,A[W],b&&b[W],h)}var QT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function C4(h,x){if(h){h=h.split("&");for(var b=0;b<h.length;b++){var A=h[b].indexOf("="),U=null;if(0<=A){var W=h[b].substring(0,A);U=h[b].substring(A+1)}else W=h[b];x(W,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function na(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof na){this.h=h.h,lf(this,h.j),this.o=h.o,this.g=h.g,cf(this,h.s),this.l=h.l;var x=h.i,b=new ou;b.i=x.i,x.g&&(b.g=new Map(x.g),b.h=x.h),YT(this,b),this.m=h.m}else h&&(x=String(h).match(QT))?(this.h=!1,lf(this,x[1]||"",!0),this.o=su(x[2]||""),this.g=su(x[3]||"",!0),cf(this,x[4]),this.l=su(x[5]||"",!0),YT(this,x[6]||"",!0),this.m=su(x[7]||"")):(this.h=!1,this.i=new ou(null,this.h))}na.prototype.toString=function(){var h=[],x=this.j;x&&h.push(iu(x,XT,!0),":");var b=this.g;return(b||x=="file")&&(h.push("//"),(x=this.o)&&h.push(iu(x,XT,!0),"@"),h.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&h.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(iu(b,b.charAt(0)=="/"?I4:R4,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",iu(b,N4)),h.join("")};function Fs(h){return new na(h)}function lf(h,x,b){h.j=b?su(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function cf(h,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);h.s=x}else h.s=null}function YT(h,x,b){x instanceof ou?(h.i=x,D4(h.i,h.h)):(b||(x=iu(x,A4)),h.i=new ou(x,h.h))}function St(h,x,b){h.i.set(x,b)}function uf(h){return St(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function su(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function iu(h,x,b){return typeof h=="string"?(h=encodeURI(h).replace(x,P4),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function P4(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var XT=/[#\/\?@]/g,R4=/[#\?:]/g,I4=/[#\?]/g,A4=/[#\?@]/g,N4=/#/g;function ou(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function Ai(h){h.g||(h.g=new Map,h.h=0,h.i&&C4(h.i,function(x,b){h.add(decodeURIComponent(x.replace(/\+/g," ")),b)}))}t=ou.prototype,t.add=function(h,x){Ai(this),this.i=null,h=ll(this,h);var b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(x),this.h+=1,this};function JT(h,x){Ai(h),x=ll(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function ZT(h,x){return Ai(h),x=ll(h,x),h.g.has(x)}t.forEach=function(h,x){Ai(this),this.g.forEach(function(b,A){b.forEach(function(U){h.call(x,U,A,this)},this)},this)},t.na=function(){Ai(this);const h=Array.from(this.g.values()),x=Array.from(this.g.keys()),b=[];for(let A=0;A<x.length;A++){const U=h[A];for(let W=0;W<U.length;W++)b.push(x[A])}return b},t.V=function(h){Ai(this);let x=[];if(typeof h=="string")ZT(this,h)&&(x=x.concat(this.g.get(ll(this,h))));else{h=Array.from(this.g.values());for(let b=0;b<h.length;b++)x=x.concat(h[b])}return x},t.set=function(h,x){return Ai(this),this.i=null,h=ll(this,h),ZT(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},t.get=function(h,x){return h?(h=this.V(h),0<h.length?String(h[0]):x):x};function eS(h,x,b){JT(h,x),0<b.length&&(h.i=null,h.g.set(ll(h,x),v(b)),h.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(var b=0;b<x.length;b++){var A=x[b];const W=encodeURIComponent(String(A)),ie=this.V(A);for(A=0;A<ie.length;A++){var U=W;ie[A]!==""&&(U+="="+encodeURIComponent(String(ie[A]))),h.push(U)}}return this.i=h.join("&")};function ll(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function D4(h,x){x&&!h.j&&(Ai(h),h.i=null,h.g.forEach(function(b,A){var U=A.toLowerCase();A!=U&&(JT(this,A),eS(this,U,b))},h)),h.j=x}function k4(h,x){const b=new Jo;if(a.Image){const A=new Image;A.onload=g(Ni,b,"TestLoadImage: loaded",!0,x,A),A.onerror=g(Ni,b,"TestLoadImage: error",!1,x,A),A.onabort=g(Ni,b,"TestLoadImage: abort",!1,x,A),A.ontimeout=g(Ni,b,"TestLoadImage: timeout",!1,x,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else x(!1)}function M4(h,x){const b=new Jo,A=new AbortController,U=setTimeout(()=>{A.abort(),Ni(b,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:A.signal}).then(W=>{clearTimeout(U),W.ok?Ni(b,"TestPingServer: ok",!0,x):Ni(b,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(U),Ni(b,"TestPingServer: error",!1,x)})}function Ni(h,x,b,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(b)}catch{}}function O4(){this.g=new rf}function L4(h,x,b){const A=b||"";try{af(h,function(U,W){let ie=U;c(U)&&(ie=Wn(U)),x.push(A+W+"="+encodeURIComponent(ie))})}catch(U){throw x.push(A+"type="+encodeURIComponent("_badmap")),U}}function au(h){this.l=h.Ub||null,this.j=h.eb||!1}w(au,sl),au.prototype.g=function(){return new df(this.l,this.j)},au.prototype.i=function(h){return function(){return h}}({});function df(h,x){Le.call(this),this.D=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(df,Le),t=df.prototype,t.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=x,this.readyState=1,cu(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(x.body=h),(this.D||a).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,lu(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,cu(this)),this.g&&(this.readyState=3,cu(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tS(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function tS(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?lu(this):cu(this),this.readyState==3&&tS(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,lu(this))},t.Qa=function(h){this.g&&(this.response=h,lu(this))},t.ga=function(){this.g&&lu(this)};function lu(h){h.readyState=4,h.l=null,h.j=null,h.v=null,cu(h)}t.setRequestHeader=function(h,x){this.u.append(h,x)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var b=x.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=x.next();return h.join(`\r
`)};function cu(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(df.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function nS(h){let x="";return O(h,function(b,A){x+=A,x+=":",x+=b,x+=`\r
`}),x}function Iy(h,x,b){e:{for(A in b){var A=!1;break e}A=!0}A||(b=nS(b),typeof h=="string"?b!=null&&encodeURIComponent(String(b)):St(h,x,b))}function Ut(h){Le.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Ut,Le);var j4=/^https?$/i,V4=["POST","PUT"];t=Ut.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,x,b,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pe.g(),this.v=this.o?sf(this.o):sf(Pe),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(W){rS(this,W);return}if(h=b||"",b=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)b.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const W of A.keys())b.set(W,A.get(W));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(b.keys()).find(W=>W.toLowerCase()=="content-type"),U=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(V4,x,void 0))||A||U||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ie]of b)this.g.setRequestHeader(W,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{oS(this),this.u=!0,this.g.send(h),this.u=!1}catch(W){rS(this,W)}};function rS(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.m=5,sS(h),hf(h)}function sS(h){h.A||(h.A=!0,Ue(h,"complete"),Ue(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ue(this,"complete"),Ue(this,"abort"),hf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hf(this,!0)),Ut.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?iS(this):this.bb())},t.bb=function(){iS(this)};function iS(h){if(h.h&&typeof o<"u"&&(!h.v[1]||Us(h)!=4||h.Z()!=2)){if(h.u&&Us(h)==4)Ci(h.Ea,0,h);else if(Ue(h,"readystatechange"),Us(h)==4){h.h=!1;try{const ie=h.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var b;if(!(b=x)){var A;if(A=ie===0){var U=String(h.D).match(QT)[1]||null;!U&&a.self&&a.self.location&&(U=a.self.location.protocol.slice(0,-1)),A=!j4.test(U?U.toLowerCase():"")}b=A}if(b)Ue(h,"complete"),Ue(h,"success");else{h.m=6;try{var W=2<Us(h)?h.g.statusText:""}catch{W=""}h.l=W+" ["+h.Z()+"]",sS(h)}}finally{hf(h)}}}}function hf(h,x){if(h.g){oS(h);const b=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,x||Ue(h,"ready");try{b.onreadystatechange=A}catch{}}}function oS(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Us(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Us(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),nf(x)}};function aS(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function F4(h){const x={};h=(h.g&&2<=Us(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(y(h[A]))continue;var b=M(h[A]);const U=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const W=x[U]||[];x[U]=W,W.push(b)}C(x,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function uu(h,x,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||x}function lS(h){this.Aa=0,this.i=[],this.j=new Jo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=uu("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=uu("baseRetryDelayMs",5e3,h),this.cb=uu("retryDelaySeedMs",1e4,h),this.Wa=uu("forwardChannelMaxRetries",2,h),this.wa=uu("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Zo(h&&h.concurrentRequestLimit),this.Da=new O4,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=lS.prototype,t.la=8,t.G=1,t.connect=function(h,x,b,A){Zt(0),this.W=h,this.H=x||{},b&&A!==void 0&&(this.H.OSID=b,this.H.OAID=A),this.F=this.X,this.I=yS(this,null,this.W),pf(this)};function Ay(h){if(cS(h),h.G==3){var x=h.U++,b=Fs(h.I);if(St(b,"SID",h.K),St(b,"RID",x),St(b,"TYPE","terminate"),du(h,b),x=new ve(h,h.j,x),x.L=2,x.v=uf(Fs(b)),b=!1,a.navigator&&a.navigator.sendBeacon)try{b=a.navigator.sendBeacon(x.v.toString(),"")}catch{}!b&&a.Image&&(new Image().src=x.v,b=!0),b||(x.g=vS(x.j,null),x.g.ea(x.v)),x.F=Date.now(),Et(x)}gS(h)}function ff(h){h.g&&(Dy(h),h.g.cancel(),h.g=null)}function cS(h){ff(h),h.u&&(a.clearTimeout(h.u),h.u=null),mf(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function pf(h){if(!ea(h.h)&&!h.s){h.s=!0;var x=h.Ga;ne||Z(),z||(ne(),z=!0),B.add(x,h),h.B=0}}function U4(h,x){return ta(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=x.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Pi(p(h.Ga,h,x),mS(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const U=new ve(this,this.j,h);let W=this.o;if(this.S&&(W?(W=T(W),I(W,this.S)):W=this.S),this.m!==null||this.O||(U.H=W,W=null),this.P)e:{for(var x=0,b=0;b<this.i.length;b++){t:{var A=this.i[b];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(x+=A,4096<x){x=b;break e}if(x===4096||b===this.i.length-1){x=b+1;break e}}x=1e3}else x=1e3;x=dS(this,U,x),b=Fs(this.I),St(b,"RID",h),St(b,"CVER",22),this.D&&St(b,"X-HTTP-Session-Id",this.D),du(this,b),W&&(this.O?x="headers="+encodeURIComponent(String(nS(W)))+"&"+x:this.m&&Iy(b,this.m,W)),_t(this.h,U),this.Ua&&St(b,"TYPE","init"),this.P?(St(b,"$req",x),St(b,"SID","null"),U.T=!0,it(U,b,null)):it(U,b,x),this.G=2}}else this.G==3&&(h?uS(this,h):this.i.length==0||ea(this.h)||uS(this))};function uS(h,x){var b;x?b=x.l:b=h.U++;const A=Fs(h.I);St(A,"SID",h.K),St(A,"RID",b),St(A,"AID",h.T),du(h,A),h.m&&h.o&&Iy(A,h.m,h.o),b=new ve(h,h.j,b,h.B+1),h.m===null&&(b.H=h.o),x&&(h.i=x.D.concat(h.i)),x=dS(h,b,1e3),b.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),_t(h.h,b),it(b,A,x)}function du(h,x){h.H&&O(h.H,function(b,A){St(x,A,b)}),h.l&&af({},function(b,A){St(x,A,b)})}function dS(h,x,b){b=Math.min(h.i.length,b);var A=h.l?p(h.l.Na,h.l,h):null;e:{var U=h.i;let W=-1;for(;;){const ie=["count="+b];W==-1?0<b?(W=U[0].g,ie.push("ofs="+W)):W=0:ie.push("ofs="+W);let yt=!0;for(let gn=0;gn<b;gn++){let at=U[gn].g;const Rn=U[gn].map;if(at-=W,0>at)W=Math.max(0,U[gn].g-100),yt=!1;else try{L4(Rn,ie,"req"+at+"_")}catch{A&&A(Rn)}}if(yt){A=ie.join("&");break e}}}return h=h.i.splice(0,b),x.D=h,A}function hS(h){if(!h.g&&!h.u){h.Y=1;var x=h.Fa;ne||Z(),z||(ne(),z=!0),B.add(x,h),h.v=0}}function Ny(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Pi(p(h.Fa,h),mS(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,fS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Pi(p(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Zt(10),ff(this),fS(this))};function Dy(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function fS(h){h.g=new ve(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var x=Fs(h.qa);St(x,"RID","rpc"),St(x,"SID",h.K),St(x,"AID",h.T),St(x,"CI",h.F?"0":"1"),!h.F&&h.ja&&St(x,"TO",h.ja),St(x,"TYPE","xmlhttp"),du(h,x),h.m&&h.o&&Iy(x,h.m,h.o),h.L&&(h.g.I=h.L);var b=h.g;h=h.ia,b.L=1,b.v=uf(Fs(x)),b.m=null,b.P=!0,ft(b,h)}t.Za=function(){this.C!=null&&(this.C=null,ff(this),Ny(this),Zt(19))};function mf(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function pS(h,x){var b=null;if(h.g==x){mf(h),Dy(h),h.g=null;var A=2}else if(Ne(h.h,x))b=x.D,Pn(h.h,x),A=1;else return;if(h.G!=0){if(x.o)if(A==1){b=x.m?x.m.length:0,x=Date.now()-x.F;var U=h.B;A=al(),Ue(A,new Xo(A,b)),pf(h)}else hS(h);else if(U=x.s,U==3||U==0&&0<x.X||!(A==1&&U4(h,x)||A==2&&Ny(h)))switch(b&&0<b.length&&(x=h.h,x.i=x.i.concat(b)),U){case 1:ra(h,5);break;case 4:ra(h,10);break;case 3:ra(h,6);break;default:ra(h,2)}}}function mS(h,x){let b=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(b*=2),b*x}function ra(h,x){if(h.j.info("Error code "+x),x==2){var b=p(h.fb,h),A=h.Xa;const U=!A;A=new na(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||lf(A,"https"),uf(A),U?k4(A.toString(),b):M4(A.toString(),b)}else Zt(2);h.G=0,h.l&&h.l.sa(x),gS(h),cS(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Zt(2)):(this.j.info("Failed to ping google.com"),Zt(1))};function gS(h){if(h.G=0,h.ka=[],h.l){const x=Tt(h.h);(x.length!=0||h.i.length!=0)&&(E(h.ka,x),E(h.ka,h.i),h.h.i.length=0,v(h.i),h.i.length=0),h.l.ra()}}function yS(h,x,b){var A=b instanceof na?Fs(b):new na(b);if(A.g!="")x&&(A.g=x+"."+A.g),cf(A,A.s);else{var U=a.location;A=U.protocol,x=x?x+"."+U.hostname:U.hostname,U=+U.port;var W=new na(null);A&&lf(W,A),x&&(W.g=x),U&&cf(W,U),b&&(W.l=b),A=W}return b=h.D,x=h.ya,b&&x&&St(A,b,x),St(A,"VER",h.la),du(h,A),A}function vS(h,x,b){if(x&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Ca&&!h.pa?new Ut(new au({eb:b})):new Ut(h.pa),x.Ha(h.J),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function wS(){}t=wS.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function gf(){}gf.prototype.g=function(h,x){return new fr(h,x)};function fr(h,x){Le.call(this),this.g=new lS(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(h?h["X-WebChannel-Client-Profile"]=x.va:h={"X-WebChannel-Client-Profile":x.va}),this.g.S=h,(h=x&&x.Sb)&&!y(h)&&(this.g.m=h),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!y(x)&&(this.g.D=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new cl(this)}w(fr,Le),fr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fr.prototype.close=function(){Ay(this.g)},fr.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.u&&(b={},b.__data__=Wn(h),h=b);x.i.push(new Kr(x.Ya++,h)),x.G==3&&pf(x)},fr.prototype.N=function(){this.g.l=null,delete this.j,Ay(this.g),delete this.g,fr.aa.N.call(this)};function _S(h){il.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const b in x){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}w(_S,il);function xS(){Qo.call(this),this.status=1}w(xS,Qo);function cl(h){this.g=h}w(cl,wS),cl.prototype.ua=function(){Ue(this.g,"a")},cl.prototype.ta=function(h){Ue(this.g,new _S(h))},cl.prototype.sa=function(h){Ue(this.g,new xS)},cl.prototype.ra=function(){Ue(this.g,"b")},gf.prototype.createWebChannel=gf.prototype.g,fr.prototype.send=fr.prototype.o,fr.prototype.open=fr.prototype.m,fr.prototype.close=fr.prototype.close,jL=function(){return new gf},LL=function(){return al()},OL=Rr,k0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ue.NO_ERROR=0,ue.TIMEOUT=8,ue.HTTP_ERROR=6,Ip=ue,_e.COMPLETE="complete",ML=_e,tu.EventType=ps,ps.OPEN="a",ps.CLOSE="b",ps.ERROR="c",ps.MESSAGE="d",Le.prototype.listen=Le.prototype.K,Fu=tu,kL=au,Ut.prototype.listenOnce=Ut.prototype.L,Ut.prototype.getLastError=Ut.prototype.Ka,Ut.prototype.getLastErrorCode=Ut.prototype.Ba,Ut.prototype.getStatus=Ut.prototype.Z,Ut.prototype.getResponseJson=Ut.prototype.Oa,Ut.prototype.getResponseText=Ut.prototype.oa,Ut.prototype.send=Ut.prototype.ea,Ut.prototype.setWithCredentials=Ut.prototype.Ha,DL=Ut}).apply(typeof Yf<"u"?Yf:typeof self<"u"?self:typeof window<"u"?window:{});const wP="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}On.UNAUTHENTICATED=new On(null),On.GOOGLE_CREDENTIALS=new On("google-credentials-uid"),On.FIRST_PARTY=new On("first-party-uid"),On.MOCK_USER=new On("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc="10.13.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=new mx("@firebase/firestore");function Cu(){return Ua.logLevel}function ge(t,...e){if(Ua.logLevel<=tt.DEBUG){const n=e.map(FE);Ua.debug(`Firestore (${qc}): ${t}`,...n)}}function _i(t,...e){if(Ua.logLevel<=tt.ERROR){const n=e.map(FE);Ua.error(`Firestore (${qc}): ${t}`,...n)}}function Pc(t,...e){if(Ua.logLevel<=tt.WARN){const n=e.map(FE);Ua.warn(`Firestore (${qc}): ${t}`,...n)}}function FE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t="Unexpected state"){const e=`FIRESTORE (${qc}) INTERNAL ASSERTION FAILED: `+t;throw _i(e),new Error(e)}function wt(t,e){t||Ae()}function Me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends js{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(On.UNAUTHENTICATED))}shutdown(){}}class XJ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class JJ{constructor(e){this.t=e,this.currentUser=On.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new xo;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new xo,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new xo)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(wt(typeof r.accessToken=="string"),new VL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string"),new On(e)}}class ZJ{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=On.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class eZ{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ZJ(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(On.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tZ{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nZ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,ge("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(wt(typeof n.token=="string"),this.R=n.token,new tZ(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rZ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=rZ(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function lt(t,e){return t<e?-1:t>e?1:0}function Rc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Se(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return dn.fromMillis(Date.now())}static fromDate(e){return dn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new dn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?lt(this.nanoseconds,e.nanoseconds):lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.timestamp=e}static fromTimestamp(e){return new De(e)}static min(){return new De(new dn(0,0))}static max(){return new De(new dn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ae(),r===void 0?r=e.length-n:r>e.length-n&&Ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Gd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Wt extends Gd{construct(e,n,r){return new Wt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Wt(n)}static emptyPath(){return new Wt([])}}const sZ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends Gd{construct(e,n,r){return new _n(e,n,r)}static isValidIdentifier(e){return sZ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new _n(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Se(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Se(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Se(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Se(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _n(n)}static emptyPath(){return new _n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(Wt.fromString(e))}static fromName(e){return new be(Wt.fromString(e).popFirst(5))}static empty(){return new be(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new Wt(e.slice()))}}function iZ(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=De.fromTimestamp(r===1e9?new dn(n+1,0):new dn(n,r));return new Oo(s,be.empty(),e)}function oZ(t){return new Oo(t.readTime,t.key,-1)}class Oo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Oo(De.min(),be.empty(),-1)}static max(){return new Oo(De.max(),be.empty(),-1)}}function aZ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:lt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lZ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cZ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zh(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==lZ)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(s=>s?Q.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new Q((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function uZ(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Kh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}UE.oe=-1;function ay(t){return t==null}function Mm(t){return t===0&&1/t==-1/0}function dZ(t){return typeof t=="number"&&Number.isInteger(t)&&!Mm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function UL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){this.comparator=e,this.root=n||wn.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xf(this.root,e,this.comparator,!0)}}class Xf{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??wn.RED,this.left=s??wn.EMPTY,this.right=i??wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new wn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return wn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}wn.EMPTY=null,wn.RED=!0,wn.BLACK=!1;wn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,n,r,s,i){return this}insert(e,n,r){return new wn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xP(this.data.getIterator())}getIteratorFrom(e){return new xP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof En)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new En(this.comparator);return n.data=e,n}}class xP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new ns([])}unionWith(e){let n=new En(_n.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ns(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Rc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new BL("Invalid base64 string: "+i):i}}(e);return new bn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new bn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const hZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lo(t){if(wt(!!t),typeof t=="string"){let e=0;const n=hZ.exec(t);if(wt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qt(t.seconds),nanos:Qt(t.nanos)}}function Qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ba(t){return typeof t=="string"?bn.fromBase64String(t):bn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function $E(t){const e=t.mapValue.fields.__previous_value__;return BE(e)?$E(e):e}function qd(t){const e=Lo(t.mapValue.fields.__local_write_time__.timestampValue);return new dn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fZ{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Qd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Qd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Qd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function $a(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?BE(t)?4:mZ(t)?9007199254740991:pZ(t)?10:11:Ae()}function Os(t,e){if(t===e)return!0;const n=$a(t);if(n!==$a(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qd(t).isEqual(qd(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Lo(s.timestampValue),a=Lo(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ba(s.bytesValue).isEqual(Ba(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Qt(s.geoPointValue.latitude)===Qt(i.geoPointValue.latitude)&&Qt(s.geoPointValue.longitude)===Qt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Qt(s.integerValue)===Qt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Qt(s.doubleValue),a=Qt(i.doubleValue);return o===a?Mm(o)===Mm(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Rc(t.arrayValue.values||[],e.arrayValue.values||[],Os);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(_P(o)!==_P(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Os(o[l],a[l])))return!1;return!0}(t,e);default:return Ae()}}function Yd(t,e){return(t.values||[]).find(n=>Os(n,e))!==void 0}function Ic(t,e){if(t===e)return 0;const n=$a(t),r=$a(e);if(n!==r)return lt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return lt(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Qt(i.integerValue||i.doubleValue),l=Qt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return EP(t.timestampValue,e.timestampValue);case 4:return EP(qd(t),qd(e));case 5:return lt(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ba(i),l=Ba(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=lt(a[c],l[c]);if(u!==0)return u}return lt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=lt(Qt(i.latitude),Qt(o.latitude));return a!==0?a:lt(Qt(i.longitude),Qt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return TP(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,u;const d=i.fields||{},p=o.fields||{},g=(a=d.value)===null||a===void 0?void 0:a.arrayValue,w=(l=p.value)===null||l===void 0?void 0:l.arrayValue,v=lt(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((u=w==null?void 0:w.values)===null||u===void 0?void 0:u.length)||0);return v!==0?v:TP(g,w)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Jf.mapValue&&o===Jf.mapValue)return 0;if(i===Jf.mapValue)return 1;if(o===Jf.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const p=lt(l[d],u[d]);if(p!==0)return p;const g=Ic(a[l[d]],c[u[d]]);if(g!==0)return g}return lt(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Ae()}}function EP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return lt(t,e);const n=Lo(t),r=Lo(e),s=lt(n.seconds,r.seconds);return s!==0?s:lt(n.nanos,r.nanos)}function TP(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ic(n[s],r[s]);if(i)return i}return lt(n.length,r.length)}function Ac(t){return M0(t)}function M0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Lo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ba(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return be.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=M0(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${M0(n.fields[o])}`;return s+"}"}(t.mapValue):Ae()}function O0(t){return!!t&&"integerValue"in t}function zE(t){return!!t&&"arrayValue"in t}function SP(t){return!!t&&"nullValue"in t}function bP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ap(t){return!!t&&"mapValue"in t}function pZ(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function id(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Qc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=id(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=id(t.arrayValue.values[n]);return e}return Object.assign({},t)}function mZ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.value=e}static empty(){return new jr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ap(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=id(n)}setAll(e){let n=_n.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=id(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Ap(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Os(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Ap(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Qc(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new jr(id(this.value))}}function $L(t){const e=[];return Qc(t.fields,(n,r)=>{const s=new _n([n]);if(Ap(r)){const i=$L(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new ns(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new jn(e,0,De.min(),De.min(),De.min(),jr.empty(),0)}static newFoundDocument(e,n,r,s){return new jn(e,1,n,De.min(),r,s,0)}static newNoDocument(e,n){return new jn(e,2,n,De.min(),De.min(),jr.empty(),0)}static newUnknownDocument(e,n){return new jn(e,3,n,De.min(),De.min(),jr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n){this.position=e,this.inclusive=n}}function CP(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=be.comparator(be.fromName(o.referenceValue),n.key):r=Ic(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function PP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Os(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,n="asc"){this.field=e,this.dir=n}}function gZ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{}class cn extends zL{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new vZ(e,n,r):n==="array-contains"?new xZ(e,r):n==="in"?new EZ(e,r):n==="not-in"?new TZ(e,r):n==="array-contains-any"?new SZ(e,r):new cn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new wZ(e,r):new _Z(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ic(n,this.value)):n!==null&&$a(this.value)===$a(n)&&this.matchesComparison(Ic(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ls extends zL{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ls(e,n)}matches(e){return KL(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function KL(t){return t.op==="and"}function WL(t){return yZ(t)&&KL(t)}function yZ(t){for(const e of t.filters)if(e instanceof Ls)return!1;return!0}function L0(t){if(t instanceof cn)return t.field.canonicalString()+t.op.toString()+Ac(t.value);if(WL(t))return t.filters.map(e=>L0(e)).join(",");{const e=t.filters.map(n=>L0(n)).join(",");return`${t.op}(${e})`}}function HL(t,e){return t instanceof cn?function(r,s){return s instanceof cn&&r.op===s.op&&r.field.isEqual(s.field)&&Os(r.value,s.value)}(t,e):t instanceof Ls?function(r,s){return s instanceof Ls&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&HL(o,s.filters[a]),!0):!1}(t,e):void Ae()}function GL(t){return t instanceof cn?function(n){return`${n.field.canonicalString()} ${n.op} ${Ac(n.value)}`}(t):t instanceof Ls?function(n){return n.op.toString()+" {"+n.getFilters().map(GL).join(" ,")+"}"}(t):"Filter"}class vZ extends cn{constructor(e,n,r){super(e,n,r),this.key=be.fromName(r.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class wZ extends cn{constructor(e,n){super(e,"in",n),this.keys=qL("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _Z extends cn{constructor(e,n){super(e,"not-in",n),this.keys=qL("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function qL(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>be.fromName(r.referenceValue))}class xZ extends cn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zE(n)&&Yd(n.arrayValue,this.value)}}class EZ extends cn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Yd(this.value.arrayValue,n)}}class TZ extends cn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Yd(this.value.arrayValue,n)}}class SZ extends cn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Yd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bZ{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function RP(t,e=null,n=[],r=[],s=null,i=null,o=null){return new bZ(t,e,n,r,s,i,o)}function KE(t){const e=Me(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>L0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ay(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ac(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ac(r)).join(",")),e.ue=n}return e.ue}function WE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!gZ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!HL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!PP(t.startAt,e.startAt)&&PP(t.endAt,e.endAt)}function j0(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function CZ(t,e,n,r,s,i,o,a){return new ly(t,e,n,r,s,i,o,a)}function cy(t){return new ly(t)}function IP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function PZ(t){return t.collectionGroup!==null}function od(t){const e=Me(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new En(_n.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Lm(i,r))}),n.has(_n.keyField().canonicalString())||e.ce.push(new Lm(_n.keyField(),r))}return e.ce}function Ds(t){const e=Me(t);return e.le||(e.le=RZ(e,od(t))),e.le}function RZ(t,e){if(t.limitType==="F")return RP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Lm(s.field,i)});const n=t.endAt?new Om(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Om(t.startAt.position,t.startAt.inclusive):null;return RP(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function V0(t,e,n){return new ly(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function uy(t,e){return WE(Ds(t),Ds(e))&&t.limitType===e.limitType}function QL(t){return`${KE(Ds(t))}|lt:${t.limitType}`}function yl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>GL(s)).join(", ")}]`),ay(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ac(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ac(s)).join(",")),`Target(${r})`}(Ds(t))}; limitType=${t.limitType})`}function dy(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):be.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of od(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=CP(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,od(r),s)||r.endAt&&!function(o,a,l){const c=CP(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,od(r),s))}(t,e)}function IZ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function YL(t){return(e,n)=>{let r=!1;for(const s of od(t)){const i=AZ(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function AZ(t,e,n){const r=t.field.isKeyField()?be.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Ic(l,c):Ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Qc(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return UL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NZ=new Vt(be.comparator);function xi(){return NZ}const XL=new Vt(be.comparator);function Uu(...t){let e=XL;for(const n of t)e=e.insert(n.key,n);return e}function JL(t){let e=XL;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ga(){return ad()}function ZL(){return ad()}function ad(){return new Yc(t=>t.toString(),(t,e)=>t.isEqual(e))}const DZ=new Vt(be.comparator),kZ=new En(be.comparator);function Ye(...t){let e=kZ;for(const n of t)e=e.add(n);return e}const MZ=new En(lt);function OZ(){return MZ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mm(e)?"-0":e}}function e2(t){return{integerValue:""+t}}function LZ(t,e){return dZ(e)?e2(e):HE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(){this._=void 0}}function jZ(t,e,n){return t instanceof jm?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&BE(i)&&(i=$E(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Xd?n2(t,e):t instanceof Jd?r2(t,e):function(s,i){const o=t2(s,i),a=AP(o)+AP(s.Pe);return O0(o)&&O0(s.Pe)?e2(a):HE(s.serializer,a)}(t,e)}function VZ(t,e,n){return t instanceof Xd?n2(t,e):t instanceof Jd?r2(t,e):n}function t2(t,e){return t instanceof Vm?function(r){return O0(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class jm extends hy{}class Xd extends hy{constructor(e){super(),this.elements=e}}function n2(t,e){const n=s2(e);for(const r of t.elements)n.some(s=>Os(s,r))||n.push(r);return{arrayValue:{values:n}}}class Jd extends hy{constructor(e){super(),this.elements=e}}function r2(t,e){let n=s2(e);for(const r of t.elements)n=n.filter(s=>!Os(s,r));return{arrayValue:{values:n}}}class Vm extends hy{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function AP(t){return Qt(t.integerValue||t.doubleValue)}function s2(t){return zE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function FZ(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Xd&&s instanceof Xd||r instanceof Jd&&s instanceof Jd?Rc(r.elements,s.elements,Os):r instanceof Vm&&s instanceof Vm?Os(r.Pe,s.Pe):r instanceof jm&&s instanceof jm}(t.transform,e.transform)}class UZ{constructor(e,n){this.version=e,this.transformResults=n}}class ci{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ci}static exists(e){return new ci(void 0,e)}static updateTime(e){return new ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Np(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let fy=class{};function i2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new a2(t.key,ci.none()):new Wh(t.key,t.data,ci.none());{const n=t.data,r=jr.empty();let s=new En(_n.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Za(t.key,r,new ns(s.toArray()),ci.none())}}function BZ(t,e,n){t instanceof Wh?function(s,i,o){const a=s.value.clone(),l=DP(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Za?function(s,i,o){if(!Np(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=DP(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(o2(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ld(t,e,n,r){return t instanceof Wh?function(i,o,a,l){if(!Np(i.precondition,o))return a;const c=i.value.clone(),u=kP(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Za?function(i,o,a,l){if(!Np(i.precondition,o))return a;const c=kP(i.fieldTransforms,l,o),u=o.data;return u.setAll(o2(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,o,a){return Np(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function $Z(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=t2(r.transform,s||null);i!=null&&(n===null&&(n=jr.empty()),n.set(r.field,i))}return n||null}function NP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Rc(r,s,(i,o)=>FZ(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wh extends fy{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Za extends fy{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function o2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function DP(t,e,n){const r=new Map;wt(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,VZ(o,a,n[s]))}return r}function kP(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,jZ(i,o,e))}return r}class a2 extends fy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zZ extends fy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KZ{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&BZ(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ld(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ld(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ZL();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=i2(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(De.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ye())}isEqual(e){return this.batchId===e.batchId&&Rc(this.mutations,e.mutations,(n,r)=>NP(n,r))&&Rc(this.baseMutations,e.baseMutations,(n,r)=>NP(n,r))}}class GE{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){wt(e.mutations.length===r.length);let s=function(){return DZ}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new GE(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WZ=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HZ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,nt;function GZ(t){switch(t){default:return Ae();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function l2(t){if(t===void 0)return _i("GRPC error has no .code"),Y.UNKNOWN;switch(t){case tn.OK:return Y.OK;case tn.CANCELLED:return Y.CANCELLED;case tn.UNKNOWN:return Y.UNKNOWN;case tn.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case tn.INTERNAL:return Y.INTERNAL;case tn.UNAVAILABLE:return Y.UNAVAILABLE;case tn.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case tn.NOT_FOUND:return Y.NOT_FOUND;case tn.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case tn.ABORTED:return Y.ABORTED;case tn.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case tn.DATA_LOSS:return Y.DATA_LOSS;default:return Ae()}}(nt=tn||(tn={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qZ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QZ=new Ia([4294967295,4294967295],0);function MP(t){const e=qZ().encode(t),n=new NL;return n.update(e),new Uint8Array(n.digest())}function OP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ia([n,r],0),new Ia([s,i],0)]}class qE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Bu(`Invalid padding: ${n}`);if(r<0)throw new Bu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Bu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ia.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Ia.fromNumber(r)));return s.compare(QZ)===1&&(s=new Ia([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=MP(e),[r,s]=OP(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new qE(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=MP(e),[r,s]=OP(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Bu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Hh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new py(De.min(),s,new Vt(lt),xi(),Ye())}}class Hh{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Hh(r,n,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class c2{constructor(e,n){this.targetId=e,this.me=n}}class u2{constructor(e,n,r=bn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class LP{constructor(){this.fe=0,this.ge=VP(),this.pe=bn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ye(),n=Ye(),r=Ye();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ae()}}),new Hh(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=VP()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,wt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class YZ{constructor(e){this.Le=e,this.Be=new Map,this.ke=xi(),this.qe=jP(),this.Qe=new Vt(lt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(j0(i))if(r===0){const o=new be(i.path);this.Ue(n,o,jn.newNoDocument(o,De.min()))}else wt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ba(r).toUint8Array()}catch(l){if(l instanceof BL)return Pc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new qE(o,s,i)}catch(l){return Pc(l instanceof Bu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&j0(a.target)){const l=new be(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,jn.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=Ye();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new py(e,n,this.Qe,this.ke,r);return this.ke=xi(),this.qe=jP(),this.Qe=new Vt(lt),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new LP,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new En(lt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new LP),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function jP(){return new Vt(be.comparator)}function VP(){return new Vt(be.comparator)}const XZ={asc:"ASCENDING",desc:"DESCENDING"},JZ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZZ={and:"AND",or:"OR"};class eee{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function F0(t,e){return t.useProto3Json||ay(e)?e:{value:e}}function Fm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function d2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function tee(t,e){return Fm(t,e.toTimestamp())}function ks(t){return wt(!!t),De.fromTimestamp(function(n){const r=Lo(n);return new dn(r.seconds,r.nanos)}(t))}function QE(t,e){return U0(t,e).canonicalString()}function U0(t,e){const n=function(s){return new Wt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function h2(t){const e=Wt.fromString(t);return wt(y2(e)),e}function B0(t,e){return QE(t.databaseId,e.path)}function zv(t,e){const n=h2(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(p2(n))}function f2(t,e){return QE(t.databaseId,e)}function nee(t){const e=h2(t);return e.length===4?Wt.emptyPath():p2(e)}function $0(t){return new Wt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function p2(t){return wt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function FP(t,e,n){return{name:B0(t,e),fields:n.value.mapValue.fields}}function ree(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(wt(u===void 0||typeof u=="string"),bn.fromBase64String(u||"")):(wt(u===void 0||u instanceof Buffer||u instanceof Uint8Array),bn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?Y.UNKNOWN:l2(c.code);return new Se(u,c.message||"")}(o);n=new u2(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=zv(t,r.document.name),i=ks(r.document.updateTime),o=r.document.createTime?ks(r.document.createTime):De.min(),a=new jr({mapValue:{fields:r.document.fields}}),l=jn.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Dp(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=zv(t,r.document),i=r.readTime?ks(r.readTime):De.min(),o=jn.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Dp([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=zv(t,r.document),i=r.removedTargetIds||[];n=new Dp([],i,s,null)}else{if(!("filter"in e))return Ae();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new HZ(s,i),a=r.targetId;n=new c2(a,o)}}return n}function see(t,e){let n;if(e instanceof Wh)n={update:FP(t,e.key,e.value)};else if(e instanceof a2)n={delete:B0(t,e.key)};else if(e instanceof Za)n={update:FP(t,e.key,e.data),updateMask:fee(e.fieldMask)};else{if(!(e instanceof zZ))return Ae();n={verify:B0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof jm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Xd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Jd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Vm)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Ae()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:tee(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ae()}(t,e.precondition)),n}function iee(t,e){return t&&t.length>0?(wt(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?ks(s.updateTime):ks(i);return o.isEqual(De.min())&&(o=ks(i)),new UZ(o,s.transformResults||[])}(n,e))):[]}function oee(t,e){return{documents:[f2(t,e.path)]}}function aee(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=f2(t,s);const i=function(c){if(c.length!==0)return g2(Ls.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(u=>function(p){return{field:vl(p.field),direction:uee(p.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=F0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function lee(t){let e=nee(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){wt(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(d){const p=m2(d);return p instanceof Ls&&WL(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(p=>function(w){return new Lm(wl(w.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(d){let p;return p=typeof d=="object"?d.value:d,ay(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(d){const p=!!d.before,g=d.values||[];return new Om(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const p=!d.before,g=d.values||[];return new Om(g,p)}(n.endAt)),CZ(e,s,o,i,a,"F",l,c)}function cee(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function m2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=wl(n.unaryFilter.field);return cn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=wl(n.unaryFilter.field);return cn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=wl(n.unaryFilter.field);return cn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=wl(n.unaryFilter.field);return cn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(t):t.fieldFilter!==void 0?function(n){return cn.create(wl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ls.create(n.compositeFilter.filters.map(r=>m2(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ae()}}(n.compositeFilter.op))}(t):Ae()}function uee(t){return XZ[t]}function dee(t){return JZ[t]}function hee(t){return ZZ[t]}function vl(t){return{fieldPath:t.canonicalString()}}function wl(t){return _n.fromServerFormat(t.fieldPath)}function g2(t){return t instanceof cn?function(n){if(n.op==="=="){if(bP(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NAN"}};if(SP(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bP(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NOT_NAN"}};if(SP(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vl(n.field),op:dee(n.op),value:n.value}}}(t):t instanceof Ls?function(n){const r=n.getFilters().map(s=>g2(s));return r.length===1?r[0]:{compositeFilter:{op:hee(n.op),filters:r}}}(t):Ae()}function fee(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function y2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n,r,s,i=De.min(),o=De.min(),a=bn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new lo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pee{constructor(e){this.ct=e}}function mee(t){const e=lee({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?V0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gee{constructor(){this.un=new yee}addToCollectionParentIndex(e,n){return this.un.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(Oo.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(Oo.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class yee{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new En(Wt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new En(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Nc(0)}static kn(){return new Nc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vee{constructor(){this.changes=new Yc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wee{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ee{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ld(r.mutation,s,ns.empty(),dn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ye()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ye()){const s=ga();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Uu();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ga();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ye()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=xi();const o=ad(),a=function(){return ad()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof Za)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),ld(u.mutation,c,u.mutation.getFieldMask(),dn.now())):o.set(c.key,ns.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new wee(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ad();let s=new Vt((o,a)=>o-a),i=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||ns.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(s.get(a.batchId)||Ye()).add(l);s=s.insert(a.batchId,d)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=ZL();u.forEach(p=>{if(!i.has(p)){const g=i2(n.get(p),r.get(p));g!==null&&d.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return Q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return be.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):PZ(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Q.resolve(ga());let a=-1,l=i;return o.next(c=>Q.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(u)?Q.resolve():this.remoteDocumentCache.getEntry(e,u).next(p=>{l=l.insert(u,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Ye())).next(u=>({batchId:a,changes:JL(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next(r=>{let s=Uu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Uu();return this.indexManager.getCollectionParents(e,i).next(a=>Q.forEach(a,l=>{const c=function(d,p){return new ly(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(u=>{u.forEach((d,p)=>{o=o.insert(d,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,jn.newInvalidDocument(u)))});let a=Uu();return o.forEach((l,c)=>{const u=i.get(l);u!==void 0&&ld(u.mutation,c,ns.empty(),dn.now()),dy(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xee{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ks(s.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:mee(s.bundledQuery),readTime:ks(s.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eee{constructor(){this.overlays=new Vt(be.comparator),this.Ir=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ga();return Q.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const s=ga(),i=n.length+1,o=new be(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Vt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=ga(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=ga(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return Q.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new WZ(n,r));let i=this.Ir.get(n);i===void 0&&(i=Ye(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tee{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(){this.Tr=new En(hn.Er),this.dr=new En(hn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new hn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new hn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new be(new Wt([])),r=new hn(n,e),s=new hn(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new be(new Wt([])),r=new hn(n,e),s=new hn(n,e+1);let i=Ye();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new hn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class hn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return be.comparator(e.key,n.key)||lt(e.wr,n.wr)}static Ar(e,n){return lt(e.wr,n.wr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class See{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new En(hn.Er)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new KZ(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new hn(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return Q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new hn(n,0),s=new hn(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),Q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new En(lt);return n.forEach(s=>{const i=new hn(s,0),o=new hn(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),Q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;be.isDocumentKey(i)||(i=i.child(""));const o=new hn(new be(i),0);let a=new En(lt);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.wr)),!0)},o),Q.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){wt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Q.forEach(n.mutations,s=>{const i=new hn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new hn(n,0),s=this.br.firstAfterOrEqual(r);return Q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bee{constructor(e){this.Mr=e,this.docs=function(){return new Vt(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():jn.newInvalidDocument(n))}getEntries(e,n){let r=xi();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():jn.newInvalidDocument(s))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=xi();const o=n.path,a=new be(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||aZ(oZ(u),r)<=0||(s.has(u.key)||dy(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return Q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ae()}Or(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Cee(this)}getSize(e){return Q.resolve(this.size)}}class Cee extends vee{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pee{constructor(e){this.persistence=e,this.Nr=new Yc(n=>KE(n),WE),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.Lr=0,this.Br=new YE,this.targetCount=0,this.kr=Nc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Nc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Kn(n),Q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),Q.waitFor(i).next(()=>s)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),Q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ree{constructor(e,n){this.qr={},this.overlays={},this.Qr=new UE(0),this.Kr=!1,this.Kr=!0,this.$r=new Tee,this.referenceDelegate=e(this),this.Ur=new Pee(this),this.indexManager=new gee,this.remoteDocumentCache=function(s){return new bee(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new pee(n),this.Gr=new xee(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Eee,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new See(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ge("MemoryPersistence","Starting transaction:",e);const s=new Iee(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return Q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Iee extends cZ{constructor(e){super(),this.currentSequenceNumber=e}}class XE{constructor(e){this.persistence=e,this.Jr=new YE,this.Yr=null}static Zr(e){return new XE(e)}get Xr(){if(this.Yr)return this.Yr;throw Ae()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Xr,r=>{const s=be.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,De.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Q.or([()=>Q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Ye(),s=Ye();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new JE(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aee{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nee{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return P$()?8:uZ(Bn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Aee;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Cu()<=tt.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",yl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Q.resolve()):(Cu()<=tt.DEBUG&&ge("QueryEngine","Query:",yl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Cu()<=tt.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",yl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ds(n))):Q.resolve())}Yi(e,n){if(IP(n))return Q.resolve(null);let r=Ds(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=V0(n,null,"F"),r=Ds(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ye(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,V0(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,s){return IP(n)||s.isEqual(De.min())?Q.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?Q.resolve(null):(Cu()<=tt.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),yl(n)),this.rs(e,o,n,iZ(s,-1)).next(a=>a))})}ts(e,n){let r=new En(YL(e));return n.forEach((s,i)=>{dy(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Cu()<=tt.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",yl(n)),this.Ji.getDocumentsMatchingQuery(e,n,Oo.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dee{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Vt(lt),this._s=new Yc(i=>KE(i),WE),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _ee(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function kee(t,e,n,r){return new Dee(t,e,n,r)}async function v2(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ye();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function Mee(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,p=d.keys();let g=Q.resolve();return p.forEach(w=>{g=g.next(()=>u.getEntry(l,w)).next(v=>{const E=c.docVersions.get(w);wt(E!==null),v.version.compareTo(E)<0&&(d.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),u.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ye();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function w2(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Oee(t,e){const n=Me(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((u,d)=>{const p=s.get(d);if(!p)return;a.push(n.Ur.removeMatchingKeys(i,u.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(i,u.addedDocuments,d)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(bn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,r)),s=s.insert(d,g),function(v,E,_){return v.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,g,u)&&a.push(n.Ur.updateTargetData(i,g))});let l=xi(),c=Ye();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(Lee(i,o,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual(De.min())){const u=n.Ur.getLastRemoteSnapshotVersion(i).next(d=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return Q.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.os=s,i))}function Lee(t,e,n){let r=Ye(),s=Ye();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=xi();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(De.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ge("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function jee(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Vee(t,e){const n=Me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,Q.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new lo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function z0(t,e,n){const r=Me(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Kh(o))throw o;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function UP(t,e,n){const r=Me(t);let s=De.min(),i=Ye();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=Me(l),p=d._s.get(u);return p!==void 0?Q.resolve(d.os.get(p)):d.Ur.getTargetData(c,u)}(r,o,Ds(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:De.min(),n?i:Ye())).next(a=>(Fee(r,IZ(e),a),{documents:a,Ts:i})))}function Fee(t,e,n){let r=t.us.get(e)||De.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class BP{constructor(){this.activeTargetIds=OZ()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Uee{constructor(){this.so=new BP,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new BP,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bee{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zf=null;function Kv(){return Zf===null?Zf=function(){return 268435456+Math.round(2147483648*Math.random())}():Zf++,"0x"+Zf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ee={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zee{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn="WebChannelConnection";class Kee extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=Kv(),l=this.xo(n,r.toUriEncodedString());ge("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(n,l,c,s).then(u=>(ge("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Pc("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=$ee[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Kv();return new Promise((o,a)=>{const l=new DL;l.setWithCredentials(!0),l.listenOnce(ML.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ip.NO_ERROR:const u=l.getResponseJson();ge(Dn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case Ip.TIMEOUT:ge(Dn,`RPC '${e}' ${i} timed out`),a(new Se(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Ip.HTTP_ERROR:const d=l.getStatus();if(ge(Dn,`RPC '${e}' ${i} failed with status:`,d,"response text:",l.getResponseText()),d>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const w=function(E){const _=E.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(_)>=0?_:Y.UNKNOWN}(g.status);a(new Se(w,g.message))}else a(new Se(Y.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Se(Y.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{ge(Dn,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);ge(Dn,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=Kv(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=jL(),a=LL(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new kL({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");ge(Dn,`Creating RPC '${e}' stream ${s}: ${u}`,l);const d=o.createWebChannel(u,l);let p=!1,g=!1;const w=new zee({Io:E=>{g?ge(Dn,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(p||(ge(Dn,`Opening RPC '${e}' stream ${s} transport.`),d.open(),p=!0),ge(Dn,`RPC '${e}' stream ${s} sending:`,E),d.send(E))},To:()=>d.close()}),v=(E,_,y)=>{E.listen(_,S=>{try{y(S)}catch(R){setTimeout(()=>{throw R},0)}})};return v(d,Fu.EventType.OPEN,()=>{g||(ge(Dn,`RPC '${e}' stream ${s} transport opened.`),w.yo())}),v(d,Fu.EventType.CLOSE,()=>{g||(g=!0,ge(Dn,`RPC '${e}' stream ${s} transport closed`),w.So())}),v(d,Fu.EventType.ERROR,E=>{g||(g=!0,Pc(Dn,`RPC '${e}' stream ${s} transport errored:`,E),w.So(new Se(Y.UNAVAILABLE,"The operation could not be completed")))}),v(d,Fu.EventType.MESSAGE,E=>{var _;if(!g){const y=E.data[0];wt(!!y);const S=y,R=S.error||((_=S[0])===null||_===void 0?void 0:_.error);if(R){ge(Dn,`RPC '${e}' stream ${s} received error:`,R);const D=R.status;let O=function(P){const I=tn[P];if(I!==void 0)return l2(I)}(D),C=R.message;O===void 0&&(O=Y.INTERNAL,C="Unknown error status: "+D+" with message "+R.message),g=!0,w.So(new Se(O,C)),d.close()}else ge(Dn,`RPC '${e}' stream ${s} received:`,y),w.bo(y)}}),v(a,OL.STAT_EVENT,E=>{E.stat===k0.PROXY?ge(Dn,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===k0.NOPROXY&&ge(Dn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function Wv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(t){return new eee(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&ge("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,n,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new _2(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(_i(n.toString()),_i("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new Se(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Wee extends x2{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=ree(this.serializer,e),r=function(i){if(!("targetChange"in i))return De.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?De.min():o.readTime?ks(o.readTime):De.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=$0(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=j0(l)?{documents:oee(i,l)}:{query:aee(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=d2(i,o.resumeToken);const c=F0(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(De.min())>0){a.readTime=Fm(i,o.snapshotVersion.toTimestamp());const c=F0(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=cee(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=$0(this.serializer),n.removeTarget=e,this.a_(n)}}class Hee extends x2{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return wt(!!e.streamToken),this.lastStreamToken=e.streamToken,wt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){wt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=iee(e.writeResults,e.commitTime),r=ks(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=$0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>see(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gee extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new Se(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,U0(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Se(Y.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,U0(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(Y.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class qee{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(_i(n),this.D_=!1):ge("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qee{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{el(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Me(l);c.L_.add(4),await Gh(c),c.q_.set("Unknown"),c.L_.delete(4),await gy(c)}(this))})}),this.q_=new qee(r,s)}}async function gy(t){if(el(t))for(const e of t.B_)await e(!0)}async function Gh(t){for(const e of t.B_)await e(!1)}function E2(t,e){const n=Me(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),nT(n)?tT(n):Xc(n).r_()&&eT(n,e))}function ZE(t,e){const n=Me(t),r=Xc(n);n.N_.delete(e),r.r_()&&T2(n,e),n.N_.size===0&&(r.r_()?r.o_():el(n)&&n.q_.set("Unknown"))}function eT(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xc(t).A_(e)}function T2(t,e){t.Q_.xe(e),Xc(t).R_(e)}function tT(t){t.Q_=new YZ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Xc(t).start(),t.q_.v_()}function nT(t){return el(t)&&!Xc(t).n_()&&t.N_.size>0}function el(t){return Me(t).L_.size===0}function S2(t){t.Q_=void 0}async function Yee(t){t.q_.set("Online")}async function Xee(t){t.N_.forEach((e,n)=>{eT(t,e)})}async function Jee(t,e){S2(t),nT(t)?(t.q_.M_(e),tT(t)):t.q_.set("Unknown")}async function Zee(t,e,n){if(t.q_.set("Online"),e instanceof u2&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Um(t,r)}else if(e instanceof Dp?t.Q_.Ke(e):e instanceof c2?t.Q_.He(e):t.Q_.We(e),!n.isEqual(De.min()))try{const r=await w2(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.N_.get(c);u&&i.N_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.N_.get(l);if(!u)return;i.N_.set(l,u.withResumeToken(bn.EMPTY_BYTE_STRING,u.snapshotVersion)),T2(i,l);const d=new lo(u.target,l,c,u.sequenceNumber);eT(i,d)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ge("RemoteStore","Failed to raise snapshot:",r),await Um(t,r)}}async function Um(t,e,n){if(!Kh(e))throw e;t.L_.add(1),await Gh(t),t.q_.set("Offline"),n||(n=()=>w2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ge("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await gy(t)})}function b2(t,e){return e().catch(n=>Um(t,n,e))}async function yy(t){const e=Me(t),n=jo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;ete(e);)try{const s=await jee(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,tte(e,s)}catch(s){await Um(e,s)}C2(e)&&P2(e)}function ete(t){return el(t)&&t.O_.length<10}function tte(t,e){t.O_.push(e);const n=jo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function C2(t){return el(t)&&!jo(t).n_()&&t.O_.length>0}function P2(t){jo(t).start()}async function nte(t){jo(t).p_()}async function rte(t){const e=jo(t);for(const n of t.O_)e.m_(n.mutations)}async function ste(t,e,n){const r=t.O_.shift(),s=GE.from(r,e,n);await b2(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await yy(t)}async function ite(t,e){e&&jo(t).V_&&await async function(r,s){if(function(o){return GZ(o)&&o!==Y.ABORTED}(s.code)){const i=r.O_.shift();jo(r).s_(),await b2(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await yy(r)}}(t,e),C2(t)&&P2(t)}async function zP(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const r=el(n);n.L_.add(3),await Gh(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await gy(n)}async function ote(t,e){const n=Me(t);e?(n.L_.delete(2),await gy(n)):e||(n.L_.add(2),await Gh(n),n.q_.set("Unknown"))}function Xc(t){return t.K_||(t.K_=function(n,r,s){const i=Me(n);return i.w_(),new Wee(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:Yee.bind(null,t),Ro:Xee.bind(null,t),mo:Jee.bind(null,t),d_:Zee.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),nT(t)?tT(t):t.q_.set("Unknown")):(await t.K_.stop(),S2(t))})),t.K_}function jo(t){return t.U_||(t.U_=function(n,r,s){const i=Me(n);return i.w_(),new Hee(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:nte.bind(null,t),mo:ite.bind(null,t),f_:rte.bind(null,t),g_:ste.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await yy(t)):(await t.U_.stop(),t.O_.length>0&&(ge("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new xo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new rT(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sT(t,e){if(_i("AsyncQueue",`${e}: ${t}`),Kh(t))return new Se(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||be.comparator(n.key,r.key):(n,r)=>be.comparator(n.key,r.key),this.keyedMap=Uu(),this.sortedSet=new Vt(this.comparator)}static emptySet(e){return new Xl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Xl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(){this.W_=new Vt(be.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ae():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Dc{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Dc(e,n,Xl.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ate{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class lte{constructor(){this.queries=WP(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Me(n),i=s.queries;s.queries=WP(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Se(Y.ABORTED,"Firestore shutting down"))}}function WP(){return new Yc(t=>QL(t),uy)}async function R2(t,e){const n=Me(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new ate,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=sT(o,`Initialization of query '${yl(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&iT(n)}async function I2(t,e){const n=Me(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function cte(t,e){const n=Me(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&iT(n)}function ute(t,e,n){const r=Me(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function iT(t){t.Y_.forEach(e=>{e.next()})}var K0,HP;(HP=K0||(K0={})).ea="default",HP.Cache="cache";class A2{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Dc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Dc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==K0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.key=e}}class D2{constructor(e){this.key=e}}class dte{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ye(),this.mutatedKeys=Ye(),this.Aa=YL(e),this.Ra=new Xl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new KP,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,d)=>{const p=s.get(u),g=dy(this.query,d)?d:null,w=!!p&&this.mutatedKeys.has(p.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let E=!1;p&&g?p.data.isEqual(g.data)?w!==v&&(r.track({type:3,doc:g}),E=!0):this.ga(p,g)||(r.track({type:2,doc:g}),E=!0,(l&&this.Aa(g,l)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),E=!0):p&&!g&&(r.track({type:1,doc:p}),E=!0,(l||c)&&(a=!0)),E&&(g?(o=o.add(g),i=v?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,d)=>function(g,w){const v=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return v(g)-v(w)}(u.type,d.type)||this.Aa(u.doc,d.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Dc(this.query,e.Ra,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new KP,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ye(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new D2(r))}),this.da.forEach(r=>{e.has(r)||n.push(new N2(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ye();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Dc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class hte{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fte{constructor(e){this.key=e,this.va=!1}}class pte{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Yc(a=>QL(a),uy),this.Ma=new Map,this.xa=new Set,this.Oa=new Vt(be.comparator),this.Na=new Map,this.La=new YE,this.Ba={},this.ka=new Map,this.qa=Nc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function mte(t,e,n=!0){const r=V2(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await k2(r,e,n,!0),s}async function gte(t,e){const n=V2(t);await k2(n,e,!0,!1)}async function k2(t,e,n,r){const s=await Vee(t.localStore,Ds(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await yte(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&E2(t.remoteStore,s),a}async function yte(t,e,n,r,s){t.Ka=(d,p,g)=>async function(v,E,_,y){let S=E.view.ma(_);S.ns&&(S=await UP(v.localStore,E.query,!1).then(({documents:C})=>E.view.ma(C,S)));const R=y&&y.targetChanges.get(E.targetId),D=y&&y.targetMismatches.get(E.targetId)!=null,O=E.view.applyChanges(S,v.isPrimaryClient,R,D);return qP(v,E.targetId,O.wa),O.snapshot}(t,d,p,g);const i=await UP(t.localStore,e,!0),o=new dte(e,i.Ts),a=o.ma(i.documents),l=Hh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);qP(t,n,c.wa);const u=new hte(e,n,o);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function vte(t,e,n){const r=Me(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!uy(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await z0(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&ZE(r.remoteStore,s.targetId),W0(r,s.targetId)}).catch(zh)):(W0(r,s.targetId),await z0(r.localStore,s.targetId,!0))}async function wte(t,e){const n=Me(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ZE(n.remoteStore,r.targetId))}async function _te(t,e,n){const r=Pte(t);try{const s=await function(o,a){const l=Me(o),c=dn.now(),u=a.reduce((g,w)=>g.add(w.key),Ye());let d,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=xi(),v=Ye();return l.cs.getEntries(g,u).next(E=>{w=E,w.forEach((_,y)=>{y.isValidDocument()||(v=v.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,w)).next(E=>{d=E;const _=[];for(const y of a){const S=$Z(y,d.get(y.key).overlayedDocument);S!=null&&_.push(new Za(y.key,S,$L(S.value.mapValue),ci.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,_,a)}).next(E=>{p=E;const _=E.applyToLocalDocumentSet(d,v);return l.documentOverlayCache.saveOverlays(g,E.batchId,_)})}).then(()=>({batchId:p.batchId,changes:JL(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Vt(lt)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,s.batchId,n),await qh(r,s.changes),await yy(r.remoteStore)}catch(s){const i=sT(s,"Failed to persist write");n.reject(i)}}async function M2(t,e){const n=Me(t);try{const r=await Oee(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(wt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?wt(o.va):s.removedDocuments.size>0&&(wt(o.va),o.va=!1))}),await qh(n,r,e)}catch(r){await zh(r)}}function GP(t,e,n){const r=Me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Me(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const p of d.j_)p.Z_(a)&&(c=!0)}),c&&iT(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xte(t,e,n){const r=Me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new Vt(be.comparator);o=o.insert(i,jn.newNoDocument(i,De.min()));const a=Ye().add(i),l=new py(De.min(),new Map,new Vt(lt),o,a);await M2(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),oT(r)}else await z0(r.localStore,e,!1).then(()=>W0(r,e,n)).catch(zh)}async function Ete(t,e){const n=Me(t),r=e.batch.batchId;try{const s=await Mee(n.localStore,e);L2(n,r,null),O2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await qh(n,s)}catch(s){await zh(s)}}async function Tte(t,e,n){const r=Me(t);try{const s=await function(o,a){const l=Me(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(wt(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);L2(r,e,n),O2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await qh(r,s)}catch(s){await zh(s)}}function O2(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function L2(t,e,n){const r=Me(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function W0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||j2(t,r)})}function j2(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(ZE(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),oT(t))}function qP(t,e,n){for(const r of n)r instanceof N2?(t.La.addReference(r.key,e),Ste(t,r)):r instanceof D2?(ge("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||j2(t,r.key)):Ae()}function Ste(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ge("SyncEngine","New document in limbo: "+n),t.xa.add(r),oT(t))}function oT(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new be(Wt.fromString(e)),r=t.qa.next();t.Na.set(r,new fte(n)),t.Oa=t.Oa.insert(n,r),E2(t.remoteStore,new lo(Ds(cy(n.path)),r,"TargetPurposeLimboResolution",UE.oe))}}async function qh(t,e,n){const r=Me(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){s.push(c);const d=JE.Wi(l.targetId,c);i.push(d)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,c){const u=Me(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Q.forEach(c,p=>Q.forEach(p.$i,g=>u.persistence.referenceDelegate.addReference(d,p.targetId,g)).next(()=>Q.forEach(p.Ui,g=>u.persistence.referenceDelegate.removeReference(d,p.targetId,g)))))}catch(d){if(!Kh(d))throw d;ge("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const p=d.targetId;if(!d.fromCache){const g=u.os.get(p),w=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(w);u.os=u.os.insert(p,v)}}}(r.localStore,i))}async function bte(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const r=await v2(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new Se(Y.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await qh(n,r.hs)}}function Cte(t,e){const n=Me(t),r=n.Na.get(e);if(r&&r.va)return Ye().add(r.key);{let s=Ye();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function V2(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=M2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cte.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xte.bind(null,e),e.Ca.d_=cte.bind(null,e.eventManager),e.Ca.$a=ute.bind(null,e.eventManager),e}function Pte(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ete.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Tte.bind(null,e),e}class QP{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=my(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return kee(this.persistence,new Nee,e.initialUser,this.serializer)}createPersistence(e){return new Ree(XE.Zr,this.serializer)}createSharedClientState(e){return new Uee}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Rte{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>GP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bte.bind(null,this.syncEngine),await ote(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lte}()}createDatastore(e){const n=my(e.databaseInfo.databaseId),r=function(i){return new Kee(i)}(e.databaseInfo);return function(i,o,a,l){return new Gee(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new Qee(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>GP(this.syncEngine,n,0),function(){return $P.D()?new $P:new Bee}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,u){const d=new pte(s,i,o,a,l,c);return u&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Me(s);ge("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Gh(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):_i("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ite{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=On.UNAUTHENTICATED,this.clientId=FL.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{ge("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(ge("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Se(Y.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=sT(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Hv(t,e){t.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await v2(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function YP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Nte(t);ge("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>zP(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>zP(e.remoteStore,s)),t._onlineComponents=e}function Ate(t){return t.name==="FirebaseError"?t.code===Y.FAILED_PRECONDITION||t.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Nte(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Ate(n))throw n;Pc("Error using user provided cache. Falling back to memory cache: "+n),await Hv(t,new QP)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),await Hv(t,new QP);return t._offlineComponents}async function U2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),await YP(t,t._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),await YP(t,new Rte))),t._onlineComponents}function Dte(t){return U2(t).then(e=>e.syncEngine)}async function H0(t){const e=await U2(t),n=e.eventManager;return n.onListen=mte.bind(null,e.syncEngine),n.onUnlisten=vte.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gte.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wte.bind(null,e.syncEngine),n}function kte(t,e,n={}){const r=new xo;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new F2({next:p=>{o.enqueueAndForget(()=>I2(i,d));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new Se(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?c.reject(new Se(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),d=new A2(cy(a.path),u,{includeMetadataChanges:!0,_a:!0});return R2(i,d)}(await H0(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mte(t,e,n){if(!n)throw new Se(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Ote(t,e,n,r){if(e===!0&&r===!0)throw new Se(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function JP(t){if(!be.isDocumentKey(t))throw new Se(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function aT(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae()}function Eo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=aT(t);throw new Se(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Se(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ote("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=B2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Se(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Se(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Se(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lT{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Se(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Se(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZP(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new YJ;switch(r.type){case"firstParty":return new eZ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=XP.get(n);r&&(ge("ComponentProvider","Removing Datastore"),XP.delete(n),r.terminate())}(this),Promise.resolve()}}function Lte(t,e,n,r={}){var s;const i=(t=Eo(t,lT))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Pc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=On.MOCK_USER;else{a=dN(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Se(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new On(c)}t._authCredentials=new XJ(new VL(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $2=class z2{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new z2(this.firestore,e,this._query)}};class Er{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Er(this.firestore,e,this._key)}}class Zd extends $2{constructor(e,n,r){super(e,n,cy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Er(this.firestore,null,new be(e))}withConverter(e){return new Zd(this.firestore,e,this._path)}}function cT(t,e,...n){if(t=Sn(t),arguments.length===1&&(e=FL.newId()),Mte("doc","path",e),t instanceof lT){const r=Wt.fromString(e,...n);return JP(r),new Er(t,null,new be(r))}{if(!(t instanceof Er||t instanceof Zd))throw new Se(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Wt.fromString(e,...n));return JP(r),new Er(t.firestore,t instanceof Zd?t.converter:null,new be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jte{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new _2(this,"async_queue_retry"),this.Eu=()=>{const n=Wv();n&&ge("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=Wv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=Wv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new xo;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Kh(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw _i("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const s=rT.createAndSchedule(this,e,n,r,i=>this.Vu(i));return this.lu.push(s),s}du(){this.hu&&Ae()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}function eR(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class eh extends lT{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new jte}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||K2(this),this._firestoreClient.terminate()}}function Vte(t,e){const n=typeof t=="object"?t:yx(),r=typeof t=="string"?t:"(default)",s=mg(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=lN("firestore");i&&Lte(s,...i)}return s}function uT(t){return t._firestoreClient||K2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function K2(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,u){return new fZ(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,B2(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new Ite(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kc(bn.fromBase64String(e))}catch(n){throw new Se(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new kc(bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return lt(this._lat,e._lat)||lt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fte=/^__.*__$/;class Ute{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Za(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wh(e,this.data,n,this.fieldTransforms)}}function H2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class pT{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.yu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new pT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.vu(e),s}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.yu(),s}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Bm(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(H2(this.wu)&&Fte.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class Bte{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||my(e)}Nu(e,n,r,s=!1){return new pT({wu:e,methodName:n,Ou:r,path:_n.emptyPath(),Du:!1,xu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $te(t){const e=t._freezeSettings(),n=my(t._databaseId);return new Bte(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zte(t,e,n,r,s,i={}){const o=t.Nu(i.merge||i.mergeFields?2:0,e,n,s);Y2("Data must be an object, but it was:",o,r);const a=q2(r,o);let l,c;if(i.merge)l=new ns(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const d of i.mergeFields){const p=Kte(e,d,n);if(!o.contains(p))throw new Se(Y.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);Hte(u,p)||u.push(p)}l=new ns(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new Ute(new jr(a),l,c)}function G2(t,e){if(Q2(t=Sn(t)))return Y2("Unsupported field value:",e,t),q2(t,e);if(t instanceof W2)return function(r,s){if(!H2(s.wu))throw s.Mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=G2(a,s.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Sn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return LZ(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=dn.fromDate(r);return{timestampValue:Fm(s.serializer,i)}}if(r instanceof dn){const i=new dn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fm(s.serializer,i)}}if(r instanceof hT)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof kc)return{bytesValue:d2(s.serializer,r._byteString)};if(r instanceof Er){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:QE(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof fT)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return HE(a.serializer,l)})}}}}}}(r,s);throw s.Mu(`Unsupported field value: ${aT(r)}`)}(t,e)}function q2(t,e){const n={};return UL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qc(t,(r,s)=>{const i=G2(s,e.bu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Q2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof dn||t instanceof hT||t instanceof kc||t instanceof Er||t instanceof W2||t instanceof fT)}function Y2(t,e,n){if(!Q2(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=aT(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function Kte(t,e,n){if((e=Sn(e))instanceof dT)return e._internalPath;if(typeof e=="string")return X2(t,e);throw Bm("Field path arguments must be of type string or ",t,!1,void 0,n)}const Wte=new RegExp("[~\\*/\\[\\]]");function X2(t,e,n){if(e.search(Wte)>=0)throw Bm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new dT(...e.split("."))._internalPath}catch{throw Bm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bm(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Se(Y.INVALID_ARGUMENT,a+t+l)}function Hte(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Er(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Gte(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Z2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Gte extends J2{data(){return super.data()}}function Z2(t,e){return typeof e=="string"?X2(t,e):e instanceof dT?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qte(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qte{convertValue(e,n="none"){switch($a(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ba(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Qc(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Qt(o.doubleValue));return new fT(i)}convertGeoPoint(e){return new hT(Qt(e.latitude),Qt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$E(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qd(e));default:return null}}convertTimestamp(e){const n=Lo(e);return new dn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Wt.fromString(e);wt(y2(r));const s=new Qd(r.get(1),r.get(3)),i=new be(r.popFirst(5));return s.isEqual(n)||_i(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yte(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ej extends J2{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Z2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class kp extends ej{data(e={}){return super.data(e)}}class Xte{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new $u(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new kp(this._firestore,this._userDataWriter,r.key,r,new $u(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new kp(s._firestore,s._userDataWriter,a.doc.key,a.doc,new $u(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new kp(s._firestore,s._userDataWriter,a.doc.key,a.doc,new $u(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Jte(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Jte(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zte(t){t=Eo(t,Er);const e=Eo(t.firestore,eh);return kte(uT(e),t._key).then(n=>nj(e,t,n))}class tj extends Qte{constructor(e){super(),this.firestore=e}convertBytes(e){return new kc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Er(this.firestore,null,n)}}function ene(t,e,n){t=Eo(t,Er);const r=Eo(t.firestore,eh),s=Yte(t.converter,e,n);return nne(r,[zte($te(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,ci.none())])}function tne(t,...e){var n,r,s;t=Sn(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||eR(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(eR(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(s=d.complete)===null||s===void 0?void 0:s.bind(d)}let l,c,u;if(t instanceof Er)c=Eo(t.firestore,eh),u=cy(t._key.path),l={next:d=>{e[o]&&e[o](nj(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Eo(t,$2);c=Eo(d.firestore,eh),u=d._query;const p=new tj(c);l={next:g=>{e[o]&&e[o](new Xte(c,p,d,g))},error:e[o+1],complete:e[o+2]},qte(t._query)}return function(p,g,w,v){const E=new F2(v),_=new A2(g,E,w);return p.asyncQueue.enqueueAndForget(async()=>R2(await H0(p),_)),()=>{E.za(),p.asyncQueue.enqueueAndForget(async()=>I2(await H0(p),_))}}(uT(c),u,a,l)}function nne(t,e){return function(r,s){const i=new xo;return r.asyncQueue.enqueueAndForget(async()=>_te(await Dte(r),s,i)),i.promise}(uT(t),e)}function nj(t,e,n){const r=n.docs.get(e._key),s=new tj(t);return new ej(t,s,e._key,r,new $u(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){qc=s})(Qa),La(new bo("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new eh(new JJ(r.getProvider("auth-internal")),new nZ(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Se(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qd(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Ps(wP,"4.7.2",e),Ps(wP,"4.7.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj="firebasestorage.googleapis.com",sj="storageBucket",rne=2*60*1e3,sne=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt extends js{constructor(e,n,r=0){super(Gv(e),`Firebase Storage: ${n} (${Gv(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Gt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ht;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ht||(Ht={}));function Gv(t){return"storage/"+t}function mT(){const t="An unknown error occurred, please check the error payload for server response.";return new Gt(Ht.UNKNOWN,t)}function ine(t){return new Gt(Ht.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function one(t){return new Gt(Ht.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function ane(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Gt(Ht.UNAUTHENTICATED,t)}function lne(){return new Gt(Ht.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function cne(t){return new Gt(Ht.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function une(){return new Gt(Ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function dne(){return new Gt(Ht.CANCELED,"User canceled the upload/download.")}function hne(t){return new Gt(Ht.INVALID_URL,"Invalid URL '"+t+"'.")}function fne(t){return new Gt(Ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function pne(){return new Gt(Ht.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+sj+"' property when initializing the app?")}function mne(){return new Gt(Ht.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function gne(){return new Gt(Ht.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function yne(t){return new Gt(Ht.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function G0(t){return new Gt(Ht.INVALID_ARGUMENT,t)}function ij(){return new Gt(Ht.APP_DELETED,"The Firebase app was deleted.")}function vne(t){return new Gt(Ht.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function cd(t,e){return new Gt(Ht.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Pu(t){throw new Gt(Ht.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=wr.makeFromUrl(e,n)}catch{return new wr(e,"")}if(r.path==="")return r;throw fne(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(R){R.path_=decodeURIComponent(R.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${d}/${u}/b/${s}/o${p}`,"i"),w={bucket:1,path:3},v=n===rj?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",_=new RegExp(`^https?://${v}/${s}/${E}`,"i"),S=[{regex:a,indices:l,postModify:i},{regex:g,indices:w,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let R=0;R<S.length;R++){const D=S[R],O=D.regex.exec(e);if(O){const C=O[D.indices.bucket];let T=O[D.indices.path];T||(T=""),r=new wr(C,T),D.postModify(r);break}}if(r==null)throw hne(e);return r}}class wne{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ne(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...E){c||(c=!0,e.apply(null,E))}function d(E){s=setTimeout(()=>{s=null,t(g,l())},E)}function p(){i&&clearTimeout(i)}function g(E,..._){if(c){p();return}if(E){p(),u.call(null,E,..._);return}if(l()||o){p(),u.call(null,E,..._);return}r<64&&(r*=2);let S;a===1?(a=2,S=0):S=(r+Math.random())*1e3,d(S)}let w=!1;function v(E){w||(w=!0,p(),!c&&(s!==null?(E||(a=2),clearTimeout(s),d(0)):E||(a=1)))}return d(0),i=setTimeout(()=>{o=!0,v(!0)},n),v}function xne(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ene(t){return t!==void 0}function Tne(t){return typeof t=="object"&&!Array.isArray(t)}function gT(t){return typeof t=="string"||t instanceof String}function tR(t){return yT()&&t instanceof Blob}function yT(){return typeof Blob<"u"}function nR(t,e,n,r){if(r<e)throw G0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw G0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function oj(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Aa;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Aa||(Aa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sne(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bne{constructor(e,n,r,s,i,o,a,l,c,u,d,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,w)=>{this.resolve_=g,this.reject_=w,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new ep(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Aa.NO_ERROR,l=i.getStatus();if(!a||Sne(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===Aa.ABORT;r(!1,new ep(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new ep(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Ene(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=mT();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?ij():dne();o(l)}else{const l=une();o(l)}};this.canceled_?n(!1,new ep(!1,null,!0)):this.backoffId_=_ne(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&xne(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ep{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Cne(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Pne(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Rne(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Ine(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Ane(t,e,n,r,s,i,o=!0){const a=oj(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return Rne(c,e),Cne(c,n),Pne(c,i),Ine(c,r),new bne(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nne(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Dne(...t){const e=Nne();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(yT())return new Blob(t);throw new Gt(Ht.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function kne(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mne(t){if(typeof atob>"u")throw yne("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class qv{constructor(e,n){this.data=e,this.contentType=n||null}}function One(t,e){switch(t){case Ts.RAW:return new qv(aj(e));case Ts.BASE64:case Ts.BASE64URL:return new qv(lj(t,e));case Ts.DATA_URL:return new qv(jne(e),Vne(e))}throw mT()}function aj(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Lne(t){let e;try{e=decodeURIComponent(t)}catch{throw cd(Ts.DATA_URL,"Malformed data URL.")}return aj(e)}function lj(t,e){switch(t){case Ts.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw cd(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Ts.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw cd(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Mne(e)}catch(s){throw s.message.includes("polyfill")?s:cd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class cj{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw cd(Ts.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Fne(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function jne(t){const e=new cj(t);return e.base64?lj(Ts.BASE64,e.rest):Lne(e.rest)}function Vne(t){return new cj(t).contentType}function Fne(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n){let r=0,s="";tR(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(tR(this.data_)){const r=this.data_,s=kne(r,e,n);return s===null?null:new qi(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new qi(r,!0)}}static getBlob(...e){if(yT()){const n=e.map(r=>r instanceof qi?r.data_:r);return new qi(Dne.apply(null,n))}else{const n=e.map(o=>gT(o)?One(Ts.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new qi(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(t){let e;try{e=JSON.parse(t)}catch{return null}return Tne(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Une(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Bne(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function dj(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ne(t,e){return e}class Hn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||$ne}}let tp=null;function zne(t){return!gT(t)||t.length<2?t:dj(t)}function hj(){if(tp)return tp;const t=[];t.push(new Hn("bucket")),t.push(new Hn("generation")),t.push(new Hn("metageneration")),t.push(new Hn("name","fullPath",!0));function e(i,o){return zne(o)}const n=new Hn("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new Hn("size");return s.xform=r,t.push(s),t.push(new Hn("timeCreated")),t.push(new Hn("updated")),t.push(new Hn("md5Hash",null,!0)),t.push(new Hn("cacheControl",null,!0)),t.push(new Hn("contentDisposition",null,!0)),t.push(new Hn("contentEncoding",null,!0)),t.push(new Hn("contentLanguage",null,!0)),t.push(new Hn("contentType",null,!0)),t.push(new Hn("metadata","customMetadata",!0)),tp=t,tp}function Kne(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new wr(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function Wne(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return Kne(r,t),r}function fj(t,e,n){const r=uj(e);return r===null?null:Wne(t,r,n)}function Hne(t,e,n,r){const s=uj(e);if(s===null||!gT(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(c=>{const u=t.bucket,d=t.fullPath,p="/b/"+o(u)+"/o/"+o(d),g=Qh(p,n,r),w=oj({alt:"media",token:c});return g+w})[0]}function Gne(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class vy{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(t){if(!t)throw mT()}function qne(t,e){function n(r,s){const i=fj(t,s,e);return pj(i!==null),i}return n}function Qne(t,e){function n(r,s){const i=fj(t,s,e);return pj(i!==null),Hne(i,s,t.host,t._protocol)}return n}function mj(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=lne():s=ane():n.getStatus()===402?s=one(t.bucket):n.getStatus()===403?s=cne(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function vT(t){const e=mj(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=ine(t.path)),i.serverResponse=s.serverResponse,i}return n}function Yne(t,e,n){const r=e.fullServerUrl(),s=Qh(r,t.host,t._protocol)+"?alt=media",i="GET",o=t.maxOperationRetryTime,a=new vy(s,i,(l,c)=>c,o);return a.errorHandler=vT(e),a}function Xne(t,e,n){const r=e.fullServerUrl(),s=Qh(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new vy(s,i,Qne(t,n),o);return a.errorHandler=vT(e),a}function Jne(t,e){const n=e.fullServerUrl(),r=Qh(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(l,c){}const a=new vy(r,s,o,i);return a.successCodes=[200,204],a.errorHandler=vT(e),a}function Zne(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function ere(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Zne(null,e)),r}function tre(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let S="";for(let R=0;R<2;R++)S=S+Math.random().toString().slice(2);return S}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=ere(e,r,s),u=Gne(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,p=`\r
--`+l+"--",g=qi.getBlob(d,r,p);if(g===null)throw mne();const w={name:c.fullPath},v=Qh(i,t.host,t._protocol),E="POST",_=t.maxUploadRetryTime,y=new vy(v,E,qne(t,n),_);return y.urlParams=w,y.headers=o,y.body=g.uploadData(),y.errorHandler=mj(e),y}class gj{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Aa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Aa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Aa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Pu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Pu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Pu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Pu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Pu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class nre extends gj{initXhr(){this.xhr_.responseType="text"}}function wT(){return new nre}class rre extends gj{initXhr(){this.xhr_.responseType="blob"}}function sre(){return new rre}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,n){this._service=e,n instanceof wr?this._location=n:this._location=wr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new za(e,n)}get root(){const e=new wr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return dj(this._location.path)}get storage(){return this._service}get parent(){const e=Une(this._location.path);if(e===null)return null;const n=new wr(this._location.bucket,e);return new za(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw vne(e)}}function ire(t,e){t._throwIfRoot("getBlob");const n=Yne(t.storage,t._location);return t.storage.makeRequestWithTokens(n,sre).then(r=>r)}function ore(t,e,n){t._throwIfRoot("uploadBytes");const r=tre(t.storage,t._location,hj(),new qi(e,!0),n);return t.storage.makeRequestWithTokens(r,wT).then(s=>({metadata:s,ref:t}))}function are(t){t._throwIfRoot("getDownloadURL");const e=Xne(t.storage,t._location,hj());return t.storage.makeRequestWithTokens(e,wT).then(n=>{if(n===null)throw gne();return n})}function lre(t){t._throwIfRoot("deleteObject");const e=Jne(t.storage,t._location);return t.storage.makeRequestWithTokens(e,wT)}function cre(t,e){const n=Bne(t._location.path,e),r=new wr(t._location.bucket,n);return new za(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ure(t){return/^[A-Za-z]+:\/\//.test(t)}function dre(t,e){return new za(t,e)}function yj(t,e){if(t instanceof _T){const n=t;if(n._bucket==null)throw pne();const r=new za(n,n._bucket);return e!=null?yj(r,e):r}else return e!==void 0?cre(t,e):t}function hre(t,e){if(e&&ure(e)){if(t instanceof _T)return dre(t,e);throw G0("To use ref(service, url), the first argument must be a Storage instance.")}else return yj(t,e)}function rR(t,e){const n=e==null?void 0:e[sj];return n==null?null:wr.makeFromBucketSpec(n,t)}function fre(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:dN(s,t.app.options.projectId))}class _T{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=rj,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=rne,this._maxUploadRetryTime=sne,this._requests=new Set,s!=null?this._bucket=wr.makeFromBucketSpec(s,this._host):this._bucket=rR(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=wr.makeFromBucketSpec(this._url,e):this._bucket=rR(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){nR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){nR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new za(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new wne(ij());{const o=Ane(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const sR="@firebase/storage",iR="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj="storage";function pre(t,e,n){return t=Sn(t),ore(t,e,n)}function mre(t){return t=Sn(t),are(t)}function gre(t){return t=Sn(t),lre(t)}function xT(t,e){return t=Sn(t),hre(t,e)}function yre(t=yx(),e){t=Sn(t);const r=mg(t,vj).getImmediate({identifier:e}),s=lN("storage");return s&&vre(r,...s),r}function vre(t,e,n,r={}){fre(t,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wre(t,e){return t=Sn(t),ire(t)}function _re(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new _T(n,r,s,e,Qa)}function xre(){La(new bo(vj,_re,"PUBLIC").setMultipleInstances(!0)),Ps(sR,iR,""),Ps(sR,iR,"esm2017")}xre();const Ere={apiKey:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",authDomain:"cob-chatbot.firebaseapp.com",projectId:"cob-chatbot",storageBucket:"cob-chatbot.appspot.com",messagingSenderId:"275602489097",appId:"1:275602489097:web:5c490d86e9f69e1314ddd8"},wj=pN(Ere),ET=Vte(wj),TT=yre(wj),q0=async(t,e,n)=>{try{const r=xT(TT,`${e}/${n}`),s=await pre(r,t);return await mre(s.ref)}catch(r){r instanceof Error&&Mt(r.message)}},_j=async t=>{const e=xT(TT,t),n=await wre(e),r=t.split("/").pop()||"unknown_file";return new File([n],r,{type:n.type})},Tre=async t=>{try{const e=xT(TT,t);await gre(e),Mt("File deleted successfully!")}catch(e){e instanceof Error&&Mt(e.message)}},Sre=async(t,e,n,r=!1)=>{try{const s=cT(ET,t,e);await ene(s,n,{merge:r})}catch(s){s instanceof Error&&Mt(s.message)}},bre=async(t,e)=>{const n=cT(ET,t,e),r=await Zte(n);return r.exists()?r.data():null},Cre=(t,e,n)=>{try{const r=cT(ET,t,e);return tne(r,i=>{i.exists()?n(i.data()):(Mt("No such document!"),n(null))})}catch(r){throw r}},xj=t=>{const{file:e}=ut(w=>w.formData),n=ut(w=>w.setFormData),r=ut(w=>w.setFile),[s,i]=m.useState(!1),[o,a]=m.useState(!1),l=m.useRef(null),c=m.useRef(null);return{file:e,setFile:r,isLinkDialogOpen:o,setIsLinkDialogOpen:a,handleInsertLink:(w,v)=>{const E=c.current;if(E){const _=E.selectionStart,y=E.selectionEnd,S=t.substring(0,_)+`<${v}>{=${w}=}`+t.substring(y);n("answer",S),E.focus(),E.setSelectionRange(_+w.length+4,_+v.length+4)}},handleFileChange:async w=>{w.target.files&&w.target.files[0]&&r(w.target.files[0])},handleRemoveFile:async()=>{e&&(n("fileUrl",null),r(null),l.current&&(l.current.value=""))},fileInputRef:l,answerTextAreaRef:c,getFileData:async w=>{if(w)try{i(!0);const v=Bd(w);if(!v)throw new Error("Could not extract file name from url");const E=await _j(`knowledge-files/${v}`);r(E)}catch(v){v instanceof Error&&Mt(v.message??"An error occured while getting file data",!0),console.error(v)}finally{i(!1)}},isFetchingFileData:s}},Pre=()=>{const t=ut(d=>d.formData),e=ut(d=>d.setFormData),{isLinkDialogOpen:n,setIsLinkDialogOpen:r,handleFileChange:s,handleInsertLink:i,handleRemoveFile:o,fileInputRef:a,answerTextAreaRef:l,getFileData:c,isFetchingFileData:u}=xj(t.answer);return m.useEffect(()=>{(async()=>{await c(t.fileUrl)})()},[t.fileUrl]),f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-fit",children:f.jsx(sy,{tooltip:VJ,children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("label",{className:"cursor-pointer font-medium ",children:"Answer"}),f.jsx(Sg,{className:"size-4 text-[#64748b] cursor-pointer"})]})})}),f.jsx(IL,{answer:t.answer,handleTextChange:e,onFileChange:s,fileRef:a,textAreaRef:l,isLinkDropDownVisible:n,setIsLinkDropDownVisible:r,onInsertLink:i}),u?f.jsx(et,{className:"w-full h-[70px]"}):t.file?f.jsx(AL,{file:t.file,removeFile:o}):null]})},Ej=t=>{const{knowledgeBaseName:e,...n}=t;return{knowledgeBaseName:e,knowledgeEntry:n}},Rre=async()=>{const{success:t,knowledgeBase:e}=await nE("/api/knowledge/base");if(!t)throw new Error("Failed to fetch knowledge collection");return e},Ire=async t=>{const{success:e,knowledgeEntry:n}=await nE(`/api/knowledge/${t}`);if(!e)throw new Error(`Failed to fetch knowledge base ${t} entry`);return n},Are=async t=>{const e=Ej(t),{success:n,message:r}=await Hc("/api/knowledge",{},e);if(!n)throw new Error(r);return r},Nre=async t=>{const e=Ej(t),{success:n,message:r}=await Hc("/api/knowledge/entry",{},e);if(!n)throw new Error(r)},Dre=async(t,e)=>{const n={knowledgeEntryIntent:t,knowledgeEntry:e},{success:r,message:s}=await $g("/api/knowledge/entry",{},n);if(!r)throw new Error(s)},kre=async t=>{const{knowledgeBaseName:e,newKnowledgeBaseName:n}=t,r={knowledgeBaseName:e,newKnowledgeBaseName:n},{success:s,message:i}=await $g("/api/knowledge/base",{},r);if(!s)throw new Error(i);return i},Mre=async t=>{const{success:e,message:n}=await rE(`/api/knowledge/${t}`);if(!e)throw new Error(n)},Ore=async t=>{const{success:e,message:n}=await rE(`/api/knowledge/entry/${t}`);if(!e)throw new Error(n)},Xt=Bo(t=>({knowledgeCollection:{},knowledgeBaseNameList:null,selectedKnowledgeBaseEntryList:null,selectedKnowledgeBaseName:"",selectedKnowledgeBaseItem:"",selectedKnowledgeEntry:null,selectedKnowledgeEntryIntentItem:"",updateKnowledgeCollection:e=>{t(()=>({knowledgeCollection:e}))},setKnowledgeBaseNameList:e=>{t(()=>({knowledgeBaseNameList:e}))},setSelectedKnowledgeBaseEntryList:e=>{t(()=>({selectedKnowledgeBaseEntryList:e}))},setSelectedKnowledgeBaseName:e=>{t(()=>({selectedKnowledgeBaseName:e}))},setSelectedKnowledgeBaseItem:e=>{t(()=>({selectedKnowledgeBaseItem:e}))},setSelectedKnowledgeEntry:e=>{t(()=>({selectedKnowledgeEntry:e}))},setSelectedKnowledgeEntryIntentItem:e=>t({selectedKnowledgeEntryIntentItem:e})})),Lre="knowledge-files",oR="image",jre=async t=>{const e=`${Lre}/${t}`;await Tre(e)},Vre=(t,e)=>{const n=new Set([...Object.keys(t),...Object.keys(e)]);return Array.from(n).reduce((r,s)=>{if(t[s]instanceof Array&&e[s]instanceof Array){t[s].forEach((a,l)=>{if(a!==e[s][l]){r[s]||(r[s]=[]);const c={index:l,value:e[s][l]};r[s].push(c)}});const i=t[s].length,o=e[s].length;if(i<o){r.newDocuments=[];for(let a=i;a<o;a++)e[s][a]&&r.newDocuments.push(e[s][a])}return r}return t[s]!==e[s]&&(r[s]=e[s]),r},{})},Fre=1,Ure=1e6;let Qv=0;function Bre(){return Qv=(Qv+1)%Number.MAX_SAFE_INTEGER,Qv.toString()}const Yv=new Map,aR=t=>{if(Yv.has(t))return;const e=setTimeout(()=>{Yv.delete(t),ud({type:"REMOVE_TOAST",toastId:t})},Ure);Yv.set(t,e)},$re=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Fre)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?aR(n):t.toasts.forEach(r=>{aR(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Mp=[];let Op={toasts:[]};function ud(t){Op=$re(Op,t),Mp.forEach(e=>{e(Op)})}function zre({...t}){const e=Bre(),n=s=>ud({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>ud({type:"DISMISS_TOAST",toastId:e});return ud({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Tj(){const[t,e]=m.useState(Op);return m.useEffect(()=>(Mp.push(e),()=>{const n=Mp.indexOf(e);n>-1&&Mp.splice(n,1)}),[t]),{...t,toast:zre,dismiss:n=>ud({type:"DISMISS_TOAST",toastId:n})}}const tl=()=>{const{toast:t}=Tj();return t},Kre="knowledge-files",Q0=async t=>await q0(t,Kre,t.name),Wre=()=>{const t=tl(),e=Xt(g=>g.selectedKnowledgeEntry),n=Xt(g=>g.setSelectedKnowledgeEntry),r=ut(g=>g.setFormData),s=ut(g=>g.formData),i=ut(g=>g.setDocuments),o=ut(g=>g.clearFormData),[a,l]=m.useState(!1);m.useEffect(()=>{if(!e)return;const{intent:g,documents:w,answer:v,fileUrl:E}=e;return r("intent",g),w.forEach((_,y)=>{i(_,y)}),r("answer",v),r("fileUrl",E),()=>{o()}},[]);const c=async g=>{const w=Bd(g);return await _j(`knowledge-files/${w}`)},u=async(g,w)=>{if(!w)return console.log("Uploading new file"),await Q0(g);console.log("rawr");const v=await c(w);if(console.log(v),v.name===g.name)return w;const[E,_]=await Promise.all([d(w),Q0(g)]);return _},d=async g=>{const w=Bd(g);if(!w)return Mt("Unable to extract filename from the file url",!0);await jre(w)};return{handleSubmitForm:async()=>{if(e)try{l(!0);const{knowledgeBaseName:g,file:w,...v}=s,E=Vre(e,v);"fileUrl"in E&&E.fileUrl===null&&(console.log("Only activates if a knowledge file is removed and saved"),await d(e.fileUrl));let _=null;s.file&&(console.log("Only activates if updating knowledge file"),_=await u(s.file,e.fileUrl));const y=_?{...v,fileUrl:_}:{...v};await Dre(e.intent,y),console.log(y),n(y),t({title:"Knowledge Entry Updated Successfully",description:Kt()})}catch(g){if(g instanceof Error){t({title:g.message,description:Kt(),variant:"destructive"});return}console.error("An unexpected error occured: ",g)}finally{l(!1)}},selectedKnowledgeEntry:e,isLoading:a}},Sj=({heading:t,description:e})=>f.jsx("div",{className:"h-[450px] w-full flex justify-center items-center mt-2 pb-10",children:f.jsxs("section",{className:"flex flex-col justify-center items-center",children:[f.jsx(Sg,{className:"w-12 h-12 text-blue-500 mb-4"}),f.jsx("h2",{className:"text-2xl font-semibold mb-2",children:t}),f.jsx("p",{className:"text-gray-600 mb-4",children:e})]})}),nl=()=>f.jsx(gK,{className:"mr-2 size-5 animate-spin"}),Hre=()=>{const{handleSubmitForm:t,selectedKnowledgeEntry:e,isLoading:n}=Wre(),r=Rt(s=>s.admin);return e?f.jsx(cL,{value:"entryDetails",className:"mt-2",children:f.jsx("div",{className:"h-[450px] w-full overflow-y-auto text-sm scrollbar-slim",children:f.jsxs("div",{className:"space-y-3 px-4 pb-4",children:[f.jsx(BJ,{}),f.jsx($J,{}),f.jsx(Pre,{}),(r==null?void 0:r.role)!=="viewer"&&f.jsx(ct,{variant:"default",disabled:n,onClick:async()=>await t(),className:"w-20",children:n?f.jsx(nl,{}):"Save"})]})})}):f.jsx(Sj,{heading:"No Knowledge Entry Selected",description:"Select a knowledge entry to view its contents here."})},bj=({onRenameKnowledge:t,onDeleteKnowledge:e})=>f.jsxs(Fg,{children:[f.jsx(Ug,{asChild:!0,children:f.jsx(SD,{className:"text-zinc-400 size-6 hover:text-zinc-500 transition-colors"})}),f.jsxs(Oh,{align:"end",className:"w-[8rem] text-sm bg-white border border-neutral-300 p-1 rounded-lg shadow-md",children:[t&&f.jsxs(ao,{className:"flex items-center p-1.5 hover:bg-zinc-100 rounded-sm",onClick:n=>{n.stopPropagation(),t()},children:[f.jsx(_K,{className:"mr-2 h-4 w-4"}),f.jsx("p",{children:"Rename"})]}),f.jsxs(ao,{className:"flex items-center p-1.5 hover:bg-zinc-100 rounded-sm text-red-500",onClick:n=>{n.stopPropagation(),e()},children:[f.jsx(ID,{className:"mr-2 h-4 w-4"}),f.jsx("p",{children:"Delete"})]})]})]}),Ei=Bo(t=>({dialogs:{},openDialog:e=>t(n=>({dialogs:{...n.dialogs,[e]:!0}})),closeDialog:e=>t(n=>({dialogs:{...n.dialogs,[e]:!1}})),toggleDialog:e=>t(n=>({dialogs:{...n.dialogs,[e]:!n.dialogs[e]}})),setDialogState:(e,n)=>t(r=>({dialogs:{...r.dialogs,[e]:n}}))})),Gre=({intent:t,onItemClick:e})=>{const n=Rt(a=>a.admin),r=Xt(a=>a.selectedKnowledgeEntry),s=Xt(a=>a.setSelectedKnowledgeEntryIntentItem),i=Ei(a=>a.openDialog),o=()=>{s(t),i("showConfirmDeleteKnowledgeEntryDialog")};return f.jsxs("div",{className:`flex justify-between p-2 rounded-md cursor-pointer ${(r==null?void 0:r.intent)===t?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,onClick:e,children:[t,(n==null?void 0:n.role)!=="viewer"&&f.jsx(ct,{className:"bg-transparent hover:bg-transparent size-8 p-0 h-fit ",children:f.jsx(bj,{onDeleteKnowledge:o})})]})},qre=({knowledgeEntries:t,handleTabChange:e})=>{const n=Xt(s=>s.setSelectedKnowledgeEntry),r=s=>{n(s),e("entryDetails")};return f.jsx("div",{className:"space-y-1",children:t==null?void 0:t.map((s,i)=>f.jsx(Gre,{intent:s.intent,onItemClick:()=>r(s)},i))})},Lp=["knowledgeBaseList"],jp=["knowledgeEntry"],Ru=["adminList"];var Jc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Mc=typeof window>"u"||"Deno"in globalThis;function kr(){}function Qre(t,e){return typeof t=="function"?t(e):t}function Y0(t){return typeof t=="number"&&t>=0&&t!==1/0}function Cj(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Jl(t,e){return typeof t=="function"?t(e):t}function es(t,e){return typeof t=="function"?t(e):t}function lR(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==ST(o,e.options))return!1}else if(!th(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function cR(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ka(e.options.mutationKey)!==Ka(i))return!1}else if(!th(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function ST(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ka)(t)}function Ka(t){return JSON.stringify(t,(e,n)=>X0(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function th(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!th(t[n],e[n])):!1}function Pj(t,e){if(t===e)return t;const n=uR(t)&&uR(e);if(n||X0(t)&&X0(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const u=n?c:i[c];(!n&&r.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=Pj(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function $m(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function uR(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function X0(t){if(!dR(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!dR(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function dR(t){return Object.prototype.toString.call(t)==="[object Object]"}function Yre(t){return new Promise(e=>{setTimeout(e,t)})}function J0(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Pj(t,e):e}function Xre(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Jre(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Rj=Symbol();function Ij(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Rj?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var va,Yi,ec,MR,Zre=(MR=class extends Jc{constructor(){super();we(this,va,void 0);we(this,Yi,void 0);we(this,ec,void 0);he(this,ec,e=>{if(!Mc&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){V(this,Yi)||this.setEventListener(V(this,ec))}onUnsubscribe(){var e;this.hasListeners()||((e=V(this,Yi))==null||e.call(this),he(this,Yi,void 0))}setEventListener(e){var n;he(this,ec,e),(n=V(this,Yi))==null||n.call(this),he(this,Yi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){V(this,va)!==e&&(he(this,va,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof V(this,va)=="boolean"?V(this,va):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},va=new WeakMap,Yi=new WeakMap,ec=new WeakMap,MR),bT=new Zre,tc,Xi,nc,OR,ese=(OR=class extends Jc{constructor(){super();we(this,tc,!0);we(this,Xi,void 0);we(this,nc,void 0);he(this,nc,e=>{if(!Mc&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){V(this,Xi)||this.setEventListener(V(this,nc))}onUnsubscribe(){var e;this.hasListeners()||((e=V(this,Xi))==null||e.call(this),he(this,Xi,void 0))}setEventListener(e){var n;he(this,nc,e),(n=V(this,Xi))==null||n.call(this),he(this,Xi,e(this.setOnline.bind(this)))}setOnline(e){V(this,tc)!==e&&(he(this,tc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return V(this,tc)}},tc=new WeakMap,Xi=new WeakMap,nc=new WeakMap,OR),zm=new ese;function tse(t){return Math.min(1e3*2**t,3e4)}function Aj(t){return(t??"online")==="online"?zm.isOnline():!0}var Nj=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Xv(t){return t instanceof Nj}function Dj(t){let e=!1,n=0,r=!1,s,i,o;const a=new Promise((_,y)=>{i=_,o=y}),l=_=>{var y;r||(w(new Nj(_)),(y=t.abort)==null||y.call(t))},c=()=>{e=!0},u=()=>{e=!1},d=()=>bT.isFocused()&&(t.networkMode==="always"||zm.isOnline())&&t.canRun(),p=()=>Aj(t.networkMode)&&t.canRun(),g=_=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,_),s==null||s(),i(_))},w=_=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,_),s==null||s(),o(_))},v=()=>new Promise(_=>{var y;s=S=>{(r||d())&&_(S)},(y=t.onPause)==null||y.call(t)}).then(()=>{var _;s=void 0,r||(_=t.onContinue)==null||_.call(t)}),E=()=>{if(r)return;let _;const y=n===0?t.initialPromise:void 0;try{_=y??t.fn()}catch(S){_=Promise.reject(S)}Promise.resolve(_).then(g).catch(S=>{var T;if(r)return;const R=t.retry??(Mc?0:3),D=t.retryDelay??tse,O=typeof D=="function"?D(n,S):D,C=R===!0||typeof R=="number"&&n<R||typeof R=="function"&&R(n,S);if(e||!C){w(S);return}n++,(T=t.onFail)==null||T.call(t,n,S),Yre(O).then(()=>d()?void 0:v()).then(()=>{e?w(S):E()})})};return{promise:a,cancel:l,continue:()=>(s==null||s(),a),cancelRetry:c,continueRetry:u,canStart:p,start:()=>(p()?E():v().then(E),a)}}function nse(){let t=[],e=0,n=p=>{p()},r=p=>{p()},s=p=>setTimeout(p,0);const i=p=>{s=p},o=p=>{let g;e++;try{g=p()}finally{e--,e||c()}return g},a=p=>{e?t.push(p):s(()=>{n(p)})},l=p=>(...g)=>{a(()=>{p(...g)})},c=()=>{const p=t;t=[],p.length&&s(()=>{r(()=>{p.forEach(g=>{n(g)})})})};return{batch:o,batchCalls:l,schedule:a,setNotifyFunction:p=>{n=p},setBatchNotifyFunction:p=>{r=p},setScheduler:i}}var ln=nse(),wa,LR,kj=(LR=class{constructor(){we(this,wa,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Y0(this.gcTime)&&he(this,wa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Mc?1/0:5*60*1e3))}clearGcTimeout(){V(this,wa)&&(clearTimeout(V(this,wa)),he(this,wa,void 0))}},wa=new WeakMap,LR),rc,sc,Dr,kn,nh,_a,Yr,zs,jR,rse=(jR=class extends kj{constructor(e){super();we(this,Yr);we(this,rc,void 0);we(this,sc,void 0);we(this,Dr,void 0);we(this,kn,void 0);we(this,nh,void 0);we(this,_a,void 0);he(this,_a,!1),he(this,nh,e.defaultOptions),this.setOptions(e.options),this.observers=[],he(this,Dr,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,he(this,rc,sse(this.options)),this.state=e.state??V(this,rc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=V(this,kn))==null?void 0:e.promise}setOptions(e){this.options={...V(this,nh),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&V(this,Dr).remove(this)}setData(e,n){const r=J0(this.state.data,e,this.options);return Be(this,Yr,zs).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Be(this,Yr,zs).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=V(this,kn))==null?void 0:r.promise;return(s=V(this,kn))==null||s.cancel(e),n?n.then(kr).catch(kr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(V(this,rc))}isActive(){return this.observers.some(e=>es(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Cj(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=V(this,kn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=V(this,kn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),V(this,Dr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(V(this,kn)&&(V(this,_a)?V(this,kn).cancel({revert:!0}):V(this,kn).cancelRetry()),this.scheduleGc()),V(this,Dr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Be(this,Yr,zs).call(this,{type:"invalidate"})}fetch(e,n){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(V(this,kn))return V(this,kn).continueRetry(),V(this,kn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(p=>p.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(he(this,_a,!0),r.signal)})},i=()=>{const d=Ij(this.options,n),p={queryKey:this.queryKey,meta:this.meta};return s(p),he(this,_a,!1),this.options.persister?this.options.persister(d,p,this):d(p)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),he(this,sc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&Be(this,Yr,zs).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const a=d=>{var p,g,w,v;Xv(d)&&d.silent||Be(this,Yr,zs).call(this,{type:"error",error:d}),Xv(d)||((g=(p=V(this,Dr).config).onError)==null||g.call(p,d,this),(v=(w=V(this,Dr).config).onSettled)==null||v.call(w,this.state.data,d,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return he(this,kn,Dj({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var p,g,w,v;if(d===void 0){a(new Error(`${this.queryHash} data is undefined`));return}this.setData(d),(g=(p=V(this,Dr).config).onSuccess)==null||g.call(p,d,this),(v=(w=V(this,Dr).config).onSettled)==null||v.call(w,d,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:a,onFail:(d,p)=>{Be(this,Yr,zs).call(this,{type:"failed",failureCount:d,error:p})},onPause:()=>{Be(this,Yr,zs).call(this,{type:"pause"})},onContinue:()=>{Be(this,Yr,zs).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),V(this,kn).start()}},rc=new WeakMap,sc=new WeakMap,Dr=new WeakMap,kn=new WeakMap,nh=new WeakMap,_a=new WeakMap,Yr=new WeakSet,zs=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Mj(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Xv(s)&&s.revert&&V(this,sc)?{...V(this,sc),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),ln.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),V(this,Dr).notify({query:this,type:"updated",action:e})})},jR);function Mj(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Aj(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function sse(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ys,VR,ise=(VR=class extends Jc{constructor(e={}){super();we(this,ys,void 0);this.config=e,he(this,ys,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??ST(s,n);let o=this.get(i);return o||(o=new rse({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){V(this,ys).has(e.queryHash)||(V(this,ys).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=V(this,ys).get(e.queryHash);n&&(e.destroy(),n===e&&V(this,ys).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ln.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return V(this,ys).get(e)}getAll(){return[...V(this,ys).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>lR(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>lR(e,r)):n}notify(e){ln.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){ln.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ln.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ys=new WeakMap,VR),vs,Gn,xa,ws,Fi,FR,ose=(FR=class extends kj{constructor(e){super();we(this,ws);we(this,vs,void 0);we(this,Gn,void 0);we(this,xa,void 0);this.mutationId=e.mutationId,he(this,Gn,e.mutationCache),he(this,vs,[]),this.state=e.state||Oj(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){V(this,vs).includes(e)||(V(this,vs).push(e),this.clearGcTimeout(),V(this,Gn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){he(this,vs,V(this,vs).filter(n=>n!==e)),this.scheduleGc(),V(this,Gn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){V(this,vs).length||(this.state.status==="pending"?this.scheduleGc():V(this,Gn).remove(this))}continue(){var e;return((e=V(this,xa))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,l,c,u,d,p,g,w,v,E,_,y,S,R,D,O,C;he(this,xa,Dj({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(T,P)=>{Be(this,ws,Fi).call(this,{type:"failed",failureCount:T,error:P})},onPause:()=>{Be(this,ws,Fi).call(this,{type:"pause"})},onContinue:()=>{Be(this,ws,Fi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>V(this,Gn).canRun(this)}));const n=this.state.status==="pending",r=!V(this,xa).canStart();try{if(!n){Be(this,ws,Fi).call(this,{type:"pending",variables:e,isPaused:r}),await((i=(s=V(this,Gn).config).onMutate)==null?void 0:i.call(s,e,this));const P=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));P!==this.state.context&&Be(this,ws,Fi).call(this,{type:"pending",context:P,variables:e,isPaused:r})}const T=await V(this,xa).start();return await((c=(l=V(this,Gn).config).onSuccess)==null?void 0:c.call(l,T,e,this.state.context,this)),await((d=(u=this.options).onSuccess)==null?void 0:d.call(u,T,e,this.state.context)),await((g=(p=V(this,Gn).config).onSettled)==null?void 0:g.call(p,T,null,this.state.variables,this.state.context,this)),await((v=(w=this.options).onSettled)==null?void 0:v.call(w,T,null,e,this.state.context)),Be(this,ws,Fi).call(this,{type:"success",data:T}),T}catch(T){try{throw await((_=(E=V(this,Gn).config).onError)==null?void 0:_.call(E,T,e,this.state.context,this)),await((S=(y=this.options).onError)==null?void 0:S.call(y,T,e,this.state.context)),await((D=(R=V(this,Gn).config).onSettled)==null?void 0:D.call(R,void 0,T,this.state.variables,this.state.context,this)),await((C=(O=this.options).onSettled)==null?void 0:C.call(O,void 0,T,e,this.state.context)),T}finally{Be(this,ws,Fi).call(this,{type:"error",error:T})}}finally{V(this,Gn).runNext(this)}}},vs=new WeakMap,Gn=new WeakMap,xa=new WeakMap,ws=new WeakSet,Fi=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ln.batch(()=>{V(this,vs).forEach(r=>{r.onMutationUpdate(e)}),V(this,Gn).notify({mutation:this,type:"updated",action:e})})},FR);function Oj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var pr,rh,UR,ase=(UR=class extends Jc{constructor(e={}){super();we(this,pr,void 0);we(this,rh,void 0);this.config=e,he(this,pr,new Map),he(this,rh,Date.now())}build(e,n,r){const s=new ose({mutationCache:this,mutationId:++vf(this,rh)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=np(e),r=V(this,pr).get(n)??[];r.push(e),V(this,pr).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=np(e);if(V(this,pr).has(n)){const s=(r=V(this,pr).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?V(this,pr).delete(n):V(this,pr).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=V(this,pr).get(np(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=V(this,pr).get(np(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){ln.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...V(this,pr).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>cR(n,r))}findAll(e={}){return this.getAll().filter(n=>cR(e,n))}notify(e){ln.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return ln.batch(()=>Promise.all(e.map(n=>n.continue().catch(kr))))}},pr=new WeakMap,rh=new WeakMap,UR);function np(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function lse(t){return{onFetch:(e,n)=>{const r=async()=>{var w,v,E,_,y;const s=e.options,i=(E=(v=(w=e.fetchOptions)==null?void 0:w.meta)==null?void 0:v.fetchMore)==null?void 0:E.direction,o=((_=e.state.data)==null?void 0:_.pages)||[],a=((y=e.state.data)==null?void 0:y.pageParams)||[],l={pages:[],pageParams:[]};let c=!1;const u=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?c=!0:e.signal.addEventListener("abort",()=>{c=!0}),e.signal)})},d=Ij(e.options,e.fetchOptions),p=async(S,R,D)=>{if(c)return Promise.reject();if(R==null&&S.pages.length)return Promise.resolve(S);const O={queryKey:e.queryKey,pageParam:R,direction:D?"backward":"forward",meta:e.options.meta};u(O);const C=await d(O),{maxPages:T}=e.options,P=D?Jre:Xre;return{pages:P(S.pages,C,T),pageParams:P(S.pageParams,R,T)}};let g;if(i&&o.length){const S=i==="backward",R=S?cse:hR,D={pages:o,pageParams:a},O=R(s,D);g=await p(D,O,S)}else{g=await p(l,a[0]??s.initialPageParam);const S=t??o.length;for(let R=1;R<S;R++){const D=hR(s,g);if(D==null)break;g=await p(g,D)}}return g};e.options.persister?e.fetchFn=()=>{var s,i;return(i=(s=e.options).persister)==null?void 0:i.call(s,r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=r}}}function hR(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function cse(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Bt,Ji,Zi,ic,oc,eo,ac,lc,BR,use=(BR=class{constructor(t={}){we(this,Bt,void 0);we(this,Ji,void 0);we(this,Zi,void 0);we(this,ic,void 0);we(this,oc,void 0);we(this,eo,void 0);we(this,ac,void 0);we(this,lc,void 0);he(this,Bt,t.queryCache||new ise),he(this,Ji,t.mutationCache||new ase),he(this,Zi,t.defaultOptions||{}),he(this,ic,new Map),he(this,oc,new Map),he(this,eo,0)}mount(){vf(this,eo)._++,V(this,eo)===1&&(he(this,ac,bT.subscribe(async t=>{t&&(await this.resumePausedMutations(),V(this,Bt).onFocus())})),he(this,lc,zm.subscribe(async t=>{t&&(await this.resumePausedMutations(),V(this,Bt).onOnline())})))}unmount(){var t,e;vf(this,eo)._--,V(this,eo)===0&&((t=V(this,ac))==null||t.call(this),he(this,ac,void 0),(e=V(this,lc))==null||e.call(this),he(this,lc,void 0))}isFetching(t){return V(this,Bt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return V(this,Ji).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=V(this,Bt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=V(this,Bt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Jl(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return V(this,Bt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=V(this,Bt).get(r.queryHash),i=s==null?void 0:s.state.data,o=Qre(e,i);if(o!==void 0)return V(this,Bt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return ln.batch(()=>V(this,Bt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=V(this,Bt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=V(this,Bt);ln.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=V(this,Bt),r={type:"active",...t};return ln.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=ln.batch(()=>V(this,Bt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(kr).catch(kr)}invalidateQueries(t={},e={}){return ln.batch(()=>{if(V(this,Bt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=ln.batch(()=>V(this,Bt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(kr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(kr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=V(this,Bt).build(this,e);return n.isStaleByTime(Jl(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(kr).catch(kr)}fetchInfiniteQuery(t){return t.behavior=lse(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(kr).catch(kr)}resumePausedMutations(){return zm.isOnline()?V(this,Ji).resumePausedMutations():Promise.resolve()}getQueryCache(){return V(this,Bt)}getMutationCache(){return V(this,Ji)}getDefaultOptions(){return V(this,Zi)}setDefaultOptions(t){he(this,Zi,t)}setQueryDefaults(t,e){V(this,ic).set(Ka(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...V(this,ic).values()];let n={};return e.forEach(r=>{th(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){V(this,oc).set(Ka(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...V(this,oc).values()];let n={};return e.forEach(r=>{th(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...V(this,Zi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ST(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Rj&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...V(this,Zi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){V(this,Bt).clear(),V(this,Ji).clear()}},Bt=new WeakMap,Ji=new WeakMap,Zi=new WeakMap,ic=new WeakMap,oc=new WeakMap,eo=new WeakMap,ac=new WeakMap,lc=new WeakMap,BR),sr,Ze,sh,qn,Ea,cc,_s,ih,uc,dc,Ta,Sa,to,hc,ba,zu,oh,Z0,ah,e_,lh,t_,ch,n_,uh,r_,dh,s_,hh,i_,Xm,Lj,$R,dse=($R=class extends Jc{constructor(e,n){super();we(this,ba);we(this,oh);we(this,ah);we(this,lh);we(this,ch);we(this,uh);we(this,dh);we(this,hh);we(this,Xm);we(this,sr,void 0);we(this,Ze,void 0);we(this,sh,void 0);we(this,qn,void 0);we(this,Ea,void 0);we(this,cc,void 0);we(this,_s,void 0);we(this,ih,void 0);we(this,uc,void 0);we(this,dc,void 0);we(this,Ta,void 0);we(this,Sa,void 0);we(this,to,void 0);we(this,hc,new Set);this.options=n,he(this,sr,e),he(this,_s,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(V(this,Ze).addObserver(this),fR(V(this,Ze),this.options)?Be(this,ba,zu).call(this):this.updateResult(),Be(this,ch,n_).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return o_(V(this,Ze),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return o_(V(this,Ze),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Be(this,uh,r_).call(this),Be(this,dh,s_).call(this),V(this,Ze).removeObserver(this)}setOptions(e,n){const r=this.options,s=V(this,Ze);if(this.options=V(this,sr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof es(this.options.enabled,V(this,Ze))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Be(this,hh,i_).call(this),V(this,Ze).setOptions(this.options),r._defaulted&&!$m(this.options,r)&&V(this,sr).getQueryCache().notify({type:"observerOptionsUpdated",query:V(this,Ze),observer:this});const i=this.hasListeners();i&&pR(V(this,Ze),s,this.options,r)&&Be(this,ba,zu).call(this),this.updateResult(n),i&&(V(this,Ze)!==s||es(this.options.enabled,V(this,Ze))!==es(r.enabled,V(this,Ze))||Jl(this.options.staleTime,V(this,Ze))!==Jl(r.staleTime,V(this,Ze)))&&Be(this,oh,Z0).call(this);const o=Be(this,ah,e_).call(this);i&&(V(this,Ze)!==s||es(this.options.enabled,V(this,Ze))!==es(r.enabled,V(this,Ze))||o!==V(this,to))&&Be(this,lh,t_).call(this,o)}getOptimisticResult(e){const n=V(this,sr).getQueryCache().build(V(this,sr),e),r=this.createResult(n,e);return fse(this,r)&&(he(this,qn,r),he(this,cc,this.options),he(this,Ea,V(this,Ze).state)),r}getCurrentResult(){return V(this,qn)}trackResult(e,n){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),e[s])})}),r}trackProp(e){V(this,hc).add(e)}getCurrentQuery(){return V(this,Ze)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=V(this,sr).defaultQueryOptions(e),r=V(this,sr).getQueryCache().build(V(this,sr),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Be(this,ba,zu).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),V(this,qn)))}createResult(e,n){var C;const r=V(this,Ze),s=this.options,i=V(this,qn),o=V(this,Ea),a=V(this,cc),c=e!==r?e.state:V(this,sh),{state:u}=e;let d={...u},p=!1,g;if(n._optimisticResults){const T=this.hasListeners(),P=!T&&fR(e,n),I=T&&pR(e,r,n,s);(P||I)&&(d={...d,...Mj(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:w,errorUpdatedAt:v,status:E}=d;if(n.select&&d.data!==void 0)if(i&&d.data===(o==null?void 0:o.data)&&n.select===V(this,ih))g=V(this,uc);else try{he(this,ih,n.select),g=n.select(d.data),g=J0(i==null?void 0:i.data,g,n),he(this,uc,g),he(this,_s,null)}catch(T){he(this,_s,T)}else g=d.data;if(n.placeholderData!==void 0&&g===void 0&&E==="pending"){let T;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))T=i.data;else if(T=typeof n.placeholderData=="function"?n.placeholderData((C=V(this,dc))==null?void 0:C.state.data,V(this,dc)):n.placeholderData,n.select&&T!==void 0)try{T=n.select(T),he(this,_s,null)}catch(P){he(this,_s,P)}T!==void 0&&(E="success",g=J0(i==null?void 0:i.data,T,n),p=!0)}V(this,_s)&&(w=V(this,_s),g=V(this,uc),v=Date.now(),E="error");const _=d.fetchStatus==="fetching",y=E==="pending",S=E==="error",R=y&&_,D=g!==void 0;return{status:E,fetchStatus:d.fetchStatus,isPending:y,isSuccess:E==="success",isError:S,isInitialLoading:R,isLoading:R,data:g,dataUpdatedAt:d.dataUpdatedAt,error:w,errorUpdatedAt:v,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:_,isRefetching:_&&!y,isLoadingError:S&&!D,isPaused:d.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:S&&D,isStale:CT(e,n),refetch:this.refetch}}updateResult(e){const n=V(this,qn),r=this.createResult(V(this,Ze),this.options);if(he(this,Ea,V(this,Ze).state),he(this,cc,this.options),V(this,Ea).data!==void 0&&he(this,dc,V(this,Ze)),$m(r,n))return;he(this,qn,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!V(this,hc).size)return!0;const l=new Set(a??V(this,hc));return this.options.throwOnError&&l.add("error"),Object.keys(V(this,qn)).some(c=>{const u=c;return V(this,qn)[u]!==n[u]&&l.has(u)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),Be(this,Xm,Lj).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Be(this,ch,n_).call(this)}},sr=new WeakMap,Ze=new WeakMap,sh=new WeakMap,qn=new WeakMap,Ea=new WeakMap,cc=new WeakMap,_s=new WeakMap,ih=new WeakMap,uc=new WeakMap,dc=new WeakMap,Ta=new WeakMap,Sa=new WeakMap,to=new WeakMap,hc=new WeakMap,ba=new WeakSet,zu=function(e){Be(this,hh,i_).call(this);let n=V(this,Ze).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(kr)),n},oh=new WeakSet,Z0=function(){Be(this,uh,r_).call(this);const e=Jl(this.options.staleTime,V(this,Ze));if(Mc||V(this,qn).isStale||!Y0(e))return;const r=Cj(V(this,qn).dataUpdatedAt,e)+1;he(this,Ta,setTimeout(()=>{V(this,qn).isStale||this.updateResult()},r))},ah=new WeakSet,e_=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(V(this,Ze)):this.options.refetchInterval)??!1},lh=new WeakSet,t_=function(e){Be(this,dh,s_).call(this),he(this,to,e),!(Mc||es(this.options.enabled,V(this,Ze))===!1||!Y0(V(this,to))||V(this,to)===0)&&he(this,Sa,setInterval(()=>{(this.options.refetchIntervalInBackground||bT.isFocused())&&Be(this,ba,zu).call(this)},V(this,to)))},ch=new WeakSet,n_=function(){Be(this,oh,Z0).call(this),Be(this,lh,t_).call(this,Be(this,ah,e_).call(this))},uh=new WeakSet,r_=function(){V(this,Ta)&&(clearTimeout(V(this,Ta)),he(this,Ta,void 0))},dh=new WeakSet,s_=function(){V(this,Sa)&&(clearInterval(V(this,Sa)),he(this,Sa,void 0))},hh=new WeakSet,i_=function(){const e=V(this,sr).getQueryCache().build(V(this,sr),this.options);if(e===V(this,Ze))return;const n=V(this,Ze);he(this,Ze,e),he(this,sh,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},Xm=new WeakSet,Lj=function(e){ln.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(V(this,qn))}),V(this,sr).getQueryCache().notify({query:V(this,Ze),type:"observerResultsUpdated"})})},$R);function hse(t,e){return es(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function fR(t,e){return hse(t,e)||t.state.data!==void 0&&o_(t,e,e.refetchOnMount)}function o_(t,e,n){if(es(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&CT(t,e)}return!1}function pR(t,e,n,r){return(t!==e||es(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&CT(t,n)}function CT(t,e){return es(e.enabled,t)!==!1&&t.isStaleByTime(Jl(e.staleTime,t))}function fse(t,e){return!$m(t.getCurrentResult(),e)}var no,ro,ir,Hs,fc,Vp,fh,a_,zR,pse=(zR=class extends Jc{constructor(n,r){super();we(this,fc);we(this,fh);we(this,no,void 0);we(this,ro,void 0);we(this,ir,void 0);we(this,Hs,void 0);he(this,no,n),this.setOptions(r),this.bindMethods(),Be(this,fc,Vp).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=V(this,no).defaultMutationOptions(n),$m(this.options,r)||V(this,no).getMutationCache().notify({type:"observerOptionsUpdated",mutation:V(this,ir),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Ka(r.mutationKey)!==Ka(this.options.mutationKey)?this.reset():((s=V(this,ir))==null?void 0:s.state.status)==="pending"&&V(this,ir).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=V(this,ir))==null||n.removeObserver(this)}onMutationUpdate(n){Be(this,fc,Vp).call(this),Be(this,fh,a_).call(this,n)}getCurrentResult(){return V(this,ro)}reset(){var n;(n=V(this,ir))==null||n.removeObserver(this),he(this,ir,void 0),Be(this,fc,Vp).call(this),Be(this,fh,a_).call(this)}mutate(n,r){var s;return he(this,Hs,r),(s=V(this,ir))==null||s.removeObserver(this),he(this,ir,V(this,no).getMutationCache().build(V(this,no),this.options)),V(this,ir).addObserver(this),V(this,ir).execute(n)}},no=new WeakMap,ro=new WeakMap,ir=new WeakMap,Hs=new WeakMap,fc=new WeakSet,Vp=function(){var r;const n=((r=V(this,ir))==null?void 0:r.state)??Oj();he(this,ro,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},fh=new WeakSet,a_=function(n){ln.batch(()=>{var r,s,i,o,a,l,c,u;if(V(this,Hs)&&this.hasListeners()){const d=V(this,ro).variables,p=V(this,ro).context;(n==null?void 0:n.type)==="success"?((s=(r=V(this,Hs)).onSuccess)==null||s.call(r,n.data,d,p),(o=(i=V(this,Hs)).onSettled)==null||o.call(i,n.data,null,d,p)):(n==null?void 0:n.type)==="error"&&((l=(a=V(this,Hs)).onError)==null||l.call(a,n.error,d,p),(u=(c=V(this,Hs)).onSettled)==null||u.call(c,void 0,n.error,d,p))}this.listeners.forEach(d=>{d(V(this,ro))})})},zR),jj=m.createContext(void 0),Zc=t=>{const e=m.useContext(jj);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},mse=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(jj.Provider,{value:t,children:e})),Vj=m.createContext(!1),gse=()=>m.useContext(Vj);Vj.Provider;function yse(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var vse=m.createContext(yse()),wse=()=>m.useContext(vse);function Fj(t,e){return typeof t=="function"?t(...e):!!t}function _se(){}var xse=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},Ese=t=>{m.useEffect(()=>{t.clearReset()},[t])},Tse=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&Fj(n,[t.error,r]),Sse=t=>{t.suspense&&(typeof t.staleTime!="number"&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},bse=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Cse=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Pse(t,e,n){var c,u,d,p;const r=Zc(),s=gse(),i=wse(),o=r.defaultQueryOptions(t);(u=(c=r.getDefaultOptions().queries)==null?void 0:c._experimental_beforeQuery)==null||u.call(c,o),o._optimisticResults=s?"isRestoring":"optimistic",Sse(o),xse(o,i),Ese(i);const[a]=m.useState(()=>new e(r,o)),l=a.getOptimisticResult(o);if(m.useSyncExternalStore(m.useCallback(g=>{const w=s?()=>{}:a.subscribe(ln.batchCalls(g));return a.updateResult(),w},[a,s]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),m.useEffect(()=>{a.setOptions(o,{listeners:!1})},[o,a]),bse(o,l))throw Cse(o,a,i);if(Tse({result:l,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw l.error;return(p=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_afterQuery)==null||p.call(d,o,l),o.notifyOnChangeProps?l:a.trackResult(l)}function PT(t,e){return Pse(t,dse)}function ei(t,e){const n=Zc(),[r]=m.useState(()=>new pse(n,t));m.useEffect(()=>{r.setOptions(t)},[r,t]);const s=m.useSyncExternalStore(m.useCallback(o=>r.subscribe(ln.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=m.useCallback((o,a)=>{r.mutate(o,a).catch(_se)},[r]);if(s.error&&Fj(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const Uj=({label:t,onButtonClick:e})=>f.jsxs(ct,{variant:"outline",size:"sm",className:"mb-2 hover:bg-gray-100 h-10",onClick:e,children:[f.jsx(Ih,{className:"w-4 h-4 mr-0 md:mr-2"}),f.jsx("p",{className:"hidden md:block",children:t})]}),Bj=()=>f.jsxs("div",{className:"h-[450px] w-full px-4 flex flex-col pb-4 mt-2",children:[f.jsxs("div",{className:"flex mb-7 space-x-4",children:[f.jsx(et,{className:"flex-grow h-10 bg-lightGray-darker"}),f.jsx(et,{className:"h-10 w-[42px] md:w-[198.85px] bg-lightGray-darker"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(et,{className:"h-[20px] w-[20rem] bg-lightGray-darker"}),f.jsx(et,{className:"h-[20px] w-[10rem] bg-lightGray-darker"})]})]}),Br=Bo(t=>({isModalVisible:!1,modalMode:"BASE",openModal:()=>{t(()=>({isModalVisible:!0}))},closeModal:()=>{t(()=>({isModalVisible:!1}))},setMode:e=>{t(()=>({modalMode:e}))}})),Rse=()=>{const t=Br(i=>i.openModal),e=Br(i=>i.setMode),n=ut(i=>i.clearFormData),r=Xt(i=>i.selectedKnowledgeBaseName);return{handleOpenKnowledgeForm:async i=>{if(!r)return window.alert("No Knowledge Base Selected cannot add a knowledge entry");n(),e(i),t()},openModal:t,setMode:e,clearFormData:n}},$j=()=>{const[t,e]=m.useState("");return{filter:t,handleFilterChange:r=>{e(r)}}};function Ise(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=d=>{var _;const{scope:p,children:g,...w}=d,v=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,E=m.useMemo(()=>w,Object.values(w));return f.jsx(v.Provider,{value:E,children:g})};c.displayName=i+"Provider";function u(d,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Ase(s,...e)]}function Ase(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Nse(t,e){const n=m.createContext(e),r=i=>{const{children:o,...a}=i,l=m.useMemo(()=>a,Object.values(a));return f.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=m.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Dse(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=d=>{var _;const{scope:p,children:g,...w}=d,v=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,E=m.useMemo(()=>w,Object.values(w));return f.jsx(v.Provider,{value:E,children:g})};c.displayName=i+"Provider";function u(d,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,kse(s,...e)]}function kse(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Mse="DismissableLayer",l_="dismissableLayer.update",Ose="dismissableLayer.pointerDownOutside",Lse="dismissableLayer.focusOutside",mR,zj=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Kj=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(zj),[u,d]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=ke(e,C=>d(C)),v=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(E),y=u?v.indexOf(u):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,R=y>=_,D=Fse(C=>{const T=C.target,P=[...c.branches].some(I=>I.contains(T));!R||P||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),O=Use(C=>{const T=C.target;[...c.branches].some(I=>I.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return Ah(C=>{y===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(mR=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),gR(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=mR)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),gR())},[u,c]),m.useEffect(()=>{const C=()=>g({});return document.addEventListener(l_,C),()=>document.removeEventListener(l_,C)},[]),f.jsx(xe.div,{...l,ref:w,style:{pointerEvents:S?R?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,D.onPointerDownCapture)})});Kj.displayName=Mse;var jse="DismissableLayerBranch",Vse=m.forwardRef((t,e)=>{const n=m.useContext(zj),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(xe.div,{...t,ref:s})});Vse.displayName=jse;function Fse(t,e=globalThis==null?void 0:globalThis.document){const n=Nt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){Wj(Ose,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Use(t,e=globalThis==null?void 0:globalThis.document){const n=Nt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&Wj(Lse,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function gR(){const t=new CustomEvent(l_);document.dispatchEvent(t)}function Wj(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Ya(s,i):s.dispatchEvent(i)}var Bse="Portal",Hj=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);It(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?wh.createPortal(f.jsx(xe.div,{...r,ref:e}),o):null});Hj.displayName=Bse;function $se(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var wy=t=>{const{present:e,children:n}=t,r=zse(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=ke(r.ref,Kse(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};wy.displayName="Presence";function zse(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=$se(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=rp(r.current);i.current=a==="mounted"?c:"none"},[a]),It(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=rp(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),It(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=g=>{const v=rp(r.current).includes(g.animationName);if(g.target===e&&v&&(l("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},p=g=>{g.target===e&&(i.current=rp(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function rp(t){return(t==null?void 0:t.animationName)||"none"}function Kse(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var RT="Dialog",[Gj,qj]=Dse(RT),[Wse,us]=Gj(RT),Qj=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=m.useRef(null),l=m.useRef(null),[c=!1,u]=Po({prop:r,defaultProp:s,onChange:i});return f.jsx(Wse,{scope:e,triggerRef:a,contentRef:l,contentId:os(),titleId:os(),descriptionId:os(),open:c,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(d=>!d),[u]),modal:o,children:n})};Qj.displayName=RT;var Yj="DialogTrigger",Xj=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=us(Yj,n),i=ke(e,s.triggerRef);return f.jsx(xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":NT(s.open),...r,ref:i,onClick:ee(t.onClick,s.onOpenToggle)})});Xj.displayName=Yj;var IT="DialogPortal",[Hse,Jj]=Gj(IT,{forceMount:void 0}),Zj=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=us(IT,e);return f.jsx(Hse,{scope:e,forceMount:n,children:m.Children.map(r,o=>f.jsx(wy,{present:n||i.open,children:f.jsx(Hj,{asChild:!0,container:s,children:o})}))})};Zj.displayName=IT;var Km="DialogOverlay",eV=m.forwardRef((t,e)=>{const n=Jj(Km,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=us(Km,t.__scopeDialog);return i.modal?f.jsx(wy,{present:r||i.open,children:f.jsx(Gse,{...s,ref:e})}):null});eV.displayName=Km;var Gse=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=us(Km,n);return f.jsx(Lg,{as:Ro,allowPinchZoom:!0,shards:[s.contentRef],children:f.jsx(xe.div,{"data-state":NT(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Wa="DialogContent",tV=m.forwardRef((t,e)=>{const n=Jj(Wa,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=us(Wa,t.__scopeDialog);return f.jsx(wy,{present:r||i.open,children:i.modal?f.jsx(qse,{...s,ref:e}):f.jsx(Qse,{...s,ref:e})})});tV.displayName=Wa;var qse=m.forwardRef((t,e)=>{const n=us(Wa,t.__scopeDialog),r=m.useRef(null),s=ke(e,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return Wx(i)},[]),f.jsx(nV,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ee(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ee(t.onFocusOutside,i=>i.preventDefault())})}),Qse=m.forwardRef((t,e)=>{const n=us(Wa,t.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return f.jsx(nV,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),nV=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=us(Wa,n),l=m.useRef(null),c=ke(e,l);return Dx(),f.jsxs(f.Fragment,{children:[f.jsx(Ig,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:f.jsx(Kj,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":NT(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(Xse,{titleId:a.titleId}),f.jsx(Zse,{contentRef:l,descriptionId:a.descriptionId})]})]})}),AT="DialogTitle",rV=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=us(AT,n);return f.jsx(xe.h2,{id:s.titleId,...r,ref:e})});rV.displayName=AT;var sV="DialogDescription",iV=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=us(sV,n);return f.jsx(xe.p,{id:s.descriptionId,...r,ref:e})});iV.displayName=sV;var oV="DialogClose",aV=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=us(oV,n);return f.jsx(xe.button,{type:"button",...r,ref:e,onClick:ee(t.onClick,()=>s.onOpenChange(!1))})});aV.displayName=oV;function NT(t){return t?"open":"closed"}var lV="DialogTitleWarning",[Yse,cV]=Nse(lV,{contentName:Wa,titleName:AT,docsSlug:"dialog"}),Xse=({titleId:t})=>{const e=cV(lV),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Jse="DialogDescriptionWarning",Zse=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${cV(Jse).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},uV=Qj,eie=Xj,dV=Zj,DT=eV,kT=tV,MT=rV,OT=iV,LT=aV,hV="AlertDialog",[tie,Ale]=Ise(hV,[qj]),bi=qj(),fV=t=>{const{__scopeAlertDialog:e,...n}=t,r=bi(e);return f.jsx(uV,{...r,...n,modal:!0})};fV.displayName=hV;var nie="AlertDialogTrigger",rie=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=bi(n);return f.jsx(eie,{...s,...r,ref:e})});rie.displayName=nie;var sie="AlertDialogPortal",pV=t=>{const{__scopeAlertDialog:e,...n}=t,r=bi(e);return f.jsx(dV,{...r,...n})};pV.displayName=sie;var iie="AlertDialogOverlay",mV=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=bi(n);return f.jsx(DT,{...s,...r,ref:e})});mV.displayName=iie;var Zl="AlertDialogContent",[oie,aie]=tie(Zl),gV=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=bi(n),o=m.useRef(null),a=ke(e,o),l=m.useRef(null);return f.jsx(Yse,{contentName:Zl,titleName:yV,docsSlug:"alert-dialog",children:f.jsx(oie,{scope:n,cancelRef:l,children:f.jsxs(kT,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:ee(s.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=l.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[f.jsx(Nx,{children:r}),f.jsx(cie,{contentRef:o})]})})})});gV.displayName=Zl;var yV="AlertDialogTitle",vV=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=bi(n);return f.jsx(MT,{...s,...r,ref:e})});vV.displayName=yV;var wV="AlertDialogDescription",_V=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=bi(n);return f.jsx(OT,{...s,...r,ref:e})});_V.displayName=wV;var lie="AlertDialogAction",xV=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=bi(n);return f.jsx(LT,{...s,...r,ref:e})});xV.displayName=lie;var EV="AlertDialogCancel",TV=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=aie(EV,n),i=bi(n),o=ke(e,s);return f.jsx(LT,{...i,...r,ref:o})});TV.displayName=EV;var cie=({contentRef:t})=>{const e=`\`${Zl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Zl}\` by passing a \`${wV}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Zl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},uie=fV,die=pV,SV=mV,bV=gV,CV=xV,PV=TV,RV=vV,IV=_V;const hie=uie,fie=die,AV=m.forwardRef(({className:t,...e},n)=>f.jsx(SV,{className:de("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));AV.displayName=SV.displayName;const NV=m.forwardRef(({className:t,...e},n)=>f.jsxs(fie,{children:[f.jsx(AV,{}),f.jsx(bV,{ref:n,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));NV.displayName=bV.displayName;const DV=({className:t,...e})=>f.jsx("div",{className:de("flex flex-col space-y-2 text-center sm:text-left",t),...e});DV.displayName="AlertDialogHeader";const kV=({className:t,...e})=>f.jsx("div",{className:de("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});kV.displayName="AlertDialogFooter";const MV=m.forwardRef(({className:t,...e},n)=>f.jsx(RV,{ref:n,className:de("text-lg font-semibold",t),...e}));MV.displayName=RV.displayName;const OV=m.forwardRef(({className:t,...e},n)=>f.jsx(IV,{ref:n,className:de("text-sm text-muted-foreground",t),...e}));OV.displayName=IV.displayName;const LV=m.forwardRef(({className:t,...e},n)=>f.jsx(CV,{ref:n,className:de(oE(),t),...e}));LV.displayName=CV.displayName;const jV=m.forwardRef(({className:t,...e},n)=>f.jsx(PV,{ref:n,className:de(oE({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));jV.displayName=PV.displayName;const jT=({isOpen:t,setDialogState:e,onDelete:n,message:r})=>{const s=async()=>{e(!1),await n()},i=()=>{e(!1)};return f.jsx(hie,{open:t,onOpenChange:o=>{e(o),setTimeout(()=>{o||(document.body.style.pointerEvents="")},100)},children:f.jsxs(NV,{children:[f.jsxs(DV,{children:[f.jsx(MV,{children:"Are you sure you want to delete?"}),f.jsx(OV,{children:r})]}),f.jsxs(kV,{children:[f.jsx(jV,{onClick:i,children:"Cancel"}),f.jsx(LV,{onClick:s,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})},pie={1:"Base",2:"Entry",3:"Verify"},mie={1:"Entry",2:"Verify"},VV={base:"This action cannot be undone. This will permanently delete the knowledge base.",entry:"This action cannot be undone. This will permanently delete the knowledge entry."},gie=({onTabChange:t})=>{const{handleOpenKnowledgeForm:e}=Rse(),n=tl(),r=Zc(),{filter:s,handleFilterChange:i}=$j(),o=Rt(_=>_.admin),a=Xt(_=>_.selectedKnowledgeBaseName),l=Xt(_=>_.selectedKnowledgeEntryIntentItem),c=Xt(_=>_.setSelectedKnowledgeEntryIntentItem),u=Ei(_=>_.dialogs),d=Ei(_=>_.setDialogState),{data:p,isLoading:g}=PT({queryFn:()=>Ire(a),queryKey:jp,enabled:!!a}),{mutateAsync:w}=ei({mutationFn:Ore,onSuccess:()=>{r.invalidateQueries({queryKey:jp}),n({title:`Knowledge Entry with intent ${l} deleted`,description:Kt()})},onError:_=>{n({title:_==null?void 0:_.message,description:Kt()}),Mt(_.message||"An Unexpected error occured while deleting knowledge base")}}),v=async()=>{if(!l)throw new Error("No knowledge entry intent selected cannot delete");await w(`${a}&${l}`),c("")},E=m.useMemo(()=>p==null?void 0:p.filter(_=>_.intent.toLowerCase().includes(s.toLowerCase())),[p,s]);return m.useEffect(()=>()=>{r.resetQueries({queryKey:jp})},[]),g?f.jsx(Bj,{}):p?f.jsxs(Zg,{value:"knowledgeEntry",className:"mt-2",children:[f.jsxs("div",{className:"h-[450px] w-full px-4 flex flex-col pb-4 overflow-y-auto scrollbar-slim",children:[f.jsxs("div",{className:"flex mb-2 space-x-4",children:[f.jsx(sn,{className:"flex-grow outline-none focus:outline-none",placeholder:"Search knowledge base...",onChange:_=>i(_.target.value)}),(o==null?void 0:o.role)!=="viewer"&&f.jsx(Uj,{label:"Add Knowledge Entry",onButtonClick:()=>e(OJ.entry)})]}),f.jsx(qre,{knowledgeEntries:E,handleTabChange:t})]}),u.showConfirmDeleteKnowledgeEntryDialog&&f.jsx(jT,{isOpen:u.showConfirmDeleteKnowledgeEntryDialog,setDialogState:_=>d("showConfirmDeleteKnowledgeEntryDialog",_),onDelete:v,message:VV.entry})]}):f.jsx(Sj,{heading:"No Knowledge Base Selected",description:"Select a knowledge base category to view its contents here."})},FV=t=>{const[e,n]=m.useState(t);return{currentTab:e,setCurrentTab:n,setActiveTab:s=>{n(s)}}},yie=({base:t,onItemClick:e})=>{const n=Rt(l=>l.admin),r=Xt(l=>l.selectedKnowledgeBaseName),s=Xt(l=>l.setSelectedKnowledgeBaseItem),i=Ei(l=>l.openDialog),o=()=>{s(t),i("showRenameKnowledgeBaseDialog")},a=()=>{s(t),i("showConfirmDeleteKnowledgeBaseDialog")};return f.jsxs("div",{className:`flex justify-between p-2 rounded-md cursor-pointer transition-colors ${r===t?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,onClick:()=>e(t),children:[t,(n==null?void 0:n.role)!=="viewer"&&f.jsx(ct,{className:"bg-transparent hover:bg-transparent size-8 p-0 h-fit",children:f.jsx(bj,{onRenameKnowledge:o,onDeleteKnowledge:a})})]})},vie=({knowledgeBaseNameList:t,handleTabChange:e})=>{const n=Xt(i=>i.setSelectedKnowledgeBaseName),r=Xt(i=>i.selectedKnowledgeBaseName),s=i=>{e("knowledgeEntry"),r!==i&&n(i)};return f.jsx("div",{children:f.jsx(zg,{listStyle:"space-y-2",items:t,renderItem:i=>f.jsx(yie,{base:i,onItemClick:s})})})},_y=uV,wie=dV,UV=m.forwardRef(({className:t,...e},n)=>f.jsx(DT,{ref:n,className:de("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));UV.displayName=DT.displayName;const Yh=m.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(wie,{children:[f.jsx(UV,{}),f.jsxs(kT,{ref:r,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,f.jsxs(LT,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[f.jsx(bg,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Yh.displayName=kT.displayName;const Xh=({className:t,...e})=>f.jsx("div",{className:de("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Xh.displayName="DialogHeader";const xy=({className:t,...e})=>f.jsx("div",{className:de("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});xy.displayName="DialogFooter";const Jh=m.forwardRef(({className:t,...e},n)=>f.jsx(MT,{ref:n,className:de("text-lg font-semibold leading-none tracking-tight",t),...e}));Jh.displayName=MT.displayName;const Zh=m.forwardRef(({className:t,...e},n)=>f.jsx(OT,{ref:n,className:de("text-sm text-muted-foreground",t),...e}));Zh.displayName=OT.displayName;var ef=t=>t.type==="checkbox",ya=t=>t instanceof Date,Xn=t=>t==null;const BV=t=>typeof t=="object";var Jt=t=>!Xn(t)&&!Array.isArray(t)&&BV(t)&&!ya(t),$V=t=>Jt(t)&&t.target?ef(t.target)?t.target.checked:t.target.value:t,_ie=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,zV=(t,e)=>t.has(_ie(e)),xie=t=>{const e=t.constructor&&t.constructor.prototype;return Jt(e)&&e.hasOwnProperty("isPrototypeOf")},VT=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function rr(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(VT&&(t instanceof Blob||t instanceof FileList))&&(n||Jt(t)))if(e=n?[]:{},!n&&!xie(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=rr(t[r]));else return t;return e}var Ey=t=>Array.isArray(t)?t.filter(Boolean):[],zt=t=>t===void 0,oe=(t,e,n)=>{if(!e||!Jt(t))return n;const r=Ey(e.split(/[,[\].]+?/)).reduce((s,i)=>Xn(s)?s:s[i],t);return zt(r)||r===t?zt(t[e])?n:t[e]:r},Mr=t=>typeof t=="boolean",FT=t=>/^\w*$/.test(t),KV=t=>Ey(t.replace(/["|']|\]/g,"").split(/\.|\[/)),vt=(t,e,n)=>{let r=-1;const s=FT(e)?[e]:KV(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let l=n;if(r!==o){const c=t[a];l=Jt(c)||Array.isArray(c)?c:isNaN(+s[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const Wm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ts={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},$s={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Eie=Ke.createContext(null),UT=()=>Ke.useContext(Eie);var WV=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==ts.all&&(e._proxyFormState[o]=!r||ts.all),n&&(n[o]=!0),t[o]}});return s},or=t=>Jt(t)&&!Object.keys(t).length,HV=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return or(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||ts.all))},dd=t=>Array.isArray(t)?t:[t],GV=(t,e,n)=>!t||!e||t===e||dd(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function BT(t){const e=Ke.useRef(t);e.current=t,Ke.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function Tie(t){const e=UT(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,a]=Ke.useState(n._formState),l=Ke.useRef(!0),c=Ke.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=Ke.useRef(s);return u.current=s,BT({disabled:r,next:d=>l.current&&GV(u.current,d.name,i)&&HV(d,c.current,n._updateFormState)&&a({...n._formState,...d}),subject:n._subjects.state}),Ke.useEffect(()=>(l.current=!0,c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),WV(o,n,c.current,!1)}var Ss=t=>typeof t=="string",qV=(t,e,n,r,s)=>Ss(t)?(r&&e.watch.add(t),oe(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),oe(n,i))):(r&&(e.watchAll=!0),n);function Sie(t){const e=UT(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o}=t||{},a=Ke.useRef(r);a.current=r,BT({disabled:i,subject:n._subjects.values,next:u=>{GV(a.current,u.name,o)&&c(rr(qV(a.current,n._names,u.values||n._formValues,!1,s)))}});const[l,c]=Ke.useState(n._getWatch(r,s));return Ke.useEffect(()=>n._removeUnmounted()),l}function bie(t){const e=UT(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i}=t,o=zV(s._names.array,n),a=Sie({control:s,name:n,defaultValue:oe(s._formValues,n,oe(s._defaultValues,n,t.defaultValue)),exact:!0}),l=Tie({control:s,name:n,exact:!0}),c=Ke.useRef(s.register(n,{...t.rules,value:a,...Mr(t.disabled)?{disabled:t.disabled}:{}}));return Ke.useEffect(()=>{const u=s._options.shouldUnregister||i,d=(p,g)=>{const w=oe(s._fields,p);w&&w._f&&(w._f.mount=g)};if(d(n,!0),u){const p=rr(oe(s._options.defaultValues,n));vt(s._defaultValues,n,p),zt(oe(s._formValues,n))&&vt(s._formValues,n,p)}return()=>{(o?u&&!s._state.action:u)?s.unregister(n):d(n,!1)}},[n,s,o,i]),Ke.useEffect(()=>{oe(s._fields,n)&&s._updateDisabledField({disabled:r,fields:s._fields,name:n,value:oe(s._fields,n)._f.value})},[r,n,s]),{field:{name:n,value:a,...Mr(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:Ke.useCallback(u=>c.current.onChange({target:{value:$V(u),name:n},type:Wm.CHANGE}),[n]),onBlur:Ke.useCallback(()=>c.current.onBlur({target:{value:oe(s._formValues,n),name:n},type:Wm.BLUR}),[n,s]),ref:Ke.useCallback(u=>{const d=oe(s._fields,n);d&&u&&(d._f.ref={focus:()=>u.focus(),select:()=>u.select(),setCustomValidity:p=>u.setCustomValidity(p),reportValidity:()=>u.reportValidity()})},[s._fields,n])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!oe(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!oe(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!oe(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!oe(l.validatingFields,n)},error:{enumerable:!0,get:()=>oe(l.errors,n)}})}}const Cie=t=>t.render(bie(t));var Pie=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},yR=t=>({isOnSubmit:!t||t===ts.onSubmit,isOnBlur:t===ts.onBlur,isOnChange:t===ts.onChange,isOnAll:t===ts.all,isOnTouch:t===ts.onTouched}),vR=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const hd=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=oe(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(hd(a,e))break}else if(Jt(a)&&hd(a,e))break}}};var Rie=(t,e,n)=>{const r=dd(oe(t,n));return vt(r,"root",e[n]),vt(t,n,r),t},$T=t=>t.type==="file",ti=t=>typeof t=="function",Hm=t=>{if(!VT)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Fp=t=>Ss(t),zT=t=>t.type==="radio",Gm=t=>t instanceof RegExp;const wR={value:!1,isValid:!1},_R={value:!0,isValid:!0};var QV=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!zt(t[0].attributes.value)?zt(t[0].value)||t[0].value===""?_R:{value:t[0].value,isValid:!0}:_R:wR}return wR};const xR={isValid:!1,value:null};var YV=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,xR):xR;function ER(t,e,n="validate"){if(Fp(t)||Array.isArray(t)&&t.every(Fp)||Mr(t)&&!t)return{type:n,message:Fp(t)?t:"",ref:e}}var gl=t=>Jt(t)&&!Gm(t)?t:{value:t,message:""},TR=async(t,e,n,r,s)=>{const{ref:i,refs:o,required:a,maxLength:l,minLength:c,min:u,max:d,pattern:p,validate:g,name:w,valueAsNumber:v,mount:E,disabled:_}=t._f,y=oe(e,w);if(!E||_)return{};const S=o?o[0]:i,R=k=>{r&&S.reportValidity&&(S.setCustomValidity(Mr(k)?"":k||""),S.reportValidity())},D={},O=zT(i),C=ef(i),T=O||C,P=(v||$T(i))&&zt(i.value)&&zt(y)||Hm(i)&&i.value===""||y===""||Array.isArray(y)&&!y.length,I=Pie.bind(null,w,n,D),M=(k,N,H,ae=$s.maxLength,te=$s.minLength)=>{const ne=k?N:H;D[w]={type:k?ae:te,message:ne,ref:i,...I(k?ae:te,ne)}};if(s?!Array.isArray(y)||!y.length:a&&(!T&&(P||Xn(y))||Mr(y)&&!y||C&&!QV(o).isValid||O&&!YV(o).isValid)){const{value:k,message:N}=Fp(a)?{value:!!a,message:a}:gl(a);if(k&&(D[w]={type:$s.required,message:N,ref:S,...I($s.required,N)},!n))return R(N),D}if(!P&&(!Xn(u)||!Xn(d))){let k,N;const H=gl(d),ae=gl(u);if(!Xn(y)&&!isNaN(y)){const te=i.valueAsNumber||y&&+y;Xn(H.value)||(k=te>H.value),Xn(ae.value)||(N=te<ae.value)}else{const te=i.valueAsDate||new Date(y),ne=Z=>new Date(new Date().toDateString()+" "+Z),z=i.type=="time",B=i.type=="week";Ss(H.value)&&y&&(k=z?ne(y)>ne(H.value):B?y>H.value:te>new Date(H.value)),Ss(ae.value)&&y&&(N=z?ne(y)<ne(ae.value):B?y<ae.value:te<new Date(ae.value))}if((k||N)&&(M(!!k,H.message,ae.message,$s.max,$s.min),!n))return R(D[w].message),D}if((l||c)&&!P&&(Ss(y)||s&&Array.isArray(y))){const k=gl(l),N=gl(c),H=!Xn(k.value)&&y.length>+k.value,ae=!Xn(N.value)&&y.length<+N.value;if((H||ae)&&(M(H,k.message,N.message),!n))return R(D[w].message),D}if(p&&!P&&Ss(y)){const{value:k,message:N}=gl(p);if(Gm(k)&&!y.match(k)&&(D[w]={type:$s.pattern,message:N,ref:i,...I($s.pattern,N)},!n))return R(N),D}if(g){if(ti(g)){const k=await g(y,e),N=ER(k,S);if(N&&(D[w]={...N,...I($s.validate,N.message)},!n))return R(N.message),D}else if(Jt(g)){let k={};for(const N in g){if(!or(k)&&!n)break;const H=ER(await g[N](y,e),S,N);H&&(k={...H,...I(N,H.message)},R(H.message),n&&(D[w]=k))}if(!or(k)&&(D[w]={ref:S,...k},!n))return D}}return R(!0),D};function Iie(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=zt(t)?r++:t[e[r++]];return t}function Aie(t){for(const e in t)if(t.hasOwnProperty(e)&&!zt(t[e]))return!1;return!0}function on(t,e){const n=Array.isArray(e)?e:FT(e)?[e]:KV(e),r=n.length===1?t:Iie(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(Jt(r)&&or(r)||Array.isArray(r)&&Aie(r))&&on(t,n.slice(0,-1)),t}var Jv=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},c_=t=>Xn(t)||!BV(t);function Qi(t,e){if(c_(t)||c_(e))return t===e;if(ya(t)&&ya(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(ya(i)&&ya(o)||Jt(i)&&Jt(o)||Array.isArray(i)&&Array.isArray(o)?!Qi(i,o):i!==o)return!1}}return!0}var XV=t=>t.type==="select-multiple",Nie=t=>zT(t)||ef(t),Zv=t=>Hm(t)&&t.isConnected,JV=t=>{for(const e in t)if(ti(t[e]))return!0;return!1};function qm(t,e={}){const n=Array.isArray(t);if(Jt(t)||n)for(const r in t)Array.isArray(t[r])||Jt(t[r])&&!JV(t[r])?(e[r]=Array.isArray(t[r])?[]:{},qm(t[r],e[r])):Xn(t[r])||(e[r]=!0);return e}function ZV(t,e,n){const r=Array.isArray(t);if(Jt(t)||r)for(const s in t)Array.isArray(t[s])||Jt(t[s])&&!JV(t[s])?zt(e)||c_(n[s])?n[s]=Array.isArray(t[s])?qm(t[s],[]):{...qm(t[s])}:ZV(t[s],Xn(e)?{}:e[s],n[s]):n[s]=!Qi(t[s],e[s]);return n}var Iu=(t,e)=>ZV(t,e,qm(e)),eF=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>zt(t)?t:e?t===""?NaN:t&&+t:n&&Ss(t)?new Date(t):r?r(t):t;function ew(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return $T(e)?e.files:zT(e)?YV(t.refs).value:XV(e)?[...e.selectedOptions].map(({value:n})=>n):ef(e)?QV(t.refs).value:eF(zt(e.value)?t.ref.value:e.value,t)}var Die=(t,e,n,r)=>{const s={};for(const i of t){const o=oe(e,i);o&&vt(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Au=t=>zt(t)?t:Gm(t)?t.source:Jt(t)?Gm(t.value)?t.value.source:t.value:t;const SR="AsyncFunction";var kie=t=>(!t||!t.validate)&&!!(ti(t.validate)&&t.validate.constructor.name===SR||Jt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===SR)),Mie=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function bR(t,e,n){const r=oe(t,n);if(r||FT(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=oe(e,i),a=oe(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var Oie=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,Lie=(t,e)=>!Ey(oe(t,e)).length&&on(t,e);const jie={mode:ts.onSubmit,reValidateMode:ts.onChange,shouldFocusError:!0};function Vie(t={}){let e={...jie,...t},n={submitCount:0,isDirty:!1,isLoading:ti(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=Jt(e.defaultValues)||Jt(e.values)?rr(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:rr(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:Jv(),array:Jv(),state:Jv()},p=yR(e.mode),g=yR(e.reValidateMode),w=e.criteriaMode===ts.all,v=L=>$=>{clearTimeout(c),c=setTimeout(L,$)},E=async L=>{if(!t.disabled&&(u.isValid||L)){const $=e.resolver?or((await T()).errors):await I(r,!0);$!==n.isValid&&d.state.next({isValid:$})}},_=(L,$)=>{!t.disabled&&(u.isValidating||u.validatingFields)&&((L||Array.from(a.mount)).forEach(G=>{G&&($?vt(n.validatingFields,G,$):on(n.validatingFields,G))}),d.state.next({validatingFields:n.validatingFields,isValidating:!or(n.validatingFields)}))},y=(L,$=[],G,le,re=!0,J=!0)=>{if(le&&G&&!t.disabled){if(o.action=!0,J&&Array.isArray(oe(r,L))){const Ee=G(oe(r,L),le.argA,le.argB);re&&vt(r,L,Ee)}if(J&&Array.isArray(oe(n.errors,L))){const Ee=G(oe(n.errors,L),le.argA,le.argB);re&&vt(n.errors,L,Ee),Lie(n.errors,L)}if(u.touchedFields&&J&&Array.isArray(oe(n.touchedFields,L))){const Ee=G(oe(n.touchedFields,L),le.argA,le.argB);re&&vt(n.touchedFields,L,Ee)}u.dirtyFields&&(n.dirtyFields=Iu(s,i)),d.state.next({name:L,isDirty:k(L,$),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else vt(i,L,$)},S=(L,$)=>{vt(n.errors,L,$),d.state.next({errors:n.errors})},R=L=>{n.errors=L,d.state.next({errors:n.errors,isValid:!1})},D=(L,$,G,le)=>{const re=oe(r,L);if(re){const J=oe(i,L,zt(G)?oe(s,L):G);zt(J)||le&&le.defaultChecked||$?vt(i,L,$?J:ew(re._f)):ae(L,J),o.mount&&E()}},O=(L,$,G,le,re)=>{let J=!1,Ee=!1;const Oe={name:L};if(!t.disabled){const Le=!!(oe(r,L)&&oe(r,L)._f&&oe(r,L)._f.disabled);if(!G||le){u.isDirty&&(Ee=n.isDirty,n.isDirty=Oe.isDirty=k(),J=Ee!==Oe.isDirty);const Ue=Le||Qi(oe(s,L),$);Ee=!!(!Le&&oe(n.dirtyFields,L)),Ue||Le?on(n.dirtyFields,L):vt(n.dirtyFields,L,!0),Oe.dirtyFields=n.dirtyFields,J=J||u.dirtyFields&&Ee!==!Ue}if(G){const Ue=oe(n.touchedFields,L);Ue||(vt(n.touchedFields,L,G),Oe.touchedFields=n.touchedFields,J=J||u.touchedFields&&Ue!==G)}J&&re&&d.state.next(Oe)}return J?Oe:{}},C=(L,$,G,le)=>{const re=oe(n.errors,L),J=u.isValid&&Mr($)&&n.isValid!==$;if(t.delayError&&G?(l=v(()=>S(L,G)),l(t.delayError)):(clearTimeout(c),l=null,G?vt(n.errors,L,G):on(n.errors,L)),(G?!Qi(re,G):re)||!or(le)||J){const Ee={...le,...J&&Mr($)?{isValid:$}:{},errors:n.errors,name:L};n={...n,...Ee},d.state.next(Ee)}},T=async L=>{_(L,!0);const $=await e.resolver(i,e.context,Die(L||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return _(L),$},P=async L=>{const{errors:$}=await T(L);if(L)for(const G of L){const le=oe($,G);le?vt(n.errors,G,le):on(n.errors,G)}else n.errors=$;return $},I=async(L,$,G={valid:!0})=>{for(const le in L){const re=L[le];if(re){const{_f:J,...Ee}=re;if(J){const Oe=a.array.has(J.name),Le=re._f&&kie(re._f);Le&&u.validatingFields&&_([le],!0);const Ue=await TR(re,i,w,e.shouldUseNativeValidation&&!$,Oe);if(Le&&u.validatingFields&&_([le]),Ue[J.name]&&(G.valid=!1,$))break;!$&&(oe(Ue,J.name)?Oe?Rie(n.errors,Ue,J.name):vt(n.errors,J.name,Ue[J.name]):on(n.errors,J.name))}!or(Ee)&&await I(Ee,$,G)}}return G.valid},M=()=>{for(const L of a.unMount){const $=oe(r,L);$&&($._f.refs?$._f.refs.every(G=>!Zv(G)):!Zv($._f.ref))&&He(L)}a.unMount=new Set},k=(L,$)=>!t.disabled&&(L&&$&&vt(i,L,$),!Qi(pe(),s)),N=(L,$,G)=>qV(L,a,{...o.mount?i:zt($)?s:Ss(L)?{[L]:$}:$},G,$),H=L=>Ey(oe(o.mount?i:s,L,t.shouldUnregister?oe(s,L,[]):[])),ae=(L,$,G={})=>{const le=oe(r,L);let re=$;if(le){const J=le._f;J&&(!J.disabled&&vt(i,L,eF($,J)),re=Hm(J.ref)&&Xn($)?"":$,XV(J.ref)?[...J.ref.options].forEach(Ee=>Ee.selected=re.includes(Ee.value)):J.refs?ef(J.ref)?J.refs.length>1?J.refs.forEach(Ee=>(!Ee.defaultChecked||!Ee.disabled)&&(Ee.checked=Array.isArray(re)?!!re.find(Oe=>Oe===Ee.value):re===Ee.value)):J.refs[0]&&(J.refs[0].checked=!!re):J.refs.forEach(Ee=>Ee.checked=Ee.value===re):$T(J.ref)?J.ref.value="":(J.ref.value=re,J.ref.type||d.values.next({name:L,values:{...i}})))}(G.shouldDirty||G.shouldTouch)&&O(L,re,G.shouldTouch,G.shouldDirty,!0),G.shouldValidate&&Z(L)},te=(L,$,G)=>{for(const le in $){const re=$[le],J=`${L}.${le}`,Ee=oe(r,J);(a.array.has(L)||Jt(re)||Ee&&!Ee._f)&&!ya(re)?te(J,re,G):ae(J,re,G)}},ne=(L,$,G={})=>{const le=oe(r,L),re=a.array.has(L),J=rr($);vt(i,L,J),re?(d.array.next({name:L,values:{...i}}),(u.isDirty||u.dirtyFields)&&G.shouldDirty&&d.state.next({name:L,dirtyFields:Iu(s,i),isDirty:k(L,J)})):le&&!le._f&&!Xn(J)?te(L,J,G):ae(L,J,G),vR(L,a)&&d.state.next({...n}),d.values.next({name:o.mount?L:void 0,values:{...i}})},z=async L=>{o.mount=!0;const $=L.target;let G=$.name,le=!0;const re=oe(r,G),J=()=>$.type?ew(re._f):$V(L),Ee=Oe=>{le=Number.isNaN(Oe)||ya(Oe)&&isNaN(Oe.getTime())||Qi(Oe,oe(i,G,Oe))};if(re){let Oe,Le;const Ue=J(),$n=L.type===Wm.BLUR||L.type===Wm.FOCUS_OUT,Ci=!Mie(re._f)&&!e.resolver&&!oe(n.errors,G)&&!re._f.deps||Oie($n,oe(n.touchedFields,G),n.isSubmitted,g,p),zn=vR(G,a,$n);vt(i,G,Ue),$n?(re._f.onBlur&&re._f.onBlur(L),l&&l(0)):re._f.onChange&&re._f.onChange(L);const Kn=O(G,Ue,$n,!1),hs=!or(Kn)||zn;if(!$n&&d.values.next({name:G,type:L.type,values:{...i}}),Ci)return u.isValid&&(t.mode==="onBlur"?$n&&E():E()),hs&&d.state.next({name:G,...zn?{}:Kn});if(!$n&&zn&&d.state.next({...n}),e.resolver){const{errors:fs}=await T([G]);if(Ee(Ue),le){const rl=bR(n.errors,r,G),Wn=bR(fs,r,rl.name||G);Oe=Wn.error,G=Wn.name,Le=or(fs)}}else _([G],!0),Oe=(await TR(re,i,w,e.shouldUseNativeValidation))[G],_([G]),Ee(Ue),le&&(Oe?Le=!1:u.isValid&&(Le=await I(r,!0)));le&&(re._f.deps&&Z(re._f.deps),C(G,Le,Oe,Kn))}},B=(L,$)=>{if(oe(n.errors,$)&&L.focus)return L.focus(),1},Z=async(L,$={})=>{let G,le;const re=dd(L);if(e.resolver){const J=await P(zt(L)?L:re);G=or(J),le=L?!re.some(Ee=>oe(J,Ee)):G}else L?(le=(await Promise.all(re.map(async J=>{const Ee=oe(r,J);return await I(Ee&&Ee._f?{[J]:Ee}:Ee)}))).every(Boolean),!(!le&&!n.isValid)&&E()):le=G=await I(r);return d.state.next({...!Ss(L)||u.isValid&&G!==n.isValid?{}:{name:L},...e.resolver||!L?{isValid:G}:{},errors:n.errors}),$.shouldFocus&&!le&&hd(r,B,L?re:a.mount),le},pe=L=>{const $={...o.mount?i:s};return zt(L)?$:Ss(L)?oe($,L):L.map(G=>oe($,G))},Te=(L,$)=>({invalid:!!oe(($||n).errors,L),isDirty:!!oe(($||n).dirtyFields,L),error:oe(($||n).errors,L),isValidating:!!oe(n.validatingFields,L),isTouched:!!oe(($||n).touchedFields,L)}),Re=L=>{L&&dd(L).forEach($=>on(n.errors,$)),d.state.next({errors:L?n.errors:{}})},Xe=(L,$,G)=>{const le=(oe(r,L,{_f:{}})._f||{}).ref,re=oe(n.errors,L)||{},{ref:J,message:Ee,type:Oe,...Le}=re;vt(n.errors,L,{...Le,...$,ref:le}),d.state.next({name:L,errors:n.errors,isValid:!1}),G&&G.shouldFocus&&le&&le.focus&&le.focus()},gt=(L,$)=>ti(L)?d.values.subscribe({next:G=>L(N(void 0,$),G)}):N(L,$,!0),He=(L,$={})=>{for(const G of L?dd(L):a.mount)a.mount.delete(G),a.array.delete(G),$.keepValue||(on(r,G),on(i,G)),!$.keepError&&on(n.errors,G),!$.keepDirty&&on(n.dirtyFields,G),!$.keepTouched&&on(n.touchedFields,G),!$.keepIsValidating&&on(n.validatingFields,G),!e.shouldUnregister&&!$.keepDefaultValue&&on(s,G);d.values.next({values:{...i}}),d.state.next({...n,...$.keepDirty?{isDirty:k()}:{}}),!$.keepIsValid&&E()},ce=({disabled:L,name:$,field:G,fields:le,value:re})=>{if(Mr(L)&&o.mount||L){const J=L?void 0:zt(re)?ew(G?G._f:oe(le,$)._f):re;vt(i,$,J),O($,J,!1,!1,!0)}},je=(L,$={})=>{let G=oe(r,L);const le=Mr($.disabled)||Mr(t.disabled);return vt(r,L,{...G||{},_f:{...G&&G._f?G._f:{ref:{name:L}},name:L,mount:!0,...$}}),a.mount.add(L),G?ce({field:G,disabled:Mr($.disabled)?$.disabled:t.disabled,name:L,value:$.value}):D(L,!0,$.value),{...le?{disabled:$.disabled||t.disabled}:{},...e.progressive?{required:!!$.required,min:Au($.min),max:Au($.max),minLength:Au($.minLength),maxLength:Au($.maxLength),pattern:Au($.pattern)}:{},name:L,onChange:z,onBlur:z,ref:re=>{if(re){je(L,$),G=oe(r,L);const J=zt(re.value)&&re.querySelectorAll&&re.querySelectorAll("input,select,textarea")[0]||re,Ee=Nie(J),Oe=G._f.refs||[];if(Ee?Oe.find(Le=>Le===J):J===G._f.ref)return;vt(r,L,{_f:{...G._f,...Ee?{refs:[...Oe.filter(Zv),J,...Array.isArray(oe(s,L))?[{}]:[]],ref:{type:J.type,name:L}}:{ref:J}}}),D(L,!1,void 0,J)}else G=oe(r,L,{}),G._f&&(G._f.mount=!1),(e.shouldUnregister||$.shouldUnregister)&&!(zV(a.array,L)&&o.action)&&a.unMount.add(L)}}},rt=()=>e.shouldFocusError&&hd(r,B,a.mount),Ve=L=>{Mr(L)&&(d.state.next({disabled:L}),hd(r,($,G)=>{const le=oe(r,G);le&&($.disabled=le._f.disabled||L,Array.isArray(le._f.refs)&&le._f.refs.forEach(re=>{re.disabled=le._f.disabled||L}))},0,!1))},ze=(L,$)=>async G=>{let le;G&&(G.preventDefault&&G.preventDefault(),G.persist&&G.persist());let re=rr(i);if(d.state.next({isSubmitting:!0}),e.resolver){const{errors:J,values:Ee}=await T();n.errors=J,re=Ee}else await I(r);if(on(n.errors,"root"),or(n.errors)){d.state.next({errors:{}});try{await L(re,G)}catch(J){le=J}}else $&&await $({...n.errors},G),rt(),setTimeout(rt);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:or(n.errors)&&!le,submitCount:n.submitCount+1,errors:n.errors}),le)throw le},qe=(L,$={})=>{oe(r,L)&&(zt($.defaultValue)?ne(L,rr(oe(s,L))):(ne(L,$.defaultValue),vt(s,L,rr($.defaultValue))),$.keepTouched||on(n.touchedFields,L),$.keepDirty||(on(n.dirtyFields,L),n.isDirty=$.defaultValue?k(L,rr(oe(s,L))):k()),$.keepError||(on(n.errors,L),u.isValid&&E()),d.state.next({...n}))},Ft=(L,$={})=>{const G=L?rr(L):s,le=rr(G),re=or(L),J=re?s:le;if($.keepDefaultValues||(s=G),!$.keepValues){if($.keepDirtyValues){const Ee=new Set([...a.mount,...Object.keys(Iu(s,i))]);for(const Oe of Array.from(Ee))oe(n.dirtyFields,Oe)?vt(J,Oe,oe(i,Oe)):ne(Oe,oe(J,Oe))}else{if(VT&&zt(L))for(const Ee of a.mount){const Oe=oe(r,Ee);if(Oe&&Oe._f){const Le=Array.isArray(Oe._f.refs)?Oe._f.refs[0]:Oe._f.ref;if(Hm(Le)){const Ue=Le.closest("form");if(Ue){Ue.reset();break}}}}r={}}i=t.shouldUnregister?$.keepDefaultValues?rr(s):{}:rr(J),d.array.next({values:{...J}}),d.values.next({values:{...J}})}a={mount:$.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!$.keepIsValid||!!$.keepDirtyValues,o.watch=!!t.shouldUnregister,d.state.next({submitCount:$.keepSubmitCount?n.submitCount:0,isDirty:re?!1:$.keepDirty?n.isDirty:!!($.keepDefaultValues&&!Qi(L,s)),isSubmitted:$.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:re?{}:$.keepDirtyValues?$.keepDefaultValues&&i?Iu(s,i):n.dirtyFields:$.keepDefaultValues&&L?Iu(s,L):$.keepDirty?n.dirtyFields:{},touchedFields:$.keepTouched?n.touchedFields:{},errors:$.keepErrors?n.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},st=(L,$)=>Ft(ti(L)?L(i):L,$);return{control:{register:je,unregister:He,getFieldState:Te,handleSubmit:ze,setError:Xe,_executeSchema:T,_getWatch:N,_getDirty:k,_updateValid:E,_removeUnmounted:M,_updateFieldArray:y,_updateDisabledField:ce,_getFieldArray:H,_reset:Ft,_resetDefaultValues:()=>ti(e.defaultValues)&&e.defaultValues().then(L=>{st(L,e.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:L=>{n={...n,...L}},_disableForm:Ve,_subjects:d,_proxyFormState:u,_setErrors:R,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(L){o=L},get _defaultValues(){return s},get _names(){return a},set _names(L){a=L},get _formState(){return n},set _formState(L){n=L},get _options(){return e},set _options(L){e={...e,...L}}},trigger:Z,register:je,handleSubmit:ze,watch:gt,setValue:ne,getValues:pe,reset:st,resetField:qe,clearErrors:Re,unregister:He,setError:Xe,setFocus:(L,$={})=>{const G=oe(r,L),le=G&&G._f;if(le){const re=le.refs?le.refs[0]:le.ref;re.focus&&(re.focus(),$.shouldSelect&&re.select())}},getFieldState:Te}}function KT(t={}){const e=Ke.useRef(),n=Ke.useRef(),[r,s]=Ke.useState({isDirty:!1,isValidating:!1,isLoading:ti(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:ti(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Vie(t),formState:r});const i=e.current.control;return i._options=t,BT({subject:i._subjects.state,next:o=>{HV(o,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),Ke.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Ke.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),Ke.useEffect(()=>{t.values&&!Qi(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),Ke.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),Ke.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),Ke.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),Ke.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=WV(r,i),e.current}const Fie=({isOpen:t,setDialogState:e,onRenameKnowledge:n,isLoading:r})=>{const{register:s,reset:i,handleSubmit:o,formState:{errors:a,isSubmitted:l}}=KT(),c=async d=>{await n(d.newKnowledgeBaseName),u()},u=(d=void 0)=>{e(d??!1),i({}),setTimeout(()=>{d||(document.body.style.pointerEvents="")},100)};return f.jsx(_y,{open:t,onOpenChange:d=>{u(d)},children:f.jsxs(Yh,{className:"sm:max-w-[425px]",children:[f.jsxs(Xh,{children:[f.jsx(Jh,{className:"text-2xl font-bold",children:"Rename Knowledge Base"}),f.jsx(Zh,{children:"Enter a new name for the knowledge base to update its name."})]}),f.jsxs("form",{onSubmit:o(c),className:"text-sm space-y-2",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsx(Jn,{htmlFor:"current-password",children:"Knowledge Base Name"}),f.jsx(sn,{placeholder:"Enter new knowledge base name",...s("newKnowledgeBaseName",{required:"Please enter a new Knowledge Base name",minLength:{value:4,message:"Knowledge base name must be atleast 4 characters"}})}),l&&a.newKnowledgeBaseName&&f.jsx("p",{className:"text-red-500",children:a.newKnowledgeBaseName.message})]}),f.jsx(xy,{children:f.jsx(ct,{type:"submit",className:"w-40",children:r?f.jsx(nl,{}):"Rename"})})]})]})})},Uie=({onTabChange:t})=>{const e=Zc(),n=tl(),{handleFilterChange:r,filter:s}=$j(),i=Rt(P=>P.admin),o=Xt(P=>P.selectedKnowledgeBaseItem),a=Xt(P=>P.setSelectedKnowledgeBaseItem),l=Xt(P=>P.selectedKnowledgeBaseName),c=Xt(P=>P.setSelectedKnowledgeBaseName),u=Xt(P=>P.setSelectedKnowledgeEntry),d=Br(P=>P.openModal),p=Br(P=>P.setMode),g=ut(P=>P.clearFormData),w=Ei(P=>P.dialogs),v=Ei(P=>P.setDialogState),{data:E,isLoading:_}=PT({queryFn:()=>Rre(),queryKey:Lp}),{mutateAsync:y}=ei({mutationFn:Mre,onSuccess:()=>{e.invalidateQueries({queryKey:Lp}),n({title:`Knowledge Base ${o} deleted`,description:Kt()})},onError:P=>{n({title:P==null?void 0:P.message,description:Kt(),variant:"destructive"}),Mt(P.message||"An Unexpected error occured while deleting knowledge base")}}),{mutateAsync:S,isPending:R}=ei({mutationFn:kre,onSuccess:P=>{e.invalidateQueries({queryKey:Lp}),n({title:P,description:Kt()})},onError:P=>{n({title:P==null?void 0:P.message,description:Kt(),variant:"destructive"}),Mt(P.message||"An Unexpected error occured while deleting knowledge base")}}),D=m.useMemo(()=>E==null?void 0:E.filter(P=>P.toLowerCase().includes(s.toLowerCase())),[E,s]),O=async()=>{if(!o)throw new Error("No knowledge base selected cannot delete");await y(o),a(""),l&&l===o&&(c(""),u(null))},C=async P=>{try{if(!o)throw new Error("No selected knowledge base");await S({knowledgeBaseName:o,newKnowledgeBaseName:P}),l&&l===o&&c(P)}catch(I){if(I instanceof Error){Mt(I.message,!0);return}console.error("Am umexpected error occured: ",I)}},T=P=>{g(),p(P),d()};return _?f.jsx(Bj,{}):E?f.jsxs(Zg,{value:"knowledgeBase",className:"mt-2",children:[f.jsxs("div",{className:"h-[450px] w-full px-4 pb-4 flex flex-col overflow-y-auto scrollbar-slim",children:[f.jsxs("div",{className:"flex mb-2 space-x-4",children:[f.jsx(sn,{className:"flex-grow outline-none focus:outline-none",placeholder:"Search knowledge base...",onChange:P=>r(P.target.value)}),(i==null?void 0:i.role)!=="viewer"&&f.jsx(Uj,{label:"Add Knowledge Base",onButtonClick:()=>T("BASE")})]}),f.jsx(vie,{knowledgeBaseNameList:D,handleTabChange:t})]}),w.showConfirmDeleteKnowledgeBaseDialog&&f.jsx(jT,{isOpen:w.showConfirmDeleteKnowledgeBaseDialog,setDialogState:P=>v("showConfirmDeleteKnowledgeBaseDialog",P),onDelete:O,message:VV.base}),w.showRenameKnowledgeBaseDialog&&f.jsx(Fie,{isOpen:w.showRenameKnowledgeBaseDialog,setDialogState:P=>v("showRenameKnowledgeBaseDialog",P),onRenameKnowledge:C,isLoading:R})]}):f.jsx(f.Fragment,{children:"No knowledge base list found"})},Bie=()=>{const{currentTab:t,setCurrentTab:e,setActiveTab:n}=FV("knowledgeBase");return f.jsxs(tJ,{value:t,onValueChange:r=>e(r),className:"w-full p-0 border-neutral-200 bg-white border shadow-sm text-sm md:text-base rounded-md overflow-hidden box-border",children:[f.jsx(sJ,{tabs:nJ}),t==="knowledgeBase"&&f.jsx(Uie,{onTabChange:n}),t==="knowledgeEntry"&&f.jsx(gie,{onTabChange:n}),t==="entryDetails"&&f.jsx(Hre,{})]})},ni=Bo((t,e)=>({currentStep:1,totalStep:3,nextStep:()=>{e().currentStep!==e().totalStep&&t(n=>({currentStep:n.currentStep+1}))},prevStep:()=>{e().currentStep!==1&&t(n=>({currentStep:n.currentStep-1}))},setTotalStep:n=>{if(n==="BASE")return t(()=>({totalStep:3}));t(()=>({totalStep:2}))},resetCurrentStep:()=>{t(()=>({currentStep:1}))}})),$ie=({progressData:t})=>{const e=ni(s=>s.totalStep),n=ni(s=>s.currentStep),r=(n-1)/(e-1)*100;return f.jsxs("div",{className:"mt-4 mb-8",children:[f.jsx("div",{className:"flex justify-between mb-2",children:[...Array(e)].map((s,i)=>f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${n>=i+1?"bg-lightGray text-htext":"bg-lightGray-darker text-muted-foreground"}`,children:i+1}),f.jsx("span",{className:"text-xs mt-1",children:t[i+1]})]},i))}),f.jsx("div",{className:"h-2 bg-muted rounded-full",children:f.jsx("div",{className:"h-full bg-blue-600 rounded-full transition-all duration-300 ease-in-out",style:{width:`${r}%`}})})]})},fd=({errorMessage:t})=>f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(SK,{className:"text-destructive size-5",strokeWidth:1.5}),f.jsx("div",{className:"text-destructive text-sm",children:t})]}),zie=()=>{const{knowledgeBaseName:t}=ut(r=>r.formData),{knowledgeBaseName:e}=ut(r=>r.formDataErrors),n=ut(r=>r.setFormData);return f.jsx("div",{className:"space-y-1",children:f.jsxs(f.Fragment,{children:[f.jsx("label",{htmlFor:"knowledgeBaseName",className:"block text-sm font-medium",children:"Knowledge Base Name"}),f.jsx(sn,{name:"knowledgeBaseName",placeholder:"Enter knowledge base name",value:t,className:de(e&&"border-destructive"),onChange:r=>n(r.target.name,r.target.value)}),e&&f.jsx(fd,{errorMessage:e})]})})},CR=()=>{const{intent:t,documents:e,answer:n}=ut(R=>R.formData),{intent:r,documents:s,answer:i}=ut(R=>R.formDataErrors),o=ut(R=>R.setDocuments),a=ut(R=>R.removeDocument),l=ut(R=>R.setFormData),c=ut(R=>R.addDocument),u=Xt(R=>R.selectedKnowledgeBaseName),d=Br(R=>R.modalMode),{file:p,isLinkDialogOpen:g,setIsLinkDialogOpen:w,handleFileChange:v,handleInsertLink:E,handleRemoveFile:_,fileInputRef:y,answerTextAreaRef:S}=xj(n);return m.useEffect(()=>{d==="ENTRY"&&l("knowledgeBaseName",u)},[]),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx(Jn,{children:"Intent"}),f.jsx(sn,{placeholder:"Enter the intent",value:t,className:de(r&&"border-destructive"),onChange:R=>l("intent",R.target.value)}),r&&f.jsx(fd,{errorMessage:r})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx(Jn,{children:"Documents"}),e.map((R,D)=>f.jsxs("div",{className:"flex space-x-2 relative",children:[f.jsx(sn,{placeholder:`Enter document ${D+1}`,className:de(s&&"border-destructive"),value:R,onChange:O=>o(O.target.value,D)},D),f.jsxs(ct,{type:"button",variant:"ghost",size:"icon",onClick:()=>a(D),className:"absolute right-2 top-1/2 -translate-y-1/2 hover:bg-transparent",children:[f.jsx(Ax,{className:"h-4 w-4 text-gray-500 hover:text-gray-700"}),f.jsx("span",{className:"sr-only",children:"Remove document"})]})]},D)),s&&f.jsx(fd,{errorMessage:s}),f.jsxs(ct,{variant:"outline",onClick:c,className:"w-full",children:[f.jsx(Ih,{className:"mr-2 h-4 w-4"})," Add Document"]})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx(Jn,{children:"Answer"}),f.jsx(IL,{answer:n,handleTextChange:l,onFileChange:v,fileRef:y,textAreaRef:S,isError:!!i,isLinkDropDownVisible:g,setIsLinkDropDownVisible:w,onInsertLink:E}),i&&f.jsx(fd,{errorMessage:i})]}),p&&f.jsx(AL,{file:p,removeFile:_})]})},Kie=({file:t})=>f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium",children:"File Details:"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:t.name})]}),PR=()=>{const{knowledgeBaseName:t,intent:e,documents:n,answer:r,file:s}=ut(i=>i.formData);return f.jsxs("div",{className:"space-y-4 break-words",children:[f.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Review Your Entry"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium",children:"Knowledge Base Name:"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium",children:"Intent:"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:e})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium",children:"Documents:"}),f.jsx("ul",{className:"list-disc pl-5 text-sm text-muted-foreground",children:n.map((i,o)=>f.jsx("li",{children:i},o))})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium",children:"Answer:"}),f.jsx("p",{className:"text-sm text-muted-foreground line-clamp-4",children:r})]}),s&&f.jsx(Kie,{file:s})]})},Wie=()=>{const t=ni(r=>r.currentStep),e=Br(r=>r.modalMode),n=()=>({1:{BASE:f.jsx(zie,{}),ENTRY:f.jsx(CR,{})},2:{BASE:f.jsx(CR,{}),ENTRY:f.jsx(PR,{})},3:{BASE:f.jsx(PR,{})}})[t][e]||f.jsx(f.Fragment,{children:"No Modal Section"});return f.jsx(f.Fragment,{children:n()})},Hie=()=>{const t=tl(),e=Zc(),n=Br(l=>l.closeModal),[r,s]=m.useState(!1),{mutateAsync:i}=ei({mutationFn:l=>Are(l),onSuccess:()=>{e.invalidateQueries({queryKey:Lp}),t({title:"Knowledge Base saved successfully.",description:Kt()})},onError:l=>{t({title:l.message,description:Kt(),variant:"destructive"})}}),{mutateAsync:o}=ei({mutationFn:l=>Nre(l),onSuccess:()=>{e.invalidateQueries({queryKey:jp}),t({title:"Knowledge Entry saved successfully.",description:Kt()})},onError:l=>{t({title:l.message,description:Kt(),variant:"destructive"})}});return{handleSubmitForm:async(l,c)=>{try{s(!0);let u=null;l.file&&(u=await Q0(l.file)),c==="BASE"?await i(u?{...l,fileUrl:u}:l):await o(u?{...l,fileUrl:u}:l)}catch(u){if(u instanceof Error&&u.message.includes("E11000"))return;console.error("Unexpected error occured ",u)}finally{s(!1),n()}},isLoading:r}},Gie=(t,e)=>{const n={};return t===1&&(e.knowledgeBaseName.trim()||(n.knowledgeBaseName="Knowledge Base Name is required")),t===2&&(e.intent.trim()||(n.intent="Intent is required"),e.documents.some(s=>s.trim()==="")&&(n.documents="Document is required"),e.answer.trim()||(n.answer="Answer is required")),{isValid:Object.keys(n).length===0,errors:n}},qie=()=>{const{handleSubmitForm:t,isLoading:e}=Hie(),n=Br(u=>u.modalMode),r=ut(u=>u.formData),s=ni(u=>u.currentStep),i=ni(u=>u.totalStep),o=ni(u=>u.nextStep),a=ni(u=>u.prevStep),l=ut(u=>u.setFormDataErrors),c=()=>{const{isValid:u,errors:d}=Gie(n==="BASE"?s:s+1,r);if(!u){l(d);return}l({}),o()};return f.jsxs("div",{className:"flex justify-between items-center mt-6",children:[f.jsx(ct,{variant:"outline",size:"icon",children:f.jsx(uK,{className:"h-4 w-4"})}),f.jsxs("div",{className:"flex ",children:[s>1&&f.jsxs(ct,{variant:"outline",onClick:a,className:"mr-2",children:[f.jsx(lK,{className:"mr-2 h-4 w-4"})," Back"]}),s<i?f.jsxs(ct,{onClick:c,children:["Next ",f.jsx(ED,{className:"ml-2 h-4 w-4"})]}):f.jsx(ct,{className:"w-52",onClick:async()=>{t(r,n)},children:e?f.jsx(nl,{}):"Save Knowledge Base"})]})]})},Qie=()=>{const t=ut(a=>a.clearFormData),e=Br(a=>a.isModalVisible),n=Br(a=>a.modalMode),r=Br(a=>a.closeModal),s=ni(a=>a.setTotalStep),i=ni(a=>a.resetCurrentStep),o=n==="BASE"?pie:mie;return m.useEffect(()=>(s(n),()=>{t(),i()}),[s]),f.jsx(_y,{open:e,onOpenChange:r,children:f.jsxs(Yh,{className:"sm:max-w-[550px] ",children:[f.jsxs(Xh,{children:[f.jsx(Jh,{className:"text-2xl font-bold",children:"Create New Knowledge Base"}),f.jsx(Zh,{children:"Fill in the details to create a new knowledge base."})]}),f.jsx($ie,{progressData:o}),f.jsx(iy,{children:f.jsx(oy,{className:"pt-6 max-h-[30rem] max-w-[498px] overflow-y-scroll",children:f.jsx(Wie,{})})}),f.jsx(qie,{})]})})},Yie=()=>{const t=Br(r=>r.isModalVisible),e=Xt(r=>r.setSelectedKnowledgeEntry),n=Xt(r=>r.selectedKnowledgeBaseName);return m.useEffect(()=>{n&&e(null)},[n,e]),f.jsxs("div",{className:"flex items-center flex-col w-[84rem] px-20 space-y-6",children:[f.jsx(qX,{}),f.jsx(Bie,{}),t&&f.jsx(Qie,{})]})},mt=Bo(t=>({botName:"",errors:{botName:""},interactionIcon:null,interactionIconPreview:"",widgetIcon:null,widgetIconPreview:"",metadata:[],setBotName:e=>{t(()=>({botName:e}))},setErrors:(e,n)=>{t(r=>({errors:{...r.errors,[e]:n}}))},setInteractionIcon:e=>{t(()=>({interactionIcon:e}))},setInteractionIconPreview:e=>{t(()=>({interactionIconPreview:e}))},setWidgetIcon:e=>{t(()=>({widgetIcon:e}))},setWidgetIconPreview:e=>{t(()=>({widgetIconPreview:e}))},setMetadata:e=>{t(()=>({metadata:e}))}})),Xie=({inputRef:t})=>{const e=Rt(a=>a.admin),n=mt(a=>a.botName),r=mt(a=>a.setBotName),s=mt(a=>a.errors),i=mt(a=>a.setErrors),o=a=>{r(a),a?i("botName",""):i("botName","Bot name field is required")};return f.jsxs("section",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"botName",className:"block text-sm font-medium text-black/80 mb-1",children:"Bot Name"}),f.jsx(sn,{ref:t,type:"text",value:n,onChange:a=>o(a.target.value),className:de("w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",s.botName&&"border-destructive"),readOnly:(e==null?void 0:e.role)==="viewer"}),s.botName&&f.jsx(fd,{errorMessage:s.botName})]})},Jie=()=>({handleIconChange:(n,r,s)=>{if(n.target.files&&n.target.files[0]){const i=n.target.files[0];if(i.type==="image/png"||i.type==="image/gif"||i.type==="image/jpeg"){r(i);const o=new FileReader;o.onload=a=>{var l;s((l=a.target)==null?void 0:l.result)},o.readAsDataURL(i)}else alert("Please upload a PNG, JPEG or GIF file."),n.target.value=""}},handleRemoveIcon:(n,r,s)=>{r(null),s(null),n.current&&(n.current.value="")}}),rs="https://firebasestorage.googleapis.com/v0/b/cob-chatbot.appspot.com/o/image%2Fdefault-icon.png?alt=media&token=7d708bba-dcf2-47a0-b81b-3ac8d0e02648",Zie=async(t,e,n,r=[])=>{try{const s=mt.getState().interactionIconPreview,i=mt.getState().widgetIconPreview,o=mt.getState().setInteractionIcon,a=mt.getState().setWidgetIcon,l=r.reduce((d,p)=>({...d,[p.key]:p.value}),{}),c={botName:n,metadata:l,interactionIconURL:s??rs,widgetIconUrl:i??rs};t&&(c.interactionIconURL=await q0(t,oR,"interaction-icon")??rs,o(null)),e&&(console.time("Upload Time"),c.widgetIconUrl=await q0(e,oR,"widget-icon")??rs,a(null),console.timeEnd("Upload Time")),await Sre("profile","botProfile",c,!1),Mt("Upload bot profile success")}catch(s){console.error(s)}},tF=({iconRef:t,setIcon:e,setIconPreview:n,iconPreview:r,acceptedFormat:s})=>{const{handleIconChange:i,handleRemoveIcon:o}=Jie();return f.jsxs("div",{className:"flex items-center ",children:[f.jsx(sn,{id:"widget-icon-upload",type:"file",className:"hidden",ref:t,accept:s,onChange:a=>i(a,e,n)}),f.jsx(ct,{type:"button",variant:"outline",size:"sm",onClick:()=>{var a;return(a=t.current)==null?void 0:a.click()},children:r&&r!==rs?f.jsxs("span",{className:"flex items-center text-sm gap-2",children:[f.jsx(PC,{className:"size-5"}),"Change Icon"]}):f.jsxs("span",{className:"flex items-center text-sm gap-2",children:[f.jsx(PC,{className:"size-5"}),"Upload Icon"]})}),r&&r!==rs&&f.jsx(ct,{type:"button",variant:"ghost",size:"sm",className:"ml-2",onClick:()=>o(t,e,n),children:"Remove"})]})},eoe=()=>{const t=mt(i=>i.setInteractionIcon),e=mt(i=>i.setInteractionIconPreview),n=mt(i=>i.interactionIconPreview),r=m.useRef(null),s=Rt(i=>i.admin);return f.jsxs("section",{className:"space-y-2",children:[f.jsx("label",{className:"block text-sm font-medium text-black/80",children:"Interaction Icon"}),f.jsxs("div",{className:"mt-1 flex items-center h-[4rem] space-x-4",children:[f.jsxs("div",{className:"size-16 rounded-full bg-gray-100 flex items-center justify-center overflow-hidden",children:[n&&f.jsx("img",{src:n,className:"size-full object-cover rounded-full"}),!n&&f.jsx("img",{src:rs,className:"size-full object-cover rounded-full"})]}),(s==null?void 0:s.role)!=="viewer"&&f.jsx(tF,{iconRef:r,setIcon:t,setIconPreview:e,iconPreview:n,acceptedFormat:".png,.jpg"})]}),(s==null?void 0:s.role)!=="viewer"&&f.jsx("p",{className:"text-sm text-muted-foreground",children:"PNG or JPG only. Max file size: 2MB."})]})},toe=()=>{const t=mt(i=>i.setWidgetIcon),e=mt(i=>i.widgetIconPreview),n=mt(i=>i.setWidgetIconPreview),r=m.useRef(null),s=Rt(i=>i.admin);return f.jsxs("section",{className:"space-y-2",children:[f.jsx("label",{className:"block text-sm font-medium text-black/80",children:"Widget Icon"}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs("div",{className:"size-16 rounded-full bg-gray-100 flex items-center justify-center overflow-hidden",children:[e&&f.jsx("img",{src:e,className:"size-full object-cover rounded-full"}),!e&&f.jsx("img",{src:rs,className:"size-full object-cover rounded-full"})]}),(s==null?void 0:s.role)!=="viewer"&&f.jsx(tF,{iconRef:r,setIcon:t,setIconPreview:n,iconPreview:e,acceptedFormat:".png,.jpg,.gif"})]}),(s==null?void 0:s.role)!=="viewer"&&f.jsx("p",{className:"text-sm text-muted-foreground",children:"PNG, JPEG OR GIF only. Max file size: 30MB."})]})},noe=({botNameInputRef:t})=>f.jsxs("form",{className:"space-y-4",children:[f.jsx(Xie,{inputRef:t}),f.jsx(eoe,{}),f.jsx(toe,{})]}),roe=({handleCloseChatbox:t})=>{const e=mt(r=>r.botName),n=mt(r=>r.interactionIconPreview);return f.jsx("section",{children:f.jsxs("div",{className:"bg-white h-[24rem] rounded-lg shadow-lg p-4 max-w-sm mx-auto flex flex-col",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[n?f.jsx("img",{src:n,alt:"interaction-icon-preview",className:"w-11 h-11 object-cover rounded-full"}):f.jsx("img",{src:rs,alt:"interaction-icon-preview",className:"w-11 h-11 object-cover rounded-full"}),f.jsx("span",{className:"text-sm font-medium text-gray-700",children:e||"Chatbot"})]}),f.jsx("div",{className:"cursor-pointer hover:scale-110 transition-transform",onClick:t,children:f.jsx(bg,{className:"w-5 h-5 text-gray-500"})})]}),f.jsx("div",{className:"flex-1"}),f.jsx("div",{className:" rounded-lg py-3 mb-4",children:f.jsxs("div",{className:"flex items-center",children:[n?f.jsx("img",{src:n,alt:"interaction-icon-preview",className:"w-10 h-10 object-cover rounded-full"}):f.jsx("img",{src:rs,alt:"interaction-icon-preview",className:"w-10 h-10 object-cover rounded-full"}),f.jsx("p",{className:"ml-2 text-sm text-gray-700 bg-gray-100 p-2.5 rounded-xl",children:"Hi! What can I help you with?"})]})}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{disabled:!0,type:"text",placeholder:"Message...",className:"flex-grow h-10 px-3 py-2 text-sm border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),f.jsx("div",{className:"h-10 px-3 py-2 bg-blue-500 text-white rounded-r-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 flex items-center justify-center",children:f.jsx(RD,{className:"w-5 h-5"})})]})]})})},soe=()=>{const[t,e]=m.useState(!1),n=mt(r=>r.widgetIconPreview);return f.jsx("section",{children:f.jsx("div",{className:"border h-[28rem] border-gray-300 rounded-lg p-4 bg-gray-50 mt-4 mb-2",style:{backgroundImage:"radial-gradient(#d1d5db 1px, transparent 1px)",backgroundSize:"20px 20px"},children:f.jsx("div",{className:"h-full flex justify-end items-end",children:t?f.jsx(roe,{handleCloseChatbox:()=>e(!1)}):f.jsx("div",{className:"size-[14rem] flex items-center justify-center",onClick:()=>e(!0),children:n?f.jsx("img",{src:n,alt:"Widget icon preview",className:"cursor-pointer"}):f.jsx("img",{src:rs,alt:"Widget icon preview",className:"cursor-pointer"})})})})})},ioe=()=>{const t=mt(o=>o.metadata),e=mt(o=>o.setMetadata),n=Rt(o=>o.admin),r=()=>{const o={id:Date.now().toString(),key:"",value:""};e([...t,o])},s=(o,a,l)=>{const c=t.map(u=>u.id===o?{...u,[a]:l}:u);e(c)},i=o=>{const a=t.filter((l,c)=>c!==o);e(a)};return f.jsxs("div",{className:"space-y-4",children:[t.map((o,a)=>f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(sn,{placeholder:"Key",value:o.key,onChange:l=>s(o.id,"key",l.target.value),className:"flex-1",readOnly:(n==null?void 0:n.role)==="viewer"}),f.jsx(sn,{placeholder:"Value",value:o.value,onChange:l=>s(o.id,"value",l.target.value),className:"flex-1",readOnly:(n==null?void 0:n.role)==="viewer"}),(n==null?void 0:n.role)!=="viewer"&&f.jsx(ct,{type:"button",variant:"ghost",size:"icon",className:"hover:text-red-600",onClick:()=>i(a),children:f.jsx(Ax,{className:"size-5 transition-transform ease-in"})})]},a)),(n==null?void 0:n.role)!=="viewer"&&f.jsxs(ct,{type:"button",variant:"outline",size:"sm",onClick:r,className:"mt-2",children:[f.jsx(Ih,{className:"size-5 mr-2"}),"Add Field"]})]})},ooe=async()=>await bre("profile","botProfile"),aoe=()=>{const t=tl(),e=mt(E=>E.interactionIcon),n=mt(E=>E.setInteractionIconPreview),r=mt(E=>E.widgetIcon),s=mt(E=>E.setWidgetIconPreview),i=mt(E=>E.botName),o=mt(E=>E.setBotName),a=mt(E=>E.setErrors),l=mt(E=>E.metadata),c=mt(E=>E.setMetadata),[u,d]=m.useState(!1),[p,g]=m.useState(!0),w=m.useRef(null);return m.useEffect(()=>((async()=>{g(!0);const _=await ooe();if(!_)return;o(_.botName),n(_.interactionIconURL),s(_.widgetIconUrl);const y=Y7(_.metadata);c(y),g(!1)})(),()=>{a("botName","")}),[]),{isLoading:u,handleSubmitForm:async()=>{var _;if(!i.trim()){a("botName","Bot name field is required"),(_=w.current)==null||_.scrollIntoView({behavior:"smooth",block:"center"});return}try{d(!0),await Zie(e,r,i,l),d(!1),t({title:"Bot profile has been successfully updated",description:Kt()})}catch(y){y instanceof Error&&t({title:y.message,description:Kt(),variant:"destructive"}),console.error("Unexpected error occured ",y)}},isPageLoading:p,botNameInputRef:w}},loe=()=>f.jsxs("section",{className:"flex-1 flex-col space-y-4",children:[f.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[f.jsx("header",{className:"text-2xl font-medium pb-5 leading-none tracking-tight",children:"Bot Profile"}),f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsx(et,{className:"h-4 w-16"}),f.jsx(et,{className:"h-10 w-full mb-3"}),f.jsx(et,{className:"h-4 w-24"}),f.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[f.jsx(et,{className:"size-[64px] rounded-full"}),f.jsx(et,{className:"h-9 w-36"}),f.jsx(et,{className:"h-9 w-36"})]}),f.jsx(et,{className:"h-4 w-24"}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx(et,{className:"size-[64px] rounded-full"}),f.jsx(et,{className:"h-9 w-36"}),f.jsx(et,{className:"h-9 w-36"})]})]})]}),f.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[f.jsx("header",{className:"text-2xl font-medium pb-5",children:"Additional Information"}),f.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[f.jsx(et,{className:"flex-1 h-10"}),f.jsx(et,{className:"flex-1 h-10"}),f.jsx(et,{className:"w-10 h-10"})]}),f.jsx(et,{className:"h-9 w-36"})]}),f.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[f.jsx("header",{className:"text-2xl font-medium pb-5",children:"Preview"}),f.jsx(et,{className:"h-[28rem] w-full mb-2"})]}),f.jsx(et,{className:"bg-blue-200 h-10 w-full"})]}),coe=()=>{const{isLoading:t,handleSubmitForm:e,isPageLoading:n,botNameInputRef:r}=aoe(),s=Rt(i=>i.admin);return n?f.jsx(loe,{}):f.jsxs("section",{className:"flex-1 flex-col space-y-4",children:[f.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[f.jsx("header",{className:"text-2xl font-medium pb-5 leading-none tracking-tight",children:"Bot Profile"}),f.jsx(noe,{botNameInputRef:r})]}),f.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[f.jsx("header",{className:"text-2xl font-medium pb-5",children:"Additional Information"}),f.jsx(ioe,{})]}),f.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[f.jsx("header",{className:"text-2xl font-medium",children:"Preview"}),f.jsx(soe,{})]}),(s==null?void 0:s.role)!=="viewer"&&f.jsx("footer",{className:"mt-4 pb-4",children:f.jsx(ct,{className:"w-full bg-blue-600 hover:bg-blue-700",disabled:t,onClick:e,children:t?f.jsx(nl,{}):"Save changes"})})]})},uoe=[{id:"team",icon:f.jsx(CK,{}),label:"Team",comingSoon:!1},{id:"botProfile",icon:f.jsx(oK,{}),label:"Bot Profile",comingSoon:!1},{id:"botModel",icon:f.jsx(sK,{}),label:"Bot Model",comingSoon:!1}],doe=({onTabChange:t,activeTab:e})=>f.jsx("nav",{className:"w-[14rem] px-2 space-y-2 text-htext font-medium",children:uoe.map(n=>f.jsxs("div",{className:"relative group",children:[f.jsxs("li",{className:de("flex items-center gap-3 py-3 px-2  cursor-pointer rounded-md transition-colors hover:text-opacity-80",e===n.id?"bg-blue-600 text-white":"hover:bg-slate-100 text-opacity-100"),onClick:()=>t(n.id),children:[n.icon," ",n.label]}),n.comingSoon&&f.jsx(jh,{variant:"secondary",className:"absolute -top-2 right-0 text-[10px] font-normal px-1 py-0.5 bg-blue-100 text-blue-800 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Coming Soon"})]},n.id))}),hoe=(t,e,n)=>Cre(t,e,n),foe=()=>{const t=Rt(a=>a.admin),[e,n]=m.useState(!1),[r,s]=m.useState(null),i=tl(),o=async()=>{n(!0),await sG(),n(!1),i({title:"Model Training Complete",description:"Your AI model is fully trained and ready for use. You can now run queries with the latest data."})};return m.useEffect(()=>{const a=hoe("profile","model",l=>{const{timeFinishedTraining:c}=l;s(c)});return()=>a()},[]),f.jsxs("section",{className:"flex-1 flex-col space-y-4",children:[f.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[f.jsx("header",{className:"text-2xl font-medium pb-5 leading-none tracking-tight",children:"Bot Model"}),f.jsxs("div",{className:"flex items-center mb-4",children:[f.jsx("p",{className:"font-medium flex-1",children:"Current Version"}),f.jsx("div",{className:"flex-1",children:f.jsx(jh,{variant:"secondary",className:"text-lg",children:"v1.0.0"})})]}),f.jsx("div",{className:"grid grid-cols-2 gap-4",children:f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Trained"}),f.jsx("div",{className:"font-medium",children:r||f.jsx(et,{className:"w-48 h-6"})})]})})]}),f.jsx("footer",{className:"mt-4 pb-4",children:(t==null?void 0:t.role)!=="viewer"&&f.jsx(ct,{className:"w-full bg-blue-600 hover:bg-blue-700",disabled:e,onClick:o,children:e?f.jsx(nl,{}):f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(aK,{size:20})," Train Model"]})})})]})},poe=({adminId:t,adminRole:e,onDeleteAction:n,onResetPasswordAction:r,onUpdateRoleAction:s})=>f.jsxs(Fg,{modal:!1,children:[f.jsx(Ug,{asChild:!0,children:f.jsx(ct,{variant:"ghost",className:" hover:bg-gray-100 size-8 p-1 group",children:f.jsx(SD,{className:"text-zinc-400 size-5 group-hover:text-zinc-600 transition-colors"})})}),f.jsxs(Oh,{align:"end",className:"w-auto bg-white border border-neutral-300 p-1 rounded-lg shadow-md",children:[t!=="672ca434f2191d3bb7606f0d"?f.jsxs(f.Fragment,{children:[e!=="editor"&&f.jsx(ao,{className:"flex items-center p-2 hover:bg-zinc-100",onClick:async()=>{await s("editor")},children:"Set as Editor"}),e!=="viewer"&&f.jsx(ao,{className:"flex items-center p-2 hover:bg-zinc-100",onClick:async()=>{await s("viewer")},children:"Set as Viewer"}),f.jsx(tE,{}),f.jsxs(ao,{className:"flex items-center p-2 hover:bg-zinc-100 text-red-600",onClick:()=>{n()},children:[f.jsx(ID,{className:"mr-2 h-4 w-4"}),"Delete"]})]}):null,f.jsxs(ao,{className:"flex items-center p-2 hover:bg-zinc-100",onClick:()=>{r()},children:[f.jsx(yK,{className:"mr-2 h-4 w-4"}),"Reset Password"]})]})]}),nF=Bo(t=>({adminId:null,setAdminId:e=>t({adminId:e})})),moe=({adminInfo:t,onUpdateRole:e})=>{const n=Rt(u=>u.admin),{email:r,role:s,_id:i}=t,o=nF(u=>u.setAdminId),a=Ei(u=>u.openDialog),l=()=>{o(i),a("showConfirmDeleteDialog")},c=()=>{o(i),a("showResetPasswordDialog")};return f.jsxs("section",{className:"flex items-center w-full py-2 font-medium text-sm",children:[f.jsx("div",{className:"flex-1 max-w-[438px] text-zinc-700 truncate",title:r,children:r}),f.jsx("div",{className:"w-[14rem] text-zinc-500",children:"1d ago"}),f.jsx("div",{className:"w-[8rem]",children:f.jsx(jh,{className:de("flex w-16 items-center justify-center pointer-events-none select-none",s==="admin"&&"bg-red-200 text-red-800",s==="editor"&&"bg-blue-200 text-blue-800",s==="viewer"&&"bg-green-200 text-green-800"),children:fM(s)})}),f.jsx("div",{className:`w-[6rem] ${(n==null?void 0:n.role)==="viewer"&&"py-3"} ${(n==null?void 0:n.role)==="editor"&&"py-3"}`,children:(n==null?void 0:n.role)!=="viewer"&&(n==null?void 0:n.role)!=="editor"&&f.jsx(poe,{adminId:i,adminRole:s,onDeleteAction:l,onResetPasswordAction:c,onUpdateRoleAction:async u=>await e(u,i)})})]})},Qm=({field:t,placeholderText:e,register:n,message:r,isError:s,validate:i})=>{const[o,a]=m.useState(!1);return f.jsxs("div",{className:"relative",children:[f.jsx(sn,{id:"password",className:de(s&&"border-destructive"),type:o?"text":"password",placeholder:e,...n(t,{required:r,minLength:{value:9,message:"Password must be atleast 9 characters"},validate:i})}),f.jsx(ct,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>a(l=>!l),"aria-label":o?"Hide password":"Show password",children:o?f.jsx(bD,{className:"h-4 w-4 text-gray-500"}):f.jsx(Ix,{className:"h-4 w-4 text-gray-500"})})]})};function RR(t,[e,n]){return Math.min(n,Math.max(e,t))}function goe(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=d=>{var _;const{scope:p,children:g,...w}=d,v=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,E=m.useMemo(()=>w,Object.values(w));return f.jsx(v.Provider,{value:E,children:g})};c.displayName=i+"Provider";function u(d,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,yoe(s,...e)]}function yoe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var voe="DismissableLayer",u_="dismissableLayer.update",woe="dismissableLayer.pointerDownOutside",_oe="dismissableLayer.focusOutside",IR,rF=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),sF=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(rF),[u,d]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=ke(e,C=>d(C)),v=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(E),y=u?v.indexOf(u):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,R=y>=_,D=Toe(C=>{const T=C.target,P=[...c.branches].some(I=>I.contains(T));!R||P||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),O=Soe(C=>{const T=C.target;[...c.branches].some(I=>I.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return Ah(C=>{y===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(IR=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),AR(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=IR)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),AR())},[u,c]),m.useEffect(()=>{const C=()=>g({});return document.addEventListener(u_,C),()=>document.removeEventListener(u_,C)},[]),f.jsx(xe.div,{...l,ref:w,style:{pointerEvents:S?R?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,D.onPointerDownCapture)})});sF.displayName=voe;var xoe="DismissableLayerBranch",Eoe=m.forwardRef((t,e)=>{const n=m.useContext(rF),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(xe.div,{...t,ref:s})});Eoe.displayName=xoe;function Toe(t,e=globalThis==null?void 0:globalThis.document){const n=Nt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){iF(woe,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Soe(t,e=globalThis==null?void 0:globalThis.document){const n=Nt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&iF(_oe,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function AR(){const t=new CustomEvent(u_);document.dispatchEvent(t)}function iF(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Ya(s,i):s.dispatchEvent(i)}var boe="Portal",oF=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);It(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?wh.createPortal(f.jsx(xe.div,{...r,ref:e}),o):null});oF.displayName=boe;function Coe(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Poe=[" ","Enter","ArrowUp","ArrowDown"],Roe=[" ","Enter"],tf="Select",[Ty,Sy,Ioe]=Pg(tf),[eu,Nle]=goe(tf,[Ioe,Kc]),by=Kc(),[Aoe,Go]=eu(tf),[Noe,Doe]=eu(tf),aF=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:p,required:g,form:w}=t,v=by(e),[E,_]=m.useState(null),[y,S]=m.useState(null),[R,D]=m.useState(!1),O=Rg(c),[C=!1,T]=Po({prop:r,defaultProp:s,onChange:i}),[P,I]=Po({prop:o,defaultProp:a,onChange:l}),M=m.useRef(null),k=E?w||!!E.closest("form"):!0,[N,H]=m.useState(new Set),ae=Array.from(N).map(te=>te.props.value).join(";");return f.jsx(Bx,{...v,children:f.jsxs(Aoe,{required:g,scope:e,trigger:E,onTriggerChange:_,valueNode:y,onValueNodeChange:S,valueNodeHasChildren:R,onValueNodeHasChildrenChange:D,contentId:os(),value:P,onValueChange:I,open:C,onOpenChange:T,dir:O,triggerPointerDownPosRef:M,disabled:p,children:[f.jsx(Ty.Provider,{scope:e,children:f.jsx(Noe,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(te=>{H(ne=>new Set(ne).add(te))},[]),onNativeOptionRemove:m.useCallback(te=>{H(ne=>{const z=new Set(ne);return z.delete(te),z})},[]),children:n})}),k?f.jsxs(kF,{"aria-hidden":!0,required:g,tabIndex:-1,name:u,autoComplete:d,value:P,onChange:te=>I(te.target.value),disabled:p,form:w,children:[P===void 0?f.jsx("option",{value:""}):null,Array.from(N)]},ae):null]})})};aF.displayName=tf;var lF="SelectTrigger",cF=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=by(n),o=Go(lF,n),a=o.disabled||r,l=ke(e,o.onTriggerChange),c=Sy(n),u=m.useRef("touch"),[d,p,g]=MF(v=>{const E=c().filter(S=>!S.disabled),_=E.find(S=>S.value===o.value),y=OF(E,v,_);y!==void 0&&o.onValueChange(y.value)}),w=v=>{a||(o.onOpenChange(!0),g()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return f.jsx($x,{asChild:!0,...i,children:f.jsx(xe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":DF(o.value)?"":void 0,...s,ref:l,onClick:ee(s.onClick,v=>{v.currentTarget.focus(),u.current!=="mouse"&&w(v)}),onPointerDown:ee(s.onPointerDown,v=>{u.current=v.pointerType;const E=v.target;E.hasPointerCapture(v.pointerId)&&E.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(w(v),v.preventDefault())}),onKeyDown:ee(s.onKeyDown,v=>{const E=d.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&p(v.key),!(E&&v.key===" ")&&Poe.includes(v.key)&&(w(),v.preventDefault())})})})});cF.displayName=lF;var uF="SelectValue",dF=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Go(uF,n),{onValueNodeHasChildrenChange:c}=l,u=i!==void 0,d=ke(e,l.onValueNodeChange);return It(()=>{c(u)},[c,u]),f.jsx(xe.span,{...a,ref:d,style:{pointerEvents:"none"},children:DF(l.value)?f.jsx(f.Fragment,{children:o}):i})});dF.displayName=uF;var koe="SelectIcon",hF=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return f.jsx(xe.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});hF.displayName=koe;var Moe="SelectPortal",fF=t=>f.jsx(oF,{asChild:!0,...t});fF.displayName=Moe;var Ha="SelectContent",pF=m.forwardRef((t,e)=>{const n=Go(Ha,t.__scopeSelect),[r,s]=m.useState();if(It(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Si.createPortal(f.jsx(mF,{scope:t.__scopeSelect,children:f.jsx(Ty.Slot,{scope:t.__scopeSelect,children:f.jsx("div",{children:t.children})})}),i):null}return f.jsx(gF,{...t,ref:e})});pF.displayName=Ha;var qr=10,[mF,qo]=eu(Ha),Ooe="SelectContentImpl",gF=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:g,sticky:w,hideWhenDetached:v,avoidCollisions:E,..._}=t,y=Go(Ha,n),[S,R]=m.useState(null),[D,O]=m.useState(null),C=ke(e,ce=>R(ce)),[T,P]=m.useState(null),[I,M]=m.useState(null),k=Sy(n),[N,H]=m.useState(!1),ae=m.useRef(!1);m.useEffect(()=>{if(S)return Wx(S)},[S]),Dx();const te=m.useCallback(ce=>{const[je,...rt]=k().map(qe=>qe.ref.current),[Ve]=rt.slice(-1),ze=document.activeElement;for(const qe of ce)if(qe===ze||(qe==null||qe.scrollIntoView({block:"nearest"}),qe===je&&D&&(D.scrollTop=0),qe===Ve&&D&&(D.scrollTop=D.scrollHeight),qe==null||qe.focus(),document.activeElement!==ze))return},[k,D]),ne=m.useCallback(()=>te([T,S]),[te,T,S]);m.useEffect(()=>{N&&ne()},[N,ne]);const{onOpenChange:z,triggerPointerDownPosRef:B}=y;m.useEffect(()=>{if(S){let ce={x:0,y:0};const je=Ve=>{var ze,qe;ce={x:Math.abs(Math.round(Ve.pageX)-(((ze=B.current)==null?void 0:ze.x)??0)),y:Math.abs(Math.round(Ve.pageY)-(((qe=B.current)==null?void 0:qe.y)??0))}},rt=Ve=>{ce.x<=10&&ce.y<=10?Ve.preventDefault():S.contains(Ve.target)||z(!1),document.removeEventListener("pointermove",je),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",je),document.addEventListener("pointerup",rt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",je),document.removeEventListener("pointerup",rt,{capture:!0})}}},[S,z,B]),m.useEffect(()=>{const ce=()=>z(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[z]);const[Z,pe]=MF(ce=>{const je=k().filter(ze=>!ze.disabled),rt=je.find(ze=>ze.ref.current===document.activeElement),Ve=OF(je,ce,rt);Ve&&setTimeout(()=>Ve.ref.current.focus())}),Te=m.useCallback((ce,je,rt)=>{const Ve=!ae.current&&!rt;(y.value!==void 0&&y.value===je||Ve)&&(P(ce),Ve&&(ae.current=!0))},[y.value]),Re=m.useCallback(()=>S==null?void 0:S.focus(),[S]),Xe=m.useCallback((ce,je,rt)=>{const Ve=!ae.current&&!rt;(y.value!==void 0&&y.value===je||Ve)&&M(ce)},[y.value]),gt=r==="popper"?d_:yF,He=gt===d_?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:g,sticky:w,hideWhenDetached:v,avoidCollisions:E}:{};return f.jsx(mF,{scope:n,content:S,viewport:D,onViewportChange:O,itemRefCallback:Te,selectedItem:T,onItemLeave:Re,itemTextRefCallback:Xe,focusSelectedItem:ne,selectedItemText:I,position:r,isPositioned:N,searchRef:Z,children:f.jsx(Lg,{as:Ro,allowPinchZoom:!0,children:f.jsx(Ig,{asChild:!0,trapped:y.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:ee(s,ce=>{var je;(je=y.trigger)==null||je.focus({preventScroll:!0}),ce.preventDefault()}),children:f.jsx(sF,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:f.jsx(gt,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:ce=>ce.preventDefault(),..._,...He,onPlaced:()=>H(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:ee(_.onKeyDown,ce=>{const je=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!je&&ce.key.length===1&&pe(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let Ve=k().filter(ze=>!ze.disabled).map(ze=>ze.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(Ve=Ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const ze=ce.target,qe=Ve.indexOf(ze);Ve=Ve.slice(qe+1)}setTimeout(()=>te(Ve)),ce.preventDefault()}})})})})})})});gF.displayName=Ooe;var Loe="SelectItemAlignedPosition",yF=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Go(Ha,n),o=qo(Ha,n),[a,l]=m.useState(null),[c,u]=m.useState(null),d=ke(e,C=>u(C)),p=Sy(n),g=m.useRef(!1),w=m.useRef(!0),{viewport:v,selectedItem:E,selectedItemText:_,focusSelectedItem:y}=o,S=m.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&v&&E&&_){const C=i.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),I=_.getBoundingClientRect();if(i.dir!=="rtl"){const ze=I.left-T.left,qe=P.left-ze,Ft=C.left-qe,st=C.width+Ft,mn=Math.max(st,T.width),Pr=window.innerWidth-qr,ds=RR(qe,[qr,Math.max(qr,Pr-mn)]);a.style.minWidth=st+"px",a.style.left=ds+"px"}else{const ze=T.right-I.right,qe=window.innerWidth-P.right-ze,Ft=window.innerWidth-C.right-qe,st=C.width+Ft,mn=Math.max(st,T.width),Pr=window.innerWidth-qr,ds=RR(qe,[qr,Math.max(qr,Pr-mn)]);a.style.minWidth=st+"px",a.style.right=ds+"px"}const M=p(),k=window.innerHeight-qr*2,N=v.scrollHeight,H=window.getComputedStyle(c),ae=parseInt(H.borderTopWidth,10),te=parseInt(H.paddingTop,10),ne=parseInt(H.borderBottomWidth,10),z=parseInt(H.paddingBottom,10),B=ae+te+N+z+ne,Z=Math.min(E.offsetHeight*5,B),pe=window.getComputedStyle(v),Te=parseInt(pe.paddingTop,10),Re=parseInt(pe.paddingBottom,10),Xe=C.top+C.height/2-qr,gt=k-Xe,He=E.offsetHeight/2,ce=E.offsetTop+He,je=ae+te+ce,rt=B-je;if(je<=Xe){const ze=M.length>0&&E===M[M.length-1].ref.current;a.style.bottom="0px";const qe=c.clientHeight-v.offsetTop-v.offsetHeight,Ft=Math.max(gt,He+(ze?Re:0)+qe+ne),st=je+Ft;a.style.height=st+"px"}else{const ze=M.length>0&&E===M[0].ref.current;a.style.top="0px";const Ft=Math.max(Xe,ae+v.offsetTop+(ze?Te:0)+He)+rt;a.style.height=Ft+"px",v.scrollTop=je-Xe+v.offsetTop}a.style.margin=`${qr}px 0`,a.style.minHeight=Z+"px",a.style.maxHeight=k+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[p,i.trigger,i.valueNode,a,c,v,E,_,i.dir,r]);It(()=>S(),[S]);const[R,D]=m.useState();It(()=>{c&&D(window.getComputedStyle(c).zIndex)},[c]);const O=m.useCallback(C=>{C&&w.current===!0&&(S(),y==null||y(),w.current=!1)},[S,y]);return f.jsx(Voe,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:O,children:f.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:f.jsx(xe.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});yF.displayName=Loe;var joe="SelectPopperPosition",d_=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=qr,...i}=t,o=by(n);return f.jsx(zx,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});d_.displayName=joe;var[Voe,WT]=eu(Ha,{}),h_="SelectViewport",vF=m.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=qo(h_,n),o=WT(h_,n),a=ke(e,i.onViewportChange),l=m.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),f.jsx(Ty.Slot,{scope:n,children:f.jsx(xe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ee(s.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&d){const g=Math.abs(l.current-u.scrollTop);if(g>0){const w=window.innerHeight-qr*2,v=parseFloat(d.style.minHeight),E=parseFloat(d.style.height),_=Math.max(v,E);if(_<w){const y=_+g,S=Math.min(w,y),R=y-S;d.style.height=S+"px",d.style.bottom==="0px"&&(u.scrollTop=R>0?R:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});vF.displayName=h_;var wF="SelectGroup",[Foe,Uoe]=eu(wF),_F=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=os();return f.jsx(Foe,{scope:n,id:s,children:f.jsx(xe.div,{role:"group","aria-labelledby":s,...r,ref:e})})});_F.displayName=wF;var xF="SelectLabel",EF=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Uoe(xF,n);return f.jsx(xe.div,{id:s.id,...r,ref:e})});EF.displayName=xF;var Ym="SelectItem",[Boe,TF]=eu(Ym),SF=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Go(Ym,n),l=qo(Ym,n),c=a.value===r,[u,d]=m.useState(i??""),[p,g]=m.useState(!1),w=ke(e,y=>{var S;return(S=l.itemRefCallback)==null?void 0:S.call(l,y,r,s)}),v=os(),E=m.useRef("touch"),_=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(Boe,{scope:n,value:r,disabled:s,textId:v,isSelected:c,onItemTextChange:m.useCallback(y=>{d(S=>S||((y==null?void 0:y.textContent)??"").trim())},[]),children:f.jsx(Ty.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:f.jsx(xe.div,{role:"option","aria-labelledby":v,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:w,onFocus:ee(o.onFocus,()=>g(!0)),onBlur:ee(o.onBlur,()=>g(!1)),onClick:ee(o.onClick,()=>{E.current!=="mouse"&&_()}),onPointerUp:ee(o.onPointerUp,()=>{E.current==="mouse"&&_()}),onPointerDown:ee(o.onPointerDown,y=>{E.current=y.pointerType}),onPointerMove:ee(o.onPointerMove,y=>{var S;E.current=y.pointerType,s?(S=l.onItemLeave)==null||S.call(l):E.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ee(o.onPointerLeave,y=>{var S;y.currentTarget===document.activeElement&&((S=l.onItemLeave)==null||S.call(l))}),onKeyDown:ee(o.onKeyDown,y=>{var R;((R=l.searchRef)==null?void 0:R.current)!==""&&y.key===" "||(Roe.includes(y.key)&&_(),y.key===" "&&y.preventDefault())})})})})});SF.displayName=Ym;var Ku="SelectItemText",bF=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Go(Ku,n),a=qo(Ku,n),l=TF(Ku,n),c=Doe(Ku,n),[u,d]=m.useState(null),p=ke(e,_=>d(_),l.onItemTextChange,_=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,_,l.value,l.disabled)}),g=u==null?void 0:u.textContent,w=m.useMemo(()=>f.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:E}=c;return It(()=>(v(w),()=>E(w)),[v,E,w]),f.jsxs(f.Fragment,{children:[f.jsx(xe.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Si.createPortal(i.children,o.valueNode):null]})});bF.displayName=Ku;var CF="SelectItemIndicator",PF=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return TF(CF,n).isSelected?f.jsx(xe.span,{"aria-hidden":!0,...r,ref:e}):null});PF.displayName=CF;var f_="SelectScrollUpButton",RF=m.forwardRef((t,e)=>{const n=qo(f_,t.__scopeSelect),r=WT(f_,t.__scopeSelect),[s,i]=m.useState(!1),o=ke(e,r.onScrollButtonChange);return It(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?f.jsx(AF,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});RF.displayName=f_;var p_="SelectScrollDownButton",IF=m.forwardRef((t,e)=>{const n=qo(p_,t.__scopeSelect),r=WT(p_,t.__scopeSelect),[s,i]=m.useState(!1),o=ke(e,r.onScrollButtonChange);return It(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?f.jsx(AF,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});IF.displayName=p_;var AF=m.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=qo("SelectScrollButton",n),o=m.useRef(null),a=Sy(n),l=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>l(),[l]),It(()=>{var u;const c=a().find(d=>d.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),f.jsx(xe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ee(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ee(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ee(s.onPointerLeave,()=>{l()})})}),$oe="SelectSeparator",NF=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return f.jsx(xe.div,{"aria-hidden":!0,...r,ref:e})});NF.displayName=$oe;var m_="SelectArrow",zoe=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=by(n),i=Go(m_,n),o=qo(m_,n);return i.open&&o.position==="popper"?f.jsx(Kx,{...s,...r,ref:e}):null});zoe.displayName=m_;function DF(t){return t===""||t===void 0}var kF=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=m.useRef(null),i=ke(e,s),o=Coe(n);return m.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&u){const d=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(d)}},[o,n]),f.jsx($h,{asChild:!0,children:f.jsx("select",{...r,ref:i,defaultValue:n})})});kF.displayName="BubbleSelect";function MF(t){const e=Nt(t),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function OF(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Koe(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function Koe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Woe=aF,LF=cF,Hoe=dF,Goe=hF,qoe=fF,jF=pF,Qoe=vF,Yoe=_F,VF=EF,FF=SF,Xoe=bF,Joe=PF,UF=RF,BF=IF,$F=NF;const Zoe=Woe,eae=Yoe,tae=Hoe,zF=m.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(LF,{ref:r,className:de("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,f.jsx(Goe,{asChild:!0,children:f.jsx(xD,{className:"h-4 w-4 opacity-50"})})]}));zF.displayName=LF.displayName;const KF=m.forwardRef(({className:t,...e},n)=>f.jsx(UF,{ref:n,className:de("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(cK,{className:"h-4 w-4"})}));KF.displayName=UF.displayName;const WF=m.forwardRef(({className:t,...e},n)=>f.jsx(BF,{ref:n,className:de("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(xD,{className:"h-4 w-4"})}));WF.displayName=BF.displayName;const HF=m.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>f.jsx(qoe,{children:f.jsxs(jF,{ref:s,className:de("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[f.jsx(KF,{}),f.jsx(Qoe,{className:de("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),f.jsx(WF,{})]})}));HF.displayName=jF.displayName;const nae=m.forwardRef(({className:t,...e},n)=>f.jsx(VF,{ref:n,className:de("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));nae.displayName=VF.displayName;const GF=m.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(FF,{ref:r,className:de("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(Joe,{children:f.jsx(_D,{className:"h-4 w-4"})})}),f.jsx(Xoe,{children:e})]}));GF.displayName=FF.displayName;const rae=m.forwardRef(({className:t,...e},n)=>f.jsx($F,{ref:n,className:de("-mx-1 my-1 h-px bg-muted",t),...e}));rae.displayName=$F.displayName;const sae=["admin","editor","viewer"],iae=({isOpen:t,setDialogState:e,onAddAdmin:n,isLoading:r})=>{const{register:s,watch:i,formState:{errors:o,isSubmitted:a},control:l,handleSubmit:c,reset:u}=KT(),d=i("password"),p=async w=>{const{confirmPassword:v,...E}=w;await n(E),g()},g=(w=void 0)=>{u({email:"",password:"",confirmPassword:""}),e("showAddAdminDialog",w??!1)};return f.jsx(_y,{open:t,onOpenChange:w=>{g(w)},children:f.jsxs(Yh,{className:"sm:max-w-[425px]",children:[f.jsxs(Xh,{children:[f.jsx(Jh,{className:"text-2xl font-bold",children:"Add Admin"}),f.jsx(Zh,{children:"Create a new admin account."})]}),f.jsxs("form",{onSubmit:c(p),className:"text-sm space-y-2",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsx(Jn,{htmlFor:"current-password",children:"Email"}),f.jsx(sn,{className:de(!!o.email&&"border-destructive"),type:"text",placeholder:"Enter your email",...s("email",{required:"Email is required",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Please enter a valid email address"}})}),a&&o.email&&f.jsx("p",{className:"text-red-500",children:o.email.message})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx(Jn,{htmlFor:"current-password",children:"Password"}),f.jsx(Qm,{field:"password",placeholderText:"Enter your password",register:s,message:"Password is required",isError:!!o.password}),a&&o.password&&f.jsx("p",{className:"text-red-500",children:o.password.message})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx(Jn,{htmlFor:"new-password",children:"Confirm Password"}),f.jsx(Qm,{field:"confirmPassword",placeholderText:"Re-enter your password",register:s,message:"Confirm password is required",isError:!!o.confirmPassword,validate:w=>w===d||"Password does not match"}),a&&o.confirmPassword&&f.jsx("p",{className:"text-red-500",children:o.confirmPassword.message})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx(Jn,{children:"Role"}),f.jsx(Cie,{name:"role",control:l,rules:{required:"Role is required"},render:({field:w})=>f.jsxs(Zoe,{onValueChange:w.onChange,value:w.value,children:[f.jsx(zF,{className:de("w-[180px]",!!o.role&&"border-destructive"),children:f.jsx(tae,{placeholder:"Select a Role"})}),f.jsx(HF,{children:f.jsx(eae,{children:f.jsx(zg,{items:sae,renderItem:v=>f.jsx(GF,{value:v,children:v})})})})]})}),a&&o.role&&f.jsx("p",{className:"text-red-500",children:o.role.message})]}),f.jsx(xy,{children:f.jsx(ct,{disabled:r,type:"submit",className:"w-40",children:r?f.jsx(nl,{}):"Save changes"})})]})]})})},oae=({isOpen:t,setDialogState:e,onResetPassword:n,isLoading:r})=>{const{register:s,formState:{errors:i,isSubmitted:o},watch:a,handleSubmit:l,reset:c}=KT(),u=a("password"),d=async g=>{const{confirmPassword:w,...v}=g;await n(v),p(!1)},p=(g=void 0)=>{e("showResetPasswordDialog",g??!1),c({})};return f.jsx(_y,{open:t,onOpenChange:g=>{p(g),setTimeout(()=>{g||(document.body.style.pointerEvents="")},100)},children:f.jsxs(Yh,{className:"sm:max-w-[425px]",children:[f.jsxs(Xh,{children:[f.jsx(Jh,{className:"text-2xl font-bold",children:"Reset Password"}),f.jsx(Zh,{children:"Reset admin password and provide a new password."})]}),f.jsxs("form",{onSubmit:l(d),className:"text-sm space-y-2",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsx(Jn,{htmlFor:"current-password",children:"Password"}),f.jsx(Qm,{field:"password",placeholderText:"Enter new password",register:s,message:"Password is required",isError:!!i.password}),o&&i.password&&f.jsx("p",{className:"text-red-500",children:i.password.message})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx(Jn,{htmlFor:"new-password",children:"Confirm Password"}),f.jsx(Qm,{field:"confirmPassword",placeholderText:"Re-enter your password",register:s,message:"Confirm password is required",isError:!!i.confirmPassword,validate:g=>g===u||"Password does not match"}),o&&i.confirmPassword&&f.jsx("p",{className:"text-red-500",children:i.confirmPassword.message})]}),f.jsx(xy,{children:f.jsx(ct,{type:"submit",className:"w-40",children:r?f.jsx(nl,{}):"Reset Password"})})]})]})})},aae=()=>f.jsx("section",{className:"flex-1 flex-col space-y-4 relative",children:f.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[f.jsxs("header",{className:"text-2xl flex items-center justify-between font-medium pb-5 leading-none tracking-tight",children:[f.jsxs("div",{children:["Team",f.jsx("p",{className:"ml-3 inline-block min-w-6 text-xs font-medium text-zinc-600",children:"1/1"})]}),f.jsx(et,{className:"w-[125.556px] h-[36px]"})]}),f.jsxs("div",{children:[f.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[f.jsx("h4",{className:"flex-1",children:f.jsx(et,{className:"w-16 h-[20px]"})}),f.jsx("h4",{className:"w-[14rem]",children:f.jsx(et,{className:"w-24 h-[20px]"})}),f.jsx("h4",{className:"w-[8rem]",children:f.jsx(et,{className:"w-12 h-[20px]"})}),f.jsx("h4",{className:"w-[6rem]"})]}),f.jsx("hr",{className:"border-customBorderColor"}),f.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[f.jsx("h4",{className:"flex-1",children:f.jsx(et,{className:"w-32 h-[20px]"})}),f.jsx("h4",{className:"w-[14rem]",children:f.jsx(et,{className:"w-12 h-[20px]"})}),f.jsx("h4",{className:"w-[8rem]",children:f.jsx(et,{className:"w-20 h-[20px]"})}),f.jsx("h4",{className:"w-[6rem]"})]}),f.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[f.jsx("h4",{className:"flex-1",children:f.jsx(et,{className:"w-40 h-[20px]"})}),f.jsx("h4",{className:"w-[14rem]",children:f.jsx(et,{className:"w-16 h-[20px]"})}),f.jsx("h4",{className:"w-[8rem]",children:f.jsx(et,{className:"w-12 h-[20px]"})}),f.jsx("h4",{className:"w-[6rem]"})]}),f.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[f.jsx("h4",{className:"flex-1",children:f.jsx(et,{className:"w-32 h-[20px]"})}),f.jsx("h4",{className:"w-[14rem]",children:f.jsx(et,{className:"w-12 h-[20px]"})}),f.jsx("h4",{className:"w-[8rem]",children:f.jsx(et,{className:"w-20 h-[20px]"})}),f.jsx("h4",{className:"w-[6rem]"})]})]})]})}),lae=async(t,e)=>{const n={email:t,password:e},{success:r,accessToken:s,admin:i}=await Hc("/api/auth/login",{},n);if(!r)throw new Error("Error loggin in");return{accessToken:s,admin:i}},cae=async()=>{const{admins:t}=await nE("/api/auth/admins");return t},uae=async t=>{const{message:e}=await Hc("/api/auth/register",{},t);return e},dae=async t=>{const{message:e}=await rE(`/api/auth/${t}`);return e},hae=async t=>{const{message:e}=await $g("/api/auth/reset",{},t);return e},fae=async t=>{const{message:e}=await $g("/api/auth/role",{},t);return e},pae=()=>{const t=Zc(),e=mM(),n=tl(),r=Ei(y=>y.dialogs),s=Ei(y=>y.setDialogState),i=nF(y=>y.adminId),{data:o,isLoading:a}=PT({queryFn:()=>cae(),queryKey:Ru}),{mutateAsync:l}=ei({mutationFn:dae,onSuccess:y=>{t.invalidateQueries({queryKey:Ru}),n({title:y,description:Kt()})},onError:y=>{n({title:y==null?void 0:y.message,description:Kt(),variant:"destructive"}),Mt(y.message||"An Unexpected error occured while deleting admin account")}}),{mutateAsync:c,isPending:u}=ei({mutationFn:uae,onSuccess:y=>{t.invalidateQueries({queryKey:Ru}),n({title:y,description:Kt()})},onError:y=>{n({title:y==null?void 0:y.message,description:Kt(),variant:"destructive"}),Mt(y.message||"An Unexpected error occured while adding admin account")}}),{mutateAsync:d,isPending:p}=ei({mutationFn:hae,onSuccess:y=>{t.invalidateQueries({queryKey:Ru}),n({title:y,description:Kt()})},onError:y=>{n({title:y==null?void 0:y.message,description:Kt(),variant:"destructive"}),Mt(y.message||"An Unexpected error occured while updating admin account")}}),{mutateAsync:g}=ei({mutationFn:fae,onSuccess:async y=>{t.invalidateQueries({queryKey:Ru}),await e(1e3),n({title:y,description:Kt()})},onError:y=>{n({title:y==null?void 0:y.message,description:Kt(),variant:"destructive"}),Mt(y.message||"An Unexpected error occured while updating admin role")}});return{setDialogState:s,isAdminListLoading:a,adminList:o,handleAddAdmin:async y=>{try{await c(y)}catch(S){S instanceof Error&&Mt(S.message??"An error occured adding admin account"),console.error("An unexpected error occured: ",S)}},handleDeleteAdmin:async()=>{try{if(!i)throw new Error("No admin selected cannot delete");await l(i)}catch(y){y instanceof Error&&Mt(y.message??"An error occured deleting admin account"),console.error("An unexpected error occured: ",y)}},handleResetAdminPassword:async y=>{try{if(!i)throw new Error("Admin ID not found, cannot proceed");await d({...y,_id:i})}catch(S){S instanceof Error&&Mt(S.message??"An error occured deleting admin account"),console.error("An unexpected error occured: ",S)}},handleUpdateAdminRole:async(y,S)=>{try{if(!S)throw new Error("Admin is not available cannot update role");await g({role:y,_id:S})}catch(R){R instanceof Error&&Mt(R.message??`An error occured: ${R}`),console.error("An unexpected error occured: ",R)}},dialogs:r,isPending:u,resetAdminPasswordIsPending:p}},mae=()=>{const t=Rt(d=>d.admin),{adminList:e,dialogs:n,isAdminListLoading:r,isPending:s,handleAddAdmin:i,handleDeleteAdmin:o,handleResetAdminPassword:a,handleUpdateAdminRole:l,resetAdminPasswordIsPending:c,setDialogState:u}=pae();return r?f.jsx(aae,{}):f.jsxs("section",{className:"flex-1 flex-col space-y-4 relative",children:[f.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[f.jsxs("header",{className:"text-2xl flex items-center justify-between font-medium pb-5 leading-none tracking-tight",children:[f.jsxs("div",{children:["Team",f.jsx(sy,{tooltip:"Maximum of 5 admins can be created",children:f.jsx("p",{className:"ml-3 inline-block min-w-6 text-xs font-medium text-zinc-600",children:`${e==null?void 0:e.length}/${UJ}`})})]}),f.jsx("div",{children:(t==null?void 0:t.role)!=="viewer"&&(t==null?void 0:t.role)!=="editor"&&f.jsxs(ct,{size:"sm",className:"w-full bg-blue-600 hover:bg-blue-700",onClick:()=>u("showAddAdminDialog",!0),disabled:(e==null?void 0:e.length)===5,children:[f.jsx(Ih,{className:"size-5 mr-2"}),"Add Admin"]})})]}),f.jsxs("div",{children:[f.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[f.jsx("h4",{className:"flex-1",children:"User"}),f.jsx("h4",{className:"w-[14rem]",children:"Last Active"}),f.jsx("h4",{className:"w-[8rem]",children:"Role"}),f.jsx("h4",{className:"w-[6rem]"})]}),f.jsx("hr",{className:"border-customBorderColor"}),f.jsx(zg,{items:e,renderItem:d=>f.jsx(moe,{adminInfo:d,onUpdateRole:l})})]})]}),f.jsx(iae,{isOpen:n.showAddAdminDialog,setDialogState:u,onAddAdmin:i,isLoading:s}),(n==null?void 0:n.showConfirmDeleteDialog)&&f.jsx(jT,{isOpen:n.showConfirmDeleteDialog,setDialogState:d=>u("showConfirmDeleteDialog",d),onDelete:o,message:"This action cannot be undone. This will permanently delete the admin account"}),(n==null?void 0:n.showResetPasswordDialog)&&f.jsx(oae,{isOpen:n.showResetPasswordDialog,setDialogState:u,onResetPassword:a,isLoading:c})]})},gae=()=>{const{currentTab:t,setActiveTab:e}=FV("team");return f.jsxs("section",{className:"flex space-x-2",children:[f.jsx(doe,{activeTab:t,onTabChange:e}),t==="team"&&f.jsx(mae,{}),t==="botProfile"&&f.jsx(coe,{}),t==="botModel"&&f.jsx(foe,{})]})},yae=()=>f.jsx("header",{className:"py-4 text-3xl font-semibold",children:"Settings"}),vae=()=>f.jsxs("div",{className:"flex flex-col w-[84rem] px-20 space-y-6",children:[f.jsx(yae,{}),f.jsx(gae,{})]}),wae=({id:t,text:e,onChange:n,checked:r})=>f.jsxs(f.Fragment,{children:[f.jsx("input",{type:"radio",id:t,name:"nav-btn",value:e,className:"hidden peer",checked:r,onChange:n}),f.jsx("label",{htmlFor:t,className:"flex-1 flex w-[190px] justify-center items-center py-3 px-4 cursor-pointer uppercase text-sm font-[500]",children:e})]}),_ae=({labels:t,selectedTab:e,setSelectedTab:n})=>{const r=s=>{n(s)};return f.jsx("nav",{className:"tabs relative flex after:absolute after:bottom-0 after:pointer-events-none after:border after:border-blue-500",children:t==null?void 0:t.map(s=>f.jsx(wae,{id:s,text:s,checked:e==s,onChange:()=>r(s)},s))})},xae={siteName:"COB-CHATBOT",botName:"AI NLP Assistant"},Eae={chatbot:GX,settings:vae,knowledge:Yie},Tae=()=>{const[t,e]=m.useState("chatbot"),n=["chatbot","knowledge","settings"],r=Eae[t]||null;return f.jsxs("div",{className:"min-h-[100dvh] flex flex-col bg-[#F8F9FB] scrollbar-slim",children:[f.jsxs(eG,{text:xae.siteName,children:[f.jsx(_ae,{labels:n,selectedTab:t,setSelectedTab:e}),f.jsx("hr",{className:"w-full border-neutral-300"})]}),r&&f.jsx(tG,{Component:r})]})};function Sae(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=d=>{var _;const{scope:p,children:g,...w}=d,v=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,E=m.useMemo(()=>w,Object.values(w));return f.jsx(v.Provider,{value:E,children:g})};c.displayName=i+"Provider";function u(d,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,bae(s,...e)]}function bae(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Cae="DismissableLayer",g_="dismissableLayer.update",Pae="dismissableLayer.pointerDownOutside",Rae="dismissableLayer.focusOutside",NR,qF=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),QF=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(qF),[u,d]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=ke(e,C=>d(C)),v=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(E),y=u?v.indexOf(u):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,R=y>=_,D=Aae(C=>{const T=C.target,P=[...c.branches].some(I=>I.contains(T));!R||P||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),O=Nae(C=>{const T=C.target;[...c.branches].some(I=>I.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return Ah(C=>{y===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(NR=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),DR(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=NR)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),DR())},[u,c]),m.useEffect(()=>{const C=()=>g({});return document.addEventListener(g_,C),()=>document.removeEventListener(g_,C)},[]),f.jsx(xe.div,{...l,ref:w,style:{pointerEvents:S?R?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,D.onPointerDownCapture)})});QF.displayName=Cae;var Iae="DismissableLayerBranch",YF=m.forwardRef((t,e)=>{const n=m.useContext(qF),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(xe.div,{...t,ref:s})});YF.displayName=Iae;function Aae(t,e=globalThis==null?void 0:globalThis.document){const n=Nt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){XF(Pae,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Nae(t,e=globalThis==null?void 0:globalThis.document){const n=Nt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&XF(Rae,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function DR(){const t=new CustomEvent(g_);document.dispatchEvent(t)}function XF(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Ya(s,i):s.dispatchEvent(i)}var Dae=QF,kae=YF,Mae="Portal",JF=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);It(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?wh.createPortal(f.jsx(xe.div,{...r,ref:e}),o):null});JF.displayName=Mae;function Oae(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var ZF=t=>{const{present:e,children:n}=t,r=Lae(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=ke(r.ref,jae(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};ZF.displayName="Presence";function Lae(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=Oae(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=sp(r.current);i.current=a==="mounted"?c:"none"},[a]),It(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=sp(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),It(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=g=>{const v=sp(r.current).includes(g.animationName);if(g.target===e&&v&&(l("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},p=g=>{g.target===e&&(i.current=sp(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function sp(t){return(t==null?void 0:t.animationName)||"none"}function jae(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var HT="ToastProvider",[GT,Vae,Fae]=Pg("Toast"),[e4,Dle]=Sae("Toast",[Fae]),[Uae,Cy]=e4(HT),t4=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=m.useState(null),[c,u]=m.useState(0),d=m.useRef(!1),p=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${HT}\`. Expected non-empty \`string\`.`),f.jsx(GT.Provider,{scope:e,children:f.jsx(Uae,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>u(g=>g+1),[]),onToastRemove:m.useCallback(()=>u(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:p,children:o})})};t4.displayName=HT;var n4="ToastViewport",Bae=["F8"],y_="toast.viewportPause",v_="toast.viewportResume",r4=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Bae,label:s="Notifications ({hotkey})",...i}=t,o=Cy(n4,n),a=Vae(n),l=m.useRef(null),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),p=ke(e,d,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;m.useEffect(()=>{const E=_=>{var S;r.length!==0&&r.every(R=>_[R]||_.code===R)&&((S=d.current)==null||S.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),m.useEffect(()=>{const E=l.current,_=d.current;if(w&&E&&_){const y=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(y_);_.dispatchEvent(O),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(v_);_.dispatchEvent(O),o.isClosePausedRef.current=!1}},R=O=>{!E.contains(O.relatedTarget)&&S()},D=()=>{E.contains(document.activeElement)||S()};return E.addEventListener("focusin",y),E.addEventListener("focusout",R),E.addEventListener("pointermove",y),E.addEventListener("pointerleave",D),window.addEventListener("blur",y),window.addEventListener("focus",S),()=>{E.removeEventListener("focusin",y),E.removeEventListener("focusout",R),E.removeEventListener("pointermove",y),E.removeEventListener("pointerleave",D),window.removeEventListener("blur",y),window.removeEventListener("focus",S)}}},[w,o.isClosePausedRef]);const v=m.useCallback(({tabbingDirection:E})=>{const y=a().map(S=>{const R=S.ref.current,D=[R,...ele(R)];return E==="forwards"?D:D.reverse()});return(E==="forwards"?y.reverse():y).flat()},[a]);return m.useEffect(()=>{const E=d.current;if(E){const _=y=>{var D,O,C;const S=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!S){const T=document.activeElement,P=y.shiftKey;if(y.target===E&&P){(D=c.current)==null||D.focus();return}const k=v({tabbingDirection:P?"backwards":"forwards"}),N=k.findIndex(H=>H===T);tw(k.slice(N+1))?y.preventDefault():P?(O=c.current)==null||O.focus():(C=u.current)==null||C.focus()}};return E.addEventListener("keydown",_),()=>E.removeEventListener("keydown",_)}},[a,v]),f.jsxs(kae,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&f.jsx(w_,{ref:c,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"forwards"});tw(E)}}),f.jsx(GT.Slot,{scope:n,children:f.jsx(xe.ol,{tabIndex:-1,...i,ref:p})}),w&&f.jsx(w_,{ref:u,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"backwards"});tw(E)}})]})});r4.displayName=n4;var s4="ToastFocusProxy",w_=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Cy(s4,n);return f.jsx($h,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});w_.displayName=s4;var Py="Toast",$ae="toast.swipeStart",zae="toast.swipeMove",Kae="toast.swipeCancel",Wae="toast.swipeEnd",i4=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=Po({prop:r,defaultProp:s,onChange:i});return f.jsx(ZF,{present:n||a,children:f.jsx(qae,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Nt(t.onPause),onResume:Nt(t.onResume),onSwipeStart:ee(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ee(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:ee(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ee(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});i4.displayName=Py;var[Hae,Gae]=e4(Py,{onClose(){}}),qae=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:p,onSwipeEnd:g,...w}=t,v=Cy(Py,n),[E,_]=m.useState(null),y=ke(e,H=>_(H)),S=m.useRef(null),R=m.useRef(null),D=s||v.duration,O=m.useRef(0),C=m.useRef(D),T=m.useRef(0),{onToastAdd:P,onToastRemove:I}=v,M=Nt(()=>{var ae;(E==null?void 0:E.contains(document.activeElement))&&((ae=v.viewport)==null||ae.focus()),o()}),k=m.useCallback(H=>{!H||H===1/0||(window.clearTimeout(T.current),O.current=new Date().getTime(),T.current=window.setTimeout(M,H))},[M]);m.useEffect(()=>{const H=v.viewport;if(H){const ae=()=>{k(C.current),c==null||c()},te=()=>{const ne=new Date().getTime()-O.current;C.current=C.current-ne,window.clearTimeout(T.current),l==null||l()};return H.addEventListener(y_,te),H.addEventListener(v_,ae),()=>{H.removeEventListener(y_,te),H.removeEventListener(v_,ae)}}},[v.viewport,D,l,c,k]),m.useEffect(()=>{i&&!v.isClosePausedRef.current&&k(D)},[i,D,v.isClosePausedRef,k]),m.useEffect(()=>(P(),()=>I()),[P,I]);const N=m.useMemo(()=>E?h4(E):null,[E]);return v.viewport?f.jsxs(f.Fragment,{children:[N&&f.jsx(Qae,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),f.jsx(Hae,{scope:n,onClose:M,children:Si.createPortal(f.jsx(GT.ItemSlot,{scope:n,children:f.jsx(Dae,{asChild:!0,onEscapeKeyDown:ee(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||M(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(xe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ee(t.onKeyDown,H=>{H.key==="Escape"&&(a==null||a(H.nativeEvent),H.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:ee(t.onPointerDown,H=>{H.button===0&&(S.current={x:H.clientX,y:H.clientY})}),onPointerMove:ee(t.onPointerMove,H=>{if(!S.current)return;const ae=H.clientX-S.current.x,te=H.clientY-S.current.y,ne=!!R.current,z=["left","right"].includes(v.swipeDirection),B=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,Z=z?B(0,ae):0,pe=z?0:B(0,te),Te=H.pointerType==="touch"?10:2,Re={x:Z,y:pe},Xe={originalEvent:H,delta:Re};ne?(R.current=Re,ip(zae,d,Xe,{discrete:!1})):kR(Re,v.swipeDirection,Te)?(R.current=Re,ip($ae,u,Xe,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(ae)>Te||Math.abs(te)>Te)&&(S.current=null)}),onPointerUp:ee(t.onPointerUp,H=>{const ae=R.current,te=H.target;if(te.hasPointerCapture(H.pointerId)&&te.releasePointerCapture(H.pointerId),R.current=null,S.current=null,ae){const ne=H.currentTarget,z={originalEvent:H,delta:ae};kR(ae,v.swipeDirection,v.swipeThreshold)?ip(Wae,g,z,{discrete:!0}):ip(Kae,p,z,{discrete:!0}),ne.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),Qae=t=>{const{__scopeToast:e,children:n,...r}=t,s=Cy(Py,e),[i,o]=m.useState(!1),[a,l]=m.useState(!1);return Jae(()=>o(!0)),m.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:f.jsx(JF,{asChild:!0,children:f.jsx($h,{...r,children:i&&f.jsxs(f.Fragment,{children:[s.label," ",n]})})})},Yae="ToastTitle",o4=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(xe.div,{...r,ref:e})});o4.displayName=Yae;var Xae="ToastDescription",a4=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(xe.div,{...r,ref:e})});a4.displayName=Xae;var l4="ToastAction",c4=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?f.jsx(d4,{altText:n,asChild:!0,children:f.jsx(qT,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${l4}\`. Expected non-empty \`string\`.`),null)});c4.displayName=l4;var u4="ToastClose",qT=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=Gae(u4,n);return f.jsx(d4,{asChild:!0,children:f.jsx(xe.button,{type:"button",...r,ref:e,onClick:ee(t.onClick,s.onClose)})})});qT.displayName=u4;var d4=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return f.jsx(xe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function h4(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Zae(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...h4(r))}}),e}function ip(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Ya(s,i):s.dispatchEvent(i)}var kR=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function Jae(t=()=>{}){const e=Nt(t);It(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Zae(t){return t.nodeType===t.ELEMENT_NODE}function ele(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function tw(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var tle=t4,f4=r4,p4=i4,m4=o4,g4=a4,y4=c4,v4=qT;const nle=tle,w4=m.forwardRef(({className:t,...e},n)=>f.jsx(f4,{ref:n,className:de("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));w4.displayName=f4.displayName;const rle=Lh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),_4=m.forwardRef(({className:t,variant:e,...n},r)=>f.jsx(p4,{ref:r,className:de(rle({variant:e}),t),...n}));_4.displayName=p4.displayName;const sle=m.forwardRef(({className:t,...e},n)=>f.jsx(y4,{ref:n,className:de("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));sle.displayName=y4.displayName;const x4=m.forwardRef(({className:t,...e},n)=>f.jsx(v4,{ref:n,className:de("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:f.jsx(bg,{className:"h-4 w-4"})}));x4.displayName=v4.displayName;const E4=m.forwardRef(({className:t,...e},n)=>f.jsx(m4,{ref:n,className:de("text-sm font-semibold",t),...e}));E4.displayName=m4.displayName;const T4=m.forwardRef(({className:t,...e},n)=>f.jsx(g4,{ref:n,className:de("text-sm opacity-90",t),...e}));T4.displayName=g4.displayName;function ile(){const{toasts:t}=Tj();return f.jsxs(nle,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return f.jsxs(_4,{...i,children:[f.jsxs("div",{className:"grid gap-1",children:[n&&f.jsx(E4,{children:n}),r&&f.jsx(T4,{children:r})]}),s,f.jsx(x4,{})]},e)}),f.jsx(w4,{})]})}const ole=()=>{const t=Rt(r=>r.isAuth),e=Rt(r=>r.admin),n=new use;return eK(),!t&&!e?f.jsx(vD,{to:"/login"}):f.jsx(mse,{client:n,children:f.jsxs("main",{children:[f.jsx(Tae,{}),f.jsx(ile,{})]})})},ale=Lh("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),S4=m.forwardRef(({className:t,variant:e,...n},r)=>f.jsx("div",{ref:r,role:"alert",className:de(ale({variant:e}),t),...n}));S4.displayName="Alert";const lle=m.forwardRef(({className:t,...e},n)=>f.jsx("h5",{ref:n,className:de("mb-1 font-medium leading-none tracking-tight",t),...e}));lle.displayName="AlertTitle";const b4=m.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:de("text-sm [&_p]:leading-relaxed",t),...e}));b4.displayName="AlertDescription";const cle=({password:t,setPassword:e})=>{const[n,r]=m.useState(!1);return f.jsxs("div",{className:"relative",children:[f.jsx(sn,{id:"password",type:n?"text":"password",placeholder:"",value:t,onChange:s=>e(s.target.value),required:!0}),f.jsx(ct,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>r(s=>!s),"aria-label":n?"Hide password":"Show password",children:n?f.jsx(bD,{className:"h-4 w-4 text-gray-500"}):f.jsx(Ix,{className:"h-4 w-4 text-gray-500"})})]})},ule=()=>{const t=Rh(),[e,n]=m.useState(""),[r,s]=m.useState(""),[i,o]=m.useState(""),[a,l]=m.useState(!1),c=Rt(p=>p.login),u=Rt(p=>p.isAuth),d=async p=>{p.preventDefault(),o(""),l(!0);try{const{accessToken:g,admin:w}=await lae(e,r);c(g,w),t("/")}catch{o("Invalid credentials, Please try again.")}finally{l(!1)}};return u?f.jsx(vD,{to:"/"}):f.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-r from-gray-100 to-gray-200 relative",children:[f.jsx("div",{className:"absolute inset-0 opacity-10 bg-cover bg-center z-0",style:{backgroundImage:"url('/placeholder.svg?height=1080&width=1920')",filter:"blur(3px)"},"aria-hidden":"true"}),f.jsxs(iy,{className:"w-full max-w-md z-10",children:[f.jsxs(EL,{children:[f.jsx(TL,{className:"text-2xl font-bold text-center",children:"Welcome Back"}),f.jsx(SL,{className:"text-center",children:"Please sign in to your account"})]}),f.jsx(oy,{children:f.jsxs("form",{onSubmit:d,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Jn,{htmlFor:"email",children:"Email"}),f.jsx(sn,{id:"email",type:"email",placeholder:"email@address.com",value:e,onChange:p=>n(p.target.value),required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Jn,{htmlFor:"password",children:"Password"}),f.jsx(cle,{password:r,setPassword:s})]}),i&&f.jsxs(S4,{variant:"destructive",children:[f.jsx(TD,{className:"h-4 w-4"}),f.jsx(b4,{children:i})]}),f.jsx(ct,{type:"submit",className:"w-full",disabled:a,children:a?"Signing In...":"Sign In"})]})}),f.jsxs(bL,{className:"flex flex-col items-center justify-center space-y-2",children:[f.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Powered by cob-chatbot"}),f.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Intelligent conversations, seamless interactions"})]})]})]})};function dle(){var n;const t=yD();let e;return Ch(t)?e=t.statusText||((n=t.data)==null?void 0:n.message)||"An unexpected error occurred.":t instanceof Error?e=t.message:typeof t=="string"?e=t:(console.error(t),e="An unknown error occurred."),f.jsx("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center items-center px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"max-w-md w-full space-y-8 text-center",children:[f.jsx("div",{className:"flex justify-center",children:f.jsx(TD,{className:"h-24 w-24 text-red-600"})}),f.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Oops! Something went wrong"}),f.jsx("p",{className:"mt-2 text-sm text-gray-600",children:e}),f.jsx("div",{className:"mt-5",children:f.jsx(J9,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Go back home"})})]})})}const hle=V9([{path:"/",element:f.jsx(ole,{}),errorElement:f.jsx(dle,{})},{path:"/login",element:f.jsx(ule,{})}],{basename:"/admin"});nw.createRoot(document.getElementById("root")).render(f.jsx(Ke.StrictMode,{children:f.jsx(G9,{router:hle})}));
