var mv=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var V=(t,e,n)=>(mv(t,e,"read from private field"),n?n.call(t):e.get(t)),we=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},he=(t,e,n,r)=>(mv(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var Kf=(t,e,n,r)=>({set _(s){he(t,e,s,n)},get _(){return V(t,e,r)}}),$e=(t,e,n)=>(mv(t,e,"access private method"),n);function BR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function i_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $R={exports:{}},Ag={},zR={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vh=Symbol.for("react.element"),hB=Symbol.for("react.portal"),fB=Symbol.for("react.fragment"),pB=Symbol.for("react.strict_mode"),mB=Symbol.for("react.profiler"),gB=Symbol.for("react.provider"),yB=Symbol.for("react.context"),vB=Symbol.for("react.forward_ref"),wB=Symbol.for("react.suspense"),xB=Symbol.for("react.memo"),_B=Symbol.for("react.lazy"),aS=Symbol.iterator;function EB(t){return t===null||typeof t!="object"?null:(t=aS&&t[aS]||t["@@iterator"],typeof t=="function"?t:null)}var KR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},WR=Object.assign,HR={};function tu(t,e,n){this.props=t,this.context=e,this.refs=HR,this.updater=n||KR}tu.prototype.isReactComponent={};tu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};tu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function qR(){}qR.prototype=tu.prototype;function o_(t,e,n){this.props=t,this.context=e,this.refs=HR,this.updater=n||KR}var a_=o_.prototype=new qR;a_.constructor=o_;WR(a_,tu.prototype);a_.isPureReactComponent=!0;var lS=Array.isArray,GR=Object.prototype.hasOwnProperty,l_={current:null},QR={key:!0,ref:!0,__self:!0,__source:!0};function YR(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)GR.call(e,r)&&!QR.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Vh,type:t,key:i,ref:o,props:s,_owner:l_.current}}function TB(t,e){return{$$typeof:Vh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function c_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vh}function bB(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var cS=/\/+/g;function gv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bB(""+t.key):e.toString(36)}function Dp(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Vh:case hB:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+gv(o,0):r,lS(s)?(n="",t!=null&&(n=t.replace(cS,"$&/")+"/"),Dp(s,e,n,"",function(c){return c})):s!=null&&(c_(s)&&(s=TB(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(cS,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",lS(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+gv(i,a);o+=Dp(i,e,n,l,s)}else if(l=EB(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+gv(i,a++),o+=Dp(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Wf(t,e,n){if(t==null)return t;var r=[],s=0;return Dp(t,r,"","",function(i){return e.call(n,i,s++)}),r}function SB(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var tr={current:null},kp={transition:null},IB={ReactCurrentDispatcher:tr,ReactCurrentBatchConfig:kp,ReactCurrentOwner:l_};function XR(){throw Error("act(...) is not supported in production builds of React.")}Ge.Children={map:Wf,forEach:function(t,e,n){Wf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Wf(t,function(){e++}),e},toArray:function(t){return Wf(t,function(e){return e})||[]},only:function(t){if(!c_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ge.Component=tu;Ge.Fragment=fB;Ge.Profiler=mB;Ge.PureComponent=o_;Ge.StrictMode=pB;Ge.Suspense=wB;Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IB;Ge.act=XR;Ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=WR({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=l_.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)GR.call(e,l)&&!QR.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Vh,type:t.type,key:s,ref:i,props:r,_owner:o}};Ge.createContext=function(t){return t={$$typeof:yB,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:gB,_context:t},t.Consumer=t};Ge.createElement=YR;Ge.createFactory=function(t){var e=YR.bind(null,t);return e.type=t,e};Ge.createRef=function(){return{current:null}};Ge.forwardRef=function(t){return{$$typeof:vB,render:t}};Ge.isValidElement=c_;Ge.lazy=function(t){return{$$typeof:_B,_payload:{_status:-1,_result:t},_init:SB}};Ge.memo=function(t,e){return{$$typeof:xB,type:t,compare:e===void 0?null:e}};Ge.startTransition=function(t){var e=kp.transition;kp.transition={};try{t()}finally{kp.transition=e}};Ge.unstable_act=XR;Ge.useCallback=function(t,e){return tr.current.useCallback(t,e)};Ge.useContext=function(t){return tr.current.useContext(t)};Ge.useDebugValue=function(){};Ge.useDeferredValue=function(t){return tr.current.useDeferredValue(t)};Ge.useEffect=function(t,e){return tr.current.useEffect(t,e)};Ge.useId=function(){return tr.current.useId()};Ge.useImperativeHandle=function(t,e,n){return tr.current.useImperativeHandle(t,e,n)};Ge.useInsertionEffect=function(t,e){return tr.current.useInsertionEffect(t,e)};Ge.useLayoutEffect=function(t,e){return tr.current.useLayoutEffect(t,e)};Ge.useMemo=function(t,e){return tr.current.useMemo(t,e)};Ge.useReducer=function(t,e,n){return tr.current.useReducer(t,e,n)};Ge.useRef=function(t){return tr.current.useRef(t)};Ge.useState=function(t){return tr.current.useState(t)};Ge.useSyncExternalStore=function(t,e,n){return tr.current.useSyncExternalStore(t,e,n)};Ge.useTransition=function(){return tr.current.useTransition()};Ge.version="18.3.1";zR.exports=Ge;var m=zR.exports;const We=i_(m),JR=BR({__proto__:null,default:We},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AB=m,CB=Symbol.for("react.element"),RB=Symbol.for("react.fragment"),PB=Object.prototype.hasOwnProperty,NB=AB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,DB={key:!0,ref:!0,__self:!0,__source:!0};function ZR(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)PB.call(e,r)&&!DB.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:CB,type:t,key:i,ref:o,props:s,_owner:NB.current}}Ag.Fragment=RB;Ag.jsx=ZR;Ag.jsxs=ZR;$R.exports=Ag;var h=$R.exports,Bw={},eP={exports:{}},Dr={},tP={exports:{}},nP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,B){var Z=z.length;z.push(B);e:for(;0<Z;){var pe=Z-1>>>1,Te=z[pe];if(0<s(Te,B))z[pe]=B,z[Z]=Te,Z=pe;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var B=z[0],Z=z.pop();if(Z!==B){z[0]=Z;e:for(var pe=0,Te=z.length,Re=Te>>>1;pe<Re;){var Je=2*(pe+1)-1,wt=z[Je],qe=Je+1,ue=z[qe];if(0>s(wt,Z))qe<Te&&0>s(ue,wt)?(z[pe]=ue,z[qe]=Z,pe=qe):(z[pe]=wt,z[Je]=Z,pe=Je);else if(qe<Te&&0>s(ue,Z))z[pe]=ue,z[qe]=Z,pe=qe;else break e}}return B}function s(z,B){var Z=z.sortIndex-B.sortIndex;return Z!==0?Z:z.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,p=3,g=!1,w=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(z){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=z)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function I(z){if(v=!1,b(z),!w)if(n(l)!==null)w=!0,te(D);else{var B=n(c);B!==null&&ne(I,B.startTime-z)}}function D(z,B){w=!1,v&&(v=!1,x(T),T=-1),g=!0;var Z=p;try{for(b(B),d=n(l);d!==null&&(!(d.expirationTime>B)||z&&!M());){var pe=d.callback;if(typeof pe=="function"){d.callback=null,p=d.priorityLevel;var Te=pe(d.expirationTime<=B);B=t.unstable_now(),typeof Te=="function"?d.callback=Te:d===n(l)&&r(l),b(B)}else r(l);d=n(l)}if(d!==null)var Re=!0;else{var Je=n(c);Je!==null&&ne(I,Je.startTime-B),Re=!1}return Re}finally{d=null,p=Z,g=!1}}var O=!1,A=null,T=-1,R=5,C=-1;function M(){return!(t.unstable_now()-C<R)}function k(){if(A!==null){var z=t.unstable_now();C=z;var B=!0;try{B=A(!0,z)}finally{B?N():(O=!1,A=null)}}else O=!1}var N;if(typeof y=="function")N=function(){y(k)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ae=H.port2;H.port1.onmessage=k,N=function(){ae.postMessage(null)}}else N=function(){_(k,0)};function te(z){A=z,O||(O=!0,N())}function ne(z,B){T=_(function(){z(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,te(D))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var Z=p;p=B;try{return z()}finally{p=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,B){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Z=p;p=z;try{return B()}finally{p=Z}},t.unstable_scheduleCallback=function(z,B,Z){var pe=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?pe+Z:pe):Z=pe,z){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=Z+Te,z={id:u++,callback:B,priorityLevel:z,startTime:Z,expirationTime:Te,sortIndex:-1},Z>pe?(z.sortIndex=Z,e(c,z),n(l)===null&&z===n(c)&&(v?(x(T),T=-1):v=!0,ne(I,Z-pe))):(z.sortIndex=Te,e(l,z),w||g||(w=!0,te(D))),z},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(z){var B=p;return function(){var Z=p;p=B;try{return z.apply(this,arguments)}finally{p=Z}}}})(nP);tP.exports=nP;var kB=tP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MB=m,Rr=kB;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rP=new Set,Fd={};function dl(t,e){kc(t,e),kc(t+"Capture",e)}function kc(t,e){for(Fd[t]=e,t=0;t<e.length;t++)rP.add(e[t])}var Ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$w=Object.prototype.hasOwnProperty,OB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uS={},dS={};function jB(t){return $w.call(dS,t)?!0:$w.call(uS,t)?!1:OB.test(t)?dS[t]=!0:(uS[t]=!0,!1)}function LB(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function VB(t,e,n,r){if(e===null||typeof e>"u"||LB(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nr(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Sn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Sn[t]=new nr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Sn[e]=new nr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Sn[t]=new nr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Sn[t]=new nr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Sn[t]=new nr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Sn[t]=new nr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Sn[t]=new nr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Sn[t]=new nr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Sn[t]=new nr(t,5,!1,t.toLowerCase(),null,!1,!1)});var u_=/[\-:]([a-z])/g;function d_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(u_,d_);Sn[e]=new nr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(u_,d_);Sn[e]=new nr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(u_,d_);Sn[e]=new nr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Sn[t]=new nr(t,1,!1,t.toLowerCase(),null,!1,!1)});Sn.xlinkHref=new nr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Sn[t]=new nr(t,1,!1,t.toLowerCase(),null,!0,!0)});function h_(t,e,n,r){var s=Sn.hasOwnProperty(e)?Sn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(VB(e,n,s,r)&&(n=null),r||s===null?jB(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Oi=MB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hf=Symbol.for("react.element"),Vl=Symbol.for("react.portal"),Fl=Symbol.for("react.fragment"),f_=Symbol.for("react.strict_mode"),zw=Symbol.for("react.profiler"),sP=Symbol.for("react.provider"),iP=Symbol.for("react.context"),p_=Symbol.for("react.forward_ref"),Kw=Symbol.for("react.suspense"),Ww=Symbol.for("react.suspense_list"),m_=Symbol.for("react.memo"),eo=Symbol.for("react.lazy"),oP=Symbol.for("react.offscreen"),hS=Symbol.iterator;function Mu(t){return t===null||typeof t!="object"?null:(t=hS&&t[hS]||t["@@iterator"],typeof t=="function"?t:null)}var Ut=Object.assign,yv;function Zu(t){if(yv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);yv=e&&e[1]||""}return`
`+yv+t}var vv=!1;function wv(t,e){if(!t||vv)return"";vv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{vv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Zu(t):""}function FB(t){switch(t.tag){case 5:return Zu(t.type);case 16:return Zu("Lazy");case 13:return Zu("Suspense");case 19:return Zu("SuspenseList");case 0:case 2:case 15:return t=wv(t.type,!1),t;case 11:return t=wv(t.type.render,!1),t;case 1:return t=wv(t.type,!0),t;default:return""}}function Hw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fl:return"Fragment";case Vl:return"Portal";case zw:return"Profiler";case f_:return"StrictMode";case Kw:return"Suspense";case Ww:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case iP:return(t.displayName||"Context")+".Consumer";case sP:return(t._context.displayName||"Context")+".Provider";case p_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case m_:return e=t.displayName||null,e!==null?e:Hw(t.type)||"Memo";case eo:e=t._payload,t=t._init;try{return Hw(t(e))}catch{}}return null}function UB(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hw(e);case 8:return e===f_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Lo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function aP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function BB(t){var e=aP(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qf(t){t._valueTracker||(t._valueTracker=BB(t))}function lP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=aP(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function hm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qw(t,e){var n=e.checked;return Ut({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function fS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Lo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function cP(t,e){e=e.checked,e!=null&&h_(t,"checked",e,!1)}function Gw(t,e){cP(t,e);var n=Lo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qw(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qw(t,e.type,Lo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function pS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qw(t,e,n){(e!=="number"||hm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ed=Array.isArray;function sc(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Lo(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Yw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return Ut({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if(ed(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Lo(n)}}function uP(t,e){var n=Lo(e.value),r=Lo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function gS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function dP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?dP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gf,hP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Gf=Gf||document.createElement("div"),Gf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ud(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$B=["Webkit","ms","Moz","O"];Object.keys(fd).forEach(function(t){$B.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fd[e]=fd[t]})});function fP(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fd.hasOwnProperty(t)&&fd[t]?(""+e).trim():e+"px"}function pP(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=fP(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var zB=Ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jw(t,e){if(e){if(zB[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function Zw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var e0=null;function g_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var t0=null,ic=null,oc=null;function yS(t){if(t=Bh(t)){if(typeof t0!="function")throw Error(X(280));var e=t.stateNode;e&&(e=Dg(e),t0(t.stateNode,t.type,e))}}function mP(t){ic?oc?oc.push(t):oc=[t]:ic=t}function gP(){if(ic){var t=ic,e=oc;if(oc=ic=null,yS(t),e)for(t=0;t<e.length;t++)yS(e[t])}}function yP(t,e){return t(e)}function vP(){}var xv=!1;function wP(t,e,n){if(xv)return t(e,n);xv=!0;try{return yP(t,e,n)}finally{xv=!1,(ic!==null||oc!==null)&&(vP(),gP())}}function Bd(t,e){var n=t.stateNode;if(n===null)return null;var r=Dg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var n0=!1;if(Ti)try{var Ou={};Object.defineProperty(Ou,"passive",{get:function(){n0=!0}}),window.addEventListener("test",Ou,Ou),window.removeEventListener("test",Ou,Ou)}catch{n0=!1}function KB(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var pd=!1,fm=null,pm=!1,r0=null,WB={onError:function(t){pd=!0,fm=t}};function HB(t,e,n,r,s,i,o,a,l){pd=!1,fm=null,KB.apply(WB,arguments)}function qB(t,e,n,r,s,i,o,a,l){if(HB.apply(this,arguments),pd){if(pd){var c=fm;pd=!1,fm=null}else throw Error(X(198));pm||(pm=!0,r0=c)}}function hl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function xP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vS(t){if(hl(t)!==t)throw Error(X(188))}function GB(t){var e=t.alternate;if(!e){if(e=hl(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return vS(s),t;if(i===r)return vS(s),e;i=i.sibling}throw Error(X(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function _P(t){return t=GB(t),t!==null?EP(t):null}function EP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=EP(t);if(e!==null)return e;t=t.sibling}return null}var TP=Rr.unstable_scheduleCallback,wS=Rr.unstable_cancelCallback,QB=Rr.unstable_shouldYield,YB=Rr.unstable_requestPaint,Xt=Rr.unstable_now,XB=Rr.unstable_getCurrentPriorityLevel,y_=Rr.unstable_ImmediatePriority,bP=Rr.unstable_UserBlockingPriority,mm=Rr.unstable_NormalPriority,JB=Rr.unstable_LowPriority,SP=Rr.unstable_IdlePriority,Cg=null,Vs=null;function ZB(t){if(Vs&&typeof Vs.onCommitFiberRoot=="function")try{Vs.onCommitFiberRoot(Cg,t,void 0,(t.current.flags&128)===128)}catch{}}var ms=Math.clz32?Math.clz32:n$,e$=Math.log,t$=Math.LN2;function n$(t){return t>>>=0,t===0?32:31-(e$(t)/t$|0)|0}var Qf=64,Yf=4194304;function td(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=td(a):(i&=o,i!==0&&(r=td(i)))}else o=n&~s,o!==0?r=td(o):i!==0&&(r=td(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ms(e),s=1<<n,r|=t[n],e&=~s;return r}function r$(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s$(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ms(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=r$(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function s0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function IP(){var t=Qf;return Qf<<=1,!(Qf&4194240)&&(Qf=64),t}function _v(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Fh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ms(e),t[e]=n}function i$(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ms(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function v_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ms(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ft=0;function AP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var CP,w_,RP,PP,NP,i0=!1,Xf=[],So=null,Io=null,Ao=null,$d=new Map,zd=new Map,no=[],o$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xS(t,e){switch(t){case"focusin":case"focusout":So=null;break;case"dragenter":case"dragleave":Io=null;break;case"mouseover":case"mouseout":Ao=null;break;case"pointerover":case"pointerout":$d.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zd.delete(e.pointerId)}}function ju(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Bh(e),e!==null&&w_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function a$(t,e,n,r,s){switch(e){case"focusin":return So=ju(So,t,e,n,r,s),!0;case"dragenter":return Io=ju(Io,t,e,n,r,s),!0;case"mouseover":return Ao=ju(Ao,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return $d.set(i,ju($d.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,zd.set(i,ju(zd.get(i)||null,t,e,n,r,s)),!0}return!1}function DP(t){var e=Ia(t.target);if(e!==null){var n=hl(e);if(n!==null){if(e=n.tag,e===13){if(e=xP(n),e!==null){t.blockedOn=e,NP(t.priority,function(){RP(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=o0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);e0=r,n.target.dispatchEvent(r),e0=null}else return e=Bh(n),e!==null&&w_(e),t.blockedOn=n,!1;e.shift()}return!0}function _S(t,e,n){Mp(t)&&n.delete(e)}function l$(){i0=!1,So!==null&&Mp(So)&&(So=null),Io!==null&&Mp(Io)&&(Io=null),Ao!==null&&Mp(Ao)&&(Ao=null),$d.forEach(_S),zd.forEach(_S)}function Lu(t,e){t.blockedOn===e&&(t.blockedOn=null,i0||(i0=!0,Rr.unstable_scheduleCallback(Rr.unstable_NormalPriority,l$)))}function Kd(t){function e(s){return Lu(s,t)}if(0<Xf.length){Lu(Xf[0],t);for(var n=1;n<Xf.length;n++){var r=Xf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(So!==null&&Lu(So,t),Io!==null&&Lu(Io,t),Ao!==null&&Lu(Ao,t),$d.forEach(e),zd.forEach(e),n=0;n<no.length;n++)r=no[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<no.length&&(n=no[0],n.blockedOn===null);)DP(n),n.blockedOn===null&&no.shift()}var ac=Oi.ReactCurrentBatchConfig,ym=!0;function c$(t,e,n,r){var s=ft,i=ac.transition;ac.transition=null;try{ft=1,x_(t,e,n,r)}finally{ft=s,ac.transition=i}}function u$(t,e,n,r){var s=ft,i=ac.transition;ac.transition=null;try{ft=4,x_(t,e,n,r)}finally{ft=s,ac.transition=i}}function x_(t,e,n,r){if(ym){var s=o0(t,e,n,r);if(s===null)Nv(t,e,r,vm,n),xS(t,r);else if(a$(s,t,e,n,r))r.stopPropagation();else if(xS(t,r),e&4&&-1<o$.indexOf(t)){for(;s!==null;){var i=Bh(s);if(i!==null&&CP(i),i=o0(t,e,n,r),i===null&&Nv(t,e,r,vm,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Nv(t,e,r,null,n)}}var vm=null;function o0(t,e,n,r){if(vm=null,t=g_(r),t=Ia(t),t!==null)if(e=hl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=xP(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vm=t,null}function kP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XB()){case y_:return 1;case bP:return 4;case mm:case JB:return 16;case SP:return 536870912;default:return 16}default:return 16}}var xo=null,__=null,Op=null;function MP(){if(Op)return Op;var t,e=__,n=e.length,r,s="value"in xo?xo.value:xo.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Op=s.slice(t,1<r?1-r:void 0)}function jp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Jf(){return!0}function ES(){return!1}function kr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Jf:ES,this.isPropagationStopped=ES,this}return Ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Jf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Jf)},persist:function(){},isPersistent:Jf}),e}var nu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},E_=kr(nu),Uh=Ut({},nu,{view:0,detail:0}),d$=kr(Uh),Ev,Tv,Vu,Rg=Ut({},Uh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:T_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vu&&(Vu&&t.type==="mousemove"?(Ev=t.screenX-Vu.screenX,Tv=t.screenY-Vu.screenY):Tv=Ev=0,Vu=t),Ev)},movementY:function(t){return"movementY"in t?t.movementY:Tv}}),TS=kr(Rg),h$=Ut({},Rg,{dataTransfer:0}),f$=kr(h$),p$=Ut({},Uh,{relatedTarget:0}),bv=kr(p$),m$=Ut({},nu,{animationName:0,elapsedTime:0,pseudoElement:0}),g$=kr(m$),y$=Ut({},nu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),v$=kr(y$),w$=Ut({},nu,{data:0}),bS=kr(w$),x$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},E$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function T$(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=E$[t])?!!e[t]:!1}function T_(){return T$}var b$=Ut({},Uh,{key:function(t){if(t.key){var e=x$[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=jp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_$[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:T_,charCode:function(t){return t.type==="keypress"?jp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),S$=kr(b$),I$=Ut({},Rg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),SS=kr(I$),A$=Ut({},Uh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:T_}),C$=kr(A$),R$=Ut({},nu,{propertyName:0,elapsedTime:0,pseudoElement:0}),P$=kr(R$),N$=Ut({},Rg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),D$=kr(N$),k$=[9,13,27,32],b_=Ti&&"CompositionEvent"in window,md=null;Ti&&"documentMode"in document&&(md=document.documentMode);var M$=Ti&&"TextEvent"in window&&!md,OP=Ti&&(!b_||md&&8<md&&11>=md),IS=" ",AS=!1;function jP(t,e){switch(t){case"keyup":return k$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function LP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ul=!1;function O$(t,e){switch(t){case"compositionend":return LP(e);case"keypress":return e.which!==32?null:(AS=!0,IS);case"textInput":return t=e.data,t===IS&&AS?null:t;default:return null}}function j$(t,e){if(Ul)return t==="compositionend"||!b_&&jP(t,e)?(t=MP(),Op=__=xo=null,Ul=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return OP&&e.locale!=="ko"?null:e.data;default:return null}}var L$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function CS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!L$[t.type]:e==="textarea"}function VP(t,e,n,r){mP(r),e=wm(e,"onChange"),0<e.length&&(n=new E_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var gd=null,Wd=null;function V$(t){QP(t,0)}function Pg(t){var e=zl(t);if(lP(e))return t}function F$(t,e){if(t==="change")return e}var FP=!1;if(Ti){var Sv;if(Ti){var Iv="oninput"in document;if(!Iv){var RS=document.createElement("div");RS.setAttribute("oninput","return;"),Iv=typeof RS.oninput=="function"}Sv=Iv}else Sv=!1;FP=Sv&&(!document.documentMode||9<document.documentMode)}function PS(){gd&&(gd.detachEvent("onpropertychange",UP),Wd=gd=null)}function UP(t){if(t.propertyName==="value"&&Pg(Wd)){var e=[];VP(e,Wd,t,g_(t)),wP(V$,e)}}function U$(t,e,n){t==="focusin"?(PS(),gd=e,Wd=n,gd.attachEvent("onpropertychange",UP)):t==="focusout"&&PS()}function B$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pg(Wd)}function $$(t,e){if(t==="click")return Pg(e)}function z$(t,e){if(t==="input"||t==="change")return Pg(e)}function K$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vs=typeof Object.is=="function"?Object.is:K$;function Hd(t,e){if(vs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!$w.call(e,s)||!vs(t[s],e[s]))return!1}return!0}function NS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function DS(t,e){var n=NS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=NS(n)}}function BP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?BP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $P(){for(var t=window,e=hm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=hm(t.document)}return e}function S_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function W$(t){var e=$P(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&BP(n.ownerDocument.documentElement,n)){if(r!==null&&S_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=DS(n,i);var o=DS(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var H$=Ti&&"documentMode"in document&&11>=document.documentMode,Bl=null,a0=null,yd=null,l0=!1;function kS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;l0||Bl==null||Bl!==hm(r)||(r=Bl,"selectionStart"in r&&S_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yd&&Hd(yd,r)||(yd=r,r=wm(a0,"onSelect"),0<r.length&&(e=new E_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Bl)))}function Zf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $l={animationend:Zf("Animation","AnimationEnd"),animationiteration:Zf("Animation","AnimationIteration"),animationstart:Zf("Animation","AnimationStart"),transitionend:Zf("Transition","TransitionEnd")},Av={},zP={};Ti&&(zP=document.createElement("div").style,"AnimationEvent"in window||(delete $l.animationend.animation,delete $l.animationiteration.animation,delete $l.animationstart.animation),"TransitionEvent"in window||delete $l.transitionend.transition);function Ng(t){if(Av[t])return Av[t];if(!$l[t])return t;var e=$l[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in zP)return Av[t]=e[n];return t}var KP=Ng("animationend"),WP=Ng("animationiteration"),HP=Ng("animationstart"),qP=Ng("transitionend"),GP=new Map,MS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xo(t,e){GP.set(t,e),dl(e,[t])}for(var Cv=0;Cv<MS.length;Cv++){var Rv=MS[Cv],q$=Rv.toLowerCase(),G$=Rv[0].toUpperCase()+Rv.slice(1);Xo(q$,"on"+G$)}Xo(KP,"onAnimationEnd");Xo(WP,"onAnimationIteration");Xo(HP,"onAnimationStart");Xo("dblclick","onDoubleClick");Xo("focusin","onFocus");Xo("focusout","onBlur");Xo(qP,"onTransitionEnd");kc("onMouseEnter",["mouseout","mouseover"]);kc("onMouseLeave",["mouseout","mouseover"]);kc("onPointerEnter",["pointerout","pointerover"]);kc("onPointerLeave",["pointerout","pointerover"]);dl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dl("onBeforeInput",["compositionend","keypress","textInput","paste"]);dl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q$=new Set("cancel close invalid load scroll toggle".split(" ").concat(nd));function OS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,qB(r,e,void 0,t),t.currentTarget=null}function QP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;OS(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;OS(s,a,c),i=l}}}if(pm)throw t=r0,pm=!1,r0=null,t}function Rt(t,e){var n=e[f0];n===void 0&&(n=e[f0]=new Set);var r=t+"__bubble";n.has(r)||(YP(e,t,2,!1),n.add(r))}function Pv(t,e,n){var r=0;e&&(r|=4),YP(n,t,r,e)}var ep="_reactListening"+Math.random().toString(36).slice(2);function qd(t){if(!t[ep]){t[ep]=!0,rP.forEach(function(n){n!=="selectionchange"&&(Q$.has(n)||Pv(n,!1,t),Pv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ep]||(e[ep]=!0,Pv("selectionchange",!1,e))}}function YP(t,e,n,r){switch(kP(e)){case 1:var s=c$;break;case 4:s=u$;break;default:s=x_}n=s.bind(null,e,n,t),s=void 0,!n0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Nv(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ia(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}wP(function(){var c=i,u=g_(n),d=[];e:{var p=GP.get(t);if(p!==void 0){var g=E_,w=t;switch(t){case"keypress":if(jp(n)===0)break e;case"keydown":case"keyup":g=S$;break;case"focusin":w="focus",g=bv;break;case"focusout":w="blur",g=bv;break;case"beforeblur":case"afterblur":g=bv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=TS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=f$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=C$;break;case KP:case WP:case HP:g=g$;break;case qP:g=P$;break;case"scroll":g=d$;break;case"wheel":g=D$;break;case"copy":case"cut":case"paste":g=v$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=SS}var v=(e&4)!==0,_=!v&&t==="scroll",x=v?p!==null?p+"Capture":null:p;v=[];for(var y=c,b;y!==null;){b=y;var I=b.stateNode;if(b.tag===5&&I!==null&&(b=I,x!==null&&(I=Bd(y,x),I!=null&&v.push(Gd(y,I,b)))),_)break;y=y.return}0<v.length&&(p=new g(p,w,null,n,u),d.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==e0&&(w=n.relatedTarget||n.fromElement)&&(Ia(w)||w[bi]))break e;if((g||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=c,w=w?Ia(w):null,w!==null&&(_=hl(w),w!==_||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=c),g!==w)){if(v=TS,I="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=SS,I="onPointerLeave",x="onPointerEnter",y="pointer"),_=g==null?p:zl(g),b=w==null?p:zl(w),p=new v(I,y+"leave",g,n,u),p.target=_,p.relatedTarget=b,I=null,Ia(u)===c&&(v=new v(x,y+"enter",w,n,u),v.target=b,v.relatedTarget=_,I=v),_=I,g&&w)t:{for(v=g,x=w,y=0,b=v;b;b=Pl(b))y++;for(b=0,I=x;I;I=Pl(I))b++;for(;0<y-b;)v=Pl(v),y--;for(;0<b-y;)x=Pl(x),b--;for(;y--;){if(v===x||x!==null&&v===x.alternate)break t;v=Pl(v),x=Pl(x)}v=null}else v=null;g!==null&&jS(d,p,g,v,!1),w!==null&&_!==null&&jS(d,_,w,v,!0)}}e:{if(p=c?zl(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var D=F$;else if(CS(p))if(FP)D=z$;else{D=B$;var O=U$}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=$$);if(D&&(D=D(t,c))){VP(d,D,n,u);break e}O&&O(t,p,c),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&Qw(p,"number",p.value)}switch(O=c?zl(c):window,t){case"focusin":(CS(O)||O.contentEditable==="true")&&(Bl=O,a0=c,yd=null);break;case"focusout":yd=a0=Bl=null;break;case"mousedown":l0=!0;break;case"contextmenu":case"mouseup":case"dragend":l0=!1,kS(d,n,u);break;case"selectionchange":if(H$)break;case"keydown":case"keyup":kS(d,n,u)}var A;if(b_)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ul?jP(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(OP&&n.locale!=="ko"&&(Ul||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ul&&(A=MP()):(xo=u,__="value"in xo?xo.value:xo.textContent,Ul=!0)),O=wm(c,T),0<O.length&&(T=new bS(T,t,null,n,u),d.push({event:T,listeners:O}),A?T.data=A:(A=LP(n),A!==null&&(T.data=A)))),(A=M$?O$(t,n):j$(t,n))&&(c=wm(c,"onBeforeInput"),0<c.length&&(u=new bS("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=A))}QP(d,e)})}function Gd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function wm(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Bd(t,n),i!=null&&r.unshift(Gd(t,i,s)),i=Bd(t,e),i!=null&&r.push(Gd(t,i,s))),t=t.return}return r}function Pl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jS(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Bd(n,i),l!=null&&o.unshift(Gd(n,l,a))):s||(l=Bd(n,i),l!=null&&o.push(Gd(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Y$=/\r\n?/g,X$=/\u0000|\uFFFD/g;function LS(t){return(typeof t=="string"?t:""+t).replace(Y$,`
`).replace(X$,"")}function tp(t,e,n){if(e=LS(e),LS(t)!==e&&n)throw Error(X(425))}function xm(){}var c0=null,u0=null;function d0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var h0=typeof setTimeout=="function"?setTimeout:void 0,J$=typeof clearTimeout=="function"?clearTimeout:void 0,VS=typeof Promise=="function"?Promise:void 0,Z$=typeof queueMicrotask=="function"?queueMicrotask:typeof VS<"u"?function(t){return VS.resolve(null).then(t).catch(e5)}:h0;function e5(t){setTimeout(function(){throw t})}function Dv(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Kd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Kd(e)}function Co(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function FS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ru=Math.random().toString(36).slice(2),ks="__reactFiber$"+ru,Qd="__reactProps$"+ru,bi="__reactContainer$"+ru,f0="__reactEvents$"+ru,t5="__reactListeners$"+ru,n5="__reactHandles$"+ru;function Ia(t){var e=t[ks];if(e)return e;for(var n=t.parentNode;n;){if(e=n[bi]||n[ks]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=FS(t);t!==null;){if(n=t[ks])return n;t=FS(t)}return e}t=n,n=t.parentNode}return null}function Bh(t){return t=t[ks]||t[bi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function Dg(t){return t[Qd]||null}var p0=[],Kl=-1;function Jo(t){return{current:t}}function Pt(t){0>Kl||(t.current=p0[Kl],p0[Kl]=null,Kl--)}function bt(t,e){Kl++,p0[Kl]=t.current,t.current=e}var Vo={},Bn=Jo(Vo),ur=Jo(!1),Ga=Vo;function Mc(t,e){var n=t.type.contextTypes;if(!n)return Vo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function dr(t){return t=t.childContextTypes,t!=null}function _m(){Pt(ur),Pt(Bn)}function US(t,e,n){if(Bn.current!==Vo)throw Error(X(168));bt(Bn,e),bt(ur,n)}function XP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(X(108,UB(t)||"Unknown",s));return Ut({},n,r)}function Em(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vo,Ga=Bn.current,bt(Bn,t),bt(ur,ur.current),!0}function BS(t,e,n){var r=t.stateNode;if(!r)throw Error(X(169));n?(t=XP(t,e,Ga),r.__reactInternalMemoizedMergedChildContext=t,Pt(ur),Pt(Bn),bt(Bn,t)):Pt(ur),bt(ur,n)}var ni=null,kg=!1,kv=!1;function JP(t){ni===null?ni=[t]:ni.push(t)}function r5(t){kg=!0,JP(t)}function Zo(){if(!kv&&ni!==null){kv=!0;var t=0,e=ft;try{var n=ni;for(ft=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ni=null,kg=!1}catch(s){throw ni!==null&&(ni=ni.slice(t+1)),TP(y_,Zo),s}finally{ft=e,kv=!1}}return null}var Wl=[],Hl=0,Tm=null,bm=0,zr=[],Kr=0,Qa=null,si=1,ii="";function xa(t,e){Wl[Hl++]=bm,Wl[Hl++]=Tm,Tm=t,bm=e}function ZP(t,e,n){zr[Kr++]=si,zr[Kr++]=ii,zr[Kr++]=Qa,Qa=t;var r=si;t=ii;var s=32-ms(r)-1;r&=~(1<<s),n+=1;var i=32-ms(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,si=1<<32-ms(e)+s|n<<s|r,ii=i+t}else si=1<<i|n<<s|r,ii=t}function I_(t){t.return!==null&&(xa(t,1),ZP(t,1,0))}function A_(t){for(;t===Tm;)Tm=Wl[--Hl],Wl[Hl]=null,bm=Wl[--Hl],Wl[Hl]=null;for(;t===Qa;)Qa=zr[--Kr],zr[Kr]=null,ii=zr[--Kr],zr[Kr]=null,si=zr[--Kr],zr[Kr]=null}var Ir=null,Tr=null,Dt=!1,us=null;function eN(t,e){var n=Hr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $S(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ir=t,Tr=Co(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ir=t,Tr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Qa!==null?{id:si,overflow:ii}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Hr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ir=t,Tr=null,!0):!1;default:return!1}}function m0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function g0(t){if(Dt){var e=Tr;if(e){var n=e;if(!$S(t,e)){if(m0(t))throw Error(X(418));e=Co(n.nextSibling);var r=Ir;e&&$S(t,e)?eN(r,n):(t.flags=t.flags&-4097|2,Dt=!1,Ir=t)}}else{if(m0(t))throw Error(X(418));t.flags=t.flags&-4097|2,Dt=!1,Ir=t}}}function zS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ir=t}function np(t){if(t!==Ir)return!1;if(!Dt)return zS(t),Dt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!d0(t.type,t.memoizedProps)),e&&(e=Tr)){if(m0(t))throw tN(),Error(X(418));for(;e;)eN(t,e),e=Co(e.nextSibling)}if(zS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Tr=Co(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Tr=null}}else Tr=Ir?Co(t.stateNode.nextSibling):null;return!0}function tN(){for(var t=Tr;t;)t=Co(t.nextSibling)}function Oc(){Tr=Ir=null,Dt=!1}function C_(t){us===null?us=[t]:us.push(t)}var s5=Oi.ReactCurrentBatchConfig;function Fu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function rp(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function KS(t){var e=t._init;return e(t._payload)}function nN(t){function e(x,y){if(t){var b=x.deletions;b===null?(x.deletions=[y],x.flags|=16):b.push(y)}}function n(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function s(x,y){return x=Do(x,y),x.index=0,x.sibling=null,x}function i(x,y,b){return x.index=b,t?(b=x.alternate,b!==null?(b=b.index,b<y?(x.flags|=2,y):b):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,y,b,I){return y===null||y.tag!==6?(y=Uv(b,x.mode,I),y.return=x,y):(y=s(y,b),y.return=x,y)}function l(x,y,b,I){var D=b.type;return D===Fl?u(x,y,b.props.children,I,b.key):y!==null&&(y.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===eo&&KS(D)===y.type)?(I=s(y,b.props),I.ref=Fu(x,y,b),I.return=x,I):(I=zp(b.type,b.key,b.props,null,x.mode,I),I.ref=Fu(x,y,b),I.return=x,I)}function c(x,y,b,I){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Bv(b,x.mode,I),y.return=x,y):(y=s(y,b.children||[]),y.return=x,y)}function u(x,y,b,I,D){return y===null||y.tag!==7?(y=Ka(b,x.mode,I,D),y.return=x,y):(y=s(y,b),y.return=x,y)}function d(x,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Uv(""+y,x.mode,b),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Hf:return b=zp(y.type,y.key,y.props,null,x.mode,b),b.ref=Fu(x,null,y),b.return=x,b;case Vl:return y=Bv(y,x.mode,b),y.return=x,y;case eo:var I=y._init;return d(x,I(y._payload),b)}if(ed(y)||Mu(y))return y=Ka(y,x.mode,b,null),y.return=x,y;rp(x,y)}return null}function p(x,y,b,I){var D=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return D!==null?null:a(x,y,""+b,I);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Hf:return b.key===D?l(x,y,b,I):null;case Vl:return b.key===D?c(x,y,b,I):null;case eo:return D=b._init,p(x,y,D(b._payload),I)}if(ed(b)||Mu(b))return D!==null?null:u(x,y,b,I,null);rp(x,b)}return null}function g(x,y,b,I,D){if(typeof I=="string"&&I!==""||typeof I=="number")return x=x.get(b)||null,a(y,x,""+I,D);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Hf:return x=x.get(I.key===null?b:I.key)||null,l(y,x,I,D);case Vl:return x=x.get(I.key===null?b:I.key)||null,c(y,x,I,D);case eo:var O=I._init;return g(x,y,b,O(I._payload),D)}if(ed(I)||Mu(I))return x=x.get(b)||null,u(y,x,I,D,null);rp(y,I)}return null}function w(x,y,b,I){for(var D=null,O=null,A=y,T=y=0,R=null;A!==null&&T<b.length;T++){A.index>T?(R=A,A=null):R=A.sibling;var C=p(x,A,b[T],I);if(C===null){A===null&&(A=R);break}t&&A&&C.alternate===null&&e(x,A),y=i(C,y,T),O===null?D=C:O.sibling=C,O=C,A=R}if(T===b.length)return n(x,A),Dt&&xa(x,T),D;if(A===null){for(;T<b.length;T++)A=d(x,b[T],I),A!==null&&(y=i(A,y,T),O===null?D=A:O.sibling=A,O=A);return Dt&&xa(x,T),D}for(A=r(x,A);T<b.length;T++)R=g(A,x,T,b[T],I),R!==null&&(t&&R.alternate!==null&&A.delete(R.key===null?T:R.key),y=i(R,y,T),O===null?D=R:O.sibling=R,O=R);return t&&A.forEach(function(M){return e(x,M)}),Dt&&xa(x,T),D}function v(x,y,b,I){var D=Mu(b);if(typeof D!="function")throw Error(X(150));if(b=D.call(b),b==null)throw Error(X(151));for(var O=D=null,A=y,T=y=0,R=null,C=b.next();A!==null&&!C.done;T++,C=b.next()){A.index>T?(R=A,A=null):R=A.sibling;var M=p(x,A,C.value,I);if(M===null){A===null&&(A=R);break}t&&A&&M.alternate===null&&e(x,A),y=i(M,y,T),O===null?D=M:O.sibling=M,O=M,A=R}if(C.done)return n(x,A),Dt&&xa(x,T),D;if(A===null){for(;!C.done;T++,C=b.next())C=d(x,C.value,I),C!==null&&(y=i(C,y,T),O===null?D=C:O.sibling=C,O=C);return Dt&&xa(x,T),D}for(A=r(x,A);!C.done;T++,C=b.next())C=g(A,x,T,C.value,I),C!==null&&(t&&C.alternate!==null&&A.delete(C.key===null?T:C.key),y=i(C,y,T),O===null?D=C:O.sibling=C,O=C);return t&&A.forEach(function(k){return e(x,k)}),Dt&&xa(x,T),D}function _(x,y,b,I){if(typeof b=="object"&&b!==null&&b.type===Fl&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Hf:e:{for(var D=b.key,O=y;O!==null;){if(O.key===D){if(D=b.type,D===Fl){if(O.tag===7){n(x,O.sibling),y=s(O,b.props.children),y.return=x,x=y;break e}}else if(O.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===eo&&KS(D)===O.type){n(x,O.sibling),y=s(O,b.props),y.ref=Fu(x,O,b),y.return=x,x=y;break e}n(x,O);break}else e(x,O);O=O.sibling}b.type===Fl?(y=Ka(b.props.children,x.mode,I,b.key),y.return=x,x=y):(I=zp(b.type,b.key,b.props,null,x.mode,I),I.ref=Fu(x,y,b),I.return=x,x=I)}return o(x);case Vl:e:{for(O=b.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(x,y.sibling),y=s(y,b.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else e(x,y);y=y.sibling}y=Bv(b,x.mode,I),y.return=x,x=y}return o(x);case eo:return O=b._init,_(x,y,O(b._payload),I)}if(ed(b))return w(x,y,b,I);if(Mu(b))return v(x,y,b,I);rp(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(x,y.sibling),y=s(y,b),y.return=x,x=y):(n(x,y),y=Uv(b,x.mode,I),y.return=x,x=y),o(x)):n(x,y)}return _}var jc=nN(!0),rN=nN(!1),Sm=Jo(null),Im=null,ql=null,R_=null;function P_(){R_=ql=Im=null}function N_(t){var e=Sm.current;Pt(Sm),t._currentValue=e}function y0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function lc(t,e){Im=t,R_=ql=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(cr=!0),t.firstContext=null)}function Jr(t){var e=t._currentValue;if(R_!==t)if(t={context:t,memoizedValue:e,next:null},ql===null){if(Im===null)throw Error(X(308));ql=t,Im.dependencies={lanes:0,firstContext:t}}else ql=ql.next=t;return e}var Aa=null;function D_(t){Aa===null?Aa=[t]:Aa.push(t)}function sN(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,D_(e)):(n.next=s.next,s.next=n),e.interleaved=n,Si(t,r)}function Si(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var to=!1;function k_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ro(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,at&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Si(t,n)}return s=r.interleaved,s===null?(e.next=e,D_(r)):(e.next=s.next,s.next=e),r.interleaved=e,Si(t,n)}function Lp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,v_(t,n)}}function WS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Am(t,e,n,r){var s=t.updateQueue;to=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,v=a;switch(p=e,g=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){d=w.call(g,d,p);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,p=typeof w=="function"?w.call(g,d,p):w,p==null)break e;d=Ut({},d,p);break e;case 2:to=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=g,l=d):u=u.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Xa|=o,t.lanes=o,t.memoizedState=d}}function HS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(X(191,s));s.call(r)}}}var $h={},Fs=Jo($h),Yd=Jo($h),Xd=Jo($h);function Ca(t){if(t===$h)throw Error(X(174));return t}function M_(t,e){switch(bt(Xd,e),bt(Yd,t),bt(Fs,$h),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xw(e,t)}Pt(Fs),bt(Fs,e)}function Lc(){Pt(Fs),Pt(Yd),Pt(Xd)}function oN(t){Ca(Xd.current);var e=Ca(Fs.current),n=Xw(e,t.type);e!==n&&(bt(Yd,t),bt(Fs,n))}function O_(t){Yd.current===t&&(Pt(Fs),Pt(Yd))}var jt=Jo(0);function Cm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mv=[];function j_(){for(var t=0;t<Mv.length;t++)Mv[t]._workInProgressVersionPrimary=null;Mv.length=0}var Vp=Oi.ReactCurrentDispatcher,Ov=Oi.ReactCurrentBatchConfig,Ya=0,Ft=null,ln=null,mn=null,Rm=!1,vd=!1,Jd=0,i5=0;function Nn(){throw Error(X(321))}function L_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!vs(t[n],e[n]))return!1;return!0}function V_(t,e,n,r,s,i){if(Ya=i,Ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vp.current=t===null||t.memoizedState===null?c5:u5,t=n(r,s),vd){i=0;do{if(vd=!1,Jd=0,25<=i)throw Error(X(301));i+=1,mn=ln=null,e.updateQueue=null,Vp.current=d5,t=n(r,s)}while(vd)}if(Vp.current=Pm,e=ln!==null&&ln.next!==null,Ya=0,mn=ln=Ft=null,Rm=!1,e)throw Error(X(300));return t}function F_(){var t=Jd!==0;return Jd=0,t}function Cs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?Ft.memoizedState=mn=t:mn=mn.next=t,mn}function Zr(){if(ln===null){var t=Ft.alternate;t=t!==null?t.memoizedState:null}else t=ln.next;var e=mn===null?Ft.memoizedState:mn.next;if(e!==null)mn=e,ln=t;else{if(t===null)throw Error(X(310));ln=t,t={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},mn===null?Ft.memoizedState=mn=t:mn=mn.next=t}return mn}function Zd(t,e){return typeof e=="function"?e(t):e}function jv(t){var e=Zr(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=ln,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Ya&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Ft.lanes|=u,Xa|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,vs(r,e.memoizedState)||(cr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ft.lanes|=i,Xa|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Lv(t){var e=Zr(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);vs(i,e.memoizedState)||(cr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function aN(){}function lN(t,e){var n=Ft,r=Zr(),s=e(),i=!vs(r.memoizedState,s);if(i&&(r.memoizedState=s,cr=!0),r=r.queue,U_(dN.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||mn!==null&&mn.memoizedState.tag&1){if(n.flags|=2048,eh(9,uN.bind(null,n,r,s,e),void 0,null),gn===null)throw Error(X(349));Ya&30||cN(n,e,s)}return s}function cN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ft.updateQueue,e===null?(e={lastEffect:null,stores:null},Ft.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function uN(t,e,n,r){e.value=n,e.getSnapshot=r,hN(e)&&fN(t)}function dN(t,e,n){return n(function(){hN(e)&&fN(t)})}function hN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!vs(t,n)}catch{return!0}}function fN(t){var e=Si(t,1);e!==null&&gs(e,t,1,-1)}function qS(t){var e=Cs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zd,lastRenderedState:t},e.queue=t,t=t.dispatch=l5.bind(null,Ft,t),[e.memoizedState,t]}function eh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ft.updateQueue,e===null?(e={lastEffect:null,stores:null},Ft.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function pN(){return Zr().memoizedState}function Fp(t,e,n,r){var s=Cs();Ft.flags|=t,s.memoizedState=eh(1|e,n,void 0,r===void 0?null:r)}function Mg(t,e,n,r){var s=Zr();r=r===void 0?null:r;var i=void 0;if(ln!==null){var o=ln.memoizedState;if(i=o.destroy,r!==null&&L_(r,o.deps)){s.memoizedState=eh(e,n,i,r);return}}Ft.flags|=t,s.memoizedState=eh(1|e,n,i,r)}function GS(t,e){return Fp(8390656,8,t,e)}function U_(t,e){return Mg(2048,8,t,e)}function mN(t,e){return Mg(4,2,t,e)}function gN(t,e){return Mg(4,4,t,e)}function yN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vN(t,e,n){return n=n!=null?n.concat([t]):null,Mg(4,4,yN.bind(null,e,t),n)}function B_(){}function wN(t,e){var n=Zr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&L_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function xN(t,e){var n=Zr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&L_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function _N(t,e,n){return Ya&21?(vs(n,e)||(n=IP(),Ft.lanes|=n,Xa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,cr=!0),t.memoizedState=n)}function o5(t,e){var n=ft;ft=n!==0&&4>n?n:4,t(!0);var r=Ov.transition;Ov.transition={};try{t(!1),e()}finally{ft=n,Ov.transition=r}}function EN(){return Zr().memoizedState}function a5(t,e,n){var r=No(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},TN(t))bN(e,n);else if(n=sN(t,e,n,r),n!==null){var s=Zn();gs(n,t,r,s),SN(n,e,r)}}function l5(t,e,n){var r=No(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(TN(t))bN(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,vs(a,o)){var l=e.interleaved;l===null?(s.next=s,D_(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=sN(t,e,s,r),n!==null&&(s=Zn(),gs(n,t,r,s),SN(n,e,r))}}function TN(t){var e=t.alternate;return t===Ft||e!==null&&e===Ft}function bN(t,e){vd=Rm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function SN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,v_(t,n)}}var Pm={readContext:Jr,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useInsertionEffect:Nn,useLayoutEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useDeferredValue:Nn,useTransition:Nn,useMutableSource:Nn,useSyncExternalStore:Nn,useId:Nn,unstable_isNewReconciler:!1},c5={readContext:Jr,useCallback:function(t,e){return Cs().memoizedState=[t,e===void 0?null:e],t},useContext:Jr,useEffect:GS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Fp(4194308,4,yN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Fp(4,2,t,e)},useMemo:function(t,e){var n=Cs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Cs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=a5.bind(null,Ft,t),[r.memoizedState,t]},useRef:function(t){var e=Cs();return t={current:t},e.memoizedState=t},useState:qS,useDebugValue:B_,useDeferredValue:function(t){return Cs().memoizedState=t},useTransition:function(){var t=qS(!1),e=t[0];return t=o5.bind(null,t[1]),Cs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ft,s=Cs();if(Dt){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),gn===null)throw Error(X(349));Ya&30||cN(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,GS(dN.bind(null,r,i,t),[t]),r.flags|=2048,eh(9,uN.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Cs(),e=gn.identifierPrefix;if(Dt){var n=ii,r=si;n=(r&~(1<<32-ms(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Jd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=i5++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},u5={readContext:Jr,useCallback:wN,useContext:Jr,useEffect:U_,useImperativeHandle:vN,useInsertionEffect:mN,useLayoutEffect:gN,useMemo:xN,useReducer:jv,useRef:pN,useState:function(){return jv(Zd)},useDebugValue:B_,useDeferredValue:function(t){var e=Zr();return _N(e,ln.memoizedState,t)},useTransition:function(){var t=jv(Zd)[0],e=Zr().memoizedState;return[t,e]},useMutableSource:aN,useSyncExternalStore:lN,useId:EN,unstable_isNewReconciler:!1},d5={readContext:Jr,useCallback:wN,useContext:Jr,useEffect:U_,useImperativeHandle:vN,useInsertionEffect:mN,useLayoutEffect:gN,useMemo:xN,useReducer:Lv,useRef:pN,useState:function(){return Lv(Zd)},useDebugValue:B_,useDeferredValue:function(t){var e=Zr();return ln===null?e.memoizedState=t:_N(e,ln.memoizedState,t)},useTransition:function(){var t=Lv(Zd)[0],e=Zr().memoizedState;return[t,e]},useMutableSource:aN,useSyncExternalStore:lN,useId:EN,unstable_isNewReconciler:!1};function os(t,e){if(t&&t.defaultProps){e=Ut({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function v0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ut({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Og={isMounted:function(t){return(t=t._reactInternals)?hl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Zn(),s=No(t),i=fi(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ro(t,i,s),e!==null&&(gs(e,t,s,r),Lp(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Zn(),s=No(t),i=fi(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ro(t,i,s),e!==null&&(gs(e,t,s,r),Lp(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zn(),r=No(t),s=fi(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ro(t,s,r),e!==null&&(gs(e,t,r,n),Lp(e,t,r))}};function QS(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Hd(n,r)||!Hd(s,i):!0}function IN(t,e,n){var r=!1,s=Vo,i=e.contextType;return typeof i=="object"&&i!==null?i=Jr(i):(s=dr(e)?Ga:Bn.current,r=e.contextTypes,i=(r=r!=null)?Mc(t,s):Vo),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Og,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function YS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Og.enqueueReplaceState(e,e.state,null)}function w0(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},k_(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Jr(i):(i=dr(e)?Ga:Bn.current,s.context=Mc(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(v0(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Og.enqueueReplaceState(s,s.state,null),Am(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Vc(t,e){try{var n="",r=e;do n+=FB(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Vv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function x0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var h5=typeof WeakMap=="function"?WeakMap:Map;function AN(t,e,n){n=fi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Dm||(Dm=!0,P0=r),x0(t,e)},n}function CN(t,e,n){n=fi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){x0(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){x0(t,e),typeof r!="function"&&(Po===null?Po=new Set([this]):Po.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function XS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new h5;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=I5.bind(null,t,e,n),e.then(t,t))}function JS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ZS(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=fi(-1,1),e.tag=2,Ro(n,e,1))),n.lanes|=1),t)}var f5=Oi.ReactCurrentOwner,cr=!1;function Xn(t,e,n,r){e.child=t===null?rN(e,null,n,r):jc(e,t.child,n,r)}function eI(t,e,n,r,s){n=n.render;var i=e.ref;return lc(e,s),r=V_(t,e,n,r,i,s),n=F_(),t!==null&&!cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ii(t,e,s)):(Dt&&n&&I_(e),e.flags|=1,Xn(t,e,r,s),e.child)}function tI(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Q_(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,RN(t,e,i,r,s)):(t=zp(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Hd,n(o,r)&&t.ref===e.ref)return Ii(t,e,s)}return e.flags|=1,t=Do(i,r),t.ref=e.ref,t.return=e,e.child=t}function RN(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Hd(i,r)&&t.ref===e.ref)if(cr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(cr=!0);else return e.lanes=t.lanes,Ii(t,e,s)}return _0(t,e,n,r,s)}function PN(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(Ql,xr),xr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,bt(Ql,xr),xr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,bt(Ql,xr),xr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,bt(Ql,xr),xr|=r;return Xn(t,e,s,n),e.child}function NN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function _0(t,e,n,r,s){var i=dr(n)?Ga:Bn.current;return i=Mc(e,i),lc(e,s),n=V_(t,e,n,r,i,s),r=F_(),t!==null&&!cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ii(t,e,s)):(Dt&&r&&I_(e),e.flags|=1,Xn(t,e,n,s),e.child)}function nI(t,e,n,r,s){if(dr(n)){var i=!0;Em(e)}else i=!1;if(lc(e,s),e.stateNode===null)Up(t,e),IN(e,n,r),w0(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Jr(c):(c=dr(n)?Ga:Bn.current,c=Mc(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&YS(e,o,r,c),to=!1;var p=e.memoizedState;o.state=p,Am(e,r,o,s),l=e.memoizedState,a!==r||p!==l||ur.current||to?(typeof u=="function"&&(v0(e,n,u,r),l=e.memoizedState),(a=to||QS(e,n,a,r,p,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,iN(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:os(e.type,a),o.props=c,d=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Jr(l):(l=dr(n)?Ga:Bn.current,l=Mc(e,l));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&YS(e,o,r,l),to=!1,p=e.memoizedState,o.state=p,Am(e,r,o,s);var w=e.memoizedState;a!==d||p!==w||ur.current||to?(typeof g=="function"&&(v0(e,n,g,r),w=e.memoizedState),(c=to||QS(e,n,c,r,p,w,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return E0(t,e,n,r,i,s)}function E0(t,e,n,r,s,i){NN(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&BS(e,n,!1),Ii(t,e,i);r=e.stateNode,f5.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=jc(e,t.child,null,i),e.child=jc(e,null,a,i)):Xn(t,e,a,i),e.memoizedState=r.state,s&&BS(e,n,!0),e.child}function DN(t){var e=t.stateNode;e.pendingContext?US(t,e.pendingContext,e.pendingContext!==e.context):e.context&&US(t,e.context,!1),M_(t,e.containerInfo)}function rI(t,e,n,r,s){return Oc(),C_(s),e.flags|=256,Xn(t,e,n,r),e.child}var T0={dehydrated:null,treeContext:null,retryLane:0};function b0(t){return{baseLanes:t,cachePool:null,transitions:null}}function kN(t,e,n){var r=e.pendingProps,s=jt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),bt(jt,s&1),t===null)return g0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Vg(o,r,0,null),t=Ka(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=b0(n),e.memoizedState=T0,t):$_(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return p5(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Do(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Do(a,i):(i=Ka(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?b0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=T0,r}return i=t.child,t=i.sibling,r=Do(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function $_(t,e){return e=Vg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function sp(t,e,n,r){return r!==null&&C_(r),jc(e,t.child,null,n),t=$_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function p5(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Vv(Error(X(422))),sp(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Vg({mode:"visible",children:r.children},s,0,null),i=Ka(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&jc(e,t.child,null,o),e.child.memoizedState=b0(o),e.memoizedState=T0,i);if(!(e.mode&1))return sp(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(X(419)),r=Vv(i,r,void 0),sp(t,e,o,r)}if(a=(o&t.childLanes)!==0,cr||a){if(r=gn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Si(t,s),gs(r,t,s,-1))}return G_(),r=Vv(Error(X(421))),sp(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=A5.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Tr=Co(s.nextSibling),Ir=e,Dt=!0,us=null,t!==null&&(zr[Kr++]=si,zr[Kr++]=ii,zr[Kr++]=Qa,si=t.id,ii=t.overflow,Qa=e),e=$_(e,r.children),e.flags|=4096,e)}function sI(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),y0(t.return,e,n)}function Fv(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function MN(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Xn(t,e,r.children,n),r=jt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sI(t,n,e);else if(t.tag===19)sI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(bt(jt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Cm(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Fv(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Cm(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Fv(e,!0,n,null,i);break;case"together":Fv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Up(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ii(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Xa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=Do(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Do(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function m5(t,e,n){switch(e.tag){case 3:DN(e),Oc();break;case 5:oN(e);break;case 1:dr(e.type)&&Em(e);break;case 4:M_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;bt(Sm,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(bt(jt,jt.current&1),e.flags|=128,null):n&e.child.childLanes?kN(t,e,n):(bt(jt,jt.current&1),t=Ii(t,e,n),t!==null?t.sibling:null);bt(jt,jt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return MN(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),bt(jt,jt.current),r)break;return null;case 22:case 23:return e.lanes=0,PN(t,e,n)}return Ii(t,e,n)}var ON,S0,jN,LN;ON=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};S0=function(){};jN=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ca(Fs.current);var i=null;switch(n){case"input":s=qw(t,s),r=qw(t,r),i=[];break;case"select":s=Ut({},s,{value:void 0}),r=Ut({},r,{value:void 0}),i=[];break;case"textarea":s=Yw(t,s),r=Yw(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xm)}Jw(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Fd.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Fd.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Rt("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};LN=function(t,e,n,r){n!==r&&(e.flags|=4)};function Uu(t,e){if(!Dt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Dn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function g5(t,e,n){var r=e.pendingProps;switch(A_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dn(e),null;case 1:return dr(e.type)&&_m(),Dn(e),null;case 3:return r=e.stateNode,Lc(),Pt(ur),Pt(Bn),j_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(np(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,us!==null&&(k0(us),us=null))),S0(t,e),Dn(e),null;case 5:O_(e);var s=Ca(Xd.current);if(n=e.type,t!==null&&e.stateNode!=null)jN(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(X(166));return Dn(e),null}if(t=Ca(Fs.current),np(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ks]=e,r[Qd]=i,t=(e.mode&1)!==0,n){case"dialog":Rt("cancel",r),Rt("close",r);break;case"iframe":case"object":case"embed":Rt("load",r);break;case"video":case"audio":for(s=0;s<nd.length;s++)Rt(nd[s],r);break;case"source":Rt("error",r);break;case"img":case"image":case"link":Rt("error",r),Rt("load",r);break;case"details":Rt("toggle",r);break;case"input":fS(r,i),Rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Rt("invalid",r);break;case"textarea":mS(r,i),Rt("invalid",r)}Jw(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&tp(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&tp(r.textContent,a,t),s=["children",""+a]):Fd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Rt("scroll",r)}switch(n){case"input":qf(r),pS(r,i,!0);break;case"textarea":qf(r),gS(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=xm)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=dP(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ks]=e,t[Qd]=r,ON(t,e,!1,!1),e.stateNode=t;e:{switch(o=Zw(n,r),n){case"dialog":Rt("cancel",t),Rt("close",t),s=r;break;case"iframe":case"object":case"embed":Rt("load",t),s=r;break;case"video":case"audio":for(s=0;s<nd.length;s++)Rt(nd[s],t);s=r;break;case"source":Rt("error",t),s=r;break;case"img":case"image":case"link":Rt("error",t),Rt("load",t),s=r;break;case"details":Rt("toggle",t),s=r;break;case"input":fS(t,r),s=qw(t,r),Rt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ut({},r,{value:void 0}),Rt("invalid",t);break;case"textarea":mS(t,r),s=Yw(t,r),Rt("invalid",t);break;default:s=r}Jw(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?pP(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&hP(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ud(t,l):typeof l=="number"&&Ud(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Fd.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Rt("scroll",t):l!=null&&h_(t,i,l,o))}switch(n){case"input":qf(t),pS(t,r,!1);break;case"textarea":qf(t),gS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Lo(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?sc(t,!!r.multiple,i,!1):r.defaultValue!=null&&sc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=xm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Dn(e),null;case 6:if(t&&e.stateNode!=null)LN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(n=Ca(Xd.current),Ca(Fs.current),np(e)){if(r=e.stateNode,n=e.memoizedProps,r[ks]=e,(i=r.nodeValue!==n)&&(t=Ir,t!==null))switch(t.tag){case 3:tp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&tp(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ks]=e,e.stateNode=r}return Dn(e),null;case 13:if(Pt(jt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Dt&&Tr!==null&&e.mode&1&&!(e.flags&128))tN(),Oc(),e.flags|=98560,i=!1;else if(i=np(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(X(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(X(317));i[ks]=e}else Oc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Dn(e),i=!1}else us!==null&&(k0(us),us=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||jt.current&1?dn===0&&(dn=3):G_())),e.updateQueue!==null&&(e.flags|=4),Dn(e),null);case 4:return Lc(),S0(t,e),t===null&&qd(e.stateNode.containerInfo),Dn(e),null;case 10:return N_(e.type._context),Dn(e),null;case 17:return dr(e.type)&&_m(),Dn(e),null;case 19:if(Pt(jt),i=e.memoizedState,i===null)return Dn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Uu(i,!1);else{if(dn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Cm(t),o!==null){for(e.flags|=128,Uu(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return bt(jt,jt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Xt()>Fc&&(e.flags|=128,r=!0,Uu(i,!1),e.lanes=4194304)}else{if(!r)if(t=Cm(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Uu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Dt)return Dn(e),null}else 2*Xt()-i.renderingStartTime>Fc&&n!==1073741824&&(e.flags|=128,r=!0,Uu(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Xt(),e.sibling=null,n=jt.current,bt(jt,r?n&1|2:n&1),e):(Dn(e),null);case 22:case 23:return q_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?xr&1073741824&&(Dn(e),e.subtreeFlags&6&&(e.flags|=8192)):Dn(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function y5(t,e){switch(A_(e),e.tag){case 1:return dr(e.type)&&_m(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Lc(),Pt(ur),Pt(Bn),j_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return O_(e),null;case 13:if(Pt(jt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));Oc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pt(jt),null;case 4:return Lc(),null;case 10:return N_(e.type._context),null;case 22:case 23:return q_(),null;case 24:return null;default:return null}}var ip=!1,Ln=!1,v5=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Gl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Wt(t,e,r)}else n.current=null}function I0(t,e,n){try{n()}catch(r){Wt(t,e,r)}}var iI=!1;function w5(t,e){if(c0=ym,t=$P(),S_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,p=null;t:for(;;){for(var g;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)p=d,d=g;for(;;){if(d===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++u===r&&(l=o),(g=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(u0={focusedElem:t,selectionRange:n},ym=!1,fe=e;fe!==null;)if(e=fe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,fe=t;else for(;fe!==null;){e=fe;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,_=w.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:os(e.type,v),_);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(I){Wt(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,fe=t;break}fe=e.return}return w=iI,iI=!1,w}function wd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&I0(e,n,i)}s=s.next}while(s!==r)}}function jg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function A0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function VN(t){var e=t.alternate;e!==null&&(t.alternate=null,VN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ks],delete e[Qd],delete e[f0],delete e[t5],delete e[n5])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function FN(t){return t.tag===5||t.tag===3||t.tag===4}function oI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||FN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function C0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xm));else if(r!==4&&(t=t.child,t!==null))for(C0(t,e,n),t=t.sibling;t!==null;)C0(t,e,n),t=t.sibling}function R0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(R0(t,e,n),t=t.sibling;t!==null;)R0(t,e,n),t=t.sibling}var wn=null,ls=!1;function Hi(t,e,n){for(n=n.child;n!==null;)UN(t,e,n),n=n.sibling}function UN(t,e,n){if(Vs&&typeof Vs.onCommitFiberUnmount=="function")try{Vs.onCommitFiberUnmount(Cg,n)}catch{}switch(n.tag){case 5:Ln||Gl(n,e);case 6:var r=wn,s=ls;wn=null,Hi(t,e,n),wn=r,ls=s,wn!==null&&(ls?(t=wn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):wn.removeChild(n.stateNode));break;case 18:wn!==null&&(ls?(t=wn,n=n.stateNode,t.nodeType===8?Dv(t.parentNode,n):t.nodeType===1&&Dv(t,n),Kd(t)):Dv(wn,n.stateNode));break;case 4:r=wn,s=ls,wn=n.stateNode.containerInfo,ls=!0,Hi(t,e,n),wn=r,ls=s;break;case 0:case 11:case 14:case 15:if(!Ln&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&I0(n,e,o),s=s.next}while(s!==r)}Hi(t,e,n);break;case 1:if(!Ln&&(Gl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Wt(n,e,a)}Hi(t,e,n);break;case 21:Hi(t,e,n);break;case 22:n.mode&1?(Ln=(r=Ln)||n.memoizedState!==null,Hi(t,e,n),Ln=r):Hi(t,e,n);break;default:Hi(t,e,n)}}function aI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new v5),e.forEach(function(r){var s=C5.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ss(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:wn=a.stateNode,ls=!1;break e;case 3:wn=a.stateNode.containerInfo,ls=!0;break e;case 4:wn=a.stateNode.containerInfo,ls=!0;break e}a=a.return}if(wn===null)throw Error(X(160));UN(i,o,s),wn=null,ls=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Wt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)BN(e,t),e=e.sibling}function BN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ss(e,t),As(t),r&4){try{wd(3,t,t.return),jg(3,t)}catch(v){Wt(t,t.return,v)}try{wd(5,t,t.return)}catch(v){Wt(t,t.return,v)}}break;case 1:ss(e,t),As(t),r&512&&n!==null&&Gl(n,n.return);break;case 5:if(ss(e,t),As(t),r&512&&n!==null&&Gl(n,n.return),t.flags&32){var s=t.stateNode;try{Ud(s,"")}catch(v){Wt(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&cP(s,i),Zw(a,o);var c=Zw(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?pP(s,d):u==="dangerouslySetInnerHTML"?hP(s,d):u==="children"?Ud(s,d):h_(s,u,d,c)}switch(a){case"input":Gw(s,i);break;case"textarea":uP(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?sc(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?sc(s,!!i.multiple,i.defaultValue,!0):sc(s,!!i.multiple,i.multiple?[]:"",!1))}s[Qd]=i}catch(v){Wt(t,t.return,v)}}break;case 6:if(ss(e,t),As(t),r&4){if(t.stateNode===null)throw Error(X(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){Wt(t,t.return,v)}}break;case 3:if(ss(e,t),As(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Kd(e.containerInfo)}catch(v){Wt(t,t.return,v)}break;case 4:ss(e,t),As(t);break;case 13:ss(e,t),As(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(W_=Xt())),r&4&&aI(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ln=(c=Ln)||u,ss(e,t),Ln=c):ss(e,t),As(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(fe=t,u=t.child;u!==null;){for(d=fe=u;fe!==null;){switch(p=fe,g=p.child,p.tag){case 0:case 11:case 14:case 15:wd(4,p,p.return);break;case 1:Gl(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(v){Wt(r,n,v)}}break;case 5:Gl(p,p.return);break;case 22:if(p.memoizedState!==null){cI(d);continue}}g!==null?(g.return=p,fe=g):cI(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=fP("display",o))}catch(v){Wt(t,t.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){Wt(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ss(e,t),As(t),r&4&&aI(t);break;case 21:break;default:ss(e,t),As(t)}}function As(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(FN(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ud(s,""),r.flags&=-33);var i=oI(t);R0(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=oI(t);C0(t,a,o);break;default:throw Error(X(161))}}catch(l){Wt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function x5(t,e,n){fe=t,$N(t)}function $N(t,e,n){for(var r=(t.mode&1)!==0;fe!==null;){var s=fe,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ip;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ln;a=ip;var c=Ln;if(ip=o,(Ln=l)&&!c)for(fe=s;fe!==null;)o=fe,l=o.child,o.tag===22&&o.memoizedState!==null?uI(s):l!==null?(l.return=o,fe=l):uI(s);for(;i!==null;)fe=i,$N(i),i=i.sibling;fe=s,ip=a,Ln=c}lI(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,fe=i):lI(t)}}function lI(t){for(;fe!==null;){var e=fe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ln||jg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ln)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:os(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&HS(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}HS(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Kd(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}Ln||e.flags&512&&A0(e)}catch(p){Wt(e,e.return,p)}}if(e===t){fe=null;break}if(n=e.sibling,n!==null){n.return=e.return,fe=n;break}fe=e.return}}function cI(t){for(;fe!==null;){var e=fe;if(e===t){fe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,fe=n;break}fe=e.return}}function uI(t){for(;fe!==null;){var e=fe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{jg(4,e)}catch(l){Wt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Wt(e,s,l)}}var i=e.return;try{A0(e)}catch(l){Wt(e,i,l)}break;case 5:var o=e.return;try{A0(e)}catch(l){Wt(e,o,l)}}}catch(l){Wt(e,e.return,l)}if(e===t){fe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,fe=a;break}fe=e.return}}var _5=Math.ceil,Nm=Oi.ReactCurrentDispatcher,z_=Oi.ReactCurrentOwner,qr=Oi.ReactCurrentBatchConfig,at=0,gn=null,sn=null,Tn=0,xr=0,Ql=Jo(0),dn=0,th=null,Xa=0,Lg=0,K_=0,xd=null,lr=null,W_=0,Fc=1/0,ti=null,Dm=!1,P0=null,Po=null,op=!1,_o=null,km=0,_d=0,N0=null,Bp=-1,$p=0;function Zn(){return at&6?Xt():Bp!==-1?Bp:Bp=Xt()}function No(t){return t.mode&1?at&2&&Tn!==0?Tn&-Tn:s5.transition!==null?($p===0&&($p=IP()),$p):(t=ft,t!==0||(t=window.event,t=t===void 0?16:kP(t.type)),t):1}function gs(t,e,n,r){if(50<_d)throw _d=0,N0=null,Error(X(185));Fh(t,n,r),(!(at&2)||t!==gn)&&(t===gn&&(!(at&2)&&(Lg|=n),dn===4&&ro(t,Tn)),hr(t,r),n===1&&at===0&&!(e.mode&1)&&(Fc=Xt()+500,kg&&Zo()))}function hr(t,e){var n=t.callbackNode;s$(t,e);var r=gm(t,t===gn?Tn:0);if(r===0)n!==null&&wS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&wS(n),e===1)t.tag===0?r5(dI.bind(null,t)):JP(dI.bind(null,t)),Z$(function(){!(at&6)&&Zo()}),n=null;else{switch(AP(r)){case 1:n=y_;break;case 4:n=bP;break;case 16:n=mm;break;case 536870912:n=SP;break;default:n=mm}n=YN(n,zN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function zN(t,e){if(Bp=-1,$p=0,at&6)throw Error(X(327));var n=t.callbackNode;if(cc()&&t.callbackNode!==n)return null;var r=gm(t,t===gn?Tn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Mm(t,r);else{e=r;var s=at;at|=2;var i=WN();(gn!==t||Tn!==e)&&(ti=null,Fc=Xt()+500,za(t,e));do try{b5();break}catch(a){KN(t,a)}while(!0);P_(),Nm.current=i,at=s,sn!==null?e=0:(gn=null,Tn=0,e=dn)}if(e!==0){if(e===2&&(s=s0(t),s!==0&&(r=s,e=D0(t,s))),e===1)throw n=th,za(t,0),ro(t,r),hr(t,Xt()),n;if(e===6)ro(t,r);else{if(s=t.current.alternate,!(r&30)&&!E5(s)&&(e=Mm(t,r),e===2&&(i=s0(t),i!==0&&(r=i,e=D0(t,i))),e===1))throw n=th,za(t,0),ro(t,r),hr(t,Xt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(X(345));case 2:_a(t,lr,ti);break;case 3:if(ro(t,r),(r&130023424)===r&&(e=W_+500-Xt(),10<e)){if(gm(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Zn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=h0(_a.bind(null,t,lr,ti),e);break}_a(t,lr,ti);break;case 4:if(ro(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-ms(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Xt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_5(r/1960))-r,10<r){t.timeoutHandle=h0(_a.bind(null,t,lr,ti),r);break}_a(t,lr,ti);break;case 5:_a(t,lr,ti);break;default:throw Error(X(329))}}}return hr(t,Xt()),t.callbackNode===n?zN.bind(null,t):null}function D0(t,e){var n=xd;return t.current.memoizedState.isDehydrated&&(za(t,e).flags|=256),t=Mm(t,e),t!==2&&(e=lr,lr=n,e!==null&&k0(e)),t}function k0(t){lr===null?lr=t:lr.push.apply(lr,t)}function E5(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!vs(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ro(t,e){for(e&=~K_,e&=~Lg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ms(e),r=1<<n;t[n]=-1,e&=~r}}function dI(t){if(at&6)throw Error(X(327));cc();var e=gm(t,0);if(!(e&1))return hr(t,Xt()),null;var n=Mm(t,e);if(t.tag!==0&&n===2){var r=s0(t);r!==0&&(e=r,n=D0(t,r))}if(n===1)throw n=th,za(t,0),ro(t,e),hr(t,Xt()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_a(t,lr,ti),hr(t,Xt()),null}function H_(t,e){var n=at;at|=1;try{return t(e)}finally{at=n,at===0&&(Fc=Xt()+500,kg&&Zo())}}function Ja(t){_o!==null&&_o.tag===0&&!(at&6)&&cc();var e=at;at|=1;var n=qr.transition,r=ft;try{if(qr.transition=null,ft=1,t)return t()}finally{ft=r,qr.transition=n,at=e,!(at&6)&&Zo()}}function q_(){xr=Ql.current,Pt(Ql)}function za(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,J$(n)),sn!==null)for(n=sn.return;n!==null;){var r=n;switch(A_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_m();break;case 3:Lc(),Pt(ur),Pt(Bn),j_();break;case 5:O_(r);break;case 4:Lc();break;case 13:Pt(jt);break;case 19:Pt(jt);break;case 10:N_(r.type._context);break;case 22:case 23:q_()}n=n.return}if(gn=t,sn=t=Do(t.current,null),Tn=xr=e,dn=0,th=null,K_=Lg=Xa=0,lr=xd=null,Aa!==null){for(e=0;e<Aa.length;e++)if(n=Aa[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Aa=null}return t}function KN(t,e){do{var n=sn;try{if(P_(),Vp.current=Pm,Rm){for(var r=Ft.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Rm=!1}if(Ya=0,mn=ln=Ft=null,vd=!1,Jd=0,z_.current=null,n===null||n.return===null){dn=1,th=e,sn=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Tn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=JS(o);if(g!==null){g.flags&=-257,ZS(g,o,a,i,e),g.mode&1&&XS(i,c,e),e=g,l=c;var w=e.updateQueue;if(w===null){var v=new Set;v.add(l),e.updateQueue=v}else w.add(l);break e}else{if(!(e&1)){XS(i,c,e),G_();break e}l=Error(X(426))}}else if(Dt&&a.mode&1){var _=JS(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),ZS(_,o,a,i,e),C_(Vc(l,a));break e}}i=l=Vc(l,a),dn!==4&&(dn=2),xd===null?xd=[i]:xd.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=AN(i,l,e);WS(i,x);break e;case 1:a=l;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Po===null||!Po.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var I=CN(i,a,e);WS(i,I);break e}}i=i.return}while(i!==null)}qN(n)}catch(D){e=D,sn===n&&n!==null&&(sn=n=n.return);continue}break}while(!0)}function WN(){var t=Nm.current;return Nm.current=Pm,t===null?Pm:t}function G_(){(dn===0||dn===3||dn===2)&&(dn=4),gn===null||!(Xa&268435455)&&!(Lg&268435455)||ro(gn,Tn)}function Mm(t,e){var n=at;at|=2;var r=WN();(gn!==t||Tn!==e)&&(ti=null,za(t,e));do try{T5();break}catch(s){KN(t,s)}while(!0);if(P_(),at=n,Nm.current=r,sn!==null)throw Error(X(261));return gn=null,Tn=0,dn}function T5(){for(;sn!==null;)HN(sn)}function b5(){for(;sn!==null&&!QB();)HN(sn)}function HN(t){var e=QN(t.alternate,t,xr);t.memoizedProps=t.pendingProps,e===null?qN(t):sn=e,z_.current=null}function qN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=y5(n,e),n!==null){n.flags&=32767,sn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dn=6,sn=null;return}}else if(n=g5(n,e,xr),n!==null){sn=n;return}if(e=e.sibling,e!==null){sn=e;return}sn=e=t}while(e!==null);dn===0&&(dn=5)}function _a(t,e,n){var r=ft,s=qr.transition;try{qr.transition=null,ft=1,S5(t,e,n,r)}finally{qr.transition=s,ft=r}return null}function S5(t,e,n,r){do cc();while(_o!==null);if(at&6)throw Error(X(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(i$(t,i),t===gn&&(sn=gn=null,Tn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||op||(op=!0,YN(mm,function(){return cc(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=qr.transition,qr.transition=null;var o=ft;ft=1;var a=at;at|=4,z_.current=null,w5(t,n),BN(n,t),W$(u0),ym=!!c0,u0=c0=null,t.current=n,x5(n),YB(),at=a,ft=o,qr.transition=i}else t.current=n;if(op&&(op=!1,_o=t,km=s),i=t.pendingLanes,i===0&&(Po=null),ZB(n.stateNode),hr(t,Xt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Dm)throw Dm=!1,t=P0,P0=null,t;return km&1&&t.tag!==0&&cc(),i=t.pendingLanes,i&1?t===N0?_d++:(_d=0,N0=t):_d=0,Zo(),null}function cc(){if(_o!==null){var t=AP(km),e=qr.transition,n=ft;try{if(qr.transition=null,ft=16>t?16:t,_o===null)var r=!1;else{if(t=_o,_o=null,km=0,at&6)throw Error(X(331));var s=at;for(at|=4,fe=t.current;fe!==null;){var i=fe,o=i.child;if(fe.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(fe=c;fe!==null;){var u=fe;switch(u.tag){case 0:case 11:case 15:wd(8,u,i)}var d=u.child;if(d!==null)d.return=u,fe=d;else for(;fe!==null;){u=fe;var p=u.sibling,g=u.return;if(VN(u),u===c){fe=null;break}if(p!==null){p.return=g,fe=p;break}fe=g}}}var w=i.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}fe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,fe=o;else e:for(;fe!==null;){if(i=fe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:wd(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,fe=x;break e}fe=i.return}}var y=t.current;for(fe=y;fe!==null;){o=fe;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,fe=b;else e:for(o=y;fe!==null;){if(a=fe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:jg(9,a)}}catch(D){Wt(a,a.return,D)}if(a===o){fe=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,fe=I;break e}fe=a.return}}if(at=s,Zo(),Vs&&typeof Vs.onPostCommitFiberRoot=="function")try{Vs.onPostCommitFiberRoot(Cg,t)}catch{}r=!0}return r}finally{ft=n,qr.transition=e}}return!1}function hI(t,e,n){e=Vc(n,e),e=AN(t,e,1),t=Ro(t,e,1),e=Zn(),t!==null&&(Fh(t,1,e),hr(t,e))}function Wt(t,e,n){if(t.tag===3)hI(t,t,n);else for(;e!==null;){if(e.tag===3){hI(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Po===null||!Po.has(r))){t=Vc(n,t),t=CN(e,t,1),e=Ro(e,t,1),t=Zn(),e!==null&&(Fh(e,1,t),hr(e,t));break}}e=e.return}}function I5(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Zn(),t.pingedLanes|=t.suspendedLanes&n,gn===t&&(Tn&n)===n&&(dn===4||dn===3&&(Tn&130023424)===Tn&&500>Xt()-W_?za(t,0):K_|=n),hr(t,e)}function GN(t,e){e===0&&(t.mode&1?(e=Yf,Yf<<=1,!(Yf&130023424)&&(Yf=4194304)):e=1);var n=Zn();t=Si(t,e),t!==null&&(Fh(t,e,n),hr(t,n))}function A5(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),GN(t,n)}function C5(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(e),GN(t,n)}var QN;QN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ur.current)cr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return cr=!1,m5(t,e,n);cr=!!(t.flags&131072)}else cr=!1,Dt&&e.flags&1048576&&ZP(e,bm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Up(t,e),t=e.pendingProps;var s=Mc(e,Bn.current);lc(e,n),s=V_(null,e,r,t,s,n);var i=F_();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dr(r)?(i=!0,Em(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,k_(e),s.updater=Og,e.stateNode=s,s._reactInternals=e,w0(e,r,t,n),e=E0(null,e,r,!0,i,n)):(e.tag=0,Dt&&i&&I_(e),Xn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Up(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=P5(r),t=os(r,t),s){case 0:e=_0(null,e,r,t,n);break e;case 1:e=nI(null,e,r,t,n);break e;case 11:e=eI(null,e,r,t,n);break e;case 14:e=tI(null,e,r,os(r.type,t),n);break e}throw Error(X(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:os(r,s),_0(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:os(r,s),nI(t,e,r,s,n);case 3:e:{if(DN(e),t===null)throw Error(X(387));r=e.pendingProps,i=e.memoizedState,s=i.element,iN(t,e),Am(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Vc(Error(X(423)),e),e=rI(t,e,r,n,s);break e}else if(r!==s){s=Vc(Error(X(424)),e),e=rI(t,e,r,n,s);break e}else for(Tr=Co(e.stateNode.containerInfo.firstChild),Ir=e,Dt=!0,us=null,n=rN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Oc(),r===s){e=Ii(t,e,n);break e}Xn(t,e,r,n)}e=e.child}return e;case 5:return oN(e),t===null&&g0(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,d0(r,s)?o=null:i!==null&&d0(r,i)&&(e.flags|=32),NN(t,e),Xn(t,e,o,n),e.child;case 6:return t===null&&g0(e),null;case 13:return kN(t,e,n);case 4:return M_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=jc(e,null,r,n):Xn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:os(r,s),eI(t,e,r,s,n);case 7:return Xn(t,e,e.pendingProps,n),e.child;case 8:return Xn(t,e,e.pendingProps.children,n),e.child;case 12:return Xn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,bt(Sm,r._currentValue),r._currentValue=o,i!==null)if(vs(i.value,o)){if(i.children===s.children&&!ur.current){e=Ii(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=fi(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),y0(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(X(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),y0(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Xn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,lc(e,n),s=Jr(s),r=r(s),e.flags|=1,Xn(t,e,r,n),e.child;case 14:return r=e.type,s=os(r,e.pendingProps),s=os(r.type,s),tI(t,e,r,s,n);case 15:return RN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:os(r,s),Up(t,e),e.tag=1,dr(r)?(t=!0,Em(e)):t=!1,lc(e,n),IN(e,r,s),w0(e,r,s,n),E0(null,e,r,!0,t,n);case 19:return MN(t,e,n);case 22:return PN(t,e,n)}throw Error(X(156,e.tag))};function YN(t,e){return TP(t,e)}function R5(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(t,e,n,r){return new R5(t,e,n,r)}function Q_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function P5(t){if(typeof t=="function")return Q_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===p_)return 11;if(t===m_)return 14}return 2}function Do(t,e){var n=t.alternate;return n===null?(n=Hr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function zp(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Q_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Fl:return Ka(n.children,s,i,e);case f_:o=8,s|=8;break;case zw:return t=Hr(12,n,e,s|2),t.elementType=zw,t.lanes=i,t;case Kw:return t=Hr(13,n,e,s),t.elementType=Kw,t.lanes=i,t;case Ww:return t=Hr(19,n,e,s),t.elementType=Ww,t.lanes=i,t;case oP:return Vg(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sP:o=10;break e;case iP:o=9;break e;case p_:o=11;break e;case m_:o=14;break e;case eo:o=16,r=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=Hr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ka(t,e,n,r){return t=Hr(7,t,r,e),t.lanes=n,t}function Vg(t,e,n,r){return t=Hr(22,t,r,e),t.elementType=oP,t.lanes=n,t.stateNode={isHidden:!1},t}function Uv(t,e,n){return t=Hr(6,t,null,e),t.lanes=n,t}function Bv(t,e,n){return e=Hr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function N5(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_v(0),this.expirationTimes=_v(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_v(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Y_(t,e,n,r,s,i,o,a,l){return t=new N5(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Hr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},k_(i),t}function D5(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function XN(t){if(!t)return Vo;t=t._reactInternals;e:{if(hl(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(dr(n))return XP(t,n,e)}return e}function JN(t,e,n,r,s,i,o,a,l){return t=Y_(n,r,!0,t,s,i,o,a,l),t.context=XN(null),n=t.current,r=Zn(),s=No(n),i=fi(r,s),i.callback=e??null,Ro(n,i,s),t.current.lanes=s,Fh(t,s,r),hr(t,r),t}function Fg(t,e,n,r){var s=e.current,i=Zn(),o=No(s);return n=XN(n),e.context===null?e.context=n:e.pendingContext=n,e=fi(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ro(s,e,o),t!==null&&(gs(t,s,o,i),Lp(t,s,o)),o}function Om(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function X_(t,e){fI(t,e),(t=t.alternate)&&fI(t,e)}function k5(){return null}var ZN=typeof reportError=="function"?reportError:function(t){console.error(t)};function J_(t){this._internalRoot=t}Ug.prototype.render=J_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));Fg(t,e,null,null)};Ug.prototype.unmount=J_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ja(function(){Fg(null,t,null,null)}),e[bi]=null}};function Ug(t){this._internalRoot=t}Ug.prototype.unstable_scheduleHydration=function(t){if(t){var e=PP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<no.length&&e!==0&&e<no[n].priority;n++);no.splice(n,0,t),n===0&&DP(t)}};function Z_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pI(){}function M5(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Om(o);i.call(c)}}var o=JN(e,r,t,0,null,!1,!1,"",pI);return t._reactRootContainer=o,t[bi]=o.current,qd(t.nodeType===8?t.parentNode:t),Ja(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Om(l);a.call(c)}}var l=Y_(t,0,!1,null,null,!1,!1,"",pI);return t._reactRootContainer=l,t[bi]=l.current,qd(t.nodeType===8?t.parentNode:t),Ja(function(){Fg(e,l,n,r)}),l}function $g(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Om(o);a.call(l)}}Fg(e,o,t,s)}else o=M5(n,e,t,s,r);return Om(o)}CP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=td(e.pendingLanes);n!==0&&(v_(e,n|1),hr(e,Xt()),!(at&6)&&(Fc=Xt()+500,Zo()))}break;case 13:Ja(function(){var r=Si(t,1);if(r!==null){var s=Zn();gs(r,t,1,s)}}),X_(t,1)}};w_=function(t){if(t.tag===13){var e=Si(t,134217728);if(e!==null){var n=Zn();gs(e,t,134217728,n)}X_(t,134217728)}};RP=function(t){if(t.tag===13){var e=No(t),n=Si(t,e);if(n!==null){var r=Zn();gs(n,t,e,r)}X_(t,e)}};PP=function(){return ft};NP=function(t,e){var n=ft;try{return ft=t,e()}finally{ft=n}};t0=function(t,e,n){switch(e){case"input":if(Gw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Dg(r);if(!s)throw Error(X(90));lP(r),Gw(r,s)}}}break;case"textarea":uP(t,n);break;case"select":e=n.value,e!=null&&sc(t,!!n.multiple,e,!1)}};yP=H_;vP=Ja;var O5={usingClientEntryPoint:!1,Events:[Bh,zl,Dg,mP,gP,H_]},Bu={findFiberByHostInstance:Ia,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},j5={bundleType:Bu.bundleType,version:Bu.version,rendererPackageName:Bu.rendererPackageName,rendererConfig:Bu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_P(t),t===null?null:t.stateNode},findFiberByHostInstance:Bu.findFiberByHostInstance||k5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ap=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ap.isDisabled&&ap.supportsFiber)try{Cg=ap.inject(j5),Vs=ap}catch{}}Dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O5;Dr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Z_(e))throw Error(X(200));return D5(t,e,null,n)};Dr.createRoot=function(t,e){if(!Z_(t))throw Error(X(299));var n=!1,r="",s=ZN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Y_(t,1,!1,null,null,n,!1,r,s),t[bi]=e.current,qd(t.nodeType===8?t.parentNode:t),new J_(e)};Dr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=_P(e),t=t===null?null:t.stateNode,t};Dr.flushSync=function(t){return Ja(t)};Dr.hydrate=function(t,e,n){if(!Bg(e))throw Error(X(200));return $g(null,t,e,!0,n)};Dr.hydrateRoot=function(t,e,n){if(!Z_(t))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=ZN;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=JN(e,null,t,1,n??null,s,!1,i,o),t[bi]=e.current,qd(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Ug(e)};Dr.render=function(t,e,n){if(!Bg(e))throw Error(X(200));return $g(null,t,e,!1,n)};Dr.unmountComponentAtNode=function(t){if(!Bg(t))throw Error(X(40));return t._reactRootContainer?(Ja(function(){$g(null,null,t,!1,function(){t._reactRootContainer=null,t[bi]=null})}),!0):!1};Dr.unstable_batchedUpdates=H_;Dr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Bg(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return $g(t,e,n,!1,r)};Dr.version="18.3.1-next-f1338f8080-20240426";function eD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eD)}catch(t){console.error(t)}}eD(),eP.exports=Dr;var ji=eP.exports;const zh=i_(ji),L5=BR({__proto__:null,default:zh},[ji]);var mI=ji;Bw.createRoot=mI.createRoot,Bw.hydrateRoot=mI.hydrateRoot;var gI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},V5=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},nD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,d=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(n[u],n[d],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):V5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||d==null)throw new F5;const p=i<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),d!==64){const w=c<<6&192|d;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class F5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const U5=function(t){const e=tD(t);return nD.encodeByteArray(e,!0)},jm=function(t){return U5(t).replace(/\./g,"")},rD=function(t){try{return nD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5=()=>B5().__FIREBASE_DEFAULTS__,z5=()=>{if(typeof process>"u"||typeof gI>"u")return;const t=gI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},K5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rD(t[1]);return e&&JSON.parse(e)},zg=()=>{try{return $5()||z5()||K5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sD=t=>{var e,n;return(n=(e=zg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},iD=t=>{const e=sD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},oD=()=>{var t;return(t=zg())===null||t===void 0?void 0:t.config},aD=t=>{var e;return(e=zg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W5=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[jm(JSON.stringify(n)),jm(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function H5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($n())}function q5(){var t;const e=(t=zg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function G5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Q5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Y5(){const t=$n();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function X5(){return!q5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uD(){try{return typeof indexedDB=="object"}catch{return!1}}function dD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function J5(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5="FirebaseError";class Mr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Z5,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fl.prototype.create)}}class fl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?e3(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Mr(s,a,r)}}function e3(t,e){return t.replace(t3,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const t3=/\{\$([^}]+)}/g;function n3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function nh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(yI(i)&&yI(o)){if(!nh(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function yI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function r3(t,e){const n=new s3(t,e);return n.subscribe.bind(n)}class s3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");i3(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=$v),s.error===void 0&&(s.error=$v),s.complete===void 0&&(s.complete=$v);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function i3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $v(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=1e3,a3=2,l3=4*60*60*1e3,c3=.5;function vI(t,e=o3,n=a3){const r=e*Math.pow(n,t),s=Math.round(c3*r*(Math.random()-.5)*2);return Math.min(l3,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(t){return t&&t._delegate?t._delegate:t}class es{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u3=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new W5;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(h3(e))try{this.getOrInitializeService({instanceIdentifier:Ea})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ea){return this.instances.has(e)}getOptions(e=Ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:d3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ea){return this.component?this.component.multipleInstances?e:Ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function d3(t){return t===Ea?void 0:t}function h3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new u3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tt||(tt={}));const p3={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},m3=tt.INFO,g3={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},y3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=g3[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kg{constructor(e){this.name=e,this._logLevel=m3,this._logHandler=y3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?p3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const v3=(t,e)=>e.some(n=>t instanceof n);let wI,xI;function w3(){return wI||(wI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function x3(){return xI||(xI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hD=new WeakMap,M0=new WeakMap,fD=new WeakMap,zv=new WeakMap,eE=new WeakMap;function _3(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ko(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&hD.set(n,t)}).catch(()=>{}),eE.set(e,t),e}function E3(t){if(M0.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});M0.set(t,e)}let O0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return M0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ko(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function T3(t){O0=t(O0)}function b3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Kv(this),e,...n);return fD.set(r,e.sort?e.sort():[e]),ko(r)}:x3().includes(t)?function(...e){return t.apply(Kv(this),e),ko(hD.get(this))}:function(...e){return ko(t.apply(Kv(this),e))}}function S3(t){return typeof t=="function"?b3(t):(t instanceof IDBTransaction&&E3(t),v3(t,w3())?new Proxy(t,O0):t)}function ko(t){if(t instanceof IDBRequest)return _3(t);if(zv.has(t))return zv.get(t);const e=S3(t);return e!==t&&(zv.set(t,e),eE.set(e,t)),e}const Kv=t=>eE.get(t);function pD(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ko(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ko(o.result),l.oldVersion,l.newVersion,ko(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const I3=["get","getKey","getAll","getAllKeys","count"],A3=["put","add","delete","clear"],Wv=new Map;function _I(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wv.get(e))return Wv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=A3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||I3.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Wv.set(e,i),i}T3(t=>({...t,get:(e,n,r)=>_I(e,n)||t.get(e,n,r),has:(e,n)=>!!_I(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(R3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function R3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const j0="@firebase/app",EI="0.10.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new Kg("@firebase/app"),P3="@firebase/app-compat",N3="@firebase/analytics-compat",D3="@firebase/analytics",k3="@firebase/app-check-compat",M3="@firebase/app-check",O3="@firebase/auth",j3="@firebase/auth-compat",L3="@firebase/database",V3="@firebase/database-compat",F3="@firebase/functions",U3="@firebase/functions-compat",B3="@firebase/installations",$3="@firebase/installations-compat",z3="@firebase/messaging",K3="@firebase/messaging-compat",W3="@firebase/performance",H3="@firebase/performance-compat",q3="@firebase/remote-config",G3="@firebase/remote-config-compat",Q3="@firebase/storage",Y3="@firebase/storage-compat",X3="@firebase/firestore",J3="@firebase/vertexai-preview",Z3="@firebase/firestore-compat",ez="firebase",tz="10.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="[DEFAULT]",nz={[j0]:"fire-core",[P3]:"fire-core-compat",[D3]:"fire-analytics",[N3]:"fire-analytics-compat",[M3]:"fire-app-check",[k3]:"fire-app-check-compat",[O3]:"fire-auth",[j3]:"fire-auth-compat",[L3]:"fire-rtdb",[V3]:"fire-rtdb-compat",[F3]:"fire-fn",[U3]:"fire-fn-compat",[B3]:"fire-iid",[$3]:"fire-iid-compat",[z3]:"fire-fcm",[K3]:"fire-fcm-compat",[W3]:"fire-perf",[H3]:"fire-perf-compat",[q3]:"fire-rc",[G3]:"fire-rc-compat",[Q3]:"fire-gcs",[Y3]:"fire-gcs-compat",[X3]:"fire-fst",[Z3]:"fire-fst-compat",[J3]:"fire-vertex","fire-js":"fire-js",[ez]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=new Map,rz=new Map,V0=new Map;function TI(t,e){try{t.container.addComponent(e)}catch(n){Ai.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ws(t){const e=t.name;if(V0.has(e))return Ai.debug(`There were multiple attempts to register component ${e}.`),!1;V0.set(e,t);for(const n of Lm.values())TI(n,t);for(const n of rz.values())TI(n,t);return!0}function ea(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function oi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mo=new fl("app","Firebase",sz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=tz;function mD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:L0,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Mo.create("bad-app-name",{appName:String(s)});if(n||(n=oD()),!n)throw Mo.create("no-options");const i=Lm.get(s);if(i){if(nh(n,i.options)&&nh(r,i.config))return i;throw Mo.create("duplicate-app",{appName:s})}const o=new f3(s);for(const l of V0.values())o.addComponent(l);const a=new iz(n,r,o);return Lm.set(s,a),a}function Wg(t=L0){const e=Lm.get(t);if(!e&&t===L0&&oD())return mD();if(!e)throw Mo.create("no-app",{appName:t});return e}function fr(t,e,n){var r;let s=(r=nz[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ai.warn(a.join(" "));return}ws(new es(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oz="firebase-heartbeat-database",az=1,rh="firebase-heartbeat-store";let Hv=null;function gD(){return Hv||(Hv=pD(oz,az,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(rh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Mo.create("idb-open",{originalErrorMessage:t.message})})),Hv}async function lz(t){try{const n=(await gD()).transaction(rh),r=await n.objectStore(rh).get(yD(t));return await n.done,r}catch(e){if(e instanceof Mr)Ai.warn(e.message);else{const n=Mo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ai.warn(n.message)}}}async function bI(t,e){try{const r=(await gD()).transaction(rh,"readwrite");await r.objectStore(rh).put(e,yD(t)),await r.done}catch(n){if(n instanceof Mr)Ai.warn(n.message);else{const r=Mo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ai.warn(r.message)}}}function yD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cz=1024,uz=30*24*60*60*1e3;class dz{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fz(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=SI();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=uz}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ai.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=SI(),{heartbeatsToSend:r,unsentEntries:s}=hz(this._heartbeatsCache.heartbeats),i=jm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Ai.warn(n),""}}}function SI(){return new Date().toISOString().substring(0,10)}function hz(t,e=cz){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),II(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),II(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class fz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uD()?dD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lz(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return bI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return bI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function II(t){return jm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pz(t){ws(new es("platform-logger",e=>new C3(e),"PRIVATE")),ws(new es("heartbeat",e=>new dz(e),"PRIVATE")),fr(j0,EI,t),fr(j0,EI,"esm2017"),fr("fire-js","")}pz("");var Ms=function(){return Ms=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ms.apply(this,arguments)};function Wh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function mz(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function vD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gz=vD,wD=new fl("auth","Firebase",vD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm=new Kg("@firebase/auth");function yz(t,...e){Vm.logLevel<=tt.WARN&&Vm.warn(`Auth (${pl}): ${t}`,...e)}function Kp(t,...e){Vm.logLevel<=tt.ERROR&&Vm.error(`Auth (${pl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(t,...e){throw tE(t,...e)}function Us(t,...e){return tE(t,...e)}function xD(t,e,n){const r=Object.assign(Object.assign({},gz()),{[e]:n});return new fl("auth","Firebase",r).create(e,{appName:t.name})}function Oo(t){return xD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return wD.create(t,...e)}function Pe(t,e,...n){if(!t)throw tE(e,...n)}function ai(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Kp(e),new Error(e)}function Ri(t,e){t||ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function vz(){return AI()==="http:"||AI()==="https:"}function AI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vz()||cD()||"connection"in navigator)?navigator.onLine:!0}function xz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ri(n>e,"Short delay should be less than long delay!"),this.isMobile=H5()||Q5()}get(){return wz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(t,e){Ri(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _z={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez=new Hh(3e4,6e4);function Hg(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function su(t,e,n,r,s={}){return ED(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Kh(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return G5()||(c.referrerPolicy="no-referrer"),_D.fetch()(bD(t,t.config.apiHost,n,a),c)})}async function ED(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},_z),e);try{const s=new Tz(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw lp(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw lp(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw lp(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw lp(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw xD(t,u,c);Ci(t,u)}}catch(s){if(s instanceof Mr)throw s;Ci(t,"network-request-failed",{message:String(s)})}}async function TD(t,e,n,r,s={}){const i=await su(t,e,n,r,s);return"mfaPendingCredential"in i&&Ci(t,"multi-factor-auth-required",{_serverResponse:i}),i}function bD(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?nE(t.config,s):`${t.config.apiScheme}://${s}`}class Tz{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Us(this.auth,"network-request-failed")),Ez.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function lp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Us(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bz(t,e){return su(t,"POST","/v1/accounts:delete",e)}async function SD(t,e){return su(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Sz(t,e=!1){const n=Zt(t),r=await n.getIdToken(e),s=rE(r);Pe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ed(qv(s.auth_time)),issuedAtTime:Ed(qv(s.iat)),expirationTime:Ed(qv(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function qv(t){return Number(t)*1e3}function rE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Kp("JWT malformed, contained fewer than 3 sections"),null;try{const s=rD(n);return s?JSON.parse(s):(Kp("Failed to decode base64 JWT payload"),null)}catch(s){return Kp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function CI(t){const e=rE(t);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Mr&&Iz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Iz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ed(this.lastLoginAt),this.creationTime=Ed(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fm(t){var e;const n=t.auth,r=await t.getIdToken(),s=await sh(t,SD(n,{idToken:r}));Pe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?ID(i.providerUserInfo):[],a=Rz(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new U0(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function Cz(t){const e=Zt(t);await Fm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Rz(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function ID(t){return t.map(e=>{var{providerId:n}=e,r=Wh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pz(t,e){const n=await ED(t,{},async()=>{const r=Kh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=bD(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",_D.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Nz(t,e){return su(t,"POST","/v2/accounts:revokeToken",Hg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):CI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=CI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Pz(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new uc;return r&&(Pe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Pe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Pe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uc,this.toJSON())}_performRefresh(){return ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(t,e){Pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class li{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Wh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Az(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new U0(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await sh(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Sz(this,e)}reload(){return Cz(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new li(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Fm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oi(this.auth.app))return Promise.reject(Oo(this.auth));const e=await this.getIdToken();return await sh(this,bz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:b,emailVerified:I,isAnonymous:D,providerData:O,stsTokenManager:A}=n;Pe(b&&A,e,"internal-error");const T=uc.fromJSON(this.name,A);Pe(typeof b=="string",e,"internal-error"),qi(d,e.name),qi(p,e.name),Pe(typeof I=="boolean",e,"internal-error"),Pe(typeof D=="boolean",e,"internal-error"),qi(g,e.name),qi(w,e.name),qi(v,e.name),qi(_,e.name),qi(x,e.name),qi(y,e.name);const R=new li({uid:b,auth:e,email:p,emailVerified:I,displayName:d,isAnonymous:D,photoURL:w,phoneNumber:g,tenantId:v,stsTokenManager:T,createdAt:x,lastLoginAt:y});return O&&Array.isArray(O)&&(R.providerData=O.map(C=>Object.assign({},C))),_&&(R._redirectEventId=_),R}static async _fromIdTokenResponse(e,n,r=!1){const s=new uc;s.updateFromServerResponse(n);const i=new li({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Fm(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Pe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?ID(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new uc;a.updateFromIdToken(r);const l=new li({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new U0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=new Map;function ci(t){Ri(t instanceof Function,"Expected a class definition");let e=RI.get(t);return e?(Ri(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,RI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}AD.type="NONE";const PI=AD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(t,e,n){return`firebase:${t}:${e}:${n}`}class dc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Wp(this.userKey,s.apiKey,i),this.fullPersistenceKey=Wp("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?li._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new dc(ci(PI),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||ci(PI);const o=Wp(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=li._fromJSON(e,u);c!==i&&(a=d),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new dc(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new dc(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ND(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kD(e))return"Blackberry";if(MD(e))return"Webos";if(RD(e))return"Safari";if((e.includes("chrome/")||PD(e))&&!e.includes("edge/"))return"Chrome";if(DD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function CD(t=$n()){return/firefox\//i.test(t)}function RD(t=$n()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PD(t=$n()){return/crios\//i.test(t)}function ND(t=$n()){return/iemobile/i.test(t)}function DD(t=$n()){return/android/i.test(t)}function kD(t=$n()){return/blackberry/i.test(t)}function MD(t=$n()){return/webos/i.test(t)}function sE(t=$n()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Dz(t=$n()){var e;return sE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kz(){return Y5()&&document.documentMode===10}function OD(t=$n()){return sE(t)||DD(t)||MD(t)||kD(t)||/windows phone/i.test(t)||ND(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t,e=[]){let n;switch(t){case"Browser":n=NI($n());break;case"Worker":n=`${NI($n())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oz(t,e={}){return su(t,"GET","/v2/passwordPolicy",Hg(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz=6;class Lz{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:jz,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DI(this),this.idTokenSubscription=new DI(this),this.beforeStateQueue=new Mz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ci(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await dc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await SD(this,{idToken:e}),r=await li._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(oi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oi(this.app))return Promise.reject(Oo(this));const n=e?Zt(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oi(this.app)?Promise.reject(Oo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oi(this.app)?Promise.reject(Oo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Oz(this),n=new Lz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Nz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ci(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await dc.create(this,[ci(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&yz(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function qg(t){return Zt(t)}class DI{constructor(e){this.auth=e,this.observer=null,this.addObserver=r3(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Fz(t){iE=t}function Uz(t){return iE.loadJS(t)}function Bz(){return iE.gapiScript}function $z(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zz(t,e){const n=ea(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(nh(i,e??{}))return s;Ci(s,"already-initialized")}return n.initialize({options:e})}function Kz(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ci);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Wz(t,e,n){const r=qg(t);Pe(r._canInitEmulator,r,"emulator-config-failed"),Pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=LD(e),{host:o,port:a}=Hz(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),qz()}function LD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Hz(t){const e=LD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:kI(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:kI(o)}}}function kI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function qz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ai("not implemented")}_getIdTokenResponse(e){return ai("not implemented")}_linkToIdToken(e,n){return ai("not implemented")}_getReauthenticationResolver(e){return ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hc(t,e){return TD(t,"POST","/v1/accounts:signInWithIdp",Hg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gz="http://localhost";class Za extends VD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Za(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ci("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Wh(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Za(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return hc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,hc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,hc(e,n)}buildRequest(){const e={requestUri:Gz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Kh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh extends FD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends qh{constructor(){super("facebook.com")}static credential(e){return Za._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return so.credential(e.oauthAccessToken)}catch{return null}}}so.FACEBOOK_SIGN_IN_METHOD="facebook.com";so.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends qh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Za._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return io.credential(n,r)}catch{return null}}}io.GOOGLE_SIGN_IN_METHOD="google.com";io.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends qh{constructor(){super("github.com")}static credential(e){return Za._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oo.credential(e.oauthAccessToken)}catch{return null}}}oo.GITHUB_SIGN_IN_METHOD="github.com";oo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends qh{constructor(){super("twitter.com")}static credential(e,n){return Za._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ao.credential(n,r)}catch{return null}}}ao.TWITTER_SIGN_IN_METHOD="twitter.com";ao.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qz(t,e){return TD(t,"POST","/v1/accounts:signUp",Hg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await li._fromIdTokenResponse(e,r,s),o=MI(r);return new Fo({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=MI(r);return new Fo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function MI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yz(t){var e;if(oi(t.app))return Promise.reject(Oo(t));const n=qg(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Fo({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Qz(n,{returnSecureToken:!0}),s=await Fo._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um extends Mr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Um.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Um(e,n,r,s)}}function UD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Um._fromErrorAndOperation(t,i,e,r):i})}async function Xz(t,e,n=!1){const r=await sh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Fo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jz(t,e,n=!1){const{auth:r}=t;if(oi(r.app))return Promise.reject(Oo(r));const s="reauthenticate";try{const i=await sh(t,UD(r,s,e,t),n);Pe(i.idToken,r,"internal-error");const o=rE(i.idToken);Pe(o,r,"internal-error");const{sub:a}=o;return Pe(t.uid===a,r,"user-mismatch"),Fo._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Ci(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zz(t,e,n=!1){if(oi(t.app))return Promise.reject(Oo(t));const r="signIn",s=await UD(t,r,e),i=await Fo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function e6(t,e,n,r){return Zt(t).onIdTokenChanged(e,n,r)}function t6(t,e,n){return Zt(t).beforeAuthStateChanged(e,n)}const Bm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bm,"1"),this.storage.removeItem(Bm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=1e3,r6=10;class $D extends BD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);kz()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,r6):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},n6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$D.type="LOCAL";const s6=$D;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD extends BD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zD.type="SESSION";const KD=zD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Gg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await i6(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=oE("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const p=d;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(){return window}function a6(t){Bs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(){return typeof Bs().WorkerGlobalScope<"u"&&typeof Bs().importScripts=="function"}async function l6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function c6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function u6(){return WD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="firebaseLocalStorageDb",d6=1,$m="firebaseLocalStorage",qD="fbase_key";class Gh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qg(t,e){return t.transaction([$m],e?"readwrite":"readonly").objectStore($m)}function h6(){const t=indexedDB.deleteDatabase(HD);return new Gh(t).toPromise()}function B0(){const t=indexedDB.open(HD,d6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($m,{keyPath:qD})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($m)?e(r):(r.close(),await h6(),e(await B0()))})})}async function OI(t,e,n){const r=Qg(t,!0).put({[qD]:e,value:n});return new Gh(r).toPromise()}async function f6(t,e){const n=Qg(t,!1).get(e),r=await new Gh(n).toPromise();return r===void 0?null:r.value}function jI(t,e){const n=Qg(t,!0).delete(e);return new Gh(n).toPromise()}const p6=800,m6=3;class GD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await B0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>m6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gg._getInstance(u6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await l6(),!this.activeServiceWorker)return;this.sender=new o6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||c6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await B0();return await OI(e,Bm,"1"),await jI(e,Bm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>OI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>f6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>jI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Qg(s,!1).getAll();return new Gh(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),p6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GD.type="LOCAL";const g6=GD;new Hh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(t,e){return e?ci(e):(Pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE extends VD{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return hc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return hc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function v6(t){return Zz(t.auth,new aE(t),t.bypassAuthState)}function w6(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),Jz(n,new aE(t),t.bypassAuthState)}async function x6(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),Xz(n,new aE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return v6;case"linkViaPopup":case"linkViaRedirect":return x6;case"reauthViaPopup":case"reauthViaRedirect":return w6;default:Ci(this.auth,"internal-error")}}resolve(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6=new Hh(2e3,1e4);class Yl extends QD{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Yl.currentPopupAction&&Yl.currentPopupAction.cancel(),Yl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){Ri(this.filter.length===1,"Popup operations only handle one event");const e=oE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Us(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Us(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Us(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_6.get())};e()}}Yl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6="pendingRedirect",Hp=new Map;class T6 extends QD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Hp.get(this.auth._key());if(!e){try{const r=await b6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Hp.set(this.auth._key(),e)}return this.bypassAuthState||Hp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function b6(t,e){const n=A6(e),r=I6(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function S6(t,e){Hp.set(t._key(),e)}function I6(t){return ci(t._redirectPersistence)}function A6(t){return Wp(E6,t.config.apiKey,t.name)}async function C6(t,e,n=!1){if(oi(t.app))return Promise.reject(Oo(t));const r=qg(t),s=y6(r,e),o=await new T6(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6=10*60*1e3;class P6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!N6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!YD(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Us(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=R6&&this.cachedEventUids.clear(),this.cachedEventUids.has(LI(e))}saveEventToCache(e){this.cachedEventUids.add(LI(e)),this.lastProcessedEventTime=Date.now()}}function LI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function YD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function N6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D6(t,e={}){return su(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,M6=/^https?/;async function O6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await D6(t);for(const n of e)try{if(j6(n))return}catch{}Ci(t,"unauthorized-domain")}function j6(t){const e=F0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!M6.test(n))return!1;if(k6.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6=new Hh(3e4,6e4);function VI(){const t=Bs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function V6(t){return new Promise((e,n)=>{var r,s,i;function o(){VI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VI(),n(Us(t,"network-request-failed"))},timeout:L6.get()})}if(!((s=(r=Bs().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Bs().gapi)===null||i===void 0)&&i.load)o();else{const a=$z("iframefcb");return Bs()[a]=()=>{gapi.load?o():n(Us(t,"network-request-failed"))},Uz(`${Bz()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw qp=null,e})}let qp=null;function F6(t){return qp=qp||V6(t),qp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6=new Hh(5e3,15e3),B6="__/auth/iframe",$6="emulator/auth/iframe",z6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},K6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function W6(t){const e=t.config;Pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?nE(e,$6):`https://${t.config.authDomain}/${B6}`,r={apiKey:e.apiKey,appName:t.name,v:pl},s=K6.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Kh(r).slice(1)}`}async function H6(t){const e=await F6(t),n=Bs().gapi;return Pe(n,t,"internal-error"),e.open({where:document.body,url:W6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:z6,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Us(t,"network-request-failed"),a=Bs().setTimeout(()=>{i(o)},U6.get());function l(){Bs().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},G6=500,Q6=600,Y6="_blank",X6="http://localhost";class FI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function J6(t,e,n,r=G6,s=Q6){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},q6),{width:r.toString(),height:s.toString(),top:i,left:o}),c=$n().toLowerCase();n&&(a=PD(c)?Y6:n),CD(c)&&(e=e||X6,l.scrollbars="yes");const u=Object.entries(l).reduce((p,[g,w])=>`${p}${g}=${w},`,"");if(Dz(c)&&a!=="_self")return Z6(e||"",a),new FI(null);const d=window.open(e||"",a,u);Pe(d,t,"popup-blocked");try{d.focus()}catch{}return new FI(d)}function Z6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9="__/auth/handler",t9="emulator/auth/handler",n9=encodeURIComponent("fac");async function UI(t,e,n,r,s,i){Pe(t.config.authDomain,t,"auth-domain-config-required"),Pe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:pl,eventId:s};if(e instanceof FD){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",n3(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof qh){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${n9}=${encodeURIComponent(l)}`:"";return`${r9(t)}?${Kh(a).slice(1)}${c}`}function r9({config:t}){return t.emulator?nE(t,t9):`https://${t.authDomain}/${e9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="webStorageSupport";class s9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KD,this._completeRedirectFn=C6,this._overrideRedirectResult=S6}async _openPopup(e,n,r,s){var i;Ri((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await UI(e,n,r,F0(),s);return J6(e,o,oE())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await UI(e,n,r,F0(),s);return a6(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ri(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await H6(e),r=new P6(e);return n.register("authEvent",s=>(Pe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gv,{type:Gv},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Gv];o!==void 0&&n(!!o),Ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=O6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return OD()||RD()||sE()}}const i9=s9;var BI="@firebase/auth",$I="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function l9(t){ws(new es("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Pe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jD(t)},c=new Vz(r,s,i,l);return Kz(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ws(new es("auth-internal",e=>{const n=qg(e.getProvider("auth").getImmediate());return(r=>new o9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fr(BI,$I,a9(t)),fr(BI,$I,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9=5*60,u9=aD("authIdTokenMaxAge")||c9;let zI=null;const d9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>u9)return;const s=n==null?void 0:n.token;zI!==s&&(zI=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function h9(t=Wg()){const e=ea(t,"auth");if(e.isInitialized())return e.getImmediate();const n=zz(t,{popupRedirectResolver:i9,persistence:[g6,s6,KD]}),r=aD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=d9(i.toString());t6(n,o,()=>o(n.currentUser)),e6(n,a=>o(a))}}const s=sD("auth");return s&&Wz(n,`http://${s}`),n}function f9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Fz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Us("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",f9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});l9("Browser");const yt=(t,e=!1)=>{};var p9={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"production",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://chatbot-api-0zup.onrender.com",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",VITE_FIREBASE_MEASUREMENT_ID:"G-65F7KP2KRQ",VITE_SUPER_ADMIN_ID:"672ca434f2191d3bb7606f0d",BASE_URL:"/admin",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const KI=t=>{let e;const n=new Set,r=(u,d)=>{const p=typeof u=="function"?u(e):u;if(!Object.is(p,e)){const g=e;e=d??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(w=>w(e,g))}},s=()=>e,l={setState:r,getState:s,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(p9?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,s,l);return l},m9=t=>t?KI(t):KI;var XD={exports:{}},JD={},ZD={exports:{}},ek={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uc=m;function g9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var y9=typeof Object.is=="function"?Object.is:g9,v9=Uc.useState,w9=Uc.useEffect,x9=Uc.useLayoutEffect,_9=Uc.useDebugValue;function E9(t,e){var n=e(),r=v9({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return x9(function(){s.value=n,s.getSnapshot=e,Qv(s)&&i({inst:s})},[t,n,e]),w9(function(){return Qv(s)&&i({inst:s}),t(function(){Qv(s)&&i({inst:s})})},[t]),_9(n),n}function Qv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!y9(t,n)}catch{return!0}}function T9(t,e){return e()}var b9=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?T9:E9;ek.useSyncExternalStore=Uc.useSyncExternalStore!==void 0?Uc.useSyncExternalStore:b9;ZD.exports=ek;var S9=ZD.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yg=m,I9=S9;function A9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var C9=typeof Object.is=="function"?Object.is:A9,R9=I9.useSyncExternalStore,P9=Yg.useRef,N9=Yg.useEffect,D9=Yg.useMemo,k9=Yg.useDebugValue;JD.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=P9(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=D9(function(){function l(g){if(!c){if(c=!0,u=g,g=r(g),s!==void 0&&o.hasValue){var w=o.value;if(s(w,g))return d=w}return d=g}if(w=d,C9(u,g))return w;var v=r(g);return s!==void 0&&s(w,v)?w:(u=g,d=v)}var c=!1,u,d,p=n===void 0?null:n;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,n,r,s]);var a=R9(t,i[0],i[1]);return N9(function(){o.hasValue=!0,o.value=a},[a]),k9(a),a};XD.exports=JD;var M9=XD.exports;const O9=i_(M9);var tk={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"production",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://chatbot-api-0zup.onrender.com",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",VITE_FIREBASE_MEASUREMENT_ID:"G-65F7KP2KRQ",VITE_SUPER_ADMIN_ID:"672ca434f2191d3bb7606f0d",BASE_URL:"/admin",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:j9}=We,{useSyncExternalStoreWithSelector:L9}=O9;let WI=!1;const V9=t=>t;function F9(t,e=V9,n){(tk?"production":void 0)!=="production"&&n&&!WI&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),WI=!0);const r=L9(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return j9(r),r}const HI=t=>{(tk?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?m9(t):t,n=(r,s)=>F9(e,r,s);return Object.assign(n,e),n},Li=t=>t?HI(t):HI;var U9={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"production",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://chatbot-api-0zup.onrender.com",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",VITE_FIREBASE_MEASUREMENT_ID:"G-65F7KP2KRQ",VITE_SUPER_ADMIN_ID:"672ca434f2191d3bb7606f0d",BASE_URL:"/admin",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function lE(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const o=l=>l===null?null:JSON.parse(l,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const ih=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return ih(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return ih(r)(n)}}}},B9=(t,e)=>(n,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:_=>_,version:0,merge:(_,x)=>({...x,..._}),...e},o=!1;const a=new Set,l=new Set;let c;try{c=i.getStorage()}catch{}if(!c)return t((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(..._)},r,s);const u=ih(i.serialize),d=()=>{const _=i.partialize({...r()});let x;const y=u({state:_,version:i.version}).then(b=>c.setItem(i.name,b)).catch(b=>{x=b});if(x)throw x;return y},p=s.setState;s.setState=(_,x)=>{p(_,x),d()};const g=t((..._)=>{n(..._),d()},r,s);let w;const v=()=>{var _;if(!c)return;o=!1,a.forEach(y=>y(r()));const x=((_=i.onRehydrateStorage)==null?void 0:_.call(i,r()))||void 0;return ih(c.getItem.bind(c))(i.name).then(y=>{if(y)return i.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return i.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var b;return w=i.merge(y,(b=r())!=null?b:g),n(w,!0),d()}).then(()=>{x==null||x(w,void 0),o=!0,l.forEach(y=>y(w))}).catch(y=>{x==null||x(void 0,y)})};return s.persist={setOptions:_=>{i={...i,..._},_.getStorage&&(c=_.getStorage())},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:_=>(a.add(_),()=>{a.delete(_)}),onFinishHydration:_=>(l.add(_),()=>{l.delete(_)})},v(),w||g},$9=(t,e)=>(n,r,s)=>{let i={storage:lE(()=>localStorage),partialize:v=>v,version:0,merge:(v,_)=>({..._,...v}),...e},o=!1;const a=new Set,l=new Set;let c=i.storage;if(!c)return t((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...v)},r,s);const u=()=>{const v=i.partialize({...r()});return c.setItem(i.name,{state:v,version:i.version})},d=s.setState;s.setState=(v,_)=>{d(v,_),u()};const p=t((...v)=>{n(...v),u()},r,s);s.getInitialState=()=>p;let g;const w=()=>{var v,_;if(!c)return;o=!1,a.forEach(y=>{var b;return y((b=r())!=null?b:p)});const x=((_=i.onRehydrateStorage)==null?void 0:_.call(i,(v=r())!=null?v:p))||void 0;return ih(c.getItem.bind(c))(i.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return[!0,i.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var b;const[I,D]=y;if(g=i.merge(D,(b=r())!=null?b:p),n(g,!0),I)return u()}).then(()=>{x==null||x(g,void 0),g=r(),o=!0,l.forEach(y=>y(g))}).catch(y=>{x==null||x(void 0,y)})};return s.persist={setOptions:v=>{i={...i,...v},v.storage&&(c=v.storage)},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:v=>(a.add(v),()=>{a.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},i.skipHydration||w(),g||p},z9=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((U9?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),B9(t,e)):$9(t,e),nk=z9,Et=Li()(nk(t=>({admin:null,isAuth:!1,accessToken:null,setAccessToken:e=>t({accessToken:e}),login:(e,n)=>t({isAuth:!0,accessToken:e,admin:n}),logout:()=>t({isAuth:!1,accessToken:null,admin:null})}),{name:"auth-storage",storage:lE(()=>localStorage)}));/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ot(){return Ot=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ot.apply(this,arguments)}var rn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(rn||(rn={}));const qI="popstate";function K9(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return oh("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:el(s)}return H9(e,n,null,t)}function He(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Bc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function W9(){return Math.random().toString(36).substr(2,8)}function GI(t,e){return{usr:t.state,key:t.key,idx:e}}function oh(t,e,n,r){return n===void 0&&(n=null),Ot({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ta(e):e,{state:n,key:e&&e.key||r||W9()})}function el(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ta(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function H9(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=rn.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Ot({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=rn.Pop;let _=u(),x=_==null?null:_-c;c=_,l&&l({action:a,location:v.location,delta:x})}function p(_,x){a=rn.Push;let y=oh(v.location,_,x);c=u()+1;let b=GI(y,c),I=v.createHref(y);try{o.pushState(b,"",I)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(I)}i&&l&&l({action:a,location:v.location,delta:1})}function g(_,x){a=rn.Replace;let y=oh(v.location,_,x);c=u();let b=GI(y,c),I=v.createHref(y);o.replaceState(b,"",I),i&&l&&l({action:a,location:v.location,delta:0})}function w(_){let x=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof _=="string"?_:el(_);return y=y.replace(/ $/,"%20"),He(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let v={get action(){return a},get location(){return t(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(qI,d),l=_,()=>{s.removeEventListener(qI,d),l=null}},createHref(_){return e(s,_)},createURL:w,encodeLocation(_){let x=w(_);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:g,go(_){return o.go(_)}};return v}var mt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(mt||(mt={}));const q9=new Set(["lazy","caseSensitive","path","id","index","children"]);function G9(t){return t.index===!0}function ah(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((s,i)=>{let o=[...n,String(i)],a=typeof s.id=="string"?s.id:o.join("-");if(He(s.index!==!0||!s.children,"Cannot specify children on an index route"),He(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),G9(s)){let l=Ot({},s,e(s),{id:a});return r[a]=l,l}else{let l=Ot({},s,e(s),{id:a,children:void 0});return r[a]=l,s.children&&(l.children=ah(s.children,e,o,r)),l}})}function Sa(t,e,n){return n===void 0&&(n="/"),Gp(t,e,n,!1)}function Gp(t,e,n,r){let s=typeof e=="string"?ta(e):e,i=iu(s.pathname||"/",n);if(i==null)return null;let o=rk(t);Y9(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=aK(i);a=iK(o[l],c,r)}return a}function Q9(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],handle:n.handle}}function rk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(He(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=pi([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(He(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),rk(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:rK(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of sk(i.path))s(i,o,l)}),e}function sk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=sk(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Y9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sK(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const X9=/^:[\w-]+$/,J9=3,Z9=2,eK=1,tK=10,nK=-2,QI=t=>t==="*";function rK(t,e){let n=t.split("/"),r=n.length;return n.some(QI)&&(r+=nK),e&&(r+=Z9),n.filter(s=>!QI(s)).reduce((s,i)=>s+(X9.test(i)?J9:i===""?eK:tK),r)}function sK(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function iK(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=YI({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=YI({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:pi([i,d.pathname]),pathnameBase:uK(pi([i,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(i=pi([i,d.pathnameBase]))}return o}function YI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=oK(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:p,isOptional:g}=u;if(p==="*"){let v=a[d]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const w=a[d];return g&&!w?c[p]=void 0:c[p]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function oK(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Bc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function aK(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function iu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function lK(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ta(t):t;return{pathname:n?n.startsWith("/")?n:cK(n,e):e,search:dK(r),hash:hK(s)}}function cK(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Yv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ik(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Xg(t,e){let n=ik(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Jg(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ta(t):(s=Ot({},t),He(!s.pathname||!s.pathname.includes("?"),Yv("?","pathname","search",s)),He(!s.pathname||!s.pathname.includes("#"),Yv("#","pathname","hash",s)),He(!s.search||!s.search.includes("#"),Yv("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;s.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=lK(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const pi=t=>t.join("/").replace(/\/\/+/g,"/"),uK=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),dK=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hK=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class zm{constructor(e,n,r,s){s===void 0&&(s=!1),this.status=e,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Qh(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ok=["post","put","patch","delete"],fK=new Set(ok),pK=["get",...ok],mK=new Set(pK),gK=new Set([301,302,303,307,308]),yK=new Set([307,308]),Xv={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},vK={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},$u={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},cE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wK=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),ak="remix-router-transitions";function xK(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;He(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let L=t.detectErrorBoundary;s=F=>({hasErrorBoundary:L(F)})}else s=wK;let i={},o=ah(t.routes,s,void 0,i),a,l=t.basename||"/",c=t.unstable_dataStrategy||IK,u=t.unstable_patchRoutesOnNavigation,d=Ot({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),p=null,g=new Set,w=1e3,v=new Set,_=null,x=null,y=null,b=t.hydrationData!=null,I=Sa(o,t.history.location,l),D=null;if(I==null&&!u){let L=Yn(404,{pathname:t.history.location.pathname}),{matches:F,route:K}=iA(o);I=F,D={[K.id]:L}}I&&!t.hydrationData&&en(I,o,t.history.location.pathname).active&&(I=null);let O;if(I)if(I.some(L=>L.route.lazy))O=!1;else if(!I.some(L=>L.route.loader))O=!0;else if(d.v7_partialHydration){let L=t.hydrationData?t.hydrationData.loaderData:null,F=t.hydrationData?t.hydrationData.errors:null,K=G=>G.route.loader?typeof G.route.loader=="function"&&G.route.loader.hydrate===!0?!1:L&&L[G.route.id]!==void 0||F&&F[G.route.id]!==void 0:!0;if(F){let G=I.findIndex(de=>F[de.route.id]!==void 0);O=I.slice(0,G+1).every(K)}else O=I.every(K)}else O=t.hydrationData!=null;else if(O=!1,I=[],d.v7_partialHydration){let L=en(null,o,t.history.location.pathname);L.active&&L.matches&&(I=L.matches)}let A,T={historyAction:t.history.action,location:t.history.location,matches:I,initialized:O,navigation:Xv,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||D,fetchers:new Map,blockers:new Map},R=rn.Pop,C=!1,M,k=!1,N=new Map,H=null,ae=!1,te=!1,ne=[],z=new Set,B=new Map,Z=0,pe=-1,Te=new Map,Re=new Set,Je=new Map,wt=new Map,qe=new Set,ue=new Map,Ve=new Map,st=new Map,Fe;function Ke(){if(p=t.history.listen(L=>{let{action:F,location:K,delta:G}=L;if(Fe){Fe(),Fe=void 0;return}Bc(Ve.size===0||G!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let de=bl({currentLocation:T.location,nextLocation:K,historyAction:F});if(de&&G!=null){let _e=new Promise(Ae=>{Fe=Ae});t.history.go(G*-1),Is(de,{state:"blocked",location:K,proceed(){Is(de,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),_e.then(()=>t.history.go(G))},reset(){let Ae=new Map(T.blockers);Ae.set(de,$u),it({blockers:Ae})}});return}return j(F,K)}),n){BK(e,N);let L=()=>$K(e,N);e.addEventListener("pagehide",L),H=()=>e.removeEventListener("pagehide",L)}return T.initialized||j(rn.Pop,T.location,{initialHydration:!0}),A}function Qe(){p&&p(),H&&H(),g.clear(),M&&M.abort(),T.fetchers.forEach((L,F)=>Ss(F)),T.blockers.forEach((L,F)=>Tu(F))}function $t(L){return g.add(L),()=>g.delete(L)}function it(L,F){F===void 0&&(F={}),T=Ot({},T,L);let K=[],G=[];d.v7_fetcherPersist&&T.fetchers.forEach((de,_e)=>{de.state==="idle"&&(qe.has(_e)?G.push(_e):K.push(_e))}),[...g].forEach(de=>de(T,{deletedFetchers:G,unstable_viewTransitionOpts:F.viewTransitionOpts,unstable_flushSync:F.flushSync===!0})),d.v7_fetcherPersist&&(K.forEach(de=>T.fetchers.delete(de)),G.forEach(de=>Ss(de)))}function yn(L,F,K){var G,de;let{flushSync:_e}=K===void 0?{}:K,Ae=T.actionData!=null&&T.navigation.formMethod!=null&&cs(T.navigation.formMethod)&&T.navigation.state==="loading"&&((G=L.state)==null?void 0:G._isRedirect)!==!0,se;F.actionData?Object.keys(F.actionData).length>0?se=F.actionData:se=null:Ae?se=T.actionData:se=null;let ve=F.loaderData?rA(T.loaderData,F.loaderData,F.matches||[],F.errors):T.loaderData,me=T.blockers;me.size>0&&(me=new Map(me),me.forEach((ot,pt)=>me.set(pt,$u)));let ye=C===!0||T.navigation.formMethod!=null&&cs(T.navigation.formMethod)&&((de=L.state)==null?void 0:de._isRedirect)!==!0;a&&(o=a,a=void 0),ae||R===rn.Pop||(R===rn.Push?t.history.push(L,L.state):R===rn.Replace&&t.history.replace(L,L.state));let Ze;if(R===rn.Pop){let ot=N.get(T.location.pathname);ot&&ot.has(L.pathname)?Ze={currentLocation:T.location,nextLocation:L}:N.has(L.pathname)&&(Ze={currentLocation:L,nextLocation:T.location})}else if(k){let ot=N.get(T.location.pathname);ot?ot.add(L.pathname):(ot=new Set([L.pathname]),N.set(T.location.pathname,ot)),Ze={currentLocation:T.location,nextLocation:L}}it(Ot({},F,{actionData:se,loaderData:ve,historyAction:R,location:L,initialized:!0,navigation:Xv,revalidation:"idle",restoreScrollPosition:Su(L,F.matches||T.matches),preventScrollReset:ye,blockers:me}),{viewTransitionOpts:Ze,flushSync:_e===!0}),R=rn.Pop,C=!1,k=!1,ae=!1,te=!1,ne=[]}async function Or(L,F){if(typeof L=="number"){t.history.go(L);return}let K=$0(T.location,T.matches,l,d.v7_prependBasename,L,d.v7_relativeSplatPath,F==null?void 0:F.fromRouteId,F==null?void 0:F.relative),{path:G,submission:de,error:_e}=XI(d.v7_normalizeFormMethod,!1,K,F),Ae=T.location,se=oh(T.location,G,F&&F.state);se=Ot({},se,t.history.encodeLocation(se));let ve=F&&F.replace!=null?F.replace:void 0,me=rn.Push;ve===!0?me=rn.Replace:ve===!1||de!=null&&cs(de.formMethod)&&de.formAction===T.location.pathname+T.location.search&&(me=rn.Replace);let ye=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,Ze=(F&&F.unstable_flushSync)===!0,ot=bl({currentLocation:Ae,nextLocation:se,historyAction:me});if(ot){Is(ot,{state:"blocked",location:se,proceed(){Is(ot,{state:"proceeding",proceed:void 0,reset:void 0,location:se}),Or(L,F)},reset(){let pt=new Map(T.blockers);pt.set(ot,$u),it({blockers:pt})}});return}return await j(me,se,{submission:de,pendingError:_e,preventScrollReset:ye,replace:F&&F.replace,enableViewTransition:F&&F.unstable_viewTransition,flushSync:Ze})}function Ts(){if(Ui(),it({revalidation:"loading"}),T.navigation.state!=="submitting"){if(T.navigation.state==="idle"){j(T.historyAction,T.location,{startUninterruptedRevalidation:!0});return}j(R||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation,enableViewTransition:k===!0})}}async function j(L,F,K){M&&M.abort(),M=null,R=L,ae=(K&&K.startUninterruptedRevalidation)===!0,da(T.location,T.matches),C=(K&&K.preventScrollReset)===!0,k=(K&&K.enableViewTransition)===!0;let G=a||o,de=K&&K.overrideNavigation,_e=Sa(G,F,l),Ae=(K&&K.flushSync)===!0,se=en(_e,G,F.pathname);if(se.active&&se.matches&&(_e=se.matches),!_e){let{error:Ye,notFoundMatches:tn,route:St}=ua(F.pathname);yn(F,{matches:tn,loaderData:{},errors:{[St.id]:Ye}},{flushSync:Ae});return}if(T.initialized&&!te&&DK(T.location,F)&&!(K&&K.submission&&cs(K.submission.formMethod))){yn(F,{matches:_e},{flushSync:Ae});return}M=new AbortController;let ve=Nl(t.history,F,M.signal,K&&K.submission),me;if(K&&K.pendingError)me=[Xl(_e).route.id,{type:mt.error,error:K.pendingError}];else if(K&&K.submission&&cs(K.submission.formMethod)){let Ye=await $(ve,F,K.submission,_e,se.active,{replace:K.replace,flushSync:Ae});if(Ye.shortCircuited)return;if(Ye.pendingActionResult){let[tn,St]=Ye.pendingActionResult;if(_r(St)&&Qh(St.error)&&St.error.status===404){M=null,yn(F,{matches:Ye.matches,loaderData:{},errors:{[tn]:St.error}});return}}_e=Ye.matches||_e,me=Ye.pendingActionResult,de=Jv(F,K.submission),Ae=!1,se.active=!1,ve=Nl(t.history,ve.url,ve.signal)}let{shortCircuited:ye,matches:Ze,loaderData:ot,errors:pt}=await q(ve,F,_e,se.active,de,K&&K.submission,K&&K.fetcherSubmission,K&&K.replace,K&&K.initialHydration===!0,Ae,me);ye||(M=null,yn(F,Ot({matches:Ze||_e},sA(me),{loaderData:ot,errors:pt})))}async function $(L,F,K,G,de,_e){_e===void 0&&(_e={}),Ui();let Ae=FK(F,K);if(it({navigation:Ae},{flushSync:_e.flushSync===!0}),de){let me=await ha(G,F.pathname,L.signal);if(me.type==="aborted")return{shortCircuited:!0};if(me.type==="error"){let{boundaryId:ye,error:Ze}=jr(F.pathname,me);return{matches:me.partialMatches,pendingActionResult:[ye,{type:mt.error,error:Ze}]}}else if(me.matches)G=me.matches;else{let{notFoundMatches:ye,error:Ze,route:ot}=ua(F.pathname);return{matches:ye,pendingActionResult:[ot.id,{type:mt.error,error:Ze}]}}}let se,ve=rd(G,F);if(!ve.route.action&&!ve.route.lazy)se={type:mt.error,error:Yn(405,{method:L.method,pathname:F.pathname,routeId:ve.route.id})};else if(se=(await Be("action",T,L,[ve],G,null))[ve.route.id],L.signal.aborted)return{shortCircuited:!0};if(Ra(se)){let me;return _e&&_e.replace!=null?me=_e.replace:me=eA(se.response.headers.get("Location"),new URL(L.url),l)===T.location.pathname+T.location.search,await Le(L,se,!0,{submission:K,replace:me}),{shortCircuited:!0}}if(Eo(se))throw Yn(400,{type:"defer-action"});if(_r(se)){let me=Xl(G,ve.route.id);return(_e&&_e.replace)!==!0&&(R=rn.Push),{matches:G,pendingActionResult:[me.route.id,se]}}return{matches:G,pendingActionResult:[ve.route.id,se]}}async function q(L,F,K,G,de,_e,Ae,se,ve,me,ye){let Ze=de||Jv(F,_e),ot=_e||Ae||aA(Ze),pt=!ae&&(!d.v7_partialHydration||!ve);if(G){if(pt){let Tt=le(ye);it(Ot({navigation:Ze},Tt!==void 0?{actionData:Tt}:{}),{flushSync:me})}let ke=await ha(K,F.pathname,L.signal);if(ke.type==="aborted")return{shortCircuited:!0};if(ke.type==="error"){let{boundaryId:Tt,error:Cn}=jr(F.pathname,ke);return{matches:ke.partialMatches,loaderData:{},errors:{[Tt]:Cn}}}else if(ke.matches)K=ke.matches;else{let{error:Tt,notFoundMatches:Cn,route:It}=ua(F.pathname);return{matches:Cn,loaderData:{},errors:{[It.id]:Tt}}}}let Ye=a||o,[tn,St]=JI(t.history,T,K,ot,F,d.v7_partialHydration&&ve===!0,d.v7_skipActionErrorRevalidation,te,ne,z,qe,Je,Re,Ye,l,ye);if(Sl(ke=>!(K&&K.some(Tt=>Tt.route.id===ke))||tn&&tn.some(Tt=>Tt.route.id===ke)),pe=++Z,tn.length===0&&St.length===0){let ke=Pf();return yn(F,Ot({matches:K,loaderData:{},errors:ye&&_r(ye[1])?{[ye[0]]:ye[1].error}:null},sA(ye),ke?{fetchers:new Map(T.fetchers)}:{}),{flushSync:me}),{shortCircuited:!0}}if(pt){let ke={};if(!G){ke.navigation=Ze;let Tt=le(ye);Tt!==void 0&&(ke.actionData=Tt)}St.length>0&&(ke.fetchers=re(St)),it(ke,{flushSync:me})}St.forEach(ke=>{B.has(ke.key)&&Hn(ke.key),ke.controller&&B.set(ke.key,ke.controller)});let $i=()=>St.forEach(ke=>Hn(ke.key));M&&M.signal.addEventListener("abort",$i);let{loaderResults:yr,fetcherResults:Lr}=await zn(T,K,tn,St,L);if(L.signal.aborted)return{shortCircuited:!0};M&&M.signal.removeEventListener("abort",$i),St.forEach(ke=>B.delete(ke.key));let An=cp(yr);if(An)return await Le(L,An.result,!0,{replace:se}),{shortCircuited:!0};if(An=cp(Lr),An)return Re.add(An.key),await Le(L,An.result,!0,{replace:se}),{shortCircuited:!0};let{loaderData:zi,errors:ts}=nA(T,K,tn,yr,ye,St,Lr,ue);ue.forEach((ke,Tt)=>{ke.subscribe(Cn=>{(Cn||ke.done)&&ue.delete(Tt)})}),d.v7_partialHydration&&ve&&T.errors&&Object.entries(T.errors).filter(ke=>{let[Tt]=ke;return!tn.some(Cn=>Cn.route.id===Tt)}).forEach(ke=>{let[Tt,Cn]=ke;ts=Object.assign(ts||{},{[Tt]:Cn})});let pa=Pf(),ma=Tl(pe),ga=pa||ma||St.length>0;return Ot({matches:K,loaderData:zi,errors:ts},ga?{fetchers:new Map(T.fetchers)}:{})}function le(L){if(L&&!_r(L[1]))return{[L[0]]:L[1].data};if(T.actionData)return Object.keys(T.actionData).length===0?null:T.actionData}function re(L){return L.forEach(F=>{let K=T.fetchers.get(F.key),G=zu(void 0,K?K.data:void 0);T.fetchers.set(F.key,G)}),new Map(T.fetchers)}function J(L,F,K,G){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");B.has(L)&&Hn(L);let de=(G&&G.unstable_flushSync)===!0,_e=a||o,Ae=$0(T.location,T.matches,l,d.v7_prependBasename,K,d.v7_relativeSplatPath,F,G==null?void 0:G.relative),se=Sa(_e,Ae,l),ve=en(se,_e,Ae);if(ve.active&&ve.matches&&(se=ve.matches),!se){Wn(L,F,Yn(404,{pathname:Ae}),{flushSync:de});return}let{path:me,submission:ye,error:Ze}=XI(d.v7_normalizeFormMethod,!0,Ae,G);if(Ze){Wn(L,F,Ze,{flushSync:de});return}let ot=rd(se,me);if(C=(G&&G.preventScrollReset)===!0,ye&&cs(ye.formMethod)){Ee(L,F,me,ot,se,ve.active,de,ye);return}Je.set(L,{routeId:F,path:me}),je(L,F,me,ot,se,ve.active,de,ye)}async function Ee(L,F,K,G,de,_e,Ae,se){Ui(),Je.delete(L);function ve(It){if(!It.route.action&&!It.route.lazy){let ns=Yn(405,{method:se.formMethod,pathname:K,routeId:F});return Wn(L,F,ns,{flushSync:Ae}),!0}return!1}if(!_e&&ve(G))return;let me=T.fetchers.get(L);Kn(L,UK(se,me),{flushSync:Ae});let ye=new AbortController,Ze=Nl(t.history,K,ye.signal,se);if(_e){let It=await ha(de,K,Ze.signal);if(It.type==="aborted")return;if(It.type==="error"){let{error:ns}=jr(K,It);Wn(L,F,ns,{flushSync:Ae});return}else if(It.matches){if(de=It.matches,G=rd(de,K),ve(G))return}else{Wn(L,F,Yn(404,{pathname:K}),{flushSync:Ae});return}}B.set(L,ye);let ot=Z,Ye=(await Be("action",T,Ze,[G],de,L))[G.route.id];if(Ze.signal.aborted){B.get(L)===ye&&B.delete(L);return}if(d.v7_fetcherPersist&&qe.has(L)){if(Ra(Ye)||_r(Ye)){Kn(L,Yi(void 0));return}}else{if(Ra(Ye))if(B.delete(L),pe>ot){Kn(L,Yi(void 0));return}else return Re.add(L),Kn(L,zu(se)),Le(Ze,Ye,!1,{fetcherSubmission:se});if(_r(Ye)){Wn(L,F,Ye.error);return}}if(Eo(Ye))throw Yn(400,{type:"defer-action"});let tn=T.navigation.location||T.location,St=Nl(t.history,tn,ye.signal),$i=a||o,yr=T.navigation.state!=="idle"?Sa($i,T.navigation.location,l):T.matches;He(yr,"Didn't find any matches after fetcher action");let Lr=++Z;Te.set(L,Lr);let An=zu(se,Ye.data);T.fetchers.set(L,An);let[zi,ts]=JI(t.history,T,yr,se,tn,!1,d.v7_skipActionErrorRevalidation,te,ne,z,qe,Je,Re,$i,l,[G.route.id,Ye]);ts.filter(It=>It.key!==L).forEach(It=>{let ns=It.key,Df=T.fetchers.get(ns),kf=zu(void 0,Df?Df.data:void 0);T.fetchers.set(ns,kf),B.has(ns)&&Hn(ns),It.controller&&B.set(ns,It.controller)}),it({fetchers:new Map(T.fetchers)});let pa=()=>ts.forEach(It=>Hn(It.key));ye.signal.addEventListener("abort",pa);let{loaderResults:ma,fetcherResults:ga}=await zn(T,yr,zi,ts,St);if(ye.signal.aborted)return;ye.signal.removeEventListener("abort",pa),Te.delete(L),B.delete(L),ts.forEach(It=>B.delete(It.key));let ke=cp(ma);if(ke)return Le(St,ke.result,!1);if(ke=cp(ga),ke)return Re.add(ke.key),Le(St,ke.result,!1);let{loaderData:Tt,errors:Cn}=nA(T,yr,zi,ma,void 0,ts,ga,ue);if(T.fetchers.has(L)){let It=Yi(Ye.data);T.fetchers.set(L,It)}Tl(Lr),T.navigation.state==="loading"&&Lr>pe?(He(R,"Expected pending action"),M&&M.abort(),yn(T.navigation.location,{matches:yr,loaderData:Tt,errors:Cn,fetchers:new Map(T.fetchers)})):(it({errors:Cn,loaderData:rA(T.loaderData,Tt,yr,Cn),fetchers:new Map(T.fetchers)}),te=!1)}async function je(L,F,K,G,de,_e,Ae,se){let ve=T.fetchers.get(L);Kn(L,zu(se,ve?ve.data:void 0),{flushSync:Ae});let me=new AbortController,ye=Nl(t.history,K,me.signal);if(_e){let Ye=await ha(de,K,ye.signal);if(Ye.type==="aborted")return;if(Ye.type==="error"){let{error:tn}=jr(K,Ye);Wn(L,F,tn,{flushSync:Ae});return}else if(Ye.matches)de=Ye.matches,G=rd(de,K);else{Wn(L,F,Yn(404,{pathname:K}),{flushSync:Ae});return}}B.set(L,me);let Ze=Z,pt=(await Be("loader",T,ye,[G],de,L))[G.route.id];if(Eo(pt)&&(pt=await uE(pt,ye.signal,!0)||pt),B.get(L)===me&&B.delete(L),!ye.signal.aborted){if(qe.has(L)){Kn(L,Yi(void 0));return}if(Ra(pt))if(pe>Ze){Kn(L,Yi(void 0));return}else{Re.add(L),await Le(ye,pt,!1);return}if(_r(pt)){Wn(L,F,pt.error);return}He(!Eo(pt),"Unhandled fetcher deferred data"),Kn(L,Yi(pt.data))}}async function Le(L,F,K,G){let{submission:de,fetcherSubmission:_e,replace:Ae}=G===void 0?{}:G;F.response.headers.has("X-Remix-Revalidate")&&(te=!0);let se=F.response.headers.get("Location");He(se,"Expected a Location header on the redirect Response"),se=eA(se,new URL(L.url),l);let ve=oh(T.location,se,{_isRedirect:!0});if(n){let Ye=!1;if(F.response.headers.has("X-Remix-Reload-Document"))Ye=!0;else if(cE.test(se)){const tn=t.history.createURL(se);Ye=tn.origin!==e.location.origin||iu(tn.pathname,l)==null}if(Ye){Ae?e.location.replace(se):e.location.assign(se);return}}M=null;let me=Ae===!0||F.response.headers.has("X-Remix-Replace")?rn.Replace:rn.Push,{formMethod:ye,formAction:Ze,formEncType:ot}=T.navigation;!de&&!_e&&ye&&Ze&&ot&&(de=aA(T.navigation));let pt=de||_e;if(yK.has(F.response.status)&&pt&&cs(pt.formMethod))await j(me,ve,{submission:Ot({},pt,{formAction:se}),preventScrollReset:C,enableViewTransition:K?k:void 0});else{let Ye=Jv(ve,de);await j(me,ve,{overrideNavigation:Ye,fetcherSubmission:_e,preventScrollReset:C,enableViewTransition:K?k:void 0})}}async function Be(L,F,K,G,de,_e){let Ae,se={};try{Ae=await AK(c,L,F,K,G,de,_e,i,s)}catch(ve){return G.forEach(me=>{se[me.route.id]={type:mt.error,error:ve}}),se}for(let[ve,me]of Object.entries(Ae))if(MK(me)){let ye=me.result;se[ve]={type:mt.redirect,response:PK(ye,K,ve,de,l,d.v7_relativeSplatPath)}}else se[ve]=await RK(me);return se}async function zn(L,F,K,G,de){let _e=L.matches,Ae=Be("loader",L,de,K,F,null),se=Promise.all(G.map(async ye=>{if(ye.matches&&ye.match&&ye.controller){let ot=(await Be("loader",L,Nl(t.history,ye.path,ye.controller.signal),[ye.match],ye.matches,ye.key))[ye.match.route.id];return{[ye.key]:ot}}else return Promise.resolve({[ye.key]:{type:mt.error,error:Yn(404,{pathname:ye.path})}})})),ve=await Ae,me=(await se).reduce((ye,Ze)=>Object.assign(ye,Ze),{});return await Promise.all([LK(F,ve,de.signal,_e,L.loaderData),VK(F,me,G)]),{loaderResults:ve,fetcherResults:me}}function Ui(){te=!0,ne.push(...Sl()),Je.forEach((L,F)=>{B.has(F)&&(z.add(F),Hn(F))})}function Kn(L,F,K){K===void 0&&(K={}),T.fetchers.set(L,F),it({fetchers:new Map(T.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function Wn(L,F,K,G){G===void 0&&(G={});let de=Xl(T.matches,F);Ss(L),it({errors:{[de.route.id]:K},fetchers:new Map(T.fetchers)},{flushSync:(G&&G.flushSync)===!0})}function bs(L){return d.v7_fetcherPersist&&(wt.set(L,(wt.get(L)||0)+1),qe.has(L)&&qe.delete(L)),T.fetchers.get(L)||vK}function Ss(L){let F=T.fetchers.get(L);B.has(L)&&!(F&&F.state==="loading"&&Te.has(L))&&Hn(L),Je.delete(L),Te.delete(L),Re.delete(L),qe.delete(L),z.delete(L),T.fetchers.delete(L)}function El(L){if(d.v7_fetcherPersist){let F=(wt.get(L)||0)-1;F<=0?(wt.delete(L),qe.add(L)):wt.set(L,F)}else Ss(L);it({fetchers:new Map(T.fetchers)})}function Hn(L){let F=B.get(L);He(F,"Expected fetch controller: "+L),F.abort(),B.delete(L)}function Rf(L){for(let F of L){let K=bs(F),G=Yi(K.data);T.fetchers.set(F,G)}}function Pf(){let L=[],F=!1;for(let K of Re){let G=T.fetchers.get(K);He(G,"Expected fetcher: "+K),G.state==="loading"&&(Re.delete(K),L.push(K),F=!0)}return Rf(L),F}function Tl(L){let F=[];for(let[K,G]of Te)if(G<L){let de=T.fetchers.get(K);He(de,"Expected fetcher: "+K),de.state==="loading"&&(Hn(K),Te.delete(K),F.push(K))}return Rf(F),F.length>0}function Nf(L,F){let K=T.blockers.get(L)||$u;return Ve.get(L)!==F&&Ve.set(L,F),K}function Tu(L){T.blockers.delete(L),Ve.delete(L)}function Is(L,F){let K=T.blockers.get(L)||$u;He(K.state==="unblocked"&&F.state==="blocked"||K.state==="blocked"&&F.state==="blocked"||K.state==="blocked"&&F.state==="proceeding"||K.state==="blocked"&&F.state==="unblocked"||K.state==="proceeding"&&F.state==="unblocked","Invalid blocker state transition: "+K.state+" -> "+F.state);let G=new Map(T.blockers);G.set(L,F),it({blockers:G})}function bl(L){let{currentLocation:F,nextLocation:K,historyAction:G}=L;if(Ve.size===0)return;Ve.size>1&&Bc(!1,"A router only supports one blocker at a time");let de=Array.from(Ve.entries()),[_e,Ae]=de[de.length-1],se=T.blockers.get(_e);if(!(se&&se.state==="proceeding")&&Ae({currentLocation:F,nextLocation:K,historyAction:G}))return _e}function ua(L){let F=Yn(404,{pathname:L}),K=a||o,{matches:G,route:de}=iA(K);return Sl(),{notFoundMatches:G,route:de,error:F}}function jr(L,F){return{boundaryId:Xl(F.partialMatches).route.id,error:Yn(400,{type:"route-discovery",pathname:L,message:F.error!=null&&"message"in F.error?F.error:String(F.error)})}}function Sl(L){let F=[];return ue.forEach((K,G)=>{(!L||L(G))&&(K.cancel(),F.push(G),ue.delete(G))}),F}function Il(L,F,K){if(_=L,y=F,x=K||null,!b&&T.navigation===Xv){b=!0;let G=Su(T.location,T.matches);G!=null&&it({restoreScrollPosition:G})}return()=>{_=null,y=null,x=null}}function bu(L,F){return x&&x(L,F.map(G=>Q9(G,T.loaderData)))||L.key}function da(L,F){if(_&&y){let K=bu(L,F);_[K]=y()}}function Su(L,F){if(_){let K=bu(L,F),G=_[K];if(typeof G=="number")return G}return null}function en(L,F,K){if(u){if(v.has(K))return{active:!1,matches:L};if(L){if(Object.keys(L[0].params).length>0)return{active:!0,matches:Gp(F,K,l,!0)}}else return{active:!0,matches:Gp(F,K,l,!0)||[]}}return{active:!1,matches:null}}async function ha(L,F,K){let G=L;for(;;){let de=a==null,_e=a||o;try{await bK(u,F,G,_e,i,s,st,K)}catch(ve){return{type:"error",error:ve,partialMatches:G}}finally{de&&(o=[...o])}if(K.aborted)return{type:"aborted"};let Ae=Sa(_e,F,l);if(Ae)return Bi(F,v),{type:"success",matches:Ae};let se=Gp(_e,F,l,!0);if(!se||G.length===se.length&&G.every((ve,me)=>ve.route.id===se[me].route.id))return Bi(F,v),{type:"success",matches:null};G=se}}function Bi(L,F){if(F.size>=w){let K=F.values().next().value;F.delete(K)}F.add(L)}function fa(L){i={},a=ah(L,s,void 0,i)}function cv(L,F){let K=a==null;ck(L,F,a||o,i,s),K&&(o=[...o],it({}))}return A={get basename(){return l},get future(){return d},get state(){return T},get routes(){return o},get window(){return e},initialize:Ke,subscribe:$t,enableScrollRestoration:Il,navigate:Or,fetch:J,revalidate:Ts,createHref:L=>t.history.createHref(L),encodeLocation:L=>t.history.encodeLocation(L),getFetcher:bs,deleteFetcher:El,dispose:Qe,getBlocker:Nf,deleteBlocker:Tu,patchRoutes:cv,_internalFetchControllers:B,_internalActiveDeferreds:ue,_internalSetRoutes:fa},A}function _K(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function $0(t,e,n,r,s,i,o,a){let l,c;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){c=d;break}}else l=e,c=e[e.length-1];let u=Jg(s||".",Xg(l,i),iu(t.pathname,n)||t.pathname,a==="path");return s==null&&(u.search=t.search,u.hash=t.hash),(s==null||s===""||s===".")&&c&&c.route.index&&!dE(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:pi([n,u.pathname])),el(u)}function XI(t,e,n,r){if(!r||!_K(r))return{path:n};if(r.formMethod&&!jK(r.formMethod))return{path:n,error:Yn(405,{method:r.formMethod})};let s=()=>({path:n,error:Yn(400,{type:"invalid-body"})}),i=r.formMethod||"get",o=t?i.toUpperCase():i.toLowerCase(),a=uk(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!cs(o))return s();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((g,w)=>{let[v,_]=w;return""+g+v+"="+_+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!cs(o))return s();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return s()}}}He(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=z0(r.formData),c=r.formData;else if(r.body instanceof FormData)l=z0(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=tA(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=tA(l)}catch{return s()}let u={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(cs(u.formMethod))return{path:n,submission:u};let d=ta(n);return e&&d.search&&dE(d.search)&&l.append("index",""),d.search="?"+l,{path:el(d),submission:u}}function EK(t,e){let n=t;if(e){let r=t.findIndex(s=>s.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function JI(t,e,n,r,s,i,o,a,l,c,u,d,p,g,w,v){let _=v?_r(v[1])?v[1].error:v[1].data:void 0,x=t.createURL(e.location),y=t.createURL(s),b=v&&_r(v[1])?v[0]:void 0,I=b?EK(n,b):n,D=v?v[1].statusCode:void 0,O=o&&D&&D>=400,A=I.filter((R,C)=>{let{route:M}=R;if(M.lazy)return!0;if(M.loader==null)return!1;if(i)return typeof M.loader!="function"||M.loader.hydrate?!0:e.loaderData[M.id]===void 0&&(!e.errors||e.errors[M.id]===void 0);if(TK(e.loaderData,e.matches[C],R)||l.some(H=>H===R.route.id))return!0;let k=e.matches[C],N=R;return ZI(R,Ot({currentUrl:x,currentParams:k.params,nextUrl:y,nextParams:N.params},r,{actionResult:_,actionStatus:D,defaultShouldRevalidate:O?!1:a||x.pathname+x.search===y.pathname+y.search||x.search!==y.search||lk(k,N)}))}),T=[];return d.forEach((R,C)=>{if(i||!n.some(ae=>ae.route.id===R.routeId)||u.has(C))return;let M=Sa(g,R.path,w);if(!M){T.push({key:C,routeId:R.routeId,path:R.path,matches:null,match:null,controller:null});return}let k=e.fetchers.get(C),N=rd(M,R.path),H=!1;p.has(C)?H=!1:c.has(C)?(c.delete(C),H=!0):k&&k.state!=="idle"&&k.data===void 0?H=a:H=ZI(N,Ot({currentUrl:x,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:_,actionStatus:D,defaultShouldRevalidate:O?!1:a})),H&&T.push({key:C,routeId:R.routeId,path:R.path,matches:M,match:N,controller:new AbortController})}),[A,T]}function TK(t,e,n){let r=!e||n.route.id!==e.route.id,s=t[n.route.id]===void 0;return r||s}function lk(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function ZI(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function bK(t,e,n,r,s,i,o,a){let l=[e,...n.map(c=>c.route.id)].join("-");try{let c=o.get(l);c||(c=t({path:e,matches:n,patch:(u,d)=>{a.aborted||ck(u,d,r,s,i)}}),o.set(l,c)),c&&kK(c)&&await c}finally{o.delete(l)}}function ck(t,e,n,r,s){if(t){var i;let o=r[t];He(o,"No route found to patch children into: routeId = "+t);let a=ah(e,s,[t,"patch",String(((i=o.children)==null?void 0:i.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=ah(e,s,["patch",String(n.length||"0")],r);n.push(...o)}}async function SK(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let s=n[t.id];He(s,"No route found in manifest");let i={};for(let o in r){let l=s[o]!==void 0&&o!=="hasErrorBoundary";Bc(!l,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!q9.has(o)&&(i[o]=r[o])}Object.assign(s,i),Object.assign(s,Ot({},e(s),{lazy:void 0}))}async function IK(t){let{matches:e}=t,n=e.filter(s=>s.shouldLoad);return(await Promise.all(n.map(s=>s.resolve()))).reduce((s,i,o)=>Object.assign(s,{[n[o].route.id]:i}),{})}async function AK(t,e,n,r,s,i,o,a,l,c){let u=i.map(g=>g.route.lazy?SK(g.route,l,a):void 0),d=i.map((g,w)=>{let v=u[w],_=s.some(y=>y.route.id===g.route.id);return Ot({},g,{shouldLoad:_,resolve:async y=>(y&&r.method==="GET"&&(g.route.lazy||g.route.loader)&&(_=!0),_?CK(e,r,g,v,y,c):Promise.resolve({type:mt.data,result:void 0}))})}),p=await t({matches:d,request:r,params:i[0].params,fetcherKey:o,context:c});try{await Promise.all(u)}catch{}return p}async function CK(t,e,n,r,s,i){let o,a,l=c=>{let u,d=new Promise((w,v)=>u=v);a=()=>u(),e.signal.addEventListener("abort",a);let p=w=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:i},...w!==void 0?[w]:[]),g=(async()=>{try{return{type:"data",result:await(s?s(v=>p(v)):p())}}catch(w){return{type:"error",result:w}}})();return Promise.race([g,d])};try{let c=n.route[t];if(r)if(c){let u,[d]=await Promise.all([l(c).catch(p=>{u=p}),r]);if(u!==void 0)throw u;o=d}else if(await r,c=n.route[t],c)o=await l(c);else if(t==="action"){let u=new URL(e.url),d=u.pathname+u.search;throw Yn(405,{method:e.method,pathname:d,routeId:n.route.id})}else return{type:mt.data,result:void 0};else if(c)o=await l(c);else{let u=new URL(e.url),d=u.pathname+u.search;throw Yn(404,{pathname:d})}He(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:mt.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function RK(t){let{result:e,type:n}=t;if(dk(e)){let c;try{let u=e.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(u){return{type:mt.error,error:u}}return n===mt.error?{type:mt.error,error:new zm(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:mt.data,data:c,statusCode:e.status,headers:e.headers}}if(n===mt.error){if(oA(e)){var r;if(e.data instanceof Error){var s;return{type:mt.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status}}e=new zm(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:mt.error,error:e,statusCode:Qh(e)?e.status:void 0}}if(OK(e)){var i,o;return{type:mt.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(oA(e)){var a,l;return{type:mt.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:mt.data,data:e}}function PK(t,e,n,r,s,i){let o=t.headers.get("Location");if(He(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!cE.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=$0(new URL(e.url),a,s,!0,o,i),t.headers.set("Location",o)}return t}function eA(t,e,n){if(cE.test(t)){let r=t,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),i=iu(s.pathname,n)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return t}function Nl(t,e,n,r){let s=t.createURL(uk(e)).toString(),i={signal:n};if(r&&cs(r.formMethod)){let{formMethod:o,formEncType:a}=r;i.method=o.toUpperCase(),a==="application/json"?(i.headers=new Headers({"Content-Type":a}),i.body=JSON.stringify(r.json)):a==="text/plain"?i.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?i.body=z0(r.formData):i.body=r.formData}return new Request(s,i)}function z0(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function tA(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function NK(t,e,n,r,s){let i={},o=null,a,l=!1,c={},u=n&&_r(n[1])?n[1].error:void 0;return t.forEach(d=>{if(!(d.route.id in e))return;let p=d.route.id,g=e[p];if(He(!Ra(g),"Cannot handle redirect results in processLoaderData"),_r(g)){let w=g.error;u!==void 0&&(w=u,u=void 0),o=o||{};{let v=Xl(t,p);o[v.route.id]==null&&(o[v.route.id]=w)}i[p]=void 0,l||(l=!0,a=Qh(g.error)?g.error.status:500),g.headers&&(c[p]=g.headers)}else Eo(g)?(r.set(p,g.deferredData),i[p]=g.deferredData.data,g.statusCode!=null&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(c[p]=g.headers)):(i[p]=g.data,g.statusCode&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(c[p]=g.headers))}),u!==void 0&&n&&(o={[n[0]]:u},i[n[0]]=void 0),{loaderData:i,errors:o,statusCode:a||200,loaderHeaders:c}}function nA(t,e,n,r,s,i,o,a){let{loaderData:l,errors:c}=NK(e,r,s,a);return i.forEach(u=>{let{key:d,match:p,controller:g}=u,w=o[d];if(He(w,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(_r(w)){let v=Xl(t.matches,p==null?void 0:p.route.id);c&&c[v.route.id]||(c=Ot({},c,{[v.route.id]:w.error})),t.fetchers.delete(d)}else if(Ra(w))He(!1,"Unhandled fetcher revalidation redirect");else if(Eo(w))He(!1,"Unhandled fetcher deferred data");else{let v=Yi(w.data);t.fetchers.set(d,v)}}),{loaderData:l,errors:c}}function rA(t,e,n,r){let s=Ot({},e);for(let i of n){let o=i.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(s[o]=e[o]):t[o]!==void 0&&i.route.loader&&(s[o]=t[o]),r&&r.hasOwnProperty(o))break}return s}function sA(t){return t?_r(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Xl(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function iA(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Yn(t,e){let{pathname:n,routeId:r,method:s,type:i,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):s&&n&&r?l="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",s&&n&&r?l="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(l='Invalid request method "'+s.toUpperCase()+'"')),new zm(t||500,a,new Error(l),!0)}function cp(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,s]=e[n];if(Ra(s))return{key:r,result:s}}}function uk(t){let e=typeof t=="string"?ta(t):t;return el(Ot({},e,{hash:""}))}function DK(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function kK(t){return typeof t=="object"&&t!=null&&"then"in t}function MK(t){return dk(t.result)&&gK.has(t.result.status)}function Eo(t){return t.type===mt.deferred}function _r(t){return t.type===mt.error}function Ra(t){return(t&&t.type)===mt.redirect}function oA(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function OK(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function dk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function jK(t){return mK.has(t.toLowerCase())}function cs(t){return fK.has(t.toLowerCase())}async function LK(t,e,n,r,s){let i=Object.entries(e);for(let o=0;o<i.length;o++){let[a,l]=i[o],c=t.find(p=>(p==null?void 0:p.route.id)===a);if(!c)continue;let u=r.find(p=>p.route.id===c.route.id),d=u!=null&&!lk(u,c)&&(s&&s[c.route.id])!==void 0;Eo(l)&&d&&await uE(l,n,!1).then(p=>{p&&(e[a]=p)})}}async function VK(t,e,n){for(let r=0;r<n.length;r++){let{key:s,routeId:i,controller:o}=n[r],a=e[s];t.find(c=>(c==null?void 0:c.route.id)===i)&&Eo(a)&&(He(o,"Expected an AbortController for revalidating fetcher deferred result"),await uE(a,o.signal,!0).then(c=>{c&&(e[s]=c)}))}}async function uE(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:mt.data,data:t.deferredData.unwrappedData}}catch(s){return{type:mt.error,error:s}}return{type:mt.data,data:t.deferredData.data}}}function dE(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function rd(t,e){let n=typeof e=="string"?ta(e).search:e.search;if(t[t.length-1].route.index&&dE(n||""))return t[t.length-1];let r=ik(t);return r[r.length-1]}function aA(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:i,json:o}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Jv(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function FK(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function zu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function UK(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Yi(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function BK(t,e){try{let n=t.sessionStorage.getItem(ak);if(n){let r=JSON.parse(n);for(let[s,i]of Object.entries(r||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function $K(t,e){if(e.size>0){let n={};for(let[r,s]of e)n[r]=[...s];try{t.sessionStorage.setItem(ak,JSON.stringify(n))}catch(r){Bc(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Km(){return Km=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Km.apply(this,arguments)}const Zg=m.createContext(null),hk=m.createContext(null),na=m.createContext(null),hE=m.createContext(null),ra=m.createContext({outlet:null,matches:[],isDataRoute:!1}),fk=m.createContext(null);function zK(t,e){let{relative:n}=e===void 0?{}:e;ou()||He(!1);let{basename:r,navigator:s}=m.useContext(na),{hash:i,pathname:o,search:a}=mk(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:pi([r,o])),s.createHref({pathname:l,search:a,hash:i})}function ou(){return m.useContext(hE)!=null}function au(){return ou()||He(!1),m.useContext(hE).location}function pk(t){m.useContext(na).static||m.useLayoutEffect(t)}function Yh(){let{isDataRoute:t}=m.useContext(ra);return t?eW():KK()}function KK(){ou()||He(!1);let t=m.useContext(Zg),{basename:e,future:n,navigator:r}=m.useContext(na),{matches:s}=m.useContext(ra),{pathname:i}=au(),o=JSON.stringify(Xg(s,n.v7_relativeSplatPath)),a=m.useRef(!1);return pk(()=>{a.current=!0}),m.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Jg(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:pi([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,i,t])}function mk(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext(na),{matches:s}=m.useContext(ra),{pathname:i}=au(),o=JSON.stringify(Xg(s,r.v7_relativeSplatPath));return m.useMemo(()=>Jg(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function WK(t,e,n,r){ou()||He(!1);let{navigator:s}=m.useContext(na),{matches:i}=m.useContext(ra),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=au(),u;u=c;let d=u.pathname||"/",p=d;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=Sa(t,{pathname:p});return YK(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:pi([l,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:pi([l,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n,r)}function HK(){let t=vk(),e=Qh(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:s},n):null,null)}const qK=m.createElement(HK,null);class GK extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(ra.Provider,{value:this.props.routeContext},m.createElement(fk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QK(t){let{routeContext:e,match:n,children:r}=t,s=m.useContext(Zg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(ra.Provider,{value:e},r)}function YK(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||He(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:p,errors:g}=n,w=d.route.loader&&p[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,p)=>{let g,w=!1,v=null,_=null;n&&(g=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||qK,l&&(c<0&&p===0?(tW("route-fallback"),w=!0,_=null):c===p&&(w=!0,_=d.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,p+1)),y=()=>{let b;return g?b=v:w?b=_:d.route.Component?b=m.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,m.createElement(QK,{match:d,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:b})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?m.createElement(GK,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var gk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(gk||{}),Wm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Wm||{});function XK(t){let e=m.useContext(Zg);return e||He(!1),e}function JK(t){let e=m.useContext(hk);return e||He(!1),e}function ZK(t){let e=m.useContext(ra);return e||He(!1),e}function yk(t){let e=ZK(),n=e.matches[e.matches.length-1];return n.route.id||He(!1),n.route.id}function vk(){var t;let e=m.useContext(fk),n=JK(Wm.UseRouteError),r=yk(Wm.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function eW(){let{router:t}=XK(gk.UseNavigateStable),e=yk(Wm.UseNavigateStable),n=m.useRef(!1);return pk(()=>{n.current=!0}),m.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Km({fromRouteId:e},i)))},[t,e])}const lA={};function tW(t,e,n){lA[t]||(lA[t]=!0)}function wk(t){let{to:e,replace:n,state:r,relative:s}=t;ou()||He(!1);let{future:i,static:o}=m.useContext(na),{matches:a}=m.useContext(ra),{pathname:l}=au(),c=Yh(),u=Jg(e,Xg(a,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(u);return m.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:s}),[c,d,s,n,r]),null}function nW(t){let{basename:e="/",children:n=null,location:r,navigationType:s=rn.Pop,navigator:i,static:o=!1,future:a}=t;ou()&&He(!1);let l=e.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:l,navigator:i,static:o,future:Km({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=ta(r));let{pathname:u="/",search:d="",hash:p="",state:g=null,key:w="default"}=r,v=m.useMemo(()=>{let _=iu(u,l);return _==null?null:{location:{pathname:_,search:d,hash:p,state:g,key:w},navigationType:s}},[l,u,d,p,g,w,s]);return v==null?null:m.createElement(na.Provider,{value:c},m.createElement(hE.Provider,{children:n,value:v}))}new Promise(()=>{});function rW(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:m.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:m.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:m.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lh(){return lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lh.apply(this,arguments)}function sW(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function iW(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function oW(t,e){return t.button===0&&(!e||e==="_self")&&!iW(t)}const aW=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],lW="6";try{window.__reactRouterVersion=lW}catch{}function cW(t,e){return xK({basename:e==null?void 0:e.basename,future:lh({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:K9({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||uW(),routes:t,mapRouteProperties:rW,unstable_dataStrategy:e==null?void 0:e.unstable_dataStrategy,unstable_patchRoutesOnNavigation:e==null?void 0:e.unstable_patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function uW(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=lh({},e,{errors:dW(e.errors)})),e}function dW(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new zm(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let i=new Error(s.message);i.stack="",n[r]=i}}else n[r]=s;return n}const hW=m.createContext({isTransitioning:!1}),fW=m.createContext(new Map),pW="startTransition",cA=JR[pW],mW="flushSync",uA=L5[mW];function gW(t){cA?cA(t):t()}function Ku(t){uA?uA(t):t()}class yW{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function vW(t){let{fallbackElement:e,router:n,future:r}=t,[s,i]=m.useState(n.state),[o,a]=m.useState(),[l,c]=m.useState({isTransitioning:!1}),[u,d]=m.useState(),[p,g]=m.useState(),[w,v]=m.useState(),_=m.useRef(new Map),{v7_startTransition:x}=r||{},y=m.useCallback(T=>{x?gW(T):T()},[x]),b=m.useCallback((T,R)=>{let{deletedFetchers:C,unstable_flushSync:M,unstable_viewTransitionOpts:k}=R;C.forEach(H=>_.current.delete(H)),T.fetchers.forEach((H,ae)=>{H.data!==void 0&&_.current.set(ae,H.data)});let N=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!k||N){M?Ku(()=>i(T)):y(()=>i(T));return}if(M){Ku(()=>{p&&(u&&u.resolve(),p.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:k.currentLocation,nextLocation:k.nextLocation})});let H=n.window.document.startViewTransition(()=>{Ku(()=>i(T))});H.finished.finally(()=>{Ku(()=>{d(void 0),g(void 0),a(void 0),c({isTransitioning:!1})})}),Ku(()=>g(H));return}p?(u&&u.resolve(),p.skipTransition(),v({state:T,currentLocation:k.currentLocation,nextLocation:k.nextLocation})):(a(T),c({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}))},[n.window,p,u,_,y]);m.useLayoutEffect(()=>n.subscribe(b),[n,b]),m.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new yW)},[l]),m.useEffect(()=>{if(u&&o&&n.window){let T=o,R=u.promise,C=n.window.document.startViewTransition(async()=>{y(()=>i(T)),await R});C.finished.finally(()=>{d(void 0),g(void 0),a(void 0),c({isTransitioning:!1})}),g(C)}},[y,o,u,n.window]),m.useEffect(()=>{u&&o&&s.location.key===o.location.key&&u.resolve()},[u,p,s.location,o]),m.useEffect(()=>{!l.isTransitioning&&w&&(a(w.state),c({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),v(void 0))},[l.isTransitioning,w]),m.useEffect(()=>{},[]);let I=m.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:T=>n.navigate(T),push:(T,R,C)=>n.navigate(T,{state:R,preventScrollReset:C==null?void 0:C.preventScrollReset}),replace:(T,R,C)=>n.navigate(T,{replace:!0,state:R,preventScrollReset:C==null?void 0:C.preventScrollReset})}),[n]),D=n.basename||"/",O=m.useMemo(()=>({router:n,navigator:I,static:!1,basename:D}),[n,I,D]),A=m.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return m.createElement(m.Fragment,null,m.createElement(Zg.Provider,{value:O},m.createElement(hk.Provider,{value:s},m.createElement(fW.Provider,{value:_.current},m.createElement(hW.Provider,{value:l},m.createElement(nW,{basename:D,location:s.location,navigationType:s.historyAction,navigator:I,future:A},s.initialized||n.future.v7_partialHydration?m.createElement(wW,{routes:n.routes,future:n.future,state:s}):e))))),null)}const wW=m.memo(xW);function xW(t){let{routes:e,future:n,state:r}=t;return WK(e,void 0,r,n)}const _W=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",EW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,TW=m.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,p=sW(e,aW),{basename:g}=m.useContext(na),w,v=!1;if(typeof c=="string"&&EW.test(c)&&(w=c,_W))try{let b=new URL(window.location.href),I=c.startsWith("//")?new URL(b.protocol+c):new URL(c),D=iu(I.pathname,g);I.origin===b.origin&&D!=null?c=D+I.search+I.hash:v=!0}catch{}let _=zK(c,{relative:s}),x=bW(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,unstable_viewTransition:d});function y(b){r&&r(b),b.defaultPrevented||x(b)}return m.createElement("a",lh({},p,{href:w||_,onClick:v||i?r:y,ref:n,target:l}))});var dA;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(dA||(dA={}));var hA;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(hA||(hA={}));function bW(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Yh(),c=au(),u=mk(t,{relative:o});return m.useCallback(d=>{if(oW(d,n)){d.preventDefault();let p=r!==void 0?r:el(c)===el(u);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[c,l,u,r,s,n,t,i,o,a])}const SW=()=>{const t=Et(n=>n.isAuth),e=Yh();m.useEffect(()=>{(async()=>{try{const r=h9();await Yz(r),yt("Sign in success")}catch{}})()},[]),m.useEffect(()=>{if(!t)return e("/login")},[t])};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xk=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CW=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>m.createElement("svg",{ref:l,...AW,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:xk("lucide",s),...a},[...o.map(([c,u])=>m.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(t,e)=>{const n=m.forwardRef(({className:r,...s},i)=>m.createElement(CW,{ref:i,iconNode:e,className:xk(`lucide-${IW(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=ze("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RW=ze("Blocks",[["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["path",{d:"M10 21V8a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H3",key:"1fpvtg"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PW=ze("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NW=ze("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DW=ze("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kW=ze("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=ze("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MW=ze("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=ze("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OW=ze("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jW=ze("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LW=ze("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=ze("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=ze("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=ze("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=ze("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=ze("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VW=ze("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FW=ze("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UW=ze("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BW=ze("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $W=ze("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zW=ze("PanelRight",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=ze("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KW=ze("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=ze("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WW=ze("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HW=ze("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=ze("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qW=ze("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=ze("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=ze("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=ze("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QW=ze("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function ee(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function YW(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function ry(...t){return e=>t.forEach(n=>YW(n,e))}function Oe(...t){return m.useCallback(ry(...t),t)}function XW(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=d=>{var x;const{scope:p,children:g,...w}=d,v=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,_=m.useMemo(()=>w,Object.values(w));return h.jsx(v.Provider,{value:_,children:g})};c.displayName=i+"Provider";function u(d,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,JW(s,...e)]}function JW(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Mt(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Uo({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=ZW({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Mt(n),l=m.useCallback(c=>{if(i){const d=typeof c=="function"?c(t):c;d!==t&&a(d)}else s(c)},[i,t,s,a]);return[o,l]}function ZW({defaultProp:t,onChange:e}){const n=m.useState(t),[r]=n,s=m.useRef(r),i=Mt(e);return m.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var Bo=m.forwardRef((t,e)=>{const{children:n,...r}=t,s=m.Children.toArray(n),i=s.find(eH);if(i){const o=i.props.children,a=s.map(l=>l===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:l);return h.jsx(K0,{...r,ref:e,children:m.isValidElement(o)?m.cloneElement(o,void 0,a):null})}return h.jsx(K0,{...r,ref:e,children:n})});Bo.displayName="Slot";var K0=m.forwardRef((t,e)=>{const{children:n,...r}=t;if(m.isValidElement(n)){const s=nH(n);return m.cloneElement(n,{...tH(r,n.props),ref:e?ry(e,s):s})}return m.Children.count(n)>1?m.Children.only(null):null});K0.displayName="SlotClone";var mE=({children:t})=>h.jsx(h.Fragment,{children:t});function eH(t){return m.isValidElement(t)&&t.type===mE}function tH(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function nH(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var rH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],xe=rH.reduce((t,e)=>{const n=m.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Bo:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function ml(t,e){t&&ji.flushSync(()=>t.dispatchEvent(e))}function lu(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];function c(d){const{scope:p,children:g,...w}=d,v=(p==null?void 0:p[t][l])||a,_=m.useMemo(()=>w,Object.values(w));return h.jsx(v.Provider,{value:_,children:g})}function u(d,p){const g=(p==null?void 0:p[t][l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,sH(s,...e)]}function sH(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function sy(t){const e=t+"CollectionProvider",[n,r]=lu(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:w,children:v}=g,_=We.useRef(null),x=We.useRef(new Map).current;return h.jsx(s,{scope:w,itemMap:x,collectionRef:_,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=We.forwardRef((g,w)=>{const{scope:v,children:_}=g,x=i(a,v),y=Oe(w,x.collectionRef);return h.jsx(Bo,{ref:y,children:_})});l.displayName=a;const c=t+"CollectionItemSlot",u="data-radix-collection-item",d=We.forwardRef((g,w)=>{const{scope:v,children:_,...x}=g,y=We.useRef(null),b=Oe(w,y),I=i(c,v);return We.useEffect(()=>(I.itemMap.set(y,{ref:y,...x}),()=>void I.itemMap.delete(y))),h.jsx(Bo,{[u]:"",ref:b,children:_})});d.displayName=c;function p(g){const w=i(t+"CollectionConsumer",g);return We.useCallback(()=>{const _=w.collectionRef.current;if(!_)return[];const x=Array.from(_.querySelectorAll(`[${u}]`));return Array.from(w.itemMap.values()).sort((I,D)=>x.indexOf(I.ref.current)-x.indexOf(D.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:l,ItemSlot:d},p,r]}function iH(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=d=>{var x;const{scope:p,children:g,...w}=d,v=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,_=m.useMemo(()=>w,Object.values(w));return h.jsx(v.Provider,{value:_,children:g})};c.displayName=i+"Provider";function u(d,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,oH(s,...e)]}function oH(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var aH=m.createContext(void 0);function iy(t){const e=m.useContext(aH);return t||e||"ltr"}function Zh(t,e=globalThis==null?void 0:globalThis.document){const n=Mt(t);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var lH="DismissableLayer",W0="dismissableLayer.update",cH="dismissableLayer.pointerDownOutside",uH="dismissableLayer.focusOutside",pA,Nk=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Dk=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(Nk),[u,d]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=Oe(e,A=>d(A)),v=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(_),y=u?v.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,I=y>=x,D=fH(A=>{const T=A.target,R=[...c.branches].some(C=>C.contains(T));!I||R||(s==null||s(A),o==null||o(A),A.defaultPrevented||a==null||a())},p),O=pH(A=>{const T=A.target;[...c.branches].some(C=>C.contains(T))||(i==null||i(A),o==null||o(A),A.defaultPrevented||a==null||a())},p);return Zh(A=>{y===c.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&a&&(A.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(pA=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),mA(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=pA)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),mA())},[u,c]),m.useEffect(()=>{const A=()=>g({});return document.addEventListener(W0,A),()=>document.removeEventListener(W0,A)},[]),h.jsx(xe.div,{...l,ref:w,style:{pointerEvents:b?I?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,D.onPointerDownCapture)})});Dk.displayName=lH;var dH="DismissableLayerBranch",hH=m.forwardRef((t,e)=>{const n=m.useContext(Nk),r=m.useRef(null),s=Oe(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),h.jsx(xe.div,{...t,ref:s})});hH.displayName=dH;function fH(t,e=globalThis==null?void 0:globalThis.document){const n=Mt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){kk(cH,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function pH(t,e=globalThis==null?void 0:globalThis.document){const n=Mt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&kk(uH,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function mA(){const t=new CustomEvent(W0);document.dispatchEvent(t)}function kk(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?ml(s,i):s.dispatchEvent(i)}var Zv=0;function gE(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??gA()),document.body.insertAdjacentElement("beforeend",t[1]??gA()),Zv++,()=>{Zv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Zv--}},[])}function gA(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ew="focusScope.autoFocusOnMount",tw="focusScope.autoFocusOnUnmount",yA={bubbles:!1,cancelable:!0},mH="FocusScope",oy=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=m.useState(null),c=Mt(s),u=Mt(i),d=m.useRef(null),p=Oe(e,v=>l(v)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let v=function(b){if(g.paused||!a)return;const I=b.target;a.contains(I)?d.current=I:Xi(d.current,{select:!0})},_=function(b){if(g.paused||!a)return;const I=b.relatedTarget;I!==null&&(a.contains(I)||Xi(d.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const D of b)D.removedNodes.length>0&&Xi(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",_);const y=new MutationObserver(x);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",_),y.disconnect()}}},[r,a,g.paused]),m.useEffect(()=>{if(a){wA.add(g);const v=document.activeElement;if(!a.contains(v)){const x=new CustomEvent(ew,yA);a.addEventListener(ew,c),a.dispatchEvent(x),x.defaultPrevented||(gH(_H(Mk(a)),{select:!0}),document.activeElement===v&&Xi(a))}return()=>{a.removeEventListener(ew,c),setTimeout(()=>{const x=new CustomEvent(tw,yA);a.addEventListener(tw,u),a.dispatchEvent(x),x.defaultPrevented||Xi(v??document.body,{select:!0}),a.removeEventListener(tw,u),wA.remove(g)},0)}}},[a,c,u,g]);const w=m.useCallback(v=>{if(!n&&!r||g.paused)return;const _=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(_&&x){const y=v.currentTarget,[b,I]=yH(y);b&&I?!v.shiftKey&&x===I?(v.preventDefault(),n&&Xi(b,{select:!0})):v.shiftKey&&x===b&&(v.preventDefault(),n&&Xi(I,{select:!0})):x===y&&v.preventDefault()}},[n,r,g.paused]);return h.jsx(xe.div,{tabIndex:-1,...o,ref:p,onKeyDown:w})});oy.displayName=mH;function gH(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Xi(r,{select:e}),document.activeElement!==n)return}function yH(t){const e=Mk(t),n=vA(e,t),r=vA(e.reverse(),t);return[n,r]}function Mk(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function vA(t,e){for(const n of t)if(!vH(n,{upTo:e}))return n}function vH(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function wH(t){return t instanceof HTMLInputElement&&"select"in t}function Xi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&wH(t)&&e&&t.select()}}var wA=xH();function xH(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=xA(t,e),t.unshift(e)},remove(e){var n;t=xA(t,e),(n=t[0])==null||n.resume()}}}function xA(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function _H(t){return t.filter(e=>e.tagName!=="A")}var Nt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},EH=JR.useId||(()=>{}),TH=0;function ys(t){const[e,n]=m.useState(EH());return Nt(()=>{t||n(r=>r??String(TH++))},[t]),t||(e?`radix-${e}`:"")}const bH=["top","right","bottom","left"],$o=Math.min,Er=Math.max,Hm=Math.round,up=Math.floor,zo=t=>({x:t,y:t}),SH={left:"right",right:"left",bottom:"top",top:"bottom"},IH={start:"end",end:"start"};function H0(t,e,n){return Er(t,$o(e,n))}function Pi(t,e){return typeof t=="function"?t(e):t}function Ni(t){return t.split("-")[0]}function cu(t){return t.split("-")[1]}function yE(t){return t==="x"?"y":"x"}function vE(t){return t==="y"?"height":"width"}function Ko(t){return["top","bottom"].includes(Ni(t))?"y":"x"}function wE(t){return yE(Ko(t))}function AH(t,e,n){n===void 0&&(n=!1);const r=cu(t),s=wE(t),i=vE(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=qm(o)),[o,qm(o)]}function CH(t){const e=qm(t);return[q0(t),e,q0(e)]}function q0(t){return t.replace(/start|end/g,e=>IH[e])}function RH(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function PH(t,e,n,r){const s=cu(t);let i=RH(Ni(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(q0)))),i}function qm(t){return t.replace(/left|right|bottom|top/g,e=>SH[e])}function NH(t){return{top:0,right:0,bottom:0,left:0,...t}}function Ok(t){return typeof t!="number"?NH(t):{top:t,right:t,bottom:t,left:t}}function Gm(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function _A(t,e,n){let{reference:r,floating:s}=t;const i=Ko(e),o=wE(e),a=vE(o),l=Ni(e),c=i==="y",u=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:u,y:r.y-s.height};break;case"bottom":g={x:u,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:d};break;case"left":g={x:r.x-s.width,y:d};break;default:g={x:r.x,y:r.y}}switch(cu(e)){case"start":g[o]-=p*(n&&c?-1:1);break;case"end":g[o]+=p*(n&&c?-1:1);break}return g}const DH=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:d}=_A(c,r,l),p=r,g={},w=0;for(let v=0;v<a.length;v++){const{name:_,fn:x}=a[v],{x:y,y:b,data:I,reset:D}=await x({x:u,y:d,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});u=y??u,d=b??d,g={...g,[_]:{...g[_],...I}},D&&w<=50&&(w++,typeof D=="object"&&(D.placement&&(p=D.placement),D.rects&&(c=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:u,y:d}=_A(c,p,l)),v=-1)}return{x:u,y:d,placement:p,strategy:s,middlewareData:g}};async function ch(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:g=0}=Pi(e,t),w=Ok(g),_=a[p?d==="floating"?"reference":"floating":d],x=Gm(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=d==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),I=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},D=Gm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:b,strategy:l}):y);return{top:(x.top-D.top+w.top)/I.y,bottom:(D.bottom-x.bottom+w.bottom)/I.y,left:(x.left-D.left+w.left)/I.x,right:(D.right-x.right+w.right)/I.x}}const kH=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Pi(t,e)||{};if(c==null)return{};const d=Ok(u),p={x:n,y:r},g=wE(s),w=vE(g),v=await o.getDimensions(c),_=g==="y",x=_?"top":"left",y=_?"bottom":"right",b=_?"clientHeight":"clientWidth",I=i.reference[w]+i.reference[g]-p[g]-i.floating[w],D=p[g]-i.reference[g],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let A=O?O[b]:0;(!A||!await(o.isElement==null?void 0:o.isElement(O)))&&(A=a.floating[b]||i.floating[w]);const T=I/2-D/2,R=A/2-v[w]/2-1,C=$o(d[x],R),M=$o(d[y],R),k=C,N=A-v[w]-M,H=A/2-v[w]/2+T,ae=H0(k,H,N),te=!l.arrow&&cu(s)!=null&&H!==ae&&i.reference[w]/2-(H<k?C:M)-v[w]/2<0,ne=te?H<k?H-k:H-N:0;return{[g]:p[g]+ne,data:{[g]:ae,centerOffset:H-ae-ne,...te&&{alignmentOffset:ne}},reset:te}}}),MH=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,..._}=Pi(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Ni(s),y=Ko(a),b=Ni(a)===a,I=await(l.isRTL==null?void 0:l.isRTL(c.floating)),D=p||(b||!v?[qm(a)]:CH(a)),O=w!=="none";!p&&O&&D.push(...PH(a,v,w,I));const A=[a,...D],T=await ch(e,_),R=[];let C=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&R.push(T[x]),d){const H=AH(s,o,I);R.push(T[H[0]],T[H[1]])}if(C=[...C,{placement:s,overflows:R}],!R.every(H=>H<=0)){var M,k;const H=(((M=i.flip)==null?void 0:M.index)||0)+1,ae=A[H];if(ae)return{data:{index:H,overflows:C},reset:{placement:ae}};let te=(k=C.filter(ne=>ne.overflows[0]<=0).sort((ne,z)=>ne.overflows[1]-z.overflows[1])[0])==null?void 0:k.placement;if(!te)switch(g){case"bestFit":{var N;const ne=(N=C.filter(z=>{if(O){const B=Ko(z.placement);return B===y||B==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(B=>B>0).reduce((B,Z)=>B+Z,0)]).sort((z,B)=>z[1]-B[1])[0])==null?void 0:N[0];ne&&(te=ne);break}case"initialPlacement":te=a;break}if(s!==te)return{reset:{placement:te}}}return{}}}};function EA(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function TA(t){return bH.some(e=>t[e]>=0)}const OH=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Pi(t,e);switch(r){case"referenceHidden":{const i=await ch(e,{...s,elementContext:"reference"}),o=EA(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:TA(o)}}}case"escaped":{const i=await ch(e,{...s,altBoundary:!0}),o=EA(i,n.floating);return{data:{escapedOffsets:o,escaped:TA(o)}}}default:return{}}}}};async function jH(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Ni(n),a=cu(n),l=Ko(n)==="y",c=["left","top"].includes(o)?-1:1,u=i&&l?-1:1,d=Pi(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:w}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof w=="number"&&(g=a==="end"?w*-1:w),l?{x:g*u,y:p*c}:{x:p*c,y:g*u}}const LH=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await jH(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},VH=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x,y}=_;return{x,y}}},...l}=Pi(t,e),c={x:n,y:r},u=await ch(e,l),d=Ko(Ni(s)),p=yE(d);let g=c[p],w=c[d];if(i){const _=p==="y"?"top":"left",x=p==="y"?"bottom":"right",y=g+u[_],b=g-u[x];g=H0(y,g,b)}if(o){const _=d==="y"?"top":"left",x=d==="y"?"bottom":"right",y=w+u[_],b=w-u[x];w=H0(y,w,b)}const v=a.fn({...e,[p]:g,[d]:w});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[p]:i,[d]:o}}}}}},FH=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Pi(t,e),u={x:n,y:r},d=Ko(s),p=yE(d);let g=u[p],w=u[d];const v=Pi(a,e),_=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const b=p==="y"?"height":"width",I=i.reference[p]-i.floating[b]+_.mainAxis,D=i.reference[p]+i.reference[b]-_.mainAxis;g<I?g=I:g>D&&(g=D)}if(c){var x,y;const b=p==="y"?"width":"height",I=["top","left"].includes(Ni(s)),D=i.reference[d]-i.floating[b]+(I&&((x=o.offset)==null?void 0:x[d])||0)+(I?0:_.crossAxis),O=i.reference[d]+i.reference[b]+(I?0:((y=o.offset)==null?void 0:y[d])||0)-(I?_.crossAxis:0);w<D?w=D:w>O&&(w=O)}return{[p]:g,[d]:w}}}},UH=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Pi(t,e),u=await ch(e,c),d=Ni(s),p=cu(s),g=Ko(s)==="y",{width:w,height:v}=i.floating;let _,x;d==="top"||d==="bottom"?(_=d,x=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=d,_=p==="end"?"top":"bottom");const y=v-u.top-u.bottom,b=w-u.left-u.right,I=$o(v-u[_],y),D=$o(w-u[x],b),O=!e.middlewareData.shift;let A=I,T=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=y),O&&!p){const C=Er(u.left,0),M=Er(u.right,0),k=Er(u.top,0),N=Er(u.bottom,0);g?T=w-2*(C!==0||M!==0?C+M:Er(u.left,u.right)):A=v-2*(k!==0||N!==0?k+N:Er(u.top,u.bottom))}await l({...e,availableWidth:T,availableHeight:A});const R=await o.getDimensions(a.floating);return w!==R.width||v!==R.height?{reset:{rects:!0}}:{}}}};function ay(){return typeof window<"u"}function uu(t){return jk(t)?(t.nodeName||"").toLowerCase():"#document"}function Ar(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Qs(t){var e;return(e=(jk(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function jk(t){return ay()?t instanceof Node||t instanceof Ar(t).Node:!1}function xs(t){return ay()?t instanceof Element||t instanceof Ar(t).Element:!1}function Hs(t){return ay()?t instanceof HTMLElement||t instanceof Ar(t).HTMLElement:!1}function bA(t){return!ay()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ar(t).ShadowRoot}function ef(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=_s(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function BH(t){return["table","td","th"].includes(uu(t))}function ly(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function xE(t){const e=_E(),n=xs(t)?_s(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function $H(t){let e=Wo(t);for(;Hs(e)&&!$c(e);){if(xE(e))return e;if(ly(e))return null;e=Wo(e)}return null}function _E(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function $c(t){return["html","body","#document"].includes(uu(t))}function _s(t){return Ar(t).getComputedStyle(t)}function cy(t){return xs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Wo(t){if(uu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||bA(t)&&t.host||Qs(t);return bA(e)?e.host:e}function Lk(t){const e=Wo(t);return $c(e)?t.ownerDocument?t.ownerDocument.body:t.body:Hs(e)&&ef(e)?e:Lk(e)}function uh(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Lk(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Ar(s);if(i){const a=G0(o);return e.concat(o,o.visualViewport||[],ef(s)?s:[],a&&n?uh(a):[])}return e.concat(s,uh(s,[],n))}function G0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Vk(t){const e=_s(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Hs(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Hm(n)!==i||Hm(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function EE(t){return xs(t)?t:t.contextElement}function fc(t){const e=EE(t);if(!Hs(e))return zo(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=Vk(e);let o=(i?Hm(n.width):n.width)/r,a=(i?Hm(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const zH=zo(0);function Fk(t){const e=Ar(t);return!_E()||!e.visualViewport?zH:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function KH(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ar(t)?!1:e}function tl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=EE(t);let o=zo(1);e&&(r?xs(r)&&(o=fc(r)):o=fc(t));const a=KH(i,n,r)?Fk(i):zo(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,d=s.height/o.y;if(i){const p=Ar(i),g=r&&xs(r)?Ar(r):r;let w=p,v=G0(w);for(;v&&r&&g!==w;){const _=fc(v),x=v.getBoundingClientRect(),y=_s(v),b=x.left+(v.clientLeft+parseFloat(y.paddingLeft))*_.x,I=x.top+(v.clientTop+parseFloat(y.paddingTop))*_.y;l*=_.x,c*=_.y,u*=_.x,d*=_.y,l+=b,c+=I,w=Ar(v),v=G0(w)}}return Gm({width:u,height:d,x:l,y:c})}function WH(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Qs(r),a=e?ly(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=zo(1);const u=zo(0),d=Hs(r);if((d||!d&&!i)&&((uu(r)!=="body"||ef(o))&&(l=cy(r)),Hs(r))){const p=tl(r);c=fc(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function HH(t){return Array.from(t.getClientRects())}function Q0(t,e){const n=cy(t).scrollLeft;return e?e.left+n:tl(Qs(t)).left+n}function qH(t){const e=Qs(t),n=cy(t),r=t.ownerDocument.body,s=Er(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Er(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Q0(t);const a=-n.scrollTop;return _s(r).direction==="rtl"&&(o+=Er(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function GH(t,e){const n=Ar(t),r=Qs(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=_E();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function QH(t,e){const n=tl(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Hs(t)?fc(t):zo(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function SA(t,e,n){let r;if(e==="viewport")r=GH(t,n);else if(e==="document")r=qH(Qs(t));else if(xs(e))r=QH(e,n);else{const s=Fk(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return Gm(r)}function Uk(t,e){const n=Wo(t);return n===e||!xs(n)||$c(n)?!1:_s(n).position==="fixed"||Uk(n,e)}function YH(t,e){const n=e.get(t);if(n)return n;let r=uh(t,[],!1).filter(a=>xs(a)&&uu(a)!=="body"),s=null;const i=_s(t).position==="fixed";let o=i?Wo(t):t;for(;xs(o)&&!$c(o);){const a=_s(o),l=xE(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ef(o)&&!l&&Uk(t,o))?r=r.filter(u=>u!==o):s=a,o=Wo(o)}return e.set(t,r),r}function XH(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?ly(e)?[]:YH(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=SA(e,u,s);return c.top=Er(d.top,c.top),c.right=$o(d.right,c.right),c.bottom=$o(d.bottom,c.bottom),c.left=Er(d.left,c.left),c},SA(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function JH(t){const{width:e,height:n}=Vk(t);return{width:e,height:n}}function ZH(t,e,n){const r=Hs(e),s=Qs(e),i=n==="fixed",o=tl(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=zo(0);if(r||!r&&!i)if((uu(e)!=="body"||ef(s))&&(a=cy(e)),r){const g=tl(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&(l.x=Q0(s));let c=0,u=0;if(s&&!r&&!i){const g=s.getBoundingClientRect();u=g.top+a.scrollTop,c=g.left+a.scrollLeft-Q0(s,g)}const d=o.left+a.scrollLeft-l.x-c,p=o.top+a.scrollTop-l.y-u;return{x:d,y:p,width:o.width,height:o.height}}function nw(t){return _s(t).position==="static"}function IA(t,e){if(!Hs(t)||_s(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Qs(t)===n&&(n=n.ownerDocument.body),n}function Bk(t,e){const n=Ar(t);if(ly(t))return n;if(!Hs(t)){let s=Wo(t);for(;s&&!$c(s);){if(xs(s)&&!nw(s))return s;s=Wo(s)}return n}let r=IA(t,e);for(;r&&BH(r)&&nw(r);)r=IA(r,e);return r&&$c(r)&&nw(r)&&!xE(r)?n:r||$H(t)||n}const e8=async function(t){const e=this.getOffsetParent||Bk,n=this.getDimensions,r=await n(t.floating);return{reference:ZH(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function t8(t){return _s(t).direction==="rtl"}const n8={convertOffsetParentRelativeRectToViewportRelativeRect:WH,getDocumentElement:Qs,getClippingRect:XH,getOffsetParent:Bk,getElementRects:e8,getClientRects:HH,getDimensions:JH,getScale:fc,isElement:xs,isRTL:t8};function r8(t,e){let n=null,r;const s=Qs(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:u,width:d,height:p}=t.getBoundingClientRect();if(a||e(),!d||!p)return;const g=up(u),w=up(s.clientWidth-(c+d)),v=up(s.clientHeight-(u+p)),_=up(c),y={rootMargin:-g+"px "+-w+"px "+-v+"px "+-_+"px",threshold:Er(0,$o(1,l))||1};let b=!0;function I(D){const O=D[0].intersectionRatio;if(O!==l){if(!b)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(I,{...y,root:s.ownerDocument})}catch{n=new IntersectionObserver(I,y)}n.observe(t)}return o(!0),i}function s8(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=EE(t),u=s||i?[...c?uh(c):[],...uh(e)]:[];u.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const d=c&&a?r8(c,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(x=>{let[y]=x;y&&y.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let w,v=l?tl(t):null;l&&_();function _(){const x=tl(t);v&&(x.x!==v.x||x.y!==v.y||x.width!==v.width||x.height!==v.height)&&n(),v=x,w=requestAnimationFrame(_)}return n(),()=>{var x;u.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),d==null||d(),(x=g)==null||x.disconnect(),g=null,l&&cancelAnimationFrame(w)}}const i8=LH,o8=VH,a8=MH,l8=UH,c8=OH,AA=kH,u8=FH,d8=(t,e,n)=>{const r=new Map,s={platform:n8,...n},i={...s.platform,_c:r};return DH(t,e,{...s,platform:i})};var Qp=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Qm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Qm(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Qm(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function $k(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function CA(t,e){const n=$k(t);return Math.round(e*n)/n}function rw(t){const e=m.useRef(t);return Qp(()=>{e.current=t}),e}function h8(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=m.useState(r);Qm(p,r)||g(r);const[w,v]=m.useState(null),[_,x]=m.useState(null),y=m.useCallback(z=>{z!==O.current&&(O.current=z,v(z))},[]),b=m.useCallback(z=>{z!==A.current&&(A.current=z,x(z))},[]),I=i||w,D=o||_,O=m.useRef(null),A=m.useRef(null),T=m.useRef(u),R=l!=null,C=rw(l),M=rw(s),k=rw(c),N=m.useCallback(()=>{if(!O.current||!A.current)return;const z={placement:e,strategy:n,middleware:p};M.current&&(z.platform=M.current),d8(O.current,A.current,z).then(B=>{const Z={...B,isPositioned:k.current!==!1};H.current&&!Qm(T.current,Z)&&(T.current=Z,ji.flushSync(()=>{d(Z)}))})},[p,e,n,M,k]);Qp(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,d(z=>({...z,isPositioned:!1})))},[c]);const H=m.useRef(!1);Qp(()=>(H.current=!0,()=>{H.current=!1}),[]),Qp(()=>{if(I&&(O.current=I),D&&(A.current=D),I&&D){if(C.current)return C.current(I,D,N);N()}},[I,D,N,C,R]);const ae=m.useMemo(()=>({reference:O,floating:A,setReference:y,setFloating:b}),[y,b]),te=m.useMemo(()=>({reference:I,floating:D}),[I,D]),ne=m.useMemo(()=>{const z={position:n,left:0,top:0};if(!te.floating)return z;const B=CA(te.floating,u.x),Z=CA(te.floating,u.y);return a?{...z,transform:"translate("+B+"px, "+Z+"px)",...$k(te.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:Z}},[n,a,te.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:N,refs:ae,elements:te,floatingStyles:ne}),[u,N,ae,te,ne])}const f8=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?AA({element:r.current,padding:s}).fn(n):{}:r?AA({element:r,padding:s}).fn(n):{}}}},p8=(t,e)=>({...i8(t),options:[t,e]}),m8=(t,e)=>({...o8(t),options:[t,e]}),g8=(t,e)=>({...u8(t),options:[t,e]}),y8=(t,e)=>({...a8(t),options:[t,e]}),v8=(t,e)=>({...l8(t),options:[t,e]}),w8=(t,e)=>({...c8(t),options:[t,e]}),x8=(t,e)=>({...f8(t),options:[t,e]});var _8="Arrow",zk=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return h.jsx(xe.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});zk.displayName=_8;var E8=zk;function T8(t){const[e,n]=m.useState(void 0);return Nt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var TE="Popper",[Kk,du]=lu(TE),[b8,Wk]=Kk(TE),Hk=t=>{const{__scopePopper:e,children:n}=t,[r,s]=m.useState(null);return h.jsx(b8,{scope:e,anchor:r,onAnchorChange:s,children:n})};Hk.displayName=TE;var qk="PopperAnchor",Gk=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=Wk(qk,n),o=m.useRef(null),a=Oe(e,o);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:h.jsx(xe.div,{...s,ref:a})});Gk.displayName=qk;var bE="PopperContent",[S8,I8]=Kk(bE),Qk=m.forwardRef((t,e)=>{var ue,Ve,st,Fe,Ke,Qe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:w,...v}=t,_=Wk(bE,n),[x,y]=m.useState(null),b=Oe(e,$t=>y($t)),[I,D]=m.useState(null),O=T8(I),A=(O==null?void 0:O.width)??0,T=(O==null?void 0:O.height)??0,R=r+(i!=="center"?"-"+i:""),C=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},M=Array.isArray(c)?c:[c],k=M.length>0,N={padding:C,boundary:M.filter(C8),altBoundary:k},{refs:H,floatingStyles:ae,placement:te,isPositioned:ne,middlewareData:z}=h8({strategy:"fixed",placement:R,whileElementsMounted:(...$t)=>s8(...$t,{animationFrame:g==="always"}),elements:{reference:_.anchor},middleware:[p8({mainAxis:s+T,alignmentAxis:o}),l&&m8({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?g8():void 0,...N}),l&&y8({...N}),v8({...N,apply:({elements:$t,rects:it,availableWidth:yn,availableHeight:Or})=>{const{width:Ts,height:j}=it.reference,$=$t.floating.style;$.setProperty("--radix-popper-available-width",`${yn}px`),$.setProperty("--radix-popper-available-height",`${Or}px`),$.setProperty("--radix-popper-anchor-width",`${Ts}px`),$.setProperty("--radix-popper-anchor-height",`${j}px`)}}),I&&x8({element:I,padding:a}),R8({arrowWidth:A,arrowHeight:T}),p&&w8({strategy:"referenceHidden",...N})]}),[B,Z]=Jk(te),pe=Mt(w);Nt(()=>{ne&&(pe==null||pe())},[ne,pe]);const Te=(ue=z.arrow)==null?void 0:ue.x,Re=(Ve=z.arrow)==null?void 0:Ve.y,Je=((st=z.arrow)==null?void 0:st.centerOffset)!==0,[wt,qe]=m.useState();return Nt(()=>{x&&qe(window.getComputedStyle(x).zIndex)},[x]),h.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...ae,transform:ne?ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:wt,"--radix-popper-transform-origin":[(Fe=z.transformOrigin)==null?void 0:Fe.x,(Ke=z.transformOrigin)==null?void 0:Ke.y].join(" "),...((Qe=z.hide)==null?void 0:Qe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:h.jsx(S8,{scope:n,placedSide:B,onArrowChange:D,arrowX:Te,arrowY:Re,shouldHideArrow:Je,children:h.jsx(xe.div,{"data-side":B,"data-align":Z,...v,ref:b,style:{...v.style,animation:ne?void 0:"none"}})})})});Qk.displayName=bE;var Yk="PopperArrow",A8={top:"bottom",right:"left",bottom:"top",left:"right"},Xk=m.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=I8(Yk,r),o=A8[i.placedSide];return h.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:h.jsx(E8,{...s,ref:n,style:{...s.style,display:"block"}})})});Xk.displayName=Yk;function C8(t){return t!==null}var R8=t=>({name:"transformOrigin",options:t,fn(e){var _,x,y;const{placement:n,rects:r,middlewareData:s}=e,o=((_=s.arrow)==null?void 0:_.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=Jk(n),d={start:"0%",center:"50%",end:"100%"}[u],p=(((x=s.arrow)==null?void 0:x.x)??0)+a/2,g=(((y=s.arrow)==null?void 0:y.y)??0)+l/2;let w="",v="";return c==="bottom"?(w=o?d:`${p}px`,v=`${-l}px`):c==="top"?(w=o?d:`${p}px`,v=`${r.floating.height+l}px`):c==="right"?(w=`${-l}px`,v=o?d:`${g}px`):c==="left"&&(w=`${r.floating.width+l}px`,v=o?d:`${g}px`),{data:{x:w,y:v}}}});function Jk(t){const[e,n="center"]=t.split("-");return[e,n]}var SE=Hk,IE=Gk,AE=Qk,CE=Xk,P8="Portal",Zk=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Nt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?zh.createPortal(h.jsx(xe.div,{...r,ref:e}),o):null});Zk.displayName=P8;function N8(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var tf=t=>{const{present:e,children:n}=t,r=D8(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=Oe(r.ref,k8(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};tf.displayName="Presence";function D8(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=N8(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=dp(r.current);i.current=a==="mounted"?c:"none"},[a]),Nt(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=dp(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Nt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=g=>{const v=dp(r.current).includes(g.animationName);if(g.target===e&&v&&(l("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},p=g=>{g.target===e&&(i.current=dp(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function dp(t){return(t==null?void 0:t.animationName)||"none"}function k8(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var sw="rovingFocusGroup.onEntryFocus",M8={bubbles:!1,cancelable:!0},uy="RovingFocusGroup",[Y0,eM,O8]=sy(uy),[j8,dy]=lu(uy,[O8]),[L8,V8]=j8(uy),tM=m.forwardRef((t,e)=>h.jsx(Y0.Provider,{scope:t.__scopeRovingFocusGroup,children:h.jsx(Y0.Slot,{scope:t.__scopeRovingFocusGroup,children:h.jsx(F8,{...t,ref:e})})}));tM.displayName=uy;var F8=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=t,p=m.useRef(null),g=Oe(e,p),w=iy(i),[v=null,_]=Uo({prop:o,defaultProp:a,onChange:l}),[x,y]=m.useState(!1),b=Mt(c),I=eM(n),D=m.useRef(!1),[O,A]=m.useState(0);return m.useEffect(()=>{const T=p.current;if(T)return T.addEventListener(sw,b),()=>T.removeEventListener(sw,b)},[b]),h.jsx(L8,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:v,onItemFocus:m.useCallback(T=>_(T),[_]),onItemShiftTab:m.useCallback(()=>y(!0),[]),onFocusableItemAdd:m.useCallback(()=>A(T=>T+1),[]),onFocusableItemRemove:m.useCallback(()=>A(T=>T-1),[]),children:h.jsx(xe.div,{tabIndex:x||O===0?-1:0,"data-orientation":r,...d,ref:g,style:{outline:"none",...t.style},onMouseDown:ee(t.onMouseDown,()=>{D.current=!0}),onFocus:ee(t.onFocus,T=>{const R=!D.current;if(T.target===T.currentTarget&&R&&!x){const C=new CustomEvent(sw,M8);if(T.currentTarget.dispatchEvent(C),!C.defaultPrevented){const M=I().filter(te=>te.focusable),k=M.find(te=>te.active),N=M.find(te=>te.id===v),ae=[k,N,...M].filter(Boolean).map(te=>te.ref.current);sM(ae,u)}}D.current=!1}),onBlur:ee(t.onBlur,()=>y(!1))})})}),nM="RovingFocusGroupItem",rM=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=ys(),l=i||a,c=V8(nM,n),u=c.currentTabStopId===l,d=eM(n),{onFocusableItemAdd:p,onFocusableItemRemove:g}=c;return m.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),h.jsx(Y0.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:h.jsx(xe.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:ee(t.onMouseDown,w=>{r?c.onItemFocus(l):w.preventDefault()}),onFocus:ee(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:ee(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){c.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const v=$8(w,c.orientation,c.dir);if(v!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let x=d().filter(y=>y.focusable).map(y=>y.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const y=x.indexOf(w.currentTarget);x=c.loop?z8(x,y+1):x.slice(y+1)}setTimeout(()=>sM(x))}})})})});rM.displayName=nM;var U8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function B8(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function $8(t,e,n){const r=B8(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return U8[r]}function sM(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function z8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var iM=tM,oM=rM,K8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Dl=new WeakMap,hp=new WeakMap,fp={},iw=0,aM=function(t){return t&&(t.host||aM(t.parentNode))},W8=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=aM(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},H8=function(t,e,n,r){var s=W8(e,Array.isArray(t)?t:[t]);fp[n]||(fp[n]=new WeakMap);var i=fp[n],o=[],a=new Set,l=new Set(s),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};s.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(p){if(a.has(p))u(p);else try{var g=p.getAttribute(r),w=g!==null&&g!=="false",v=(Dl.get(p)||0)+1,_=(i.get(p)||0)+1;Dl.set(p,v),i.set(p,_),o.push(p),v===1&&w&&hp.set(p,!0),_===1&&p.setAttribute(n,"true"),w||p.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",p,x)}})};return u(e),a.clear(),iw++,function(){o.forEach(function(d){var p=Dl.get(d)-1,g=i.get(d)-1;Dl.set(d,p),i.set(d,g),p||(hp.has(d)||d.removeAttribute(r),hp.delete(d)),g||d.removeAttribute(n)}),iw--,iw||(Dl=new WeakMap,Dl=new WeakMap,hp=new WeakMap,fp={})}},RE=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=K8(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),H8(r,s,n,"aria-hidden")):function(){return null}},Yp="right-scroll-bar-position",Xp="width-before-scroll-bar",q8="with-scroll-bars-hidden",G8="--removed-body-scroll-bar-size";function ow(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Q8(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var Y8=typeof window<"u"?m.useLayoutEffect:m.useEffect,RA=new WeakMap;function X8(t,e){var n=Q8(null,function(r){return t.forEach(function(s){return ow(s,r)})});return Y8(function(){var r=RA.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||ow(a,null)}),i.forEach(function(a){s.has(a)||ow(a,o)})}RA.set(n,t)},[t]),n}function J8(t){return t}function Z8(t,e){e===void 0&&(e=J8);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var u=o;o=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return s}function e7(t){t===void 0&&(t={});var e=Z8(null);return e.options=Ms({async:!0,ssr:!1},t),e}var lM=function(t){var e=t.sideCar,n=Wh(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,Ms({},n))};lM.isSideCarExport=!0;function t7(t,e){return t.useMedium(e),lM}var cM=e7(),aw=function(){},hy=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:aw,onWheelCapture:aw,onTouchMoveCapture:aw}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,p=t.sideCar,g=t.noIsolation,w=t.inert,v=t.allowPinchZoom,_=t.as,x=_===void 0?"div":_,y=t.gapMode,b=Wh(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=p,D=X8([n,e]),O=Ms(Ms({},b),s);return m.createElement(m.Fragment,null,u&&m.createElement(I,{sideCar:cM,removeScrollBar:c,shards:d,noIsolation:g,inert:w,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:y}),o?m.cloneElement(m.Children.only(a),Ms(Ms({},O),{ref:D})):m.createElement(x,Ms({},O,{className:l,ref:D}),a))});hy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};hy.classNames={fullWidth:Xp,zeroRight:Yp};var n7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function r7(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=n7();return e&&t.setAttribute("nonce",e),t}function s7(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function i7(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var o7=function(){var t=0,e=null;return{add:function(n){t==0&&(e=r7())&&(s7(e,n),i7(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},a7=function(){var t=o7();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},uM=function(){var t=a7(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},l7={left:0,top:0,right:0,gap:0},lw=function(t){return parseInt(t||"",10)||0},c7=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[lw(n),lw(r),lw(s)]},u7=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return l7;var e=c7(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},d7=uM(),pc="data-scroll-locked",h7=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(q8,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(pc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yp,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Xp,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Yp," .").concat(Yp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Xp," .").concat(Xp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(pc,`] {
    `).concat(G8,": ").concat(a,`px;
  }
`)},PA=function(){var t=parseInt(document.body.getAttribute(pc)||"0",10);return isFinite(t)?t:0},f7=function(){m.useEffect(function(){return document.body.setAttribute(pc,(PA()+1).toString()),function(){var t=PA()-1;t<=0?document.body.removeAttribute(pc):document.body.setAttribute(pc,t.toString())}},[])},p7=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;f7();var i=m.useMemo(function(){return u7(s)},[s]);return m.createElement(d7,{styles:h7(i,!e,s,n?"":"!important")})},X0=!1;if(typeof window<"u")try{var pp=Object.defineProperty({},"passive",{get:function(){return X0=!0,!0}});window.addEventListener("test",pp,pp),window.removeEventListener("test",pp,pp)}catch{X0=!1}var kl=X0?{passive:!1}:!1,m7=function(t){return t.tagName==="TEXTAREA"},dM=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!m7(t)&&n[e]==="visible")},g7=function(t){return dM(t,"overflowY")},y7=function(t){return dM(t,"overflowX")},NA=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=hM(t,r);if(s){var i=fM(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},v7=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},w7=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},hM=function(t,e){return t==="v"?g7(e):y7(e)},fM=function(t,e){return t==="v"?v7(e):w7(e)},x7=function(t,e){return t==="h"&&e==="rtl"?-1:1},_7=function(t,e,n,r,s){var i=x7(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,u=o>0,d=0,p=0;do{var g=fM(t,a),w=g[0],v=g[1],_=g[2],x=v-_-i*w;(w||x)&&hM(t,a)&&(d+=x,p+=w),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(d)<1||!s)||!u&&(Math.abs(p)<1||!s))&&(c=!0),c},mp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},DA=function(t){return[t.deltaX,t.deltaY]},kA=function(t){return t&&"current"in t?t.current:t},E7=function(t,e){return t[0]===e[0]&&t[1]===e[1]},T7=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},b7=0,Ml=[];function S7(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(b7++)[0],i=m.useState(uM)[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=mz([t.lockRef.current],(t.shards||[]).map(kA),!0).filter(Boolean);return v.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(v,_){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var x=mp(v),y=n.current,b="deltaX"in v?v.deltaX:y[0]-x[0],I="deltaY"in v?v.deltaY:y[1]-x[1],D,O=v.target,A=Math.abs(b)>Math.abs(I)?"h":"v";if("touches"in v&&A==="h"&&O.type==="range")return!1;var T=NA(A,O);if(!T)return!0;if(T?D=A:(D=A==="v"?"h":"v",T=NA(A,O)),!T)return!1;if(!r.current&&"changedTouches"in v&&(b||I)&&(r.current=D),!D)return!0;var R=r.current||D;return _7(R,_,v,R==="h"?b:I,!0)},[]),l=m.useCallback(function(v){var _=v;if(!(!Ml.length||Ml[Ml.length-1]!==i)){var x="deltaY"in _?DA(_):mp(_),y=e.current.filter(function(D){return D.name===_.type&&(D.target===_.target||_.target===D.shadowParent)&&E7(D.delta,x)})[0];if(y&&y.should){_.cancelable&&_.preventDefault();return}if(!y){var b=(o.current.shards||[]).map(kA).filter(Boolean).filter(function(D){return D.contains(_.target)}),I=b.length>0?a(_,b[0]):!o.current.noIsolation;I&&_.cancelable&&_.preventDefault()}}},[]),c=m.useCallback(function(v,_,x,y){var b={name:v,delta:_,target:x,should:y,shadowParent:I7(x)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(I){return I!==b})},1)},[]),u=m.useCallback(function(v){n.current=mp(v),r.current=void 0},[]),d=m.useCallback(function(v){c(v.type,DA(v),v.target,a(v,t.lockRef.current))},[]),p=m.useCallback(function(v){c(v.type,mp(v),v.target,a(v,t.lockRef.current))},[]);m.useEffect(function(){return Ml.push(i),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:p}),document.addEventListener("wheel",l,kl),document.addEventListener("touchmove",l,kl),document.addEventListener("touchstart",u,kl),function(){Ml=Ml.filter(function(v){return v!==i}),document.removeEventListener("wheel",l,kl),document.removeEventListener("touchmove",l,kl),document.removeEventListener("touchstart",u,kl)}},[]);var g=t.removeScrollBar,w=t.inert;return m.createElement(m.Fragment,null,w?m.createElement(i,{styles:T7(s)}):null,g?m.createElement(p7,{gapMode:t.gapMode}):null)}function I7(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const A7=t7(cM,S7);var fy=m.forwardRef(function(t,e){return m.createElement(hy,Ms({},t,{ref:e,sideCar:A7}))});fy.classNames=hy.classNames;var J0=["Enter"," "],C7=["ArrowDown","PageUp","Home"],pM=["ArrowUp","PageDown","End"],R7=[...C7,...pM],P7={ltr:[...J0,"ArrowRight"],rtl:[...J0,"ArrowLeft"]},N7={ltr:["ArrowLeft"],rtl:["ArrowRight"]},nf="Menu",[dh,D7,k7]=sy(nf),[gl,mM]=iH(nf,[k7,du,dy]),py=du(),gM=dy(),[M7,yl]=gl(nf),[O7,rf]=gl(nf),yM=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=py(e),[l,c]=m.useState(null),u=m.useRef(!1),d=Mt(i),p=iy(s);return m.useEffect(()=>{const g=()=>{u.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>u.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),h.jsx(SE,{...a,children:h.jsx(M7,{scope:e,open:n,onOpenChange:d,content:l,onContentChange:c,children:h.jsx(O7,{scope:e,onClose:m.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:p,modal:o,children:r})})})};yM.displayName=nf;var j7="MenuAnchor",PE=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=py(n);return h.jsx(IE,{...s,...r,ref:e})});PE.displayName=j7;var NE="MenuPortal",[L7,vM]=gl(NE,{forceMount:void 0}),wM=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=yl(NE,e);return h.jsx(L7,{scope:e,forceMount:n,children:h.jsx(tf,{present:n||i.open,children:h.jsx(Zk,{asChild:!0,container:s,children:r})})})};wM.displayName=NE;var Gr="MenuContent",[V7,DE]=gl(Gr),xM=m.forwardRef((t,e)=>{const n=vM(Gr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=yl(Gr,t.__scopeMenu),o=rf(Gr,t.__scopeMenu);return h.jsx(dh.Provider,{scope:t.__scopeMenu,children:h.jsx(tf,{present:r||i.open,children:h.jsx(dh.Slot,{scope:t.__scopeMenu,children:o.modal?h.jsx(F7,{...s,ref:e}):h.jsx(U7,{...s,ref:e})})})})}),F7=m.forwardRef((t,e)=>{const n=yl(Gr,t.__scopeMenu),r=m.useRef(null),s=Oe(e,r);return m.useEffect(()=>{const i=r.current;if(i)return RE(i)},[]),h.jsx(kE,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ee(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),U7=m.forwardRef((t,e)=>{const n=yl(Gr,t.__scopeMenu);return h.jsx(kE,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),kE=m.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:p,onDismiss:g,disableOutsideScroll:w,...v}=t,_=yl(Gr,n),x=rf(Gr,n),y=py(n),b=gM(n),I=D7(n),[D,O]=m.useState(null),A=m.useRef(null),T=Oe(e,A,_.onContentChange),R=m.useRef(0),C=m.useRef(""),M=m.useRef(0),k=m.useRef(null),N=m.useRef("right"),H=m.useRef(0),ae=w?fy:m.Fragment,te=w?{as:Bo,allowPinchZoom:!0}:void 0,ne=B=>{var ue,Ve;const Z=C.current+B,pe=I().filter(st=>!st.disabled),Te=document.activeElement,Re=(ue=pe.find(st=>st.ref.current===Te))==null?void 0:ue.textValue,Je=pe.map(st=>st.textValue),wt=J7(Je,Z,Re),qe=(Ve=pe.find(st=>st.textValue===wt))==null?void 0:Ve.ref.current;(function st(Fe){C.current=Fe,window.clearTimeout(R.current),Fe!==""&&(R.current=window.setTimeout(()=>st(""),1e3))})(Z),qe&&setTimeout(()=>qe.focus())};m.useEffect(()=>()=>window.clearTimeout(R.current),[]),gE();const z=m.useCallback(B=>{var pe,Te;return N.current===((pe=k.current)==null?void 0:pe.side)&&eq(B,(Te=k.current)==null?void 0:Te.area)},[]);return h.jsx(V7,{scope:n,searchRef:C,onItemEnter:m.useCallback(B=>{z(B)&&B.preventDefault()},[z]),onItemLeave:m.useCallback(B=>{var Z;z(B)||((Z=A.current)==null||Z.focus(),O(null))},[z]),onTriggerLeave:m.useCallback(B=>{z(B)&&B.preventDefault()},[z]),pointerGraceTimerRef:M,onPointerGraceIntentChange:m.useCallback(B=>{k.current=B},[]),children:h.jsx(ae,{...te,children:h.jsx(oy,{asChild:!0,trapped:s,onMountAutoFocus:ee(i,B=>{var Z;B.preventDefault(),(Z=A.current)==null||Z.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:h.jsx(Dk,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:p,onDismiss:g,children:h.jsx(iM,{asChild:!0,...b,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:D,onCurrentTabStopIdChange:O,onEntryFocus:ee(l,B=>{x.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:h.jsx(AE,{role:"menu","aria-orientation":"vertical","data-state":jM(_.open),"data-radix-menu-content":"",dir:x.dir,...y,...v,ref:T,style:{outline:"none",...v.style},onKeyDown:ee(v.onKeyDown,B=>{const pe=B.target.closest("[data-radix-menu-content]")===B.currentTarget,Te=B.ctrlKey||B.altKey||B.metaKey,Re=B.key.length===1;pe&&(B.key==="Tab"&&B.preventDefault(),!Te&&Re&&ne(B.key));const Je=A.current;if(B.target!==Je||!R7.includes(B.key))return;B.preventDefault();const qe=I().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);pM.includes(B.key)&&qe.reverse(),Y7(qe)}),onBlur:ee(t.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(R.current),C.current="")}),onPointerMove:ee(t.onPointerMove,hh(B=>{const Z=B.target,pe=H.current!==B.clientX;if(B.currentTarget.contains(Z)&&pe){const Te=B.clientX>H.current?"right":"left";N.current=Te,H.current=B.clientX}}))})})})})})})});xM.displayName=Gr;var B7="MenuGroup",ME=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(xe.div,{role:"group",...r,ref:e})});ME.displayName=B7;var $7="MenuLabel",_M=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(xe.div,{...r,ref:e})});_M.displayName=$7;var Ym="MenuItem",MA="menu.itemSelect",my=m.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=m.useRef(null),o=rf(Ym,t.__scopeMenu),a=DE(Ym,t.__scopeMenu),l=Oe(e,i),c=m.useRef(!1),u=()=>{const d=i.current;if(!n&&d){const p=new CustomEvent(MA,{bubbles:!0,cancelable:!0});d.addEventListener(MA,g=>r==null?void 0:r(g),{once:!0}),ml(d,p),p.defaultPrevented?c.current=!1:o.onClose()}};return h.jsx(EM,{...s,ref:l,disabled:n,onClick:ee(t.onClick,u),onPointerDown:d=>{var p;(p=t.onPointerDown)==null||p.call(t,d),c.current=!0},onPointerUp:ee(t.onPointerUp,d=>{var p;c.current||(p=d.currentTarget)==null||p.click()}),onKeyDown:ee(t.onKeyDown,d=>{const p=a.searchRef.current!=="";n||p&&d.key===" "||J0.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});my.displayName=Ym;var EM=m.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=DE(Ym,n),a=gM(n),l=m.useRef(null),c=Oe(e,l),[u,d]=m.useState(!1),[p,g]=m.useState("");return m.useEffect(()=>{const w=l.current;w&&g((w.textContent??"").trim())},[i.children]),h.jsx(dh.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:h.jsx(oM,{asChild:!0,...a,focusable:!r,children:h.jsx(xe.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:ee(t.onPointerMove,hh(w=>{r?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ee(t.onPointerLeave,hh(w=>o.onItemLeave(w))),onFocus:ee(t.onFocus,()=>d(!0)),onBlur:ee(t.onBlur,()=>d(!1))})})})}),z7="MenuCheckboxItem",TM=m.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return h.jsx(CM,{scope:t.__scopeMenu,checked:n,children:h.jsx(my,{role:"menuitemcheckbox","aria-checked":Xm(n)?"mixed":n,...s,ref:e,"data-state":jE(n),onSelect:ee(s.onSelect,()=>r==null?void 0:r(Xm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});TM.displayName=z7;var bM="MenuRadioGroup",[K7,W7]=gl(bM,{value:void 0,onValueChange:()=>{}}),SM=m.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Mt(r);return h.jsx(K7,{scope:t.__scopeMenu,value:n,onValueChange:i,children:h.jsx(ME,{...s,ref:e})})});SM.displayName=bM;var IM="MenuRadioItem",AM=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=W7(IM,t.__scopeMenu),i=n===s.value;return h.jsx(CM,{scope:t.__scopeMenu,checked:i,children:h.jsx(my,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":jE(i),onSelect:ee(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});AM.displayName=IM;var OE="MenuItemIndicator",[CM,H7]=gl(OE,{checked:!1}),RM=m.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=H7(OE,n);return h.jsx(tf,{present:r||Xm(i.checked)||i.checked===!0,children:h.jsx(xe.span,{...s,ref:e,"data-state":jE(i.checked)})})});RM.displayName=OE;var q7="MenuSeparator",PM=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(xe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});PM.displayName=q7;var G7="MenuArrow",NM=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=py(n);return h.jsx(CE,{...s,...r,ref:e})});NM.displayName=G7;var Q7="MenuSub",[Dde,DM]=gl(Q7),sd="MenuSubTrigger",kM=m.forwardRef((t,e)=>{const n=yl(sd,t.__scopeMenu),r=rf(sd,t.__scopeMenu),s=DM(sd,t.__scopeMenu),i=DE(sd,t.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},u=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>u,[u]),m.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),l(null)}},[a,l]),h.jsx(PE,{asChild:!0,...c,children:h.jsx(EM,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":jM(n.open),...t,ref:ry(e,s.onTriggerChange),onClick:d=>{var p;(p=t.onClick)==null||p.call(t,d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ee(t.onPointerMove,hh(d=>{i.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:ee(t.onPointerLeave,hh(d=>{var g,w;u();const p=(g=n.content)==null?void 0:g.getBoundingClientRect();if(p){const v=(w=n.content)==null?void 0:w.dataset.side,_=v==="right",x=_?-5:5,y=p[_?"left":"right"],b=p[_?"right":"left"];i.onPointerGraceIntentChange({area:[{x:d.clientX+x,y:d.clientY},{x:y,y:p.top},{x:b,y:p.top},{x:b,y:p.bottom},{x:y,y:p.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(d),d.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ee(t.onKeyDown,d=>{var g;const p=i.searchRef.current!=="";t.disabled||p&&d.key===" "||P7[r.dir].includes(d.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),d.preventDefault())})})})});kM.displayName=sd;var MM="MenuSubContent",OM=m.forwardRef((t,e)=>{const n=vM(Gr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=yl(Gr,t.__scopeMenu),o=rf(Gr,t.__scopeMenu),a=DM(MM,t.__scopeMenu),l=m.useRef(null),c=Oe(e,l);return h.jsx(dh.Provider,{scope:t.__scopeMenu,children:h.jsx(tf,{present:r||i.open,children:h.jsx(dh.Slot,{scope:t.__scopeMenu,children:h.jsx(kE,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;o.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:ee(t.onFocusOutside,u=>{u.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ee(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:ee(t.onKeyDown,u=>{var g;const d=u.currentTarget.contains(u.target),p=N7[o.dir].includes(u.key);d&&p&&(i.onOpenChange(!1),(g=a.trigger)==null||g.focus(),u.preventDefault())})})})})})});OM.displayName=MM;function jM(t){return t?"open":"closed"}function Xm(t){return t==="indeterminate"}function jE(t){return Xm(t)?"indeterminate":t?"checked":"unchecked"}function Y7(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function X7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function J7(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=X7(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function Z7(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(s=!s)}return s}function eq(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Z7(n,e)}function hh(t){return e=>e.pointerType==="mouse"?t(e):void 0}var tq=yM,nq=PE,rq=wM,sq=xM,iq=ME,oq=_M,aq=my,lq=TM,cq=SM,uq=AM,dq=RM,hq=PM,fq=NM,pq=kM,mq=OM,LE="DropdownMenu",[gq,kde]=XW(LE,[mM]),rr=mM(),[yq,LM]=gq(LE),VM=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=rr(e),c=m.useRef(null),[u=!1,d]=Uo({prop:s,defaultProp:i,onChange:o});return h.jsx(yq,{scope:e,triggerId:ys(),triggerRef:c,contentId:ys(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(p=>!p),[d]),modal:a,children:h.jsx(tq,{...l,open:u,onOpenChange:d,dir:r,modal:a,children:n})})};VM.displayName=LE;var FM="DropdownMenuTrigger",UM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=LM(FM,n),o=rr(n);return h.jsx(nq,{asChild:!0,...o,children:h.jsx(xe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:ry(e,i.triggerRef),onPointerDown:ee(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:ee(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});UM.displayName=FM;var vq="DropdownMenuPortal",BM=t=>{const{__scopeDropdownMenu:e,...n}=t,r=rr(e);return h.jsx(rq,{...r,...n})};BM.displayName=vq;var $M="DropdownMenuContent",zM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=LM($M,n),i=rr(n),o=m.useRef(!1);return h.jsx(sq,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:ee(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:ee(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!s.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});zM.displayName=$M;var wq="DropdownMenuGroup",xq=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rr(n);return h.jsx(iq,{...s,...r,ref:e})});xq.displayName=wq;var _q="DropdownMenuLabel",KM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rr(n);return h.jsx(oq,{...s,...r,ref:e})});KM.displayName=_q;var Eq="DropdownMenuItem",WM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rr(n);return h.jsx(aq,{...s,...r,ref:e})});WM.displayName=Eq;var Tq="DropdownMenuCheckboxItem",HM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rr(n);return h.jsx(lq,{...s,...r,ref:e})});HM.displayName=Tq;var bq="DropdownMenuRadioGroup",Sq=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rr(n);return h.jsx(cq,{...s,...r,ref:e})});Sq.displayName=bq;var Iq="DropdownMenuRadioItem",qM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rr(n);return h.jsx(uq,{...s,...r,ref:e})});qM.displayName=Iq;var Aq="DropdownMenuItemIndicator",GM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rr(n);return h.jsx(dq,{...s,...r,ref:e})});GM.displayName=Aq;var Cq="DropdownMenuSeparator",QM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rr(n);return h.jsx(hq,{...s,...r,ref:e})});QM.displayName=Cq;var Rq="DropdownMenuArrow",Pq=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rr(n);return h.jsx(fq,{...s,...r,ref:e})});Pq.displayName=Rq;var Nq="DropdownMenuSubTrigger",YM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rr(n);return h.jsx(pq,{...s,...r,ref:e})});YM.displayName=Nq;var Dq="DropdownMenuSubContent",XM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rr(n);return h.jsx(mq,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});XM.displayName=Dq;var kq=VM,Mq=UM,Oq=BM,JM=zM,ZM=KM,eO=WM,tO=HM,nO=qM,rO=GM,sO=QM,iO=YM,oO=XM;function aO(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=aO(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function jq(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=aO(t))&&(r&&(r+=" "),r+=e);return r}const VE="-",Lq=t=>{const e=Fq(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(VE);return a[0]===""&&a.length!==1&&a.shift(),lO(a,e)||Vq(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},lO=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?lO(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(VE);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},OA=/^\[(.+)\]$/,Vq=t=>{if(OA.test(t)){const e=OA.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Fq=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Bq(Object.entries(t.classGroups),n).forEach(([i,o])=>{Z0(o,r,i,e)}),r},Z0=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:jA(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(Uq(s)){Z0(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Z0(o,jA(e,i),n,r)})})},jA=(t,e)=>{let n=t;return e.split(VE).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Uq=t=>t.isThemeGetter,Bq=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,$q=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},cO="!",zq=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,u=0,d;for(let _=0;_<a.length;_++){let x=a[_];if(c===0){if(x===s&&(r||a.slice(_,_+i)===e)){l.push(a.slice(u,_)),u=_+i;continue}if(x==="/"){d=_;continue}}x==="["?c++:x==="]"&&c--}const p=l.length===0?a:a.substring(u),g=p.startsWith(cO),w=g?p.substring(1):p,v=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:w,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},Kq=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Wq=t=>({cache:$q(t.cacheSize),parseClassName:zq(t),...Lq(t)}),Hq=/\s+/,qq=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(Hq);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:p,maybePostfixModifierPosition:g}=n(c);let w=!!g,v=r(w?p.substring(0,g):p);if(!v){if(!w){a=c+(a.length>0?" "+a:a);continue}if(v=r(p),!v){a=c+(a.length>0?" "+a:a);continue}w=!1}const _=Kq(u).join(":"),x=d?_+cO:_,y=x+v;if(i.includes(y))continue;i.push(y);const b=s(v,w);for(let I=0;I<b.length;++I){const D=b[I];i.push(x+D)}a=c+(a.length>0?" "+a:a)}return a};function Gq(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=uO(e))&&(r&&(r+=" "),r+=n);return r}const uO=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=uO(t[r]))&&(n&&(n+=" "),n+=e);return n};function Qq(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((u,d)=>d(u),t());return n=Wq(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=qq(l,n);return s(l,u),u}return function(){return i(Gq.apply(null,arguments))}}const Ct=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},dO=/^\[(?:([a-z-]+):)?(.+)\]$/i,Yq=/^\d+\/\d+$/,Xq=new Set(["px","full","screen"]),Jq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Zq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,eG=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,tG=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,nG=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Js=t=>mc(t)||Xq.has(t)||Yq.test(t),Gi=t=>hu(t,"length",uG),mc=t=>!!t&&!Number.isNaN(Number(t)),cw=t=>hu(t,"number",mc),Wu=t=>!!t&&Number.isInteger(Number(t)),rG=t=>t.endsWith("%")&&mc(t.slice(0,-1)),Ue=t=>dO.test(t),Qi=t=>Jq.test(t),sG=new Set(["length","size","percentage"]),iG=t=>hu(t,sG,hO),oG=t=>hu(t,"position",hO),aG=new Set(["image","url"]),lG=t=>hu(t,aG,hG),cG=t=>hu(t,"",dG),Hu=()=>!0,hu=(t,e,n)=>{const r=dO.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},uG=t=>Zq.test(t)&&!eG.test(t),hO=()=>!1,dG=t=>tG.test(t),hG=t=>nG.test(t),fG=()=>{const t=Ct("colors"),e=Ct("spacing"),n=Ct("blur"),r=Ct("brightness"),s=Ct("borderColor"),i=Ct("borderRadius"),o=Ct("borderSpacing"),a=Ct("borderWidth"),l=Ct("contrast"),c=Ct("grayscale"),u=Ct("hueRotate"),d=Ct("invert"),p=Ct("gap"),g=Ct("gradientColorStops"),w=Ct("gradientColorStopPositions"),v=Ct("inset"),_=Ct("margin"),x=Ct("opacity"),y=Ct("padding"),b=Ct("saturate"),I=Ct("scale"),D=Ct("sepia"),O=Ct("skew"),A=Ct("space"),T=Ct("translate"),R=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",Ue,e],k=()=>[Ue,e],N=()=>["",Js,Gi],H=()=>["auto",mc,Ue],ae=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",Ue],Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],pe=()=>[mc,Ue];return{cacheSize:500,separator:":",theme:{colors:[Hu],spacing:[Js,Gi],blur:["none","",Qi,Ue],brightness:pe(),borderColor:[t],borderRadius:["none","","full",Qi,Ue],borderSpacing:k(),borderWidth:N(),contrast:pe(),grayscale:B(),hueRotate:pe(),invert:B(),gap:k(),gradientColorStops:[t],gradientColorStopPositions:[rG,Gi],inset:M(),margin:M(),opacity:pe(),padding:k(),saturate:pe(),scale:pe(),sepia:B(),skew:pe(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",Ue]}],container:["container"],columns:[{columns:[Qi]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ae(),Ue]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Wu,Ue]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ue]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",Wu,Ue]}],"grid-cols":[{"grid-cols":[Hu]}],"col-start-end":[{col:["auto",{span:["full",Wu,Ue]},Ue]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Hu]}],"row-start-end":[{row:["auto",{span:[Wu,Ue]},Ue]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ue]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ue,e]}],"min-w":[{"min-w":[Ue,e,"min","max","fit"]}],"max-w":[{"max-w":[Ue,e,"none","full","min","max","fit","prose",{screen:[Qi]},Qi]}],h:[{h:[Ue,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ue,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ue,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ue,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Qi,Gi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",cw]}],"font-family":[{font:[Hu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ue]}],"line-clamp":[{"line-clamp":["none",mc,cw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Js,Ue]}],"list-image":[{"list-image":["none",Ue]}],"list-style-type":[{list:["none","disc","decimal",Ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Js,Gi]}],"underline-offset":[{"underline-offset":["auto",Js,Ue]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ae(),oG]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",iG]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},lG]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:te()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[Js,Ue]}],"outline-w":[{outline:[Js,Gi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Js,Gi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Qi,cG]}],"shadow-color":[{shadow:[Hu]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Qi,Ue]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ue]}],duration:[{duration:pe()}],ease:[{ease:["linear","in","out","in-out",Ue]}],delay:[{delay:pe()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[Wu,Ue]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ue]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ue]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ue]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Js,Gi,cw]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},pG=Qq(fG);function ce(...t){return pG(jq(t))}const sf=kq,of=Mq,mG=m.forwardRef(({className:t,inset:e,children:n,...r},s)=>h.jsxs(iO,{ref:s,className:ce("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,h.jsx(Tk,{className:"ml-auto h-4 w-4"})]}));mG.displayName=iO.displayName;const gG=m.forwardRef(({className:t,...e},n)=>h.jsx(oO,{ref:n,className:ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));gG.displayName=oO.displayName;const fu=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>h.jsx(Oq,{children:h.jsx(JM,{ref:r,sideOffset:e,className:ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));fu.displayName=JM.displayName;const Os=m.forwardRef(({className:t,inset:e,...n},r)=>h.jsx(eO,{ref:r,className:ce("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Os.displayName=eO.displayName;const yG=m.forwardRef(({className:t,children:e,checked:n,...r},s)=>h.jsxs(tO,{ref:s,className:ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(rO,{children:h.jsx(_k,{className:"h-4 w-4"})})}),e]}));yG.displayName=tO.displayName;const vG=m.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(nO,{ref:r,className:ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(rO,{children:h.jsx(jW,{className:"h-2 w-2 fill-current"})})}),e]}));vG.displayName=nO.displayName;const fO=m.forwardRef(({className:t,inset:e,...n},r)=>h.jsx(ZM,{ref:r,className:ce("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));fO.displayName=ZM.displayName;const FE=m.forwardRef(({className:t,...e},n)=>h.jsx(sO,{ref:n,className:ce("-mx-1 my-1 h-px bg-muted",t),...e}));FE.displayName=sO.displayName;const wG=t=>Object.entries(t).map(([e,n])=>({id:Date.now().toString(),key:e,value:n})),xG=t=>t<1024?t+" bytes":t<1048576?(t/1024).toFixed(1)+" KB":(t/1048576).toFixed(1)+" MB",fh=t=>{try{const e=decodeURIComponent(t),n=e.lastIndexOf("/")+1,r=e.indexOf("?alt=");return n!==-1&&r!==-1?e.substring(n,r):null}catch(e){return console.error("Failed to extract filename:",e),null}},UE=t=>t&&t.charAt(0).toUpperCase()+t.slice(1);function pO(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=pO(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function _G(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=pO(t))&&(r&&(r+=" "),r+=e);return r}const LA=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,VA=_G,af=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return VA(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const u=n==null?void 0:n[c],d=i==null?void 0:i[c];if(u===null)return null;const p=LA(u)||LA(d);return s[c][p]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,p]=u;return p===void 0||(c[d]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:p,...g}=u;return Object.entries(g).every(w=>{let[v,_]=w;return Array.isArray(_)?_.includes({...i,...a}[v]):{...i,...a}[v]===_})?[...c,d,p]:c},[]);return VA(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},EG=af("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function gy({className:t,variant:e,...n}){return h.jsx("div",{className:ce(EG({variant:e}),t),...n})}const TG=({text:t,children:e})=>{const n=Yh(),r=Et(o=>o.admin),s=Et(o=>o.logout),i=o=>{switch(o){case"admin":return h.jsx(WW,{className:"mr-2 h-4 w-4"});case"editor":return h.jsx(HW,{className:"mr-2 h-4 w-4"});case"viewer":return h.jsx(pE,{className:"mr-2 h-4 w-4"})}};return r?h.jsxs("header",{className:"w-full flex flex-col items-center ",children:[h.jsxs("div",{className:"w-full px-8 h-14 flex items-center justify-between",children:[h.jsx("p",{children:t}),h.jsxs(sf,{children:[h.jsx(of,{asChild:!0,children:h.jsx("div",{className:"hover:bg-slate-200 rounded-lg p-2 cursor-pointer",children:h.jsx(GW,{})})}),h.jsxs(fu,{align:"end",className:"w-64 bg-white border border-neutral-300 p-1 rounded-lg shadow-md",children:[h.jsx(fO,{className:"font-normal",children:h.jsxs("div",{className:"flex flex-col space-y-1",children:[h.jsx("p",{className:"text-sm font-medium truncate leading-tight",title:r.email,children:r.email}),h.jsxs("div",{className:"flex items-center pt-1",children:[i(r.role),h.jsx(gy,{variant:"secondary",className:ce("flex w-16 items-center justify-center pointer-events-none select-none",r.role==="admin"&&"bg-red-200 text-red-800",r.role==="editor"&&"bg-blue-200 text-blue-800",r.role==="viewer"&&"bg-green-200 text-green-800"),children:UE(r.role)})]})]})}),h.jsx(FE,{}),h.jsxs(Os,{onClick:s,className:"flex items-center",children:[h.jsx($W,{className:"mr-2 h-4 w-4"}),h.jsx("span",{children:"Log out"})]})]})]})]}),e]}):(n("/login"),null)},bG=({Component:t})=>h.jsx("div",{className:"flex-1 flex justify-center =py-3",children:h.jsx(t,{})}),SG=({headerText:t})=>h.jsx("header",{className:"py-4 text-3xl font-semibold w-full",children:t});function uw(){return Date.now().toString()}const rt=()=>{const t=new Date,e={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};return t.toLocaleDateString("en-US",e)},dw="https://chatbot-api-0zup.onrender.com",yy=async(t,e)=>{const{method:n="GET",headers:r={},body:s}=e,{accessToken:i,setAccessToken:o,logout:a}=Et.getState(),l={method:n,credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer ${i}`,...r},...s&&{body:JSON.stringify(s)}};try{let c=await fetch(`${dw}${t}`,l);if(c.status===401){yt("Fetching new access token");const d=await fetch(`${dw}/api/auth/refresh-token`,{method:"POST",credentials:"include"});d.status===404&&a();const{accessToken:p}=await d.json();o(p),l.headers={...l.headers,authorization:`Bearer ${p}`},c=await fetch(`${dw}${t}`,l)}return await c.json()}catch(c){throw console.error("Request failed:",c),c}},lf=(t,e)=>yy(t,{method:"GET",headers:e}),sa=(t,e,n)=>yy(t,{method:"POST",headers:e,body:n}),vy=(t,e,n)=>yy(t,{method:"PUT",headers:e,body:n}),cf=(t,e,n)=>yy(t,{method:"DELETE",headers:e,body:n}),IG=async t=>{const e={userQuery:t},{success:n,response:r}=await sa("/api/chatbot/query-admin",{},e);if(!n)throw new Error(`Sending query to chatbot was unsuccessful: ${r}`);return r},AG=async()=>{const{success:t,response:e}=await sa("/api/chatbot/train",{});if(!t)throw new Error(`Training model is unsuccessful: ${e}`)},mO=()=>e=>new Promise(n=>{setTimeout(n,e)}),mi=Li()(nk((t,e)=>({currentSelectedTabInSettingsTab:"team",currentSelectedTabInArchiveTab:"knowledgeBases",currentSelectedKnowledgeTab:"knowledgeBase",messageHistory:[],setCurrentSelectedTabInSettingsTab:n=>t({currentSelectedTabInSettingsTab:n}),setCurrentSelectedTabInArchiveTab:n=>t({currentSelectedTabInArchiveTab:n}),setCurrentSelectedKnowledgeTab:n=>t({currentSelectedKnowledgeTab:n}),setMessageHistory:n=>t(r=>({messageHistory:r.messageHistory.length>=100?[...r.messageHistory.slice(1),n]:[...r.messageHistory,n]})),clearMessageHistory:()=>{e().messageHistory.length!==0&&t({messageHistory:[]})}}),{name:"auth-storage",storage:lE(()=>sessionStorage)})),CG=()=>{const t=mO(),e=mi(_=>_.messageHistory),n=mi(_=>_.setMessageHistory),r=mi(_=>_.clearMessageHistory),[s,i]=m.useState(null),[o,a]=m.useState(!1),l=m.useRef(null),c=()=>{var _;(_=l.current)==null||_.scrollIntoView({behavior:"smooth"})};m.useEffect(()=>{c()},[e]);const u=_=>_.replace(/\[=[^\]]+=\]/g,"").trim(),d=_=>{var y;const x=/\[\=([^\]]+)\=\]/;if(x.test(_)){const b=_.match(x);if(b){const I=(y=fh(b[1]))==null?void 0:y.split(".")[1];return{type:"file",source:b[1],fileType:I??"unknown"}}}},p=_=>{const x={uuid:uw(),text:_,sender:"user"};n(x)},g=_=>{const x={uuid:uw(),text:_.answer,sender:"bot",response:_};i(_),o||a(!0),n(x)},w=(_,x)=>{const y={uuid:uw(),sender:"bot",fileData:{source:_,type:x}};n(y)};return{messageHistory:e,clearMessageHistory:r,handleSubmitMessage:async _=>{try{if(!_)throw new Error("Message is empty");p(_);const x=await IG(_),y=d(x.answer);if(!y){g(x);return}const b=u(x.answer),I={...x,answer:b};g(I),await t(1e3),y.type==="file"&&w(y.source,y.fileType)}catch(x){if(x instanceof Error){yt(x.message,!0);return}console.error("Unknown error occured: ",x)}},endOfMessagesRef:l,selectedResponse:s,setSelectedResponse:i,isInfoPanelOpen:o,setIsInfoPanelOpen:a}};var BE="Progress",$E=100,[RG,Mde]=lu(BE),[PG,NG]=RG(BE),gO=m.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=DG,...o}=t;(s||s===0)&&!FA(s)&&console.error(kG(`${s}`,"Progress"));const a=FA(s)?s:$E;r!==null&&!UA(r,a)&&console.error(MG(`${r}`,"Progress"));const l=UA(r,a)?r:null,c=Jm(l)?i(l,a):void 0;return h.jsx(PG,{scope:n,value:l,max:a,children:h.jsx(xe.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Jm(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":wO(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});gO.displayName=BE;var yO="ProgressIndicator",vO=m.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=NG(yO,n);return h.jsx(xe.div,{"data-state":wO(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});vO.displayName=yO;function DG(t,e){return`${Math.round(t/e*100)}%`}function wO(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Jm(t){return typeof t=="number"}function FA(t){return Jm(t)&&!isNaN(t)&&t>0}function UA(t,e){return Jm(t)&&!isNaN(t)&&t<=e&&t>=0}function kG(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${$E}\`.`}function MG(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${$E} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var xO=gO,OG=vO;const _O=m.forwardRef(({className:t,value:e,...n},r)=>h.jsx(xO,{ref:r,className:ce("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:h.jsx(OG,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));_O.displayName=xO.displayName;const jG=({responseData:t,showPanel:e})=>{var r,s,i;const n=()=>t==null?void 0:t.classifications.slice(0,3).filter(a=>a.intent!=="None"&&a.score>0);return h.jsx("div",{className:`bg-gray-50  transition-all duration-300 ease-in-out overflow-hidden ${e?"w-64 border-l border-neutral-200":"w-0"}`,children:h.jsx("div",{className:"w-64 h-full",children:h.jsxs("div",{className:ce(`p-4 h-full flex flex-col transition-opacity duration-300,
            showPanel ? "opacity-100" : "opacity-0"
            }`),children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-700 mb-4 flex items-center",children:[h.jsx(VW,{className:"w-5 h-5 mr-2"}),"Bot Response Info"]}),t?h.jsxs("div",{className:"space-y-4 flex-grow",children:[h.jsxs("div",{children:[h.jsxs("h3",{className:"flex items-center justify-between space-x-2 text-sm font-medium text-gray-700 mb-1",children:[h.jsx("p",{children:"Confidence Score "}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(Rk,{className:"size-4 mr-1 text-yellow-400 fill-yellow-400"}),h.jsx("span",{className:"text-sm font-medium text-gray-600",children:t.score.toFixed(2)})]})]}),h.jsx("div",{className:"flex items-center gap-2",children:h.jsx(_O,{value:t.score*100,className:"w-full"})})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Detected Intent"}),h.jsx(gy,{variant:"outline",children:t==null?void 0:t.intent})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Other Possible Intents"}),h.jsx("ul",{className:ce("list-disc space-y-1",((r=n())==null?void 0:r.length)&&"pl-5"),children:(s=n())!=null&&s.length?(i=n())==null?void 0:i.map((o,a)=>h.jsx("li",{className:"text-sm ",children:h.jsxs("div",{className:"line-clamp-3",children:[h.jsx("span",{children:o.intent}),h.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",o.score.toFixed(2),")"]})]})},a)):h.jsx("span",{className:"text-sm text-muted-foreground",children:"No other intents detected"})})]})]}):h.jsx("div",{className:"text-center text-gray-500",children:"No bot response yet. Start a conversation to see details."})]})})})},on=m.forwardRef(({className:t,type:e,...n},r)=>h.jsx("input",{type:e,className:ce("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));on.displayName="Input";const zE=af("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),lt=m.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Bo:"button";return h.jsx(o,{className:ce(zE({variant:e,size:n,className:t})),ref:i,...s})});lt.displayName="Button";const LG=({onSendMessage:t})=>{const[e,n]=m.useState(""),[r,s]=m.useState([]),[i,o]=m.useState(-1),a=d=>{s(p=>{const g=[...p,d];return g.length>3?g.slice(1):g})},l=d=>{n(d.target.value),o(-1)},c=async()=>{const d=e;a(d),n(""),await t(d)},u=async d=>{d.key==="Enter"&&e.trim()!==""&&await c(),d.key==="ArrowUp"&&(i>0?(o(i-1),n(r[i-1])):i===-1&&r.length>0&&(o(r.length-1),n(r[r.length-1]))),d.key==="ArrowDown"&&(i<r.length-1?(o(i+1),n(r[i+1])):(o(-1),n("")))};return h.jsxs("div",{className:"w-full h-[5rem] border-t border-t-customBorderColor flex items-center justify-between px-4 space-x-2",children:[h.jsx(on,{placeholder:"Type message here",value:e,onChange:l,onKeyDown:u}),h.jsxs(lt,{onClick:async()=>await c(),children:[h.jsx(Ck,{className:"size-4 mr-2"}),"Send"]})]})},VG=["png","jpg","jpeg","jfif"],FG=["mp4"],UG=["pdf"],BG=({message:t,onItemClick:e})=>{const n=s=>/{=([^{}]+)=}/.test(s),r=s=>{const i=/\[=(.*?)=]/,o=s.match(i),a=/{=([^{}]+)=}/,l=s.match(a),c=/<([^<>]+)>/,u=s.match(c);if(o){const d=o[1],p=s.replace(i,"").trim();return{link:d,text:p}}else if(l&&u){const d=l[1],p=u[1];return{link:s.replace(a,`<a href="${d}" class="font-semibold text-primary dark:text-secondary hover:underline" target="_blank">${p}</a>`).replace(c,"").trim()}}else if(l){const d=l[1];return{link:s.replace(a,`<a href="${d}" class="font-semibold text-primary dark:text-secondary hover:underline" target="_blank">Click here</a>`).trim()}}return{link:"",linkMessage:null,text:s.trim()}};if("fileData"in t){const{source:s,type:i}=t.fileData,o=a=>{if(VG.includes(a))return h.jsx("img",{className:"w-72 rounded-2xl",src:s});if(FG.includes(a))return h.jsx("video",{width:"288",height:"360",className:"rounded-2xl",controls:!0,children:h.jsx("source",{src:s,type:"video/mp4"})});if(UG.includes(a))return h.jsxs("div",{className:"flex space-x-1.5 items-center w-fit rounded-tl-2xl rounded-tr-2xl py-2.5 px-4 text-blue-600 rounded-br-2xl rounded-bl-[2px] bg-gray-100 cursor-pointer",children:[h.jsx(Ik,{className:"size-5"}),h.jsx("a",{href:s,target:"_blank",className:"hover:underline underline-offset-2",children:fh(s)??"click here"})]})};return h.jsx(h.Fragment,{children:o(i)})}if(n(t.text)){const{link:s}=r(t.text);return h.jsx("div",{className:"max-w-[80%] rounded-tl-2xl rounded-tr-2xl transition-colors ease-out whitespace-pre-wrap leading-relaxed py-2.5 px-4 rounded-br-2xl rounded-bl-[2px] bg-gray-100 cursor-pointer",dangerouslySetInnerHTML:{__html:s}})}if("text"in t&&"sender"in t||"response"in t){const{text:s,sender:i,response:o}=t;return h.jsx("div",{className:ce("flex",i==="user"?"justify-end":"justify-start"),onClick:o?()=>e(o):void 0,children:h.jsx("div",{className:ce("max-w-[80%] rounded-tl-2xl rounded-tr-2xl transition-colors ease-out whitespace-pre-wrap leading-relaxed",i==="user"?"text-white py-1.5 px-3.5 rounded-bl-2xl rounded-br-[4px] bg-blue-500":"py-2.5 px-4 rounded-br-2xl rounded-bl-[2px] bg-gray-100 cursor-pointer",o?"hover:bg-gray-200":""),children:s})})}return null},pu=({items:t,renderItem:e,listStyle:n})=>h.jsx("div",{className:n,children:t==null?void 0:t.map((r,s)=>h.jsx(m.Fragment,{children:e(r)},s))});function $G(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}function ph(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const ex=t=>Array.isArray(t);function EO(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function mh(t){return typeof t=="string"||Array.isArray(t)}function BA(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function KE(t,e,n,r){if(typeof e=="function"){const[s,i]=BA(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=BA(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function wy(t,e,n){const r=t.getProps();return KE(r,e,n!==void 0?n:r.custom,t)}const WE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],HE=["initial",...WE],uf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ia=new Set(uf),gi=t=>t*1e3,yi=t=>t/1e3,zG={type:"spring",stiffness:500,damping:25,restSpeed:10},KG=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),WG={type:"keyframes",duration:.8},HG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qG=(t,{keyframes:e})=>e.length>2?WG:ia.has(t)?t.startsWith("scale")?KG(e[1]):zG:HG;function GG({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function qE(t,e){return t[e]||t.default||t}const QG={skipAnimations:!1,useManualTiming:!1},YG=t=>t!==null;function xy(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(YG),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const Un=t=>t;function XG(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){i.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,u=!1,d=!1)=>{const g=d&&r?e:n;return u&&i.add(c),g.has(c)||g.add(c),c},cancel:c=>{n.delete(c),i.delete(c)},process:c=>{if(o=c,r){s=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,s&&(s=!1,l.process(c))}};return l}const gp=["read","resolveKeyframes","update","preRender","render","postRender"],JG=40;function TO(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=gp.reduce((x,y)=>(x[y]=XG(i),x),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:p}=o,g=()=>{const x=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(x-s.timestamp,JG),1),s.timestamp=x,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),u.process(s),d.process(s),p.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(g))},w=()=>{n=!0,r=!0,s.isProcessing||t(g)};return{schedule:gp.reduce((x,y)=>{const b=o[y];return x[y]=(I,D=!1,O=!1)=>(n||w(),b.schedule(I,D,O)),x},{}),cancel:x=>{for(let y=0;y<gp.length;y++)o[gp[y]].cancel(x)},state:s,steps:o}}const{schedule:ht,cancel:Di,state:xn,steps:hw}=TO(typeof requestAnimationFrame<"u"?requestAnimationFrame:Un,!0),bO=t=>/^0[^.\s]+$/u.test(t);function ZG(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||bO(t):!0}let tx=Un;const SO=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),IO=t=>e=>typeof e=="string"&&e.startsWith(t),AO=IO("--"),eQ=IO("var(--"),GE=t=>eQ(t)?tQ.test(t.split("/*")[0].trim()):!1,tQ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,nQ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function rQ(t){const e=nQ.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function CO(t,e,n=1){const[r,s]=rQ(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return SO(o)?parseFloat(o):o}return GE(s)?CO(s,e,n+1):s}const Ho=(t,e,n)=>n>e?e:n<t?t:n,mu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Td={...mu,transform:t=>Ho(0,1,t)},yp={...mu,default:1},bd=t=>Math.round(t*1e5)/1e5,QE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,sQ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,iQ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function df(t){return typeof t=="string"}function oQ(t){return t==null}const hf=t=>({test:e=>df(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ji=hf("deg"),$s=hf("%"),Ie=hf("px"),aQ=hf("vh"),lQ=hf("vw"),$A={...$s,parse:t=>$s.parse(t)/100,transform:t=>$s.transform(t*100)},cQ=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),zA=t=>t===mu||t===Ie,KA=(t,e)=>parseFloat(t.split(", ")[e]),WA=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return KA(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?KA(i[1],t):0}},uQ=new Set(["x","y","z"]),dQ=uf.filter(t=>!uQ.has(t));function hQ(t){const e=[];return dQ.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const zc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:WA(4,13),y:WA(5,14)};zc.translateX=zc.x;zc.translateY=zc.y;const RO=t=>e=>e.test(t),fQ={test:t=>t==="auto",parse:t=>t},PO=[mu,Ie,$s,Ji,lQ,aQ,fQ],HA=t=>PO.find(RO(t)),Wa=new Set;let nx=!1,rx=!1;function NO(){if(rx){const t=Array.from(Wa).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=hQ(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}rx=!1,nx=!1,Wa.forEach(t=>t.complete()),Wa.clear()}function DO(){Wa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(rx=!0)})}function pQ(){DO(),NO()}class YE{constructor(e,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Wa.add(this),nx||(nx=!0,ht.read(DO),ht.resolveKeyframes(NO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Wa.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Wa.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const XE=(t,e)=>n=>!!(df(n)&&iQ.test(n)&&n.startsWith(t)||e&&!oQ(n)&&Object.prototype.hasOwnProperty.call(n,e)),kO=(t,e,n)=>r=>{if(!df(r))return r;const[s,i,o,a]=r.match(QE);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},mQ=t=>Ho(0,255,t),fw={...mu,transform:t=>Math.round(mQ(t))},Pa={test:XE("rgb","red"),parse:kO("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+fw.transform(t)+", "+fw.transform(e)+", "+fw.transform(n)+", "+bd(Td.transform(r))+")"};function gQ(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const sx={test:XE("#"),parse:gQ,transform:Pa.transform},Jl={test:XE("hsl","hue"),parse:kO("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+$s.transform(bd(e))+", "+$s.transform(bd(n))+", "+bd(Td.transform(r))+")"},On={test:t=>Pa.test(t)||sx.test(t)||Jl.test(t),parse:t=>Pa.test(t)?Pa.parse(t):Jl.test(t)?Jl.parse(t):sx.parse(t),transform:t=>df(t)?t:t.hasOwnProperty("red")?Pa.transform(t):Jl.transform(t)};function yQ(t){var e,n;return isNaN(t)&&df(t)&&(((e=t.match(QE))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(sQ))===null||n===void 0?void 0:n.length)||0)>0}const MO="number",OO="color",vQ="var",wQ="var(",qA="${}",xQ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function gh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(xQ,l=>(On.test(l)?(r.color.push(i),s.push(OO),n.push(On.parse(l))):l.startsWith(wQ)?(r.var.push(i),s.push(vQ),n.push(l)):(r.number.push(i),s.push(MO),n.push(parseFloat(l))),++i,qA)).split(qA);return{values:n,split:a,indexes:r,types:s}}function jO(t){return gh(t).values}function LO(t){const{split:e,types:n}=gh(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===MO?i+=bd(s[o]):a===OO?i+=On.transform(s[o]):i+=s[o]}return i}}const _Q=t=>typeof t=="number"?0:t;function EQ(t){const e=jO(t);return LO(t)(e.map(_Q))}const qo={test:yQ,parse:jO,createTransformer:LO,getAnimatableNone:EQ},TQ=new Set(["brightness","contrast","saturate","opacity"]);function bQ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(QE)||[];if(!r)return t;const s=n.replace(r,"");let i=TQ.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const SQ=/\b([a-z-]*)\(.*?\)/gu,ix={...qo,getAnimatableNone:t=>{const e=t.match(SQ);return e?e.map(bQ).join(" "):t}},GA={...mu,transform:Math.round},JE={borderWidth:Ie,borderTopWidth:Ie,borderRightWidth:Ie,borderBottomWidth:Ie,borderLeftWidth:Ie,borderRadius:Ie,radius:Ie,borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomRightRadius:Ie,borderBottomLeftRadius:Ie,width:Ie,maxWidth:Ie,height:Ie,maxHeight:Ie,size:Ie,top:Ie,right:Ie,bottom:Ie,left:Ie,padding:Ie,paddingTop:Ie,paddingRight:Ie,paddingBottom:Ie,paddingLeft:Ie,margin:Ie,marginTop:Ie,marginRight:Ie,marginBottom:Ie,marginLeft:Ie,rotate:Ji,rotateX:Ji,rotateY:Ji,rotateZ:Ji,scale:yp,scaleX:yp,scaleY:yp,scaleZ:yp,skew:Ji,skewX:Ji,skewY:Ji,distance:Ie,translateX:Ie,translateY:Ie,translateZ:Ie,x:Ie,y:Ie,z:Ie,perspective:Ie,transformPerspective:Ie,opacity:Td,originX:$A,originY:$A,originZ:Ie,zIndex:GA,backgroundPositionX:Ie,backgroundPositionY:Ie,fillOpacity:Td,strokeOpacity:Td,numOctaves:GA},IQ={...JE,color:On,backgroundColor:On,outlineColor:On,fill:On,stroke:On,borderColor:On,borderTopColor:On,borderRightColor:On,borderBottomColor:On,borderLeftColor:On,filter:ix,WebkitFilter:ix},ZE=t=>IQ[t];function VO(t,e){let n=ZE(t);return n!==ix&&(n=qo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const AQ=new Set(["auto","none","0"]);function CQ(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!AQ.has(i)&&gh(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=VO(n,s)}class FO extends YE{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),GE(c))){const u=CO(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!cQ.has(r)||e.length!==2)return;const[s,i]=e,o=HA(s),a=HA(i);if(o!==a)if(zA(o)&&zA(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)ZG(e[s])&&r.push(s);r.length&&CQ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=zc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=zc[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function UO(t){let e;return()=>(e===void 0&&(e=t()),e)}let Jp;function RQ(){Jp=void 0}const zs={now:()=>(Jp===void 0&&zs.set(xn.isProcessing||QG.useManualTiming?xn.timestamp:performance.now()),Jp),set:t=>{Jp=t,queueMicrotask(RQ)}},QA=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(qo.test(t)||t==="0")&&!t.startsWith("url("));function PQ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function NQ(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=QA(s,e),a=QA(i,e);return!o||!a?!1:PQ(t)||n==="spring"&&r}const DQ=40;class BO{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=zs.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>DQ?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&pQ(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=zs.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!NQ(e,r,s,i))if(o)this.options.duration=0;else{l==null||l(xy(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function $O(t,e){return e?t*(1e3/e):0}const kQ=5;function zO(t,e,n){const r=Math.max(e-kQ,0);return $O(n-t(r),e-r)}const pw=.001,MQ=.01,OQ=10,jQ=.05,LQ=1;function VQ({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,o=1-e;o=Ho(jQ,LQ,o),t=Ho(MQ,OQ,yi(t)),o<1?(s=c=>{const u=c*o,d=u*t,p=u-n,g=ox(c,o),w=Math.exp(-d);return pw-p/g*w},i=c=>{const d=c*o*t,p=d*n+n,g=Math.pow(o,2)*Math.pow(c,2)*t,w=Math.exp(-d),v=ox(Math.pow(c,2),o);return(-s(c)+pw>0?-1:1)*((p-g)*w)/v}):(s=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-pw+u*d},i=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=UQ(s,i,a);if(t=gi(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const FQ=12;function UQ(t,e,n){let r=n;for(let s=1;s<FQ;s++)r=r-t(r)/e(r);return r}function ox(t,e){return t*Math.sqrt(1-e*e)}const BQ=["duration","bounce"],$Q=["stiffness","damping","mass"];function YA(t,e){return e.some(n=>t[n]!==void 0)}function zQ(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!YA(t,$Q)&&YA(t,BQ)){const n=VQ(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function KO({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:c,duration:u,velocity:d,isResolvedFromDuration:p}=zQ({...r,velocity:-yi(r.velocity||0)}),g=d||0,w=l/(2*Math.sqrt(a*c)),v=i-s,_=yi(Math.sqrt(a/c)),x=Math.abs(v)<5;n||(n=x?.01:2),e||(e=x?.005:.5);let y;if(w<1){const b=ox(_,w);y=I=>{const D=Math.exp(-w*_*I);return i-D*((g+w*_*v)/b*Math.sin(b*I)+v*Math.cos(b*I))}}else if(w===1)y=b=>i-Math.exp(-_*b)*(v+(g+_*v)*b);else{const b=_*Math.sqrt(w*w-1);y=I=>{const D=Math.exp(-w*_*I),O=Math.min(b*I,300);return i-D*((g+w*_*v)*Math.sinh(O)+b*v*Math.cosh(O))/b}}return{calculatedDuration:p&&u||null,next:b=>{const I=y(b);if(p)o.done=b>=u;else{let D=0;w<1&&(D=b===0?gi(g):zO(y,b,I));const O=Math.abs(D)<=n,A=Math.abs(i-I)<=e;o.done=O&&A}return o.value=o.done?i:I,o}}}function XA({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],p={done:!1,value:d},g=T=>a!==void 0&&T<a||l!==void 0&&T>l,w=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let v=n*e;const _=d+v,x=o===void 0?_:o(_);x!==_&&(v=x-d);const y=T=>-v*Math.exp(-T/r),b=T=>x+y(T),I=T=>{const R=y(T),C=b(T);p.done=Math.abs(R)<=c,p.value=p.done?x:C};let D,O;const A=T=>{g(p.value)&&(D=T,O=KO({keyframes:[p.value,w(p.value)],velocity:zO(b,T,p.value),damping:s,stiffness:i,restDelta:c,restSpeed:u}))};return A(0),{calculatedDuration:null,next:T=>{let R=!1;return!O&&D===void 0&&(R=!0,I(T),A(T)),D!==void 0&&T>=D?O.next(T-D):(!R&&I(T),p)}}}const WO=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,KQ=1e-7,WQ=12;function HQ(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=WO(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>KQ&&++a<WQ);return o}function ff(t,e,n,r){if(t===e&&n===r)return Un;const s=i=>HQ(i,0,1,t,n);return i=>i===0||i===1?i:WO(s(i),e,r)}const qQ=ff(.42,0,1,1),GQ=ff(0,0,.58,1),HO=ff(.42,0,.58,1),QQ=t=>Array.isArray(t)&&typeof t[0]!="number",qO=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,GO=t=>e=>1-t(1-e),eT=t=>1-Math.sin(Math.acos(t)),QO=GO(eT),YQ=qO(eT),YO=ff(.33,1.53,.69,.99),tT=GO(YO),XQ=qO(tT),JQ=t=>(t*=2)<1?.5*tT(t):.5*(2-Math.pow(2,-10*(t-1))),JA={linear:Un,easeIn:qQ,easeInOut:HO,easeOut:GQ,circIn:eT,circInOut:YQ,circOut:QO,backIn:tT,backInOut:XQ,backOut:YO,anticipate:JQ},ZA=t=>{if(Array.isArray(t)){tx(t.length===4);const[e,n,r,s]=t;return ff(e,n,r,s)}else if(typeof t=="string")return tx(JA[t]!==void 0),JA[t];return t},ZQ=(t,e)=>n=>e(t(n)),vi=(...t)=>t.reduce(ZQ),yh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Lt=(t,e,n)=>t+(e-t)*n;function mw(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function eY({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=mw(l,a,t+1/3),i=mw(l,a,t),o=mw(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Zm(t,e){return n=>n>0?e:t}const gw=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},tY=[sx,Pa,Jl],nY=t=>tY.find(e=>e.test(t));function eC(t){const e=nY(t);if(!e)return!1;let n=e.parse(t);return e===Jl&&(n=eY(n)),n}const tC=(t,e)=>{const n=eC(t),r=eC(e);if(!n||!r)return Zm(t,e);const s={...n};return i=>(s.red=gw(n.red,r.red,i),s.green=gw(n.green,r.green,i),s.blue=gw(n.blue,r.blue,i),s.alpha=Lt(n.alpha,r.alpha,i),Pa.transform(s))},ax=new Set(["none","hidden"]);function rY(t,e){return ax.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function sY(t,e){return n=>Lt(t,e,n)}function nT(t){return typeof t=="number"?sY:typeof t=="string"?GE(t)?Zm:On.test(t)?tC:aY:Array.isArray(t)?XO:typeof t=="object"?On.test(t)?tC:iY:Zm}function XO(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>nT(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function iY(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=nT(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function oY(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][s[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const aY=(t,e)=>{const n=qo.createTransformer(e),r=gh(t),s=gh(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?ax.has(t)&&!s.values.length||ax.has(e)&&!r.values.length?rY(t,e):vi(XO(oY(r,s),s.values),n):Zm(t,e)};function JO(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Lt(t,e,n):nT(t)(t,e)}function lY(t,e,n){const r=[],s=n||JO,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Un:e;a=vi(l,a)}r.push(a)}return r}function cY(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(tx(i===e.length),i===1)return()=>e[0];if(i===2&&t[0]===t[1])return()=>e[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=lY(e,r,s),a=o.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const d=yh(t[u],t[u+1],c);return o[u](d)};return n?c=>l(Ho(t[0],t[i-1],c)):l}function uY(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=yh(0,e,r);t.push(Lt(n,1,s))}}function dY(t){const e=[0];return uY(e,t.length-1),e}function hY(t,e){return t.map(n=>n*e)}function fY(t,e){return t.map(()=>e||HO).splice(0,t.length-1)}function eg({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=QQ(r)?r.map(ZA):ZA(r),i={done:!1,value:e[0]},o=hY(n&&n.length===e.length?n:dY(e),t),a=cY(o,e,{ease:Array.isArray(s)?s:fY(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const nC=2e4;function pY(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<nC;)e+=n,r=t.next(e);return e>=nC?1/0:e}const mY=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ht.update(e,!0),stop:()=>Di(e),now:()=>xn.isProcessing?xn.timestamp:zs.now()}},gY={decay:XA,inertia:XA,tween:eg,keyframes:eg,spring:KO},yY=t=>t/100;class rT extends BO{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||YE,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=gY[n]||eg;let l,c;a!==eg&&typeof e[0]!="number"&&(l=vi(yY,JO(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});i==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=pY(u));const{calculatedDuration:d}=u,p=d+s,g=p*(r+1)-s;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:p,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:d}=r;if(this.startTime===null)return i.next(0);const{delay:p,repeat:g,repeatType:w,repeatDelay:v,onUpdate:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const x=this.currentTime-p*(this.speed>=0?1:-1),y=this.speed>=0?x<0:x>u;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let b=this.currentTime,I=i;if(g){const T=Math.min(this.currentTime,u)/d;let R=Math.floor(T),C=T%1;!C&&T>=1&&(C=1),C===1&&R--,R=Math.min(R,g+1),!!(R%2)&&(w==="reverse"?(C=1-C,v&&(C-=v/d)):w==="mirror"&&(I=o)),b=Ho(0,1,C)*d}const D=y?{done:!1,value:l[0]}:I.next(b);a&&(D.value=a(D.value));let{done:O}=D;!y&&c!==null&&(O=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return A&&s!==void 0&&(D.value=xy(l,this.options,s)),_&&_(D.value),A&&this.finish(),D}get duration(){const{resolved:e}=this;return e?yi(e.calculatedDuration):0}get time(){return yi(this.currentTime)}set time(e){e=gi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=yi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=mY,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const ZO=new Set(["opacity","clipPath","filter","transform"]),ej=t=>Array.isArray(t)&&typeof t[0]=="number";function tj(t){return!!(!t||typeof t=="string"&&t in sT||ej(t)||Array.isArray(t)&&t.every(tj))}const id=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,sT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:id([0,.65,.55,1]),circOut:id([.55,0,1,.45]),backIn:id([.31,.01,.66,-.59]),backOut:id([.33,1.53,.69,.99])};function vY(t){return nj(t)||sT.easeOut}function nj(t){if(t)return ej(t)?id(t):Array.isArray(t)?t.map(vY):sT[t]}function wY(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=nj(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const xY=UO(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),tg=10,_Y=2e4;function EY(t){return t.type==="spring"||!tj(t.ease)}function TY(t,e){const n=new rT({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<_Y;)r=n.sample(i),s.push(r.value),i+=tg;return{times:void 0,keyframes:s,duration:i-tg,ease:"linear"}}class rC extends BO{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new FO(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:s=300,times:i,ease:o,type:a,motionValue:l,name:c,startTime:u}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(EY(this.options)){const{onComplete:p,onUpdate:g,motionValue:w,element:v,..._}=this.options,x=TY(e,_);e=x.keyframes,e.length===1&&(e[1]=e[0]),s=x.duration,i=x.times,o=x.ease,a="keyframes"}const d=wY(l.owner.current,c,e,{...this.options,duration:s,times:i,ease:o});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(d.timeline=this.pendingTimeline,this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:p}=this.options;l.set(xy(e,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:s,times:i,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return yi(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return yi(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=gi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Un;const{animation:r}=n;r.timeline=e,r.onfinish=null}return Un}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:d,element:p,...g}=this.options,w=new rT({...g,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),v=gi(this.time);c.setWithVelocity(w.sample(v-tg).value,w.sample(v).value,tg)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=e;return xY()&&r&&ZO.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}function bY(t,e){let n;const r=()=>{const{currentTime:s}=e,o=(s===null?0:s.value)/100;n!==o&&t(o),n=o};return ht.update(r,!0),()=>Di(r)}const SY=UO(()=>window.ScrollTimeline!==void 0);class IY{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>{if(SY()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),bY(s=>{r.time=r.duration*s},e)});return()=>{n.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const iT=(t,e,n,r={},s,i,o)=>a=>{const l=qE(r,t)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-gi(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:g=>{e.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{a(),l.onComplete&&l.onComplete(),o&&o()},onStop:o,name:t,motionValue:e,element:i?void 0:s};GG(l)||(d={...d,...qG(t,d)}),d.duration&&(d.duration=gi(d.duration)),d.repeatDelay&&(d.repeatDelay=gi(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let p=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(p=!0)),p&&!i&&e.get()!==void 0){const g=xy(d.keyframes,l);if(g!==void 0)return ht.update(()=>{d.onUpdate(g),d.onComplete()}),new IY([])}return!i&&rC.supports(d)?new rC(d):new rT(d)},AY=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),CY=t=>ex(t)?t[t.length-1]||0:t;function _y(t,e){t.indexOf(e)===-1&&t.push(e)}function Ey(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class oT{constructor(){this.subscriptions=[]}add(e){return _y(this.subscriptions,e),()=>Ey(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const sC=30,RY=t=>!isNaN(parseFloat(t));class rj{constructor(e,n={}){this.version="11.5.6",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=zs.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=zs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=RY(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new oT);const r=this.events[e].add(n);return e==="change"?()=>{r(),ht.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=zs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>sC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,sC);return $O(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vh(t,e){return new rj(t,e)}function PY(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,vh(n))}function NY(t,e){const n=wy(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=CY(i[o]);PY(t,o,a)}}const Ty=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),DY="framerAppearId",sj="data-"+Ty(DY);function ij(t){return t.props[sj]}function oj(t){if(ia.has(t))return"transform";if(ZO.has(t))return Ty(t)}class kY extends rj{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(e){const n=oj(e);if(!n)return;const r=this.counts.get(n)||0;this.counts.set(n,r+1),r===0&&(this.output.push(n),this.update());let s=!1;return()=>{if(s)return;s=!0;const i=this.counts.get(n)-1;this.counts.set(n,i),i===0&&(Ey(this.output,n),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}const Fn=t=>!!(t&&t.getVelocity);function MY(t){return!!(Fn(t)&&t.add)}function lx(t,e){var n;if(!t.applyWillChange)return;let r=t.getValue("willChange");if(!r&&!(!((n=t.props.style)===null||n===void 0)&&n.willChange)&&(r=new kY("auto"),t.addValue("willChange",r)),MY(r))return r.add(e)}function OY({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function aj(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const d in l){const p=t.getValue(d,(i=t.latestValues[d])!==null&&i!==void 0?i:null),g=l[d];if(g===void 0||u&&OY(u,d))continue;const w={delay:n,...qE(o||{},d)};let v=!1;if(window.MotionHandoffAnimation){const x=ij(t);if(x){const y=window.MotionHandoffAnimation(x,d,ht);y!==null&&(w.startTime=y,v=!0)}}p.start(iT(d,p,g,t.shouldReduceMotion&&ia.has(d)?{type:!1}:w,t,v,lx(t,d)));const _=p.animation;_&&c.push(_)}return a&&Promise.all(c).then(()=>{ht.update(()=>{a&&NY(t,a)})}),c}function cx(t,e,n={}){var r;const s=wy(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(aj(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:p}=i;return jY(t,e,u+c,d,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function jY(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(LY).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(cx(c,e,{...i,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function LY(t,e){return t.sortNodePosition(e)}function VY(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>cx(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=cx(t,e,n);else{const s=typeof e=="function"?wy(t,e,n.custom):e;r=Promise.all(aj(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const FY=HE.length;function lj(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?lj(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<FY;n++){const r=HE[n],s=t.props[r];(mh(s)||s===!1)&&(e[r]=s)}return e}const UY=[...WE].reverse(),BY=WE.length;function $Y(t){return e=>Promise.all(e.map(({animation:n,options:r})=>VY(t,n,r)))}function zY(t){let e=$Y(t),n=iC(),r=!0;const s=l=>(c,u)=>{var d;const p=wy(t,u,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(p){const{transition:g,transitionEnd:w,...v}=p;c={...c,...v,...w}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,u=lj(t.parent)||{},d=[],p=new Set;let g={},w=1/0;for(let _=0;_<BY;_++){const x=UY[_],y=n[x],b=c[x]!==void 0?c[x]:u[x],I=mh(b),D=x===l?y.isActive:null;D===!1&&(w=_);let O=b===u[x]&&b!==c[x]&&I;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),y.protectedKeys={...g},!y.isActive&&D===null||!b&&!y.prevProp||ph(b)||typeof b=="boolean")continue;const A=KY(y.prevProp,b);let T=A||x===l&&y.isActive&&!O&&I||_>w&&I,R=!1;const C=Array.isArray(b)?b:[b];let M=C.reduce(s(x),{});D===!1&&(M={});const{prevResolvedValues:k={}}=y,N={...k,...M},H=ne=>{T=!0,p.has(ne)&&(R=!0,p.delete(ne)),y.needsAnimating[ne]=!0;const z=t.getValue(ne);z&&(z.liveStyle=!1)};for(const ne in N){const z=M[ne],B=k[ne];if(g.hasOwnProperty(ne))continue;let Z=!1;ex(z)&&ex(B)?Z=!EO(z,B):Z=z!==B,Z?z!=null?H(ne):p.add(ne):z!==void 0&&p.has(ne)?H(ne):y.protectedKeys[ne]=!0}y.prevProp=b,y.prevResolvedValues=M,y.isActive&&(g={...g,...M}),r&&t.blockInitialAnimation&&(T=!1),T&&(!(O&&A)||R)&&d.push(...C.map(ne=>({animation:ne,options:{type:x}})))}if(p.size){const _={};p.forEach(x=>{const y=t.getBaseTarget(x),b=t.getValue(x);b&&(b.liveStyle=!0),_[x]=y??null}),d.push({animation:_})}let v=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(d):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=iC(),r=!0}}}function KY(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!EO(e,t):!1}function wa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function iC(){return{animate:wa(!0),whileInView:wa(),whileHover:wa(),whileTap:wa(),whileDrag:wa(),whileFocus:wa(),exit:wa()}}class oa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class WY extends oa{constructor(e){super(e),e.animationState||(e.animationState=zY(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ph(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let HY=0;class qY extends oa{constructor(){super(...arguments),this.id=HY++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const GY={animation:{Feature:WY},exit:{Feature:qY}},cj=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function by(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const QY=t=>e=>cj(e)&&t(e,by(e));function ui(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function wi(t,e,n,r){return ui(t,e,QY(n),r)}const oC=(t,e)=>Math.abs(t-e);function YY(t,e){const n=oC(t.x,e.x),r=oC(t.y,e.y);return Math.sqrt(n**2+r**2)}class uj{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=vw(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=YY(d.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:w}=d,{timestamp:v}=xn;this.history.push({...w,timestamp:v});const{onStart:_,onMove:x}=this.handlers;p||(_&&_(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=yw(p,this.transformPagePoint),ht.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{this.end();const{onEnd:g,onSessionEnd:w,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=vw(d.type==="pointercancel"?this.lastMoveEventInfo:yw(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(d,_),w&&w(d,_)},!cj(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=by(e),a=yw(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=xn;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,vw(a,this.history)),this.removeListeners=vi(wi(this.contextWindow,"pointermove",this.handlePointerMove),wi(this.contextWindow,"pointerup",this.handlePointerUp),wi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Di(this.updatePoint)}}function yw(t,e){return e?{point:e(t.point)}:t}function aC(t,e){return{x:t.x-e.x,y:t.y-e.y}}function vw({point:t},e){return{point:t,delta:aC(t,dj(e)),offset:aC(t,XY(e)),velocity:JY(e,.1)}}function XY(t){return t[0]}function dj(t){return t[t.length-1]}function JY(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=dj(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>gi(e)));)n--;if(!r)return{x:0,y:0};const i=yi(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function hj(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const lC=hj("dragHorizontal"),cC=hj("dragVertical");function fj(t){let e=!1;if(t==="y")e=cC();else if(t==="x")e=lC();else{const n=lC(),r=cC();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function pj(){const t=fj(!0);return t?(t(),!1):!0}function Zl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const mj=1e-4,ZY=1-mj,eX=1+mj,gj=.01,tX=0-gj,nX=0+gj;function Pr(t){return t.max-t.min}function rX(t,e,n){return Math.abs(t-e)<=n}function uC(t,e,n,r=.5){t.origin=r,t.originPoint=Lt(e.min,e.max,t.origin),t.scale=Pr(n)/Pr(e),t.translate=Lt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=ZY&&t.scale<=eX||isNaN(t.scale))&&(t.scale=1),(t.translate>=tX&&t.translate<=nX||isNaN(t.translate))&&(t.translate=0)}function Sd(t,e,n,r){uC(t.x,e.x,n.x,r?r.originX:void 0),uC(t.y,e.y,n.y,r?r.originY:void 0)}function dC(t,e,n){t.min=n.min+e.min,t.max=t.min+Pr(e)}function sX(t,e,n){dC(t.x,e.x,n.x),dC(t.y,e.y,n.y)}function hC(t,e,n){t.min=e.min-n.min,t.max=t.min+Pr(e)}function Id(t,e,n){hC(t.x,e.x,n.x),hC(t.y,e.y,n.y)}function iX(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Lt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Lt(n,t,r.max):Math.min(t,n)),t}function fC(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function oX(t,{top:e,left:n,bottom:r,right:s}){return{x:fC(t.x,n,s),y:fC(t.y,e,r)}}function pC(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function aX(t,e){return{x:pC(t.x,e.x),y:pC(t.y,e.y)}}function lX(t,e){let n=.5;const r=Pr(t),s=Pr(e);return s>r?n=yh(e.min,e.max-r,t.min):r>s&&(n=yh(t.min,t.max-s,e.min)),Ho(0,1,n)}function cX(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ux=.35;function uX(t=ux){return t===!1?t=0:t===!0&&(t=ux),{x:mC(t,"left","right"),y:mC(t,"top","bottom")}}function mC(t,e,n){return{min:gC(t,e),max:gC(t,n)}}function gC(t,e){return typeof t=="number"?t:t[e]||0}const yC=()=>({translate:0,scale:1,origin:0,originPoint:0}),ec=()=>({x:yC(),y:yC()}),vC=()=>({min:0,max:0}),Qt=()=>({x:vC(),y:vC()});function Fr(t){return[t("x"),t("y")]}function yj({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function dX({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function hX(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ww(t){return t===void 0||t===1}function dx({scale:t,scaleX:e,scaleY:n}){return!ww(t)||!ww(e)||!ww(n)}function Ta(t){return dx(t)||vj(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function vj(t){return wC(t.x)||wC(t.y)}function wC(t){return t&&t!=="0%"}function ng(t,e,n){const r=t-n,s=e*r;return n+s}function xC(t,e,n,r,s){return s!==void 0&&(t=ng(t,s,r)),ng(t,n,r)+e}function hx(t,e=0,n=1,r,s){t.min=xC(t.min,e,n,r,s),t.max=xC(t.max,e,n,r,s)}function wj(t,{x:e,y:n}){hx(t.x,e.translate,e.scale,e.originPoint),hx(t.y,n.translate,n.scale,n.originPoint)}const _C=.999999999999,EC=1.0000000000001;function fX(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&nc(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,wj(t,o)),r&&Ta(i.latestValues)&&nc(t,i.latestValues))}e.x<EC&&e.x>_C&&(e.x=1),e.y<EC&&e.y>_C&&(e.y=1)}function tc(t,e){t.min=t.min+e,t.max=t.max+e}function TC(t,e,n,r,s=.5){const i=Lt(t.min,t.max,s);hx(t,e,n,i,r)}function nc(t,e){TC(t.x,e.x,e.scaleX,e.scale,e.originX),TC(t.y,e.y,e.scaleY,e.scale,e.originY)}function xj(t,e){return yj(hX(t.getBoundingClientRect(),e))}function pX(t,e,n){const r=xj(t,n),{scroll:s}=e;return s&&(tc(r.x,s.offset.x),tc(r.y,s.offset.y)),r}const _j=({current:t})=>t?t.ownerDocument.defaultView:null,mX=new WeakMap;class gX{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(by(u,"page").point)},i=(u,d)=>{var p;const{drag:g,dragPropagation:w,onDragStart:v}=this.getProps();if(g&&!w&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=fj(g),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fr(x=>{let y=this.getAxisMotionValue(x).get()||0;if($s.test(y)){const{projection:b}=this.visualElement;if(b&&b.layout){const I=b.layout.layoutBox[x];I&&(y=Pr(I)*(parseFloat(y)/100))}}this.originPoint[x]=y}),v&&ht.postRender(()=>v(u,d)),(p=this.removeWillChange)===null||p===void 0||p.call(this),this.removeWillChange=lx(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:w,onDrag:v}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:_}=d;if(g&&this.currentDirection===null){this.currentDirection=yX(_),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",d.point,_),this.updateAxis("y",d.point,_),this.visualElement.render(),v&&v(u,d)},a=(u,d)=>this.stop(u,d),l=()=>Fr(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new uj(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:_j(this.visualElement)})}stop(e,n){var r;(r=this.removeWillChange)===null||r===void 0||r.call(this);const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&ht.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!vp(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=iX(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Zl(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=oX(s.layoutBox,n):this.constraints=!1,this.elastic=uX(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Fr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=cX(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Zl(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=pX(r,s.root,this.visualElement.getTransformPagePoint());let o=aX(s.layout.layoutBox,i);if(n){const a=n(dX(o));this.hasMutatedConstraints=!!a,a&&(o=yj(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Fr(u=>{if(!vp(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const p=s?200:1e6,g=s?40:1e7,w={type:"inertia",velocity:r?e[u]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(u,w)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(iT(e,r,0,n,this.visualElement,!1,lx(this.visualElement,e)))}stopAnimation(){Fr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Fr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Fr(n=>{const{drag:r}=this.getProps();if(!vp(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Lt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Zl(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Fr(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=lX({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Fr(o=>{if(!vp(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Lt(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;mX.set(this.visualElement,this);const e=this.visualElement.current,n=wi(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Zl(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ht.read(r);const o=ui(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Fr(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=ux,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function vp(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function yX(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class vX extends oa{constructor(e){super(e),this.removeGroupControls=Un,this.removeListeners=Un,this.controls=new gX(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Un}unmount(){this.removeGroupControls(),this.removeListeners()}}const bC=t=>(e,n)=>{t&&ht.postRender(()=>t(e,n))};class wX extends oa{constructor(){super(...arguments),this.removePointerDownListener=Un}onPointerDown(e){this.session=new uj(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_j(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:bC(e),onStart:bC(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&ht.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=wi(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Sy=m.createContext(null);function xX(){const t=m.useContext(Sy);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=m.useId();m.useEffect(()=>r(s),[]);const i=m.useCallback(()=>n&&n(s),[s,n]);return!e&&n?[!1,i]:[!0]}const aT=m.createContext({}),Ej=m.createContext({}),Zp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function SC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const qu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ie.test(t))t=parseFloat(t);else return t;const n=SC(t,e.target.x),r=SC(t,e.target.y);return`${n}% ${r}%`}},_X={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=qo.parse(t);if(s.length>5)return r;const i=qo.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=Lt(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}},rg={};function EX(t){Object.assign(rg,t)}const{schedule:lT,cancel:Ode}=TO(queueMicrotask,!1);class TX extends m.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;EX(bX),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Zp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||ht.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),lT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Tj(t){const[e,n]=xX(),r=m.useContext(aT);return h.jsx(TX,{...t,layoutGroup:r,switchLayoutGroup:m.useContext(Ej),isPresent:e,safeToRemove:n})}const bX={borderRadius:{...qu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qu,borderTopRightRadius:qu,borderBottomLeftRadius:qu,borderBottomRightRadius:qu,boxShadow:_X},bj=["TopLeft","TopRight","BottomLeft","BottomRight"],SX=bj.length,IC=t=>typeof t=="string"?parseFloat(t):t,AC=t=>typeof t=="number"||Ie.test(t);function IX(t,e,n,r,s,i){s?(t.opacity=Lt(0,n.opacity!==void 0?n.opacity:1,AX(r)),t.opacityExit=Lt(e.opacity!==void 0?e.opacity:1,0,CX(r))):i&&(t.opacity=Lt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<SX;o++){const a=`border${bj[o]}Radius`;let l=CC(e,a),c=CC(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||AC(l)===AC(c)?(t[a]=Math.max(Lt(IC(l),IC(c),r),0),($s.test(c)||$s.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Lt(e.rotate||0,n.rotate||0,r))}function CC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const AX=Sj(0,.5,QO),CX=Sj(.5,.95,Un);function Sj(t,e,n){return r=>r<t?0:r>e?1:n(yh(t,e,r))}function RC(t,e){t.min=e.min,t.max=e.max}function Vr(t,e){RC(t.x,e.x),RC(t.y,e.y)}function PC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function NC(t,e,n,r,s){return t-=e,t=ng(t,1/n,r),s!==void 0&&(t=ng(t,1/s,r)),t}function RX(t,e=0,n=1,r=.5,s,i=t,o=t){if($s.test(e)&&(e=parseFloat(e),e=Lt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Lt(i.min,i.max,r);t===i&&(a-=e),t.min=NC(t.min,e,n,a,s),t.max=NC(t.max,e,n,a,s)}function DC(t,e,[n,r,s],i,o){RX(t,e[n],e[r],e[s],e.scale,i,o)}const PX=["x","scaleX","originX"],NX=["y","scaleY","originY"];function kC(t,e,n,r){DC(t.x,e,PX,n?n.x:void 0,r?r.x:void 0),DC(t.y,e,NX,n?n.y:void 0,r?r.y:void 0)}function MC(t){return t.translate===0&&t.scale===1}function Ij(t){return MC(t.x)&&MC(t.y)}function OC(t,e){return t.min===e.min&&t.max===e.max}function DX(t,e){return OC(t.x,e.x)&&OC(t.y,e.y)}function jC(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Aj(t,e){return jC(t.x,e.x)&&jC(t.y,e.y)}function LC(t){return Pr(t.x)/Pr(t.y)}function VC(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class kX{constructor(){this.members=[]}add(e){_y(this.members,e),e.scheduleRender()}remove(e){if(Ey(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function MX(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:p,skewX:g,skewY:w}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),p&&(r+=`rotateY(${p}deg) `),g&&(r+=`skewX(${g}deg) `),w&&(r+=`skewY(${w}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const OX=(t,e)=>t.depth-e.depth;class jX{constructor(){this.children=[],this.isDirty=!1}add(e){_y(this.children,e),this.isDirty=!0}remove(e){Ey(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(OX),this.isDirty=!1,this.children.forEach(e)}}function em(t){const e=Fn(t)?t.get():t;return AY(e)?e.toValue():e}function LX(t,e){const n=zs.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Di(r),t(i-e))};return ht.read(r,!0),()=>Di(r)}function VX(t){return t instanceof SVGElement&&t.tagName!=="svg"}function FX(t,e,n){const r=Fn(t)?t:vh(t);return r.start(iT("",r,e,n)),r.animation}const ba={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},od=typeof window<"u"&&window.MotionDebug!==void 0,xw=["","X","Y","Z"],UX={visibility:"hidden"},FC=1e3;let BX=0;function _w(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Cj(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=ij(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ht,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Cj(r)}function Rj({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=BX++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,od&&(ba.totalNodes=ba.resolvedTargetDeltas=ba.recalculatedProjection=0),this.nodes.forEach(KX),this.nodes.forEach(QX),this.nodes.forEach(YX),this.nodes.forEach(WX),od&&window.MotionDebug.record(ba)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new jX)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new oT),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=VX(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=LX(p,250),Zp.hasAnimatedSinceResize&&(Zp.hasAnimatedSinceResize=!1,this.nodes.forEach(BC))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:g,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||tJ,{onLayoutAnimationStart:_,onLayoutAnimationComplete:x}=u.getProps(),y=!this.targetLayout||!Aj(this.targetLayout,w)||g,b=!p&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||p&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,b);const I={...qE(v,"layout"),onPlay:_,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I)}else p||BC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Di(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(XX),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Cj(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(UC);return}this.isUpdating||this.nodes.forEach(qX),this.isUpdating=!1,this.nodes.forEach(GX),this.nodes.forEach($X),this.nodes.forEach(zX),this.clearAllSnapshots();const a=zs.now();xn.delta=Ho(0,1e3/60,a-xn.timestamp),xn.timestamp=a,xn.isProcessing=!0,hw.update.process(xn),hw.preRender.process(xn),hw.render.process(xn),xn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,lT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(HX),this.sharedNodes.forEach(JX)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ht.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ht.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Ij(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Ta(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),nJ(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Qt();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(rJ))){const{scroll:u}=this.root;u&&(tc(l.x,u.offset.x),tc(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=Qt();if(Vr(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:p}=u;u!==this.root&&d&&p.layoutScroll&&(d.wasRoot&&Vr(l,o),tc(l.x,d.offset.x),tc(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=Qt();Vr(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&nc(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ta(u.latestValues)&&nc(l,u.latestValues)}return Ta(this.latestValues)&&nc(l,this.latestValues),l}removeTransform(o){const a=Qt();Vr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ta(c.latestValues))continue;dx(c.latestValues)&&c.updateSnapshot();const u=Qt(),d=c.measurePageBox();Vr(u,d),kC(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Ta(this.latestValues)&&kC(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=xn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qt(),this.relativeTargetOrigin=Qt(),Id(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Qt(),this.targetWithTransforms=Qt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sX(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vr(this.target,this.layout.layoutBox),wj(this.target,this.targetDelta)):Vr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qt(),this.relativeTargetOrigin=Qt(),Id(this.relativeTargetOrigin,this.target,g.target),Vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}od&&ba.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||dx(this.parent.latestValues)||vj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===xn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Vr(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;fX(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Qt());const{target:w}=a;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(PC(this.prevProjectionDelta.x,this.projectionDelta.x),PC(this.prevProjectionDelta.y,this.projectionDelta.y)),Sd(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!VC(this.projectionDelta.x,this.prevProjectionDelta.x)||!VC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),od&&ba.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ec(),this.projectionDelta=ec(),this.projectionDeltaWithTransform=ec()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=ec();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Qt(),g=l?l.source:void 0,w=this.layout?this.layout.source:void 0,v=g!==w,_=this.getStack(),x=!_||_.members.length<=1,y=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(eJ));this.animationProgress=0;let b;this.mixTargetDelta=I=>{const D=I/1e3;$C(d.x,o.x,D),$C(d.y,o.y,D),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Id(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ZX(this.relativeTarget,this.relativeTargetOrigin,p,D),b&&DX(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Qt()),Vr(b,this.relativeTarget)),v&&(this.animationValues=u,IX(u,c,this.latestValues,D,y,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Di(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ht.update(()=>{Zp.hasAnimatedSinceResize=!0,this.currentAnimation=FX(0,FC,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(FC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&Pj(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Qt();const d=Pr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const p=Pr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Vr(a,l),nc(a,u),Sd(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new kX),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&_w("z",o,c,this.animationValues);for(let u=0;u<xw.length;u++)_w(`rotate${xw[u]}`,o,c,this.animationValues),_w(`skew${xw[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return UX;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=em(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=em(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ta(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=MX(this.projectionDeltaWithTransform,this.treeScale,p),u&&(c.transform=u(p,c.transform));const{x:g,y:w}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${w.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in rg){if(p[v]===void 0)continue;const{correct:_,applyTo:x}=rg[v],y=c.transform==="none"?p[v]:_(p[v],d);if(x){const b=x.length;for(let I=0;I<b;I++)c[x[I]]=y}else c[v]=y}return this.options.layoutId&&(c.pointerEvents=d===this?em(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(UC),this.root.sharedNodes.clear()}}}function $X(t){t.updateLayout()}function zX(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?Fr(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],g=Pr(p);p.min=r[d].min,p.max=p.min+g}):Pj(i,n.layoutBox,r)&&Fr(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],g=Pr(r[d]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+g)});const a=ec();Sd(a,r,n.layoutBox);const l=ec();o?Sd(l,t.applyTransform(s,!0),n.measuredBox):Sd(l,r,n.layoutBox);const c=!Ij(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:g}=d;if(p&&g){const w=Qt();Id(w,n.layoutBox,p.layoutBox);const v=Qt();Id(v,r,g.layoutBox),Aj(w,v)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=w,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function KX(t){od&&ba.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function WX(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function HX(t){t.clearSnapshot()}function UC(t){t.clearMeasurements()}function qX(t){t.isLayoutDirty=!1}function GX(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function BC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function QX(t){t.resolveTargetDelta()}function YX(t){t.calcProjection()}function XX(t){t.resetSkewAndRotation()}function JX(t){t.removeLeadSnapshot()}function $C(t,e,n){t.translate=Lt(e.translate,0,n),t.scale=Lt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function zC(t,e,n,r){t.min=Lt(e.min,n.min,r),t.max=Lt(e.max,n.max,r)}function ZX(t,e,n,r){zC(t.x,e.x,n.x,r),zC(t.y,e.y,n.y,r)}function eJ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const tJ={duration:.45,ease:[.4,0,.1,1]},KC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),WC=KC("applewebkit/")&&!KC("chrome/")?Math.round:Un;function HC(t){t.min=WC(t.min),t.max=WC(t.max)}function nJ(t){HC(t.x),HC(t.y)}function Pj(t,e,n){return t==="position"||t==="preserve-aspect"&&!rX(LC(e),LC(n),.2)}function rJ(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const sJ=Rj({attachResizeListener:(t,e)=>ui(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ew={current:void 0},Nj=Rj({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ew.current){const t=new sJ({});t.mount(window),t.setOptions({layoutScroll:!0}),Ew.current=t}return Ew.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),iJ={pan:{Feature:wX},drag:{Feature:vX,ProjectionNode:Nj,MeasureLayout:Tj}};function qC(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",s=(i,o)=>{if(i.pointerType==="touch"||pj())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&ht.postRender(()=>l(i,o))};return wi(t.current,n,s,{passive:!t.getProps()[r]})}class oJ extends oa{mount(){this.unmount=vi(qC(this.node,!0),qC(this.node,!1))}unmount(){}}class aJ extends oa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vi(ui(this.node.current,"focus",()=>this.onFocus()),ui(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Dj=(t,e)=>e?t===e?!0:Dj(t,e.parentElement):!1;function Tw(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,by(n))}class lJ extends oa{constructor(){super(...arguments),this.removeStartListeners=Un,this.removeEndListeners=Un,this.removeAccessibleListeners=Un,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=wi(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:d}=this.node.getProps(),p=!d&&!Dj(this.node.current,a.target)?u:c;p&&ht.update(()=>p(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=wi(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=vi(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Tw("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&ht.postRender(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=ui(this.node.current,"keyup",o),Tw("down",(a,l)=>{this.startPress(a,l)})},n=ui(this.node.current,"keydown",e),r=()=>{this.isPressing&&Tw("cancel",(i,o)=>this.cancelPress(i,o))},s=ui(this.node.current,"blur",r);this.removeAccessibleListeners=vi(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ht.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!pj()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ht.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=wi(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=ui(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=vi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const fx=new WeakMap,bw=new WeakMap,cJ=t=>{const e=fx.get(t.target);e&&e(t)},uJ=t=>{t.forEach(cJ)};function dJ({root:t,...e}){const n=t||document;bw.has(n)||bw.set(n,{});const r=bw.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(uJ,{root:t,...e})),r[s]}function hJ(t,e,n){const r=dJ(e);return fx.set(t,n),r.observe(t),()=>{fx.delete(t),r.unobserve(t)}}const fJ={some:0,all:1};class pJ extends oa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:fJ[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),p=c?u:d;p&&p(l)};return hJ(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(mJ(e,n))&&this.startObserver()}unmount(){}}function mJ({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const gJ={inView:{Feature:pJ},tap:{Feature:lJ},focus:{Feature:aJ},hover:{Feature:oJ}},yJ={layout:{ProjectionNode:Nj,MeasureLayout:Tj}},cT=m.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Iy=m.createContext({}),uT=typeof window<"u",kj=uT?m.useLayoutEffect:m.useEffect,Mj=m.createContext({strict:!1});let GC=!1;function vJ(t,e,n,r,s){var i;const{visualElement:o}=m.useContext(Iy),a=m.useContext(Mj),l=m.useContext(Sy),c=m.useContext(cT).reducedMotion,u=m.useRef();r=r||a.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,p=m.useContext(Ej);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&xJ(u.current,n,s,p),m.useInsertionEffect(()=>{d&&d.update(n,l)});const g=n[sj],w=m.useRef(!!g&&!window.MotionHandoffIsComplete&&((i=window.MotionHasOptimisedAnimation)===null||i===void 0?void 0:i.call(window,g)));return kj(()=>{d&&(d.updateFeatures(),lT.render(d.render),w.current&&d.animationState&&d.animationState.animateChanges())}),m.useEffect(()=>{d&&(!w.current&&d.animationState&&d.animationState.animateChanges(),w.current=!1,GC||(GC=!0,queueMicrotask(wJ)))}),d}function wJ(){window.MotionHandoffIsComplete=!0}function xJ(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Oj(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Zl(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function Oj(t){if(t)return t.options.allowProjection!==!1?t.projection:Oj(t.parent)}function _J(t,e,n){return m.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Zl(n)&&(n.current=r))},[e])}function Ay(t){return ph(t.animate)||HE.some(e=>mh(t[e]))}function jj(t){return!!(Ay(t)||t.variants)}function EJ(t,e){if(Ay(t)){const{initial:n,animate:r}=t;return{initial:n===!1||mh(n)?n:void 0,animate:mh(r)?r:void 0}}return t.inherit!==!1?e:{}}function TJ(t){const{initial:e,animate:n}=EJ(t,m.useContext(Iy));return m.useMemo(()=>({initial:e,animate:n}),[QC(e),QC(n)])}function QC(t){return Array.isArray(t)?t.join(" "):t}const YC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Kc={};for(const t in YC)Kc[t]={isEnabled:e=>YC[t].some(n=>!!e[n])};function bJ(t){for(const e in t)Kc[e]={...Kc[e],...t[e]}}const SJ=Symbol.for("motionComponentSymbol");function IJ({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&bJ(t);function i(a,l){let c;const u={...m.useContext(cT),...a,layoutId:AJ(a)},{isStatic:d}=u,p=TJ(a),g=r(a,d);if(!d&&uT){CJ();const w=RJ(u);c=w.MeasureLayout,p.visualElement=vJ(s,g,u,e,w.ProjectionNode)}return h.jsxs(Iy.Provider,{value:p,children:[c&&p.visualElement?h.jsx(c,{visualElement:p.visualElement,...u}):null,n(s,a,_J(g,p.visualElement,l),g,d,p.visualElement)]})}const o=m.forwardRef(i);return o[SJ]=s,o}function AJ({layoutId:t}){const e=m.useContext(aT).id;return e&&t!==void 0?e+"-"+t:t}function CJ(t,e){m.useContext(Mj).strict}function RJ(t){const{drag:e,layout:n}=Kc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const PJ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function dT(t){return typeof t!="string"||t.includes("-")?!1:!!(PJ.indexOf(t)>-1||/[A-Z]/u.test(t))}function Lj(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const Vj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Fj(t,e,n,r){Lj(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(Vj.has(s)?s:Ty(s),e.attrs[s])}function Uj(t,{layout:e,layoutId:n}){return ia.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!rg[t]||t==="opacity")}function hT(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(Fn(s[o])||e.style&&Fn(e.style[o])||Uj(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return n&&s&&typeof s.willChange=="string"&&(n.applyWillChange=!1),i}function Bj(t,e,n){const r=hT(t,e,n);for(const s in t)if(Fn(t[s])||Fn(e[s])){const i=uf.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function fT(t){const e=m.useRef(null);return e.current===null&&(e.current=t()),e.current}function NJ({applyWillChange:t=!1,scrapeMotionValuesFromProps:e,createRenderState:n,onMount:r},s,i,o,a){const l={latestValues:kJ(s,i,o,a?!1:t,e),renderState:n()};return r&&(l.mount=c=>r(s,c,l)),l}const $j=t=>(e,n)=>{const r=m.useContext(Iy),s=m.useContext(Sy),i=()=>NJ(t,e,r,s,n);return n?i():fT(i)};function DJ(t,e){const n=oj(e);n&&_y(t,n)}function XC(t,e,n){const r=Array.isArray(e)?e:[e];for(let s=0;s<r.length;s++){const i=KE(t,r[s]);if(i){const{transitionEnd:o,transition:a,...l}=i;n(l,o)}}}function kJ(t,e,n,r,s){var i;const o={},a=[],l=r&&((i=t.style)===null||i===void 0?void 0:i.willChange)===void 0,c=s(t,{});for(const _ in c)o[_]=em(c[_]);let{initial:u,animate:d}=t;const p=Ay(t),g=jj(t);e&&g&&!p&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let w=n?n.initial===!1:!1;w=w||u===!1;const v=w?d:u;return v&&typeof v!="boolean"&&!ph(v)&&XC(t,v,(_,x)=>{for(const y in _){let b=_[y];if(Array.isArray(b)){const I=w?b.length-1:0;b=b[I]}b!==null&&(o[y]=b)}for(const y in x)o[y]=x[y]}),l&&(d&&u!==!1&&!ph(d)&&XC(t,d,_=>{for(const x in _)DJ(a,x)}),a.length&&(o.willChange=a.join(","))),o}const pT=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),zj=()=>({...pT(),attrs:{}}),Kj=(t,e)=>e&&typeof t=="number"?e.transform(t):t,MJ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},OJ=uf.length;function jJ(t,e,n){let r="",s=!0;for(let i=0;i<OJ;i++){const o=uf[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=Kj(a,JE[o]);if(!l){s=!1;const u=MJ[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function mT(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(ia.has(l)){o=!0;continue}else if(AO(l)){s[l]=c;continue}else{const u=Kj(c,JE[l]);l.startsWith("origin")?(a=!0,i[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=jJ(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;r.transformOrigin=`${l} ${c} ${u}`}}function JC(t,e,n){return typeof t=="string"?t:Ie.transform(e+n*t)}function LJ(t,e,n){const r=JC(e,t.x,t.width),s=JC(n,t.y,t.height);return`${r} ${s}`}const VJ={offset:"stroke-dashoffset",array:"stroke-dasharray"},FJ={offset:"strokeDashoffset",array:"strokeDasharray"};function UJ(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?VJ:FJ;t[i.offset]=Ie.transform(-r);const o=Ie.transform(e),a=Ie.transform(n);t[i.array]=`${o} ${a}`}function gT(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,d){if(mT(t,c,d),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g,dimensions:w}=t;p.transform&&(w&&(g.transform=p.transform),delete p.transform),w&&(s!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=LJ(w,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&UJ(p,o,a,l,!1)}const yT=t=>typeof t=="string"&&t.toLowerCase()==="svg",BJ={useVisualState:$j({scrapeMotionValuesFromProps:Bj,createRenderState:zj,onMount:(t,e,{renderState:n,latestValues:r})=>{ht.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ht.render(()=>{gT(n,r,yT(e.tagName),t.transformTemplate),Fj(e,n)})}})},$J={useVisualState:$j({applyWillChange:!0,scrapeMotionValuesFromProps:hT,createRenderState:pT})};function Wj(t,e,n){for(const r in e)!Fn(e[r])&&!Uj(r,n)&&(t[r]=e[r])}function zJ({transformTemplate:t},e){return m.useMemo(()=>{const n=pT();return mT(n,e,t),Object.assign({},n.vars,n.style)},[e])}function KJ(t,e){const n=t.style||{},r={};return Wj(r,n,t),Object.assign(r,zJ(t,e)),r}function WJ(t,e){const n={},r=KJ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const HJ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function sg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||HJ.has(t)}let Hj=t=>!sg(t);function qJ(t){t&&(Hj=e=>e.startsWith("on")?!sg(e):t(e))}try{qJ(require("@emotion/is-prop-valid").default)}catch{}function GJ(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(Hj(s)||n===!0&&sg(s)||!e&&!sg(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function QJ(t,e,n,r){const s=m.useMemo(()=>{const i=zj();return gT(i,e,yT(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};Wj(i,t.style,t),s.style={...i,...s.style}}return s}function YJ(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(dT(n)?QJ:WJ)(r,i,o,n),c=GJ(r,typeof n=="string",t),u=n!==m.Fragment?{...c,...l,ref:s}:{},{children:d}=r,p=m.useMemo(()=>Fn(d)?d.get():d,[d]);return m.createElement(n,{...u,children:p})}}function XJ(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...dT(r)?BJ:$J,preloadedFeatures:t,useRender:YJ(s),createVisualElement:e,Component:r};return IJ(o)}}const px={current:null},qj={current:!1};function JJ(){if(qj.current=!0,!!uT)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>px.current=t.matches;t.addListener(e),e()}else px.current=!1}function ZJ(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Fn(s))t.addValue(r,s);else if(Fn(i))t.addValue(r,vh(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,vh(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const ZC=new WeakMap,eZ=[...PO,On,qo],tZ=t=>eZ.find(RO(t)),e1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class nZ{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=YE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=zs.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,ht.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Ay(n),this.isVariantNode=jj(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in d){const g=d[p];l[p]!==void 0&&Fn(g)&&g.set(l[p],!1)}}mount(e){this.current=e,ZC.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),qj.current||JJ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:px.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ZC.delete(this.current),this.projection&&this.projection.unmount(),Di(this.notifyUpdate),Di(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ia.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&ht.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Kc){const n=Kc[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<e1.length;r++){const s=e1[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=ZJ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=vh(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(SO(s)||bO(s))?s=parseFloat(s):!tZ(s)&&qo.test(n)&&(s=VO(e,n)),this.setBaseTarget(e,Fn(s)?s.get():s)),Fn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=KE(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Fn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new oT),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Gj extends nZ{constructor(){super(...arguments),this.KeyframeResolver=FO}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function rZ(t){return window.getComputedStyle(t)}class sZ extends Gj{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=Lj}readValueFromInstance(e,n){if(ia.has(n)){const r=ZE(n);return r&&r.default||0}else{const r=rZ(e),s=(AO(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return xj(e,n)}build(e,n,r){mT(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return hT(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Fn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class iZ extends Gj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ia.has(n)){const r=ZE(n);return r&&r.default||0}return n=Vj.has(n)?n:Ty(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Bj(e,n,r)}build(e,n,r){gT(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){Fj(e,n,r,s)}mount(e){this.isSVGTag=yT(e.tagName),super.mount(e)}}const oZ=(t,e)=>dT(t)?new iZ(e):new sZ(e,{allowProjection:t!==m.Fragment}),aZ=XJ({...GY,...gJ,...iJ,...yJ},oZ),lZ=$G(aZ);class cZ extends m.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function uZ({children:t,isPresent:e}){const n=m.useId(),r=m.useRef(null),s=m.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=m.useContext(cT);return m.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=s.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return i&&(u.nonce=i),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),h.jsx(cZ,{isPresent:e,childRef:r,sizeRef:s,children:m.cloneElement(t,{ref:r})})}const dZ=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=fT(hZ),l=m.useId(),c=m.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:u=>{a.set(u,!0);for(const d of a.values())if(!d)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),i?[Math.random()]:[n]);return m.useMemo(()=>{a.forEach((u,d)=>a.set(d,!1))},[n]),m.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=h.jsx(uZ,{isPresent:n,children:t})),h.jsx(Sy.Provider,{value:c,children:t})};function hZ(){return new Map}const wp=t=>t.key||"";function t1(t){const e=[];return m.Children.forEach(t,n=>{m.isValidElement(n)&&e.push(n)}),e}const fZ=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=m.useMemo(()=>t1(t),[t]),l=a.map(wp),c=m.useRef(!0),u=m.useRef(a),d=fT(()=>new Map),[p,g]=m.useState(a),[w,v]=m.useState(a);kj(()=>{c.current=!1,u.current=a;for(let y=0;y<w.length;y++){const b=wp(w[y]);l.includes(b)?d.delete(b):d.get(b)!==!0&&d.set(b,!1)}},[w,l.length,l.join("-")]);const _=[];if(a!==p){let y=[...a];for(let b=0;b<w.length;b++){const I=w[b],D=wp(I);l.includes(D)||(y.splice(b,0,I),_.push(I))}o==="wait"&&_.length&&(y=_),v(t1(y)),g(a);return}const{forceRender:x}=m.useContext(aT);return h.jsx(h.Fragment,{children:w.map(y=>{const b=wp(y),I=a===w||l.includes(b),D=()=>{if(d.has(b))d.set(b,!0);else return;let O=!0;d.forEach(A=>{A||(O=!1)}),O&&(x==null||x(),v(u.current),s&&s())};return h.jsx(dZ,{isPresent:I,initial:!c.current||r?void 0:!1,custom:I?void 0:n,presenceAffectsLayout:i,mode:o,onExitComplete:I?void 0:D,children:y},b)})})},pZ=({messageHistory:t,endOfMessagesRef:e,handleMessageClick:n})=>h.jsxs("div",{className:"flex-1 py-4 overflow-y-auto",children:[h.jsx(fZ,{children:h.jsx(pu,{items:t,renderItem:r=>h.jsx(lZ.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`mb-4 ${r.sender==="user"?"text-right":"text-left"}`,children:h.jsx(BG,{message:r,onItemClick:n})},r.uuid),listStyle:"px-4 flex flex-col space-y-4"})}),h.jsx("div",{ref:e})]}),mZ=()=>{const{messageHistory:t,clearMessageHistory:e,handleSubmitMessage:n,endOfMessagesRef:r,selectedResponse:s,setSelectedResponse:i,isInfoPanelOpen:o,setIsInfoPanelOpen:a}=CG();return h.jsxs("div",{className:"flex flex-col w-full max-w-4xl h-[44rem] border border-neutral-200 bg-white rounded-md",children:[h.jsxs("header",{className:"w-full h-[4rem] text-xl font-medium flex items-center justify-between px-4 border-b border-customBorderColor",children:["Admin Chat Interface",h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsxs(lt,{size:"sm",variant:"outline",className:"space-x-1 rounded-md",onClick:e,children:[h.jsx(Jh,{className:"size-4 text-zinc-500"}),h.jsx("p",{className:"text-sm text-zinc-500",children:"Clear Chat"})]}),h.jsx("button",{onClick:()=>a(l=>!l),children:h.jsx("div",{className:"text-zinc-500 p-1.5 rounded-md hover:bg-zinc-100",children:h.jsx(zW,{})})})]})]}),h.jsxs("div",{className:"flex-1 flex overflow-y-auto",children:[h.jsxs("section",{className:"flex-1 flex flex-col",children:[h.jsx(pZ,{messageHistory:t,endOfMessagesRef:r,handleMessageClick:i}),h.jsx(LG,{onSendMessage:n})]}),h.jsx(jG,{showPanel:o,responseData:s})]})]})},gZ=()=>h.jsxs("div",{className:"flex items-center flex-col w-[84rem] px-20 space-y-6 pb-8",children:[h.jsx(SG,{headerText:"Chatbot"}),h.jsx(mZ,{})]}),yZ=()=>h.jsx("header",{className:"py-4 text-3xl font-semibold w-full",children:"Knowledge"});function vZ(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var vT=t=>{const{present:e,children:n}=t,r=wZ(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=Oe(r.ref,xZ(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};vT.displayName="Presence";function wZ(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=vZ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=xp(r.current);i.current=a==="mounted"?c:"none"},[a]),Nt(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=xp(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Nt(()=>{if(e){const c=d=>{const g=xp(r.current).includes(d.animationName);d.target===e&&g&&ji.flushSync(()=>l("ANIMATION_END"))},u=d=>{d.target===e&&(i.current=xp(r.current))};return e.addEventListener("animationstart",u),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",u),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function xp(t){return(t==null?void 0:t.animationName)||"none"}function xZ(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var wT="Tabs",[_Z,Lde]=lu(wT,[dy]),Qj=dy(),[EZ,xT]=_Z(wT),Yj=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=iy(a),[d,p]=Uo({prop:r,onChange:s,defaultProp:i});return h.jsx(EZ,{scope:n,baseId:ys(),value:d,onValueChange:p,orientation:o,dir:u,activationMode:l,children:h.jsx(xe.div,{dir:u,"data-orientation":o,...c,ref:e})})});Yj.displayName=wT;var Xj="TabsList",Jj=m.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=xT(Xj,n),o=Qj(n);return h.jsx(iM,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:h.jsx(xe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});Jj.displayName=Xj;var Zj="TabsTrigger",eL=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=xT(Zj,n),a=Qj(n),l=nL(o.baseId,r),c=rL(o.baseId,r),u=r===o.value;return h.jsx(oM,{asChild:!0,...a,focusable:!s,active:u,children:h.jsx(xe.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:ee(t.onMouseDown,d=>{!s&&d.button===0&&d.ctrlKey===!1?o.onValueChange(r):d.preventDefault()}),onKeyDown:ee(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(r)}),onFocus:ee(t.onFocus,()=>{const d=o.activationMode!=="manual";!u&&!s&&d&&o.onValueChange(r)})})})});eL.displayName=Zj;var tL="TabsContent",Cy=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=xT(tL,n),l=nL(a.baseId,r),c=rL(a.baseId,r),u=r===a.value,d=m.useRef(u);return m.useEffect(()=>{const p=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(p)},[]),h.jsx(vT,{present:s||u,children:({present:p})=>h.jsx(xe.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:p&&i})})});Cy.displayName=tL;function nL(t,e){return`${t}-trigger-${e}`}function rL(t,e){return`${t}-content-${e}`}var TZ=Yj,sL=Jj,iL=eL,oL=Cy;const aL=TZ,_T=m.forwardRef(({className:t,...e},n)=>h.jsx(sL,{ref:n,className:ce("inline-flex min-h-10 items-center justify-center rounded-tl-md rounded-tr-md bg-muted text-muted-foreground",t),...e}));_T.displayName=sL.displayName;const ig=m.forwardRef(({className:t,...e},n)=>h.jsx(iL,{ref:n,className:ce("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-2 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));ig.displayName=iL.displayName;const lL=m.forwardRef(({className:t,...e},n)=>h.jsx(oL,{ref:n,className:ce("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));lL.displayName=oL.displayName;const bZ=[{tabValue:"knowledgeBase",tabName:"Knowledge Base"},{tabValue:"knowledgeEntry",tabName:"Knowledge Entry"},{tabValue:"entryDetails",tabName:"Entry Details"}],SZ={knowledgeBase:LW,knowledgeEntry:PW,entryDetails:Ik},IZ=({tabs:t})=>h.jsx(_T,{className:"grid w-full grid-cols-3 bg-heading px-4 py-3",children:t.map(({tabName:e,tabValue:n})=>{const r=SZ[n];return h.jsxs(ig,{value:n,className:"data-[state=active]:bg-primary data-[state=active]:text-white",children:[h.jsx(r,{className:"size-5 mr-2"}),h.jsx("p",{className:"hidden md:block",children:e})]},e)})});var AZ="DismissableLayer",mx="dismissableLayer.update",CZ="dismissableLayer.pointerDownOutside",RZ="dismissableLayer.focusOutside",n1,cL=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),uL=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(cL),[u,d]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=Oe(e,A=>d(A)),v=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(_),y=u?v.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,I=y>=x,D=DZ(A=>{const T=A.target,R=[...c.branches].some(C=>C.contains(T));!I||R||(s==null||s(A),o==null||o(A),A.defaultPrevented||a==null||a())},p),O=kZ(A=>{const T=A.target;[...c.branches].some(C=>C.contains(T))||(i==null||i(A),o==null||o(A),A.defaultPrevented||a==null||a())},p);return Zh(A=>{y===c.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&a&&(A.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(n1=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),r1(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=n1)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),r1())},[u,c]),m.useEffect(()=>{const A=()=>g({});return document.addEventListener(mx,A),()=>document.removeEventListener(mx,A)},[]),h.jsx(xe.div,{...l,ref:w,style:{pointerEvents:b?I?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,D.onPointerDownCapture)})});uL.displayName=AZ;var PZ="DismissableLayerBranch",NZ=m.forwardRef((t,e)=>{const n=m.useContext(cL),r=m.useRef(null),s=Oe(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),h.jsx(xe.div,{...t,ref:s})});NZ.displayName=PZ;function DZ(t,e=globalThis==null?void 0:globalThis.document){const n=Mt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){dL(CZ,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function kZ(t,e=globalThis==null?void 0:globalThis.document){const n=Mt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&dL(RZ,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function r1(){const t=new CustomEvent(mx);document.dispatchEvent(t)}function dL(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?ml(s,i):s.dispatchEvent(i)}var MZ="VisuallyHidden",pf=m.forwardRef((t,e)=>h.jsx(xe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));pf.displayName=MZ;var OZ=pf,[Ry,Vde]=lu("Tooltip",[du]),Py=du(),hL="TooltipProvider",jZ=700,gx="tooltip.open",[LZ,ET]=Ry(hL),fL=t=>{const{__scopeTooltip:e,delayDuration:n=jZ,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=m.useState(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),h.jsx(LZ,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};fL.displayName=hL;var Ny="Tooltip",[VZ,Dy]=Ry(Ny),pL=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,l=ET(Ny,t.__scopeTooltip),c=Py(e),[u,d]=m.useState(null),p=ys(),g=m.useRef(0),w=o??l.disableHoverableContent,v=a??l.delayDuration,_=m.useRef(!1),[x=!1,y]=Uo({prop:r,defaultProp:s,onChange:A=>{A?(l.onOpen(),document.dispatchEvent(new CustomEvent(gx))):l.onClose(),i==null||i(A)}}),b=m.useMemo(()=>x?_.current?"delayed-open":"instant-open":"closed",[x]),I=m.useCallback(()=>{window.clearTimeout(g.current),_.current=!1,y(!0)},[y]),D=m.useCallback(()=>{window.clearTimeout(g.current),y(!1)},[y]),O=m.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{_.current=!0,y(!0)},v)},[v,y]);return m.useEffect(()=>()=>window.clearTimeout(g.current),[]),h.jsx(SE,{...c,children:h.jsx(VZ,{scope:e,contentId:p,open:x,stateAttribute:b,trigger:u,onTriggerChange:d,onTriggerEnter:m.useCallback(()=>{l.isOpenDelayed?O():I()},[l.isOpenDelayed,O,I]),onTriggerLeave:m.useCallback(()=>{w?D():window.clearTimeout(g.current)},[D,w]),onOpen:I,onClose:D,disableHoverableContent:w,children:n})})};pL.displayName=Ny;var yx="TooltipTrigger",mL=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Dy(yx,n),i=ET(yx,n),o=Py(n),a=m.useRef(null),l=Oe(e,a,s.onTriggerChange),c=m.useRef(!1),u=m.useRef(!1),d=m.useCallback(()=>c.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),h.jsx(IE,{asChild:!0,...o,children:h.jsx(xe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ee(t.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:ee(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:ee(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:ee(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:ee(t.onBlur,s.onClose),onClick:ee(t.onClick,s.onClose)})})});mL.displayName=yx;var FZ="TooltipPortal",[Fde,UZ]=Ry(FZ,{forceMount:void 0}),Wc="TooltipContent",gL=m.forwardRef((t,e)=>{const n=UZ(Wc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Dy(Wc,t.__scopeTooltip);return h.jsx(vT,{present:r||o.open,children:o.disableHoverableContent?h.jsx(yL,{side:s,...i,ref:e}):h.jsx(BZ,{side:s,...i,ref:e})})}),BZ=m.forwardRef((t,e)=>{const n=Dy(Wc,t.__scopeTooltip),r=ET(Wc,t.__scopeTooltip),s=m.useRef(null),i=Oe(e,s),[o,a]=m.useState(null),{trigger:l,onClose:c}=n,u=s.current,{onPointerInTransitChange:d}=r,p=m.useCallback(()=>{a(null),d(!1)},[d]),g=m.useCallback((w,v)=>{const _=w.currentTarget,x={x:w.clientX,y:w.clientY},y=WZ(x,_.getBoundingClientRect()),b=HZ(x,y),I=qZ(v.getBoundingClientRect()),D=QZ([...b,...I]);a(D),d(!0)},[d]);return m.useEffect(()=>()=>p(),[p]),m.useEffect(()=>{if(l&&u){const w=_=>g(_,u),v=_=>g(_,l);return l.addEventListener("pointerleave",w),u.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",w),u.removeEventListener("pointerleave",v)}}},[l,u,g,p]),m.useEffect(()=>{if(o){const w=v=>{const _=v.target,x={x:v.clientX,y:v.clientY},y=(l==null?void 0:l.contains(_))||(u==null?void 0:u.contains(_)),b=!GZ(x,o);y?p():b&&(p(),c())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,u,o,c,p]),h.jsx(yL,{...t,ref:i})}),[$Z,zZ]=Ry(Ny,{isInside:!1}),yL=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Dy(Wc,n),c=Py(n),{onClose:u}=l;return m.useEffect(()=>(document.addEventListener(gx,u),()=>document.removeEventListener(gx,u)),[u]),m.useEffect(()=>{if(l.trigger){const d=p=>{const g=p.target;g!=null&&g.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),h.jsx(uL,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:h.jsxs(AE,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[h.jsx(mE,{children:r}),h.jsx($Z,{scope:n,isInside:!0,children:h.jsx(OZ,{id:l.contentId,role:"tooltip",children:s||r})})]})})});gL.displayName=Wc;var vL="TooltipArrow",KZ=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Py(n);return zZ(vL,n).isInside?null:h.jsx(CE,{...s,...r,ref:e})});KZ.displayName=vL;function WZ(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function HZ(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function qZ(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function GZ(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(s=!s)}return s}function QZ(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),YZ(e)}function YZ(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var XZ=fL,JZ=pL,ZZ=mL,wL=gL;const eee=XZ,tee=JZ,nee=ZZ,xL=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>h.jsx(wL,{ref:r,sideOffset:e,className:ce("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));xL.displayName=wL.displayName;const ky=({tooltip:t,children:e})=>h.jsx(eee,{children:h.jsxs(tee,{children:[h.jsx(nee,{asChild:!0,children:e}),h.jsx(xL,{className:"max-w-xs",children:h.jsx("p",{className:"text-zinc-800",children:t})})]})}),ree={entry:"ENTRY",base:"BASE"},see="A unique action or purpose the user wants to achieve",iee="Example phrases the bot associates with the intent during training",oee="The bot's response to the query",To={passwordIncorrect:"Admin password is incorrect",passwordSameAsOld:"New password must be different from the old one"},aee=8,lee=5,dt=Li((t,e)=>({formData:{knowledgeBaseName:"",intent:"",documents:[""],answer:"",fileUrl:"",file:null},formDataErrors:{},setFormData:(n,r)=>{t(s=>({formData:{...s.formData,[n]:r}}))},setFile:n=>{t(r=>({formData:{...r.formData,file:n}}))},setFormDataErrors:n=>{t({formDataErrors:n})},setDocuments:(n,r)=>{const s=e().formData.documents;s[r]=n,t(i=>({formData:{...i.formData,documents:s}}))},addDocument:()=>{e().formData.documents.length>=aee||t(n=>({formData:{...n.formData,documents:[...n.formData.documents,""]}}))},removeDocument:n=>{const r=e().formData.documents;if(r.length===1)throw new Error("Documents cannot be empty");r.splice(n,1),t(s=>({formData:{...s.formData,documents:r}}))},clearFormData:()=>{t(()=>({formData:{knowledgeBaseName:"",intent:"",documents:[""],answer:"",fileUrl:"",file:null},formDataErrors:{knowledgeBaseName:"",intent:"",documents:"",answer:""}}))}})),cee=()=>{const{intent:t}=dt(r=>r.formData),e=dt(r=>r.setFormData),n=Et(r=>r.admin);return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-fit",children:h.jsx(ky,{tooltip:see,children:h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("label",{htmlFor:"intent",className:"cursor-pointer font-medium ",children:"Intent"}),h.jsx(ty,{className:"size-4 text-[#64748b] cursor-pointer"})]})})}),h.jsx(on,{id:"intent",placeholder:"Enter intent",value:t,className:"mt-1",readOnly:(n==null?void 0:n.role)==="viewer",onChange:r=>e("intent",r.target.value)})]})},er=m.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:ce("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));er.displayName="Card";const Qr=m.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:ce("flex flex-col space-y-1.5 p-6",t),...e}));Qr.displayName="CardHeader";const Yr=m.forwardRef(({className:t,...e},n)=>h.jsx("h3",{ref:n,className:ce("text-2xl font-semibold leading-none tracking-tight",t),...e}));Yr.displayName="CardTitle";const aa=m.forwardRef(({className:t,...e},n)=>h.jsx("p",{ref:n,className:ce("text-sm text-muted-foreground",t),...e}));aa.displayName="CardDescription";const pr=m.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:ce("p-6 pt-0",t),...e}));pr.displayName="CardContent";const _L=m.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:ce("flex items-center p-6 pt-0",t),...e}));_L.displayName="CardFooter";const uee=()=>{var o;const t=dt(a=>a.formData),e=dt(a=>a.setDocuments),n=dt(a=>a.addDocument),r=dt(a=>a.removeDocument),s=Et(a=>a.admin),i=async a=>{try{if(!t.intent)return;if(t.documents.length===1)return window.alert("Documents cannot be empty");r(a)}catch(l){console.error(l)}};return h.jsxs("div",{children:[h.jsx("div",{className:"w-fit",children:h.jsx(ky,{tooltip:iee,children:h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("label",{className:"cursor-pointer font-medium ",children:"Document"}),h.jsx(ty,{className:"size-4 text-[#64748b] cursor-pointer"})]})})}),h.jsx("div",{className:"space-y-2 mt-1",children:(o=t.documents)==null?void 0:o.map((a,l)=>h.jsx(er,{className:"w-full hover:bg-lightGray transition-colors",children:h.jsxs(pr,{className:"p-4 w-full flex items-center justify-between-",children:[h.jsx("div",{className:"flex w-full items-center space-x-4",children:h.jsx("input",{value:a,id:"document",className:"text-sm bg-transparent outline-none w-full py-2",placeholder:"Enter document",readOnly:(s==null?void 0:s.role)==="viewer",onChange:c=>e(c.target.value,l)})}),h.jsx("div",{className:"flex space-x-2",children:(s==null?void 0:s.role)!=="viewer"&&h.jsxs(lt,{variant:"ghost",size:"icon",className:"hover:bg-transparent",onClick:async()=>{await i(l)},children:[h.jsx(Jh,{className:"size-5 font-bold hover:text-red-600 ease-in",strokeWidth:2}),h.jsx("span",{className:"sr-only",children:"Delete"})]})})]})},l))}),(s==null?void 0:s.role)!=="viewer"&&h.jsxs(lt,{variant:"outline",size:"sm",className:"mt-2",onClick:n,disabled:!t.intent,children:[h.jsx(Xh,{className:"w-4 h-4 mr-2"})," Add Document"]})]})},EL=m.forwardRef(({className:t,...e},n)=>h.jsx("textarea",{className:ce("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));EL.displayName="Textarea";const dee=".png,.jpg,.mp4,.pdf",hee=({fileRef:t,changeFile:e})=>h.jsxs("div",{children:[h.jsx(on,{id:"file-upload",type:"file",className:"hidden",ref:t,accept:dee,onChange:e}),h.jsx(lt,{variant:"ghost",size:"icon",className:"size-8 rounded-full hover:bg-neutral-100 p-1.5",onClick:()=>{var n;return(n=t.current)==null?void 0:n.click()},children:h.jsx(Ak,{className:"size-4"})})]});var fee="Label",TL=m.forwardRef((t,e)=>h.jsx(xe.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));TL.displayName=fee;var bL=TL;const pee=af("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),hn=m.forwardRef(({className:t,...e},n)=>h.jsx(bL,{ref:n,className:ce(pee(),t),...e}));hn.displayName=bL.displayName;const mee=({isLinkDropdownOpen:t,setIsLinkDropdownOpen:e,onInsertLink:n})=>{const[r,s]=m.useState(""),[i,o]=m.useState(""),a=()=>{e(!1),n(r,i),s(""),o("")};return h.jsxs(sf,{open:t,onOpenChange:e,children:[h.jsx(of,{asChild:!0,children:h.jsx(lt,{variant:"ghost",size:"icon",className:"size-8 rounded-full hover:bg-neutral-100 p-1.5",onClick:()=>e(!0),children:h.jsx(FW,{className:"size-4"})})}),h.jsx(fu,{side:"top",className:"w-56",children:h.jsxs("form",{onSubmit:l=>{l.preventDefault(),a()},className:"flex flex-col p-4 space-y-4",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx(hn,{htmlFor:"link-url",className:"mb-1",children:"URL"}),h.jsx(on,{id:"link-url",value:r,onChange:l=>s(l.target.value),className:"col-span-3",placeholder:"Enter link URL",required:!0})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx(hn,{htmlFor:"link-text",className:"mb-1",children:"Text"}),h.jsx(on,{id:"link-text",value:i,onChange:l=>o(l.target.value),className:"col-span-3",placeholder:"Enter link Text",required:!0})]}),h.jsx(lt,{type:"submit",children:"Insert Link"})]})})]})},SL=({answer:t,handleTextChange:e,onFileChange:n,fileRef:r,textAreaRef:s,isError:i,isLinkDropDownVisible:o,setIsLinkDropDownVisible:a,onInsertLink:l,tabIndex:c})=>{const u=Et(p=>p.admin),d=p=>{const g=p.target;g.style.height="auto",g.style.height=`${g.scrollHeight}px`,e("answer",g.value)};return m.useEffect(()=>{s.current&&(s.current.style.height="auto",s.current.style.height=`${s.current.scrollHeight}px`)},[s,t]),h.jsxs("div",{className:"relative mb-4 ",children:[h.jsx(EL,{spellCheck:!1,name:"answer",ref:s,placeholder:"Enter the answer",className:ce("min-h-[100px] pb-12 overflow-hidden resize-none outline-none focus:outline-none",i&&"border-destructive"),readOnly:(u==null?void 0:u.role)==="viewer",value:t,onChange:d,tabIndex:c??0}),(u==null?void 0:u.role)!=="viewer"&&h.jsxs("div",{className:"absolute bottom-2 left-2 flex space-x-2",children:[h.jsx(mee,{isLinkDropdownOpen:o,setIsLinkDropdownOpen:a,onInsertLink:l}),h.jsx(hee,{fileRef:r,changeFile:n})]})]})},IL=({file:t,removeFile:e})=>{const n=Et(r=>r.admin);return h.jsx("div",{className:"mt-4 p-4 border rounded-md bg-muted",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-2 py-2 overflow-hidden",children:[h.jsx(Ak,{className:"h-4 w-4 text-muted-foreground"}),h.jsx("div",{className:"font-medium truncate max-w-[250px]",children:t.name}),h.jsxs("div",{className:"text-sm text-center text-muted-foreground w-20",children:["(",xG(t.size),")"]})]}),(n==null?void 0:n.role)!=="viewer"&&h.jsx(lt,{variant:"ghost",size:"icon",onClick:e,className:"h-8 w-8 min-w-8",children:h.jsx(ny,{className:"h-4 w-4"})})]})})};function Ce({className:t,...e}){return h.jsx("div",{className:ce("animate-pulse rounded-md bg-muted",t),...e})}var gee="firebase",yee="10.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fr(gee,yee,"app");var s1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ha,AL;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,T){function R(){}R.prototype=T.prototype,A.D=T.prototype,A.prototype=new R,A.prototype.constructor=A,A.C=function(C,M,k){for(var N=Array(arguments.length-2),H=2;H<arguments.length;H++)N[H-2]=arguments[H];return T.prototype[M].apply(C,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,T,R){R||(R=0);var C=Array(16);if(typeof T=="string")for(var M=0;16>M;++M)C[M]=T.charCodeAt(R++)|T.charCodeAt(R++)<<8|T.charCodeAt(R++)<<16|T.charCodeAt(R++)<<24;else for(M=0;16>M;++M)C[M]=T[R++]|T[R++]<<8|T[R++]<<16|T[R++]<<24;T=A.g[0],R=A.g[1],M=A.g[2];var k=A.g[3],N=T+(k^R&(M^k))+C[0]+3614090360&4294967295;T=R+(N<<7&4294967295|N>>>25),N=k+(M^T&(R^M))+C[1]+3905402710&4294967295,k=T+(N<<12&4294967295|N>>>20),N=M+(R^k&(T^R))+C[2]+606105819&4294967295,M=k+(N<<17&4294967295|N>>>15),N=R+(T^M&(k^T))+C[3]+3250441966&4294967295,R=M+(N<<22&4294967295|N>>>10),N=T+(k^R&(M^k))+C[4]+4118548399&4294967295,T=R+(N<<7&4294967295|N>>>25),N=k+(M^T&(R^M))+C[5]+1200080426&4294967295,k=T+(N<<12&4294967295|N>>>20),N=M+(R^k&(T^R))+C[6]+2821735955&4294967295,M=k+(N<<17&4294967295|N>>>15),N=R+(T^M&(k^T))+C[7]+4249261313&4294967295,R=M+(N<<22&4294967295|N>>>10),N=T+(k^R&(M^k))+C[8]+1770035416&4294967295,T=R+(N<<7&4294967295|N>>>25),N=k+(M^T&(R^M))+C[9]+2336552879&4294967295,k=T+(N<<12&4294967295|N>>>20),N=M+(R^k&(T^R))+C[10]+4294925233&4294967295,M=k+(N<<17&4294967295|N>>>15),N=R+(T^M&(k^T))+C[11]+2304563134&4294967295,R=M+(N<<22&4294967295|N>>>10),N=T+(k^R&(M^k))+C[12]+1804603682&4294967295,T=R+(N<<7&4294967295|N>>>25),N=k+(M^T&(R^M))+C[13]+4254626195&4294967295,k=T+(N<<12&4294967295|N>>>20),N=M+(R^k&(T^R))+C[14]+2792965006&4294967295,M=k+(N<<17&4294967295|N>>>15),N=R+(T^M&(k^T))+C[15]+1236535329&4294967295,R=M+(N<<22&4294967295|N>>>10),N=T+(M^k&(R^M))+C[1]+4129170786&4294967295,T=R+(N<<5&4294967295|N>>>27),N=k+(R^M&(T^R))+C[6]+3225465664&4294967295,k=T+(N<<9&4294967295|N>>>23),N=M+(T^R&(k^T))+C[11]+643717713&4294967295,M=k+(N<<14&4294967295|N>>>18),N=R+(k^T&(M^k))+C[0]+3921069994&4294967295,R=M+(N<<20&4294967295|N>>>12),N=T+(M^k&(R^M))+C[5]+3593408605&4294967295,T=R+(N<<5&4294967295|N>>>27),N=k+(R^M&(T^R))+C[10]+38016083&4294967295,k=T+(N<<9&4294967295|N>>>23),N=M+(T^R&(k^T))+C[15]+3634488961&4294967295,M=k+(N<<14&4294967295|N>>>18),N=R+(k^T&(M^k))+C[4]+3889429448&4294967295,R=M+(N<<20&4294967295|N>>>12),N=T+(M^k&(R^M))+C[9]+568446438&4294967295,T=R+(N<<5&4294967295|N>>>27),N=k+(R^M&(T^R))+C[14]+3275163606&4294967295,k=T+(N<<9&4294967295|N>>>23),N=M+(T^R&(k^T))+C[3]+4107603335&4294967295,M=k+(N<<14&4294967295|N>>>18),N=R+(k^T&(M^k))+C[8]+1163531501&4294967295,R=M+(N<<20&4294967295|N>>>12),N=T+(M^k&(R^M))+C[13]+2850285829&4294967295,T=R+(N<<5&4294967295|N>>>27),N=k+(R^M&(T^R))+C[2]+4243563512&4294967295,k=T+(N<<9&4294967295|N>>>23),N=M+(T^R&(k^T))+C[7]+1735328473&4294967295,M=k+(N<<14&4294967295|N>>>18),N=R+(k^T&(M^k))+C[12]+2368359562&4294967295,R=M+(N<<20&4294967295|N>>>12),N=T+(R^M^k)+C[5]+4294588738&4294967295,T=R+(N<<4&4294967295|N>>>28),N=k+(T^R^M)+C[8]+2272392833&4294967295,k=T+(N<<11&4294967295|N>>>21),N=M+(k^T^R)+C[11]+1839030562&4294967295,M=k+(N<<16&4294967295|N>>>16),N=R+(M^k^T)+C[14]+4259657740&4294967295,R=M+(N<<23&4294967295|N>>>9),N=T+(R^M^k)+C[1]+2763975236&4294967295,T=R+(N<<4&4294967295|N>>>28),N=k+(T^R^M)+C[4]+1272893353&4294967295,k=T+(N<<11&4294967295|N>>>21),N=M+(k^T^R)+C[7]+4139469664&4294967295,M=k+(N<<16&4294967295|N>>>16),N=R+(M^k^T)+C[10]+3200236656&4294967295,R=M+(N<<23&4294967295|N>>>9),N=T+(R^M^k)+C[13]+681279174&4294967295,T=R+(N<<4&4294967295|N>>>28),N=k+(T^R^M)+C[0]+3936430074&4294967295,k=T+(N<<11&4294967295|N>>>21),N=M+(k^T^R)+C[3]+3572445317&4294967295,M=k+(N<<16&4294967295|N>>>16),N=R+(M^k^T)+C[6]+76029189&4294967295,R=M+(N<<23&4294967295|N>>>9),N=T+(R^M^k)+C[9]+3654602809&4294967295,T=R+(N<<4&4294967295|N>>>28),N=k+(T^R^M)+C[12]+3873151461&4294967295,k=T+(N<<11&4294967295|N>>>21),N=M+(k^T^R)+C[15]+530742520&4294967295,M=k+(N<<16&4294967295|N>>>16),N=R+(M^k^T)+C[2]+3299628645&4294967295,R=M+(N<<23&4294967295|N>>>9),N=T+(M^(R|~k))+C[0]+4096336452&4294967295,T=R+(N<<6&4294967295|N>>>26),N=k+(R^(T|~M))+C[7]+1126891415&4294967295,k=T+(N<<10&4294967295|N>>>22),N=M+(T^(k|~R))+C[14]+2878612391&4294967295,M=k+(N<<15&4294967295|N>>>17),N=R+(k^(M|~T))+C[5]+4237533241&4294967295,R=M+(N<<21&4294967295|N>>>11),N=T+(M^(R|~k))+C[12]+1700485571&4294967295,T=R+(N<<6&4294967295|N>>>26),N=k+(R^(T|~M))+C[3]+2399980690&4294967295,k=T+(N<<10&4294967295|N>>>22),N=M+(T^(k|~R))+C[10]+4293915773&4294967295,M=k+(N<<15&4294967295|N>>>17),N=R+(k^(M|~T))+C[1]+2240044497&4294967295,R=M+(N<<21&4294967295|N>>>11),N=T+(M^(R|~k))+C[8]+1873313359&4294967295,T=R+(N<<6&4294967295|N>>>26),N=k+(R^(T|~M))+C[15]+4264355552&4294967295,k=T+(N<<10&4294967295|N>>>22),N=M+(T^(k|~R))+C[6]+2734768916&4294967295,M=k+(N<<15&4294967295|N>>>17),N=R+(k^(M|~T))+C[13]+1309151649&4294967295,R=M+(N<<21&4294967295|N>>>11),N=T+(M^(R|~k))+C[4]+4149444226&4294967295,T=R+(N<<6&4294967295|N>>>26),N=k+(R^(T|~M))+C[11]+3174756917&4294967295,k=T+(N<<10&4294967295|N>>>22),N=M+(T^(k|~R))+C[2]+718787259&4294967295,M=k+(N<<15&4294967295|N>>>17),N=R+(k^(M|~T))+C[9]+3951481745&4294967295,A.g[0]=A.g[0]+T&4294967295,A.g[1]=A.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,A.g[2]=A.g[2]+M&4294967295,A.g[3]=A.g[3]+k&4294967295}r.prototype.u=function(A,T){T===void 0&&(T=A.length);for(var R=T-this.blockSize,C=this.B,M=this.h,k=0;k<T;){if(M==0)for(;k<=R;)s(this,A,k),k+=this.blockSize;if(typeof A=="string"){for(;k<T;)if(C[M++]=A.charCodeAt(k++),M==this.blockSize){s(this,C),M=0;break}}else for(;k<T;)if(C[M++]=A[k++],M==this.blockSize){s(this,C),M=0;break}}this.h=M,this.o+=T},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var T=1;T<A.length-8;++T)A[T]=0;var R=8*this.o;for(T=A.length-8;T<A.length;++T)A[T]=R&255,R/=256;for(this.u(A),A=Array(16),T=R=0;4>T;++T)for(var C=0;32>C;C+=8)A[R++]=this.g[T]>>>C&255;return A};function i(A,T){var R=a;return Object.prototype.hasOwnProperty.call(R,A)?R[A]:R[A]=T(A)}function o(A,T){this.h=T;for(var R=[],C=!0,M=A.length-1;0<=M;M--){var k=A[M]|0;C&&k==T||(R[M]=k,C=!1)}this.g=R}var a={};function l(A){return-128<=A&&128>A?i(A,function(T){return new o([T|0],0>T?-1:0)}):new o([A|0],0>A?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return d;if(0>A)return _(c(-A));for(var T=[],R=1,C=0;A>=R;C++)T[C]=A/R|0,R*=4294967296;return new o(T,0)}function u(A,T){if(A.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(A.charAt(0)=="-")return _(u(A.substring(1),T));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=c(Math.pow(T,8)),C=d,M=0;M<A.length;M+=8){var k=Math.min(8,A.length-M),N=parseInt(A.substring(M,M+k),T);8>k?(k=c(Math.pow(T,k)),C=C.j(k).add(c(N))):(C=C.j(R),C=C.add(c(N)))}return C}var d=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-_(this).m();for(var A=0,T=1,R=0;R<this.g.length;R++){var C=this.i(R);A+=(0<=C?C:4294967296+C)*T,T*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(w(this))return"0";if(v(this))return"-"+_(this).toString(A);for(var T=c(Math.pow(A,6)),R=this,C="";;){var M=I(R,T).g;R=x(R,M.j(T));var k=((0<R.g.length?R.g[0]:R.h)>>>0).toString(A);if(R=M,w(R))return k+C;for(;6>k.length;)k="0"+k;C=k+C}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function w(A){if(A.h!=0)return!1;for(var T=0;T<A.g.length;T++)if(A.g[T]!=0)return!1;return!0}function v(A){return A.h==-1}t.l=function(A){return A=x(this,A),v(A)?-1:w(A)?0:1};function _(A){for(var T=A.g.length,R=[],C=0;C<T;C++)R[C]=~A.g[C];return new o(R,~A.h).add(p)}t.abs=function(){return v(this)?_(this):this},t.add=function(A){for(var T=Math.max(this.g.length,A.g.length),R=[],C=0,M=0;M<=T;M++){var k=C+(this.i(M)&65535)+(A.i(M)&65535),N=(k>>>16)+(this.i(M)>>>16)+(A.i(M)>>>16);C=N>>>16,k&=65535,N&=65535,R[M]=N<<16|k}return new o(R,R[R.length-1]&-2147483648?-1:0)};function x(A,T){return A.add(_(T))}t.j=function(A){if(w(this)||w(A))return d;if(v(this))return v(A)?_(this).j(_(A)):_(_(this).j(A));if(v(A))return _(this.j(_(A)));if(0>this.l(g)&&0>A.l(g))return c(this.m()*A.m());for(var T=this.g.length+A.g.length,R=[],C=0;C<2*T;C++)R[C]=0;for(C=0;C<this.g.length;C++)for(var M=0;M<A.g.length;M++){var k=this.i(C)>>>16,N=this.i(C)&65535,H=A.i(M)>>>16,ae=A.i(M)&65535;R[2*C+2*M]+=N*ae,y(R,2*C+2*M),R[2*C+2*M+1]+=k*ae,y(R,2*C+2*M+1),R[2*C+2*M+1]+=N*H,y(R,2*C+2*M+1),R[2*C+2*M+2]+=k*H,y(R,2*C+2*M+2)}for(C=0;C<T;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=T;C<2*T;C++)R[C]=0;return new o(R,0)};function y(A,T){for(;(A[T]&65535)!=A[T];)A[T+1]+=A[T]>>>16,A[T]&=65535,T++}function b(A,T){this.g=A,this.h=T}function I(A,T){if(w(T))throw Error("division by zero");if(w(A))return new b(d,d);if(v(A))return T=I(_(A),T),new b(_(T.g),_(T.h));if(v(T))return T=I(A,_(T)),new b(_(T.g),T.h);if(30<A.g.length){if(v(A)||v(T))throw Error("slowDivide_ only works with positive integers.");for(var R=p,C=T;0>=C.l(A);)R=D(R),C=D(C);var M=O(R,1),k=O(C,1);for(C=O(C,2),R=O(R,2);!w(C);){var N=k.add(C);0>=N.l(A)&&(M=M.add(R),k=N),C=O(C,1),R=O(R,1)}return T=x(A,M.j(T)),new b(M,T)}for(M=d;0<=A.l(T);){for(R=Math.max(1,Math.floor(A.m()/T.m())),C=Math.ceil(Math.log(R)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),k=c(R),N=k.j(T);v(N)||0<N.l(A);)R-=C,k=c(R),N=k.j(T);w(k)&&(k=p),M=M.add(k),A=x(A,N)}return new b(M,A)}t.A=function(A){return I(this,A).h},t.and=function(A){for(var T=Math.max(this.g.length,A.g.length),R=[],C=0;C<T;C++)R[C]=this.i(C)&A.i(C);return new o(R,this.h&A.h)},t.or=function(A){for(var T=Math.max(this.g.length,A.g.length),R=[],C=0;C<T;C++)R[C]=this.i(C)|A.i(C);return new o(R,this.h|A.h)},t.xor=function(A){for(var T=Math.max(this.g.length,A.g.length),R=[],C=0;C<T;C++)R[C]=this.i(C)^A.i(C);return new o(R,this.h^A.h)};function D(A){for(var T=A.g.length+1,R=[],C=0;C<T;C++)R[C]=A.i(C)<<1|A.i(C-1)>>>31;return new o(R,A.h)}function O(A,T){var R=T>>5;T%=32;for(var C=A.g.length-R,M=[],k=0;k<C;k++)M[k]=0<T?A.i(k+R)>>>T|A.i(k+R+1)<<32-T:A.i(k+R);return new o(M,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,AL=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Ha=o}).apply(typeof s1<"u"?s1:typeof self<"u"?self:typeof window<"u"?window:{});var _p=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CL,RL,ad,PL,tm,vx,NL,DL,kL;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,E,S){return f==Array.prototype||f==Object.prototype||(f[E]=S.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof _p=="object"&&_p];for(var E=0;E<f.length;++E){var S=f[E];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function s(f,E){if(E)e:{var S=r;f=f.split(".");for(var P=0;P<f.length-1;P++){var U=f[P];if(!(U in S))break e;S=S[U]}f=f[f.length-1],P=S[f],E=E(P),E!=P&&E!=null&&e(S,f,{configurable:!0,writable:!0,value:E})}}function i(f,E){f instanceof String&&(f+="");var S=0,P=!1,U={next:function(){if(!P&&S<f.length){var W=S++;return{value:E(W,f[W]),done:!1}}return P=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}s("Array.prototype.values",function(f){return f||function(){return i(this,function(E,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(f){var E=typeof f;return E=E!="object"?E:f?Array.isArray(f)?"array":E:"null",E=="array"||E=="object"&&typeof f.length=="number"}function c(f){var E=typeof f;return E=="object"&&f!=null||E=="function"}function u(f,E,S){return f.call.apply(f.bind,arguments)}function d(f,E,S){if(!f)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,P),f.apply(E,U)}}return function(){return f.apply(E,arguments)}}function p(f,E,S){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,p.apply(null,arguments)}function g(f,E){var S=Array.prototype.slice.call(arguments,1);return function(){var P=S.slice();return P.push.apply(P,arguments),f.apply(this,P)}}function w(f,E){function S(){}S.prototype=E.prototype,f.aa=E.prototype,f.prototype=new S,f.prototype.constructor=f,f.Qb=function(P,U,W){for(var ie=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)ie[xt-2]=arguments[xt];return E.prototype[U].apply(P,ie)}}function v(f){const E=f.length;if(0<E){const S=Array(E);for(let P=0;P<E;P++)S[P]=f[P];return S}return[]}function _(f,E){for(let S=1;S<arguments.length;S++){const P=arguments[S];if(l(P)){const U=f.length||0,W=P.length||0;f.length=U+W;for(let ie=0;ie<W;ie++)f[U+ie]=P[ie]}else f.push(P)}}class x{constructor(E,S){this.i=E,this.j=S,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function y(f){return/^[\s\xa0]*$/.test(f)}function b(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function I(f){return I[" "](f),f}I[" "]=function(){};var D=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function O(f,E,S){for(const P in f)E.call(S,f[P],P,f)}function A(f,E){for(const S in f)E.call(void 0,f[S],S,f)}function T(f){const E={};for(const S in f)E[S]=f[S];return E}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(f,E){let S,P;for(let U=1;U<arguments.length;U++){P=arguments[U];for(S in P)f[S]=P[S];for(let W=0;W<R.length;W++)S=R[W],Object.prototype.hasOwnProperty.call(P,S)&&(f[S]=P[S])}}function M(f){var E=1;f=f.split(":");const S=[];for(;0<E&&f.length;)S.push(f.shift()),E--;return f.length&&S.push(f.join(":")),S}function k(f){a.setTimeout(()=>{throw f},0)}function N(){var f=B;let E=null;return f.g&&(E=f.g,f.g=f.g.next,f.g||(f.h=null),E.next=null),E}class H{constructor(){this.h=this.g=null}add(E,S){const P=ae.get();P.set(E,S),this.h?this.h.next=P:this.g=P,this.h=P}}var ae=new x(()=>new te,f=>f.reset());class te{constructor(){this.next=this.g=this.h=null}set(E,S){this.h=E,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,z=!1,B=new H,Z=()=>{const f=a.Promise.resolve(void 0);ne=()=>{f.then(pe)}};var pe=()=>{for(var f;f=N();){try{f.h.call(f.g)}catch(S){k(S)}var E=ae;E.j(f),100>E.h&&(E.h++,f.next=E.g,E.g=f)}z=!1};function Te(){this.s=this.s,this.C=this.C}Te.prototype.s=!1,Te.prototype.ma=function(){this.s||(this.s=!0,this.N())},Te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Re(f,E){this.type=f,this.g=this.target=E,this.defaultPrevented=!1}Re.prototype.h=function(){this.defaultPrevented=!0};var Je=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,E=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const S=()=>{};a.addEventListener("test",S,E),a.removeEventListener("test",S,E)}catch{}return f}();function wt(f,E){if(Re.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var S=this.type=f.type,P=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=E,E=f.relatedTarget){if(D){e:{try{I(E.nodeName);var U=!0;break e}catch{}U=!1}U||(E=null)}}else S=="mouseover"?E=f.fromElement:S=="mouseout"&&(E=f.toElement);this.relatedTarget=E,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:qe[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&wt.aa.h.call(this)}}w(wt,Re);var qe={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),Ve=0;function st(f,E,S,P,U){this.listener=f,this.proxy=null,this.src=E,this.type=S,this.capture=!!P,this.ha=U,this.key=++Ve,this.da=this.fa=!1}function Fe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Ke(f){this.src=f,this.g={},this.h=0}Ke.prototype.add=function(f,E,S,P,U){var W=f.toString();f=this.g[W],f||(f=this.g[W]=[],this.h++);var ie=$t(f,E,P,U);return-1<ie?(E=f[ie],S||(E.fa=!1)):(E=new st(E,this.src,W,!!P,U),E.fa=S,f.push(E)),E};function Qe(f,E){var S=E.type;if(S in f.g){var P=f.g[S],U=Array.prototype.indexOf.call(P,E,void 0),W;(W=0<=U)&&Array.prototype.splice.call(P,U,1),W&&(Fe(E),f.g[S].length==0&&(delete f.g[S],f.h--))}}function $t(f,E,S,P){for(var U=0;U<f.length;++U){var W=f[U];if(!W.da&&W.listener==E&&W.capture==!!S&&W.ha==P)return U}return-1}var it="closure_lm_"+(1e6*Math.random()|0),yn={};function Or(f,E,S,P,U){if(Array.isArray(E)){for(var W=0;W<E.length;W++)Or(f,E[W],S,P,U);return null}return S=je(S),f&&f[ue]?f.K(E,S,c(P)?!!P.capture:!!P,U):Ts(f,E,S,!1,P,U)}function Ts(f,E,S,P,U,W){if(!E)throw Error("Invalid event type");var ie=c(U)?!!U.capture:!!U,xt=J(f);if(xt||(f[it]=xt=new Ke(f)),S=xt.add(E,S,P,ie,W),S.proxy)return S;if(P=j(),S.proxy=P,P.src=f,P.listener=S,f.addEventListener)Je||(U=ie),U===void 0&&(U=!1),f.addEventListener(E.toString(),P,U);else if(f.attachEvent)f.attachEvent(le(E.toString()),P);else if(f.addListener&&f.removeListener)f.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return S}function j(){function f(S){return E.call(f.src,f.listener,S)}const E=re;return f}function $(f,E,S,P,U){if(Array.isArray(E))for(var W=0;W<E.length;W++)$(f,E[W],S,P,U);else P=c(P)?!!P.capture:!!P,S=je(S),f&&f[ue]?(f=f.i,E=String(E).toString(),E in f.g&&(W=f.g[E],S=$t(W,S,P,U),-1<S&&(Fe(W[S]),Array.prototype.splice.call(W,S,1),W.length==0&&(delete f.g[E],f.h--)))):f&&(f=J(f))&&(E=f.g[E.toString()],f=-1,E&&(f=$t(E,S,P,U)),(S=-1<f?E[f]:null)&&q(S))}function q(f){if(typeof f!="number"&&f&&!f.da){var E=f.src;if(E&&E[ue])Qe(E.i,f);else{var S=f.type,P=f.proxy;E.removeEventListener?E.removeEventListener(S,P,f.capture):E.detachEvent?E.detachEvent(le(S),P):E.addListener&&E.removeListener&&E.removeListener(P),(S=J(E))?(Qe(S,f),S.h==0&&(S.src=null,E[it]=null)):Fe(f)}}}function le(f){return f in yn?yn[f]:yn[f]="on"+f}function re(f,E){if(f.da)f=!0;else{E=new wt(E,this);var S=f.listener,P=f.ha||f.src;f.fa&&q(f),f=S.call(P,E)}return f}function J(f){return f=f[it],f instanceof Ke?f:null}var Ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function je(f){return typeof f=="function"?f:(f[Ee]||(f[Ee]=function(E){return f.handleEvent(E)}),f[Ee])}function Le(){Te.call(this),this.i=new Ke(this),this.M=this,this.F=null}w(Le,Te),Le.prototype[ue]=!0,Le.prototype.removeEventListener=function(f,E,S,P){$(this,f,E,S,P)};function Be(f,E){var S,P=f.F;if(P)for(S=[];P;P=P.F)S.push(P);if(f=f.M,P=E.type||E,typeof E=="string")E=new Re(E,f);else if(E instanceof Re)E.target=E.target||f;else{var U=E;E=new Re(P,f),C(E,U)}if(U=!0,S)for(var W=S.length-1;0<=W;W--){var ie=E.g=S[W];U=zn(ie,P,!0,E)&&U}if(ie=E.g=f,U=zn(ie,P,!0,E)&&U,U=zn(ie,P,!1,E)&&U,S)for(W=0;W<S.length;W++)ie=E.g=S[W],U=zn(ie,P,!1,E)&&U}Le.prototype.N=function(){if(Le.aa.N.call(this),this.i){var f=this.i,E;for(E in f.g){for(var S=f.g[E],P=0;P<S.length;P++)Fe(S[P]);delete f.g[E],f.h--}}this.F=null},Le.prototype.K=function(f,E,S,P){return this.i.add(String(f),E,!1,S,P)},Le.prototype.L=function(f,E,S,P){return this.i.add(String(f),E,!0,S,P)};function zn(f,E,S,P){if(E=f.i.g[String(E)],!E)return!0;E=E.concat();for(var U=!0,W=0;W<E.length;++W){var ie=E[W];if(ie&&!ie.da&&ie.capture==S){var xt=ie.listener,vn=ie.ha||ie.src;ie.fa&&Qe(f.i,ie),U=xt.call(vn,P)!==!1&&U}}return U&&!P.defaultPrevented}function Ui(f,E,S){if(typeof f=="function")S&&(f=p(f,S));else if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:a.setTimeout(f,E||0)}function Kn(f){f.g=Ui(()=>{f.g=null,f.i&&(f.i=!1,Kn(f))},f.l);const E=f.h;f.h=null,f.m.apply(null,E)}class Wn extends Te{constructor(E,S){super(),this.m=E,this.l=S,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Kn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bs(f){Te.call(this),this.h=f,this.g={}}w(bs,Te);var Ss=[];function El(f){O(f.g,function(E,S){this.g.hasOwnProperty(S)&&q(E)},f),f.g={}}bs.prototype.N=function(){bs.aa.N.call(this),El(this)},bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hn=a.JSON.stringify,Rf=a.JSON.parse,Pf=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function Tl(){}Tl.prototype.h=null;function Nf(f){return f.h||(f.h=f.i())}function Tu(){}var Is={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bl(){Re.call(this,"d")}w(bl,Re);function ua(){Re.call(this,"c")}w(ua,Re);var jr={},Sl=null;function Il(){return Sl=Sl||new Le}jr.La="serverreachability";function bu(f){Re.call(this,jr.La,f)}w(bu,Re);function da(f){const E=Il();Be(E,new bu(E))}jr.STAT_EVENT="statevent";function Su(f,E){Re.call(this,jr.STAT_EVENT,f),this.stat=E}w(Su,Re);function en(f){const E=Il();Be(E,new Su(E,f))}jr.Ma="timingevent";function ha(f,E){Re.call(this,jr.Ma,f),this.size=E}w(ha,Re);function Bi(f,E){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},E)}function fa(){this.g=!0}fa.prototype.xa=function(){this.g=!1};function cv(f,E,S,P,U,W){f.info(function(){if(f.g)if(W)for(var ie="",xt=W.split("&"),vn=0;vn<xt.length;vn++){var ct=xt[vn].split("=");if(1<ct.length){var Rn=ct[0];ct=ct[1];var Pn=Rn.split("_");ie=2<=Pn.length&&Pn[1]=="type"?ie+(Rn+"="+ct+"&"):ie+(Rn+"=redacted&")}}else ie=null;else ie=W;return"XMLHTTP REQ ("+P+") [attempt "+U+"]: "+E+`
`+S+`
`+ie})}function L(f,E,S,P,U,W,ie){f.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+U+"]: "+E+`
`+S+`
`+W+" "+ie})}function F(f,E,S,P){f.info(function(){return"XMLHTTP TEXT ("+E+"): "+G(f,S)+(P?" "+P:"")})}function K(f,E){f.info(function(){return"TIMEOUT: "+E})}fa.prototype.info=function(){};function G(f,E){if(!f.g)return E;if(!E)return null;try{var S=JSON.parse(E);if(S){for(f=0;f<S.length;f++)if(Array.isArray(S[f])){var P=S[f];if(!(2>P.length)){var U=P[1];if(Array.isArray(U)&&!(1>U.length)){var W=U[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ie=1;ie<U.length;ie++)U[ie]=""}}}}return Hn(S)}catch{return E}}var de={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_e={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ae;function se(){}w(se,Tl),se.prototype.g=function(){return new XMLHttpRequest},se.prototype.i=function(){return{}},Ae=new se;function ve(f,E,S,P){this.j=f,this.i=E,this.l=S,this.R=P||1,this.U=new bs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new me}function me(){this.i=null,this.g="",this.h=!1}var ye={},Ze={};function ot(f,E,S){f.L=1,f.v=jf(Ys(E)),f.m=S,f.P=!0,pt(f,null)}function pt(f,E){f.F=Date.now(),St(f),f.A=Ys(f.v);var S=f.A,P=f.R;Array.isArray(P)||(P=[String(P)]),Fb(S.i,"t",P),f.C=0,S=f.j.J,f.h=new me,f.g=rS(f.j,S?E:null,!f.m),0<f.O&&(f.M=new Wn(p(f.Y,f,f.g),f.O)),E=f.U,S=f.g,P=f.ca;var U="readystatechange";Array.isArray(U)||(U&&(Ss[0]=U.toString()),U=Ss);for(var W=0;W<U.length;W++){var ie=Or(S,U[W],P||E.handleEvent,!1,E.h||E);if(!ie)break;E.g[ie.key]=ie}E=f.H?T(f.H):{},f.m?(f.u||(f.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,E)):(f.u="GET",f.g.ea(f.A,f.u,null,E)),da(),cv(f.i,f.u,f.A,f.l,f.R,f.m)}ve.prototype.ca=function(f){f=f.target;const E=this.M;E&&Xs(f)==3?E.j():this.Y(f)},ve.prototype.Y=function(f){try{if(f==this.g)e:{const Pn=Xs(this.g);var E=this.g.Ba();const Rl=this.g.Z();if(!(3>Pn)&&(Pn!=3||this.g&&(this.h.h||this.g.oa()||Hb(this.g)))){this.J||Pn!=4||E==7||(E==8||0>=Rl?da(3):da(2)),yr(this);var S=this.g.Z();this.X=S;t:if(Ye(this)){var P=Hb(this.g);f="";var U=P.length,W=Xs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){An(this),Lr(this);var ie="";break t}this.h.i=new a.TextDecoder}for(E=0;E<U;E++)this.h.h=!0,f+=this.h.i.decode(P[E],{stream:!(W&&E==U-1)});P.length=0,this.h.g+=f,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=S==200,L(this.i,this.u,this.A,this.l,this.R,Pn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var xt,vn=this.g;if((xt=vn.g?vn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(xt)){var ct=xt;break t}}ct=null}if(S=ct)F(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zi(this,S);else{this.o=!1,this.s=3,en(12),An(this),Lr(this);break e}}if(this.P){S=!0;let rs;for(;!this.J&&this.C<ie.length;)if(rs=tn(this,ie),rs==Ze){Pn==4&&(this.s=4,en(14),S=!1),F(this.i,this.l,null,"[Incomplete Response]");break}else if(rs==ye){this.s=4,en(15),F(this.i,this.l,ie,"[Invalid Chunk]"),S=!1;break}else F(this.i,this.l,rs,null),zi(this,rs);if(Ye(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pn!=4||ie.length!=0||this.h.h||(this.s=1,en(16),S=!1),this.o=this.o&&S,!S)F(this.i,this.l,ie,"[Invalid Chunked Response]"),An(this),Lr(this);else if(0<ie.length&&!this.W){this.W=!0;var Rn=this.j;Rn.g==this&&Rn.ba&&!Rn.M&&(Rn.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),fv(Rn),Rn.M=!0,en(11))}}else F(this.i,this.l,ie,null),zi(this,ie);Pn==4&&An(this),this.o&&!this.J&&(Pn==4?Zb(this.j,this):(this.o=!1,St(this)))}else uB(this.g),S==400&&0<ie.indexOf("Unknown SID")?(this.s=3,en(12)):(this.s=0,en(13)),An(this),Lr(this)}}}catch{}finally{}};function Ye(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function tn(f,E){var S=f.C,P=E.indexOf(`
`,S);return P==-1?Ze:(S=Number(E.substring(S,P)),isNaN(S)?ye:(P+=1,P+S>E.length?Ze:(E=E.slice(P,P+S),f.C=P+S,E)))}ve.prototype.cancel=function(){this.J=!0,An(this)};function St(f){f.S=Date.now()+f.I,$i(f,f.I)}function $i(f,E){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Bi(p(f.ba,f),E)}function yr(f){f.B&&(a.clearTimeout(f.B),f.B=null)}ve.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(K(this.i,this.A),this.L!=2&&(da(),en(17)),An(this),this.s=2,Lr(this)):$i(this,this.S-f)};function Lr(f){f.j.G==0||f.J||Zb(f.j,f)}function An(f){yr(f);var E=f.M;E&&typeof E.ma=="function"&&E.ma(),f.M=null,El(f.U),f.g&&(E=f.g,f.g=null,E.abort(),E.ma())}function zi(f,E){try{var S=f.j;if(S.G!=0&&(S.g==f||ke(S.h,f))){if(!f.K&&ke(S.h,f)&&S.G==3){try{var P=S.Da.g.parse(E)}catch{P=null}if(Array.isArray(P)&&P.length==3){var U=P;if(U[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<f.F)Bf(S),Ff(S);else break e;hv(S),en(18)}}else S.za=U[1],0<S.za-S.T&&37500>U[2]&&S.F&&S.v==0&&!S.C&&(S.C=Bi(p(S.Za,S),6e3));if(1>=ga(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else va(S,11)}else if((f.K||S.g==f)&&Bf(S),!y(E))for(U=S.Da.g.parse(E),E=0;E<U.length;E++){let ct=U[E];if(S.T=ct[0],ct=ct[1],S.G==2)if(ct[0]=="c"){S.K=ct[1],S.ia=ct[2];const Rn=ct[3];Rn!=null&&(S.la=Rn,S.j.info("VER="+S.la));const Pn=ct[4];Pn!=null&&(S.Aa=Pn,S.j.info("SVER="+S.Aa));const Rl=ct[5];Rl!=null&&typeof Rl=="number"&&0<Rl&&(P=1.5*Rl,S.L=P,S.j.info("backChannelRequestTimeoutMs_="+P)),P=S;const rs=f.g;if(rs){const zf=rs.g?rs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zf){var W=P.h;W.g||zf.indexOf("spdy")==-1&&zf.indexOf("quic")==-1&&zf.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Tt(W,W.h),W.h=null))}if(P.D){const pv=rs.g?rs.g.getResponseHeader("X-HTTP-Session-Id"):null;pv&&(P.ya=pv,At(P.I,P.D,pv))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-f.F,S.j.info("Handshake RTT: "+S.R+"ms")),P=S;var ie=f;if(P.qa=nS(P,P.J?P.ia:null,P.W),ie.K){Cn(P.h,ie);var xt=ie,vn=P.L;vn&&(xt.I=vn),xt.B&&(yr(xt),St(xt)),P.g=ie}else Xb(P);0<S.i.length&&Uf(S)}else ct[0]!="stop"&&ct[0]!="close"||va(S,7);else S.G==3&&(ct[0]=="stop"||ct[0]=="close"?ct[0]=="stop"?va(S,7):dv(S):ct[0]!="noop"&&S.l&&S.l.ta(ct),S.v=0)}}da(4)}catch{}}var ts=class{constructor(f,E){this.g=f,this.map=E}};function pa(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ma(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function ga(f){return f.h?1:f.g?f.g.size:0}function ke(f,E){return f.h?f.h==E:f.g?f.g.has(E):!1}function Tt(f,E){f.g?f.g.add(E):f.h=E}function Cn(f,E){f.h&&f.h==E?f.h=null:f.g&&f.g.has(E)&&f.g.delete(E)}pa.prototype.cancel=function(){if(this.i=It(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function It(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let E=f.i;for(const S of f.g.values())E=E.concat(S.D);return E}return v(f.i)}function ns(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var E=[],S=f.length,P=0;P<S;P++)E.push(f[P]);return E}E=[],S=0;for(P in f)E[S++]=f[P];return E}function Df(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var E=[];f=f.length;for(var S=0;S<f;S++)E.push(S);return E}E=[],S=0;for(const P in f)E[S++]=P;return E}}}function kf(f,E){if(f.forEach&&typeof f.forEach=="function")f.forEach(E,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,E,void 0);else for(var S=Df(f),P=ns(f),U=P.length,W=0;W<U;W++)E.call(void 0,P[W],S&&S[W],f)}var Mb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function XU(f,E){if(f){f=f.split("&");for(var S=0;S<f.length;S++){var P=f[S].indexOf("="),U=null;if(0<=P){var W=f[S].substring(0,P);U=f[S].substring(P+1)}else W=f[S];E(W,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function ya(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof ya){this.h=f.h,Mf(this,f.j),this.o=f.o,this.g=f.g,Of(this,f.s),this.l=f.l;var E=f.i,S=new Cu;S.i=E.i,E.g&&(S.g=new Map(E.g),S.h=E.h),Ob(this,S),this.m=f.m}else f&&(E=String(f).match(Mb))?(this.h=!1,Mf(this,E[1]||"",!0),this.o=Iu(E[2]||""),this.g=Iu(E[3]||"",!0),Of(this,E[4]),this.l=Iu(E[5]||"",!0),Ob(this,E[6]||"",!0),this.m=Iu(E[7]||"")):(this.h=!1,this.i=new Cu(null,this.h))}ya.prototype.toString=function(){var f=[],E=this.j;E&&f.push(Au(E,jb,!0),":");var S=this.g;return(S||E=="file")&&(f.push("//"),(E=this.o)&&f.push(Au(E,jb,!0),"@"),f.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&f.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&f.push("/"),f.push(Au(S,S.charAt(0)=="/"?eB:ZU,!0))),(S=this.i.toString())&&f.push("?",S),(S=this.m)&&f.push("#",Au(S,nB)),f.join("")};function Ys(f){return new ya(f)}function Mf(f,E,S){f.j=S?Iu(E,!0):E,f.j&&(f.j=f.j.replace(/:$/,""))}function Of(f,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);f.s=E}else f.s=null}function Ob(f,E,S){E instanceof Cu?(f.i=E,rB(f.i,f.h)):(S||(E=Au(E,tB)),f.i=new Cu(E,f.h))}function At(f,E,S){f.i.set(E,S)}function jf(f){return At(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Iu(f,E){return f?E?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Au(f,E,S){return typeof f=="string"?(f=encodeURI(f).replace(E,JU),S&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function JU(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var jb=/[#\/\?@]/g,ZU=/[#\?:]/g,eB=/[#\?]/g,tB=/[#\?@]/g,nB=/#/g;function Cu(f,E){this.h=this.g=null,this.i=f||null,this.j=!!E}function Ki(f){f.g||(f.g=new Map,f.h=0,f.i&&XU(f.i,function(E,S){f.add(decodeURIComponent(E.replace(/\+/g," ")),S)}))}t=Cu.prototype,t.add=function(f,E){Ki(this),this.i=null,f=Al(this,f);var S=this.g.get(f);return S||this.g.set(f,S=[]),S.push(E),this.h+=1,this};function Lb(f,E){Ki(f),E=Al(f,E),f.g.has(E)&&(f.i=null,f.h-=f.g.get(E).length,f.g.delete(E))}function Vb(f,E){return Ki(f),E=Al(f,E),f.g.has(E)}t.forEach=function(f,E){Ki(this),this.g.forEach(function(S,P){S.forEach(function(U){f.call(E,U,P,this)},this)},this)},t.na=function(){Ki(this);const f=Array.from(this.g.values()),E=Array.from(this.g.keys()),S=[];for(let P=0;P<E.length;P++){const U=f[P];for(let W=0;W<U.length;W++)S.push(E[P])}return S},t.V=function(f){Ki(this);let E=[];if(typeof f=="string")Vb(this,f)&&(E=E.concat(this.g.get(Al(this,f))));else{f=Array.from(this.g.values());for(let S=0;S<f.length;S++)E=E.concat(f[S])}return E},t.set=function(f,E){return Ki(this),this.i=null,f=Al(this,f),Vb(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[E]),this.h+=1,this},t.get=function(f,E){return f?(f=this.V(f),0<f.length?String(f[0]):E):E};function Fb(f,E,S){Lb(f,E),0<S.length&&(f.i=null,f.g.set(Al(f,E),v(S)),f.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],E=Array.from(this.g.keys());for(var S=0;S<E.length;S++){var P=E[S];const W=encodeURIComponent(String(P)),ie=this.V(P);for(P=0;P<ie.length;P++){var U=W;ie[P]!==""&&(U+="="+encodeURIComponent(String(ie[P]))),f.push(U)}}return this.i=f.join("&")};function Al(f,E){return E=String(E),f.j&&(E=E.toLowerCase()),E}function rB(f,E){E&&!f.j&&(Ki(f),f.i=null,f.g.forEach(function(S,P){var U=P.toLowerCase();P!=U&&(Lb(this,P),Fb(this,U,S))},f)),f.j=E}function sB(f,E){const S=new fa;if(a.Image){const P=new Image;P.onload=g(Wi,S,"TestLoadImage: loaded",!0,E,P),P.onerror=g(Wi,S,"TestLoadImage: error",!1,E,P),P.onabort=g(Wi,S,"TestLoadImage: abort",!1,E,P),P.ontimeout=g(Wi,S,"TestLoadImage: timeout",!1,E,P),a.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=f}else E(!1)}function iB(f,E){const S=new fa,P=new AbortController,U=setTimeout(()=>{P.abort(),Wi(S,"TestPingServer: timeout",!1,E)},1e4);fetch(f,{signal:P.signal}).then(W=>{clearTimeout(U),W.ok?Wi(S,"TestPingServer: ok",!0,E):Wi(S,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(U),Wi(S,"TestPingServer: error",!1,E)})}function Wi(f,E,S,P,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),P(S)}catch{}}function oB(){this.g=new Pf}function aB(f,E,S){const P=S||"";try{kf(f,function(U,W){let ie=U;c(U)&&(ie=Hn(U)),E.push(P+W+"="+encodeURIComponent(ie))})}catch(U){throw E.push(P+"type="+encodeURIComponent("_badmap")),U}}function Ru(f){this.l=f.Ub||null,this.j=f.eb||!1}w(Ru,Tl),Ru.prototype.g=function(){return new Lf(this.l,this.j)},Ru.prototype.i=function(f){return function(){return f}}({});function Lf(f,E){Le.call(this),this.D=f,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Lf,Le),t=Lf.prototype,t.open=function(f,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=E,this.readyState=1,Nu(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(E.body=f),(this.D||a).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pu(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Nu(this)),this.g&&(this.readyState=3,Nu(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ub(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ub(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var E=f.value?f.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!f.done}))&&(this.response=this.responseText+=E)}f.done?Pu(this):Nu(this),this.readyState==3&&Ub(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Pu(this))},t.Qa=function(f){this.g&&(this.response=f,Pu(this))},t.ga=function(){this.g&&Pu(this)};function Pu(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Nu(f)}t.setRequestHeader=function(f,E){this.u.append(f,E)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],E=this.h.entries();for(var S=E.next();!S.done;)S=S.value,f.push(S[0]+": "+S[1]),S=E.next();return f.join(`\r
`)};function Nu(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Lf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Bb(f){let E="";return O(f,function(S,P){E+=P,E+=":",E+=S,E+=`\r
`}),E}function uv(f,E,S){e:{for(P in S){var P=!1;break e}P=!0}P||(S=Bb(S),typeof f=="string"?S!=null&&encodeURIComponent(String(S)):At(f,E,S))}function zt(f){Le.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(zt,Le);var lB=/^https?$/i,cB=["POST","PUT"];t=zt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,E,S,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);E=E?E.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?Nf(this.o):Nf(Ae),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(E,String(f),!0),this.B=!1}catch(W){$b(this,W);return}if(f=S||"",S=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var U in P)S.set(U,P[U]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const W of P.keys())S.set(W,P.get(W));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(S.keys()).find(W=>W.toLowerCase()=="content-type"),U=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(cB,E,void 0))||P||U||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ie]of S)this.g.setRequestHeader(W,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wb(this),this.u=!0,this.g.send(f),this.u=!1}catch(W){$b(this,W)}};function $b(f,E){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=E,f.m=5,zb(f),Vf(f)}function zb(f){f.A||(f.A=!0,Be(f,"complete"),Be(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Be(this,"complete"),Be(this,"abort"),Vf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vf(this,!0)),zt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Kb(this):this.bb())},t.bb=function(){Kb(this)};function Kb(f){if(f.h&&typeof o<"u"&&(!f.v[1]||Xs(f)!=4||f.Z()!=2)){if(f.u&&Xs(f)==4)Ui(f.Ea,0,f);else if(Be(f,"readystatechange"),Xs(f)==4){f.h=!1;try{const ie=f.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var S;if(!(S=E)){var P;if(P=ie===0){var U=String(f.D).match(Mb)[1]||null;!U&&a.self&&a.self.location&&(U=a.self.location.protocol.slice(0,-1)),P=!lB.test(U?U.toLowerCase():"")}S=P}if(S)Be(f,"complete"),Be(f,"success");else{f.m=6;try{var W=2<Xs(f)?f.g.statusText:""}catch{W=""}f.l=W+" ["+f.Z()+"]",zb(f)}}finally{Vf(f)}}}}function Vf(f,E){if(f.g){Wb(f);const S=f.g,P=f.v[0]?()=>{}:null;f.g=null,f.v=null,E||Be(f,"ready");try{S.onreadystatechange=P}catch{}}}function Wb(f){f.I&&(a.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Xs(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Xs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var E=this.g.responseText;return f&&E.indexOf(f)==0&&(E=E.substring(f.length)),Rf(E)}};function Hb(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function uB(f){const E={};f=(f.g&&2<=Xs(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<f.length;P++){if(y(f[P]))continue;var S=M(f[P]);const U=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const W=E[U]||[];E[U]=W,W.push(S)}A(E,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Du(f,E,S){return S&&S.internalChannelParams&&S.internalChannelParams[f]||E}function qb(f){this.Aa=0,this.i=[],this.j=new fa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Du("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Du("baseRetryDelayMs",5e3,f),this.cb=Du("retryDelaySeedMs",1e4,f),this.Wa=Du("forwardChannelMaxRetries",2,f),this.wa=Du("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new pa(f&&f.concurrentRequestLimit),this.Da=new oB,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=qb.prototype,t.la=8,t.G=1,t.connect=function(f,E,S,P){en(0),this.W=f,this.H=E||{},S&&P!==void 0&&(this.H.OSID=S,this.H.OAID=P),this.F=this.X,this.I=nS(this,null,this.W),Uf(this)};function dv(f){if(Gb(f),f.G==3){var E=f.U++,S=Ys(f.I);if(At(S,"SID",f.K),At(S,"RID",E),At(S,"TYPE","terminate"),ku(f,S),E=new ve(f,f.j,E),E.L=2,E.v=jf(Ys(S)),S=!1,a.navigator&&a.navigator.sendBeacon)try{S=a.navigator.sendBeacon(E.v.toString(),"")}catch{}!S&&a.Image&&(new Image().src=E.v,S=!0),S||(E.g=rS(E.j,null),E.g.ea(E.v)),E.F=Date.now(),St(E)}tS(f)}function Ff(f){f.g&&(fv(f),f.g.cancel(),f.g=null)}function Gb(f){Ff(f),f.u&&(a.clearTimeout(f.u),f.u=null),Bf(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&a.clearTimeout(f.s),f.s=null)}function Uf(f){if(!ma(f.h)&&!f.s){f.s=!0;var E=f.Ga;ne||Z(),z||(ne(),z=!0),B.add(E,f),f.B=0}}function dB(f,E){return ga(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=E.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Bi(p(f.Ga,f,E),eS(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const U=new ve(this,this.j,f);let W=this.o;if(this.S&&(W?(W=T(W),C(W,this.S)):W=this.S),this.m!==null||this.O||(U.H=W,W=null),this.P)e:{for(var E=0,S=0;S<this.i.length;S++){t:{var P=this.i[S];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(E+=P,4096<E){E=S;break e}if(E===4096||S===this.i.length-1){E=S+1;break e}}E=1e3}else E=1e3;E=Yb(this,U,E),S=Ys(this.I),At(S,"RID",f),At(S,"CVER",22),this.D&&At(S,"X-HTTP-Session-Id",this.D),ku(this,S),W&&(this.O?E="headers="+encodeURIComponent(String(Bb(W)))+"&"+E:this.m&&uv(S,this.m,W)),Tt(this.h,U),this.Ua&&At(S,"TYPE","init"),this.P?(At(S,"$req",E),At(S,"SID","null"),U.T=!0,ot(U,S,null)):ot(U,S,E),this.G=2}}else this.G==3&&(f?Qb(this,f):this.i.length==0||ma(this.h)||Qb(this))};function Qb(f,E){var S;E?S=E.l:S=f.U++;const P=Ys(f.I);At(P,"SID",f.K),At(P,"RID",S),At(P,"AID",f.T),ku(f,P),f.m&&f.o&&uv(P,f.m,f.o),S=new ve(f,f.j,S,f.B+1),f.m===null&&(S.H=f.o),E&&(f.i=E.D.concat(f.i)),E=Yb(f,S,1e3),S.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Tt(f.h,S),ot(S,P,E)}function ku(f,E){f.H&&O(f.H,function(S,P){At(E,P,S)}),f.l&&kf({},function(S,P){At(E,P,S)})}function Yb(f,E,S){S=Math.min(f.i.length,S);var P=f.l?p(f.l.Na,f.l,f):null;e:{var U=f.i;let W=-1;for(;;){const ie=["count="+S];W==-1?0<S?(W=U[0].g,ie.push("ofs="+W)):W=0:ie.push("ofs="+W);let xt=!0;for(let vn=0;vn<S;vn++){let ct=U[vn].g;const Rn=U[vn].map;if(ct-=W,0>ct)W=Math.max(0,U[vn].g-100),xt=!1;else try{aB(Rn,ie,"req"+ct+"_")}catch{P&&P(Rn)}}if(xt){P=ie.join("&");break e}}}return f=f.i.splice(0,S),E.D=f,P}function Xb(f){if(!f.g&&!f.u){f.Y=1;var E=f.Fa;ne||Z(),z||(ne(),z=!0),B.add(E,f),f.v=0}}function hv(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Bi(p(f.Fa,f),eS(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Jb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Bi(p(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,en(10),Ff(this),Jb(this))};function fv(f){f.A!=null&&(a.clearTimeout(f.A),f.A=null)}function Jb(f){f.g=new ve(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var E=Ys(f.qa);At(E,"RID","rpc"),At(E,"SID",f.K),At(E,"AID",f.T),At(E,"CI",f.F?"0":"1"),!f.F&&f.ja&&At(E,"TO",f.ja),At(E,"TYPE","xmlhttp"),ku(f,E),f.m&&f.o&&uv(E,f.m,f.o),f.L&&(f.g.I=f.L);var S=f.g;f=f.ia,S.L=1,S.v=jf(Ys(E)),S.m=null,S.P=!0,pt(S,f)}t.Za=function(){this.C!=null&&(this.C=null,Ff(this),hv(this),en(19))};function Bf(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function Zb(f,E){var S=null;if(f.g==E){Bf(f),fv(f),f.g=null;var P=2}else if(ke(f.h,E))S=E.D,Cn(f.h,E),P=1;else return;if(f.G!=0){if(E.o)if(P==1){S=E.m?E.m.length:0,E=Date.now()-E.F;var U=f.B;P=Il(),Be(P,new ha(P,S)),Uf(f)}else Xb(f);else if(U=E.s,U==3||U==0&&0<E.X||!(P==1&&dB(f,E)||P==2&&hv(f)))switch(S&&0<S.length&&(E=f.h,E.i=E.i.concat(S)),U){case 1:va(f,5);break;case 4:va(f,10);break;case 3:va(f,6);break;default:va(f,2)}}}function eS(f,E){let S=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(S*=2),S*E}function va(f,E){if(f.j.info("Error code "+E),E==2){var S=p(f.fb,f),P=f.Xa;const U=!P;P=new ya(P||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Mf(P,"https"),jf(P),U?sB(P.toString(),S):iB(P.toString(),S)}else en(2);f.G=0,f.l&&f.l.sa(E),tS(f),Gb(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),en(2)):(this.j.info("Failed to ping google.com"),en(1))};function tS(f){if(f.G=0,f.ka=[],f.l){const E=It(f.h);(E.length!=0||f.i.length!=0)&&(_(f.ka,E),_(f.ka,f.i),f.h.i.length=0,v(f.i),f.i.length=0),f.l.ra()}}function nS(f,E,S){var P=S instanceof ya?Ys(S):new ya(S);if(P.g!="")E&&(P.g=E+"."+P.g),Of(P,P.s);else{var U=a.location;P=U.protocol,E=E?E+"."+U.hostname:U.hostname,U=+U.port;var W=new ya(null);P&&Mf(W,P),E&&(W.g=E),U&&Of(W,U),S&&(W.l=S),P=W}return S=f.D,E=f.ya,S&&E&&At(P,S,E),At(P,"VER",f.la),ku(f,P),P}function rS(f,E,S){if(E&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=f.Ca&&!f.pa?new zt(new Ru({eb:S})):new zt(f.pa),E.Ha(f.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sS(){}t=sS.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function $f(){}$f.prototype.g=function(f,E){return new vr(f,E)};function vr(f,E){Le.call(this),this.g=new qb(E),this.l=f,this.h=E&&E.messageUrlParams||null,f=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(f?f["X-WebChannel-Content-Type"]=E.messageContentType:f={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(f?f["X-WebChannel-Client-Profile"]=E.va:f={"X-WebChannel-Client-Profile":E.va}),this.g.S=f,(f=E&&E.Sb)&&!y(f)&&(this.g.m=f),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!y(E)&&(this.g.D=E,f=this.h,f!==null&&E in f&&(f=this.h,E in f&&delete f[E])),this.j=new Cl(this)}w(vr,Le),vr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vr.prototype.close=function(){dv(this.g)},vr.prototype.o=function(f){var E=this.g;if(typeof f=="string"){var S={};S.__data__=f,f=S}else this.u&&(S={},S.__data__=Hn(f),f=S);E.i.push(new ts(E.Ya++,f)),E.G==3&&Uf(E)},vr.prototype.N=function(){this.g.l=null,delete this.j,dv(this.g),delete this.g,vr.aa.N.call(this)};function iS(f){bl.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var E=f.__sm__;if(E){e:{for(const S in E){f=S;break e}f=void 0}(this.i=f)&&(f=this.i,E=E!==null&&f in E?E[f]:void 0),this.data=E}else this.data=f}w(iS,bl);function oS(){ua.call(this),this.status=1}w(oS,ua);function Cl(f){this.g=f}w(Cl,sS),Cl.prototype.ua=function(){Be(this.g,"a")},Cl.prototype.ta=function(f){Be(this.g,new iS(f))},Cl.prototype.sa=function(f){Be(this.g,new oS)},Cl.prototype.ra=function(){Be(this.g,"b")},$f.prototype.createWebChannel=$f.prototype.g,vr.prototype.send=vr.prototype.o,vr.prototype.open=vr.prototype.m,vr.prototype.close=vr.prototype.close,kL=function(){return new $f},DL=function(){return Il()},NL=jr,vx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},de.NO_ERROR=0,de.TIMEOUT=8,de.HTTP_ERROR=6,tm=de,_e.COMPLETE="complete",PL=_e,Tu.EventType=Is,Is.OPEN="a",Is.CLOSE="b",Is.ERROR="c",Is.MESSAGE="d",Le.prototype.listen=Le.prototype.K,ad=Tu,RL=Ru,zt.prototype.listenOnce=zt.prototype.L,zt.prototype.getLastError=zt.prototype.Ka,zt.prototype.getLastErrorCode=zt.prototype.Ba,zt.prototype.getStatus=zt.prototype.Z,zt.prototype.getResponseJson=zt.prototype.Oa,zt.prototype.getResponseText=zt.prototype.oa,zt.prototype.send=zt.prototype.ea,zt.prototype.setWithCredentials=zt.prototype.Ha,CL=zt}).apply(typeof _p<"u"?_p:typeof self<"u"?self:typeof window<"u"?window:{});const i1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jn.UNAUTHENTICATED=new jn(null),jn.GOOGLE_CREDENTIALS=new jn("google-credentials-uid"),jn.FIRST_PARTY=new jn("first-party-uid"),jn.MOCK_USER=new jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gu="10.13.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl=new Kg("@firebase/firestore");function Gu(){return nl.logLevel}function ge(t,...e){if(nl.logLevel<=tt.DEBUG){const n=e.map(TT);nl.debug(`Firestore (${gu}): ${t}`,...n)}}function ki(t,...e){if(nl.logLevel<=tt.ERROR){const n=e.map(TT);nl.error(`Firestore (${gu}): ${t}`,...n)}}function Hc(t,...e){if(nl.logLevel<=tt.WARN){const n=e.map(TT);nl.warn(`Firestore (${gu}): ${t}`,...n)}}function TT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(t="Unexpected state"){const e=`FIRESTORE (${gu}) INTERNAL ASSERTION FAILED: `+t;throw ki(e),new Error(e)}function vt(t,e){t||Ne()}function De(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends Mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(jn.UNAUTHENTICATED))}shutdown(){}}class wee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xee{constructor(e){this.t=e,this.currentUser=jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new xi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new xi,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new xi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(vt(typeof r.accessToken=="string"),new ML(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return vt(e===null||typeof e=="string"),new jn(e)}}class _ee{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=jn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Eee{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new _ee(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(jn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Tee{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bee{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,ge("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(vt(typeof n.token=="string"),this.R=n.token,new Tee(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function See(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=See(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function ut(t,e){return t<e?-1:t>e?1:0}function qc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new be(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return fn.fromMillis(Date.now())}static fromDate(e){return fn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new fn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ut(this.nanoseconds,e.nanoseconds):ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Me(e)}static min(){return new Me(new fn(0,0))}static max(){return new Me(new fn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ne(),r===void 0?r=e.length-n:r>e.length-n&&Ne(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return wh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof wh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class kt extends wh{construct(e,n,r){return new kt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new kt(n)}static emptyPath(){return new kt([])}}const Iee=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class En extends wh{construct(e,n,r){return new En(e,n,r)}static isValidIdentifier(e){return Iee.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),En.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new En(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new be(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new be(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new be(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new be(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new En(n)}static emptyPath(){return new En([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(kt.fromString(e))}static fromName(e){return new Se(kt.fromString(e).popFirst(5))}static empty(){return new Se(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return kt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new kt(e.slice()))}}function Aee(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Me.fromTimestamp(r===1e9?new fn(n+1,0):new fn(n,r));return new Go(s,Se.empty(),e)}function Cee(t){return new Go(t.readTime,t.key,-1)}class Go{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Go(Me.min(),Se.empty(),-1)}static max(){return new Go(Me.max(),Se.empty(),-1)}}function Ree(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(t.documentKey,e.documentKey),n!==0?n:ut(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pee="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Nee{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mf(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==Pee)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(s=>s?Q.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new Q((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Dee(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}bT.oe=-1;function My(t){return t==null}function og(t){return t===0&&1/t==-1/0}function kee(t){return typeof t=="number"&&Number.isInteger(t)&&!og(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Mee(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function jL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new Bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new Bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ep(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ep(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ep(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ep(this.root,e,this.comparator,!0)}}class Ep{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??_n.RED,this.left=s??_n.EMPTY,this.right=i??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new _n(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return _n.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ne();const e=this.left.check();if(e!==this.right.check())throw Ne();return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne()}get value(){throw Ne()}get color(){throw Ne()}get left(){throw Ne()}get right(){throw Ne()}copy(e,n,r,s,i){return this}insert(e,n,r){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.comparator=e,this.data=new Bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new a1(this.data.getIterator())}getIteratorFrom(e){return new a1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof bn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new bn(this.comparator);return n.data=e,n}}class a1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e){this.fields=e,e.sort(En.comparator)}static empty(){return new fs([])}unionWith(e){let n=new bn(En.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new LL("Invalid base64 string: "+i):i}}(e);return new In(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new In(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}In.EMPTY_BYTE_STRING=new In("");const Oee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qo(t){if(vt(!!t),typeof t=="string"){let e=0;const n=Oee.exec(t);if(vt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yt(t.seconds),nanos:Yt(t.nanos)}}function Yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function rl(t){return typeof t=="string"?In.fromBase64String(t):In.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function IT(t){const e=t.mapValue.fields.__previous_value__;return ST(e)?IT(e):e}function xh(t){const e=Qo(t.mapValue.fields.__local_write_time__.timestampValue);return new fn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jee{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class _h{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new _h("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof _h&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function sl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ST(t)?4:Vee(t)?9007199254740991:Lee(t)?10:11:Ne()}function qs(t,e){if(t===e)return!0;const n=sl(t);if(n!==sl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xh(t).isEqual(xh(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Qo(s.timestampValue),a=Qo(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return rl(s.bytesValue).isEqual(rl(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Yt(s.geoPointValue.latitude)===Yt(i.geoPointValue.latitude)&&Yt(s.geoPointValue.longitude)===Yt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Yt(s.integerValue)===Yt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Yt(s.doubleValue),a=Yt(i.doubleValue);return o===a?og(o)===og(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return qc(t.arrayValue.values||[],e.arrayValue.values||[],qs);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(o1(o)!==o1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!qs(o[l],a[l])))return!1;return!0}(t,e);default:return Ne()}}function Eh(t,e){return(t.values||[]).find(n=>qs(n,e))!==void 0}function Gc(t,e){if(t===e)return 0;const n=sl(t),r=sl(e);if(n!==r)return ut(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ut(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Yt(i.integerValue||i.doubleValue),l=Yt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return l1(t.timestampValue,e.timestampValue);case 4:return l1(xh(t),xh(e));case 5:return ut(t.stringValue,e.stringValue);case 6:return function(i,o){const a=rl(i),l=rl(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=ut(a[c],l[c]);if(u!==0)return u}return ut(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ut(Yt(i.latitude),Yt(o.latitude));return a!==0?a:ut(Yt(i.longitude),Yt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return c1(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,u;const d=i.fields||{},p=o.fields||{},g=(a=d.value)===null||a===void 0?void 0:a.arrayValue,w=(l=p.value)===null||l===void 0?void 0:l.arrayValue,v=ut(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((u=w==null?void 0:w.values)===null||u===void 0?void 0:u.length)||0);return v!==0?v:c1(g,w)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Tp.mapValue&&o===Tp.mapValue)return 0;if(i===Tp.mapValue)return 1;if(o===Tp.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const p=ut(l[d],u[d]);if(p!==0)return p;const g=Gc(a[l[d]],c[u[d]]);if(g!==0)return g}return ut(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Ne()}}function l1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ut(t,e);const n=Qo(t),r=Qo(e),s=ut(n.seconds,r.seconds);return s!==0?s:ut(n.nanos,r.nanos)}function c1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Gc(n[s],r[s]);if(i)return i}return ut(n.length,r.length)}function Qc(t){return wx(t)}function wx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Qo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return rl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=wx(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${wx(n.fields[o])}`;return s+"}"}(t.mapValue):Ne()}function xx(t){return!!t&&"integerValue"in t}function AT(t){return!!t&&"arrayValue"in t}function u1(t){return!!t&&"nullValue"in t}function d1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nm(t){return!!t&&"mapValue"in t}function Lee(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ad(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return yu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ad(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ad(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Vee(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.value=e}static empty(){return new Wr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!nm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ad(n)}setAll(e){let n=En.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Ad(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());nm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];nm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){yu(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Wr(Ad(this.value))}}function VL(t){const e=[];return yu(t.fields,(n,r)=>{const s=new En([n]);if(nm(r)){const i=VL(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new fs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Vn(e,0,Me.min(),Me.min(),Me.min(),Wr.empty(),0)}static newFoundDocument(e,n,r,s){return new Vn(e,1,n,Me.min(),r,s,0)}static newNoDocument(e,n){return new Vn(e,2,n,Me.min(),Me.min(),Wr.empty(),0)}static newUnknownDocument(e,n){return new Vn(e,3,n,Me.min(),Me.min(),Wr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n){this.position=e,this.inclusive=n}}function h1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Se.comparator(Se.fromName(o.referenceValue),n.key):r=Gc(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function f1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n="asc"){this.field=e,this.dir=n}}function Fee(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{}class un extends FL{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Bee(e,n,r):n==="array-contains"?new Kee(e,r):n==="in"?new Wee(e,r):n==="not-in"?new Hee(e,r):n==="array-contains-any"?new qee(e,r):new un(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $ee(e,r):new zee(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Gc(n,this.value)):n!==null&&sl(this.value)===sl(n)&&this.matchesComparison(Gc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gs extends FL{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Gs(e,n)}matches(e){return UL(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function UL(t){return t.op==="and"}function BL(t){return Uee(t)&&UL(t)}function Uee(t){for(const e of t.filters)if(e instanceof Gs)return!1;return!0}function _x(t){if(t instanceof un)return t.field.canonicalString()+t.op.toString()+Qc(t.value);if(BL(t))return t.filters.map(e=>_x(e)).join(",");{const e=t.filters.map(n=>_x(n)).join(",");return`${t.op}(${e})`}}function $L(t,e){return t instanceof un?function(r,s){return s instanceof un&&r.op===s.op&&r.field.isEqual(s.field)&&qs(r.value,s.value)}(t,e):t instanceof Gs?function(r,s){return s instanceof Gs&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&$L(o,s.filters[a]),!0):!1}(t,e):void Ne()}function zL(t){return t instanceof un?function(n){return`${n.field.canonicalString()} ${n.op} ${Qc(n.value)}`}(t):t instanceof Gs?function(n){return n.op.toString()+" {"+n.getFilters().map(zL).join(" ,")+"}"}(t):"Filter"}class Bee extends un{constructor(e,n,r){super(e,n,r),this.key=Se.fromName(r.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class $ee extends un{constructor(e,n){super(e,"in",n),this.keys=KL("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zee extends un{constructor(e,n){super(e,"not-in",n),this.keys=KL("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function KL(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Se.fromName(r.referenceValue))}class Kee extends un{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return AT(n)&&Eh(n.arrayValue,this.value)}}class Wee extends un{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Eh(this.value.arrayValue,n)}}class Hee extends un{constructor(e,n){super(e,"not-in",n)}matches(e){if(Eh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Eh(this.value.arrayValue,n)}}class qee extends un{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!AT(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Eh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gee{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function p1(t,e=null,n=[],r=[],s=null,i=null,o=null){return new Gee(t,e,n,r,s,i,o)}function CT(t){const e=De(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>_x(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),My(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qc(r)).join(",")),e.ue=n}return e.ue}function RT(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Fee(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$L(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!f1(t.startAt,e.startAt)&&f1(t.endAt,e.endAt)}function Ex(t){return Se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Qee(t,e,n,r,s,i,o,a){return new Oy(t,e,n,r,s,i,o,a)}function jy(t){return new Oy(t)}function m1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Yee(t){return t.collectionGroup!==null}function Cd(t){const e=De(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new bn(En.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new lg(i,r))}),n.has(En.keyField().canonicalString())||e.ce.push(new lg(En.keyField(),r))}return e.ce}function Ks(t){const e=De(t);return e.le||(e.le=WL(e,Cd(t))),e.le}function Xee(t){const e=De(t);return e.he||(e.he=WL(e,t.explicitOrderBy)),e.he}function WL(t,e){if(t.limitType==="F")return p1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new lg(s.field,i)});const n=t.endAt?new ag(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ag(t.startAt.position,t.startAt.inclusive):null;return p1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Tx(t,e,n){return new Oy(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ly(t,e){return RT(Ks(t),Ks(e))&&t.limitType===e.limitType}function HL(t){return`${CT(Ks(t))}|lt:${t.limitType}`}function jl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>zL(s)).join(", ")}]`),My(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Qc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Qc(s)).join(",")),`Target(${r})`}(Ks(t))}; limitType=${t.limitType})`}function Vy(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Se.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Cd(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=h1(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Cd(r),s)||r.endAt&&!function(o,a,l){const c=h1(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Cd(r),s))}(t,e)}function Jee(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qL(t){return(e,n)=>{let r=!1;for(const s of Cd(t)){const i=Zee(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Zee(t,e,n){const r=t.field.isKeyField()?Se.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Gc(l,c):Ne()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){yu(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return jL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ete=new Bt(Se.comparator);function Mi(){return ete}const GL=new Bt(Se.comparator);function ld(...t){let e=GL;for(const n of t)e=e.insert(n.key,n);return e}function QL(t){let e=GL;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Na(){return Rd()}function YL(){return Rd()}function Rd(){return new vu(t=>t.toString(),(t,e)=>t.isEqual(e))}const tte=new Bt(Se.comparator),nte=new bn(Se.comparator);function Xe(...t){let e=nte;for(const n of t)e=e.add(n);return e}const rte=new bn(ut);function ste(){return rte}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:og(e)?"-0":e}}function XL(t){return{integerValue:""+t}}function ite(t,e){return kee(e)?XL(e):PT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(){this._=void 0}}function ote(t,e,n){return t instanceof cg?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&ST(i)&&(i=IT(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Th?ZL(t,e):t instanceof bh?e2(t,e):function(s,i){const o=JL(s,i),a=g1(o)+g1(s.Pe);return xx(o)&&xx(s.Pe)?XL(a):PT(s.serializer,a)}(t,e)}function ate(t,e,n){return t instanceof Th?ZL(t,e):t instanceof bh?e2(t,e):n}function JL(t,e){return t instanceof ug?function(r){return xx(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class cg extends Fy{}class Th extends Fy{constructor(e){super(),this.elements=e}}function ZL(t,e){const n=t2(e);for(const r of t.elements)n.some(s=>qs(s,r))||n.push(r);return{arrayValue:{values:n}}}class bh extends Fy{constructor(e){super(),this.elements=e}}function e2(t,e){let n=t2(e);for(const r of t.elements)n=n.filter(s=>!qs(s,r));return{arrayValue:{values:n}}}class ug extends Fy{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function g1(t){return Yt(t.integerValue||t.doubleValue)}function t2(t){return AT(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function lte(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Th&&s instanceof Th||r instanceof bh&&s instanceof bh?qc(r.elements,s.elements,qs):r instanceof ug&&s instanceof ug?qs(r.Pe,s.Pe):r instanceof cg&&s instanceof cg}(t.transform,e.transform)}class cte{constructor(e,n){this.version=e,this.transformResults=n}}class _i{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _i}static exists(e){return new _i(void 0,e)}static updateTime(e){return new _i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let Uy=class{};function n2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new s2(t.key,_i.none()):new yf(t.key,t.data,_i.none());{const n=t.data,r=Wr.empty();let s=new bn(En.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new vl(t.key,r,new fs(s.toArray()),_i.none())}}function ute(t,e,n){t instanceof yf?function(s,i,o){const a=s.value.clone(),l=v1(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof vl?function(s,i,o){if(!rm(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=v1(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(r2(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Pd(t,e,n,r){return t instanceof yf?function(i,o,a,l){if(!rm(i.precondition,o))return a;const c=i.value.clone(),u=w1(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof vl?function(i,o,a,l){if(!rm(i.precondition,o))return a;const c=w1(i.fieldTransforms,l,o),u=o.data;return u.setAll(r2(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,o,a){return rm(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function dte(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=JL(r.transform,s||null);i!=null&&(n===null&&(n=Wr.empty()),n.set(r.field,i))}return n||null}function y1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&qc(r,s,(i,o)=>lte(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yf extends Uy{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class vl extends Uy{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function r2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function v1(t,e,n){const r=new Map;vt(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,ate(o,a,n[s]))}return r}function w1(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,ote(i,o,e))}return r}class s2 extends Uy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hte extends Uy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fte{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&ute(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Pd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Pd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=YL();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=n2(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Xe())}isEqual(e){return this.batchId===e.batchId&&qc(this.mutations,e.mutations,(n,r)=>y1(n,r))&&qc(this.baseMutations,e.baseMutations,(n,r)=>y1(n,r))}}class NT{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){vt(e.mutations.length===r.length);let s=function(){return tte}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new NT(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pte=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mte{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gte{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,nt;function yte(t){switch(t){default:return Ne();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function i2(t){if(t===void 0)return ki("GRPC error has no .code"),Y.UNKNOWN;switch(t){case nn.OK:return Y.OK;case nn.CANCELLED:return Y.CANCELLED;case nn.UNKNOWN:return Y.UNKNOWN;case nn.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case nn.INTERNAL:return Y.INTERNAL;case nn.UNAVAILABLE:return Y.UNAVAILABLE;case nn.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case nn.NOT_FOUND:return Y.NOT_FOUND;case nn.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case nn.ABORTED:return Y.ABORTED;case nn.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case nn.DATA_LOSS:return Y.DATA_LOSS;default:return Ne()}}(nt=nn||(nn={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vte(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wte=new Ha([4294967295,4294967295],0);function x1(t){const e=vte().encode(t),n=new AL;return n.update(e),new Uint8Array(n.digest())}function _1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ha([n,r],0),new Ha([s,i],0)]}class DT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new cd(`Invalid padding: ${n}`);if(r<0)throw new cd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new cd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new cd(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ha.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Ha.fromNumber(r)));return s.compare(wte)===1&&(s=new Ha([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=x1(e),[r,s]=_1(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new DT(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=x1(e),[r,s]=_1(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class cd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,vf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new By(Me.min(),s,new Bt(ut),Mi(),Xe())}}class vf{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vf(r,n,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class o2{constructor(e,n){this.targetId=e,this.me=n}}class a2{constructor(e,n,r=In.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class E1{constructor(){this.fe=0,this.ge=b1(),this.pe=In.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Xe(),n=Xe(),r=Xe();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ne()}}),new vf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=b1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,vt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class xte{constructor(e){this.Le=e,this.Be=new Map,this.ke=Mi(),this.qe=T1(),this.Qe=new Bt(ut)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ne()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(Ex(i))if(r===0){const o=new Se(i.path);this.Ue(n,o,Vn.newNoDocument(o,Me.min()))}else vt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=rl(r).toUint8Array()}catch(l){if(l instanceof LL)return Hc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new DT(o,s,i)}catch(l){return Hc(l instanceof cd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&Ex(a.target)){const l=new Se(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Vn.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=Xe();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new By(e,n,this.Qe,this.ke,r);return this.ke=Mi(),this.qe=T1(),this.Qe=new Bt(ut),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new E1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new bn(ut),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new E1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function T1(){return new Bt(Se.comparator)}function b1(){return new Bt(Se.comparator)}const _te={asc:"ASCENDING",desc:"DESCENDING"},Ete={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tte={and:"AND",or:"OR"};class bte{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bx(t,e){return t.useProto3Json||My(e)?e:{value:e}}function dg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function l2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ste(t,e){return dg(t,e.toTimestamp())}function Ws(t){return vt(!!t),Me.fromTimestamp(function(n){const r=Qo(n);return new fn(r.seconds,r.nanos)}(t))}function kT(t,e){return Sx(t,e).canonicalString()}function Sx(t,e){const n=function(s){return new kt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function c2(t){const e=kt.fromString(t);return vt(m2(e)),e}function Ix(t,e){return kT(t.databaseId,e.path)}function Sw(t,e){const n=c2(e);if(n.get(1)!==t.databaseId.projectId)throw new be(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Se(d2(n))}function u2(t,e){return kT(t.databaseId,e)}function Ite(t){const e=c2(t);return e.length===4?kt.emptyPath():d2(e)}function Ax(t){return new kt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function d2(t){return vt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function S1(t,e,n){return{name:Ix(t,e),fields:n.value.mapValue.fields}}function Ate(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(vt(u===void 0||typeof u=="string"),In.fromBase64String(u||"")):(vt(u===void 0||u instanceof Buffer||u instanceof Uint8Array),In.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?Y.UNKNOWN:i2(c.code);return new be(u,c.message||"")}(o);n=new a2(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Sw(t,r.document.name),i=Ws(r.document.updateTime),o=r.document.createTime?Ws(r.document.createTime):Me.min(),a=new Wr({mapValue:{fields:r.document.fields}}),l=Vn.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new sm(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Sw(t,r.document),i=r.readTime?Ws(r.readTime):Me.min(),o=Vn.newNoDocument(s,i),a=r.removedTargetIds||[];n=new sm([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Sw(t,r.document),i=r.removedTargetIds||[];n=new sm([],i,s,null)}else{if(!("filter"in e))return Ne();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new gte(s,i),a=r.targetId;n=new o2(a,o)}}return n}function Cte(t,e){let n;if(e instanceof yf)n={update:S1(t,e.key,e.value)};else if(e instanceof s2)n={delete:Ix(t,e.key)};else if(e instanceof vl)n={update:S1(t,e.key,e.data),updateMask:Lte(e.fieldMask)};else{if(!(e instanceof hte))return Ne();n={verify:Ix(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof cg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Th)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof bh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ug)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Ne()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:Ste(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ne()}(t,e.precondition)),n}function Rte(t,e){return t&&t.length>0?(vt(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Ws(s.updateTime):Ws(i);return o.isEqual(Me.min())&&(o=Ws(i)),new cte(o,s.transformResults||[])}(n,e))):[]}function Pte(t,e){return{documents:[u2(t,e.path)]}}function h2(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=u2(t,s);const i=function(c){if(c.length!==0)return p2(Gs.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(u=>function(p){return{field:lo(p.field),direction:Mte(p.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=bx(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function Nte(t,e,n,r){const{_t:s,parent:i}=h2(t,e),o={},a=[];let l=0;return n.forEach(c=>{const u="aggregate_"+l++;o[u]=c.alias,c.aggregateType==="count"?a.push({alias:u,count:{}}):c.aggregateType==="avg"?a.push({alias:u,avg:{field:lo(c.fieldPath)}}):c.aggregateType==="sum"&&a.push({alias:u,sum:{field:lo(c.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:a,structuredQuery:s.structuredQuery},parent:s.parent},ut:o,parent:i}}function Dte(t){let e=Ite(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){vt(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(d){const p=f2(d);return p instanceof Gs&&BL(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(p=>function(w){return new lg(Ll(w.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(d){let p;return p=typeof d=="object"?d.value:d,My(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(d){const p=!!d.before,g=d.values||[];return new ag(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const p=!d.before,g=d.values||[];return new ag(g,p)}(n.endAt)),Qee(e,s,o,i,a,"F",l,c)}function kte(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function f2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ll(n.unaryFilter.field);return un.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ll(n.unaryFilter.field);return un.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ll(n.unaryFilter.field);return un.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ll(n.unaryFilter.field);return un.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ne()}}(t):t.fieldFilter!==void 0?function(n){return un.create(Ll(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ne()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Gs.create(n.compositeFilter.filters.map(r=>f2(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ne()}}(n.compositeFilter.op))}(t):Ne()}function Mte(t){return _te[t]}function Ote(t){return Ete[t]}function jte(t){return Tte[t]}function lo(t){return{fieldPath:t.canonicalString()}}function Ll(t){return En.fromServerFormat(t.fieldPath)}function p2(t){return t instanceof un?function(n){if(n.op==="=="){if(d1(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NAN"}};if(u1(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(d1(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NAN"}};if(u1(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lo(n.field),op:Ote(n.op),value:n.value}}}(t):t instanceof Gs?function(n){const r=n.getFilters().map(s=>p2(s));return r.length===1?r[0]:{compositeFilter:{op:jte(n.op),filters:r}}}(t):Ne()}function Lte(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function m2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,n,r,s,i=Me.min(),o=Me.min(),a=In.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new bo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vte{constructor(e){this.ct=e}}function Fte(t){const e=Dte({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Tx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ute{constructor(){this.un=new Bte}addToCollectionParentIndex(e,n){return this.un.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(Go.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(Go.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class Bte{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new bn(kt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new bn(kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Yc(0)}static kn(){return new Yc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $te{constructor(){this.changes=new vu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zte{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kte{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Pd(r.mutation,s,fs.empty(),fn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Xe()){const s=Na();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ld();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Na();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Xe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Mi();const o=Rd(),a=function(){return Rd()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof vl)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Pd(u.mutation,c,u.mutation.getFieldMask(),fn.now())):o.set(c.key,fs.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new zte(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Rd();let s=new Bt((o,a)=>o-a),i=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||fs.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(s.get(a.batchId)||Xe()).add(l);s=s.insert(a.batchId,d)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=YL();u.forEach(p=>{if(!i.has(p)){const g=n2(n.get(p),r.get(p));g!==null&&d.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return Q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Yee(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Q.resolve(Na());let a=-1,l=i;return o.next(c=>Q.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(u)?Q.resolve():this.remoteDocumentCache.getEntry(e,u).next(p=>{l=l.insert(u,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Xe())).next(u=>({batchId:a,changes:QL(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next(r=>{let s=ld();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ld();return this.indexManager.getCollectionParents(e,i).next(a=>Q.forEach(a,l=>{const c=function(d,p){return new Oy(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(u=>{u.forEach((d,p)=>{o=o.insert(d,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Vn.newInvalidDocument(u)))});let a=ld();return o.forEach((l,c)=>{const u=i.get(l);u!==void 0&&Pd(u.mutation,c,fs.empty(),fn.now()),Vy(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wte{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ws(s.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:Fte(s.bundledQuery),readTime:Ws(s.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hte{constructor(){this.overlays=new Bt(Se.comparator),this.Ir=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Na();return Q.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const s=Na(),i=n.length+1,o=new Se(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Bt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=Na(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Na(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return Q.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new pte(n,r));let i=this.Ir.get(n);i===void 0&&(i=Xe(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qte{constructor(){this.sessionToken=In.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(){this.Tr=new bn(pn.Er),this.dr=new bn(pn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new pn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new pn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Se(new kt([])),r=new pn(n,e),s=new pn(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Se(new kt([])),r=new pn(n,e),s=new pn(n,e+1);let i=Xe();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new pn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class pn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Se.comparator(e.key,n.key)||ut(e.wr,n.wr)}static Ar(e,n){return ut(e.wr,n.wr)||Se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gte{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new bn(pn.Er)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new fte(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new pn(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return Q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new pn(n,0),s=new pn(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),Q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new bn(ut);return n.forEach(s=>{const i=new pn(s,0),o=new pn(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),Q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Se.isDocumentKey(i)||(i=i.child(""));const o=new pn(new Se(i),0);let a=new bn(ut);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.wr)),!0)},o),Q.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){vt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Q.forEach(n.mutations,s=>{const i=new pn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new pn(n,0),s=this.br.firstAfterOrEqual(r);return Q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qte{constructor(e){this.Mr=e,this.docs=function(){return new Bt(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():Vn.newInvalidDocument(n))}getEntries(e,n){let r=Mi();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Vn.newInvalidDocument(s))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Mi();const o=n.path,a=new Se(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Ree(Cee(u),r)<=0||(s.has(u.key)||Vy(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return Q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ne()}Or(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Yte(this)}getSize(e){return Q.resolve(this.size)}}class Yte extends $te{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xte{constructor(e){this.persistence=e,this.Nr=new vu(n=>CT(n),RT),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.Lr=0,this.Br=new MT,this.targetCount=0,this.kr=Yc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Yc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Kn(n),Q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),Q.waitFor(i).next(()=>s)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),Q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jte{constructor(e,n){this.qr={},this.overlays={},this.Qr=new bT(0),this.Kr=!1,this.Kr=!0,this.$r=new qte,this.referenceDelegate=e(this),this.Ur=new Xte(this),this.indexManager=new Ute,this.remoteDocumentCache=function(s){return new Qte(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Vte(n),this.Gr=new Wte(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Hte,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Gte(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ge("MemoryPersistence","Starting transaction:",e);const s=new Zte(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return Q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Zte extends Nee{constructor(e){super(),this.currentSequenceNumber=e}}class OT{constructor(e){this.persistence=e,this.Jr=new MT,this.Yr=null}static Zr(e){return new OT(e)}get Xr(){if(this.Yr)return this.Yr;throw Ne()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Xr,r=>{const s=Se.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,Me.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Q.or([()=>Q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Xe(),s=Xe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new jT(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ene{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tne{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return X5()?8:Dee($n())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new ene;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Gu()<=tt.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",jl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Q.resolve()):(Gu()<=tt.DEBUG&&ge("QueryEngine","Query:",jl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Gu()<=tt.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",jl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ks(n))):Q.resolve())}Yi(e,n){if(m1(n))return Q.resolve(null);let r=Ks(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Tx(n,null,"F"),r=Ks(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Xe(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,Tx(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,s){return m1(n)||s.isEqual(Me.min())?Q.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?Q.resolve(null):(Gu()<=tt.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),jl(n)),this.rs(e,o,n,Aee(s,-1)).next(a=>a))})}ts(e,n){let r=new bn(qL(e));return n.forEach((s,i)=>{Vy(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Gu()<=tt.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",jl(n)),this.Ji.getDocumentsMatchingQuery(e,n,Go.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nne{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Bt(ut),this._s=new vu(i=>CT(i),RT),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Kte(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function rne(t,e,n,r){return new nne(t,e,n,r)}async function g2(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Xe();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function sne(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,p=d.keys();let g=Q.resolve();return p.forEach(w=>{g=g.next(()=>u.getEntry(l,w)).next(v=>{const _=c.docVersions.get(w);vt(_!==null),v.version.compareTo(_)<0&&(d.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),u.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Xe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function y2(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function ine(t,e){const n=De(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((u,d)=>{const p=s.get(d);if(!p)return;a.push(n.Ur.removeMatchingKeys(i,u.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(i,u.addedDocuments,d)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(In.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,r)),s=s.insert(d,g),function(v,_,x){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,g,u)&&a.push(n.Ur.updateTargetData(i,g))});let l=Mi(),c=Xe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(one(i,o,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual(Me.min())){const u=n.Ur.getLastRemoteSnapshotVersion(i).next(d=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return Q.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.os=s,i))}function one(t,e,n){let r=Xe(),s=Xe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Mi();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Me.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ge("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function ane(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function lne(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,Q.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new bo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Cx(t,e,n){const r=De(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!gf(o))throw o;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function I1(t,e,n){const r=De(t);let s=Me.min(),i=Xe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=De(l),p=d._s.get(u);return p!==void 0?Q.resolve(d.os.get(p)):d.Ur.getTargetData(c,u)}(r,o,Ks(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:Me.min(),n?i:Xe())).next(a=>(cne(r,Jee(e),a),{documents:a,Ts:i})))}function cne(t,e,n){let r=t.us.get(e)||Me.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class A1{constructor(){this.activeTargetIds=ste()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class une{constructor(){this.so=new A1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new A1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dne{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bp=null;function Iw(){return bp===null?bp=function(){return 268435456+Math.round(2147483648*Math.random())}():bp++,"0x"+bp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fne{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn="WebChannelConnection";class pne extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=Iw(),l=this.xo(n,r.toUriEncodedString());ge("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(n,l,c,s).then(u=>(ge("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Hc("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=hne[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Iw();return new Promise((o,a)=>{const l=new CL;l.setWithCredentials(!0),l.listenOnce(PL.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case tm.NO_ERROR:const u=l.getResponseJson();ge(kn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case tm.TIMEOUT:ge(kn,`RPC '${e}' ${i} timed out`),a(new be(Y.DEADLINE_EXCEEDED,"Request time out"));break;case tm.HTTP_ERROR:const d=l.getStatus();if(ge(kn,`RPC '${e}' ${i} failed with status:`,d,"response text:",l.getResponseText()),d>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const w=function(_){const x=_.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(x)>=0?x:Y.UNKNOWN}(g.status);a(new be(w,g.message))}else a(new be(Y.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new be(Y.UNAVAILABLE,"Connection failed."));break;default:Ne()}}finally{ge(kn,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);ge(kn,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=Iw(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=kL(),a=DL(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new RL({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");ge(kn,`Creating RPC '${e}' stream ${s}: ${u}`,l);const d=o.createWebChannel(u,l);let p=!1,g=!1;const w=new fne({Io:_=>{g?ge(kn,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(p||(ge(kn,`Opening RPC '${e}' stream ${s} transport.`),d.open(),p=!0),ge(kn,`RPC '${e}' stream ${s} sending:`,_),d.send(_))},To:()=>d.close()}),v=(_,x,y)=>{_.listen(x,b=>{try{y(b)}catch(I){setTimeout(()=>{throw I},0)}})};return v(d,ad.EventType.OPEN,()=>{g||(ge(kn,`RPC '${e}' stream ${s} transport opened.`),w.yo())}),v(d,ad.EventType.CLOSE,()=>{g||(g=!0,ge(kn,`RPC '${e}' stream ${s} transport closed`),w.So())}),v(d,ad.EventType.ERROR,_=>{g||(g=!0,Hc(kn,`RPC '${e}' stream ${s} transport errored:`,_),w.So(new be(Y.UNAVAILABLE,"The operation could not be completed")))}),v(d,ad.EventType.MESSAGE,_=>{var x;if(!g){const y=_.data[0];vt(!!y);const b=y,I=b.error||((x=b[0])===null||x===void 0?void 0:x.error);if(I){ge(kn,`RPC '${e}' stream ${s} received error:`,I);const D=I.status;let O=function(R){const C=nn[R];if(C!==void 0)return i2(C)}(D),A=I.message;O===void 0&&(O=Y.INTERNAL,A="Unknown error status: "+D+" with message "+I.message),g=!0,w.So(new be(O,A)),d.close()}else ge(kn,`RPC '${e}' stream ${s} received:`,y),w.bo(y)}}),v(a,NL.STAT_EVENT,_=>{_.stat===vx.PROXY?ge(kn,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===vx.NOPROXY&&ge(kn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function Aw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(t){return new bte(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&ge("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,n,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new v2(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(ki(n.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new be(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mne extends w2{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Ate(this.serializer,e),r=function(i){if(!("targetChange"in i))return Me.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Me.min():o.readTime?Ws(o.readTime):Me.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Ax(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Ex(l)?{documents:Pte(i,l)}:{query:h2(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=l2(i,o.resumeToken);const c=bx(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Me.min())>0){a.readTime=dg(i,o.snapshotVersion.toTimestamp());const c=bx(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=kte(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Ax(this.serializer),n.removeTarget=e,this.a_(n)}}class gne extends w2{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return vt(!!e.streamToken),this.lastStreamToken=e.streamToken,vt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Rte(e.writeResults,e.commitTime),r=Ws(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Ax(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Cte(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yne extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new be(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,Sx(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new be(Y.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Sx(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new be(Y.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class vne{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ki(n),this.D_=!1):ge("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wne{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{wl(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=De(l);c.L_.add(4),await wf(c),c.q_.set("Unknown"),c.L_.delete(4),await zy(c)}(this))})}),this.q_=new vne(r,s)}}async function zy(t){if(wl(t))for(const e of t.B_)await e(!0)}async function wf(t){for(const e of t.B_)await e(!1)}function x2(t,e){const n=De(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),UT(n)?FT(n):wu(n).r_()&&VT(n,e))}function LT(t,e){const n=De(t),r=wu(n);n.N_.delete(e),r.r_()&&_2(n,e),n.N_.size===0&&(r.r_()?r.o_():wl(n)&&n.q_.set("Unknown"))}function VT(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wu(t).A_(e)}function _2(t,e){t.Q_.xe(e),wu(t).R_(e)}function FT(t){t.Q_=new xte({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),wu(t).start(),t.q_.v_()}function UT(t){return wl(t)&&!wu(t).n_()&&t.N_.size>0}function wl(t){return De(t).L_.size===0}function E2(t){t.Q_=void 0}async function xne(t){t.q_.set("Online")}async function _ne(t){t.N_.forEach((e,n)=>{VT(t,e)})}async function Ene(t,e){E2(t),UT(t)?(t.q_.M_(e),FT(t)):t.q_.set("Unknown")}async function Tne(t,e,n){if(t.q_.set("Online"),e instanceof a2&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hg(t,r)}else if(e instanceof sm?t.Q_.Ke(e):e instanceof o2?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Me.min()))try{const r=await y2(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.N_.get(c);u&&i.N_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.N_.get(l);if(!u)return;i.N_.set(l,u.withResumeToken(In.EMPTY_BYTE_STRING,u.snapshotVersion)),_2(i,l);const d=new bo(u.target,l,c,u.sequenceNumber);VT(i,d)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ge("RemoteStore","Failed to raise snapshot:",r),await hg(t,r)}}async function hg(t,e,n){if(!gf(e))throw e;t.L_.add(1),await wf(t),t.q_.set("Offline"),n||(n=()=>y2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ge("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await zy(t)})}function T2(t,e){return e().catch(n=>hg(t,n,e))}async function Ky(t){const e=De(t),n=Yo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;bne(e);)try{const s=await ane(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,Sne(e,s)}catch(s){await hg(e,s)}b2(e)&&S2(e)}function bne(t){return wl(t)&&t.O_.length<10}function Sne(t,e){t.O_.push(e);const n=Yo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function b2(t){return wl(t)&&!Yo(t).n_()&&t.O_.length>0}function S2(t){Yo(t).start()}async function Ine(t){Yo(t).p_()}async function Ane(t){const e=Yo(t);for(const n of t.O_)e.m_(n.mutations)}async function Cne(t,e,n){const r=t.O_.shift(),s=NT.from(r,e,n);await T2(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Ky(t)}async function Rne(t,e){e&&Yo(t).V_&&await async function(r,s){if(function(o){return yte(o)&&o!==Y.ABORTED}(s.code)){const i=r.O_.shift();Yo(r).s_(),await T2(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Ky(r)}}(t,e),b2(t)&&S2(t)}async function R1(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const r=wl(n);n.L_.add(3),await wf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await zy(n)}async function Pne(t,e){const n=De(t);e?(n.L_.delete(2),await zy(n)):e||(n.L_.add(2),await wf(n),n.q_.set("Unknown"))}function wu(t){return t.K_||(t.K_=function(n,r,s){const i=De(n);return i.w_(),new mne(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:xne.bind(null,t),Ro:_ne.bind(null,t),mo:Ene.bind(null,t),d_:Tne.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),UT(t)?FT(t):t.q_.set("Unknown")):(await t.K_.stop(),E2(t))})),t.K_}function Yo(t){return t.U_||(t.U_=function(n,r,s){const i=De(n);return i.w_(),new gne(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Ine.bind(null,t),mo:Rne.bind(null,t),f_:Ane.bind(null,t),g_:Cne.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Ky(t)):(await t.U_.stop(),t.O_.length>0&&(ge("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new BT(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $T(t,e){if(ki("AsyncQueue",`${e}: ${t}`),gf(t))return new be(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Se.comparator(n.key,r.key):(n,r)=>Se.comparator(n.key,r.key),this.keyedMap=ld(),this.sortedSet=new Bt(this.comparator)}static emptySet(e){return new gc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof gc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new gc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(){this.W_=new Bt(Se.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ne():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Xc{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Xc(e,n,gc.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ly(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nne{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Dne{constructor(){this.queries=N1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=De(n),i=s.queries;s.queries=N1(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new be(Y.ABORTED,"Firestore shutting down"))}}function N1(){return new vu(t=>HL(t),Ly)}async function I2(t,e){const n=De(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new Nne,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=$T(o,`Initialization of query '${jl(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&zT(n)}async function A2(t,e){const n=De(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function kne(t,e){const n=De(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&zT(n)}function Mne(t,e,n){const r=De(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function zT(t){t.Y_.forEach(e=>{e.next()})}var Rx,D1;(D1=Rx||(Rx={})).ea="default",D1.Cache="cache";class C2{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Xc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Xc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Rx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e){this.key=e}}class P2{constructor(e){this.key=e}}class One{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Xe(),this.mutatedKeys=Xe(),this.Aa=qL(e),this.Ra=new gc(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new P1,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,d)=>{const p=s.get(u),g=Vy(this.query,d)?d:null,w=!!p&&this.mutatedKeys.has(p.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let _=!1;p&&g?p.data.isEqual(g.data)?w!==v&&(r.track({type:3,doc:g}),_=!0):this.ga(p,g)||(r.track({type:2,doc:g}),_=!0,(l&&this.Aa(g,l)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),_=!0):p&&!g&&(r.track({type:1,doc:p}),_=!0,(l||c)&&(a=!0)),_&&(g?(o=o.add(g),i=v?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,d)=>function(g,w){const v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne()}};return v(g)-v(w)}(u.type,d.type)||this.Aa(u.doc,d.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Xc(this.query,e.Ra,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new P1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Xe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new P2(r))}),this.da.forEach(r=>{e.has(r)||n.push(new R2(r))}),n}ba(e){this.Ta=e.Ts,this.da=Xe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Xc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class jne{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Lne{constructor(e){this.key=e,this.va=!1}}class Vne{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new vu(a=>HL(a),Ly),this.Ma=new Map,this.xa=new Set,this.Oa=new Bt(Se.comparator),this.Na=new Map,this.La=new MT,this.Ba={},this.ka=new Map,this.qa=Yc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Fne(t,e,n=!0){const r=j2(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await N2(r,e,n,!0),s}async function Une(t,e){const n=j2(t);await N2(n,e,!0,!1)}async function N2(t,e,n,r){const s=await lne(t.localStore,Ks(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await Bne(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&x2(t.remoteStore,s),a}async function Bne(t,e,n,r,s){t.Ka=(d,p,g)=>async function(v,_,x,y){let b=_.view.ma(x);b.ns&&(b=await I1(v.localStore,_.query,!1).then(({documents:A})=>_.view.ma(A,b)));const I=y&&y.targetChanges.get(_.targetId),D=y&&y.targetMismatches.get(_.targetId)!=null,O=_.view.applyChanges(b,v.isPrimaryClient,I,D);return M1(v,_.targetId,O.wa),O.snapshot}(t,d,p,g);const i=await I1(t.localStore,e,!0),o=new One(e,i.Ts),a=o.ma(i.documents),l=vf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);M1(t,n,c.wa);const u=new jne(e,n,o);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function $ne(t,e,n){const r=De(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!Ly(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Cx(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&LT(r.remoteStore,s.targetId),Px(r,s.targetId)}).catch(mf)):(Px(r,s.targetId),await Cx(r.localStore,s.targetId,!0))}async function zne(t,e){const n=De(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),LT(n.remoteStore,r.targetId))}async function Kne(t,e,n){const r=Xne(t);try{const s=await function(o,a){const l=De(o),c=fn.now(),u=a.reduce((g,w)=>g.add(w.key),Xe());let d,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=Mi(),v=Xe();return l.cs.getEntries(g,u).next(_=>{w=_,w.forEach((x,y)=>{y.isValidDocument()||(v=v.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,w)).next(_=>{d=_;const x=[];for(const y of a){const b=dte(y,d.get(y.key).overlayedDocument);b!=null&&x.push(new vl(y.key,b,VL(b.value.mapValue),_i.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,x,a)}).next(_=>{p=_;const x=_.applyToLocalDocumentSet(d,v);return l.documentOverlayCache.saveOverlays(g,_.batchId,x)})}).then(()=>({batchId:p.batchId,changes:QL(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Bt(ut)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,s.batchId,n),await xf(r,s.changes),await Ky(r.remoteStore)}catch(s){const i=$T(s,"Failed to persist write");n.reject(i)}}async function D2(t,e){const n=De(t);try{const r=await ine(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(vt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?vt(o.va):s.removedDocuments.size>0&&(vt(o.va),o.va=!1))}),await xf(n,r,e)}catch(r){await mf(r)}}function k1(t,e,n){const r=De(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=De(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const p of d.j_)p.Z_(a)&&(c=!0)}),c&&zT(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Wne(t,e,n){const r=De(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new Bt(Se.comparator);o=o.insert(i,Vn.newNoDocument(i,Me.min()));const a=Xe().add(i),l=new By(Me.min(),new Map,new Bt(ut),o,a);await D2(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),KT(r)}else await Cx(r.localStore,e,!1).then(()=>Px(r,e,n)).catch(mf)}async function Hne(t,e){const n=De(t),r=e.batch.batchId;try{const s=await sne(n.localStore,e);M2(n,r,null),k2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xf(n,s)}catch(s){await mf(s)}}async function qne(t,e,n){const r=De(t);try{const s=await function(o,a){const l=De(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(vt(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);M2(r,e,n),k2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xf(r,s)}catch(s){await mf(s)}}function k2(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function M2(t,e,n){const r=De(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Px(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||O2(t,r)})}function O2(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(LT(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),KT(t))}function M1(t,e,n){for(const r of n)r instanceof R2?(t.La.addReference(r.key,e),Gne(t,r)):r instanceof P2?(ge("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||O2(t,r.key)):Ne()}function Gne(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ge("SyncEngine","New document in limbo: "+n),t.xa.add(r),KT(t))}function KT(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Se(kt.fromString(e)),r=t.qa.next();t.Na.set(r,new Lne(n)),t.Oa=t.Oa.insert(n,r),x2(t.remoteStore,new bo(Ks(jy(n.path)),r,"TargetPurposeLimboResolution",bT.oe))}}async function xf(t,e,n){const r=De(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){s.push(c);const d=jT.Wi(l.targetId,c);i.push(d)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,c){const u=De(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Q.forEach(c,p=>Q.forEach(p.$i,g=>u.persistence.referenceDelegate.addReference(d,p.targetId,g)).next(()=>Q.forEach(p.Ui,g=>u.persistence.referenceDelegate.removeReference(d,p.targetId,g)))))}catch(d){if(!gf(d))throw d;ge("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const p=d.targetId;if(!d.fromCache){const g=u.os.get(p),w=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(w);u.os=u.os.insert(p,v)}}}(r.localStore,i))}async function Qne(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const r=await g2(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new be(Y.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xf(n,r.hs)}}function Yne(t,e){const n=De(t),r=n.Na.get(e);if(r&&r.va)return Xe().add(r.key);{let s=Xe();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function j2(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=D2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yne.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Wne.bind(null,e),e.Ca.d_=kne.bind(null,e.eventManager),e.Ca.$a=Mne.bind(null,e.eventManager),e}function Xne(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hne.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qne.bind(null,e),e}class O1{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=$y(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return rne(this.persistence,new tne,e.initialUser,this.serializer)}createPersistence(e){return new Jte(OT.Zr,this.serializer)}createSharedClientState(e){return new une}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Jne{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>k1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Qne.bind(null,this.syncEngine),await Pne(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Dne}()}createDatastore(e){const n=$y(e.databaseInfo.databaseId),r=function(i){return new pne(i)}(e.databaseInfo);return function(i,o,a,l){return new yne(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new wne(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>k1(this.syncEngine,n,0),function(){return C1.D()?new C1:new dne}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,u){const d=new Vne(s,i,o,a,l,c);return u&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=De(s);ge("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await wf(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):ki("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zne{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=jn.UNAUTHENTICATED,this.clientId=OL.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{ge("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(ge("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new be(Y.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$T(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Cw(t,e){t.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await g2(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function j1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await tre(t);ge("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>R1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>R1(e.remoteStore,s)),t._onlineComponents=e}function ere(t){return t.name==="FirebaseError"?t.code===Y.FAILED_PRECONDITION||t.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function tre(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await Cw(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!ere(n))throw n;Hc("Error using user provided cache. Falling back to memory cache: "+n),await Cw(t,new O1)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),await Cw(t,new O1);return t._offlineComponents}async function WT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),await j1(t,t._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),await j1(t,new Jne))),t._onlineComponents}function nre(t){return WT(t).then(e=>e.syncEngine)}function rre(t){return WT(t).then(e=>e.datastore)}async function Nx(t){const e=await WT(t),n=e.eventManager;return n.onListen=Fne.bind(null,e.syncEngine),n.onUnlisten=$ne.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Une.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=zne.bind(null,e.syncEngine),n}function sre(t,e,n={}){const r=new xi;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new L2({next:p=>{o.enqueueAndForget(()=>A2(i,d));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new be(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?c.reject(new be(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),d=new C2(jy(a.path),u,{includeMetadataChanges:!0,_a:!0});return I2(i,d)}(await Nx(t),t.asyncQueue,e,n,r)),r.promise}function ire(t,e,n){const r=new xi;return t.asyncQueue.enqueueAndForget(async()=>{try{const s=await rre(t);r.resolve(async function(o,a,l){var c;const u=De(o),{request:d,ut:p,parent:g}=Nte(u.serializer,Xee(a),l);u.connection.Fo||delete d.parent;const w=(await u.Lo("RunAggregationQuery",u.serializer.databaseId,g,d,1)).filter(_=>!!_.result);vt(w.length===1);const v=(c=w[0].result)===null||c===void 0?void 0:c.aggregateFields;return Object.keys(v).reduce((_,x)=>(_[p[x]]=v[x],_),{})}(s,e,n))}catch(s){r.reject(s)}}),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(t,e,n){if(!n)throw new be(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ore(t,e,n,r){if(e===!0&&r===!0)throw new be(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function V1(t){if(!Se.isDocumentKey(t))throw new be(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function F1(t){if(Se.isDocumentKey(t))throw new be(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function HT(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ne()}function Ei(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=HT(t);throw new be(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new be(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new be(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ore("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=V2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new be(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new be(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new be(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wy{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new be(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new be(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new vee;switch(r.type){case"firstParty":return new Eee(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=L1.get(n);r&&(ge("ComponentProvider","Removing Datastore"),L1.delete(n),r.terminate())}(this),Promise.resolve()}}function are(t,e,n,r={}){var s;const i=(t=Ei(t,Wy))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Hc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=jn.MOCK_USER;else{a=lD(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new be(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new jn(c)}t._authCredentials=new wee(new ML(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let U2=class B2{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new B2(this.firestore,e,this._query)}};class mr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mr(this.firestore,e,this._key)}}class jo extends U2{constructor(e,n,r){super(e,n,jy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mr(this.firestore,null,new Se(e))}withConverter(e){return new jo(this.firestore,e,this._path)}}function lre(t,e,...n){if(t=Zt(t),F2("collection","path",e),t instanceof Wy){const r=kt.fromString(e,...n);return F1(r),new jo(t,null,r)}{if(!(t instanceof mr||t instanceof jo))throw new be(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(kt.fromString(e,...n));return F1(r),new jo(t.firestore,null,r)}}function qT(t,e,...n){if(t=Zt(t),arguments.length===1&&(e=OL.newId()),F2("doc","path",e),t instanceof Wy){const r=kt.fromString(e,...n);return V1(r),new mr(t,null,new Se(r))}{if(!(t instanceof mr||t instanceof jo))throw new be(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(kt.fromString(e,...n));return V1(r),new mr(t.firestore,t instanceof jo?t.converter:null,new Se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cre{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new v2(this,"async_queue_retry"),this.Eu=()=>{const n=Aw();n&&ge("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=Aw();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=Aw();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new xi;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!gf(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ki("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const s=BT.createAndSchedule(this,e,n,r,i=>this.Vu(i));return this.lu.push(s),s}du(){this.hu&&Ne()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}function B1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Jc extends Wy{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new cre}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||$2(this),this._firestoreClient.terminate()}}function ure(t,e){const n=typeof t=="object"?t:Wg(),r=typeof t=="string"?t:"(default)",s=ea(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=iD("firestore");i&&are(s,...i)}return s}function Hy(t){return t._firestoreClient||$2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function $2(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,u){return new jee(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,V2(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new Zne(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dre{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class hre{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zc(In.fromBase64String(e))}catch(n){throw new be(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zc(In.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new En(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ut(this._lat,e._lat)||ut(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fre=/^__.*__$/;class pre{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vl(e,this.data,this.fieldMask,n,this.fieldTransforms):new yf(e,this.data,n,this.fieldTransforms)}}function K2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne()}}class XT{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.yu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new XT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.vu(e),s}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.yu(),s}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return fg(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(K2(this.wu)&&fre.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class mre{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$y(e)}Nu(e,n,r,s=!1){return new XT({wu:e,methodName:n,Ou:r,path:En.emptyPath(),Du:!1,xu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gre(t){const e=t._freezeSettings(),n=$y(t._databaseId);return new mre(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yre(t,e,n,r,s,i={}){const o=t.Nu(i.merge||i.mergeFields?2:0,e,n,s);G2("Data must be an object, but it was:",o,r);const a=H2(r,o);let l,c;if(i.merge)l=new fs(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const d of i.mergeFields){const p=Q2(e,d,n);if(!o.contains(p))throw new be(Y.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);wre(u,p)||u.push(p)}l=new fs(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new pre(new Wr(a),l,c)}function W2(t,e){if(q2(t=Zt(t)))return G2("Unsupported field value:",e,t),H2(t,e);if(t instanceof z2)return function(r,s){if(!K2(s.wu))throw s.Mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=W2(a,s.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Zt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ite(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=fn.fromDate(r);return{timestampValue:dg(s.serializer,i)}}if(r instanceof fn){const i=new fn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dg(s.serializer,i)}}if(r instanceof QT)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zc)return{bytesValue:l2(s.serializer,r._byteString)};if(r instanceof mr){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:kT(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof YT)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return PT(a.serializer,l)})}}}}}}(r,s);throw s.Mu(`Unsupported field value: ${HT(r)}`)}(t,e)}function H2(t,e){const n={};return jL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yu(t,(r,s)=>{const i=W2(s,e.bu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function q2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof fn||t instanceof QT||t instanceof Zc||t instanceof mr||t instanceof z2||t instanceof YT)}function G2(t,e,n){if(!q2(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=HT(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function Q2(t,e,n){if((e=Zt(e))instanceof GT)return e._internalPath;if(typeof e=="string")return Y2(t,e);throw fg("Field path arguments must be of type string or ",t,!1,void 0,n)}const vre=new RegExp("[~\\*/\\[\\]]");function Y2(t,e,n){if(e.search(vre)>=0)throw fg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new GT(...e.split("."))._internalPath}catch{throw fg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fg(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new be(Y.INVALID_ARGUMENT,a+t+l)}function wre(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new mr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xre(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(J2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xre extends X2{data(){return super.data()}}function J2(t,e){return typeof e=="string"?Y2(t,e):e instanceof GT?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _re(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ere{convertValue(e,n="none"){switch(sl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(rl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return yu(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Yt(o.doubleValue));return new YT(i)}convertGeoPoint(e){return new QT(Yt(e.latitude),Yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=IT(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xh(e));default:return null}}convertTimestamp(e){const n=Qo(e);return new fn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=kt.fromString(e);vt(m2(r));const s=new _h(r.get(1),r.get(3)),i=new Se(r.popFirst(5));return s.isEqual(n)||ki(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tre(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function bre(t){return new dre("avg",Q2("average",t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Z2 extends X2{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new im(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(J2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class im extends Z2{data(e={}){return super.data(e)}}class Sre{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ud(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new im(this._firestore,this._userDataWriter,r.key,r,new ud(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new im(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ud(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new im(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ud(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Ire(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Ire(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Are(t){t=Ei(t,mr);const e=Ei(t.firestore,Jc);return sre(Hy(e),t._key).then(n=>eV(e,t,n))}class JT extends Ere{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mr(this.firestore,null,n)}}function Cre(t,e,n){t=Ei(t,mr);const r=Ei(t.firestore,Jc),s=Tre(t.converter,e,n);return Pre(r,[yre(gre(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,_i.none())])}function Rre(t,...e){var n,r,s;t=Zt(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||B1(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(B1(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(s=d.complete)===null||s===void 0?void 0:s.bind(d)}let l,c,u;if(t instanceof mr)c=Ei(t.firestore,Jc),u=jy(t._key.path),l={next:d=>{e[o]&&e[o](eV(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Ei(t,U2);c=Ei(d.firestore,Jc),u=d._query;const p=new JT(c);l={next:g=>{e[o]&&e[o](new Sre(c,p,d,g))},error:e[o+1],complete:e[o+2]},_re(t._query)}return function(p,g,w,v){const _=new L2(v),x=new C2(g,_,w);return p.asyncQueue.enqueueAndForget(async()=>I2(await Nx(p),x)),()=>{_.za(),p.asyncQueue.enqueueAndForget(async()=>A2(await Nx(p),x))}}(Hy(c),u,a,l)}function Pre(t,e){return function(r,s){const i=new xi;return r.asyncQueue.enqueueAndForget(async()=>Kne(await nre(r),s,i)),i.promise}(Hy(t),e)}function eV(t,e,n){const r=n.docs.get(e._key),s=new JT(t);return new Z2(t,s,e._key,r,new ud(n.hasPendingWrites,n.fromCache),e.converter)}function Nre(t,e){const n=Ei(t.firestore,Jc),r=Hy(n),s=Mee(e,(i,o)=>new mte(o,i.aggregateType,i._internalFieldPath));return ire(r,t._query,s).then(i=>function(a,l,c){const u=new JT(a);return new hre(l,u,c)}(n,t,i))}(function(e,n=!0){(function(s){gu=s})(pl),ws(new es("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Jc(new xee(r.getProvider("auth-internal")),new bee(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new be(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _h(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),fr(i1,"4.7.2",e),fr(i1,"4.7.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV="firebasestorage.googleapis.com",nV="storageBucket",Dre=2*60*1e3,kre=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt extends Mr{constructor(e,n,r=0){super(Rw(e),`Firebase Storage: ${n} (${Rw(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Gt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Rw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var qt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(qt||(qt={}));function Rw(t){return"storage/"+t}function ZT(){const t="An unknown error occurred, please check the error payload for server response.";return new Gt(qt.UNKNOWN,t)}function Mre(t){return new Gt(qt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Ore(t){return new Gt(qt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function jre(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Gt(qt.UNAUTHENTICATED,t)}function Lre(){return new Gt(qt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Vre(t){return new Gt(qt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Fre(){return new Gt(qt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ure(){return new Gt(qt.CANCELED,"User canceled the upload/download.")}function Bre(t){return new Gt(qt.INVALID_URL,"Invalid URL '"+t+"'.")}function $re(t){return new Gt(qt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function zre(){return new Gt(qt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+nV+"' property when initializing the app?")}function Kre(){return new Gt(qt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Wre(){return new Gt(qt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Hre(t){return new Gt(qt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Dx(t){return new Gt(qt.INVALID_ARGUMENT,t)}function rV(){return new Gt(qt.APP_DELETED,"The Firebase app was deleted.")}function qre(t){return new Gt(qt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Nd(t,e){return new Gt(qt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Qu(t){throw new Gt(qt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=br.makeFromUrl(e,n)}catch{return new br(e,"")}if(r.path==="")return r;throw $re(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(I){I.path_=decodeURIComponent(I.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${d}/${u}/b/${s}/o${p}`,"i"),w={bucket:1,path:3},v=n===tV?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",x=new RegExp(`^https?://${v}/${s}/${_}`,"i"),b=[{regex:a,indices:l,postModify:i},{regex:g,indices:w,postModify:c},{regex:x,indices:{bucket:1,path:2},postModify:c}];for(let I=0;I<b.length;I++){const D=b[I],O=D.regex.exec(e);if(O){const A=O[D.indices.bucket];let T=O[D.indices.path];T||(T=""),r=new br(A,T),D.postModify(r);break}}if(r==null)throw Bre(e);return r}}class Gre{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qre(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(..._){c||(c=!0,e.apply(null,_))}function d(_){s=setTimeout(()=>{s=null,t(g,l())},_)}function p(){i&&clearTimeout(i)}function g(_,...x){if(c){p();return}if(_){p(),u.call(null,_,...x);return}if(l()||o){p(),u.call(null,_,...x);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,d(b)}let w=!1;function v(_){w||(w=!0,p(),!c&&(s!==null?(_||(a=2),clearTimeout(s),d(0)):_||(a=1)))}return d(0),i=setTimeout(()=>{o=!0,v(!0)},n),v}function Yre(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xre(t){return t!==void 0}function Jre(t){return typeof t=="object"&&!Array.isArray(t)}function eb(t){return typeof t=="string"||t instanceof String}function $1(t){return tb()&&t instanceof Blob}function tb(){return typeof Blob<"u"}function z1(t,e,n,r){if(r<e)throw Dx(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Dx(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function sV(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var qa;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(qa||(qa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zre(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ese{constructor(e,n,r,s,i,o,a,l,c,u,d,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,w)=>{this.resolve_=g,this.reject_=w,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Sp(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===qa.NO_ERROR,l=i.getStatus();if(!a||Zre(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===qa.ABORT;r(!1,new Sp(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Sp(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Xre(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=ZT();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?rV():Ure();o(l)}else{const l=Fre();o(l)}};this.canceled_?n(!1,new Sp(!1,null,!0)):this.backoffId_=Qre(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Yre(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Sp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function tse(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function nse(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function rse(t,e){e&&(t["X-Firebase-GMPID"]=e)}function sse(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function ise(t,e,n,r,s,i,o=!0){const a=sV(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return rse(c,e),tse(c,n),nse(c,i),sse(c,r),new ese(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ose(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function ase(...t){const e=ose();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(tb())return new Blob(t);throw new Gt(qt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function lse(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cse(t){if(typeof atob>"u")throw Hre("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Pw{constructor(e,n){this.data=e,this.contentType=n||null}}function use(t,e){switch(t){case js.RAW:return new Pw(iV(e));case js.BASE64:case js.BASE64URL:return new Pw(oV(t,e));case js.DATA_URL:return new Pw(hse(e),fse(e))}throw ZT()}function iV(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function dse(t){let e;try{e=decodeURIComponent(t)}catch{throw Nd(js.DATA_URL,"Malformed data URL.")}return iV(e)}function oV(t,e){switch(t){case js.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Nd(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case js.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Nd(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=cse(e)}catch(s){throw s.message.includes("polyfill")?s:Nd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class aV{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Nd(js.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=pse(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function hse(t){const e=new aV(t);return e.base64?oV(js.BASE64,e.rest):dse(e.rest)}function fse(t){return new aV(t).contentType}function pse(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n){let r=0,s="";$1(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if($1(this.data_)){const r=this.data_,s=lse(r,e,n);return s===null?null:new co(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new co(r,!0)}}static getBlob(...e){if(tb()){const n=e.map(r=>r instanceof co?r.data_:r);return new co(ase.apply(null,n))}else{const n=e.map(o=>eb(o)?use(js.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new co(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(t){let e;try{e=JSON.parse(t)}catch{return null}return Jre(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mse(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function gse(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function cV(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yse(t,e){return e}class qn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||yse}}let Ip=null;function vse(t){return!eb(t)||t.length<2?t:cV(t)}function nb(){if(Ip)return Ip;const t=[];t.push(new qn("bucket")),t.push(new qn("generation")),t.push(new qn("metageneration")),t.push(new qn("name","fullPath",!0));function e(i,o){return vse(o)}const n=new qn("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new qn("size");return s.xform=r,t.push(s),t.push(new qn("timeCreated")),t.push(new qn("updated")),t.push(new qn("md5Hash",null,!0)),t.push(new qn("cacheControl",null,!0)),t.push(new qn("contentDisposition",null,!0)),t.push(new qn("contentEncoding",null,!0)),t.push(new qn("contentLanguage",null,!0)),t.push(new qn("contentType",null,!0)),t.push(new qn("metadata","customMetadata",!0)),Ip=t,Ip}function wse(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new br(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function xse(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return wse(r,t),r}function uV(t,e,n){const r=lV(e);return r===null?null:xse(t,r,n)}function _se(t,e,n,r){const s=lV(e);if(s===null||!eb(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(c=>{const u=t.bucket,d=t.fullPath,p="/b/"+o(u)+"/o/"+o(d),g=xu(p,n,r),w=sV({alt:"media",token:c});return g+w})[0]}function Ese(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class _f{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(t){if(!t)throw ZT()}function hV(t,e){function n(r,s){const i=uV(t,s,e);return dV(i!==null),i}return n}function Tse(t,e){function n(r,s){const i=uV(t,s,e);return dV(i!==null),_se(i,s,t.host,t._protocol)}return n}function fV(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=Lre():s=jre():n.getStatus()===402?s=Ore(t.bucket):n.getStatus()===403?s=Vre(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function qy(t){const e=fV(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=Mre(t.path)),i.serverResponse=s.serverResponse,i}return n}function bse(t,e,n){const r=e.fullServerUrl(),s=xu(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new _f(s,i,hV(t,n),o);return a.errorHandler=qy(e),a}function Sse(t,e,n){const r=e.fullServerUrl(),s=xu(r,t.host,t._protocol)+"?alt=media",i="GET",o=t.maxOperationRetryTime,a=new _f(s,i,(l,c)=>c,o);return a.errorHandler=qy(e),a}function Ise(t,e,n){const r=e.fullServerUrl(),s=xu(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new _f(s,i,Tse(t,n),o);return a.errorHandler=qy(e),a}function Ase(t,e){const n=e.fullServerUrl(),r=xu(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(l,c){}const a=new _f(r,s,o,i);return a.successCodes=[200,204],a.errorHandler=qy(e),a}function Cse(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Rse(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Cse(null,e)),r}function Pse(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let I=0;I<2;I++)b=b+Math.random().toString().slice(2);return b}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=Rse(e,r,s),u=Ese(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,p=`\r
--`+l+"--",g=co.getBlob(d,r,p);if(g===null)throw Kre();const w={name:c.fullPath},v=xu(i,t.host,t._protocol),_="POST",x=t.maxUploadRetryTime,y=new _f(v,_,hV(t,n),x);return y.urlParams=w,y.headers=o,y.body=g.uploadData(),y.errorHandler=fV(e),y}class pV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=qa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=qa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=qa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Qu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Qu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Qu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Qu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Qu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Nse extends pV{initXhr(){this.xhr_.responseType="text"}}function Gy(){return new Nse}class Dse extends pV{initXhr(){this.xhr_.responseType="blob"}}function kse(){return new Dse}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n){this._service=e,n instanceof br?this._location=n:this._location=br.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new il(e,n)}get root(){const e=new br(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return cV(this._location.path)}get storage(){return this._service}get parent(){const e=mse(this._location.path);if(e===null)return null;const n=new br(this._location.bucket,e);return new il(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw qre(e)}}function Mse(t,e){t._throwIfRoot("getBlob");const n=Sse(t.storage,t._location);return t.storage.makeRequestWithTokens(n,kse).then(r=>r)}function Ose(t,e,n){t._throwIfRoot("uploadBytes");const r=Pse(t.storage,t._location,nb(),new co(e,!0),n);return t.storage.makeRequestWithTokens(r,Gy).then(s=>({metadata:s,ref:t}))}function jse(t){t._throwIfRoot("getMetadata");const e=bse(t.storage,t._location,nb());return t.storage.makeRequestWithTokens(e,Gy)}function Lse(t){t._throwIfRoot("getDownloadURL");const e=Ise(t.storage,t._location,nb());return t.storage.makeRequestWithTokens(e,Gy).then(n=>{if(n===null)throw Wre();return n})}function Vse(t){t._throwIfRoot("deleteObject");const e=Ase(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Gy)}function Fse(t,e){const n=gse(t._location.path,e),r=new br(t._location.bucket,n);return new il(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Use(t){return/^[A-Za-z]+:\/\//.test(t)}function Bse(t,e){return new il(t,e)}function mV(t,e){if(t instanceof rb){const n=t;if(n._bucket==null)throw zre();const r=new il(n,n._bucket);return e!=null?mV(r,e):r}else return e!==void 0?Fse(t,e):t}function $se(t,e){if(e&&Use(e)){if(t instanceof rb)return Bse(t,e);throw Dx("To use ref(service, url), the first argument must be a Storage instance.")}else return mV(t,e)}function K1(t,e){const n=e==null?void 0:e[nV];return n==null?null:br.makeFromBucketSpec(n,t)}function zse(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:lD(s,t.app.options.projectId))}class rb{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=tV,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Dre,this._maxUploadRetryTime=kre,this._requests=new Set,s!=null?this._bucket=br.makeFromBucketSpec(s,this._host):this._bucket=K1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=br.makeFromBucketSpec(this._url,e):this._bucket=K1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){z1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){z1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new il(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new Gre(rV());{const o=ise(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const W1="@firebase/storage",H1="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV="storage";function Kse(t,e,n){return t=Zt(t),Ose(t,e,n)}function Wse(t){return t=Zt(t),jse(t)}function Hse(t){return t=Zt(t),Lse(t)}function qse(t){return t=Zt(t),Vse(t)}function Qy(t,e){return t=Zt(t),$se(t,e)}function Gse(t=Wg(),e){t=Zt(t);const r=ea(t,gV).getImmediate({identifier:e}),s=iD("storage");return s&&Qse(r,...s),r}function Qse(t,e,n,r={}){zse(t,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yse(t,e){return t=Zt(t),Mse(t)}function Xse(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new rb(n,r,s,e,pl)}function Jse(){ws(new es(gV,Xse,"PUBLIC").setMultipleInstances(!0)),fr(W1,H1,""),fr(W1,H1,"esm2017")}Jse();const yV="@firebase/installations",sb="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV=1e4,wV=`w:${sb}`,xV="FIS_v2",Zse="https://firebaseinstallations.googleapis.com/v1",eie=60*60*1e3,tie="installations",nie="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rie={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ol=new fl(tie,nie,rie);function _V(t){return t instanceof Mr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV({projectId:t}){return`${Zse}/projects/${t}/installations`}function TV(t){return{token:t.token,requestStatus:2,expiresIn:iie(t.expiresIn),creationTime:Date.now()}}async function bV(t,e){const r=(await e.json()).error;return ol.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function SV({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function sie(t,{refreshToken:e}){const n=SV(t);return n.append("Authorization",oie(e)),n}async function IV(t){const e=await t();return e.status>=500&&e.status<600?t():e}function iie(t){return Number(t.replace("s","000"))}function oie(t){return`${xV} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aie({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=EV(t),s=SV(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:xV,appId:t.appId,sdkVersion:wV},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await IV(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:TV(c.authToken)}}else throw await bV("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AV(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lie(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cie=/^[cdef][\w-]{21}$/,kx="";function uie(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=die(t);return cie.test(n)?n:kx}catch{return kx}}function die(t){return lie(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV=new Map;function RV(t,e){const n=Yy(t);PV(n,e),hie(n,e)}function PV(t,e){const n=CV.get(t);if(n)for(const r of n)r(e)}function hie(t,e){const n=fie();n&&n.postMessage({key:t,fid:e}),pie()}let Da=null;function fie(){return!Da&&"BroadcastChannel"in self&&(Da=new BroadcastChannel("[Firebase] FID Change"),Da.onmessage=t=>{PV(t.data.key,t.data.fid)}),Da}function pie(){CV.size===0&&Da&&(Da.close(),Da=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mie="firebase-installations-database",gie=1,al="firebase-installations-store";let Nw=null;function ib(){return Nw||(Nw=pD(mie,gie,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(al)}}})),Nw}async function pg(t,e){const n=Yy(t),s=(await ib()).transaction(al,"readwrite"),i=s.objectStore(al),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&RV(t,e.fid),e}async function NV(t){const e=Yy(t),r=(await ib()).transaction(al,"readwrite");await r.objectStore(al).delete(e),await r.done}async function Xy(t,e){const n=Yy(t),s=(await ib()).transaction(al,"readwrite"),i=s.objectStore(al),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&RV(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ob(t){let e;const n=await Xy(t.appConfig,r=>{const s=yie(r),i=vie(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===kx?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function yie(t){const e=t||{fid:uie(),registrationStatus:0};return DV(e)}function vie(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(ol.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=wie(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:xie(t)}:{installationEntry:e}}async function wie(t,e){try{const n=await aie(t,e);return pg(t.appConfig,n)}catch(n){throw _V(n)&&n.customData.serverCode===409?await NV(t.appConfig):await pg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function xie(t){let e=await q1(t.appConfig);for(;e.registrationStatus===1;)await AV(100),e=await q1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await ob(t);return r||n}return e}function q1(t){return Xy(t,e=>{if(!e)throw ol.create("installation-not-found");return DV(e)})}function DV(t){return _ie(t)?{fid:t.fid,registrationStatus:0}:t}function _ie(t){return t.registrationStatus===1&&t.registrationTime+vV<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eie({appConfig:t,heartbeatServiceProvider:e},n){const r=Tie(t,n),s=sie(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:wV,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await IV(()=>fetch(r,a));if(l.ok){const c=await l.json();return TV(c)}else throw await bV("Generate Auth Token",l)}function Tie(t,{fid:e}){return`${EV(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ab(t,e=!1){let n;const r=await Xy(t.appConfig,i=>{if(!kV(i))throw ol.create("not-registered");const o=i.authToken;if(!e&&Iie(o))return i;if(o.requestStatus===1)return n=bie(t,e),i;{if(!navigator.onLine)throw ol.create("app-offline");const a=Cie(i);return n=Sie(t,a),a}});return n?await n:r.authToken}async function bie(t,e){let n=await G1(t.appConfig);for(;n.authToken.requestStatus===1;)await AV(100),n=await G1(t.appConfig);const r=n.authToken;return r.requestStatus===0?ab(t,e):r}function G1(t){return Xy(t,e=>{if(!kV(e))throw ol.create("not-registered");const n=e.authToken;return Rie(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Sie(t,e){try{const n=await Eie(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await pg(t.appConfig,r),n}catch(n){if(_V(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await NV(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await pg(t.appConfig,r)}throw n}}function kV(t){return t!==void 0&&t.registrationStatus===2}function Iie(t){return t.requestStatus===2&&!Aie(t)}function Aie(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+eie}function Cie(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Rie(t){return t.requestStatus===1&&t.requestTime+vV<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pie(t){const e=t,{installationEntry:n,registrationPromise:r}=await ob(e);return r?r.catch(console.error):ab(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nie(t,e=!1){const n=t;return await Die(n),(await ab(n,e)).token}async function Die(t){const{registrationPromise:e}=await ob(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kie(t){if(!t||!t.options)throw Dw("App Configuration");if(!t.name)throw Dw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Dw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Dw(t){return ol.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV="installations",Mie="installations-internal",Oie=t=>{const e=t.getProvider("app").getImmediate(),n=kie(e),r=ea(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},jie=t=>{const e=t.getProvider("app").getImmediate(),n=ea(e,MV).getImmediate();return{getId:()=>Pie(n),getToken:s=>Nie(n,s)}};function Lie(){ws(new es(MV,Oie,"PUBLIC")),ws(new es(Mie,jie,"PRIVATE"))}Lie();fr(yV,sb);fr(yV,sb,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="analytics",Vie="firebase_id",Fie="origin",Uie=60*1e3,Bie="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",lb="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new Kg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ie={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Cr=new fl("analytics","Analytics",$ie);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zie(t){if(!t.startsWith(lb)){const e=Cr.create("invalid-gtag-resource",{gtagURL:t});return gr.warn(e.message),""}return t}function OV(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Kie(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Wie(t,e){const n=Kie("firebase-js-sdk-policy",{createScriptURL:zie}),r=document.createElement("script"),s=`${lb}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function Hie(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function qie(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await OV(n)).find(c=>c.measurementId===s);l&&await e[l.appId]}}catch(a){gr.error(a)}t("config",s,i)}async function Gie(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await OV(n);for(const l of o){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(u)i.push(u);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){gr.error(i)}}function Qie(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await Gie(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await qie(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){gr.error(a)}}return s}function Yie(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=Qie(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function Xie(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(lb)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jie=30,Zie=1e3;class eoe{constructor(e={},n=Zie){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const jV=new eoe;function toe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function noe(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:toe(r)},i=Bie.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Cr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function roe(t,e=jV,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Cr.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Cr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new ooe;return setTimeout(async()=>{a.abort()},Uie),LV({appId:r,apiKey:s,measurementId:i},o,a,e)}async function LV(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=jV){var i;const{appId:o,measurementId:a}=t;try{await soe(r,e)}catch(l){if(a)return gr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await noe(t);return s.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!ioe(c)){if(s.deleteThrottleMetadata(o),a)return gr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const u=Number((i=c==null?void 0:c.customData)===null||i===void 0?void 0:i.httpStatus)===503?vI(n,s.intervalMillis,Jie):vI(n,s.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return s.setThrottleMetadata(o,d),gr.debug(`Calling attemptFetch again in ${u} millis`),LV(t,d,r,s)}}function soe(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Cr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function ioe(t){if(!(t instanceof Mr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class ooe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function aoe(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function loe(){if(uD())try{await dD()}catch(t){return gr.warn(Cr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return gr.warn(Cr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function coe(t,e,n,r,s,i,o){var a;const l=roe(t);l.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&gr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>gr.error(g)),e.push(l);const c=loe().then(g=>{if(g)return r.getId()}),[u,d]=await Promise.all([l,c]);Xie(i)||Wie(i,u.measurementId),s("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[Fie]="firebase",p.update=!0,d!=null&&(p[Vie]=d),s("config",u.measurementId,p),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uoe{constructor(e){this.app=e}_delete(){return delete Dd[this.app.options.appId],Promise.resolve()}}let Dd={},Q1=[];const Y1={};let kw="dataLayer",doe="gtag",X1,VV,J1=!1;function hoe(){const t=[];if(cD()&&t.push("This is a browser extension environment."),J5()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Cr.create("invalid-analytics-context",{errorInfo:e});gr.warn(n.message)}}function foe(t,e,n){hoe();const r=t.options.appId;if(!r)throw Cr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)gr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Cr.create("no-api-key");if(Dd[r]!=null)throw Cr.create("already-exists",{id:r});if(!J1){Hie(kw);const{wrappedGtag:i,gtagCore:o}=Yie(Dd,Q1,Y1,kw,doe);VV=i,X1=o,J1=!0}return Dd[r]=coe(t,Q1,Y1,e,X1,kw,n),new uoe(t)}function poe(t=Wg()){t=Zt(t);const e=ea(t,mg);return e.isInitialized()?e.getImmediate():moe(t)}function moe(t,e={}){const n=ea(t,mg);if(n.isInitialized()){const s=n.getImmediate();if(nh(e,n.getOptions()))return s;throw Cr.create("already-initialized")}return n.initialize({options:e})}function FV(t,e,n,r){t=Zt(t),aoe(VV,Dd[t.app.options.appId],e,n,r).catch(s=>gr.error(s))}const Z1="@firebase/analytics",eR="0.10.8";function goe(){ws(new es(mg,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return foe(r,s,n)},"PUBLIC")),ws(new es("analytics-internal",t,"PRIVATE")),fr(Z1,eR),fr(Z1,eR,"esm2017");function t(e){try{const n=e.getProvider(mg).getImmediate();return{logEvent:(r,s,i)=>FV(n,r,s,i)}}catch(n){throw Cr.create("interop-component-reg-failed",{reason:n})}}}goe();const yoe={apiKey:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",authDomain:"cob-chatbot.firebaseapp.com",projectId:"cob-chatbot",storageBucket:"cob-chatbot.appspot.com",messagingSenderId:"275602489097",appId:"1:275602489097:web:5c490d86e9f69e1314ddd8",measurementId:"G-65F7KP2KRQ"},cb=mD(yoe),voe=poe(cb),Jy=ure(cb),Zy=Gse(cb),Mx=async(t,e,n)=>{const r=Qy(Zy,`${e}/${n}`),s=await Kse(r,t);if(!s.metadata||s.metadata.fullPath!==r.fullPath)throw new Error(`Error uploading file ${t.name}, metadata does not exist or path does not match`);return await Hse(s.ref)},UV=async t=>{const e=Qy(Zy,t),n=await Yse(e),r=t.split("/").pop()||"unknown_file";return new File([n],r,{type:n.type})},woe=async(t,e)=>{const n=Qy(Zy,`${t}/${e}`);return await Wse(n)},xoe=async t=>{try{const e=Qy(Zy,t);await qse(e),yt("File deleted successfully!")}catch(e){e instanceof Error&&yt(e.message)}},_oe=async(t,e,n,r=!1)=>{try{const s=qT(Jy,t,e);await Cre(s,n,{merge:r})}catch(s){s instanceof Error&&yt(s.message)}},Eoe=async(t,e)=>{const n=qT(Jy,t,e),r=await Are(n);return r.exists()?r.data():null},Toe=(t,e,n)=>{try{const r=qT(Jy,t,e);return Rre(r,i=>{i.exists()?n(i.data()):(yt("No such document!"),n(null))})}catch(r){throw r}},boe=async()=>{var t;try{const e=lre(Jy,"users"),r=(t=(await Nre(e,{averageRating:bre("rating")})).data().averageRating)==null?void 0:t.toFixed(2);if(!r)throw new Error("Failed to retrieve average rating from users collection");return r}catch(e){return console.error(e),null}},BV=t=>{const{file:e}=dt(w=>w.formData),n=dt(w=>w.setFormData),r=dt(w=>w.setFile),[s,i]=m.useState(!1),[o,a]=m.useState(!1),l=m.useRef(null),c=m.useRef(null);return{file:e,setFile:r,isLinkDialogOpen:o,setIsLinkDialogOpen:a,handleInsertLink:(w,v)=>{const _=c.current;if(_){const x=_.selectionStart,y=_.selectionEnd,b=t.substring(0,x)+`<${v}>{=${w}=}`+t.substring(y);n("answer",b),_.focus(),_.setSelectionRange(x+w.length+4,x+v.length+4)}},handleFileChange:async w=>{w.target.files&&w.target.files[0]&&r(w.target.files[0])},handleRemoveFile:async()=>{e&&(n("fileUrl",null),r(null),l.current&&(l.current.value=""))},fileInputRef:l,answerTextAreaRef:c,getFileData:async w=>{try{i(!0);const v=fh(w);if(!v)return;const _=await UV(`knowledge-files/${v}`);r(_)}catch(v){v instanceof Error&&yt(v.message??"An error occured while getting file data",!0),console.error(v)}finally{i(!1)}},isFetchingFileData:s}},Soe=()=>{const t=dt(d=>d.formData),e=dt(d=>d.setFormData),{isLinkDialogOpen:n,setIsLinkDialogOpen:r,handleFileChange:s,handleInsertLink:i,handleRemoveFile:o,fileInputRef:a,answerTextAreaRef:l,getFileData:c,isFetchingFileData:u}=BV(t.answer);return m.useEffect(()=>{(async()=>{await c(t.fileUrl)})()},[t.fileUrl]),h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-fit",children:h.jsx(ky,{tooltip:oee,children:h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("label",{className:"cursor-pointer font-medium ",children:"Answer"}),h.jsx(ty,{className:"size-4 text-[#64748b] cursor-pointer"})]})})}),h.jsx(SL,{answer:t.answer,handleTextChange:e,onFileChange:s,fileRef:a,textAreaRef:l,isLinkDropDownVisible:n,setIsLinkDropDownVisible:r,onInsertLink:i}),u?h.jsx(Ce,{className:"w-full h-[70px]"}):t.file?h.jsx(IL,{file:t.file,removeFile:o}):null]})},Ioe=t=>{const{knowledgeBaseName:e,...n}=t;return{knowledgeBaseName:e,knowledgeEntry:n}},Aoe=async()=>{const{success:t,knowledgeBase:e}=await lf("/api/knowledge/base");if(!t)throw new Error("Failed to fetch knowledge collection");return e},Coe=async t=>{const{success:e,knowledgeEntry:n}=await lf(`/api/knowledge/${t}`);if(!e)throw new Error(`Failed to fetch knowledge base ${t} entry`);return n},Roe=async t=>{const{knowledgeBaseName:e,...n}=t,r={knowledgeBaseName:e,knowledgeEntries:[{...n}]},{success:s,message:i}=await sa("/api/knowledge",{},r);if(!s)throw new Error(i);return i},Poe=async t=>{const e=Ioe(t),{success:n,message:r}=await sa("/api/knowledge/entry",{},e);if(!n)throw new Error(r)},Noe=async(t,e)=>{const n={knowledgeEntryIntent:t,knowledgeEntry:e},{success:r,message:s}=await vy("/api/knowledge/entry",{},n);if(!r)throw new Error(s)},Doe=async t=>{const{knowledgeBaseName:e,newKnowledgeBaseName:n}=t,r={knowledgeBaseName:e,newKnowledgeBaseName:n},{success:s,message:i}=await vy("/api/knowledge/base",{},r);if(!s)throw new Error(i);return i},koe=async t=>{const{success:e,message:n}=await cf(`/api/knowledge/${t}`);if(!e)throw new Error(n)},Moe=async t=>{const{success:e,message:n}=await cf(`/api/knowledge/entry/${t}`);if(!e)throw new Error(n);return n},Vt=Li(t=>({knowledgeCollection:{},knowledgeBaseNameList:null,selectedKnowledgeBaseEntryList:null,selectedKnowledgeBaseName:"",selectedKnowledgeBaseItem:"",selectedKnowledgeEntry:null,selectedKnowledgeEntryIntentItem:"",selectedKnowledgeBaseArchiveItem:{id:null,name:null},selectedKnowledgeEntryArchiveItem:{id:null,name:null},updateKnowledgeCollection:e=>{t(()=>({knowledgeCollection:e}))},setKnowledgeBaseNameList:e=>{t(()=>({knowledgeBaseNameList:e}))},setSelectedKnowledgeBaseEntryList:e=>{t(()=>({selectedKnowledgeBaseEntryList:e}))},setSelectedKnowledgeBaseName:e=>{t(()=>({selectedKnowledgeBaseName:e}))},setSelectedKnowledgeBaseItem:e=>{t(()=>({selectedKnowledgeBaseItem:e}))},setSelectedKnowledgeEntry:e=>{t(()=>({selectedKnowledgeEntry:e}))},setSelectedKnowledgeEntryIntentItem:e=>t({selectedKnowledgeEntryIntentItem:e}),setSelectedKnowledgeBaseArchiveItem:e=>t({selectedKnowledgeBaseArchiveItem:e}),setSelectedKnowledgeEntryArchiveItem:e=>t({selectedKnowledgeEntryArchiveItem:e})})),Ooe="knowledge-files",tR="image",joe=async t=>{const e=`${Ooe}/${t}`;await xoe(e)},Loe=(t,e)=>{const n=new Set([...Object.keys(t),...Object.keys(e)]);return Array.from(n).reduce((r,s)=>{if(t[s]instanceof Array&&e[s]instanceof Array){t[s].forEach((a,l)=>{if(a!==e[s][l]){r[s]||(r[s]=[]);const c={index:l,value:e[s][l]};r[s].push(c)}});const i=t[s].length,o=e[s].length;if(i<o){r.newDocuments=[];for(let a=i;a<o;a++)e[s][a]&&r.newDocuments.push(e[s][a])}return r}return t[s]!==e[s]&&(r[s]=e[s]),r},{})},Voe=1,Foe=1e6;let Mw=0;function Uoe(){return Mw=(Mw+1)%Number.MAX_SAFE_INTEGER,Mw.toString()}const Ow=new Map,nR=t=>{if(Ow.has(t))return;const e=setTimeout(()=>{Ow.delete(t),kd({type:"REMOVE_TOAST",toastId:t})},Foe);Ow.set(t,e)},Boe=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Voe)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?nR(n):t.toasts.forEach(r=>{nR(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},om=[];let am={toasts:[]};function kd(t){am=Boe(am,t),om.forEach(e=>{e(am)})}function $oe({...t}){const e=Uoe(),n=s=>kd({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>kd({type:"DISMISS_TOAST",toastId:e});return kd({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function $V(){const[t,e]=m.useState(am);return m.useEffect(()=>(om.push(e),()=>{const n=om.indexOf(e);n>-1&&om.splice(n,1)}),[t]),{...t,toast:$oe,dismiss:n=>kd({type:"DISMISS_TOAST",toastId:n})}}const Vi=()=>{const{toast:t}=$V();return t},rR="knowledge-files",lm=async t=>{try{const n=(await woe(rR,t.name)).size||0,r=t.size;if(n===r)throw yt(`Knowledge file ${t.name} already exists with the same size, skipping upload`),new Error(`Knowledge file ${t.name} already exist`);yt(`File ${t.name} exists but with a different size. Uploading new file.`)}catch(e){if(e instanceof Mr&&e.code==="storage/object-not-found")return yt(`No exiting file found, uploading the file: ${t.name}`),await Mx(t,rR,t.name);throw e}},zoe=()=>{const t=Vi(),e=Vt(g=>g.selectedKnowledgeEntry),n=Vt(g=>g.setSelectedKnowledgeEntry),r=dt(g=>g.setFormData),s=dt(g=>g.formData),i=dt(g=>g.setDocuments),o=dt(g=>g.clearFormData),[a,l]=m.useState(!1);m.useEffect(()=>{if(!e)return;const{intent:g,documents:w,answer:v,fileUrl:_}=e;return r("intent",g),w.forEach((x,y)=>{i(x,y)}),r("answer",v),r("fileUrl",_),()=>{o()}},[]);const c=async g=>{const w=fh(g);return await UV(`knowledge-files/${w}`)},u=async(g,w)=>{if(!w)return await lm(g);const v=await c(w);if(v.name===g.name&&v.size===g.size)return w;if(v.name!==g.name){const x=await lm(g);return await d(w),x}return await lm(g)},d=async g=>{const w=fh(g);if(!w)return yt("Unable to extract filename from the file url",!0);await joe(w)};return{handleSubmitForm:async()=>{if(e)try{l(!0);const{knowledgeBaseName:g,file:w,...v}=s,_=Loe(e,v);"fileUrl"in _&&_.fileUrl===null&&(yt("Detected file removal, deleting from storage"),await d(e.fileUrl));let x;w&&(yt("Updating knowledge file"),x=await u(w,e.fileUrl),r("fileUrl",x??null));const y={...v,...x&&{fileUrl:x}};await Noe(e.intent,y),yt("Knowledge Entry updated successfully."),n(y),t({title:"Knowledge Entry Updated Successfully",description:rt()})}catch(g){const w=g instanceof Error?g.message:"Unknown error occurred";t({title:w,description:rt(),variant:"destructive"})}finally{l(!1)}},selectedKnowledgeEntry:e,isLoading:a}},ub=({heading:t,description:e})=>h.jsx("div",{className:"h-[450px] md:h-[600px] w-full flex justify-center items-center mt-2 pb-10",children:h.jsxs("section",{className:"flex flex-col justify-center items-center",children:[h.jsx(ty,{className:"w-12 h-12 text-blue-500 mb-4"}),h.jsx("h2",{className:"text-2xl font-semibold mb-2",children:t}),h.jsx("p",{className:"text-gray-600 mb-4",children:e})]})}),xl=()=>h.jsx(UW,{className:"mr-2 size-5 animate-spin"}),Koe=()=>{const{handleSubmitForm:t,selectedKnowledgeEntry:e,isLoading:n}=zoe(),r=Et(s=>s.admin);return e?h.jsx(lL,{value:"entryDetails",className:"mt-2",children:h.jsx("div",{className:"h-[450px] md:h-[600px] w-full overflow-y-auto text-sm scrollbar-slim",children:h.jsxs("div",{className:"space-y-3 px-4 pb-4",children:[h.jsx(cee,{}),h.jsx(uee,{}),h.jsx(Soe,{}),(r==null?void 0:r.role)!=="viewer"&&h.jsx(lt,{variant:"default",disabled:n,onClick:async()=>await t(),className:"w-20",children:n?h.jsx(xl,{}):"Save"})]})})}):h.jsx(ub,{heading:"No Knowledge Entry Selected",description:"Select a knowledge entry to view its contents here."})},zV=({onRenameKnowledge:t,onDeleteKnowledge:e})=>h.jsxs(sf,{children:[h.jsx(of,{asChild:!0,children:h.jsx(fE,{className:"text-zinc-400 size-6 hover:text-zinc-500 transition-colors"})}),h.jsxs(fu,{align:"end",className:"w-auto text-sm bg-white border border-neutral-300 p-1 rounded-lg shadow-md",children:[t&&h.jsxs(Os,{className:"flex items-center p-1.5 hover:bg-zinc-100 rounded-sm",onClick:n=>{n.stopPropagation(),t()},children:[h.jsx(KW,{className:"mr-2 h-4 w-4"}),h.jsx("p",{children:"Rename"})]}),h.jsxs(Os,{className:"flex items-center p-1.5 hover:bg-zinc-100 rounded-sm",onClick:n=>{n.stopPropagation(),e()},children:[h.jsx(ey,{className:"mr-2 h-4 w-4"}),h.jsx("p",{children:"Move to Archive"})]})]})]}),Nr=Li(t=>({dialogs:{},openDialog:e=>t(n=>({dialogs:{...n.dialogs,[e]:!0}})),closeDialog:e=>t(n=>({dialogs:{...n.dialogs,[e]:!1}})),toggleDialog:e=>t(n=>({dialogs:{...n.dialogs,[e]:!n.dialogs[e]}})),setDialogState:(e,n)=>t(r=>({dialogs:{...r.dialogs,[e]:n}}))})),Woe=({intent:t,onItemClick:e})=>{const n=Et(a=>a.admin),r=Vt(a=>a.selectedKnowledgeEntry),s=Vt(a=>a.setSelectedKnowledgeEntryIntentItem),i=Nr(a=>a.openDialog),o=()=>{s(t),i("showConfirmDeleteKnowledgeEntryDialog")};return h.jsxs("div",{className:`flex justify-between p-2 rounded-md cursor-pointer ${(r==null?void 0:r.intent)===t?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,onClick:e,children:[t,(n==null?void 0:n.role)!=="viewer"&&h.jsx(lt,{className:"bg-transparent hover:bg-transparent size-8 p-0 h-fit ",children:h.jsx(zV,{onDeleteKnowledge:o})})]})},Hoe=({knowledgeEntries:t,handleTabChange:e})=>{const n=Vt(s=>s.setSelectedKnowledgeEntry),r=s=>{n(s),e("entryDetails")};return h.jsx("div",{className:"space-y-1",children:t==null?void 0:t.map((s,i)=>h.jsx(Woe,{intent:s.intent,onItemClick:()=>r(s)},i))})},Md=["knowledgeBaseList"],cm=["knowledgeEntry"],Yu=["adminList"],gg=["knowledgeBaseArhives"],yg=["knowledgeEntriesArchive"];var _u=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},eu=typeof window>"u"||"Deno"in globalThis;function Br(){}function qoe(t,e){return typeof t=="function"?t(e):t}function Ox(t){return typeof t=="number"&&t>=0&&t!==1/0}function KV(t,e){return Math.max(t+(e||0)-Date.now(),0)}function yc(t,e){return typeof t=="function"?t(e):t}function ds(t,e){return typeof t=="function"?t(e):t}function sR(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==db(o,e.options))return!1}else if(!Sh(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function iR(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(ll(e.options.mutationKey)!==ll(i))return!1}else if(!Sh(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function db(t,e){return((e==null?void 0:e.queryKeyHashFn)||ll)(t)}function ll(t){return JSON.stringify(t,(e,n)=>jx(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Sh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Sh(t[n],e[n])):!1}function WV(t,e){if(t===e)return t;const n=oR(t)&&oR(e);if(n||jx(t)&&jx(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const u=n?c:i[c];(!n&&r.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=WV(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function vg(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function oR(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function jx(t){if(!aR(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!aR(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function aR(t){return Object.prototype.toString.call(t)==="[object Object]"}function Goe(t){return new Promise(e=>{setTimeout(e,t)})}function Lx(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?WV(t,e):e}function Qoe(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Yoe(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var HV=Symbol();function qV(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===HV?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Oa,ho,wc,NR,Xoe=(NR=class extends _u{constructor(){super();we(this,Oa,void 0);we(this,ho,void 0);we(this,wc,void 0);he(this,wc,e=>{if(!eu&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){V(this,ho)||this.setEventListener(V(this,wc))}onUnsubscribe(){var e;this.hasListeners()||((e=V(this,ho))==null||e.call(this),he(this,ho,void 0))}setEventListener(e){var n;he(this,wc,e),(n=V(this,ho))==null||n.call(this),he(this,ho,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){V(this,Oa)!==e&&(he(this,Oa,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof V(this,Oa)=="boolean"?V(this,Oa):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Oa=new WeakMap,ho=new WeakMap,wc=new WeakMap,NR),hb=new Xoe,xc,fo,_c,DR,Joe=(DR=class extends _u{constructor(){super();we(this,xc,!0);we(this,fo,void 0);we(this,_c,void 0);he(this,_c,e=>{if(!eu&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){V(this,fo)||this.setEventListener(V(this,_c))}onUnsubscribe(){var e;this.hasListeners()||((e=V(this,fo))==null||e.call(this),he(this,fo,void 0))}setEventListener(e){var n;he(this,_c,e),(n=V(this,fo))==null||n.call(this),he(this,fo,e(this.setOnline.bind(this)))}setOnline(e){V(this,xc)!==e&&(he(this,xc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return V(this,xc)}},xc=new WeakMap,fo=new WeakMap,_c=new WeakMap,DR),wg=new Joe;function Zoe(t){return Math.min(1e3*2**t,3e4)}function GV(t){return(t??"online")==="online"?wg.isOnline():!0}var QV=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function jw(t){return t instanceof QV}function YV(t){let e=!1,n=0,r=!1,s,i,o;const a=new Promise((x,y)=>{i=x,o=y}),l=x=>{var y;r||(w(new QV(x)),(y=t.abort)==null||y.call(t))},c=()=>{e=!0},u=()=>{e=!1},d=()=>hb.isFocused()&&(t.networkMode==="always"||wg.isOnline())&&t.canRun(),p=()=>GV(t.networkMode)&&t.canRun(),g=x=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,x),s==null||s(),i(x))},w=x=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,x),s==null||s(),o(x))},v=()=>new Promise(x=>{var y;s=b=>{(r||d())&&x(b)},(y=t.onPause)==null||y.call(t)}).then(()=>{var x;s=void 0,r||(x=t.onContinue)==null||x.call(t)}),_=()=>{if(r)return;let x;const y=n===0?t.initialPromise:void 0;try{x=y??t.fn()}catch(b){x=Promise.reject(b)}Promise.resolve(x).then(g).catch(b=>{var T;if(r)return;const I=t.retry??(eu?0:3),D=t.retryDelay??Zoe,O=typeof D=="function"?D(n,b):D,A=I===!0||typeof I=="number"&&n<I||typeof I=="function"&&I(n,b);if(e||!A){w(b);return}n++,(T=t.onFail)==null||T.call(t,n,b),Goe(O).then(()=>d()?void 0:v()).then(()=>{e?w(b):_()})})};return{promise:a,cancel:l,continue:()=>(s==null||s(),a),cancelRetry:c,continueRetry:u,canStart:p,start:()=>(p()?_():v().then(_),a)}}function eae(){let t=[],e=0,n=p=>{p()},r=p=>{p()},s=p=>setTimeout(p,0);const i=p=>{s=p},o=p=>{let g;e++;try{g=p()}finally{e--,e||c()}return g},a=p=>{e?t.push(p):s(()=>{n(p)})},l=p=>(...g)=>{a(()=>{p(...g)})},c=()=>{const p=t;t=[],p.length&&s(()=>{r(()=>{p.forEach(g=>{n(g)})})})};return{batch:o,batchCalls:l,schedule:a,setNotifyFunction:p=>{n=p},setBatchNotifyFunction:p=>{r=p},setScheduler:i}}var cn=eae(),ja,kR,XV=(kR=class{constructor(){we(this,ja,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ox(this.gcTime)&&he(this,ja,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(eu?1/0:5*60*1e3))}clearGcTimeout(){V(this,ja)&&(clearTimeout(V(this,ja)),he(this,ja,void 0))}},ja=new WeakMap,kR),Ec,Tc,Ur,Mn,Ih,La,as,ei,MR,tae=(MR=class extends XV{constructor(e){super();we(this,as);we(this,Ec,void 0);we(this,Tc,void 0);we(this,Ur,void 0);we(this,Mn,void 0);we(this,Ih,void 0);we(this,La,void 0);he(this,La,!1),he(this,Ih,e.defaultOptions),this.setOptions(e.options),this.observers=[],he(this,Ur,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,he(this,Ec,nae(this.options)),this.state=e.state??V(this,Ec),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=V(this,Mn))==null?void 0:e.promise}setOptions(e){this.options={...V(this,Ih),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&V(this,Ur).remove(this)}setData(e,n){const r=Lx(this.state.data,e,this.options);return $e(this,as,ei).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){$e(this,as,ei).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=V(this,Mn))==null?void 0:r.promise;return(s=V(this,Mn))==null||s.cancel(e),n?n.then(Br).catch(Br):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(V(this,Ec))}isActive(){return this.observers.some(e=>ds(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!KV(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=V(this,Mn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=V(this,Mn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),V(this,Ur).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(V(this,Mn)&&(V(this,La)?V(this,Mn).cancel({revert:!0}):V(this,Mn).cancelRetry()),this.scheduleGc()),V(this,Ur).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||$e(this,as,ei).call(this,{type:"invalidate"})}fetch(e,n){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(V(this,Mn))return V(this,Mn).continueRetry(),V(this,Mn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(p=>p.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(he(this,La,!0),r.signal)})},i=()=>{const d=qV(this.options,n),p={queryKey:this.queryKey,meta:this.meta};return s(p),he(this,La,!1),this.options.persister?this.options.persister(d,p,this):d(p)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),he(this,Tc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&$e(this,as,ei).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const a=d=>{var p,g,w,v;jw(d)&&d.silent||$e(this,as,ei).call(this,{type:"error",error:d}),jw(d)||((g=(p=V(this,Ur).config).onError)==null||g.call(p,d,this),(v=(w=V(this,Ur).config).onSettled)==null||v.call(w,this.state.data,d,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return he(this,Mn,YV({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var p,g,w,v;if(d===void 0){a(new Error(`${this.queryHash} data is undefined`));return}this.setData(d),(g=(p=V(this,Ur).config).onSuccess)==null||g.call(p,d,this),(v=(w=V(this,Ur).config).onSettled)==null||v.call(w,d,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:a,onFail:(d,p)=>{$e(this,as,ei).call(this,{type:"failed",failureCount:d,error:p})},onPause:()=>{$e(this,as,ei).call(this,{type:"pause"})},onContinue:()=>{$e(this,as,ei).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),V(this,Mn).start()}},Ec=new WeakMap,Tc=new WeakMap,Ur=new WeakMap,Mn=new WeakMap,Ih=new WeakMap,La=new WeakMap,as=new WeakSet,ei=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...JV(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return jw(s)&&s.revert&&V(this,Tc)?{...V(this,Tc),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),cn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),V(this,Ur).notify({query:this,type:"updated",action:e})})},MR);function JV(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:GV(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function nae(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Rs,OR,rae=(OR=class extends _u{constructor(e={}){super();we(this,Rs,void 0);this.config=e,he(this,Rs,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??db(s,n);let o=this.get(i);return o||(o=new tae({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){V(this,Rs).has(e.queryHash)||(V(this,Rs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=V(this,Rs).get(e.queryHash);n&&(e.destroy(),n===e&&V(this,Rs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){cn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return V(this,Rs).get(e)}getAll(){return[...V(this,Rs).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>sR(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>sR(e,r)):n}notify(e){cn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){cn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){cn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Rs=new WeakMap,OR),Ps,Gn,Va,Ns,Zi,jR,sae=(jR=class extends XV{constructor(e){super();we(this,Ns);we(this,Ps,void 0);we(this,Gn,void 0);we(this,Va,void 0);this.mutationId=e.mutationId,he(this,Gn,e.mutationCache),he(this,Ps,[]),this.state=e.state||ZV(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){V(this,Ps).includes(e)||(V(this,Ps).push(e),this.clearGcTimeout(),V(this,Gn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){he(this,Ps,V(this,Ps).filter(n=>n!==e)),this.scheduleGc(),V(this,Gn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){V(this,Ps).length||(this.state.status==="pending"?this.scheduleGc():V(this,Gn).remove(this))}continue(){var e;return((e=V(this,Va))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,l,c,u,d,p,g,w,v,_,x,y,b,I,D,O,A;he(this,Va,YV({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(T,R)=>{$e(this,Ns,Zi).call(this,{type:"failed",failureCount:T,error:R})},onPause:()=>{$e(this,Ns,Zi).call(this,{type:"pause"})},onContinue:()=>{$e(this,Ns,Zi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>V(this,Gn).canRun(this)}));const n=this.state.status==="pending",r=!V(this,Va).canStart();try{if(!n){$e(this,Ns,Zi).call(this,{type:"pending",variables:e,isPaused:r}),await((i=(s=V(this,Gn).config).onMutate)==null?void 0:i.call(s,e,this));const R=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));R!==this.state.context&&$e(this,Ns,Zi).call(this,{type:"pending",context:R,variables:e,isPaused:r})}const T=await V(this,Va).start();return await((c=(l=V(this,Gn).config).onSuccess)==null?void 0:c.call(l,T,e,this.state.context,this)),await((d=(u=this.options).onSuccess)==null?void 0:d.call(u,T,e,this.state.context)),await((g=(p=V(this,Gn).config).onSettled)==null?void 0:g.call(p,T,null,this.state.variables,this.state.context,this)),await((v=(w=this.options).onSettled)==null?void 0:v.call(w,T,null,e,this.state.context)),$e(this,Ns,Zi).call(this,{type:"success",data:T}),T}catch(T){try{throw await((x=(_=V(this,Gn).config).onError)==null?void 0:x.call(_,T,e,this.state.context,this)),await((b=(y=this.options).onError)==null?void 0:b.call(y,T,e,this.state.context)),await((D=(I=V(this,Gn).config).onSettled)==null?void 0:D.call(I,void 0,T,this.state.variables,this.state.context,this)),await((A=(O=this.options).onSettled)==null?void 0:A.call(O,void 0,T,e,this.state.context)),T}finally{$e(this,Ns,Zi).call(this,{type:"error",error:T})}}finally{V(this,Gn).runNext(this)}}},Ps=new WeakMap,Gn=new WeakMap,Va=new WeakMap,Ns=new WeakSet,Zi=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),cn.batch(()=>{V(this,Ps).forEach(r=>{r.onMutationUpdate(e)}),V(this,Gn).notify({mutation:this,type:"updated",action:e})})},jR);function ZV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wr,Ah,LR,iae=(LR=class extends _u{constructor(e={}){super();we(this,wr,void 0);we(this,Ah,void 0);this.config=e,he(this,wr,new Map),he(this,Ah,Date.now())}build(e,n,r){const s=new sae({mutationCache:this,mutationId:++Kf(this,Ah)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Ap(e),r=V(this,wr).get(n)??[];r.push(e),V(this,wr).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Ap(e);if(V(this,wr).has(n)){const s=(r=V(this,wr).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?V(this,wr).delete(n):V(this,wr).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=V(this,wr).get(Ap(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=V(this,wr).get(Ap(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){cn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...V(this,wr).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>iR(n,r))}findAll(e={}){return this.getAll().filter(n=>iR(e,n))}notify(e){cn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return cn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Br))))}},wr=new WeakMap,Ah=new WeakMap,LR);function Ap(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function oae(t){return{onFetch:(e,n)=>{const r=async()=>{var w,v,_,x,y;const s=e.options,i=(_=(v=(w=e.fetchOptions)==null?void 0:w.meta)==null?void 0:v.fetchMore)==null?void 0:_.direction,o=((x=e.state.data)==null?void 0:x.pages)||[],a=((y=e.state.data)==null?void 0:y.pageParams)||[],l={pages:[],pageParams:[]};let c=!1;const u=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?c=!0:e.signal.addEventListener("abort",()=>{c=!0}),e.signal)})},d=qV(e.options,e.fetchOptions),p=async(b,I,D)=>{if(c)return Promise.reject();if(I==null&&b.pages.length)return Promise.resolve(b);const O={queryKey:e.queryKey,pageParam:I,direction:D?"backward":"forward",meta:e.options.meta};u(O);const A=await d(O),{maxPages:T}=e.options,R=D?Yoe:Qoe;return{pages:R(b.pages,A,T),pageParams:R(b.pageParams,I,T)}};let g;if(i&&o.length){const b=i==="backward",I=b?aae:lR,D={pages:o,pageParams:a},O=I(s,D);g=await p(D,O,b)}else{g=await p(l,a[0]??s.initialPageParam);const b=t??o.length;for(let I=1;I<b;I++){const D=lR(s,g);if(D==null)break;g=await p(g,D)}}return g};e.options.persister?e.fetchFn=()=>{var s,i;return(i=(s=e.options).persister)==null?void 0:i.call(s,r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=r}}}function lR(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function aae(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Kt,po,mo,bc,Sc,go,Ic,Ac,VR,lae=(VR=class{constructor(t={}){we(this,Kt,void 0);we(this,po,void 0);we(this,mo,void 0);we(this,bc,void 0);we(this,Sc,void 0);we(this,go,void 0);we(this,Ic,void 0);we(this,Ac,void 0);he(this,Kt,t.queryCache||new rae),he(this,po,t.mutationCache||new iae),he(this,mo,t.defaultOptions||{}),he(this,bc,new Map),he(this,Sc,new Map),he(this,go,0)}mount(){Kf(this,go)._++,V(this,go)===1&&(he(this,Ic,hb.subscribe(async t=>{t&&(await this.resumePausedMutations(),V(this,Kt).onFocus())})),he(this,Ac,wg.subscribe(async t=>{t&&(await this.resumePausedMutations(),V(this,Kt).onOnline())})))}unmount(){var t,e;Kf(this,go)._--,V(this,go)===0&&((t=V(this,Ic))==null||t.call(this),he(this,Ic,void 0),(e=V(this,Ac))==null||e.call(this),he(this,Ac,void 0))}isFetching(t){return V(this,Kt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return V(this,po).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=V(this,Kt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=V(this,Kt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(yc(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return V(this,Kt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=V(this,Kt).get(r.queryHash),i=s==null?void 0:s.state.data,o=qoe(e,i);if(o!==void 0)return V(this,Kt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return cn.batch(()=>V(this,Kt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=V(this,Kt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=V(this,Kt);cn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=V(this,Kt),r={type:"active",...t};return cn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=cn.batch(()=>V(this,Kt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Br).catch(Br)}invalidateQueries(t={},e={}){return cn.batch(()=>{if(V(this,Kt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=cn.batch(()=>V(this,Kt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Br)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Br)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=V(this,Kt).build(this,e);return n.isStaleByTime(yc(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Br).catch(Br)}fetchInfiniteQuery(t){return t.behavior=oae(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Br).catch(Br)}resumePausedMutations(){return wg.isOnline()?V(this,po).resumePausedMutations():Promise.resolve()}getQueryCache(){return V(this,Kt)}getMutationCache(){return V(this,po)}getDefaultOptions(){return V(this,mo)}setDefaultOptions(t){he(this,mo,t)}setQueryDefaults(t,e){V(this,bc).set(ll(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...V(this,bc).values()];let n={};return e.forEach(r=>{Sh(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){V(this,Sc).set(ll(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...V(this,Sc).values()];let n={};return e.forEach(r=>{Sh(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...V(this,mo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=db(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===HV&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...V(this,mo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){V(this,Kt).clear(),V(this,po).clear()}},Kt=new WeakMap,po=new WeakMap,mo=new WeakMap,bc=new WeakMap,Sc=new WeakMap,go=new WeakMap,Ic=new WeakMap,Ac=new WeakMap,VR),ir,et,Ch,Qn,Fa,Cc,Ds,Rh,Rc,Pc,Ua,Ba,yo,Nc,$a,dd,Ph,Vx,Nh,Fx,Dh,Ux,kh,Bx,Mh,$x,Oh,zx,jh,Kx,Ig,eF,FR,cae=(FR=class extends _u{constructor(e,n){super();we(this,$a);we(this,Ph);we(this,Nh);we(this,Dh);we(this,kh);we(this,Mh);we(this,Oh);we(this,jh);we(this,Ig);we(this,ir,void 0);we(this,et,void 0);we(this,Ch,void 0);we(this,Qn,void 0);we(this,Fa,void 0);we(this,Cc,void 0);we(this,Ds,void 0);we(this,Rh,void 0);we(this,Rc,void 0);we(this,Pc,void 0);we(this,Ua,void 0);we(this,Ba,void 0);we(this,yo,void 0);we(this,Nc,new Set);this.options=n,he(this,ir,e),he(this,Ds,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(V(this,et).addObserver(this),cR(V(this,et),this.options)?$e(this,$a,dd).call(this):this.updateResult(),$e(this,kh,Bx).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Wx(V(this,et),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Wx(V(this,et),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,$e(this,Mh,$x).call(this),$e(this,Oh,zx).call(this),V(this,et).removeObserver(this)}setOptions(e,n){const r=this.options,s=V(this,et);if(this.options=V(this,ir).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ds(this.options.enabled,V(this,et))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");$e(this,jh,Kx).call(this),V(this,et).setOptions(this.options),r._defaulted&&!vg(this.options,r)&&V(this,ir).getQueryCache().notify({type:"observerOptionsUpdated",query:V(this,et),observer:this});const i=this.hasListeners();i&&uR(V(this,et),s,this.options,r)&&$e(this,$a,dd).call(this),this.updateResult(n),i&&(V(this,et)!==s||ds(this.options.enabled,V(this,et))!==ds(r.enabled,V(this,et))||yc(this.options.staleTime,V(this,et))!==yc(r.staleTime,V(this,et)))&&$e(this,Ph,Vx).call(this);const o=$e(this,Nh,Fx).call(this);i&&(V(this,et)!==s||ds(this.options.enabled,V(this,et))!==ds(r.enabled,V(this,et))||o!==V(this,yo))&&$e(this,Dh,Ux).call(this,o)}getOptimisticResult(e){const n=V(this,ir).getQueryCache().build(V(this,ir),e),r=this.createResult(n,e);return dae(this,r)&&(he(this,Qn,r),he(this,Cc,this.options),he(this,Fa,V(this,et).state)),r}getCurrentResult(){return V(this,Qn)}trackResult(e,n){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),e[s])})}),r}trackProp(e){V(this,Nc).add(e)}getCurrentQuery(){return V(this,et)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=V(this,ir).defaultQueryOptions(e),r=V(this,ir).getQueryCache().build(V(this,ir),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){return $e(this,$a,dd).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),V(this,Qn)))}createResult(e,n){var A;const r=V(this,et),s=this.options,i=V(this,Qn),o=V(this,Fa),a=V(this,Cc),c=e!==r?e.state:V(this,Ch),{state:u}=e;let d={...u},p=!1,g;if(n._optimisticResults){const T=this.hasListeners(),R=!T&&cR(e,n),C=T&&uR(e,r,n,s);(R||C)&&(d={...d,...JV(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:w,errorUpdatedAt:v,status:_}=d;if(n.select&&d.data!==void 0)if(i&&d.data===(o==null?void 0:o.data)&&n.select===V(this,Rh))g=V(this,Rc);else try{he(this,Rh,n.select),g=n.select(d.data),g=Lx(i==null?void 0:i.data,g,n),he(this,Rc,g),he(this,Ds,null)}catch(T){he(this,Ds,T)}else g=d.data;if(n.placeholderData!==void 0&&g===void 0&&_==="pending"){let T;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))T=i.data;else if(T=typeof n.placeholderData=="function"?n.placeholderData((A=V(this,Pc))==null?void 0:A.state.data,V(this,Pc)):n.placeholderData,n.select&&T!==void 0)try{T=n.select(T),he(this,Ds,null)}catch(R){he(this,Ds,R)}T!==void 0&&(_="success",g=Lx(i==null?void 0:i.data,T,n),p=!0)}V(this,Ds)&&(w=V(this,Ds),g=V(this,Rc),v=Date.now(),_="error");const x=d.fetchStatus==="fetching",y=_==="pending",b=_==="error",I=y&&x,D=g!==void 0;return{status:_,fetchStatus:d.fetchStatus,isPending:y,isSuccess:_==="success",isError:b,isInitialLoading:I,isLoading:I,data:g,dataUpdatedAt:d.dataUpdatedAt,error:w,errorUpdatedAt:v,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:x,isRefetching:x&&!y,isLoadingError:b&&!D,isPaused:d.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:b&&D,isStale:fb(e,n),refetch:this.refetch}}updateResult(e){const n=V(this,Qn),r=this.createResult(V(this,et),this.options);if(he(this,Fa,V(this,et).state),he(this,Cc,this.options),V(this,Fa).data!==void 0&&he(this,Pc,V(this,et)),vg(r,n))return;he(this,Qn,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!V(this,Nc).size)return!0;const l=new Set(a??V(this,Nc));return this.options.throwOnError&&l.add("error"),Object.keys(V(this,Qn)).some(c=>{const u=c;return V(this,Qn)[u]!==n[u]&&l.has(u)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),$e(this,Ig,eF).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&$e(this,kh,Bx).call(this)}},ir=new WeakMap,et=new WeakMap,Ch=new WeakMap,Qn=new WeakMap,Fa=new WeakMap,Cc=new WeakMap,Ds=new WeakMap,Rh=new WeakMap,Rc=new WeakMap,Pc=new WeakMap,Ua=new WeakMap,Ba=new WeakMap,yo=new WeakMap,Nc=new WeakMap,$a=new WeakSet,dd=function(e){$e(this,jh,Kx).call(this);let n=V(this,et).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Br)),n},Ph=new WeakSet,Vx=function(){$e(this,Mh,$x).call(this);const e=yc(this.options.staleTime,V(this,et));if(eu||V(this,Qn).isStale||!Ox(e))return;const r=KV(V(this,Qn).dataUpdatedAt,e)+1;he(this,Ua,setTimeout(()=>{V(this,Qn).isStale||this.updateResult()},r))},Nh=new WeakSet,Fx=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(V(this,et)):this.options.refetchInterval)??!1},Dh=new WeakSet,Ux=function(e){$e(this,Oh,zx).call(this),he(this,yo,e),!(eu||ds(this.options.enabled,V(this,et))===!1||!Ox(V(this,yo))||V(this,yo)===0)&&he(this,Ba,setInterval(()=>{(this.options.refetchIntervalInBackground||hb.isFocused())&&$e(this,$a,dd).call(this)},V(this,yo)))},kh=new WeakSet,Bx=function(){$e(this,Ph,Vx).call(this),$e(this,Dh,Ux).call(this,$e(this,Nh,Fx).call(this))},Mh=new WeakSet,$x=function(){V(this,Ua)&&(clearTimeout(V(this,Ua)),he(this,Ua,void 0))},Oh=new WeakSet,zx=function(){V(this,Ba)&&(clearInterval(V(this,Ba)),he(this,Ba,void 0))},jh=new WeakSet,Kx=function(){const e=V(this,ir).getQueryCache().build(V(this,ir),this.options);if(e===V(this,et))return;const n=V(this,et);he(this,et,e),he(this,Ch,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},Ig=new WeakSet,eF=function(e){cn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(V(this,Qn))}),V(this,ir).getQueryCache().notify({query:V(this,et),type:"observerResultsUpdated"})})},FR);function uae(t,e){return ds(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function cR(t,e){return uae(t,e)||t.state.data!==void 0&&Wx(t,e,e.refetchOnMount)}function Wx(t,e,n){if(ds(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&fb(t,e)}return!1}function uR(t,e,n,r){return(t!==e||ds(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&fb(t,n)}function fb(t,e){return ds(e.enabled,t)!==!1&&t.isStaleByTime(yc(e.staleTime,t))}function dae(t,e){return!vg(t.getCurrentResult(),e)}var vo,wo,or,ri,Dc,um,Lh,Hx,UR,hae=(UR=class extends _u{constructor(n,r){super();we(this,Dc);we(this,Lh);we(this,vo,void 0);we(this,wo,void 0);we(this,or,void 0);we(this,ri,void 0);he(this,vo,n),this.setOptions(r),this.bindMethods(),$e(this,Dc,um).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=V(this,vo).defaultMutationOptions(n),vg(this.options,r)||V(this,vo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:V(this,or),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ll(r.mutationKey)!==ll(this.options.mutationKey)?this.reset():((s=V(this,or))==null?void 0:s.state.status)==="pending"&&V(this,or).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=V(this,or))==null||n.removeObserver(this)}onMutationUpdate(n){$e(this,Dc,um).call(this),$e(this,Lh,Hx).call(this,n)}getCurrentResult(){return V(this,wo)}reset(){var n;(n=V(this,or))==null||n.removeObserver(this),he(this,or,void 0),$e(this,Dc,um).call(this),$e(this,Lh,Hx).call(this)}mutate(n,r){var s;return he(this,ri,r),(s=V(this,or))==null||s.removeObserver(this),he(this,or,V(this,vo).getMutationCache().build(V(this,vo),this.options)),V(this,or).addObserver(this),V(this,or).execute(n)}},vo=new WeakMap,wo=new WeakMap,or=new WeakMap,ri=new WeakMap,Dc=new WeakSet,um=function(){var r;const n=((r=V(this,or))==null?void 0:r.state)??ZV();he(this,wo,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Lh=new WeakSet,Hx=function(n){cn.batch(()=>{var r,s,i,o,a,l,c,u;if(V(this,ri)&&this.hasListeners()){const d=V(this,wo).variables,p=V(this,wo).context;(n==null?void 0:n.type)==="success"?((s=(r=V(this,ri)).onSuccess)==null||s.call(r,n.data,d,p),(o=(i=V(this,ri)).onSettled)==null||o.call(i,n.data,null,d,p)):(n==null?void 0:n.type)==="error"&&((l=(a=V(this,ri)).onError)==null||l.call(a,n.error,d,p),(u=(c=V(this,ri)).onSettled)==null||u.call(c,void 0,n.error,d,p))}this.listeners.forEach(d=>{d(V(this,wo))})})},UR),tF=m.createContext(void 0),_l=t=>{const e=m.useContext(tF);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},fae=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),h.jsx(tF.Provider,{value:t,children:e})),nF=m.createContext(!1),pae=()=>m.useContext(nF);nF.Provider;function mae(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var gae=m.createContext(mae()),yae=()=>m.useContext(gae);function rF(t,e){return typeof t=="function"?t(...e):!!t}function vae(){}var wae=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},xae=t=>{m.useEffect(()=>{t.clearReset()},[t])},_ae=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&rF(n,[t.error,r]),Eae=t=>{t.suspense&&(typeof t.staleTime!="number"&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},Tae=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,bae=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Sae(t,e,n){var c,u,d,p;const r=_l(),s=pae(),i=yae(),o=r.defaultQueryOptions(t);(u=(c=r.getDefaultOptions().queries)==null?void 0:c._experimental_beforeQuery)==null||u.call(c,o),o._optimisticResults=s?"isRestoring":"optimistic",Eae(o),wae(o,i),xae(i);const[a]=m.useState(()=>new e(r,o)),l=a.getOptimisticResult(o);if(m.useSyncExternalStore(m.useCallback(g=>{const w=s?()=>{}:a.subscribe(cn.batchCalls(g));return a.updateResult(),w},[a,s]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),m.useEffect(()=>{a.setOptions(o,{listeners:!1})},[o,a]),Tae(o,l))throw bae(o,a,i);if(_ae({result:l,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw l.error;return(p=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_afterQuery)==null||p.call(d,o,l),o.notifyOnChangeProps?l:a.trackResult(l)}function Ef(t,e){return Sae(t,cae)}function Sr(t,e){const n=_l(),[r]=m.useState(()=>new hae(n,t));m.useEffect(()=>{r.setOptions(t)},[r,t]);const s=m.useSyncExternalStore(m.useCallback(o=>r.subscribe(cn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=m.useCallback((o,a)=>{r.mutate(o,a).catch(vae)},[r]);if(s.error&&rF(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const sF=({label:t,onButtonClick:e})=>h.jsxs(lt,{variant:"outline",size:"sm",className:"mb-2 hover:bg-gray-100 h-10",onClick:e,children:[h.jsx(Xh,{className:"w-4 h-4 mr-0 md:mr-2"}),h.jsx("p",{className:"hidden md:block",children:t})]}),iF=()=>h.jsxs("div",{className:"h-[450px] md:h-[600px] w-full px-4 flex flex-col pb-4 mt-2",children:[h.jsxs("div",{className:"flex mb-7 space-x-4",children:[h.jsx(Ce,{className:"flex-grow h-10 bg-lightGray-darker"}),h.jsx(Ce,{className:"h-10 w-[42px] md:w-[198.85px] bg-lightGray-darker"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx(Ce,{className:"h-[20px] w-[20rem] bg-lightGray-darker"}),h.jsx(Ce,{className:"h-[20px] w-[10rem] bg-lightGray-darker"})]})]}),Xr=Li(t=>({isModalVisible:!1,modalMode:"BASE",openModal:()=>{t(()=>({isModalVisible:!0}))},closeModal:()=>{t(()=>({isModalVisible:!1}))},setMode:e=>{t(()=>({modalMode:e}))}})),Iae=()=>{const t=Xr(i=>i.openModal),e=Xr(i=>i.setMode),n=dt(i=>i.clearFormData),r=Vt(i=>i.selectedKnowledgeBaseName);return{handleOpenKnowledgeForm:async i=>{if(!r)return window.alert("No Knowledge Base Selected cannot add a knowledge entry");n(),e(i),t()},openModal:t,setMode:e,clearFormData:n}},oF=()=>{const[t,e]=m.useState("");return{filter:t,handleFilterChange:r=>{e(r)}}};function Aae(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=d=>{var x;const{scope:p,children:g,...w}=d,v=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,_=m.useMemo(()=>w,Object.values(w));return h.jsx(v.Provider,{value:_,children:g})};c.displayName=i+"Provider";function u(d,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Cae(s,...e)]}function Cae(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Rae(t,e){const n=m.createContext(e),r=i=>{const{children:o,...a}=i,l=m.useMemo(()=>a,Object.values(a));return h.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=m.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Pae(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=d=>{var x;const{scope:p,children:g,...w}=d,v=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,_=m.useMemo(()=>w,Object.values(w));return h.jsx(v.Provider,{value:_,children:g})};c.displayName=i+"Provider";function u(d,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Nae(s,...e)]}function Nae(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Dae="DismissableLayer",qx="dismissableLayer.update",kae="dismissableLayer.pointerDownOutside",Mae="dismissableLayer.focusOutside",dR,aF=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lF=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(aF),[u,d]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=Oe(e,A=>d(A)),v=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(_),y=u?v.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,I=y>=x,D=Lae(A=>{const T=A.target,R=[...c.branches].some(C=>C.contains(T));!I||R||(s==null||s(A),o==null||o(A),A.defaultPrevented||a==null||a())},p),O=Vae(A=>{const T=A.target;[...c.branches].some(C=>C.contains(T))||(i==null||i(A),o==null||o(A),A.defaultPrevented||a==null||a())},p);return Zh(A=>{y===c.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&a&&(A.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(dR=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),hR(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=dR)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),hR())},[u,c]),m.useEffect(()=>{const A=()=>g({});return document.addEventListener(qx,A),()=>document.removeEventListener(qx,A)},[]),h.jsx(xe.div,{...l,ref:w,style:{pointerEvents:b?I?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,D.onPointerDownCapture)})});lF.displayName=Dae;var Oae="DismissableLayerBranch",jae=m.forwardRef((t,e)=>{const n=m.useContext(aF),r=m.useRef(null),s=Oe(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),h.jsx(xe.div,{...t,ref:s})});jae.displayName=Oae;function Lae(t,e=globalThis==null?void 0:globalThis.document){const n=Mt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){cF(kae,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Vae(t,e=globalThis==null?void 0:globalThis.document){const n=Mt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&cF(Mae,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function hR(){const t=new CustomEvent(qx);document.dispatchEvent(t)}function cF(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?ml(s,i):s.dispatchEvent(i)}var Fae="Portal",uF=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Nt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?zh.createPortal(h.jsx(xe.div,{...r,ref:e}),o):null});uF.displayName=Fae;function Uae(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var ev=t=>{const{present:e,children:n}=t,r=Bae(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=Oe(r.ref,$ae(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};ev.displayName="Presence";function Bae(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=Uae(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Cp(r.current);i.current=a==="mounted"?c:"none"},[a]),Nt(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=Cp(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Nt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=g=>{const v=Cp(r.current).includes(g.animationName);if(g.target===e&&v&&(l("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},p=g=>{g.target===e&&(i.current=Cp(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Cp(t){return(t==null?void 0:t.animationName)||"none"}function $ae(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var pb="Dialog",[dF,hF]=Pae(pb),[zae,Es]=dF(pb),fF=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=m.useRef(null),l=m.useRef(null),[c=!1,u]=Uo({prop:r,defaultProp:s,onChange:i});return h.jsx(zae,{scope:e,triggerRef:a,contentRef:l,contentId:ys(),titleId:ys(),descriptionId:ys(),open:c,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(d=>!d),[u]),modal:o,children:n})};fF.displayName=pb;var pF="DialogTrigger",mF=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Es(pF,n),i=Oe(e,s.triggerRef);return h.jsx(xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":yb(s.open),...r,ref:i,onClick:ee(t.onClick,s.onOpenToggle)})});mF.displayName=pF;var mb="DialogPortal",[Kae,gF]=dF(mb,{forceMount:void 0}),yF=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Es(mb,e);return h.jsx(Kae,{scope:e,forceMount:n,children:m.Children.map(r,o=>h.jsx(ev,{present:n||i.open,children:h.jsx(uF,{asChild:!0,container:s,children:o})}))})};yF.displayName=mb;var xg="DialogOverlay",vF=m.forwardRef((t,e)=>{const n=gF(xg,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Es(xg,t.__scopeDialog);return i.modal?h.jsx(ev,{present:r||i.open,children:h.jsx(Wae,{...s,ref:e})}):null});vF.displayName=xg;var Wae=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Es(xg,n);return h.jsx(fy,{as:Bo,allowPinchZoom:!0,shards:[s.contentRef],children:h.jsx(xe.div,{"data-state":yb(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),cl="DialogContent",wF=m.forwardRef((t,e)=>{const n=gF(cl,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Es(cl,t.__scopeDialog);return h.jsx(ev,{present:r||i.open,children:i.modal?h.jsx(Hae,{...s,ref:e}):h.jsx(qae,{...s,ref:e})})});wF.displayName=cl;var Hae=m.forwardRef((t,e)=>{const n=Es(cl,t.__scopeDialog),r=m.useRef(null),s=Oe(e,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return RE(i)},[]),h.jsx(xF,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ee(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ee(t.onFocusOutside,i=>i.preventDefault())})}),qae=m.forwardRef((t,e)=>{const n=Es(cl,t.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return h.jsx(xF,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),xF=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Es(cl,n),l=m.useRef(null),c=Oe(e,l);return gE(),h.jsxs(h.Fragment,{children:[h.jsx(oy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:h.jsx(lF,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":yb(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(Qae,{titleId:a.titleId}),h.jsx(Xae,{contentRef:l,descriptionId:a.descriptionId})]})]})}),gb="DialogTitle",_F=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Es(gb,n);return h.jsx(xe.h2,{id:s.titleId,...r,ref:e})});_F.displayName=gb;var EF="DialogDescription",TF=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Es(EF,n);return h.jsx(xe.p,{id:s.descriptionId,...r,ref:e})});TF.displayName=EF;var bF="DialogClose",SF=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Es(bF,n);return h.jsx(xe.button,{type:"button",...r,ref:e,onClick:ee(t.onClick,()=>s.onOpenChange(!1))})});SF.displayName=bF;function yb(t){return t?"open":"closed"}var IF="DialogTitleWarning",[Gae,AF]=Rae(IF,{contentName:cl,titleName:gb,docsSlug:"dialog"}),Qae=({titleId:t})=>{const e=AF(IF),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Yae="DialogDescriptionWarning",Xae=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${AF(Yae).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},CF=fF,Jae=mF,RF=yF,vb=vF,wb=wF,xb=_F,_b=TF,Eb=SF,PF="AlertDialog",[Zae,Hde]=Aae(PF,[hF]),Fi=hF(),NF=t=>{const{__scopeAlertDialog:e,...n}=t,r=Fi(e);return h.jsx(CF,{...r,...n,modal:!0})};NF.displayName=PF;var ele="AlertDialogTrigger",tle=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Fi(n);return h.jsx(Jae,{...s,...r,ref:e})});tle.displayName=ele;var nle="AlertDialogPortal",DF=t=>{const{__scopeAlertDialog:e,...n}=t,r=Fi(e);return h.jsx(RF,{...r,...n})};DF.displayName=nle;var rle="AlertDialogOverlay",kF=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Fi(n);return h.jsx(vb,{...s,...r,ref:e})});kF.displayName=rle;var vc="AlertDialogContent",[sle,ile]=Zae(vc),MF=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=Fi(n),o=m.useRef(null),a=Oe(e,o),l=m.useRef(null);return h.jsx(Gae,{contentName:vc,titleName:OF,docsSlug:"alert-dialog",children:h.jsx(sle,{scope:n,cancelRef:l,children:h.jsxs(wb,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:ee(s.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=l.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[h.jsx(mE,{children:r}),h.jsx(ale,{contentRef:o})]})})})});MF.displayName=vc;var OF="AlertDialogTitle",jF=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Fi(n);return h.jsx(xb,{...s,...r,ref:e})});jF.displayName=OF;var LF="AlertDialogDescription",VF=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Fi(n);return h.jsx(_b,{...s,...r,ref:e})});VF.displayName=LF;var ole="AlertDialogAction",FF=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Fi(n);return h.jsx(Eb,{...s,...r,ref:e})});FF.displayName=ole;var UF="AlertDialogCancel",BF=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=ile(UF,n),i=Fi(n),o=Oe(e,s);return h.jsx(Eb,{...i,...r,ref:o})});BF.displayName=UF;var ale=({contentRef:t})=>{const e=`\`${vc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${vc}\` by passing a \`${LF}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${vc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},lle=NF,cle=DF,$F=kF,zF=MF,KF=FF,WF=BF,HF=jF,qF=VF;const ule=lle,dle=cle,GF=m.forwardRef(({className:t,...e},n)=>h.jsx($F,{className:ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));GF.displayName=$F.displayName;const QF=m.forwardRef(({className:t,...e},n)=>h.jsxs(dle,{children:[h.jsx(GF,{}),h.jsx(zF,{ref:n,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));QF.displayName=zF.displayName;const YF=({className:t,...e})=>h.jsx("div",{className:ce("flex flex-col space-y-2 text-center sm:text-left",t),...e});YF.displayName="AlertDialogHeader";const XF=({className:t,...e})=>h.jsx("div",{className:ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});XF.displayName="AlertDialogFooter";const JF=m.forwardRef(({className:t,...e},n)=>h.jsx(HF,{ref:n,className:ce("text-lg font-semibold",t),...e}));JF.displayName=HF.displayName;const ZF=m.forwardRef(({className:t,...e},n)=>h.jsx(qF,{ref:n,className:ce("text-sm text-muted-foreground",t),...e}));ZF.displayName=qF.displayName;const e4=m.forwardRef(({className:t,...e},n)=>h.jsx(KF,{ref:n,className:ce(zE(),t),...e}));e4.displayName=KF.displayName;const t4=m.forwardRef(({className:t,...e},n)=>h.jsx(WF,{ref:n,className:ce(zE({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));t4.displayName=WF.displayName;const ka=({title:t,description:e,isOpen:n,setDialogState:r,onDelete:s,isDestructive:i=!1})=>{const o=async()=>{r(!1),await s()},a=()=>{r(!1)};return h.jsx(ule,{open:n,onOpenChange:l=>{r(l),setTimeout(()=>{l||(document.body.style.pointerEvents="")},100)},children:h.jsxs(QF,{children:[h.jsxs(YF,{children:[h.jsx(JF,{children:t}),h.jsx(ZF,{children:e})]}),h.jsxs(XF,{children:[h.jsx(t4,{onClick:a,children:"Cancel"}),h.jsx(e4,{onClick:o,className:ce(i&&"bg-red-600 hover:bg-red-700"),children:"Confirm"})]})]})})},hle={1:"Base",2:"Entry",3:"Verify"},fle={1:"Entry",2:"Verify"},rc={base:t=>({title:"Archive Knowledge Base",description:`This action will move the knowledge base "${t}" to the archive. You can restore it later from the archive.`}),entry:t=>({title:"Archive Knowledge Entry",description:`This action will move the knowledge entry "${t}" to the archive. You can restore it later from the archive.`}),baseArchive:t=>({title:"Delete Knowledge Base Permanently",description:`This action will delete the knowledge base "${t}" permanently. This action cannot be undone.`}),baseRestore:t=>({title:"Restore Knowledge Base",description:`This action will restore the knowledge base "${t}". Once restored you can find it in the knowledge tab.`}),entryArchive:t=>({title:"Delete Knowledge Entry Permanently",description:`This action will delete the knowledge entry "${t}" permanently. This action cannot be undone.`}),entryRestore:t=>({title:"Restore Knowledge Entry",description:`This action will restore the knowledge entry "${t}". Once restored you can find it in the knowledge tab.`})},ple=({onTabChange:t})=>{const{handleOpenKnowledgeForm:e}=Iae(),n=Vi(),r=_l(),{filter:s,handleFilterChange:i}=oF(),o=Et(y=>y.admin),a=Vt(y=>y.selectedKnowledgeBaseName),l=Vt(y=>y.selectedKnowledgeEntryIntentItem),c=Vt(y=>y.setSelectedKnowledgeEntryIntentItem),u=Nr(y=>y.dialogs),d=Nr(y=>y.setDialogState),{data:p,isLoading:g}=Ef({queryFn:()=>Coe(a),queryKey:cm,enabled:!!a}),{mutateAsync:w}=Sr({mutationFn:Moe,onSuccess:y=>{r.invalidateQueries({queryKey:cm}),r.invalidateQueries({queryKey:yg}),n({title:y,description:rt()})},onError:y=>{n({title:y==null?void 0:y.message,description:rt(),variant:"destructive"}),yt(y.message||"An Unexpected error occured while deleting knowledge base")}}),v=async()=>{if(!l)throw new Error("No knowledge entry intent selected cannot delete");await w(`${a}&${l}`),c("")},_=m.useMemo(()=>p==null?void 0:p.filter(y=>y.intent.toLowerCase().includes(s.toLowerCase())),[p,s]),x=rc.entry(l);return m.useEffect(()=>()=>{r.resetQueries({queryKey:cm})},[]),g?h.jsx(iF,{}):p?h.jsxs(Cy,{value:"knowledgeEntry",className:"mt-2",children:[h.jsxs("div",{className:"h-[450px] md:h-[600px] w-full px-4 flex flex-col pb-4 overflow-y-auto scrollbar-slim",children:[h.jsxs("div",{className:"flex mb-2 space-x-4 sticky top-0",children:[h.jsx(on,{className:"flex-grow outline-none focus:outline-none",placeholder:"Search knowledge base...",onChange:y=>i(y.target.value)}),(o==null?void 0:o.role)!=="viewer"&&h.jsx(sF,{label:"Add Knowledge Entry",onButtonClick:()=>e(ree.entry)})]}),h.jsx(Hoe,{knowledgeEntries:_,handleTabChange:t})]}),u.showConfirmDeleteKnowledgeEntryDialog&&h.jsx(ka,{title:x.title,description:x.description,isOpen:u.showConfirmDeleteKnowledgeEntryDialog,setDialogState:y=>d("showConfirmDeleteKnowledgeEntryDialog",y),onDelete:v})]}):h.jsx(ub,{heading:"No Knowledge Base Selected",description:"Select a knowledge base category to view its contents here."})},mle=({base:t,onItemClick:e})=>{const n=Et(l=>l.admin),r=Vt(l=>l.selectedKnowledgeBaseName),s=Vt(l=>l.setSelectedKnowledgeBaseItem),i=Nr(l=>l.openDialog),o=()=>{s(t),i("showRenameKnowledgeBaseDialog")},a=()=>{s(t),i("showConfirmDeleteKnowledgeBaseDialog")};return h.jsxs("div",{className:`flex justify-between p-2 rounded-md cursor-pointer transition-colors ${r===t?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,onClick:()=>e(t),children:[t,(n==null?void 0:n.role)!=="viewer"&&h.jsx(lt,{className:"bg-transparent hover:bg-transparent size-8 p-0 h-fit",children:h.jsx(zV,{onRenameKnowledge:o,onDeleteKnowledge:a})})]})},gle=({knowledgeBaseNameList:t,handleTabChange:e})=>{const n=Vt(i=>i.setSelectedKnowledgeBaseName),r=Vt(i=>i.selectedKnowledgeBaseName),s=i=>{e("knowledgeEntry"),r!==i&&n(i)};return h.jsx("div",{children:h.jsx(pu,{listStyle:"space-y-2",items:t,renderItem:i=>h.jsx(mle,{base:i,onItemClick:s})})})},tv=CF,yle=RF,n4=m.forwardRef(({className:t,...e},n)=>h.jsx(vb,{ref:n,className:ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));n4.displayName=vb.displayName;const Tf=m.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(yle,{children:[h.jsx(n4,{}),h.jsxs(wb,{ref:r,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,h.jsxs(Eb,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[h.jsx(ny,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Tf.displayName=wb.displayName;const bf=({className:t,...e})=>h.jsx("div",{className:ce("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});bf.displayName="DialogHeader";const nv=({className:t,...e})=>h.jsx("div",{className:ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});nv.displayName="DialogFooter";const Sf=m.forwardRef(({className:t,...e},n)=>h.jsx(xb,{ref:n,className:ce("text-lg font-semibold leading-none tracking-tight",t),...e}));Sf.displayName=xb.displayName;const If=m.forwardRef(({className:t,...e},n)=>h.jsx(_b,{ref:n,className:ce("text-sm text-muted-foreground",t),...e}));If.displayName=_b.displayName;var Af=t=>t.type==="checkbox",Ma=t=>t instanceof Date,Jn=t=>t==null;const r4=t=>typeof t=="object";var Jt=t=>!Jn(t)&&!Array.isArray(t)&&r4(t)&&!Ma(t),s4=t=>Jt(t)&&t.target?Af(t.target)?t.target.checked:t.target.value:t,vle=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,i4=(t,e)=>t.has(vle(e)),wle=t=>{const e=t.constructor&&t.constructor.prototype;return Jt(e)&&e.hasOwnProperty("isPrototypeOf")},Tb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function sr(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Tb&&(t instanceof Blob||t instanceof FileList))&&(n||Jt(t)))if(e=n?[]:{},!n&&!wle(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=sr(t[r]));else return t;return e}var rv=t=>Array.isArray(t)?t.filter(Boolean):[],Ht=t=>t===void 0,oe=(t,e,n)=>{if(!e||!Jt(t))return n;const r=rv(e.split(/[,[\].]+?/)).reduce((s,i)=>Jn(s)?s:s[i],t);return Ht(r)||r===t?Ht(t[e])?n:t[e]:r},$r=t=>typeof t=="boolean",bb=t=>/^\w*$/.test(t),o4=t=>rv(t.replace(/["|']|\]/g,"").split(/\.|\[/)),_t=(t,e,n)=>{let r=-1;const s=bb(e)?[e]:o4(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let l=n;if(r!==o){const c=t[a];l=Jt(c)||Array.isArray(c)?c:isNaN(+s[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const _g={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},hs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Zs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},xle=We.createContext(null),Sb=()=>We.useContext(xle);var a4=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==hs.all&&(e._proxyFormState[o]=!r||hs.all),n&&(n[o]=!0),t[o]}});return s},ar=t=>Jt(t)&&!Object.keys(t).length,l4=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return ar(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||hs.all))},Od=t=>Array.isArray(t)?t:[t],c4=(t,e,n)=>!t||!e||t===e||Od(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function Ib(t){const e=We.useRef(t);e.current=t,We.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function _le(t){const e=Sb(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,a]=We.useState(n._formState),l=We.useRef(!0),c=We.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=We.useRef(s);return u.current=s,Ib({disabled:r,next:d=>l.current&&c4(u.current,d.name,i)&&l4(d,c.current,n._updateFormState)&&a({...n._formState,...d}),subject:n._subjects.state}),We.useEffect(()=>(l.current=!0,c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),a4(o,n,c.current,!1)}var Ls=t=>typeof t=="string",u4=(t,e,n,r,s)=>Ls(t)?(r&&e.watch.add(t),oe(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),oe(n,i))):(r&&(e.watchAll=!0),n);function Ele(t){const e=Sb(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o}=t||{},a=We.useRef(r);a.current=r,Ib({disabled:i,subject:n._subjects.values,next:u=>{c4(a.current,u.name,o)&&c(sr(u4(a.current,n._names,u.values||n._formValues,!1,s)))}});const[l,c]=We.useState(n._getWatch(r,s));return We.useEffect(()=>n._removeUnmounted()),l}function Tle(t){const e=Sb(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i}=t,o=i4(s._names.array,n),a=Ele({control:s,name:n,defaultValue:oe(s._formValues,n,oe(s._defaultValues,n,t.defaultValue)),exact:!0}),l=_le({control:s,name:n,exact:!0}),c=We.useRef(s.register(n,{...t.rules,value:a,...$r(t.disabled)?{disabled:t.disabled}:{}}));return We.useEffect(()=>{const u=s._options.shouldUnregister||i,d=(p,g)=>{const w=oe(s._fields,p);w&&w._f&&(w._f.mount=g)};if(d(n,!0),u){const p=sr(oe(s._options.defaultValues,n));_t(s._defaultValues,n,p),Ht(oe(s._formValues,n))&&_t(s._formValues,n,p)}return()=>{(o?u&&!s._state.action:u)?s.unregister(n):d(n,!1)}},[n,s,o,i]),We.useEffect(()=>{oe(s._fields,n)&&s._updateDisabledField({disabled:r,fields:s._fields,name:n,value:oe(s._fields,n)._f.value})},[r,n,s]),{field:{name:n,value:a,...$r(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:We.useCallback(u=>c.current.onChange({target:{value:s4(u),name:n},type:_g.CHANGE}),[n]),onBlur:We.useCallback(()=>c.current.onBlur({target:{value:oe(s._formValues,n),name:n},type:_g.BLUR}),[n,s]),ref:We.useCallback(u=>{const d=oe(s._fields,n);d&&u&&(d._f.ref={focus:()=>u.focus(),select:()=>u.select(),setCustomValidity:p=>u.setCustomValidity(p),reportValidity:()=>u.reportValidity()})},[s._fields,n])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!oe(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!oe(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!oe(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!oe(l.validatingFields,n)},error:{enumerable:!0,get:()=>oe(l.errors,n)}})}}const ble=t=>t.render(Tle(t));var Sle=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},fR=t=>({isOnSubmit:!t||t===hs.onSubmit,isOnBlur:t===hs.onBlur,isOnChange:t===hs.onChange,isOnAll:t===hs.all,isOnTouch:t===hs.onTouched}),pR=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const jd=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=oe(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(jd(a,e))break}else if(Jt(a)&&jd(a,e))break}}};var Ile=(t,e,n)=>{const r=Od(oe(t,n));return _t(r,"root",e[n]),_t(t,n,r),t},Ab=t=>t.type==="file",di=t=>typeof t=="function",Eg=t=>{if(!Tb)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},dm=t=>Ls(t),Cb=t=>t.type==="radio",Tg=t=>t instanceof RegExp;const mR={value:!1,isValid:!1},gR={value:!0,isValid:!0};var d4=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ht(t[0].attributes.value)?Ht(t[0].value)||t[0].value===""?gR:{value:t[0].value,isValid:!0}:gR:mR}return mR};const yR={isValid:!1,value:null};var h4=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,yR):yR;function vR(t,e,n="validate"){if(dm(t)||Array.isArray(t)&&t.every(dm)||$r(t)&&!t)return{type:n,message:dm(t)?t:"",ref:e}}var Ol=t=>Jt(t)&&!Tg(t)?t:{value:t,message:""},wR=async(t,e,n,r,s)=>{const{ref:i,refs:o,required:a,maxLength:l,minLength:c,min:u,max:d,pattern:p,validate:g,name:w,valueAsNumber:v,mount:_,disabled:x}=t._f,y=oe(e,w);if(!_||x)return{};const b=o?o[0]:i,I=k=>{r&&b.reportValidity&&(b.setCustomValidity($r(k)?"":k||""),b.reportValidity())},D={},O=Cb(i),A=Af(i),T=O||A,R=(v||Ab(i))&&Ht(i.value)&&Ht(y)||Eg(i)&&i.value===""||y===""||Array.isArray(y)&&!y.length,C=Sle.bind(null,w,n,D),M=(k,N,H,ae=Zs.maxLength,te=Zs.minLength)=>{const ne=k?N:H;D[w]={type:k?ae:te,message:ne,ref:i,...C(k?ae:te,ne)}};if(s?!Array.isArray(y)||!y.length:a&&(!T&&(R||Jn(y))||$r(y)&&!y||A&&!d4(o).isValid||O&&!h4(o).isValid)){const{value:k,message:N}=dm(a)?{value:!!a,message:a}:Ol(a);if(k&&(D[w]={type:Zs.required,message:N,ref:b,...C(Zs.required,N)},!n))return I(N),D}if(!R&&(!Jn(u)||!Jn(d))){let k,N;const H=Ol(d),ae=Ol(u);if(!Jn(y)&&!isNaN(y)){const te=i.valueAsNumber||y&&+y;Jn(H.value)||(k=te>H.value),Jn(ae.value)||(N=te<ae.value)}else{const te=i.valueAsDate||new Date(y),ne=Z=>new Date(new Date().toDateString()+" "+Z),z=i.type=="time",B=i.type=="week";Ls(H.value)&&y&&(k=z?ne(y)>ne(H.value):B?y>H.value:te>new Date(H.value)),Ls(ae.value)&&y&&(N=z?ne(y)<ne(ae.value):B?y<ae.value:te<new Date(ae.value))}if((k||N)&&(M(!!k,H.message,ae.message,Zs.max,Zs.min),!n))return I(D[w].message),D}if((l||c)&&!R&&(Ls(y)||s&&Array.isArray(y))){const k=Ol(l),N=Ol(c),H=!Jn(k.value)&&y.length>+k.value,ae=!Jn(N.value)&&y.length<+N.value;if((H||ae)&&(M(H,k.message,N.message),!n))return I(D[w].message),D}if(p&&!R&&Ls(y)){const{value:k,message:N}=Ol(p);if(Tg(k)&&!y.match(k)&&(D[w]={type:Zs.pattern,message:N,ref:i,...C(Zs.pattern,N)},!n))return I(N),D}if(g){if(di(g)){const k=await g(y,e),N=vR(k,b);if(N&&(D[w]={...N,...C(Zs.validate,N.message)},!n))return I(N.message),D}else if(Jt(g)){let k={};for(const N in g){if(!ar(k)&&!n)break;const H=vR(await g[N](y,e),b,N);H&&(k={...H,...C(N,H.message)},I(H.message),n&&(D[w]=k))}if(!ar(k)&&(D[w]={ref:b,...k},!n))return D}}return I(!0),D};function Ale(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Ht(t)?r++:t[e[r++]];return t}function Cle(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ht(t[e]))return!1;return!0}function an(t,e){const n=Array.isArray(e)?e:bb(e)?[e]:o4(e),r=n.length===1?t:Ale(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(Jt(r)&&ar(r)||Array.isArray(r)&&Cle(r))&&an(t,n.slice(0,-1)),t}var Lw=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},Gx=t=>Jn(t)||!r4(t);function uo(t,e){if(Gx(t)||Gx(e))return t===e;if(Ma(t)&&Ma(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Ma(i)&&Ma(o)||Jt(i)&&Jt(o)||Array.isArray(i)&&Array.isArray(o)?!uo(i,o):i!==o)return!1}}return!0}var f4=t=>t.type==="select-multiple",Rle=t=>Cb(t)||Af(t),Vw=t=>Eg(t)&&t.isConnected,p4=t=>{for(const e in t)if(di(t[e]))return!0;return!1};function bg(t,e={}){const n=Array.isArray(t);if(Jt(t)||n)for(const r in t)Array.isArray(t[r])||Jt(t[r])&&!p4(t[r])?(e[r]=Array.isArray(t[r])?[]:{},bg(t[r],e[r])):Jn(t[r])||(e[r]=!0);return e}function m4(t,e,n){const r=Array.isArray(t);if(Jt(t)||r)for(const s in t)Array.isArray(t[s])||Jt(t[s])&&!p4(t[s])?Ht(e)||Gx(n[s])?n[s]=Array.isArray(t[s])?bg(t[s],[]):{...bg(t[s])}:m4(t[s],Jn(e)?{}:e[s],n[s]):n[s]=!uo(t[s],e[s]);return n}var Xu=(t,e)=>m4(t,e,bg(e)),g4=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Ht(t)?t:e?t===""?NaN:t&&+t:n&&Ls(t)?new Date(t):r?r(t):t;function Fw(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return Ab(e)?e.files:Cb(e)?h4(t.refs).value:f4(e)?[...e.selectedOptions].map(({value:n})=>n):Af(e)?d4(t.refs).value:g4(Ht(e.value)?t.ref.value:e.value,t)}var Ple=(t,e,n,r)=>{const s={};for(const i of t){const o=oe(e,i);o&&_t(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Ju=t=>Ht(t)?t:Tg(t)?t.source:Jt(t)?Tg(t.value)?t.value.source:t.value:t;const xR="AsyncFunction";var Nle=t=>(!t||!t.validate)&&!!(di(t.validate)&&t.validate.constructor.name===xR||Jt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===xR)),Dle=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function _R(t,e,n){const r=oe(t,n);if(r||bb(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=oe(e,i),a=oe(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var kle=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,Mle=(t,e)=>!rv(oe(t,e)).length&&an(t,e);const Ole={mode:hs.onSubmit,reValidateMode:hs.onChange,shouldFocusError:!0};function jle(t={}){let e={...Ole,...t},n={submitCount:0,isDirty:!1,isLoading:di(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=Jt(e.defaultValues)||Jt(e.values)?sr(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:sr(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:Lw(),array:Lw(),state:Lw()},p=fR(e.mode),g=fR(e.reValidateMode),w=e.criteriaMode===hs.all,v=j=>$=>{clearTimeout(c),c=setTimeout(j,$)},_=async j=>{if(!t.disabled&&(u.isValid||j)){const $=e.resolver?ar((await T()).errors):await C(r,!0);$!==n.isValid&&d.state.next({isValid:$})}},x=(j,$)=>{!t.disabled&&(u.isValidating||u.validatingFields)&&((j||Array.from(a.mount)).forEach(q=>{q&&($?_t(n.validatingFields,q,$):an(n.validatingFields,q))}),d.state.next({validatingFields:n.validatingFields,isValidating:!ar(n.validatingFields)}))},y=(j,$=[],q,le,re=!0,J=!0)=>{if(le&&q&&!t.disabled){if(o.action=!0,J&&Array.isArray(oe(r,j))){const Ee=q(oe(r,j),le.argA,le.argB);re&&_t(r,j,Ee)}if(J&&Array.isArray(oe(n.errors,j))){const Ee=q(oe(n.errors,j),le.argA,le.argB);re&&_t(n.errors,j,Ee),Mle(n.errors,j)}if(u.touchedFields&&J&&Array.isArray(oe(n.touchedFields,j))){const Ee=q(oe(n.touchedFields,j),le.argA,le.argB);re&&_t(n.touchedFields,j,Ee)}u.dirtyFields&&(n.dirtyFields=Xu(s,i)),d.state.next({name:j,isDirty:k(j,$),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else _t(i,j,$)},b=(j,$)=>{_t(n.errors,j,$),d.state.next({errors:n.errors})},I=j=>{n.errors=j,d.state.next({errors:n.errors,isValid:!1})},D=(j,$,q,le)=>{const re=oe(r,j);if(re){const J=oe(i,j,Ht(q)?oe(s,j):q);Ht(J)||le&&le.defaultChecked||$?_t(i,j,$?J:Fw(re._f)):ae(j,J),o.mount&&_()}},O=(j,$,q,le,re)=>{let J=!1,Ee=!1;const je={name:j};if(!t.disabled){const Le=!!(oe(r,j)&&oe(r,j)._f&&oe(r,j)._f.disabled);if(!q||le){u.isDirty&&(Ee=n.isDirty,n.isDirty=je.isDirty=k(),J=Ee!==je.isDirty);const Be=Le||uo(oe(s,j),$);Ee=!!(!Le&&oe(n.dirtyFields,j)),Be||Le?an(n.dirtyFields,j):_t(n.dirtyFields,j,!0),je.dirtyFields=n.dirtyFields,J=J||u.dirtyFields&&Ee!==!Be}if(q){const Be=oe(n.touchedFields,j);Be||(_t(n.touchedFields,j,q),je.touchedFields=n.touchedFields,J=J||u.touchedFields&&Be!==q)}J&&re&&d.state.next(je)}return J?je:{}},A=(j,$,q,le)=>{const re=oe(n.errors,j),J=u.isValid&&$r($)&&n.isValid!==$;if(t.delayError&&q?(l=v(()=>b(j,q)),l(t.delayError)):(clearTimeout(c),l=null,q?_t(n.errors,j,q):an(n.errors,j)),(q?!uo(re,q):re)||!ar(le)||J){const Ee={...le,...J&&$r($)?{isValid:$}:{},errors:n.errors,name:j};n={...n,...Ee},d.state.next(Ee)}},T=async j=>{x(j,!0);const $=await e.resolver(i,e.context,Ple(j||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return x(j),$},R=async j=>{const{errors:$}=await T(j);if(j)for(const q of j){const le=oe($,q);le?_t(n.errors,q,le):an(n.errors,q)}else n.errors=$;return $},C=async(j,$,q={valid:!0})=>{for(const le in j){const re=j[le];if(re){const{_f:J,...Ee}=re;if(J){const je=a.array.has(J.name),Le=re._f&&Nle(re._f);Le&&u.validatingFields&&x([le],!0);const Be=await wR(re,i,w,e.shouldUseNativeValidation&&!$,je);if(Le&&u.validatingFields&&x([le]),Be[J.name]&&(q.valid=!1,$))break;!$&&(oe(Be,J.name)?je?Ile(n.errors,Be,J.name):_t(n.errors,J.name,Be[J.name]):an(n.errors,J.name))}!ar(Ee)&&await C(Ee,$,q)}}return q.valid},M=()=>{for(const j of a.unMount){const $=oe(r,j);$&&($._f.refs?$._f.refs.every(q=>!Vw(q)):!Vw($._f.ref))&&qe(j)}a.unMount=new Set},k=(j,$)=>!t.disabled&&(j&&$&&_t(i,j,$),!uo(pe(),s)),N=(j,$,q)=>u4(j,a,{...o.mount?i:Ht($)?s:Ls(j)?{[j]:$}:$},q,$),H=j=>rv(oe(o.mount?i:s,j,t.shouldUnregister?oe(s,j,[]):[])),ae=(j,$,q={})=>{const le=oe(r,j);let re=$;if(le){const J=le._f;J&&(!J.disabled&&_t(i,j,g4($,J)),re=Eg(J.ref)&&Jn($)?"":$,f4(J.ref)?[...J.ref.options].forEach(Ee=>Ee.selected=re.includes(Ee.value)):J.refs?Af(J.ref)?J.refs.length>1?J.refs.forEach(Ee=>(!Ee.defaultChecked||!Ee.disabled)&&(Ee.checked=Array.isArray(re)?!!re.find(je=>je===Ee.value):re===Ee.value)):J.refs[0]&&(J.refs[0].checked=!!re):J.refs.forEach(Ee=>Ee.checked=Ee.value===re):Ab(J.ref)?J.ref.value="":(J.ref.value=re,J.ref.type||d.values.next({name:j,values:{...i}})))}(q.shouldDirty||q.shouldTouch)&&O(j,re,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&Z(j)},te=(j,$,q)=>{for(const le in $){const re=$[le],J=`${j}.${le}`,Ee=oe(r,J);(a.array.has(j)||Jt(re)||Ee&&!Ee._f)&&!Ma(re)?te(J,re,q):ae(J,re,q)}},ne=(j,$,q={})=>{const le=oe(r,j),re=a.array.has(j),J=sr($);_t(i,j,J),re?(d.array.next({name:j,values:{...i}}),(u.isDirty||u.dirtyFields)&&q.shouldDirty&&d.state.next({name:j,dirtyFields:Xu(s,i),isDirty:k(j,J)})):le&&!le._f&&!Jn(J)?te(j,J,q):ae(j,J,q),pR(j,a)&&d.state.next({...n}),d.values.next({name:o.mount?j:void 0,values:{...i}})},z=async j=>{o.mount=!0;const $=j.target;let q=$.name,le=!0;const re=oe(r,q),J=()=>$.type?Fw(re._f):s4(j),Ee=je=>{le=Number.isNaN(je)||Ma(je)&&isNaN(je.getTime())||uo(je,oe(i,q,je))};if(re){let je,Le;const Be=J(),zn=j.type===_g.BLUR||j.type===_g.FOCUS_OUT,Ui=!Dle(re._f)&&!e.resolver&&!oe(n.errors,q)&&!re._f.deps||kle(zn,oe(n.touchedFields,q),n.isSubmitted,g,p),Kn=pR(q,a,zn);_t(i,q,Be),zn?(re._f.onBlur&&re._f.onBlur(j),l&&l(0)):re._f.onChange&&re._f.onChange(j);const Wn=O(q,Be,zn,!1),bs=!ar(Wn)||Kn;if(!zn&&d.values.next({name:q,type:j.type,values:{...i}}),Ui)return u.isValid&&(t.mode==="onBlur"?zn&&_():_()),bs&&d.state.next({name:q,...Kn?{}:Wn});if(!zn&&Kn&&d.state.next({...n}),e.resolver){const{errors:Ss}=await T([q]);if(Ee(Be),le){const El=_R(n.errors,r,q),Hn=_R(Ss,r,El.name||q);je=Hn.error,q=Hn.name,Le=ar(Ss)}}else x([q],!0),je=(await wR(re,i,w,e.shouldUseNativeValidation))[q],x([q]),Ee(Be),le&&(je?Le=!1:u.isValid&&(Le=await C(r,!0)));le&&(re._f.deps&&Z(re._f.deps),A(q,Le,je,Wn))}},B=(j,$)=>{if(oe(n.errors,$)&&j.focus)return j.focus(),1},Z=async(j,$={})=>{let q,le;const re=Od(j);if(e.resolver){const J=await R(Ht(j)?j:re);q=ar(J),le=j?!re.some(Ee=>oe(J,Ee)):q}else j?(le=(await Promise.all(re.map(async J=>{const Ee=oe(r,J);return await C(Ee&&Ee._f?{[J]:Ee}:Ee)}))).every(Boolean),!(!le&&!n.isValid)&&_()):le=q=await C(r);return d.state.next({...!Ls(j)||u.isValid&&q!==n.isValid?{}:{name:j},...e.resolver||!j?{isValid:q}:{},errors:n.errors}),$.shouldFocus&&!le&&jd(r,B,j?re:a.mount),le},pe=j=>{const $={...o.mount?i:s};return Ht(j)?$:Ls(j)?oe($,j):j.map(q=>oe($,q))},Te=(j,$)=>({invalid:!!oe(($||n).errors,j),isDirty:!!oe(($||n).dirtyFields,j),error:oe(($||n).errors,j),isValidating:!!oe(n.validatingFields,j),isTouched:!!oe(($||n).touchedFields,j)}),Re=j=>{j&&Od(j).forEach($=>an(n.errors,$)),d.state.next({errors:j?n.errors:{}})},Je=(j,$,q)=>{const le=(oe(r,j,{_f:{}})._f||{}).ref,re=oe(n.errors,j)||{},{ref:J,message:Ee,type:je,...Le}=re;_t(n.errors,j,{...Le,...$,ref:le}),d.state.next({name:j,errors:n.errors,isValid:!1}),q&&q.shouldFocus&&le&&le.focus&&le.focus()},wt=(j,$)=>di(j)?d.values.subscribe({next:q=>j(N(void 0,$),q)}):N(j,$,!0),qe=(j,$={})=>{for(const q of j?Od(j):a.mount)a.mount.delete(q),a.array.delete(q),$.keepValue||(an(r,q),an(i,q)),!$.keepError&&an(n.errors,q),!$.keepDirty&&an(n.dirtyFields,q),!$.keepTouched&&an(n.touchedFields,q),!$.keepIsValidating&&an(n.validatingFields,q),!e.shouldUnregister&&!$.keepDefaultValue&&an(s,q);d.values.next({values:{...i}}),d.state.next({...n,...$.keepDirty?{isDirty:k()}:{}}),!$.keepIsValid&&_()},ue=({disabled:j,name:$,field:q,fields:le,value:re})=>{if($r(j)&&o.mount||j){const J=j?void 0:Ht(re)?Fw(q?q._f:oe(le,$)._f):re;_t(i,$,J),O($,J,!1,!1,!0)}},Ve=(j,$={})=>{let q=oe(r,j);const le=$r($.disabled)||$r(t.disabled);return _t(r,j,{...q||{},_f:{...q&&q._f?q._f:{ref:{name:j}},name:j,mount:!0,...$}}),a.mount.add(j),q?ue({field:q,disabled:$r($.disabled)?$.disabled:t.disabled,name:j,value:$.value}):D(j,!0,$.value),{...le?{disabled:$.disabled||t.disabled}:{},...e.progressive?{required:!!$.required,min:Ju($.min),max:Ju($.max),minLength:Ju($.minLength),maxLength:Ju($.maxLength),pattern:Ju($.pattern)}:{},name:j,onChange:z,onBlur:z,ref:re=>{if(re){Ve(j,$),q=oe(r,j);const J=Ht(re.value)&&re.querySelectorAll&&re.querySelectorAll("input,select,textarea")[0]||re,Ee=Rle(J),je=q._f.refs||[];if(Ee?je.find(Le=>Le===J):J===q._f.ref)return;_t(r,j,{_f:{...q._f,...Ee?{refs:[...je.filter(Vw),J,...Array.isArray(oe(s,j))?[{}]:[]],ref:{type:J.type,name:j}}:{ref:J}}}),D(j,!1,void 0,J)}else q=oe(r,j,{}),q._f&&(q._f.mount=!1),(e.shouldUnregister||$.shouldUnregister)&&!(i4(a.array,j)&&o.action)&&a.unMount.add(j)}}},st=()=>e.shouldFocusError&&jd(r,B,a.mount),Fe=j=>{$r(j)&&(d.state.next({disabled:j}),jd(r,($,q)=>{const le=oe(r,q);le&&($.disabled=le._f.disabled||j,Array.isArray(le._f.refs)&&le._f.refs.forEach(re=>{re.disabled=le._f.disabled||j}))},0,!1))},Ke=(j,$)=>async q=>{let le;q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let re=sr(i);if(d.state.next({isSubmitting:!0}),e.resolver){const{errors:J,values:Ee}=await T();n.errors=J,re=Ee}else await C(r);if(an(n.errors,"root"),ar(n.errors)){d.state.next({errors:{}});try{await j(re,q)}catch(J){le=J}}else $&&await $({...n.errors},q),st(),setTimeout(st);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ar(n.errors)&&!le,submitCount:n.submitCount+1,errors:n.errors}),le)throw le},Qe=(j,$={})=>{oe(r,j)&&(Ht($.defaultValue)?ne(j,sr(oe(s,j))):(ne(j,$.defaultValue),_t(s,j,sr($.defaultValue))),$.keepTouched||an(n.touchedFields,j),$.keepDirty||(an(n.dirtyFields,j),n.isDirty=$.defaultValue?k(j,sr(oe(s,j))):k()),$.keepError||(an(n.errors,j),u.isValid&&_()),d.state.next({...n}))},$t=(j,$={})=>{const q=j?sr(j):s,le=sr(q),re=ar(j),J=re?s:le;if($.keepDefaultValues||(s=q),!$.keepValues){if($.keepDirtyValues){const Ee=new Set([...a.mount,...Object.keys(Xu(s,i))]);for(const je of Array.from(Ee))oe(n.dirtyFields,je)?_t(J,je,oe(i,je)):ne(je,oe(J,je))}else{if(Tb&&Ht(j))for(const Ee of a.mount){const je=oe(r,Ee);if(je&&je._f){const Le=Array.isArray(je._f.refs)?je._f.refs[0]:je._f.ref;if(Eg(Le)){const Be=Le.closest("form");if(Be){Be.reset();break}}}}r={}}i=t.shouldUnregister?$.keepDefaultValues?sr(s):{}:sr(J),d.array.next({values:{...J}}),d.values.next({values:{...J}})}a={mount:$.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!$.keepIsValid||!!$.keepDirtyValues,o.watch=!!t.shouldUnregister,d.state.next({submitCount:$.keepSubmitCount?n.submitCount:0,isDirty:re?!1:$.keepDirty?n.isDirty:!!($.keepDefaultValues&&!uo(j,s)),isSubmitted:$.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:re?{}:$.keepDirtyValues?$.keepDefaultValues&&i?Xu(s,i):n.dirtyFields:$.keepDefaultValues&&j?Xu(s,j):$.keepDirty?n.dirtyFields:{},touchedFields:$.keepTouched?n.touchedFields:{},errors:$.keepErrors?n.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},it=(j,$)=>$t(di(j)?j(i):j,$);return{control:{register:Ve,unregister:qe,getFieldState:Te,handleSubmit:Ke,setError:Je,_executeSchema:T,_getWatch:N,_getDirty:k,_updateValid:_,_removeUnmounted:M,_updateFieldArray:y,_updateDisabledField:ue,_getFieldArray:H,_reset:$t,_resetDefaultValues:()=>di(e.defaultValues)&&e.defaultValues().then(j=>{it(j,e.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:j=>{n={...n,...j}},_disableForm:Fe,_subjects:d,_proxyFormState:u,_setErrors:I,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(j){o=j},get _defaultValues(){return s},get _names(){return a},set _names(j){a=j},get _formState(){return n},set _formState(j){n=j},get _options(){return e},set _options(j){e={...e,...j}}},trigger:Z,register:Ve,handleSubmit:Ke,watch:wt,setValue:ne,getValues:pe,reset:it,resetField:Qe,clearErrors:Re,unregister:qe,setError:Je,setFocus:(j,$={})=>{const q=oe(r,j),le=q&&q._f;if(le){const re=le.refs?le.refs[0]:le.ref;re.focus&&(re.focus(),$.shouldSelect&&re.select())}},getFieldState:Te}}function Rb(t={}){const e=We.useRef(),n=We.useRef(),[r,s]=We.useState({isDirty:!1,isValidating:!1,isLoading:di(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:di(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...jle(t),formState:r});const i=e.current.control;return i._options=t,Ib({subject:i._subjects.state,next:o=>{l4(o,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),We.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),We.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),We.useEffect(()=>{t.values&&!uo(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),We.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),We.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),We.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),We.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=a4(r,i),e.current}const Lle=({currentName:t,isOpen:e,setDialogState:n,onRenameKnowledge:r,isLoading:s})=>{const{register:i,reset:o,handleSubmit:a,formState:{errors:l,isSubmitted:c}}=Rb({defaultValues:{newKnowledgeBaseName:t}}),u=async p=>{await r(p.newKnowledgeBaseName),d()},d=(p=void 0)=>{n(p??!1),o({}),setTimeout(()=>{p||(document.body.style.pointerEvents="")},100)};return h.jsx(tv,{open:e,onOpenChange:p=>{d(p)},children:h.jsxs(Tf,{className:"sm:max-w-[425px]",children:[h.jsxs(bf,{children:[h.jsx(Sf,{className:"text-2xl font-bold",children:"Rename Knowledge Base"}),h.jsx(If,{children:"Enter a new name for the knowledge base to update its name."})]}),h.jsxs("form",{onSubmit:a(u),className:"text-sm space-y-2",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx(hn,{htmlFor:"current-password",children:"Knowledge Base Name"}),h.jsx(on,{placeholder:"Enter new knowledge base name",...i("newKnowledgeBaseName",{required:"Please enter a new Knowledge Base name",minLength:{value:4,message:"Knowledge base name must be atleast 4 characters"}})}),c&&l.newKnowledgeBaseName&&h.jsx("p",{className:"text-red-500",children:l.newKnowledgeBaseName.message})]}),h.jsx(nv,{children:h.jsx(lt,{type:"submit",className:"w-40",children:s?h.jsx(xl,{}):"Rename"})})]})]})})},Vle=({onTabChange:t})=>{const e=_l(),n=Vi(),{handleFilterChange:r,filter:s}=oF(),i=Et(C=>C.admin),o=Vt(C=>C.selectedKnowledgeBaseItem),a=Vt(C=>C.setSelectedKnowledgeBaseItem),l=Vt(C=>C.selectedKnowledgeBaseName),c=Vt(C=>C.setSelectedKnowledgeBaseName),u=Vt(C=>C.setSelectedKnowledgeEntry),d=Xr(C=>C.openModal),p=Xr(C=>C.setMode),g=dt(C=>C.clearFormData),w=Nr(C=>C.dialogs),v=Nr(C=>C.setDialogState),{data:_,isLoading:x}=Ef({queryFn:()=>Aoe(),queryKey:Md}),{mutateAsync:y}=Sr({mutationFn:koe,onSuccess:()=>{e.invalidateQueries({queryKey:Md}),e.invalidateQueries({queryKey:gg}),n({title:`Knowledge Base ${o} deleted`,description:rt()})},onError:C=>{n({title:C==null?void 0:C.message,description:rt(),variant:"destructive"}),yt(C.message||"An Unexpected error occured while deleting knowledge base")}}),{mutateAsync:b,isPending:I}=Sr({mutationFn:Doe,onSuccess:C=>{e.invalidateQueries({queryKey:Md}),n({title:C,description:rt()})},onError:C=>{n({title:C==null?void 0:C.message,description:rt(),variant:"destructive"}),yt(C.message||"An Unexpected error occured while deleting knowledge base")}}),D=m.useMemo(()=>_==null?void 0:_.filter(C=>C.toLowerCase().includes(s.toLowerCase())),[_,s]),O=async()=>{if(!o)throw new Error("No knowledge base selected cannot delete");await y(o),a(""),l&&l===o&&(c(""),u(null))},A=async C=>{try{if(!o)throw new Error("No selected knowledge base");await b({knowledgeBaseName:o,newKnowledgeBaseName:C}),l&&l===o&&c(C)}catch(M){if(M instanceof Error){yt(M.message,!0);return}console.error("Am umexpected error occured: ",M)}},T=C=>{g(),p(C),d()},R=rc.base(o);return x?h.jsx(iF,{}):_?h.jsxs(Cy,{value:"knowledgeBase",className:"mt-2",children:[h.jsxs("div",{className:"h-[450px] md:h-[600px] w-full px-4 pb-4 flex flex-col overflow-y-auto scrollbar-slim",children:[h.jsxs("div",{className:"flex mb-2 space-x-4 sticky top-0",children:[h.jsx(on,{className:"flex-grow outline-none focus:outline-none",placeholder:"Search knowledge base...",onChange:C=>r(C.target.value)}),(i==null?void 0:i.role)!=="viewer"&&h.jsx(sF,{label:"Add Knowledge Base",onButtonClick:()=>T("BASE")})]}),h.jsx(gle,{knowledgeBaseNameList:D,handleTabChange:t})]}),w.showConfirmDeleteKnowledgeBaseDialog&&h.jsx(ka,{title:R.title,description:R.description,isOpen:w.showConfirmDeleteKnowledgeBaseDialog,setDialogState:C=>v("showConfirmDeleteKnowledgeBaseDialog",C),onDelete:O}),w.showRenameKnowledgeBaseDialog&&h.jsx(Lle,{currentName:o,isOpen:w.showRenameKnowledgeBaseDialog,setDialogState:C=>v("showRenameKnowledgeBaseDialog",C),onRenameKnowledge:A,isLoading:I})]}):h.jsx(ub,{heading:"Empty Knowledge Base",description:"No knowledge base found"})},Fle=()=>{const t=mi(n=>n.currentSelectedKnowledgeTab),e=mi(n=>n.setCurrentSelectedKnowledgeTab);return h.jsxs(aL,{value:t,onValueChange:n=>e(n),className:"w-full p-0 border-neutral-200 bg-white border shadow-sm text-sm md:text-base rounded-md overflow-hidden box-border",children:[h.jsx(IZ,{tabs:bZ}),t==="knowledgeBase"&&h.jsx(Vle,{onTabChange:e}),t==="knowledgeEntry"&&h.jsx(ple,{onTabChange:e}),t==="entryDetails"&&h.jsx(Koe,{})]})},hi=Li((t,e)=>({currentStep:1,totalStep:3,nextStep:()=>{e().currentStep!==e().totalStep&&t(n=>({currentStep:n.currentStep+1}))},prevStep:()=>{e().currentStep!==1&&t(n=>({currentStep:n.currentStep-1}))},setTotalStep:n=>{if(n==="BASE")return t(()=>({totalStep:3}));t(()=>({totalStep:2}))},resetCurrentStep:()=>{t(()=>({currentStep:1}))}})),Ule=({progressData:t})=>{const e=hi(s=>s.totalStep),n=hi(s=>s.currentStep),r=(n-1)/(e-1)*100;return h.jsxs("div",{className:"mt-4 mb-8",children:[h.jsx("div",{className:"flex justify-between mb-2",children:[...Array(e)].map((s,i)=>h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${n>=i+1?"bg-lightGray text-htext":"bg-lightGray-darker text-muted-foreground"}`,children:i+1}),h.jsx("span",{className:"text-xs mt-1",children:t[i+1]})]},i))}),h.jsx("div",{className:"h-2 bg-muted rounded-full",children:h.jsx("div",{className:"h-full bg-blue-600 rounded-full transition-all duration-300 ease-in-out",style:{width:`${r}%`}})})]})},Ld=({errorMessage:t})=>h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx(Pk,{className:"text-destructive size-5",strokeWidth:1.5}),h.jsx("div",{className:"text-destructive text-sm",children:t})]}),Ble=()=>{const{knowledgeBaseName:t}=dt(r=>r.formData),{knowledgeBaseName:e}=dt(r=>r.formDataErrors),n=dt(r=>r.setFormData);return h.jsx("div",{className:"space-y-1",children:h.jsxs(h.Fragment,{children:[h.jsx("label",{htmlFor:"knowledgeBaseName",className:"block text-sm font-medium",children:"Knowledge Base Name"}),h.jsx(on,{name:"knowledgeBaseName",placeholder:"Enter knowledge base name",value:t,className:ce(e&&"border-destructive"),onChange:r=>n(r.target.name,r.target.value)}),e&&h.jsx(Ld,{errorMessage:e})]})})},ER=()=>{const{intent:t,documents:e,answer:n}=dt(I=>I.formData),{intent:r,documents:s,answer:i}=dt(I=>I.formDataErrors),o=dt(I=>I.setDocuments),a=dt(I=>I.removeDocument),l=dt(I=>I.setFormData),c=dt(I=>I.addDocument),u=Vt(I=>I.selectedKnowledgeBaseName),d=Xr(I=>I.modalMode),{file:p,isLinkDialogOpen:g,setIsLinkDialogOpen:w,handleFileChange:v,handleInsertLink:_,handleRemoveFile:x,fileInputRef:y,answerTextAreaRef:b}=BV(n);return m.useEffect(()=>{d==="ENTRY"&&l("knowledgeBaseName",u)},[]),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-1.5",children:[h.jsx(hn,{children:"Intent"}),h.jsx(on,{placeholder:"Enter the intent",value:t,className:ce(r&&"border-destructive"),onChange:I=>l("intent",I.target.value),tabIndex:1}),r&&h.jsx(Ld,{errorMessage:r})]}),h.jsxs("div",{className:"space-y-1.5",children:[h.jsx(hn,{children:"Documents"}),e.map((I,D)=>h.jsxs("div",{className:"flex",children:[h.jsx(on,{placeholder:`Enter document ${D+1}`,className:ce("rounded-none border-r-0",s&&"border-destructive"),value:I,onChange:O=>o(O.target.value,D),tabIndex:2},D),h.jsx(er,{className:"rounded-none h-[40px] border-l-0",children:h.jsxs(lt,{type:"button",variant:"ghost",size:"icon",onClick:()=>a(D),className:"hover:bg-transparent border-none",children:[h.jsx(Jh,{className:"h-4 w-4 text-gray-500 hover:text-gray-700"}),h.jsx("span",{className:"sr-only",children:"Remove document"})]})})]},D)),s&&h.jsx(Ld,{errorMessage:s}),h.jsxs(lt,{variant:"outline",onClick:c,className:"w-full",children:[h.jsx(Xh,{className:"mr-2 h-4 w-4"})," Add Document"]})]}),h.jsxs("div",{className:"space-y-1.5",children:[h.jsx(hn,{children:"Answer"}),h.jsx(SL,{answer:n,handleTextChange:l,onFileChange:v,fileRef:y,textAreaRef:b,isError:!!i,isLinkDropDownVisible:g,setIsLinkDropDownVisible:w,onInsertLink:_,tabIndex:3}),i&&h.jsx(Ld,{errorMessage:i})]}),p&&h.jsx(IL,{file:p,removeFile:x})]})},$le=({file:t})=>h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium",children:"File Details:"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:t.name})]}),TR=()=>{const{knowledgeBaseName:t,intent:e,documents:n,answer:r,file:s}=dt(i=>i.formData);return h.jsxs("div",{className:"space-y-4 break-words",children:[h.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Review Your Entry"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium",children:"Knowledge Base Name:"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium",children:"Intent:"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:e})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium",children:"Documents:"}),h.jsx("ul",{className:"list-disc pl-5 text-sm text-muted-foreground",children:n.map((i,o)=>h.jsx("li",{children:i},o))})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium",children:"Answer:"}),h.jsx("p",{className:"text-sm text-muted-foreground line-clamp-4",children:r})]}),s&&h.jsx($le,{file:s})]})},zle=()=>{const t=hi(r=>r.currentStep),e=Xr(r=>r.modalMode),n=()=>({1:{BASE:h.jsx(Ble,{}),ENTRY:h.jsx(ER,{})},2:{BASE:h.jsx(ER,{}),ENTRY:h.jsx(TR,{})},3:{BASE:h.jsx(TR,{})}})[t][e]||h.jsx(h.Fragment,{children:"No Modal Section"});return h.jsx(h.Fragment,{children:n()})},Kle=()=>{const t=Vi(),e=_l(),n=Xr(l=>l.closeModal),[r,s]=m.useState(!1),{mutateAsync:i}=Sr({mutationFn:l=>Roe(l),onSuccess:()=>{e.invalidateQueries({queryKey:Md}),t({title:"Knowledge Base saved successfully.",description:rt()})},onError:l=>{t({title:l.message,description:rt(),variant:"destructive"})}}),{mutateAsync:o}=Sr({mutationFn:l=>Poe(l),onSuccess:()=>{e.invalidateQueries({queryKey:cm}),t({title:"Knowledge Entry saved successfully.",description:rt()})},onError:l=>{t({title:l.message,description:rt(),variant:"destructive"})}});return{handleSubmitForm:async(l,c)=>{try{s(!0);let u=null;l.file&&(u=await lm(l.file)),c==="BASE"?await i(u?{...l,fileUrl:u}:l):await o(u?{...l,fileUrl:u}:l)}catch(u){if(u instanceof Error){if(u.message.includes("E11000"))return;t({title:u.message,description:rt(),variant:"destructive"})}else console.error("Unknown error type:",u),t({title:"An unknown error occurred",description:rt(),variant:"destructive"})}finally{s(!1),n()}},isLoading:r}},Wle=(t,e)=>{const n={};return t===1&&(e.knowledgeBaseName.trim()||(n.knowledgeBaseName="Knowledge Base Name is required")),t===2&&(e.intent.trim()||(n.intent="Intent is required"),e.documents.some(s=>s.trim()==="")&&(n.documents="Document is required"),e.answer.trim()||(n.answer="Answer is required")),{isValid:Object.keys(n).length===0,errors:n}},Hle=()=>{const{handleSubmitForm:t,isLoading:e}=Kle(),n=Xr(u=>u.modalMode),r=dt(u=>u.formData),s=hi(u=>u.currentStep),i=hi(u=>u.totalStep),o=hi(u=>u.nextStep),a=hi(u=>u.prevStep),l=dt(u=>u.setFormDataErrors),c=()=>{const{isValid:u,errors:d}=Wle(n==="BASE"?s:s+1,r);if(!u){l(d);return}l({}),o()};return h.jsxs("div",{className:"flex justify-between items-center mt-6",children:[h.jsx("div",{}),h.jsxs("div",{className:"flex ",children:[s>1&&h.jsxs(lt,{variant:"outline",onClick:a,className:"mr-2",children:[h.jsx(kW,{className:"mr-2 h-4 w-4"})," Back"]}),s<i?h.jsxs(lt,{onClick:c,children:["Next ",h.jsx(Tk,{className:"ml-2 h-4 w-4"})]}):h.jsx(lt,{className:"w-52",onClick:async()=>{t(r,n)},children:e?h.jsx(xl,{}):"Save Knowledge Base"})]})]})},qle=()=>{const t=dt(a=>a.clearFormData),e=Xr(a=>a.isModalVisible),n=Xr(a=>a.modalMode),r=Xr(a=>a.closeModal),s=hi(a=>a.setTotalStep),i=hi(a=>a.resetCurrentStep),o=n==="BASE"?hle:fle;return m.useEffect(()=>(s(n),()=>{t(),i()}),[s]),h.jsx(tv,{open:e,onOpenChange:r,children:h.jsxs(Tf,{className:"sm:max-w-[550px] ",children:[h.jsxs(bf,{children:[h.jsx(Sf,{className:"text-2xl font-bold",children:"Create New Knowledge Base"}),h.jsx(If,{children:"Fill in the details to create a new knowledge base."})]}),h.jsx(Ule,{progressData:o}),h.jsx(er,{children:h.jsx(pr,{className:"pt-6 max-h-[30rem] max-w-[498px] overflow-y-scroll",children:h.jsx(zle,{})})}),h.jsx(Hle,{})]})})},Gle=()=>{const t=Xr(e=>e.isModalVisible);return h.jsxs("div",{className:"flex items-center flex-col w-[84rem] px-20 space-y-6 pb-8",children:[h.jsx(yZ,{}),h.jsx(Fle,{}),t&&h.jsx(qle,{})]})},gt=Li(t=>({botName:"",errors:{botName:""},interactionIcon:null,interactionIconPreview:"",widgetIcon:null,widgetIconPreview:"",metadata:[],setBotName:e=>{t(()=>({botName:e}))},setErrors:(e,n)=>{t(r=>({errors:{...r.errors,[e]:n}}))},setInteractionIcon:e=>{t(()=>({interactionIcon:e}))},setInteractionIconPreview:e=>{t(()=>({interactionIconPreview:e}))},setWidgetIcon:e=>{t(()=>({widgetIcon:e}))},setWidgetIconPreview:e=>{t(()=>({widgetIconPreview:e}))},setMetadata:e=>{t(()=>({metadata:e}))}})),Qle=({inputRef:t})=>{const e=Et(a=>a.admin),n=gt(a=>a.botName),r=gt(a=>a.setBotName),s=gt(a=>a.errors),i=gt(a=>a.setErrors),o=a=>{r(a),a?i("botName",""):i("botName","Bot name field is required")};return h.jsxs("section",{className:"space-y-2",children:[h.jsx(hn,{htmlFor:"botName",className:"text-base font-medium",children:"Bot Name"}),h.jsx(on,{id:"botName",ref:t,type:"text",value:n,onChange:a=>o(a.target.value),className:ce("w-full",s.botName&&"border-destructive"),readOnly:(e==null?void 0:e.role)==="viewer"}),s.botName&&h.jsx(Ld,{errorMessage:s.botName})]})},Yle=()=>{const t=Vi();return{handleIconChange:(r,s,i,o,a=0)=>{if(r.target.files&&r.target.files[0]){const l=r.target.files[0];if(!o.includes(l.type)){const u=o.map(d=>d.split("/")[1]);t({title:`Only the following file formats are supported: ${u.join(", ")}.`,description:rt(),variant:"destructive"}),r.target.value="";return}if(a>0&&l.size>a){const u=a/1048576;t({title:`File size exceeds the maximum limit of ${u.toFixed(0)} MB.`,description:rt(),variant:"destructive"}),r.target.value="";return}s(l);const c=new FileReader;c.onload=u=>{var d;i((d=u.target)==null?void 0:d.result)},c.readAsDataURL(l)}},handleRemoveIcon:(r,s,i)=>{s(null),i(null),r.current&&(r.current.value="")}}},ps="https://firebasestorage.googleapis.com/v0/b/cob-chatbot.appspot.com/o/image%2Fdefault-icon.png?alt=media&token=7d708bba-dcf2-47a0-b81b-3ac8d0e02648",Xle=async(t,e,n,r=[])=>{try{const s=gt.getState().interactionIconPreview,i=gt.getState().widgetIconPreview,o=gt.getState().setInteractionIcon,a=gt.getState().setWidgetIcon,l=r.reduce((d,p)=>({...d,[p.key]:p.value}),{}),c={botName:n,metadata:l,interactionIconURL:s??ps,widgetIconUrl:i??ps};t&&(c.interactionIconURL=await Mx(t,tR,"interaction-icon")??ps,o(null)),e&&(console.time("Upload Time"),c.widgetIconUrl=await Mx(e,tR,"widget-icon")??ps,a(null),console.timeEnd("Upload Time")),await _oe("profile","botProfile",c,!1),yt("Upload bot profile success")}catch(s){console.error(s)}},y4=({iconRef:t,setIcon:e,setIconPreview:n,iconPreview:r,acceptedFormat:s,maxIconSize:i=0})=>{const o=s.split(",").map(c=>`image/${c.slice(1)}`),{handleIconChange:a,handleRemoveIcon:l}=Yle();return h.jsxs("div",{className:"flex items-center ",children:[h.jsx(on,{id:"widget-icon-upload",type:"file",className:"hidden",ref:t,accept:s,onChange:c=>a(c,e,n,o,i)}),h.jsx(lt,{type:"button",variant:"outline",size:"sm",onClick:()=>{var c;return(c=t.current)==null?void 0:c.click()},children:r&&r!==ps?h.jsxs("span",{className:"flex items-center text-sm gap-2",children:[h.jsx(fA,{className:"size-5"}),"Change Icon"]}):h.jsxs("span",{className:"flex items-center text-sm gap-2",children:[h.jsx(fA,{className:"size-5"}),"Upload Icon"]})}),r&&r!==ps&&h.jsx(lt,{type:"button",variant:"ghost",size:"sm",className:"ml-2",onClick:()=>l(t,e,n),children:"Remove"})]})},v4=2*1024*1024,Jle=v4/(1024*1024),Zle=()=>{const t=gt(i=>i.setInteractionIcon),e=gt(i=>i.setInteractionIconPreview),n=gt(i=>i.interactionIconPreview),r=m.useRef(null),s=Et(i=>i.admin);return h.jsxs("section",{className:"space-y-2",children:[h.jsx(hn,{htmlFor:"botName",className:"text-base font-medium",children:"Interaction Icon"}),h.jsxs("div",{className:"mt-1 flex items-center h-[4rem] space-x-4",children:[h.jsxs("div",{className:"size-[70px] rounded-full bg-gray-100 flex items-center justify-center overflow-hidden",children:[n&&h.jsx("img",{src:n,className:"size-full object-cover rounded-full"}),!n&&h.jsx("img",{src:ps,className:"size-full object-cover rounded-full"})]}),(s==null?void 0:s.role)!=="viewer"&&h.jsxs("div",{className:"space-y-2",children:[h.jsx(y4,{iconRef:r,setIcon:t,setIconPreview:e,iconPreview:n,acceptedFormat:".png,.jpeg",maxIconSize:v4}),h.jsx("p",{className:"text-sm text-muted-foreground",children:`PNG or JPG only. Max file size: ${Jle.toFixed(0)} MB.`})]})]})]})},w4=6*1024*1024,ece=w4/(1024*1024),tce=()=>{const t=gt(i=>i.setWidgetIcon),e=gt(i=>i.widgetIconPreview),n=gt(i=>i.setWidgetIconPreview),r=m.useRef(null),s=Et(i=>i.admin);return h.jsxs("section",{className:"space-y-2",children:[h.jsx(hn,{htmlFor:"botName",className:"text-base font-medium",children:"Widget Icon"}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("div",{className:"size-[70px] rounded-full bg-gray-100 flex items-center justify-center overflow-hidden",children:[e&&h.jsx("img",{src:e,className:"size-full object-cover rounded-full"}),!e&&h.jsx("img",{src:ps,className:"size-full object-cover rounded-full"})]}),(s==null?void 0:s.role)!=="viewer"&&h.jsxs("div",{className:"space-y-2",children:[h.jsx(y4,{iconRef:r,setIcon:t,setIconPreview:n,iconPreview:e,acceptedFormat:".png,.jpg,.gif",maxIconSize:w4}),h.jsx("p",{className:"text-sm text-muted-foreground",children:`PNG, JPEG OR GIF only. Max file size: ${ece.toFixed(0)} MB.`})]})]})]})},nce=({botNameInputRef:t})=>h.jsxs("form",{className:"space-y-4",children:[h.jsx(Qle,{inputRef:t}),h.jsx(Zle,{}),h.jsx(tce,{})]}),rce=({handleCloseChatbox:t})=>{const e=gt(r=>r.botName),n=gt(r=>r.interactionIconPreview);return h.jsx("section",{children:h.jsxs("div",{className:"bg-white h-[24rem] rounded-lg shadow-lg p-4 max-w-sm mx-auto flex flex-col",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[n?h.jsx("img",{src:n,alt:"interaction-icon-preview",className:"w-11 h-11 object-cover rounded-full"}):h.jsx("img",{src:ps,alt:"interaction-icon-preview",className:"w-11 h-11 object-cover rounded-full"}),h.jsx("span",{className:"text-sm font-medium text-gray-700",children:e||"Chatbot"})]}),h.jsx("div",{className:"cursor-pointer hover:scale-110 transition-transform",onClick:t,children:h.jsx(ny,{className:"w-5 h-5 text-gray-500"})})]}),h.jsx("div",{className:"flex-1"}),h.jsx("div",{className:" rounded-lg py-3 mb-4",children:h.jsxs("div",{className:"flex items-center",children:[n?h.jsx("img",{src:n,alt:"interaction-icon-preview",className:"w-10 h-10 object-cover rounded-full"}):h.jsx("img",{src:ps,alt:"interaction-icon-preview",className:"w-10 h-10 object-cover rounded-full"}),h.jsx("p",{className:"ml-2 text-sm text-gray-700 bg-gray-100 p-2.5 rounded-xl",children:"Hi! What can I help you with?"})]})}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{disabled:!0,type:"text",placeholder:"Message...",className:"flex-grow h-10 px-3 py-2 text-sm border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),h.jsx("div",{className:"h-10 px-3 py-2 bg-blue-500 text-white rounded-r-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 flex items-center justify-center",children:h.jsx(Ck,{className:"w-5 h-5"})})]})]})})},sce=()=>{const[t,e]=m.useState(!1),n=gt(r=>r.widgetIconPreview);return h.jsx("section",{children:h.jsx("div",{className:"border h-[28rem] border-gray-300 rounded-lg p-4 bg-gray-50 mb-2",style:{backgroundImage:"radial-gradient(#d1d5db 1px, transparent 1px)",backgroundSize:"20px 20px"},children:h.jsx("div",{className:"h-full flex justify-end items-end",children:t?h.jsx(rce,{handleCloseChatbox:()=>e(!1)}):h.jsx("div",{className:"size-[14rem] flex items-center justify-center",onClick:()=>e(!0),children:n?h.jsx("img",{src:n,alt:"Widget icon preview",className:"cursor-pointer"}):h.jsx("img",{src:ps,alt:"Widget icon preview",className:"cursor-pointer"})})})})})},ice=()=>{const t=gt(o=>o.metadata),e=gt(o=>o.setMetadata),n=Et(o=>o.admin),r=()=>{const o={id:Date.now().toString(),key:"",value:""};e([...t,o])},s=(o,a,l)=>{const c=t.map(u=>u.id===o?{...u,[a]:l}:u);e(c)},i=o=>{const a=t.filter((l,c)=>c!==o);e(a)};return h.jsxs("div",{className:"space-y-4",children:[t.map((o,a)=>h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(on,{placeholder:"Key",value:o.key,onChange:l=>s(o.id,"key",l.target.value),className:"flex-1",readOnly:(n==null?void 0:n.role)==="viewer"}),h.jsx(on,{placeholder:"Value",value:o.value,onChange:l=>s(o.id,"value",l.target.value),className:"flex-1",readOnly:(n==null?void 0:n.role)==="viewer"}),(n==null?void 0:n.role)!=="viewer"&&h.jsx(lt,{type:"button",variant:"ghost",size:"icon",className:"hover:text-red-600",onClick:()=>i(a),children:h.jsx(Jh,{className:"size-5 transition-transform ease-in"})})]},a)),(n==null?void 0:n.role)!=="viewer"&&h.jsxs(lt,{type:"button",variant:"outline",size:"sm",onClick:r,className:"mt-2",children:[h.jsx(Xh,{className:"size-5 mr-2"}),"Add Field"]})]})},oce=async()=>await Eoe("profile","botProfile"),ace=()=>{const t=Vi(),e=gt(_=>_.interactionIcon),n=gt(_=>_.setInteractionIconPreview),r=gt(_=>_.widgetIcon),s=gt(_=>_.setWidgetIconPreview),i=gt(_=>_.botName),o=gt(_=>_.setBotName),a=gt(_=>_.setErrors),l=gt(_=>_.metadata),c=gt(_=>_.setMetadata),[u,d]=m.useState(!1),[p,g]=m.useState(!0),w=m.useRef(null);return m.useEffect(()=>((async()=>{g(!0);const x=await oce();if(!x)return;o(x.botName),n(x.interactionIconURL),s(x.widgetIconUrl);const y=wG(x.metadata);c(y),g(!1)})(),()=>{a("botName","")}),[]),{isLoading:u,handleSubmitForm:async()=>{var x;if(!i.trim()){a("botName","Bot name field is required"),(x=w.current)==null||x.scrollIntoView({behavior:"smooth",block:"center"});return}try{d(!0),await Xle(e,r,i,l),d(!1),t({title:"Bot profile has been successfully updated",description:rt()})}catch(y){y instanceof Error&&t({title:y.message,description:rt(),variant:"destructive"}),console.error("Unexpected error occured ",y)}},isPageLoading:p,botNameInputRef:w}},lce=()=>h.jsxs("section",{className:"flex-1 flex-col space-y-4 pb-8",children:[h.jsxs(er,{children:[h.jsxs(Qr,{children:[h.jsx(Yr,{children:"Bot Profile"}),h.jsx(aa,{children:"View and update bot's profile details and icons."})]}),h.jsx(pr,{children:h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx(Ce,{className:"h-4 w-16"}),h.jsx(Ce,{className:"h-10 w-full mb-3"}),h.jsx(Ce,{className:"h-4 w-24"}),h.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[h.jsx(Ce,{className:"size-[64px] rounded-full"}),h.jsx(Ce,{className:"h-9 w-36"}),h.jsx(Ce,{className:"h-9 w-36"})]}),h.jsx(Ce,{className:"h-4 w-24"}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx(Ce,{className:"size-[64px] rounded-full"}),h.jsx(Ce,{className:"h-9 w-36"}),h.jsx(Ce,{className:"h-9 w-36"})]})]})})]}),h.jsxs(er,{children:[h.jsx(Qr,{children:h.jsx(Yr,{children:"Additional Information"})}),h.jsxs(pr,{children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[h.jsx(Ce,{className:"flex-1 h-10"}),h.jsx(Ce,{className:"flex-1 h-10"}),h.jsx(Ce,{className:"w-10 h-10"})]}),h.jsx(Ce,{className:"h-9 w-36"})]})]}),h.jsxs(er,{children:[h.jsx(Qr,{children:h.jsx(Yr,{children:"Preview"})}),h.jsx(pr,{children:h.jsx(Ce,{className:"h-[28rem] w-full mb-2"})})]}),h.jsx(Ce,{className:"bg-blue-200 h-10 w-full"})]}),cce=()=>{const{isLoading:t,handleSubmitForm:e,isPageLoading:n,botNameInputRef:r}=ace(),s=Et(i=>i.admin);return n?h.jsx(lce,{}):h.jsxs("section",{className:"flex-1 flex-col space-y-4 pb-8 relative",children:[h.jsxs(er,{children:[h.jsxs(Qr,{children:[h.jsx(Yr,{children:"Bot Profile"}),h.jsx(aa,{children:"View and update bot's profile details and icons."})]}),h.jsx(pr,{children:h.jsx(nce,{botNameInputRef:r})})]}),h.jsxs(er,{children:[h.jsx(Qr,{children:h.jsx(Yr,{children:"Additional Information"})}),h.jsx(pr,{children:h.jsx(ice,{})})]}),h.jsxs(er,{children:[h.jsx(Qr,{children:h.jsx(Yr,{children:"Preview"})}),h.jsx(pr,{children:h.jsx(sce,{})})]}),(s==null?void 0:s.role)!=="viewer"&&h.jsx("footer",{className:"mt-4",children:h.jsx(lt,{className:"w-full",disabled:t,onClick:e,children:t?h.jsx(xl,{}):"Save changes"})})]})},uce=[{id:"team",icon:h.jsx(QW,{}),label:"Team",comingSoon:!1},{id:"botProfile",icon:h.jsx(NW,{}),label:"Bot Profile",comingSoon:!1},{id:"botModel",icon:h.jsx(RW,{}),label:"Bot Model",comingSoon:!1},{id:"archives",icon:h.jsx(ey,{}),label:"Archives",comingSoon:!1}],dce=({onTabChange:t,activeTab:e})=>h.jsx("nav",{className:"w-[14rem] px-2 space-y-2 text-htext font-medium",children:uce.map(n=>h.jsxs("div",{className:"relative group",children:[h.jsxs("li",{className:ce("flex items-center gap-3 py-3 px-2  cursor-pointer rounded-md transition-colors hover:text-opacity-80",e===n.id?"bg-blue-500 text-white":"hover:bg-slate-100 text-opacity-100"),onClick:()=>t(n.id),children:[n.icon," ",n.label]}),n.comingSoon&&h.jsx(gy,{variant:"secondary",className:"absolute -top-2 right-0 text-[10px] font-normal px-1 py-0.5 bg-blue-100 text-blue-800 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Coming Soon"})]},n.id))});var hce="Separator",bR="horizontal",fce=["horizontal","vertical"],x4=m.forwardRef((t,e)=>{const{decorative:n,orientation:r=bR,...s}=t,i=pce(r)?r:bR,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return h.jsx(xe.div,{"data-orientation":i,...a,...s,ref:e})});x4.displayName=hce;function pce(t){return fce.includes(t)}var _4=x4;const E4=m.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>h.jsx(_4,{ref:s,decorative:n,orientation:e,className:ce("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));E4.displayName=_4.displayName;const mce=(t,e,n)=>Toe(t,e,n),gce=()=>{const t=Et(u=>u.admin),[e,n]=m.useState(!1),[r,s]=m.useState(null),[i,o]=m.useState(null),a=Vi(),l=async()=>{n(!0),await AG(),n(!1),a({title:"Model Training Complete",description:"Your AI model is fully trained and ready for use. You can now run queries with the latest data."})},c=u=>{const p=[{min:5,label:"(Excellent)"},{min:4,label:"(Good)"},{min:3,label:"(Decent)"},{min:0,label:"(Poor)"}].find(g=>u>=g.min);return p?p.label:"(Unknown)"};return m.useEffect(()=>{const u=async()=>{const p=await boe();s(p)},d=mce("profile","model",p=>{const{timeFinishedTraining:g}=p;o(g)});return u(),()=>d()},[]),h.jsxs("section",{className:"flex-1 flex-col space-y-4",children:[h.jsxs(er,{children:[h.jsxs(Qr,{children:[h.jsx(Yr,{children:"Bot Model"}),h.jsx(aa,{children:(t==null?void 0:t.role)!=="viewer"?"View current model status and initialize training process.":"View current model status."})]}),h.jsxs(pr,{children:[h.jsxs("section",{className:"flex items-center",children:[h.jsxs("div",{className:"w-[15rem]",children:[h.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Version"}),h.jsx("p",{className:"font-bold text-xl",children:"v1.0.0"})]}),h.jsxs("div",{className:"",children:[h.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Trained"}),h.jsx("p",{className:"font-bold text-xl",children:i||h.jsx(Ce,{className:"w-48 h-6"})})]})]}),h.jsx(E4,{className:"my-4"}),h.jsxs("div",{className:"flex ",children:[h.jsxs("div",{className:"flex space-x-2 w-[15rem]",children:[h.jsx(Rk,{fill:"yellow",className:"text-yellow-300"})," ",h.jsx("p",{children:"Average Rating"})]}),h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx("p",{className:"text-green-400 font-bold text-xl",children:r??h.jsx(Ce,{className:"h-7 w-11"})}),h.jsx("p",{className:"text-muted-foreground text-xs space-x-1",children:r?c(Number(r)):h.jsx(Ce,{className:"h-4 w-14"})})]})]})]})]}),h.jsx("footer",{className:"mt-4 pb-4",children:(t==null?void 0:t.role)!=="viewer"&&h.jsx(lt,{className:"w-full",disabled:e,onClick:l,children:e?h.jsx(xl,{}):h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(DW,{size:20})," Train Model"]})})})]})},Rp="672ca434f2191d3bb7606f0d",yce=({id:t,adminRole:e,onDeleteAction:n,onResetPasswordAction:r,onUpdateRoleAction:s})=>h.jsxs(sf,{modal:!1,children:[h.jsx(of,{asChild:!0,children:h.jsx(lt,{variant:"ghost",className:" hover:bg-gray-100 size-8 p-1 group",children:h.jsx(fE,{className:"text-zinc-400 size-5 group-hover:text-zinc-600 transition-colors"})})}),h.jsxs(fu,{align:"end",className:"w-auto bg-white border border-neutral-300 p-1 rounded-lg shadow-md",children:[e!=="editor"||t!==Rp&&h.jsx(Os,{className:"flex items-center p-2 hover:bg-zinc-100",onClick:async()=>{await s("editor")},children:"Set as Editor"}),e!=="viewer"||t!==Rp&&h.jsx(Os,{className:"flex items-center p-2 hover:bg-zinc-100",onClick:async()=>{await s("viewer")},children:"Set as Viewer"}),t!==Rp&&h.jsx(FE,{}),h.jsxs(Os,{className:"flex items-center p-2 hover:bg-zinc-100",onClick:()=>{r()},children:[h.jsx(BW,{className:"mr-2 h-4 w-4"}),"Reset Password"]}),t!==Rp&&h.jsxs(Os,{className:"flex items-center p-2 hover:bg-zinc-100 text-red-600",onClick:()=>{n()},children:[h.jsx(qW,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]}),T4=Li(t=>({admin:{id:null,email:null},setAdmin:(e,n)=>t({admin:{id:e,email:n}})})),vce=({adminInfo:t,onUpdateRole:e})=>{const n=Et(d=>d.admin),{email:r,role:s,_id:i}=t,o=T4(d=>d.setAdmin),a=Nr(d=>d.openDialog),l=()=>{o(i,r),a("showConfirmDeleteDialog")},c=()=>{o(i,r),a("showResetPasswordDialog")},u=d=>{const p=new Date(d),w=new Date().getTime()-p.getTime(),v=Math.floor(w/(1e3*60)),_=Math.floor(v/60),x=Math.floor(_/24);return x>0?`${x}d`:_>0?`${_}h`:`${v}m`};return h.jsxs("section",{className:"flex items-center w-full py-2 font-medium text-sm",children:[h.jsx("div",{className:"flex-1 text-zinc-700 truncate",title:r,children:r}),h.jsx("div",{className:"w-[14rem] text-zinc-500",children:t!=null&&t.lastLoginAt?u(t.lastLoginAt):"Never Logged In"}),h.jsx("div",{className:"w-[10rem]",children:h.jsx(gy,{className:ce("flex w-16 items-center justify-center pointer-events-none select-none",s==="admin"&&"bg-red-200 text-red-800",s==="editor"&&"bg-blue-200 text-blue-800",s==="viewer"&&"bg-green-200 text-green-800"),children:UE(s)})}),h.jsx("div",{className:`w-[10rem] ${(n==null?void 0:n.role)==="viewer"&&"py-3"} ${(n==null?void 0:n.role)==="editor"&&"py-3"}`,children:(n==null?void 0:n.role)!=="viewer"&&(n==null?void 0:n.role)!=="editor"&&h.jsx(yce,{id:i,adminRole:s,onDeleteAction:l,onResetPasswordAction:c,onUpdateRoleAction:async d=>await e(d,i)})})]})},Vd=({id:t,field:e,placeholderText:n,register:r,message:s,isError:i,validate:o})=>{const[a,l]=m.useState(!1);return h.jsxs("div",{className:"relative",children:[h.jsx(on,{id:t??void 0,className:ce(i&&"border-destructive"),type:a?"text":"password",placeholder:n,...r(e,{required:s,minLength:{value:9,message:"Password must be atleast 9 characters"},validate:o})}),h.jsx(lt,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(c=>!c),"aria-label":a?"Hide password":"Show password",children:a?h.jsx(Sk,{className:"h-4 w-4 text-gray-500"}):h.jsx(pE,{className:"h-4 w-4 text-gray-500"})})]})};function SR(t,[e,n]){return Math.min(n,Math.max(e,t))}function wce(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=d=>{var x;const{scope:p,children:g,...w}=d,v=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,_=m.useMemo(()=>w,Object.values(w));return h.jsx(v.Provider,{value:_,children:g})};c.displayName=i+"Provider";function u(d,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,xce(s,...e)]}function xce(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var _ce="DismissableLayer",Qx="dismissableLayer.update",Ece="dismissableLayer.pointerDownOutside",Tce="dismissableLayer.focusOutside",IR,b4=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),S4=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(b4),[u,d]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=Oe(e,A=>d(A)),v=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(_),y=u?v.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,I=y>=x,D=Ice(A=>{const T=A.target,R=[...c.branches].some(C=>C.contains(T));!I||R||(s==null||s(A),o==null||o(A),A.defaultPrevented||a==null||a())},p),O=Ace(A=>{const T=A.target;[...c.branches].some(C=>C.contains(T))||(i==null||i(A),o==null||o(A),A.defaultPrevented||a==null||a())},p);return Zh(A=>{y===c.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&a&&(A.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(IR=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),AR(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=IR)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),AR())},[u,c]),m.useEffect(()=>{const A=()=>g({});return document.addEventListener(Qx,A),()=>document.removeEventListener(Qx,A)},[]),h.jsx(xe.div,{...l,ref:w,style:{pointerEvents:b?I?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,D.onPointerDownCapture)})});S4.displayName=_ce;var bce="DismissableLayerBranch",Sce=m.forwardRef((t,e)=>{const n=m.useContext(b4),r=m.useRef(null),s=Oe(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),h.jsx(xe.div,{...t,ref:s})});Sce.displayName=bce;function Ice(t,e=globalThis==null?void 0:globalThis.document){const n=Mt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){I4(Ece,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Ace(t,e=globalThis==null?void 0:globalThis.document){const n=Mt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&I4(Tce,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function AR(){const t=new CustomEvent(Qx);document.dispatchEvent(t)}function I4(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?ml(s,i):s.dispatchEvent(i)}var Cce="Portal",A4=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Nt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?zh.createPortal(h.jsx(xe.div,{...r,ref:e}),o):null});A4.displayName=Cce;function Rce(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Pce=[" ","Enter","ArrowUp","ArrowDown"],Nce=[" ","Enter"],Cf="Select",[sv,iv,Dce]=sy(Cf),[Eu,qde]=wce(Cf,[Dce,du]),ov=du(),[kce,la]=Eu(Cf),[Mce,Oce]=Eu(Cf),C4=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:p,required:g,form:w}=t,v=ov(e),[_,x]=m.useState(null),[y,b]=m.useState(null),[I,D]=m.useState(!1),O=iy(c),[A=!1,T]=Uo({prop:r,defaultProp:s,onChange:i}),[R,C]=Uo({prop:o,defaultProp:a,onChange:l}),M=m.useRef(null),k=_?w||!!_.closest("form"):!0,[N,H]=m.useState(new Set),ae=Array.from(N).map(te=>te.props.value).join(";");return h.jsx(SE,{...v,children:h.jsxs(kce,{required:g,scope:e,trigger:_,onTriggerChange:x,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:I,onValueNodeHasChildrenChange:D,contentId:ys(),value:R,onValueChange:C,open:A,onOpenChange:T,dir:O,triggerPointerDownPosRef:M,disabled:p,children:[h.jsx(sv.Provider,{scope:e,children:h.jsx(Mce,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(te=>{H(ne=>new Set(ne).add(te))},[]),onNativeOptionRemove:m.useCallback(te=>{H(ne=>{const z=new Set(ne);return z.delete(te),z})},[]),children:n})}),k?h.jsxs(eU,{"aria-hidden":!0,required:g,tabIndex:-1,name:u,autoComplete:d,value:R,onChange:te=>C(te.target.value),disabled:p,form:w,children:[R===void 0?h.jsx("option",{value:""}):null,Array.from(N)]},ae):null]})})};C4.displayName=Cf;var R4="SelectTrigger",P4=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=ov(n),o=la(R4,n),a=o.disabled||r,l=Oe(e,o.onTriggerChange),c=iv(n),u=m.useRef("touch"),[d,p,g]=tU(v=>{const _=c().filter(b=>!b.disabled),x=_.find(b=>b.value===o.value),y=nU(_,v,x);y!==void 0&&o.onValueChange(y.value)}),w=v=>{a||(o.onOpenChange(!0),g()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return h.jsx(IE,{asChild:!0,...i,children:h.jsx(xe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":Z4(o.value)?"":void 0,...s,ref:l,onClick:ee(s.onClick,v=>{v.currentTarget.focus(),u.current!=="mouse"&&w(v)}),onPointerDown:ee(s.onPointerDown,v=>{u.current=v.pointerType;const _=v.target;_.hasPointerCapture(v.pointerId)&&_.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(w(v),v.preventDefault())}),onKeyDown:ee(s.onKeyDown,v=>{const _=d.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&p(v.key),!(_&&v.key===" ")&&Pce.includes(v.key)&&(w(),v.preventDefault())})})})});P4.displayName=R4;var N4="SelectValue",D4=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=la(N4,n),{onValueNodeHasChildrenChange:c}=l,u=i!==void 0,d=Oe(e,l.onValueNodeChange);return Nt(()=>{c(u)},[c,u]),h.jsx(xe.span,{...a,ref:d,style:{pointerEvents:"none"},children:Z4(l.value)?h.jsx(h.Fragment,{children:o}):i})});D4.displayName=N4;var jce="SelectIcon",k4=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return h.jsx(xe.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});k4.displayName=jce;var Lce="SelectPortal",M4=t=>h.jsx(A4,{asChild:!0,...t});M4.displayName=Lce;var ul="SelectContent",O4=m.forwardRef((t,e)=>{const n=la(ul,t.__scopeSelect),[r,s]=m.useState();if(Nt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?ji.createPortal(h.jsx(j4,{scope:t.__scopeSelect,children:h.jsx(sv.Slot,{scope:t.__scopeSelect,children:h.jsx("div",{children:t.children})})}),i):null}return h.jsx(L4,{...t,ref:e})});O4.displayName=ul;var is=10,[j4,ca]=Eu(ul),Vce="SelectContentImpl",L4=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:g,sticky:w,hideWhenDetached:v,avoidCollisions:_,...x}=t,y=la(ul,n),[b,I]=m.useState(null),[D,O]=m.useState(null),A=Oe(e,ue=>I(ue)),[T,R]=m.useState(null),[C,M]=m.useState(null),k=iv(n),[N,H]=m.useState(!1),ae=m.useRef(!1);m.useEffect(()=>{if(b)return RE(b)},[b]),gE();const te=m.useCallback(ue=>{const[Ve,...st]=k().map(Qe=>Qe.ref.current),[Fe]=st.slice(-1),Ke=document.activeElement;for(const Qe of ue)if(Qe===Ke||(Qe==null||Qe.scrollIntoView({block:"nearest"}),Qe===Ve&&D&&(D.scrollTop=0),Qe===Fe&&D&&(D.scrollTop=D.scrollHeight),Qe==null||Qe.focus(),document.activeElement!==Ke))return},[k,D]),ne=m.useCallback(()=>te([T,b]),[te,T,b]);m.useEffect(()=>{N&&ne()},[N,ne]);const{onOpenChange:z,triggerPointerDownPosRef:B}=y;m.useEffect(()=>{if(b){let ue={x:0,y:0};const Ve=Fe=>{var Ke,Qe;ue={x:Math.abs(Math.round(Fe.pageX)-(((Ke=B.current)==null?void 0:Ke.x)??0)),y:Math.abs(Math.round(Fe.pageY)-(((Qe=B.current)==null?void 0:Qe.y)??0))}},st=Fe=>{ue.x<=10&&ue.y<=10?Fe.preventDefault():b.contains(Fe.target)||z(!1),document.removeEventListener("pointermove",Ve),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",Ve),document.addEventListener("pointerup",st,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ve),document.removeEventListener("pointerup",st,{capture:!0})}}},[b,z,B]),m.useEffect(()=>{const ue=()=>z(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[z]);const[Z,pe]=tU(ue=>{const Ve=k().filter(Ke=>!Ke.disabled),st=Ve.find(Ke=>Ke.ref.current===document.activeElement),Fe=nU(Ve,ue,st);Fe&&setTimeout(()=>Fe.ref.current.focus())}),Te=m.useCallback((ue,Ve,st)=>{const Fe=!ae.current&&!st;(y.value!==void 0&&y.value===Ve||Fe)&&(R(ue),Fe&&(ae.current=!0))},[y.value]),Re=m.useCallback(()=>b==null?void 0:b.focus(),[b]),Je=m.useCallback((ue,Ve,st)=>{const Fe=!ae.current&&!st;(y.value!==void 0&&y.value===Ve||Fe)&&M(ue)},[y.value]),wt=r==="popper"?Yx:V4,qe=wt===Yx?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:g,sticky:w,hideWhenDetached:v,avoidCollisions:_}:{};return h.jsx(j4,{scope:n,content:b,viewport:D,onViewportChange:O,itemRefCallback:Te,selectedItem:T,onItemLeave:Re,itemTextRefCallback:Je,focusSelectedItem:ne,selectedItemText:C,position:r,isPositioned:N,searchRef:Z,children:h.jsx(fy,{as:Bo,allowPinchZoom:!0,children:h.jsx(oy,{asChild:!0,trapped:y.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:ee(s,ue=>{var Ve;(Ve=y.trigger)==null||Ve.focus({preventScroll:!0}),ue.preventDefault()}),children:h.jsx(S4,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:h.jsx(wt,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:ue=>ue.preventDefault(),...x,...qe,onPlaced:()=>H(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:ee(x.onKeyDown,ue=>{const Ve=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!Ve&&ue.key.length===1&&pe(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let Fe=k().filter(Ke=>!Ke.disabled).map(Ke=>Ke.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(Fe=Fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const Ke=ue.target,Qe=Fe.indexOf(Ke);Fe=Fe.slice(Qe+1)}setTimeout(()=>te(Fe)),ue.preventDefault()}})})})})})})});L4.displayName=Vce;var Fce="SelectItemAlignedPosition",V4=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=la(ul,n),o=ca(ul,n),[a,l]=m.useState(null),[c,u]=m.useState(null),d=Oe(e,A=>u(A)),p=iv(n),g=m.useRef(!1),w=m.useRef(!0),{viewport:v,selectedItem:_,selectedItemText:x,focusSelectedItem:y}=o,b=m.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&v&&_&&x){const A=i.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),R=i.valueNode.getBoundingClientRect(),C=x.getBoundingClientRect();if(i.dir!=="rtl"){const Ke=C.left-T.left,Qe=R.left-Ke,$t=A.left-Qe,it=A.width+$t,yn=Math.max(it,T.width),Or=window.innerWidth-is,Ts=SR(Qe,[is,Math.max(is,Or-yn)]);a.style.minWidth=it+"px",a.style.left=Ts+"px"}else{const Ke=T.right-C.right,Qe=window.innerWidth-R.right-Ke,$t=window.innerWidth-A.right-Qe,it=A.width+$t,yn=Math.max(it,T.width),Or=window.innerWidth-is,Ts=SR(Qe,[is,Math.max(is,Or-yn)]);a.style.minWidth=it+"px",a.style.right=Ts+"px"}const M=p(),k=window.innerHeight-is*2,N=v.scrollHeight,H=window.getComputedStyle(c),ae=parseInt(H.borderTopWidth,10),te=parseInt(H.paddingTop,10),ne=parseInt(H.borderBottomWidth,10),z=parseInt(H.paddingBottom,10),B=ae+te+N+z+ne,Z=Math.min(_.offsetHeight*5,B),pe=window.getComputedStyle(v),Te=parseInt(pe.paddingTop,10),Re=parseInt(pe.paddingBottom,10),Je=A.top+A.height/2-is,wt=k-Je,qe=_.offsetHeight/2,ue=_.offsetTop+qe,Ve=ae+te+ue,st=B-Ve;if(Ve<=Je){const Ke=M.length>0&&_===M[M.length-1].ref.current;a.style.bottom="0px";const Qe=c.clientHeight-v.offsetTop-v.offsetHeight,$t=Math.max(wt,qe+(Ke?Re:0)+Qe+ne),it=Ve+$t;a.style.height=it+"px"}else{const Ke=M.length>0&&_===M[0].ref.current;a.style.top="0px";const $t=Math.max(Je,ae+v.offsetTop+(Ke?Te:0)+qe)+st;a.style.height=$t+"px",v.scrollTop=Ve-Je+v.offsetTop}a.style.margin=`${is}px 0`,a.style.minHeight=Z+"px",a.style.maxHeight=k+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[p,i.trigger,i.valueNode,a,c,v,_,x,i.dir,r]);Nt(()=>b(),[b]);const[I,D]=m.useState();Nt(()=>{c&&D(window.getComputedStyle(c).zIndex)},[c]);const O=m.useCallback(A=>{A&&w.current===!0&&(b(),y==null||y(),w.current=!1)},[b,y]);return h.jsx(Bce,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:O,children:h.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:h.jsx(xe.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});V4.displayName=Fce;var Uce="SelectPopperPosition",Yx=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=is,...i}=t,o=ov(n);return h.jsx(AE,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Yx.displayName=Uce;var[Bce,Pb]=Eu(ul,{}),Xx="SelectViewport",F4=m.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=ca(Xx,n),o=Pb(Xx,n),a=Oe(e,i.onViewportChange),l=m.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),h.jsx(sv.Slot,{scope:n,children:h.jsx(xe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ee(s.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&d){const g=Math.abs(l.current-u.scrollTop);if(g>0){const w=window.innerHeight-is*2,v=parseFloat(d.style.minHeight),_=parseFloat(d.style.height),x=Math.max(v,_);if(x<w){const y=x+g,b=Math.min(w,y),I=y-b;d.style.height=b+"px",d.style.bottom==="0px"&&(u.scrollTop=I>0?I:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});F4.displayName=Xx;var U4="SelectGroup",[$ce,zce]=Eu(U4),B4=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ys();return h.jsx($ce,{scope:n,id:s,children:h.jsx(xe.div,{role:"group","aria-labelledby":s,...r,ref:e})})});B4.displayName=U4;var $4="SelectLabel",z4=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=zce($4,n);return h.jsx(xe.div,{id:s.id,...r,ref:e})});z4.displayName=$4;var Sg="SelectItem",[Kce,K4]=Eu(Sg),W4=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=la(Sg,n),l=ca(Sg,n),c=a.value===r,[u,d]=m.useState(i??""),[p,g]=m.useState(!1),w=Oe(e,y=>{var b;return(b=l.itemRefCallback)==null?void 0:b.call(l,y,r,s)}),v=ys(),_=m.useRef("touch"),x=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(Kce,{scope:n,value:r,disabled:s,textId:v,isSelected:c,onItemTextChange:m.useCallback(y=>{d(b=>b||((y==null?void 0:y.textContent)??"").trim())},[]),children:h.jsx(sv.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:h.jsx(xe.div,{role:"option","aria-labelledby":v,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:w,onFocus:ee(o.onFocus,()=>g(!0)),onBlur:ee(o.onBlur,()=>g(!1)),onClick:ee(o.onClick,()=>{_.current!=="mouse"&&x()}),onPointerUp:ee(o.onPointerUp,()=>{_.current==="mouse"&&x()}),onPointerDown:ee(o.onPointerDown,y=>{_.current=y.pointerType}),onPointerMove:ee(o.onPointerMove,y=>{var b;_.current=y.pointerType,s?(b=l.onItemLeave)==null||b.call(l):_.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ee(o.onPointerLeave,y=>{var b;y.currentTarget===document.activeElement&&((b=l.onItemLeave)==null||b.call(l))}),onKeyDown:ee(o.onKeyDown,y=>{var I;((I=l.searchRef)==null?void 0:I.current)!==""&&y.key===" "||(Nce.includes(y.key)&&x(),y.key===" "&&y.preventDefault())})})})})});W4.displayName=Sg;var hd="SelectItemText",H4=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=la(hd,n),a=ca(hd,n),l=K4(hd,n),c=Oce(hd,n),[u,d]=m.useState(null),p=Oe(e,x=>d(x),l.onItemTextChange,x=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,x,l.value,l.disabled)}),g=u==null?void 0:u.textContent,w=m.useMemo(()=>h.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:_}=c;return Nt(()=>(v(w),()=>_(w)),[v,_,w]),h.jsxs(h.Fragment,{children:[h.jsx(xe.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ji.createPortal(i.children,o.valueNode):null]})});H4.displayName=hd;var q4="SelectItemIndicator",G4=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return K4(q4,n).isSelected?h.jsx(xe.span,{"aria-hidden":!0,...r,ref:e}):null});G4.displayName=q4;var Jx="SelectScrollUpButton",Q4=m.forwardRef((t,e)=>{const n=ca(Jx,t.__scopeSelect),r=Pb(Jx,t.__scopeSelect),[s,i]=m.useState(!1),o=Oe(e,r.onScrollButtonChange);return Nt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?h.jsx(X4,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});Q4.displayName=Jx;var Zx="SelectScrollDownButton",Y4=m.forwardRef((t,e)=>{const n=ca(Zx,t.__scopeSelect),r=Pb(Zx,t.__scopeSelect),[s,i]=m.useState(!1),o=Oe(e,r.onScrollButtonChange);return Nt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?h.jsx(X4,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});Y4.displayName=Zx;var X4=m.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=ca("SelectScrollButton",n),o=m.useRef(null),a=iv(n),l=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>l(),[l]),Nt(()=>{var u;const c=a().find(d=>d.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),h.jsx(xe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ee(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ee(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ee(s.onPointerLeave,()=>{l()})})}),Wce="SelectSeparator",J4=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return h.jsx(xe.div,{"aria-hidden":!0,...r,ref:e})});J4.displayName=Wce;var e_="SelectArrow",Hce=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ov(n),i=la(e_,n),o=ca(e_,n);return i.open&&o.position==="popper"?h.jsx(CE,{...s,...r,ref:e}):null});Hce.displayName=e_;function Z4(t){return t===""||t===void 0}var eU=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=m.useRef(null),i=Oe(e,s),o=Rce(n);return m.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&u){const d=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(d)}},[o,n]),h.jsx(pf,{asChild:!0,children:h.jsx("select",{...r,ref:i,defaultValue:n})})});eU.displayName="BubbleSelect";function tU(t){const e=Mt(t),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function nU(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=qce(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function qce(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Gce=C4,rU=P4,Qce=D4,Yce=k4,Xce=M4,sU=O4,Jce=F4,Zce=B4,iU=z4,oU=W4,eue=H4,tue=G4,aU=Q4,lU=Y4,cU=J4;const nue=Gce,rue=Zce,sue=Qce,uU=m.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(rU,{ref:r,className:ce("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,h.jsx(Yce,{asChild:!0,children:h.jsx(Ek,{className:"h-4 w-4 opacity-50"})})]}));uU.displayName=rU.displayName;const dU=m.forwardRef(({className:t,...e},n)=>h.jsx(aU,{ref:n,className:ce("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(MW,{className:"h-4 w-4"})}));dU.displayName=aU.displayName;const hU=m.forwardRef(({className:t,...e},n)=>h.jsx(lU,{ref:n,className:ce("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(Ek,{className:"h-4 w-4"})}));hU.displayName=lU.displayName;const fU=m.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>h.jsx(Xce,{children:h.jsxs(sU,{ref:s,className:ce("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[h.jsx(dU,{}),h.jsx(Jce,{className:ce("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),h.jsx(hU,{})]})}));fU.displayName=sU.displayName;const iue=m.forwardRef(({className:t,...e},n)=>h.jsx(iU,{ref:n,className:ce("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));iue.displayName=iU.displayName;const pU=m.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(oU,{ref:r,className:ce("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(tue,{children:h.jsx(_k,{className:"h-4 w-4"})})}),h.jsx(eue,{children:e})]}));pU.displayName=oU.displayName;const oue=m.forwardRef(({className:t,...e},n)=>h.jsx(cU,{ref:n,className:ce("-mx-1 my-1 h-px bg-muted",t),...e}));oue.displayName=cU.displayName;const aue=["editor","viewer"],lue=({isOpen:t,setDialogState:e,onAddAdmin:n,isLoading:r})=>{const{register:s,watch:i,formState:{errors:o,isSubmitted:a},control:l,handleSubmit:c,reset:u}=Rb(),d=i("password"),p=async w=>{const{confirmPassword:v,..._}=w;await n(_),g()},g=(w=void 0)=>{u({email:"",password:"",confirmPassword:""}),e("showAddAdminDialog",w??!1)};return h.jsx(tv,{open:t,onOpenChange:w=>{g(w)},children:h.jsxs(Tf,{className:"sm:max-w-[425px]",children:[h.jsxs(bf,{children:[h.jsx(Sf,{className:"text-2xl font-bold",children:"Add Admin"}),h.jsx(If,{children:"Create a new admin account."})]}),h.jsxs("form",{onSubmit:c(p),className:"text-sm space-y-2",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx(hn,{htmlFor:"current-password",children:"Email"}),h.jsx(on,{className:ce(!!o.email&&"border-destructive"),type:"text",placeholder:"Enter your email",...s("email",{required:"Email is required",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Please enter a valid email address"}})}),a&&o.email&&h.jsx("p",{className:"text-red-500",children:o.email.message})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx(hn,{htmlFor:"current-password",children:"Password"}),h.jsx(Vd,{field:"password",placeholderText:"Enter your password",register:s,message:"Password is required",isError:!!o.password}),a&&o.password&&h.jsx("p",{className:"text-red-500",children:o.password.message})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx(hn,{htmlFor:"new-password",children:"Confirm Password"}),h.jsx(Vd,{field:"confirmPassword",placeholderText:"Re-enter your password",register:s,message:"Confirm password is required",isError:!!o.confirmPassword,validate:w=>w===d||"Password does not match"}),a&&o.confirmPassword&&h.jsx("p",{className:"text-red-500",children:o.confirmPassword.message})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx(hn,{children:"Role"}),h.jsx(ble,{name:"role",control:l,rules:{required:"Role is required"},render:({field:w})=>h.jsxs(nue,{onValueChange:w.onChange,value:w.value,children:[h.jsx(uU,{className:ce("w-[180px]",!!o.role&&"border-destructive"),children:h.jsx(sue,{placeholder:"Select a Role"})}),h.jsx(fU,{children:h.jsx(rue,{children:h.jsx(pu,{items:aue,renderItem:v=>h.jsx(pU,{value:v,children:UE(v)})})})})]})}),a&&o.role&&h.jsx("p",{className:"text-red-500",children:o.role.message})]}),h.jsx(nv,{children:h.jsx(lt,{disabled:r,type:"submit",className:"w-40",children:r?h.jsx(xl,{}):"Save changes"})})]})]})})},cue=({isOpen:t,setDialogState:e,onResetPassword:n,isLoading:r})=>{const{register:s,formState:{errors:i,isSubmitted:o},setError:a,watch:l,handleSubmit:c,reset:u}=Rb(),d=l("newPassword"),p=async w=>{const{confirmNewPassword:v,..._}=w,x=await n(_);if(x&&x===To.passwordIncorrect){a("password",{type:"manual",message:x});return}if(x&&x===To.passwordSameAsOld){a("newPassword",{type:"manual",message:x});return}g(!1)},g=(w=void 0)=>{e("showResetPasswordDialog",w??!1),u({})};return h.jsx(tv,{open:t,onOpenChange:w=>{g(w),setTimeout(()=>{w||(document.body.style.pointerEvents="")},100)},children:h.jsxs(Tf,{className:"sm:max-w-[425px]",children:[h.jsxs(bf,{children:[h.jsx(Sf,{className:"text-2xl font-bold",children:"Reset Password"}),h.jsx(If,{children:"Reset admin password and provide a new password."})]}),h.jsxs("form",{onSubmit:c(p),className:"text-sm space-y-2",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx(hn,{htmlFor:"current-password",children:"Current Password"}),h.jsx(Vd,{id:"current-password",field:"password",placeholderText:"Enter new password",register:s,message:"Password is required",isError:!!i.password}),o&&i.password&&h.jsx("p",{className:"text-red-500",children:i.password.message})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx(hn,{htmlFor:"newPassword",children:"New Password"}),h.jsx(Vd,{id:"newPassword",field:"newPassword",placeholderText:"Enter new password",register:s,message:"Password is required",isError:!!i.newPassword}),o&&i.newPassword&&h.jsx("p",{className:"text-red-500",children:i.newPassword.message})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx(hn,{htmlFor:"new-password",children:"Confirm New Password"}),h.jsx(Vd,{id:"new-password",field:"confirmNewPassword",placeholderText:"Re-enter your password",register:s,message:"Confirm password is required",isError:!!i.confirmNewPassword,validate:w=>w===d||"Password does not match"}),o&&i.confirmNewPassword&&h.jsx("p",{className:"text-red-500",children:i.confirmNewPassword.message})]}),h.jsx(nv,{children:h.jsx(lt,{type:"submit",className:"w-40 mt-2",children:r?h.jsx(xl,{}):"Reset Password"})})]})]})})},uue=()=>h.jsx("section",{className:"flex-1 flex-col space-y-4 relative",children:h.jsxs(er,{children:[h.jsxs(Qr,{children:[h.jsx(Yr,{children:"Team"}),h.jsx(aa,{children:h.jsx(Ce,{className:"w-36 h-[20px]"})})]}),h.jsx(pr,{children:h.jsxs("div",{children:[h.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[h.jsx("h4",{className:"flex-1",children:h.jsx(Ce,{className:"w-16 h-[20px]"})}),h.jsx("h4",{className:"w-[14rem]",children:h.jsx(Ce,{className:"w-24 h-[20px]"})}),h.jsx("h4",{className:"w-[8rem]",children:h.jsx(Ce,{className:"w-12 h-[20px]"})}),h.jsx("h4",{className:"w-[6rem]"})]}),h.jsx("hr",{className:"border-customBorderColor"}),h.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[h.jsx("h4",{className:"flex-1",children:h.jsx(Ce,{className:"w-32 h-[20px]"})}),h.jsx("h4",{className:"w-[14rem]",children:h.jsx(Ce,{className:"w-12 h-[20px]"})}),h.jsx("h4",{className:"w-[8rem]",children:h.jsx(Ce,{className:"w-20 h-[20px]"})}),h.jsx("h4",{className:"w-[6rem]"})]}),h.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[h.jsx("h4",{className:"flex-1",children:h.jsx(Ce,{className:"w-40 h-[20px]"})}),h.jsx("h4",{className:"w-[14rem]",children:h.jsx(Ce,{className:"w-16 h-[20px]"})}),h.jsx("h4",{className:"w-[8rem]",children:h.jsx(Ce,{className:"w-12 h-[20px]"})}),h.jsx("h4",{className:"w-[6rem]"})]}),h.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[h.jsx("h4",{className:"flex-1",children:h.jsx(Ce,{className:"w-32 h-[20px]"})}),h.jsx("h4",{className:"w-[14rem]",children:h.jsx(Ce,{className:"w-12 h-[20px]"})}),h.jsx("h4",{className:"w-[8rem]",children:h.jsx(Ce,{className:"w-20 h-[20px]"})}),h.jsx("h4",{className:"w-[6rem]"})]})]})})]})}),due=async(t,e)=>{const n={email:t,password:e},{success:r,accessToken:s,admin:i}=await sa("/api/auth/login",{},n);if(!r)throw new Error("Error loggin in");return{accessToken:s,admin:i}},hue=async()=>{const{admins:t}=await lf("/api/auth/admins");return t},fue=async t=>{const{message:e}=await sa("/api/auth/register",{},t);return e},pue=async t=>{const{message:e}=await cf(`/api/auth/${t}`);return e},mue=async t=>{const{message:e}=await vy("/api/auth/reset",{},t);if(e===To.passwordIncorrect||e===To.passwordSameAsOld)throw new Error(e);return e},gue=async t=>{const{message:e}=await vy("/api/auth/role",{},t);return e},yue=()=>{const t=_l(),e=mO(),n=Vi(),r=Nr(b=>b.dialogs),s=Nr(b=>b.setDialogState),{id:i,email:o}=T4(b=>b.admin),{data:a,isLoading:l}=Ef({queryFn:()=>hue(),queryKey:Yu}),{mutateAsync:c}=Sr({mutationFn:pue,onSuccess:b=>{t.invalidateQueries({queryKey:Yu}),n({title:b,description:rt()})},onError:b=>{n({title:b==null?void 0:b.message,description:rt(),variant:"destructive"}),yt(b.message||"An Unexpected error occured while deleting admin account")}}),{mutateAsync:u,isPending:d}=Sr({mutationFn:fue,onSuccess:b=>{t.invalidateQueries({queryKey:Yu}),n({title:b,description:rt()})},onError:b=>{n({title:b==null?void 0:b.message,description:rt(),variant:"destructive"}),yt(b.message||"An Unexpected error occured while adding admin account")}}),{mutateAsync:p,isPending:g}=Sr({mutationFn:mue,onSuccess:b=>{t.invalidateQueries({queryKey:Yu}),n({title:b,description:rt()})},onError:b=>{b.message===To.passwordIncorrect||b.message===To.passwordSameAsOld||(n({title:b==null?void 0:b.message,description:rt(),variant:"destructive"}),yt(b.message??"An error occured while updating admin account"))}}),{mutateAsync:w}=Sr({mutationFn:gue,onSuccess:async b=>{t.invalidateQueries({queryKey:Yu}),await e(1e3),n({title:b,description:rt()})},onError:b=>{n({title:b==null?void 0:b.message,description:rt(),variant:"destructive"}),yt(b.message||"An Unexpected error occured while updating admin role")}});return{adminEmail:o,setDialogState:s,isAdminListLoading:l,adminList:a,handleAddAdmin:async b=>{try{await u(b)}catch(I){I instanceof Error&&yt(I.message??"An error occured adding admin account"),console.error("An unexpected error occured: ",I)}},handleDeleteAdmin:async()=>{try{if(!i)throw new Error("No admin selected cannot delete");await c(i)}catch(b){b instanceof Error&&yt(b.message??"An error occured deleting admin account"),console.error("An unexpected error occured: ",b)}},handleResetAdminPassword:async b=>{try{if(!i)throw new Error("Admin ID not found, cannot proceed");await p({...b,_id:i})}catch(I){if(I instanceof Error&&(yt(I.message??"An error occured deleting admin account"),I.message===To.passwordIncorrect||I.message===To.passwordSameAsOld))return I.message;console.error("An unexpected error occured: ",I)}},handleUpdateAdminRole:async(b,I)=>{try{if(!I)throw new Error("Admin is not available cannot update role");await w({role:b,_id:I})}catch(D){D instanceof Error&&yt(D.message??`An error occured: ${D}`),console.error("An unexpected error occured: ",D)}},dialogs:r,isPending:d,resetAdminPasswordIsPending:g}},vue=()=>{const t=Et(p=>p.admin),{adminEmail:e,adminList:n,dialogs:r,isAdminListLoading:s,isPending:i,handleAddAdmin:o,handleDeleteAdmin:a,handleResetAdminPassword:l,handleUpdateAdminRole:c,resetAdminPasswordIsPending:u,setDialogState:d}=yue();return s?h.jsx(uue,{}):h.jsxs("section",{className:"flex-1 flex-col space-y-4 relative",children:[h.jsxs(er,{children:[h.jsxs(Qr,{children:[h.jsxs(Yr,{children:["Team",h.jsx(ky,{tooltip:"Maximum of 5 admins can be created",children:h.jsx("p",{className:"ml-3 inline-block min-w-6 text-xs font-medium text-zinc-600",children:`${n==null?void 0:n.length}/${lee}`})})]}),h.jsx(aa,{children:(t==null?void 0:t.role)==="admin"?"Manage admin accounts, including adding and removing admins.":"View the list of admin accounts."})]}),h.jsx(pr,{children:h.jsxs("div",{children:[h.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[h.jsx("h4",{className:"flex-1",children:"User"}),h.jsx("h4",{className:"w-[14rem]",children:"Last Active"}),h.jsx("h4",{className:"w-[10rem]",children:"Role"}),h.jsx("h4",{className:"w-[10rem]"})]}),h.jsx("hr",{className:"border-customBorderColor"}),h.jsx(pu,{items:n,renderItem:p=>h.jsx(vce,{adminInfo:p,onUpdateRole:c})})]})})]}),h.jsx("footer",{className:"mt-4 pb-4",children:(t==null?void 0:t.role)!=="viewer"&&(t==null?void 0:t.role)!=="editor"&&h.jsxs(lt,{className:"w-full",onClick:()=>d("showAddAdminDialog",!0),disabled:(n==null?void 0:n.length)===5,children:[h.jsx(Xh,{className:"size-5 mr-2"}),"Add Admin"]})}),h.jsx(lue,{isOpen:r.showAddAdminDialog,setDialogState:d,onAddAdmin:o,isLoading:i}),(r==null?void 0:r.showConfirmDeleteDialog)&&h.jsx(ka,{title:"Delete Admin Account",description:`Are you sure you want to delete the admin account with email ${e}? This action cannot be undone.`,isOpen:r.showConfirmDeleteDialog,setDialogState:p=>d("showConfirmDeleteDialog",p),onDelete:a,isDestructive:!0}),(r==null?void 0:r.showResetPasswordDialog)&&h.jsx(cue,{isOpen:r.showResetPasswordDialog,setDialogState:d,onResetPassword:l,isLoading:u})]})},wue=async()=>{const t="knowledgeBases",{success:e,document:n}=await lf(`/api/archive/data/${t}`);if(!e&&!n)throw new Error("Error fetching archive ");return n},xue=async()=>{const t="knowledgeEntries",{success:e,document:n}=await lf(`/api/archive/data/${t}`);if(!e&&!n)throw new Error("Error fetching archive ");return n},_ue=async t=>{const{success:e,message:n}=await cf(`/api/archive/knowledge-base/${t}`);if(!e)throw new Error(n);return n},Eue=async t=>{const{success:e,message:n}=await cf(`/api/archive/knowledge-entry/${t}`);if(!e)throw new Error(n);return n},Tue=async t=>{const e={knowledgeBaseId:t},{success:n,message:r}=await sa("/api/archive/restore/knowledge-base",{},e);if(!n)throw new Error(r);return r},bue=async t=>{const e={knowledgeEntryId:t},{success:n,message:r}=await sa("/api/archive/restore/knowledge-entry",{},e);if(!n)throw new Error(r);return r},mU=({onRestore:t,onDelete:e})=>h.jsx("div",{children:h.jsxs(sf,{children:[h.jsx(of,{asChild:!0,children:h.jsx(lt,{variant:"ghost",className:" hover:bg-gray-100 size-8 p-1 group",children:h.jsx(fE,{className:"text-zinc-400 size-5 group-hover:text-zinc-600 transition-colors"})})}),h.jsxs(fu,{align:"end",className:"w-auto text-sm bg-white border border-neutral-300 p-1 rounded-lg shadow-md",children:[h.jsxs(Os,{className:"flex items-center p-1.5 hover:bg-zinc-100 rounded-sm cursor-pointer",onClick:t,children:[h.jsx(OW,{className:"mr-2 h-4 w-4"}),h.jsx("p",{children:"Restore"})]}),h.jsxs(Os,{className:"flex items-center p-1.5 hover:bg-zinc-100 rounded-sm text-red-500 cursor-pointer",onClick:e,children:[h.jsx(Jh,{className:"mr-2 h-4 w-4"}),h.jsx("p",{children:"Delete Permanently"})]})]})]})}),Sue=({item:t})=>{const e=Et(o=>o.admin),n=Vt(o=>o.setSelectedKnowledgeBaseArchiveItem),r=Nr(o=>o.openDialog),s=async()=>{const{_id:o,knowledgeBase:a}=t;n({id:o,name:a}),r("showDeleteKnowledgeBaseArchiveDialog")},i=async()=>{const{_id:o,knowledgeBase:a}=t;n({id:o,name:a}),r("showRestoreKnowledgeBaseArchiveDialog")};return h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("section",{children:[h.jsx("p",{className:"font-medium",children:t.knowledgeBase}),h.jsx("p",{className:"text-muted-foreground text-sm",children:`Archived on ${new Date(t.archivedAt).toLocaleDateString()}  ${t.knowledgeEntry.length} ${t.knowledgeEntry.length===1?"entry":"entries"}`})]}),(e==null?void 0:e.role)!=="viewer"&&h.jsx(mU,{onRestore:i,onDelete:s})]})},gU=()=>h.jsxs("div",{className:"h-[500px] overflow-y-auto p-2 botder border-t space-y-3",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ce,{className:"w-24 h-5"}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Ce,{className:"w-40 h-4"}),h.jsx(Ce,{className:"w-20 h-4"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ce,{className:"w-10 h-5"}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Ce,{className:"w-40 h-4"}),h.jsx(Ce,{className:"w-20 h-4"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ce,{className:"w-14 h-5"}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Ce,{className:"w-40 h-4"}),h.jsx(Ce,{className:"w-20 h-4"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ce,{className:"w-28 h-5"}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Ce,{className:"w-40 h-4"}),h.jsx(Ce,{className:"w-20 h-4"})]})]})]}),yU=()=>h.jsx("div",{className:"h-[500px] flex items-center justify-center p-2 botder border-t space-y-3",children:h.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 w-full max-w-lg my-4",role:"alert",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(Pk,{className:"size-[5rem] text-red-400 mr-4"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-bold text-yellow-700",children:"Error Fetching Archive List"}),h.jsx("p",{className:"text-yellow-700 mt-1",children:"We encountered an issue while trying to retrieve the archive list. This might be due to a network problem or a temporary issue with the server. Please check your internet connection and try again."})]})]})})}),Iue=()=>{const{data:t,isLoading:e,isError:n}=Ef({queryFn:()=>wue(),queryKey:gg});return e?h.jsx(gU,{}):!t||n?h.jsx(yU,{}):h.jsx("div",{className:"flex h-[500px] overflow-y-auto p-2 botder border-t",children:t.items.length!==0?h.jsx(pu,{listStyle:"space-y-3 w-full",items:t.items,renderItem:r=>h.jsx(Sue,{item:r})}):h.jsxs("div",{className:"flex-1 flex flex-col justify-center items-center",children:[h.jsx("div",{className:"h-20 w-20 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:h.jsx(ey,{className:"h-10 w-10 text-primary"})}),h.jsx("h2",{className:"text-lg font-semibold mb-2",children:"No archived bases"}),h.jsxs("p",{className:"text-sm text-center text-muted-foreground mb-6 max-w-md ",children:["When you archive knowledge bases, they'll appear here. Archived bases can be restored or permanently deleted. ",h.jsx("br",{}),"Note: Archives are automatically deleted after 30 days."]})]})})},Aue=({item:t})=>{const e=Et(o=>o.admin),n=Vt(o=>o.setSelectedKnowledgeEntryArchiveItem),r=Nr(o=>o.openDialog),s=async()=>{const{_id:o,knowledgeEntry:{intent:a}}=t;n({id:o,name:a}),r("showDeleteKnowledgeEntryArchiveDialog")},i=async()=>{const{_id:o,knowledgeEntry:{intent:a}}=t;n({id:o,name:a}),r("showRestoreKnowledgeEntryArchiveDialog")};return h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("section",{children:[h.jsx("p",{className:"font-medium",children:t.knowledgeEntry.intent}),h.jsx("p",{className:"text-muted-foreground text-sm",children:`From: ${t.knowledgeBase}  Archived on ${new Date(t.archivedAt).toLocaleDateString()}`})]}),(e==null?void 0:e.role)!=="viewer"&&h.jsx(mU,{onRestore:i,onDelete:s})]})},Cue=()=>{const{data:t,isLoading:e,isError:n}=Ef({queryFn:()=>xue(),queryKey:yg});return e?h.jsx(gU,{}):!t||n?h.jsx(yU,{}):h.jsx("div",{className:"flex h-[500px] overflow-y-auto p-2 botder border-t",children:t.items.length!==0?h.jsx(pu,{listStyle:"space-y-3 w-full",items:t.items,renderItem:r=>h.jsx(Aue,{item:r})}):h.jsxs("div",{className:"flex-1 flex flex-col justify-center items-center",children:[h.jsx("div",{className:"h-20 w-20 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:h.jsx(ey,{className:"h-10 w-10 text-primary"})}),h.jsx("h2",{className:"text-lg font-semibold mb-2",children:"No archived entries"}),h.jsxs("p",{className:"text-sm text-center text-muted-foreground mb-6 max-w-md whitespace-pre-line",children:["When you archive knowledge entries, they'll appear here. Archived entries can be restored or permanently deleted. ",h.jsx("br",{}),"Note: Archives are automatically deleted after 30 days."]})]})})},Rue=()=>{const t=mi(n=>n.currentSelectedTabInArchiveTab),e=mi(n=>n.setCurrentSelectedTabInArchiveTab);return h.jsxs(aL,{value:t,onValueChange:n=>e(n),className:"space-y-4",children:[h.jsxs(_T,{className:"p-1 border-neutral-200 border rounded-md",children:[h.jsx(ig,{className:"data-[state=active]:bg-primary data-[state=active]:text-white rounded-sm",value:"knowledgeBases",children:"Knowledge Bases"}),h.jsx(ig,{className:"data-[state=active]:bg-primary data-[state=active]:text-white rounded-sm",value:"knowledgeEntries",children:"Knowledge Entries"})]}),t==="knowledgeBases"&&h.jsx(Iue,{}),t==="knowledgeEntries"&&h.jsx(Cue,{})]})},Pue=()=>{const t=Vi(),e=_l(),{id:n,name:r}=Vt(I=>I.selectedKnowledgeBaseArchiveItem),{id:s,name:i}=Vt(I=>I.selectedKnowledgeEntryArchiveItem),o=Nr(I=>I.dialogs),a=Nr(I=>I.setDialogState),l=rc.baseArchive(r??"Unknown Base"),c=rc.baseRestore(r??"Unknown Entry"),u=rc.entryArchive(i??"Unknown Base"),d=rc.entryRestore(i??"Unknown Base"),{mutateAsync:p}=Sr({mutationFn:_ue,onSuccess:I=>{e.invalidateQueries({queryKey:gg}),t({title:I,description:rt()})},onError:I=>{t({title:I.message,description:rt(),variant:"destructive"})}}),g=async()=>{try{if(!n)throw new Error("Knowledge base archive id not found");await p(n)}catch(I){console.error("An unexpected error occured: ",I)}},{mutateAsync:w}=Sr({mutationFn:Tue,onSuccess:I=>{e.invalidateQueries({queryKey:Md}),e.invalidateQueries({queryKey:gg}),t({title:I,description:rt()})},onError:I=>{t({title:I.message,description:rt(),variant:"destructive"})}}),v=async()=>{try{if(!n)throw new Error("Knowledge base archive id not found");await w(n)}catch(I){console.error("An unexpected error occured: ",I)}},{mutateAsync:_}=Sr({mutationFn:Eue,onSuccess:I=>{e.invalidateQueries({queryKey:yg}),t({title:I,description:rt()})},onError:I=>{t({title:I.message,description:rt(),variant:"destructive"})}}),x=async()=>{try{if(!s)throw new Error("Knowledge entry archive id not found");await _(s)}catch(I){console.error("An unexpected error occured: ",I)}},{mutateAsync:y}=Sr({mutationFn:bue,onSuccess:I=>{e.invalidateQueries({queryKey:yg}),t({title:I,description:rt()})},onError:I=>{t({title:I.message,description:rt(),variant:"destructive"})}}),b=async()=>{try{if(!s)throw new Error("Knowledge entry archive id not found");await y(s)}catch(I){console.error("An unexpected error occured: ",I)}};return h.jsxs("section",{className:"flex-1 flex-col space-y-4",children:[h.jsxs(er,{children:[h.jsxs(Qr,{children:[h.jsx(Yr,{children:"Archives"}),h.jsx(aa,{children:"View and manage archived knowledge bases and entries"})]}),h.jsx(pr,{children:h.jsx(Rue,{})})]}),o.showDeleteKnowledgeBaseArchiveDialog&&h.jsx(ka,{title:l.title,description:l.description,isOpen:o.showDeleteKnowledgeBaseArchiveDialog,setDialogState:I=>a("showDeleteKnowledgeBaseArchiveDialog",I),onDelete:g,isDestructive:!0}),o.showRestoreKnowledgeBaseArchiveDialog&&h.jsx(ka,{title:c.title,description:c.description,isOpen:o.showRestoreKnowledgeBaseArchiveDialog,setDialogState:I=>a("showRestoreKnowledgeBaseArchiveDialog",I),onDelete:v}),o.showDeleteKnowledgeEntryArchiveDialog&&h.jsx(ka,{title:u.title,description:u.description,isOpen:o.showDeleteKnowledgeEntryArchiveDialog,setDialogState:I=>a("showDeleteKnowledgeEntryArchiveDialog",I),onDelete:x,isDestructive:!0}),o.showRestoreKnowledgeEntryArchiveDialog&&h.jsx(ka,{title:d.title,description:d.description,isOpen:o.showRestoreKnowledgeEntryArchiveDialog,setDialogState:I=>a("showRestoreKnowledgeEntryArchiveDialog",I),onDelete:b})]})},Nue=()=>{const t=mi(n=>n.currentSelectedTabInSettingsTab),e=mi(n=>n.setCurrentSelectedTabInSettingsTab);return h.jsxs("section",{className:"flex space-x-2",children:[h.jsx(dce,{activeTab:t,onTabChange:e}),t==="team"&&h.jsx(vue,{}),t==="botProfile"&&h.jsx(cce,{}),t==="botModel"&&h.jsx(gce,{}),t==="archives"&&h.jsx(Pue,{})]})},Due=()=>h.jsx("header",{className:"py-4 text-3xl font-semibold",children:"Settings"}),kue=()=>h.jsxs("div",{className:"flex flex-col md:w-[84rem] w-[68rem] px-20 space-y-6",children:[h.jsx(Due,{}),h.jsx(Nue,{})]}),Mue=({id:t,text:e,onChange:n,checked:r})=>h.jsxs(h.Fragment,{children:[h.jsx("input",{type:"radio",id:t,name:"nav-btn",value:e,className:"hidden peer",checked:r,onChange:n}),h.jsx("label",{htmlFor:t,className:"flex-1 flex w-[190px] justify-center items-center py-3 px-4 cursor-pointer uppercase text-sm font-[500]",children:e})]}),Oue=({labels:t,selectedTab:e,setSelectedTab:n})=>{const r=s=>{n(s)};return h.jsx("nav",{className:"tabs relative flex after:absolute after:bottom-0 after:pointer-events-none after:border after:border-blue-500",children:t==null?void 0:t.map(s=>h.jsx(Mue,{id:s,text:s,checked:e==s,onChange:()=>r(s)},s))})},jue={siteName:"COB-CHATBOT",botName:"AI NLP Assistant"},vU=t=>{m.useEffect(()=>{document.title=t??"Page"},[])},Lue={chatbot:gZ,settings:kue,knowledge:Gle},Vue=()=>{const[t,e]=m.useState("chatbot"),n=["chatbot","knowledge","settings"],r=Lue[t]||null;return vU("Admin Panel"),h.jsxs("div",{className:"min-h-[100dvh] flex flex-col bg-[#F8F9FB] scrollbar-slim",children:[h.jsxs(TG,{text:jue.siteName,children:[h.jsx(Oue,{labels:n,selectedTab:t,setSelectedTab:e}),h.jsx("hr",{className:"w-full border-neutral-300"})]}),r&&h.jsx(bG,{Component:r})]})};function Fue(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=d=>{var x;const{scope:p,children:g,...w}=d,v=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,_=m.useMemo(()=>w,Object.values(w));return h.jsx(v.Provider,{value:_,children:g})};c.displayName=i+"Provider";function u(d,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Uue(s,...e)]}function Uue(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Bue="DismissableLayer",t_="dismissableLayer.update",$ue="dismissableLayer.pointerDownOutside",zue="dismissableLayer.focusOutside",CR,wU=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xU=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(wU),[u,d]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=Oe(e,A=>d(A)),v=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(_),y=u?v.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,I=y>=x,D=Wue(A=>{const T=A.target,R=[...c.branches].some(C=>C.contains(T));!I||R||(s==null||s(A),o==null||o(A),A.defaultPrevented||a==null||a())},p),O=Hue(A=>{const T=A.target;[...c.branches].some(C=>C.contains(T))||(i==null||i(A),o==null||o(A),A.defaultPrevented||a==null||a())},p);return Zh(A=>{y===c.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&a&&(A.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(CR=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),RR(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=CR)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),RR())},[u,c]),m.useEffect(()=>{const A=()=>g({});return document.addEventListener(t_,A),()=>document.removeEventListener(t_,A)},[]),h.jsx(xe.div,{...l,ref:w,style:{pointerEvents:b?I?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,D.onPointerDownCapture)})});xU.displayName=Bue;var Kue="DismissableLayerBranch",_U=m.forwardRef((t,e)=>{const n=m.useContext(wU),r=m.useRef(null),s=Oe(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),h.jsx(xe.div,{...t,ref:s})});_U.displayName=Kue;function Wue(t,e=globalThis==null?void 0:globalThis.document){const n=Mt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){EU($ue,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Hue(t,e=globalThis==null?void 0:globalThis.document){const n=Mt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&EU(zue,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function RR(){const t=new CustomEvent(t_);document.dispatchEvent(t)}function EU(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?ml(s,i):s.dispatchEvent(i)}var que=xU,Gue=_U,Que="Portal",TU=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Nt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?zh.createPortal(h.jsx(xe.div,{...r,ref:e}),o):null});TU.displayName=Que;function Yue(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var bU=t=>{const{present:e,children:n}=t,r=Xue(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=Oe(r.ref,Jue(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};bU.displayName="Presence";function Xue(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=Yue(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Pp(r.current);i.current=a==="mounted"?c:"none"},[a]),Nt(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=Pp(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Nt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=g=>{const v=Pp(r.current).includes(g.animationName);if(g.target===e&&v&&(l("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},p=g=>{g.target===e&&(i.current=Pp(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Pp(t){return(t==null?void 0:t.animationName)||"none"}function Jue(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Nb="ToastProvider",[Db,Zue,ede]=sy("Toast"),[SU,Gde]=Fue("Toast",[ede]),[tde,av]=SU(Nb),IU=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=m.useState(null),[c,u]=m.useState(0),d=m.useRef(!1),p=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Nb}\`. Expected non-empty \`string\`.`),h.jsx(Db.Provider,{scope:e,children:h.jsx(tde,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>u(g=>g+1),[]),onToastRemove:m.useCallback(()=>u(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:p,children:o})})};IU.displayName=Nb;var AU="ToastViewport",nde=["F8"],n_="toast.viewportPause",r_="toast.viewportResume",CU=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=nde,label:s="Notifications ({hotkey})",...i}=t,o=av(AU,n),a=Zue(n),l=m.useRef(null),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),p=Oe(e,d,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;m.useEffect(()=>{const _=x=>{var b;r.length!==0&&r.every(I=>x[I]||x.code===I)&&((b=d.current)==null||b.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),m.useEffect(()=>{const _=l.current,x=d.current;if(w&&_&&x){const y=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(n_);x.dispatchEvent(O),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(r_);x.dispatchEvent(O),o.isClosePausedRef.current=!1}},I=O=>{!_.contains(O.relatedTarget)&&b()},D=()=>{_.contains(document.activeElement)||b()};return _.addEventListener("focusin",y),_.addEventListener("focusout",I),_.addEventListener("pointermove",y),_.addEventListener("pointerleave",D),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{_.removeEventListener("focusin",y),_.removeEventListener("focusout",I),_.removeEventListener("pointermove",y),_.removeEventListener("pointerleave",D),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[w,o.isClosePausedRef]);const v=m.useCallback(({tabbingDirection:_})=>{const y=a().map(b=>{const I=b.ref.current,D=[I,...mde(I)];return _==="forwards"?D:D.reverse()});return(_==="forwards"?y.reverse():y).flat()},[a]);return m.useEffect(()=>{const _=d.current;if(_){const x=y=>{var D,O,A;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const T=document.activeElement,R=y.shiftKey;if(y.target===_&&R){(D=c.current)==null||D.focus();return}const k=v({tabbingDirection:R?"backwards":"forwards"}),N=k.findIndex(H=>H===T);Uw(k.slice(N+1))?y.preventDefault():R?(O=c.current)==null||O.focus():(A=u.current)==null||A.focus()}};return _.addEventListener("keydown",x),()=>_.removeEventListener("keydown",x)}},[a,v]),h.jsxs(Gue,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&h.jsx(s_,{ref:c,onFocusFromOutsideViewport:()=>{const _=v({tabbingDirection:"forwards"});Uw(_)}}),h.jsx(Db.Slot,{scope:n,children:h.jsx(xe.ol,{tabIndex:-1,...i,ref:p})}),w&&h.jsx(s_,{ref:u,onFocusFromOutsideViewport:()=>{const _=v({tabbingDirection:"backwards"});Uw(_)}})]})});CU.displayName=AU;var RU="ToastFocusProxy",s_=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=av(RU,n);return h.jsx(pf,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});s_.displayName=RU;var lv="Toast",rde="toast.swipeStart",sde="toast.swipeMove",ide="toast.swipeCancel",ode="toast.swipeEnd",PU=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=Uo({prop:r,defaultProp:s,onChange:i});return h.jsx(bU,{present:n||a,children:h.jsx(cde,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Mt(t.onPause),onResume:Mt(t.onResume),onSwipeStart:ee(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ee(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:ee(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ee(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});PU.displayName=lv;var[ade,lde]=SU(lv,{onClose(){}}),cde=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:p,onSwipeEnd:g,...w}=t,v=av(lv,n),[_,x]=m.useState(null),y=Oe(e,H=>x(H)),b=m.useRef(null),I=m.useRef(null),D=s||v.duration,O=m.useRef(0),A=m.useRef(D),T=m.useRef(0),{onToastAdd:R,onToastRemove:C}=v,M=Mt(()=>{var ae;(_==null?void 0:_.contains(document.activeElement))&&((ae=v.viewport)==null||ae.focus()),o()}),k=m.useCallback(H=>{!H||H===1/0||(window.clearTimeout(T.current),O.current=new Date().getTime(),T.current=window.setTimeout(M,H))},[M]);m.useEffect(()=>{const H=v.viewport;if(H){const ae=()=>{k(A.current),c==null||c()},te=()=>{const ne=new Date().getTime()-O.current;A.current=A.current-ne,window.clearTimeout(T.current),l==null||l()};return H.addEventListener(n_,te),H.addEventListener(r_,ae),()=>{H.removeEventListener(n_,te),H.removeEventListener(r_,ae)}}},[v.viewport,D,l,c,k]),m.useEffect(()=>{i&&!v.isClosePausedRef.current&&k(D)},[i,D,v.isClosePausedRef,k]),m.useEffect(()=>(R(),()=>C()),[R,C]);const N=m.useMemo(()=>_?LU(_):null,[_]);return v.viewport?h.jsxs(h.Fragment,{children:[N&&h.jsx(ude,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),h.jsx(ade,{scope:n,onClose:M,children:ji.createPortal(h.jsx(Db.ItemSlot,{scope:n,children:h.jsx(que,{asChild:!0,onEscapeKeyDown:ee(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||M(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:h.jsx(xe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ee(t.onKeyDown,H=>{H.key==="Escape"&&(a==null||a(H.nativeEvent),H.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:ee(t.onPointerDown,H=>{H.button===0&&(b.current={x:H.clientX,y:H.clientY})}),onPointerMove:ee(t.onPointerMove,H=>{if(!b.current)return;const ae=H.clientX-b.current.x,te=H.clientY-b.current.y,ne=!!I.current,z=["left","right"].includes(v.swipeDirection),B=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,Z=z?B(0,ae):0,pe=z?0:B(0,te),Te=H.pointerType==="touch"?10:2,Re={x:Z,y:pe},Je={originalEvent:H,delta:Re};ne?(I.current=Re,Np(sde,d,Je,{discrete:!1})):PR(Re,v.swipeDirection,Te)?(I.current=Re,Np(rde,u,Je,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(ae)>Te||Math.abs(te)>Te)&&(b.current=null)}),onPointerUp:ee(t.onPointerUp,H=>{const ae=I.current,te=H.target;if(te.hasPointerCapture(H.pointerId)&&te.releasePointerCapture(H.pointerId),I.current=null,b.current=null,ae){const ne=H.currentTarget,z={originalEvent:H,delta:ae};PR(ae,v.swipeDirection,v.swipeThreshold)?Np(ode,g,z,{discrete:!0}):Np(ide,p,z,{discrete:!0}),ne.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),ude=t=>{const{__scopeToast:e,children:n,...r}=t,s=av(lv,e),[i,o]=m.useState(!1),[a,l]=m.useState(!1);return fde(()=>o(!0)),m.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:h.jsx(TU,{asChild:!0,children:h.jsx(pf,{...r,children:i&&h.jsxs(h.Fragment,{children:[s.label," ",n]})})})},dde="ToastTitle",NU=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(xe.div,{...r,ref:e})});NU.displayName=dde;var hde="ToastDescription",DU=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(xe.div,{...r,ref:e})});DU.displayName=hde;var kU="ToastAction",MU=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?h.jsx(jU,{altText:n,asChild:!0,children:h.jsx(kb,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${kU}\`. Expected non-empty \`string\`.`),null)});MU.displayName=kU;var OU="ToastClose",kb=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=lde(OU,n);return h.jsx(jU,{asChild:!0,children:h.jsx(xe.button,{type:"button",...r,ref:e,onClick:ee(t.onClick,s.onClose)})})});kb.displayName=OU;var jU=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return h.jsx(xe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function LU(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),pde(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...LU(r))}}),e}function Np(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?ml(s,i):s.dispatchEvent(i)}var PR=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function fde(t=()=>{}){const e=Mt(t);Nt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function pde(t){return t.nodeType===t.ELEMENT_NODE}function mde(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Uw(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var gde=IU,VU=CU,FU=PU,UU=NU,BU=DU,$U=MU,zU=kb;const yde=gde,KU=m.forwardRef(({className:t,...e},n)=>h.jsx(VU,{ref:n,className:ce("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));KU.displayName=VU.displayName;const vde=af("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),WU=m.forwardRef(({className:t,variant:e,...n},r)=>h.jsx(FU,{ref:r,className:ce(vde({variant:e}),t),...n}));WU.displayName=FU.displayName;const wde=m.forwardRef(({className:t,...e},n)=>h.jsx($U,{ref:n,className:ce("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));wde.displayName=$U.displayName;const HU=m.forwardRef(({className:t,...e},n)=>h.jsx(zU,{ref:n,className:ce("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:h.jsx(ny,{className:"h-4 w-4"})}));HU.displayName=zU.displayName;const qU=m.forwardRef(({className:t,...e},n)=>h.jsx(UU,{ref:n,className:ce("text-sm font-semibold",t),...e}));qU.displayName=UU.displayName;const GU=m.forwardRef(({className:t,...e},n)=>h.jsx(BU,{ref:n,className:ce("text-sm opacity-90",t),...e}));GU.displayName=BU.displayName;function xde(){const{toasts:t}=$V();return h.jsxs(yde,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return h.jsxs(WU,{...i,children:[h.jsxs("div",{className:"grid gap-1",children:[n&&h.jsx(qU,{children:n}),r&&h.jsx(GU,{children:r})]}),s,h.jsx(HU,{})]},e)}),h.jsx(KU,{})]})}const _de=()=>{const t=au();m.useEffect(()=>{FV(voe,"page_view",{page_path:t.pathname})},[t])},Ede=()=>{const t=Et(r=>r.isAuth),e=Et(r=>r.admin),n=new lae;return SW(),_de(),!t&&!e?h.jsx(wk,{to:"/login"}):h.jsx(fae,{client:n,children:h.jsxs("main",{children:[h.jsx(Vue,{}),h.jsx(xde,{})]})})},Tde=af("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),QU=m.forwardRef(({className:t,variant:e,...n},r)=>h.jsx("div",{ref:r,role:"alert",className:ce(Tde({variant:e}),t),...n}));QU.displayName="Alert";const bde=m.forwardRef(({className:t,...e},n)=>h.jsx("h5",{ref:n,className:ce("mb-1 font-medium leading-none tracking-tight",t),...e}));bde.displayName="AlertTitle";const YU=m.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:ce("text-sm [&_p]:leading-relaxed",t),...e}));YU.displayName="AlertDescription";const Sde=({password:t,setPassword:e})=>{const[n,r]=m.useState(!1);return h.jsxs("div",{className:"relative",children:[h.jsx(on,{id:"password",type:n?"text":"password",placeholder:"",value:t,onChange:s=>e(s.target.value),required:!0}),h.jsx(lt,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>r(s=>!s),"aria-label":n?"Hide password":"Show password",children:n?h.jsx(Sk,{className:"h-4 w-4 text-gray-500"}):h.jsx(pE,{className:"h-4 w-4 text-gray-500"})})]})},Ide=()=>{const t=Yh(),[e,n]=m.useState(""),[r,s]=m.useState(""),[i,o]=m.useState(""),[a,l]=m.useState(!1),c=Et(p=>p.login),u=Et(p=>p.isAuth),d=async p=>{p.preventDefault(),o(""),l(!0);try{const{accessToken:g,admin:w}=await due(e,r);c(g,w),t("/")}catch{o("Invalid credentials, Please try again.")}finally{l(!1)}};return vU("Admin Login"),u?h.jsx(wk,{to:"/"}):h.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-r from-gray-100 to-gray-200 relative",children:[h.jsx("div",{className:"absolute inset-0 opacity-10 bg-cover bg-center z-0",style:{backgroundImage:"url('/placeholder.svg?height=1080&width=1920')",filter:"blur(3px)"},"aria-hidden":"true"}),h.jsxs(er,{className:"w-full max-w-md z-10",children:[h.jsxs(Qr,{children:[h.jsx(Yr,{className:"text-2xl font-bold text-center",children:"Welcome Back"}),h.jsx(aa,{className:"text-center",children:"Please sign in to your account"})]}),h.jsx(pr,{children:h.jsxs("form",{onSubmit:d,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(hn,{htmlFor:"email",children:"Email"}),h.jsx(on,{id:"email",type:"email",placeholder:"email@address.com",value:e,onChange:p=>n(p.target.value),required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(hn,{htmlFor:"password",children:"Password"}),h.jsx(Sde,{password:r,setPassword:s})]}),i&&h.jsxs(QU,{variant:"destructive",children:[h.jsx(bk,{className:"h-4 w-4"}),h.jsx(YU,{children:i})]}),h.jsx(lt,{type:"submit",className:"w-full",disabled:a,children:a?"Signing In...":"Sign In"})]})}),h.jsxs(_L,{className:"flex flex-col items-center justify-center space-y-2",children:[h.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Powered by cob-chatbot"}),h.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Quick, responsive, and fully customizable."})]})]})]})};function Ade(){var n;const t=vk();let e;return Qh(t)?e=t.statusText||((n=t.data)==null?void 0:n.message)||"An unexpected error occurred.":t instanceof Error?e=t.message:typeof t=="string"?e=t:(console.error(t),e="An unknown error occurred."),h.jsx("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center items-center px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-md w-full space-y-8 text-center",children:[h.jsx("div",{className:"flex justify-center",children:h.jsx(bk,{className:"h-24 w-24 text-red-600"})}),h.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Oops! Something went wrong"}),h.jsx("p",{className:"mt-2 text-sm text-gray-600",children:e}),h.jsx("div",{className:"mt-5",children:h.jsx(TW,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Go back home"})})]})})}const Cde=cW([{path:"/",element:h.jsx(Ede,{}),errorElement:h.jsx(Ade,{})},{path:"/login",element:h.jsx(Ide,{})}],{basename:"/admin"});Bw.createRoot(document.getElementById("root")).render(h.jsx(We.StrictMode,{children:h.jsx(vW,{router:Cde})}));
