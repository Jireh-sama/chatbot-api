var Hy=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var V=(t,e,n)=>(Hy(t,e,"read from private field"),n?n.call(t):e.get(t)),be=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},me=(t,e,n,r)=>(Hy(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var gp=(t,e,n,r)=>({set _(s){me(t,e,s,n)},get _(){return V(t,e,r)}}),Ye=(t,e,n)=>(Hy(t,e,"access private method"),n);function BP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function z_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $P={exports:{}},av={},zP={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uf=Symbol.for("react.element"),P$=Symbol.for("react.portal"),N$=Symbol.for("react.fragment"),D$=Symbol.for("react.strict_mode"),k$=Symbol.for("react.profiler"),M$=Symbol.for("react.provider"),O$=Symbol.for("react.context"),j$=Symbol.for("react.forward_ref"),L$=Symbol.for("react.suspense"),V$=Symbol.for("react.memo"),F$=Symbol.for("react.lazy"),tC=Symbol.iterator;function U$(t){return t===null||typeof t!="object"?null:(t=tC&&t[tC]||t["@@iterator"],typeof t=="function"?t:null)}var KP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},WP=Object.assign,HP={};function vu(t,e,n){this.props=t,this.context=e,this.refs=HP,this.updater=n||KP}vu.prototype.isReactComponent={};vu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};vu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function qP(){}qP.prototype=vu.prototype;function K_(t,e,n){this.props=t,this.context=e,this.refs=HP,this.updater=n||KP}var W_=K_.prototype=new qP;W_.constructor=K_;WP(W_,vu.prototype);W_.isPureReactComponent=!0;var nC=Array.isArray,GP=Object.prototype.hasOwnProperty,H_={current:null},QP={key:!0,ref:!0,__self:!0,__source:!0};function YP(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)GP.call(e,r)&&!QP.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:uf,type:t,key:i,ref:o,props:s,_owner:H_.current}}function B$(t,e){return{$$typeof:uf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function q_(t){return typeof t=="object"&&t!==null&&t.$$typeof===uf}function $$(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var rC=/\/+/g;function qy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$$(""+t.key):e.toString(36)}function om(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case uf:case P$:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+qy(o,0):r,nC(s)?(n="",t!=null&&(n=t.replace(rC,"$&/")+"/"),om(s,e,n,"",function(c){return c})):s!=null&&(q_(s)&&(s=B$(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(rC,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",nC(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+qy(i,a);o+=om(i,e,n,l,s)}else if(l=U$(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+qy(i,a++),o+=om(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function vp(t,e,n){if(t==null)return t;var r=[],s=0;return om(t,r,"","",function(i){return e.call(n,i,s++)}),r}function z$(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var gr={current:null},am={transition:null},K$={ReactCurrentDispatcher:gr,ReactCurrentBatchConfig:am,ReactCurrentOwner:H_};function XP(){throw Error("act(...) is not supported in production builds of React.")}Ze.Children={map:vp,forEach:function(t,e,n){vp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return vp(t,function(){e++}),e},toArray:function(t){return vp(t,function(e){return e})||[]},only:function(t){if(!q_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ze.Component=vu;Ze.Fragment=N$;Ze.Profiler=k$;Ze.PureComponent=K_;Ze.StrictMode=D$;Ze.Suspense=L$;Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K$;Ze.act=XP;Ze.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=WP({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=H_.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)GP.call(e,l)&&!QP.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:uf,type:t.type,key:s,ref:i,props:r,_owner:o}};Ze.createContext=function(t){return t={$$typeof:O$,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:M$,_context:t},t.Consumer=t};Ze.createElement=YP;Ze.createFactory=function(t){var e=YP.bind(null,t);return e.type=t,e};Ze.createRef=function(){return{current:null}};Ze.forwardRef=function(t){return{$$typeof:j$,render:t}};Ze.isValidElement=q_;Ze.lazy=function(t){return{$$typeof:F$,_payload:{_status:-1,_result:t},_init:z$}};Ze.memo=function(t,e){return{$$typeof:V$,type:t,compare:e===void 0?null:e}};Ze.startTransition=function(t){var e=am.transition;am.transition={};try{t()}finally{am.transition=e}};Ze.unstable_act=XP;Ze.useCallback=function(t,e){return gr.current.useCallback(t,e)};Ze.useContext=function(t){return gr.current.useContext(t)};Ze.useDebugValue=function(){};Ze.useDeferredValue=function(t){return gr.current.useDeferredValue(t)};Ze.useEffect=function(t,e){return gr.current.useEffect(t,e)};Ze.useId=function(){return gr.current.useId()};Ze.useImperativeHandle=function(t,e,n){return gr.current.useImperativeHandle(t,e,n)};Ze.useInsertionEffect=function(t,e){return gr.current.useInsertionEffect(t,e)};Ze.useLayoutEffect=function(t,e){return gr.current.useLayoutEffect(t,e)};Ze.useMemo=function(t,e){return gr.current.useMemo(t,e)};Ze.useReducer=function(t,e,n){return gr.current.useReducer(t,e,n)};Ze.useRef=function(t){return gr.current.useRef(t)};Ze.useState=function(t){return gr.current.useState(t)};Ze.useSyncExternalStore=function(t,e,n){return gr.current.useSyncExternalStore(t,e,n)};Ze.useTransition=function(){return gr.current.useTransition()};Ze.version="18.3.1";zP.exports=Ze;var m=zP.exports;const Re=z_(m),JP=BP({__proto__:null,default:Re},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W$=m,H$=Symbol.for("react.element"),q$=Symbol.for("react.fragment"),G$=Object.prototype.hasOwnProperty,Q$=W$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Y$={key:!0,ref:!0,__self:!0,__source:!0};function ZP(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)G$.call(e,r)&&!Y$.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:H$,type:t,key:i,ref:o,props:s,_owner:Q$.current}}av.Fragment=q$;av.jsx=ZP;av.jsxs=ZP;$P.exports=av;var d=$P.exports,x0={},eN={exports:{}},Yr={},tN={exports:{}},nN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,B){var J=z.length;z.push(B);e:for(;0<J;){var fe=J-1>>>1,he=z[fe];if(0<s(he,B))z[fe]=B,z[J]=he,J=fe;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var B=z[0],J=z.pop();if(J!==B){z[0]=J;e:for(var fe=0,he=z.length,Te=he>>>1;fe<Te;){var We=2*(fe+1)-1,at=z[We],Ne=We+1,ce=z[Ne];if(0>s(at,J))Ne<he&&0>s(ce,at)?(z[fe]=ce,z[Ne]=J,fe=Ne):(z[fe]=at,z[We]=J,fe=We);else if(Ne<he&&0>s(ce,J))z[fe]=ce,z[Ne]=J,fe=Ne;else break e}}return B}function s(z,B){var J=z.sortIndex-B.sortIndex;return J!==0?J:z.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,p=3,g=!1,w=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(z){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=z)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function C(z){if(v=!1,b(z),!w)if(n(l)!==null)w=!0,ne(P);else{var B=n(c);B!==null&&Y(C,B.startTime-z)}}function P(z,B){w=!1,v&&(v=!1,x(E),E=-1),g=!0;var J=p;try{for(b(B),h=n(l);h!==null&&(!(h.expirationTime>B)||z&&!k());){var fe=h.callback;if(typeof fe=="function"){h.callback=null,p=h.priorityLevel;var he=fe(h.expirationTime<=B);B=t.unstable_now(),typeof he=="function"?h.callback=he:h===n(l)&&r(l),b(B)}else r(l);h=n(l)}if(h!==null)var Te=!0;else{var We=n(c);We!==null&&Y(C,We.startTime-B),Te=!1}return Te}finally{h=null,p=J,g=!1}}var O=!1,T=null,E=-1,I=5,R=-1;function k(){return!(t.unstable_now()-R<I)}function M(){if(T!==null){var z=t.unstable_now();R=z;var B=!0;try{B=T(!0,z)}finally{B?N():(O=!1,T=null)}}else O=!1}var N;if(typeof y=="function")N=function(){y(M)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,se=W.port2;W.port1.onmessage=M,N=function(){se.postMessage(null)}}else N=function(){_(M,0)};function ne(z){T=z,O||(O=!0,N())}function Y(z,B){E=_(function(){z(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,ne(P))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var J=p;p=B;try{return z()}finally{p=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,B){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var J=p;p=z;try{return B()}finally{p=J}},t.unstable_scheduleCallback=function(z,B,J){var fe=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?fe+J:fe):J=fe,z){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=J+he,z={id:u++,callback:B,priorityLevel:z,startTime:J,expirationTime:he,sortIndex:-1},J>fe?(z.sortIndex=J,e(c,z),n(l)===null&&z===n(c)&&(v?(x(E),E=-1):v=!0,Y(C,J-fe))):(z.sortIndex=he,e(l,z),w||g||(w=!0,ne(P))),z},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(z){var B=p;return function(){var J=p;p=B;try{return z.apply(this,arguments)}finally{p=J}}}})(nN);tN.exports=nN;var X$=tN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J$=m,qr=X$;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rN=new Set,oh={};function Rl(t,e){Gc(t,e),Gc(t+"Capture",e)}function Gc(t,e){for(oh[t]=e,t=0;t<e.length;t++)rN.add(e[t])}var Ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_0=Object.prototype.hasOwnProperty,Z$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sC={},iC={};function ez(t){return _0.call(iC,t)?!0:_0.call(sC,t)?!1:Z$.test(t)?iC[t]=!0:(sC[t]=!0,!1)}function tz(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nz(t,e,n,r){if(e===null||typeof e>"u"||tz(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vr(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Kn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Kn[t]=new vr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Kn[e]=new vr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Kn[t]=new vr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Kn[t]=new vr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Kn[t]=new vr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Kn[t]=new vr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Kn[t]=new vr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Kn[t]=new vr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Kn[t]=new vr(t,5,!1,t.toLowerCase(),null,!1,!1)});var G_=/[\-:]([a-z])/g;function Q_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(G_,Q_);Kn[e]=new vr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(G_,Q_);Kn[e]=new vr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(G_,Q_);Kn[e]=new vr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Kn[t]=new vr(t,1,!1,t.toLowerCase(),null,!1,!1)});Kn.xlinkHref=new vr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Kn[t]=new vr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Y_(t,e,n,r){var s=Kn.hasOwnProperty(e)?Kn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(nz(e,n,s,r)&&(n=null),r||s===null?ez(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var no=J$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yp=Symbol.for("react.element"),Jl=Symbol.for("react.portal"),Zl=Symbol.for("react.fragment"),X_=Symbol.for("react.strict_mode"),E0=Symbol.for("react.profiler"),sN=Symbol.for("react.provider"),iN=Symbol.for("react.context"),J_=Symbol.for("react.forward_ref"),b0=Symbol.for("react.suspense"),S0=Symbol.for("react.suspense_list"),Z_=Symbol.for("react.memo"),xo=Symbol.for("react.lazy"),oN=Symbol.for("react.offscreen"),oC=Symbol.iterator;function Zu(t){return t===null||typeof t!="object"?null:(t=oC&&t[oC]||t["@@iterator"],typeof t=="function"?t:null)}var Gt=Object.assign,Gy;function yd(t){if(Gy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Gy=e&&e[1]||""}return`
`+Gy+t}var Qy=!1;function Yy(t,e){if(!t||Qy)return"";Qy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Qy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?yd(t):""}function rz(t){switch(t.tag){case 5:return yd(t.type);case 16:return yd("Lazy");case 13:return yd("Suspense");case 19:return yd("SuspenseList");case 0:case 2:case 15:return t=Yy(t.type,!1),t;case 11:return t=Yy(t.type.render,!1),t;case 1:return t=Yy(t.type,!0),t;default:return""}}function T0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zl:return"Fragment";case Jl:return"Portal";case E0:return"Profiler";case X_:return"StrictMode";case b0:return"Suspense";case S0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case iN:return(t.displayName||"Context")+".Consumer";case sN:return(t._context.displayName||"Context")+".Provider";case J_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Z_:return e=t.displayName||null,e!==null?e:T0(t.type)||"Memo";case xo:e=t._payload,t=t._init;try{return T0(t(e))}catch{}}return null}function sz(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return T0(e);case 8:return e===X_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ra(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function aN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function iz(t){var e=aN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wp(t){t._valueTracker||(t._valueTracker=iz(t))}function lN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=aN(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Bm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function C0(t,e){var n=e.checked;return Gt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function aC(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ra(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function cN(t,e){e=e.checked,e!=null&&Y_(t,"checked",e,!1)}function A0(t,e){cN(t,e);var n=ra(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?R0(t,e.type,n):e.hasOwnProperty("defaultValue")&&R0(t,e.type,ra(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function lC(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function R0(t,e,n){(e!=="number"||Bm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var wd=Array.isArray;function yc(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ra(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function I0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return Gt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cC(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(te(92));if(wd(n)){if(1<n.length)throw Error(te(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ra(n)}}function uN(t,e){var n=ra(e.value),r=ra(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function uC(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function dN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function P0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?dN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xp,hN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xp=xp||document.createElement("div"),xp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ah(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Dd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oz=["Webkit","ms","Moz","O"];Object.keys(Dd).forEach(function(t){oz.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Dd[e]=Dd[t]})});function fN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Dd.hasOwnProperty(t)&&Dd[t]?(""+e).trim():e+"px"}function pN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=fN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var az=Gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function N0(t,e){if(e){if(az[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function D0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var k0=null;function eE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var M0=null,wc=null,xc=null;function dC(t){if(t=ff(t)){if(typeof M0!="function")throw Error(te(280));var e=t.stateNode;e&&(e=hv(e),M0(t.stateNode,t.type,e))}}function mN(t){wc?xc?xc.push(t):xc=[t]:wc=t}function gN(){if(wc){var t=wc,e=xc;if(xc=wc=null,dC(t),e)for(t=0;t<e.length;t++)dC(e[t])}}function vN(t,e){return t(e)}function yN(){}var Xy=!1;function wN(t,e,n){if(Xy)return t(e,n);Xy=!0;try{return vN(t,e,n)}finally{Xy=!1,(wc!==null||xc!==null)&&(yN(),gN())}}function lh(t,e){var n=t.stateNode;if(n===null)return null;var r=hv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(te(231,e,typeof n));return n}var O0=!1;if(Ki)try{var ed={};Object.defineProperty(ed,"passive",{get:function(){O0=!0}}),window.addEventListener("test",ed,ed),window.removeEventListener("test",ed,ed)}catch{O0=!1}function lz(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var kd=!1,$m=null,zm=!1,j0=null,cz={onError:function(t){kd=!0,$m=t}};function uz(t,e,n,r,s,i,o,a,l){kd=!1,$m=null,lz.apply(cz,arguments)}function dz(t,e,n,r,s,i,o,a,l){if(uz.apply(this,arguments),kd){if(kd){var c=$m;kd=!1,$m=null}else throw Error(te(198));zm||(zm=!0,j0=c)}}function Il(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function xN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hC(t){if(Il(t)!==t)throw Error(te(188))}function hz(t){var e=t.alternate;if(!e){if(e=Il(t),e===null)throw Error(te(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return hC(s),t;if(i===r)return hC(s),e;i=i.sibling}throw Error(te(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(te(189))}}if(n.alternate!==r)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?t:e}function _N(t){return t=hz(t),t!==null?EN(t):null}function EN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=EN(t);if(e!==null)return e;t=t.sibling}return null}var bN=qr.unstable_scheduleCallback,fC=qr.unstable_cancelCallback,fz=qr.unstable_shouldYield,pz=qr.unstable_requestPaint,an=qr.unstable_now,mz=qr.unstable_getCurrentPriorityLevel,tE=qr.unstable_ImmediatePriority,SN=qr.unstable_UserBlockingPriority,Km=qr.unstable_NormalPriority,gz=qr.unstable_LowPriority,TN=qr.unstable_IdlePriority,lv=null,ei=null;function vz(t){if(ei&&typeof ei.onCommitFiberRoot=="function")try{ei.onCommitFiberRoot(lv,t,void 0,(t.current.flags&128)===128)}catch{}}var Ms=Math.clz32?Math.clz32:xz,yz=Math.log,wz=Math.LN2;function xz(t){return t>>>=0,t===0?32:31-(yz(t)/wz|0)|0}var _p=64,Ep=4194304;function xd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=xd(a):(i&=o,i!==0&&(r=xd(i)))}else o=n&~s,o!==0?r=xd(o):i!==0&&(r=xd(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ms(e),s=1<<n,r|=t[n],e&=~s;return r}function _z(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ez(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Ms(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=_z(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function L0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function CN(){var t=_p;return _p<<=1,!(_p&4194240)&&(_p=64),t}function Jy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function df(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ms(e),t[e]=n}function bz(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Ms(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function nE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ms(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var xt=0;function AN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var RN,rE,IN,PN,NN,V0=!1,bp=[],Wo=null,Ho=null,qo=null,ch=new Map,uh=new Map,bo=[],Sz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pC(t,e){switch(t){case"focusin":case"focusout":Wo=null;break;case"dragenter":case"dragleave":Ho=null;break;case"mouseover":case"mouseout":qo=null;break;case"pointerover":case"pointerout":ch.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":uh.delete(e.pointerId)}}function td(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ff(e),e!==null&&rE(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Tz(t,e,n,r,s){switch(e){case"focusin":return Wo=td(Wo,t,e,n,r,s),!0;case"dragenter":return Ho=td(Ho,t,e,n,r,s),!0;case"mouseover":return qo=td(qo,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ch.set(i,td(ch.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,uh.set(i,td(uh.get(i)||null,t,e,n,r,s)),!0}return!1}function DN(t){var e=Wa(t.target);if(e!==null){var n=Il(e);if(n!==null){if(e=n.tag,e===13){if(e=xN(n),e!==null){t.blockedOn=e,NN(t.priority,function(){IN(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=F0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);k0=r,n.target.dispatchEvent(r),k0=null}else return e=ff(n),e!==null&&rE(e),t.blockedOn=n,!1;e.shift()}return!0}function mC(t,e,n){lm(t)&&n.delete(e)}function Cz(){V0=!1,Wo!==null&&lm(Wo)&&(Wo=null),Ho!==null&&lm(Ho)&&(Ho=null),qo!==null&&lm(qo)&&(qo=null),ch.forEach(mC),uh.forEach(mC)}function nd(t,e){t.blockedOn===e&&(t.blockedOn=null,V0||(V0=!0,qr.unstable_scheduleCallback(qr.unstable_NormalPriority,Cz)))}function dh(t){function e(s){return nd(s,t)}if(0<bp.length){nd(bp[0],t);for(var n=1;n<bp.length;n++){var r=bp[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Wo!==null&&nd(Wo,t),Ho!==null&&nd(Ho,t),qo!==null&&nd(qo,t),ch.forEach(e),uh.forEach(e),n=0;n<bo.length;n++)r=bo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<bo.length&&(n=bo[0],n.blockedOn===null);)DN(n),n.blockedOn===null&&bo.shift()}var _c=no.ReactCurrentBatchConfig,Hm=!0;function Az(t,e,n,r){var s=xt,i=_c.transition;_c.transition=null;try{xt=1,sE(t,e,n,r)}finally{xt=s,_c.transition=i}}function Rz(t,e,n,r){var s=xt,i=_c.transition;_c.transition=null;try{xt=4,sE(t,e,n,r)}finally{xt=s,_c.transition=i}}function sE(t,e,n,r){if(Hm){var s=F0(t,e,n,r);if(s===null)lw(t,e,r,qm,n),pC(t,r);else if(Tz(s,t,e,n,r))r.stopPropagation();else if(pC(t,r),e&4&&-1<Sz.indexOf(t)){for(;s!==null;){var i=ff(s);if(i!==null&&RN(i),i=F0(t,e,n,r),i===null&&lw(t,e,r,qm,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else lw(t,e,r,null,n)}}var qm=null;function F0(t,e,n,r){if(qm=null,t=eE(r),t=Wa(t),t!==null)if(e=Il(t),e===null)t=null;else if(n=e.tag,n===13){if(t=xN(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qm=t,null}function kN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mz()){case tE:return 1;case SN:return 4;case Km:case gz:return 16;case TN:return 536870912;default:return 16}default:return 16}}var Uo=null,iE=null,cm=null;function MN(){if(cm)return cm;var t,e=iE,n=e.length,r,s="value"in Uo?Uo.value:Uo.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return cm=s.slice(t,1<r?1-r:void 0)}function um(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Sp(){return!0}function gC(){return!1}function Xr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Sp:gC,this.isPropagationStopped=gC,this}return Gt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sp)},persist:function(){},isPersistent:Sp}),e}var yu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oE=Xr(yu),hf=Gt({},yu,{view:0,detail:0}),Iz=Xr(hf),Zy,ew,rd,cv=Gt({},hf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==rd&&(rd&&t.type==="mousemove"?(Zy=t.screenX-rd.screenX,ew=t.screenY-rd.screenY):ew=Zy=0,rd=t),Zy)},movementY:function(t){return"movementY"in t?t.movementY:ew}}),vC=Xr(cv),Pz=Gt({},cv,{dataTransfer:0}),Nz=Xr(Pz),Dz=Gt({},hf,{relatedTarget:0}),tw=Xr(Dz),kz=Gt({},yu,{animationName:0,elapsedTime:0,pseudoElement:0}),Mz=Xr(kz),Oz=Gt({},yu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jz=Xr(Oz),Lz=Gt({},yu,{data:0}),yC=Xr(Lz),Vz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bz(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Uz[t])?!!e[t]:!1}function aE(){return Bz}var $z=Gt({},hf,{key:function(t){if(t.key){var e=Vz[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=um(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Fz[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aE,charCode:function(t){return t.type==="keypress"?um(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?um(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zz=Xr($z),Kz=Gt({},cv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wC=Xr(Kz),Wz=Gt({},hf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aE}),Hz=Xr(Wz),qz=Gt({},yu,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gz=Xr(qz),Qz=Gt({},cv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Yz=Xr(Qz),Xz=[9,13,27,32],lE=Ki&&"CompositionEvent"in window,Md=null;Ki&&"documentMode"in document&&(Md=document.documentMode);var Jz=Ki&&"TextEvent"in window&&!Md,ON=Ki&&(!lE||Md&&8<Md&&11>=Md),xC=" ",_C=!1;function jN(t,e){switch(t){case"keyup":return Xz.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function LN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ec=!1;function Zz(t,e){switch(t){case"compositionend":return LN(e);case"keypress":return e.which!==32?null:(_C=!0,xC);case"textInput":return t=e.data,t===xC&&_C?null:t;default:return null}}function e5(t,e){if(ec)return t==="compositionend"||!lE&&jN(t,e)?(t=MN(),cm=iE=Uo=null,ec=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ON&&e.locale!=="ko"?null:e.data;default:return null}}var t5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function EC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!t5[t.type]:e==="textarea"}function VN(t,e,n,r){mN(r),e=Gm(e,"onChange"),0<e.length&&(n=new oE("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Od=null,hh=null;function n5(t){QN(t,0)}function uv(t){var e=rc(t);if(lN(e))return t}function r5(t,e){if(t==="change")return e}var FN=!1;if(Ki){var nw;if(Ki){var rw="oninput"in document;if(!rw){var bC=document.createElement("div");bC.setAttribute("oninput","return;"),rw=typeof bC.oninput=="function"}nw=rw}else nw=!1;FN=nw&&(!document.documentMode||9<document.documentMode)}function SC(){Od&&(Od.detachEvent("onpropertychange",UN),hh=Od=null)}function UN(t){if(t.propertyName==="value"&&uv(hh)){var e=[];VN(e,hh,t,eE(t)),wN(n5,e)}}function s5(t,e,n){t==="focusin"?(SC(),Od=e,hh=n,Od.attachEvent("onpropertychange",UN)):t==="focusout"&&SC()}function i5(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return uv(hh)}function o5(t,e){if(t==="click")return uv(e)}function a5(t,e){if(t==="input"||t==="change")return uv(e)}function l5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ls=typeof Object.is=="function"?Object.is:l5;function fh(t,e){if(Ls(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!_0.call(e,s)||!Ls(t[s],e[s]))return!1}return!0}function TC(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function CC(t,e){var n=TC(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=TC(n)}}function BN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?BN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $N(){for(var t=window,e=Bm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Bm(t.document)}return e}function cE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function c5(t){var e=$N(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&BN(n.ownerDocument.documentElement,n)){if(r!==null&&cE(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=CC(n,i);var o=CC(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var u5=Ki&&"documentMode"in document&&11>=document.documentMode,tc=null,U0=null,jd=null,B0=!1;function AC(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;B0||tc==null||tc!==Bm(r)||(r=tc,"selectionStart"in r&&cE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),jd&&fh(jd,r)||(jd=r,r=Gm(U0,"onSelect"),0<r.length&&(e=new oE("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=tc)))}function Tp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var nc={animationend:Tp("Animation","AnimationEnd"),animationiteration:Tp("Animation","AnimationIteration"),animationstart:Tp("Animation","AnimationStart"),transitionend:Tp("Transition","TransitionEnd")},sw={},zN={};Ki&&(zN=document.createElement("div").style,"AnimationEvent"in window||(delete nc.animationend.animation,delete nc.animationiteration.animation,delete nc.animationstart.animation),"TransitionEvent"in window||delete nc.transitionend.transition);function dv(t){if(sw[t])return sw[t];if(!nc[t])return t;var e=nc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in zN)return sw[t]=e[n];return t}var KN=dv("animationend"),WN=dv("animationiteration"),HN=dv("animationstart"),qN=dv("transitionend"),GN=new Map,RC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ya(t,e){GN.set(t,e),Rl(e,[t])}for(var iw=0;iw<RC.length;iw++){var ow=RC[iw],d5=ow.toLowerCase(),h5=ow[0].toUpperCase()+ow.slice(1);ya(d5,"on"+h5)}ya(KN,"onAnimationEnd");ya(WN,"onAnimationIteration");ya(HN,"onAnimationStart");ya("dblclick","onDoubleClick");ya("focusin","onFocus");ya("focusout","onBlur");ya(qN,"onTransitionEnd");Gc("onMouseEnter",["mouseout","mouseover"]);Gc("onMouseLeave",["mouseout","mouseover"]);Gc("onPointerEnter",["pointerout","pointerover"]);Gc("onPointerLeave",["pointerout","pointerover"]);Rl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _d="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f5=new Set("cancel close invalid load scroll toggle".split(" ").concat(_d));function IC(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,dz(r,e,void 0,t),t.currentTarget=null}function QN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;IC(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;IC(s,a,c),i=l}}}if(zm)throw t=j0,zm=!1,j0=null,t}function Ot(t,e){var n=e[H0];n===void 0&&(n=e[H0]=new Set);var r=t+"__bubble";n.has(r)||(YN(e,t,2,!1),n.add(r))}function aw(t,e,n){var r=0;e&&(r|=4),YN(n,t,r,e)}var Cp="_reactListening"+Math.random().toString(36).slice(2);function ph(t){if(!t[Cp]){t[Cp]=!0,rN.forEach(function(n){n!=="selectionchange"&&(f5.has(n)||aw(n,!1,t),aw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Cp]||(e[Cp]=!0,aw("selectionchange",!1,e))}}function YN(t,e,n,r){switch(kN(e)){case 1:var s=Az;break;case 4:s=Rz;break;default:s=sE}n=s.bind(null,e,n,t),s=void 0,!O0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function lw(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Wa(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}wN(function(){var c=i,u=eE(n),h=[];e:{var p=GN.get(t);if(p!==void 0){var g=oE,w=t;switch(t){case"keypress":if(um(n)===0)break e;case"keydown":case"keyup":g=zz;break;case"focusin":w="focus",g=tw;break;case"focusout":w="blur",g=tw;break;case"beforeblur":case"afterblur":g=tw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=vC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Nz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Hz;break;case KN:case WN:case HN:g=Mz;break;case qN:g=Gz;break;case"scroll":g=Iz;break;case"wheel":g=Yz;break;case"copy":case"cut":case"paste":g=jz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=wC}var v=(e&4)!==0,_=!v&&t==="scroll",x=v?p!==null?p+"Capture":null:p;v=[];for(var y=c,b;y!==null;){b=y;var C=b.stateNode;if(b.tag===5&&C!==null&&(b=C,x!==null&&(C=lh(y,x),C!=null&&v.push(mh(y,C,b)))),_)break;y=y.return}0<v.length&&(p=new g(p,w,null,n,u),h.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==k0&&(w=n.relatedTarget||n.fromElement)&&(Wa(w)||w[Wi]))break e;if((g||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=c,w=w?Wa(w):null,w!==null&&(_=Il(w),w!==_||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=c),g!==w)){if(v=vC,C="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=wC,C="onPointerLeave",x="onPointerEnter",y="pointer"),_=g==null?p:rc(g),b=w==null?p:rc(w),p=new v(C,y+"leave",g,n,u),p.target=_,p.relatedTarget=b,C=null,Wa(u)===c&&(v=new v(x,y+"enter",w,n,u),v.target=b,v.relatedTarget=_,C=v),_=C,g&&w)t:{for(v=g,x=w,y=0,b=v;b;b=Kl(b))y++;for(b=0,C=x;C;C=Kl(C))b++;for(;0<y-b;)v=Kl(v),y--;for(;0<b-y;)x=Kl(x),b--;for(;y--;){if(v===x||x!==null&&v===x.alternate)break t;v=Kl(v),x=Kl(x)}v=null}else v=null;g!==null&&PC(h,p,g,v,!1),w!==null&&_!==null&&PC(h,_,w,v,!0)}}e:{if(p=c?rc(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var P=r5;else if(EC(p))if(FN)P=a5;else{P=i5;var O=s5}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=o5);if(P&&(P=P(t,c))){VN(h,P,n,u);break e}O&&O(t,p,c),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&R0(p,"number",p.value)}switch(O=c?rc(c):window,t){case"focusin":(EC(O)||O.contentEditable==="true")&&(tc=O,U0=c,jd=null);break;case"focusout":jd=U0=tc=null;break;case"mousedown":B0=!0;break;case"contextmenu":case"mouseup":case"dragend":B0=!1,AC(h,n,u);break;case"selectionchange":if(u5)break;case"keydown":case"keyup":AC(h,n,u)}var T;if(lE)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ec?jN(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(ON&&n.locale!=="ko"&&(ec||E!=="onCompositionStart"?E==="onCompositionEnd"&&ec&&(T=MN()):(Uo=u,iE="value"in Uo?Uo.value:Uo.textContent,ec=!0)),O=Gm(c,E),0<O.length&&(E=new yC(E,t,null,n,u),h.push({event:E,listeners:O}),T?E.data=T:(T=LN(n),T!==null&&(E.data=T)))),(T=Jz?Zz(t,n):e5(t,n))&&(c=Gm(c,"onBeforeInput"),0<c.length&&(u=new yC("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=T))}QN(h,e)})}function mh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gm(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=lh(t,n),i!=null&&r.unshift(mh(t,i,s)),i=lh(t,e),i!=null&&r.push(mh(t,i,s))),t=t.return}return r}function Kl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function PC(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=lh(n,i),l!=null&&o.unshift(mh(n,l,a))):s||(l=lh(n,i),l!=null&&o.push(mh(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var p5=/\r\n?/g,m5=/\u0000|\uFFFD/g;function NC(t){return(typeof t=="string"?t:""+t).replace(p5,`
`).replace(m5,"")}function Ap(t,e,n){if(e=NC(e),NC(t)!==e&&n)throw Error(te(425))}function Qm(){}var $0=null,z0=null;function K0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var W0=typeof setTimeout=="function"?setTimeout:void 0,g5=typeof clearTimeout=="function"?clearTimeout:void 0,DC=typeof Promise=="function"?Promise:void 0,v5=typeof queueMicrotask=="function"?queueMicrotask:typeof DC<"u"?function(t){return DC.resolve(null).then(t).catch(y5)}:W0;function y5(t){setTimeout(function(){throw t})}function cw(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),dh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);dh(e)}function Go(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function kC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var wu=Math.random().toString(36).slice(2),Qs="__reactFiber$"+wu,gh="__reactProps$"+wu,Wi="__reactContainer$"+wu,H0="__reactEvents$"+wu,w5="__reactListeners$"+wu,x5="__reactHandles$"+wu;function Wa(t){var e=t[Qs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wi]||n[Qs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=kC(t);t!==null;){if(n=t[Qs])return n;t=kC(t)}return e}t=n,n=t.parentNode}return null}function ff(t){return t=t[Qs]||t[Wi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function rc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function hv(t){return t[gh]||null}var q0=[],sc=-1;function wa(t){return{current:t}}function jt(t){0>sc||(t.current=q0[sc],q0[sc]=null,sc--)}function It(t,e){sc++,q0[sc]=t.current,t.current=e}var sa={},or=wa(sa),Ir=wa(!1),hl=sa;function Qc(t,e){var n=t.type.contextTypes;if(!n)return sa;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Pr(t){return t=t.childContextTypes,t!=null}function Ym(){jt(Ir),jt(or)}function MC(t,e,n){if(or.current!==sa)throw Error(te(168));It(or,e),It(Ir,n)}function XN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(te(108,sz(t)||"Unknown",s));return Gt({},n,r)}function Xm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||sa,hl=or.current,It(or,t),It(Ir,Ir.current),!0}function OC(t,e,n){var r=t.stateNode;if(!r)throw Error(te(169));n?(t=XN(t,e,hl),r.__reactInternalMemoizedMergedChildContext=t,jt(Ir),jt(or),It(or,t)):jt(Ir),It(Ir,n)}var bi=null,fv=!1,uw=!1;function JN(t){bi===null?bi=[t]:bi.push(t)}function _5(t){fv=!0,JN(t)}function xa(){if(!uw&&bi!==null){uw=!0;var t=0,e=xt;try{var n=bi;for(xt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}bi=null,fv=!1}catch(s){throw bi!==null&&(bi=bi.slice(t+1)),bN(tE,xa),s}finally{xt=e,uw=!1}}return null}var ic=[],oc=0,Jm=null,Zm=0,cs=[],us=0,fl=null,Ti=1,Ci="";function Fa(t,e){ic[oc++]=Zm,ic[oc++]=Jm,Jm=t,Zm=e}function ZN(t,e,n){cs[us++]=Ti,cs[us++]=Ci,cs[us++]=fl,fl=t;var r=Ti;t=Ci;var s=32-Ms(r)-1;r&=~(1<<s),n+=1;var i=32-Ms(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ti=1<<32-Ms(e)+s|n<<s|r,Ci=i+t}else Ti=1<<i|n<<s|r,Ci=t}function uE(t){t.return!==null&&(Fa(t,1),ZN(t,1,0))}function dE(t){for(;t===Jm;)Jm=ic[--oc],ic[oc]=null,Zm=ic[--oc],ic[oc]=null;for(;t===fl;)fl=cs[--us],cs[us]=null,Ci=cs[--us],cs[us]=null,Ti=cs[--us],cs[us]=null}var Wr=null,zr=null,Ut=!1,Is=null;function eD(t,e){var n=hs(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function jC(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wr=t,zr=Go(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wr=t,zr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fl!==null?{id:Ti,overflow:Ci}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=hs(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Wr=t,zr=null,!0):!1;default:return!1}}function G0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Q0(t){if(Ut){var e=zr;if(e){var n=e;if(!jC(t,e)){if(G0(t))throw Error(te(418));e=Go(n.nextSibling);var r=Wr;e&&jC(t,e)?eD(r,n):(t.flags=t.flags&-4097|2,Ut=!1,Wr=t)}}else{if(G0(t))throw Error(te(418));t.flags=t.flags&-4097|2,Ut=!1,Wr=t}}}function LC(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wr=t}function Rp(t){if(t!==Wr)return!1;if(!Ut)return LC(t),Ut=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!K0(t.type,t.memoizedProps)),e&&(e=zr)){if(G0(t))throw tD(),Error(te(418));for(;e;)eD(t,e),e=Go(e.nextSibling)}if(LC(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){zr=Go(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}zr=null}}else zr=Wr?Go(t.stateNode.nextSibling):null;return!0}function tD(){for(var t=zr;t;)t=Go(t.nextSibling)}function Yc(){zr=Wr=null,Ut=!1}function hE(t){Is===null?Is=[t]:Is.push(t)}var E5=no.ReactCurrentBatchConfig;function sd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var r=n.stateNode}if(!r)throw Error(te(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,t))}return t}function Ip(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function VC(t){var e=t._init;return e(t._payload)}function nD(t){function e(x,y){if(t){var b=x.deletions;b===null?(x.deletions=[y],x.flags|=16):b.push(y)}}function n(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function s(x,y){return x=Jo(x,y),x.index=0,x.sibling=null,x}function i(x,y,b){return x.index=b,t?(b=x.alternate,b!==null?(b=b.index,b<y?(x.flags|=2,y):b):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,y,b,C){return y===null||y.tag!==6?(y=vw(b,x.mode,C),y.return=x,y):(y=s(y,b),y.return=x,y)}function l(x,y,b,C){var P=b.type;return P===Zl?u(x,y,b.props.children,C,b.key):y!==null&&(y.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===xo&&VC(P)===y.type)?(C=s(y,b.props),C.ref=sd(x,y,b),C.return=x,C):(C=vm(b.type,b.key,b.props,null,x.mode,C),C.ref=sd(x,y,b),C.return=x,C)}function c(x,y,b,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=yw(b,x.mode,C),y.return=x,y):(y=s(y,b.children||[]),y.return=x,y)}function u(x,y,b,C,P){return y===null||y.tag!==7?(y=ll(b,x.mode,C,P),y.return=x,y):(y=s(y,b),y.return=x,y)}function h(x,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=vw(""+y,x.mode,b),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case yp:return b=vm(y.type,y.key,y.props,null,x.mode,b),b.ref=sd(x,null,y),b.return=x,b;case Jl:return y=yw(y,x.mode,b),y.return=x,y;case xo:var C=y._init;return h(x,C(y._payload),b)}if(wd(y)||Zu(y))return y=ll(y,x.mode,b,null),y.return=x,y;Ip(x,y)}return null}function p(x,y,b,C){var P=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return P!==null?null:a(x,y,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case yp:return b.key===P?l(x,y,b,C):null;case Jl:return b.key===P?c(x,y,b,C):null;case xo:return P=b._init,p(x,y,P(b._payload),C)}if(wd(b)||Zu(b))return P!==null?null:u(x,y,b,C,null);Ip(x,b)}return null}function g(x,y,b,C,P){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(b)||null,a(y,x,""+C,P);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case yp:return x=x.get(C.key===null?b:C.key)||null,l(y,x,C,P);case Jl:return x=x.get(C.key===null?b:C.key)||null,c(y,x,C,P);case xo:var O=C._init;return g(x,y,b,O(C._payload),P)}if(wd(C)||Zu(C))return x=x.get(b)||null,u(y,x,C,P,null);Ip(y,C)}return null}function w(x,y,b,C){for(var P=null,O=null,T=y,E=y=0,I=null;T!==null&&E<b.length;E++){T.index>E?(I=T,T=null):I=T.sibling;var R=p(x,T,b[E],C);if(R===null){T===null&&(T=I);break}t&&T&&R.alternate===null&&e(x,T),y=i(R,y,E),O===null?P=R:O.sibling=R,O=R,T=I}if(E===b.length)return n(x,T),Ut&&Fa(x,E),P;if(T===null){for(;E<b.length;E++)T=h(x,b[E],C),T!==null&&(y=i(T,y,E),O===null?P=T:O.sibling=T,O=T);return Ut&&Fa(x,E),P}for(T=r(x,T);E<b.length;E++)I=g(T,x,E,b[E],C),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?E:I.key),y=i(I,y,E),O===null?P=I:O.sibling=I,O=I);return t&&T.forEach(function(k){return e(x,k)}),Ut&&Fa(x,E),P}function v(x,y,b,C){var P=Zu(b);if(typeof P!="function")throw Error(te(150));if(b=P.call(b),b==null)throw Error(te(151));for(var O=P=null,T=y,E=y=0,I=null,R=b.next();T!==null&&!R.done;E++,R=b.next()){T.index>E?(I=T,T=null):I=T.sibling;var k=p(x,T,R.value,C);if(k===null){T===null&&(T=I);break}t&&T&&k.alternate===null&&e(x,T),y=i(k,y,E),O===null?P=k:O.sibling=k,O=k,T=I}if(R.done)return n(x,T),Ut&&Fa(x,E),P;if(T===null){for(;!R.done;E++,R=b.next())R=h(x,R.value,C),R!==null&&(y=i(R,y,E),O===null?P=R:O.sibling=R,O=R);return Ut&&Fa(x,E),P}for(T=r(x,T);!R.done;E++,R=b.next())R=g(T,x,E,R.value,C),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?E:R.key),y=i(R,y,E),O===null?P=R:O.sibling=R,O=R);return t&&T.forEach(function(M){return e(x,M)}),Ut&&Fa(x,E),P}function _(x,y,b,C){if(typeof b=="object"&&b!==null&&b.type===Zl&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case yp:e:{for(var P=b.key,O=y;O!==null;){if(O.key===P){if(P=b.type,P===Zl){if(O.tag===7){n(x,O.sibling),y=s(O,b.props.children),y.return=x,x=y;break e}}else if(O.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===xo&&VC(P)===O.type){n(x,O.sibling),y=s(O,b.props),y.ref=sd(x,O,b),y.return=x,x=y;break e}n(x,O);break}else e(x,O);O=O.sibling}b.type===Zl?(y=ll(b.props.children,x.mode,C,b.key),y.return=x,x=y):(C=vm(b.type,b.key,b.props,null,x.mode,C),C.ref=sd(x,y,b),C.return=x,x=C)}return o(x);case Jl:e:{for(O=b.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(x,y.sibling),y=s(y,b.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else e(x,y);y=y.sibling}y=yw(b,x.mode,C),y.return=x,x=y}return o(x);case xo:return O=b._init,_(x,y,O(b._payload),C)}if(wd(b))return w(x,y,b,C);if(Zu(b))return v(x,y,b,C);Ip(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(x,y.sibling),y=s(y,b),y.return=x,x=y):(n(x,y),y=vw(b,x.mode,C),y.return=x,x=y),o(x)):n(x,y)}return _}var Xc=nD(!0),rD=nD(!1),eg=wa(null),tg=null,ac=null,fE=null;function pE(){fE=ac=tg=null}function mE(t){var e=eg.current;jt(eg),t._currentValue=e}function Y0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ec(t,e){tg=t,fE=ac=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Cr=!0),t.firstContext=null)}function gs(t){var e=t._currentValue;if(fE!==t)if(t={context:t,memoizedValue:e,next:null},ac===null){if(tg===null)throw Error(te(308));ac=t,tg.dependencies={lanes:0,firstContext:t}}else ac=ac.next=t;return e}var Ha=null;function gE(t){Ha===null?Ha=[t]:Ha.push(t)}function sD(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,gE(e)):(n.next=s.next,s.next=n),e.interleaved=n,Hi(t,r)}function Hi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _o=!1;function vE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ct&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Hi(t,n)}return s=r.interleaved,s===null?(e.next=e,gE(r)):(e.next=s.next,s.next=e),r.interleaved=e,Hi(t,n)}function dm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nE(t,n)}}function FC(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ng(t,e,n,r){var s=t.updateQueue;_o=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,u=c=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,v=a;switch(p=e,g=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){h=w.call(g,h,p);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,p=typeof w=="function"?w.call(g,h,p):w,p==null)break e;h=Gt({},h,p);break e;case 2:_o=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=g,l=h):u=u.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(u===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ml|=o,t.lanes=o,t.memoizedState=h}}function UC(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(te(191,s));s.call(r)}}}var pf={},ti=wa(pf),vh=wa(pf),yh=wa(pf);function qa(t){if(t===pf)throw Error(te(174));return t}function yE(t,e){switch(It(yh,e),It(vh,t),It(ti,pf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:P0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=P0(e,t)}jt(ti),It(ti,e)}function Jc(){jt(ti),jt(vh),jt(yh)}function oD(t){qa(yh.current);var e=qa(ti.current),n=P0(e,t.type);e!==n&&(It(vh,t),It(ti,n))}function wE(t){vh.current===t&&(jt(ti),jt(vh))}var Kt=wa(0);function rg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dw=[];function xE(){for(var t=0;t<dw.length;t++)dw[t]._workInProgressVersionPrimary=null;dw.length=0}var hm=no.ReactCurrentDispatcher,hw=no.ReactCurrentBatchConfig,pl=0,qt=null,xn=null,Nn=null,sg=!1,Ld=!1,wh=0,b5=0;function Yn(){throw Error(te(321))}function _E(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ls(t[n],e[n]))return!1;return!0}function EE(t,e,n,r,s,i){if(pl=i,qt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hm.current=t===null||t.memoizedState===null?A5:R5,t=n(r,s),Ld){i=0;do{if(Ld=!1,wh=0,25<=i)throw Error(te(301));i+=1,Nn=xn=null,e.updateQueue=null,hm.current=I5,t=n(r,s)}while(Ld)}if(hm.current=ig,e=xn!==null&&xn.next!==null,pl=0,Nn=xn=qt=null,sg=!1,e)throw Error(te(300));return t}function bE(){var t=wh!==0;return wh=0,t}function Ks(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?qt.memoizedState=Nn=t:Nn=Nn.next=t,Nn}function vs(){if(xn===null){var t=qt.alternate;t=t!==null?t.memoizedState:null}else t=xn.next;var e=Nn===null?qt.memoizedState:Nn.next;if(e!==null)Nn=e,xn=t;else{if(t===null)throw Error(te(310));xn=t,t={memoizedState:xn.memoizedState,baseState:xn.baseState,baseQueue:xn.baseQueue,queue:xn.queue,next:null},Nn===null?qt.memoizedState=Nn=t:Nn=Nn.next=t}return Nn}function xh(t,e){return typeof e=="function"?e(t):e}function fw(t){var e=vs(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=xn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((pl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,qt.lanes|=u,ml|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Ls(r,e.memoizedState)||(Cr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,qt.lanes|=i,ml|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function pw(t){var e=vs(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Ls(i,e.memoizedState)||(Cr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function aD(){}function lD(t,e){var n=qt,r=vs(),s=e(),i=!Ls(r.memoizedState,s);if(i&&(r.memoizedState=s,Cr=!0),r=r.queue,SE(dD.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Nn!==null&&Nn.memoizedState.tag&1){if(n.flags|=2048,_h(9,uD.bind(null,n,r,s,e),void 0,null),kn===null)throw Error(te(349));pl&30||cD(n,e,s)}return s}function cD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=qt.updateQueue,e===null?(e={lastEffect:null,stores:null},qt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function uD(t,e,n,r){e.value=n,e.getSnapshot=r,hD(e)&&fD(t)}function dD(t,e,n){return n(function(){hD(e)&&fD(t)})}function hD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ls(t,n)}catch{return!0}}function fD(t){var e=Hi(t,1);e!==null&&Os(e,t,1,-1)}function BC(t){var e=Ks();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xh,lastRenderedState:t},e.queue=t,t=t.dispatch=C5.bind(null,qt,t),[e.memoizedState,t]}function _h(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=qt.updateQueue,e===null?(e={lastEffect:null,stores:null},qt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function pD(){return vs().memoizedState}function fm(t,e,n,r){var s=Ks();qt.flags|=t,s.memoizedState=_h(1|e,n,void 0,r===void 0?null:r)}function pv(t,e,n,r){var s=vs();r=r===void 0?null:r;var i=void 0;if(xn!==null){var o=xn.memoizedState;if(i=o.destroy,r!==null&&_E(r,o.deps)){s.memoizedState=_h(e,n,i,r);return}}qt.flags|=t,s.memoizedState=_h(1|e,n,i,r)}function $C(t,e){return fm(8390656,8,t,e)}function SE(t,e){return pv(2048,8,t,e)}function mD(t,e){return pv(4,2,t,e)}function gD(t,e){return pv(4,4,t,e)}function vD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function yD(t,e,n){return n=n!=null?n.concat([t]):null,pv(4,4,vD.bind(null,e,t),n)}function TE(){}function wD(t,e){var n=vs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_E(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function xD(t,e){var n=vs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_E(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function _D(t,e,n){return pl&21?(Ls(n,e)||(n=CN(),qt.lanes|=n,ml|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Cr=!0),t.memoizedState=n)}function S5(t,e){var n=xt;xt=n!==0&&4>n?n:4,t(!0);var r=hw.transition;hw.transition={};try{t(!1),e()}finally{xt=n,hw.transition=r}}function ED(){return vs().memoizedState}function T5(t,e,n){var r=Xo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bD(t))SD(e,n);else if(n=sD(t,e,n,r),n!==null){var s=mr();Os(n,t,r,s),TD(n,e,r)}}function C5(t,e,n){var r=Xo(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bD(t))SD(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Ls(a,o)){var l=e.interleaved;l===null?(s.next=s,gE(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=sD(t,e,s,r),n!==null&&(s=mr(),Os(n,t,r,s),TD(n,e,r))}}function bD(t){var e=t.alternate;return t===qt||e!==null&&e===qt}function SD(t,e){Ld=sg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function TD(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nE(t,n)}}var ig={readContext:gs,useCallback:Yn,useContext:Yn,useEffect:Yn,useImperativeHandle:Yn,useInsertionEffect:Yn,useLayoutEffect:Yn,useMemo:Yn,useReducer:Yn,useRef:Yn,useState:Yn,useDebugValue:Yn,useDeferredValue:Yn,useTransition:Yn,useMutableSource:Yn,useSyncExternalStore:Yn,useId:Yn,unstable_isNewReconciler:!1},A5={readContext:gs,useCallback:function(t,e){return Ks().memoizedState=[t,e===void 0?null:e],t},useContext:gs,useEffect:$C,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,fm(4194308,4,vD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return fm(4194308,4,t,e)},useInsertionEffect:function(t,e){return fm(4,2,t,e)},useMemo:function(t,e){var n=Ks();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ks();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=T5.bind(null,qt,t),[r.memoizedState,t]},useRef:function(t){var e=Ks();return t={current:t},e.memoizedState=t},useState:BC,useDebugValue:TE,useDeferredValue:function(t){return Ks().memoizedState=t},useTransition:function(){var t=BC(!1),e=t[0];return t=S5.bind(null,t[1]),Ks().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=qt,s=Ks();if(Ut){if(n===void 0)throw Error(te(407));n=n()}else{if(n=e(),kn===null)throw Error(te(349));pl&30||cD(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,$C(dD.bind(null,r,i,t),[t]),r.flags|=2048,_h(9,uD.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Ks(),e=kn.identifierPrefix;if(Ut){var n=Ci,r=Ti;n=(r&~(1<<32-Ms(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=wh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=b5++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},R5={readContext:gs,useCallback:wD,useContext:gs,useEffect:SE,useImperativeHandle:yD,useInsertionEffect:mD,useLayoutEffect:gD,useMemo:xD,useReducer:fw,useRef:pD,useState:function(){return fw(xh)},useDebugValue:TE,useDeferredValue:function(t){var e=vs();return _D(e,xn.memoizedState,t)},useTransition:function(){var t=fw(xh)[0],e=vs().memoizedState;return[t,e]},useMutableSource:aD,useSyncExternalStore:lD,useId:ED,unstable_isNewReconciler:!1},I5={readContext:gs,useCallback:wD,useContext:gs,useEffect:SE,useImperativeHandle:yD,useInsertionEffect:mD,useLayoutEffect:gD,useMemo:xD,useReducer:pw,useRef:pD,useState:function(){return pw(xh)},useDebugValue:TE,useDeferredValue:function(t){var e=vs();return xn===null?e.memoizedState=t:_D(e,xn.memoizedState,t)},useTransition:function(){var t=pw(xh)[0],e=vs().memoizedState;return[t,e]},useMutableSource:aD,useSyncExternalStore:lD,useId:ED,unstable_isNewReconciler:!1};function Ts(t,e){if(t&&t.defaultProps){e=Gt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function X0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Gt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var mv={isMounted:function(t){return(t=t._reactInternals)?Il(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=mr(),s=Xo(t),i=Mi(r,s);i.payload=e,n!=null&&(i.callback=n),e=Qo(t,i,s),e!==null&&(Os(e,t,s,r),dm(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=mr(),s=Xo(t),i=Mi(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Qo(t,i,s),e!==null&&(Os(e,t,s,r),dm(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=mr(),r=Xo(t),s=Mi(n,r);s.tag=2,e!=null&&(s.callback=e),e=Qo(t,s,r),e!==null&&(Os(e,t,r,n),dm(e,t,r))}};function zC(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!fh(n,r)||!fh(s,i):!0}function CD(t,e,n){var r=!1,s=sa,i=e.contextType;return typeof i=="object"&&i!==null?i=gs(i):(s=Pr(e)?hl:or.current,r=e.contextTypes,i=(r=r!=null)?Qc(t,s):sa),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=mv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function KC(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&mv.enqueueReplaceState(e,e.state,null)}function J0(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},vE(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=gs(i):(i=Pr(e)?hl:or.current,s.context=Qc(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(X0(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&mv.enqueueReplaceState(s,s.state,null),ng(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Zc(t,e){try{var n="",r=e;do n+=rz(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function mw(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Z0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var P5=typeof WeakMap=="function"?WeakMap:Map;function AD(t,e,n){n=Mi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ag||(ag=!0,cx=r),Z0(t,e)},n}function RD(t,e,n){n=Mi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Z0(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Z0(t,e),typeof r!="function"&&(Yo===null?Yo=new Set([this]):Yo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function WC(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new P5;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=K5.bind(null,t,e,n),e.then(t,t))}function HC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function qC(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Mi(-1,1),e.tag=2,Qo(n,e,1))),n.lanes|=1),t)}var N5=no.ReactCurrentOwner,Cr=!1;function fr(t,e,n,r){e.child=t===null?rD(e,null,n,r):Xc(e,t.child,n,r)}function GC(t,e,n,r,s){n=n.render;var i=e.ref;return Ec(e,s),r=EE(t,e,n,r,i,s),n=bE(),t!==null&&!Cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,qi(t,e,s)):(Ut&&n&&uE(e),e.flags|=1,fr(t,e,r,s),e.child)}function QC(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!kE(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,ID(t,e,i,r,s)):(t=vm(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:fh,n(o,r)&&t.ref===e.ref)return qi(t,e,s)}return e.flags|=1,t=Jo(i,r),t.ref=e.ref,t.return=e,e.child=t}function ID(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(fh(i,r)&&t.ref===e.ref)if(Cr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Cr=!0);else return e.lanes=t.lanes,qi(t,e,s)}return ex(t,e,n,r,s)}function PD(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},It(cc,Ur),Ur|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,It(cc,Ur),Ur|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,It(cc,Ur),Ur|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,It(cc,Ur),Ur|=r;return fr(t,e,s,n),e.child}function ND(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ex(t,e,n,r,s){var i=Pr(n)?hl:or.current;return i=Qc(e,i),Ec(e,s),n=EE(t,e,n,r,i,s),r=bE(),t!==null&&!Cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,qi(t,e,s)):(Ut&&r&&uE(e),e.flags|=1,fr(t,e,n,s),e.child)}function YC(t,e,n,r,s){if(Pr(n)){var i=!0;Xm(e)}else i=!1;if(Ec(e,s),e.stateNode===null)pm(t,e),CD(e,n,r),J0(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=gs(c):(c=Pr(n)?hl:or.current,c=Qc(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&KC(e,o,r,c),_o=!1;var p=e.memoizedState;o.state=p,ng(e,r,o,s),l=e.memoizedState,a!==r||p!==l||Ir.current||_o?(typeof u=="function"&&(X0(e,n,u,r),l=e.memoizedState),(a=_o||zC(e,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,iD(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ts(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=gs(l):(l=Pr(n)?hl:or.current,l=Qc(e,l));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&KC(e,o,r,l),_o=!1,p=e.memoizedState,o.state=p,ng(e,r,o,s);var w=e.memoizedState;a!==h||p!==w||Ir.current||_o?(typeof g=="function"&&(X0(e,n,g,r),w=e.memoizedState),(c=_o||zC(e,n,c,r,p,w,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return tx(t,e,n,r,i,s)}function tx(t,e,n,r,s,i){ND(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&OC(e,n,!1),qi(t,e,i);r=e.stateNode,N5.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Xc(e,t.child,null,i),e.child=Xc(e,null,a,i)):fr(t,e,a,i),e.memoizedState=r.state,s&&OC(e,n,!0),e.child}function DD(t){var e=t.stateNode;e.pendingContext?MC(t,e.pendingContext,e.pendingContext!==e.context):e.context&&MC(t,e.context,!1),yE(t,e.containerInfo)}function XC(t,e,n,r,s){return Yc(),hE(s),e.flags|=256,fr(t,e,n,r),e.child}var nx={dehydrated:null,treeContext:null,retryLane:0};function rx(t){return{baseLanes:t,cachePool:null,transitions:null}}function kD(t,e,n){var r=e.pendingProps,s=Kt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),It(Kt,s&1),t===null)return Q0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=yv(o,r,0,null),t=ll(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=rx(n),e.memoizedState=nx,t):CE(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return D5(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Jo(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Jo(a,i):(i=ll(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?rx(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=nx,r}return i=t.child,t=i.sibling,r=Jo(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function CE(t,e){return e=yv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pp(t,e,n,r){return r!==null&&hE(r),Xc(e,t.child,null,n),t=CE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function D5(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=mw(Error(te(422))),Pp(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=yv({mode:"visible",children:r.children},s,0,null),i=ll(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Xc(e,t.child,null,o),e.child.memoizedState=rx(o),e.memoizedState=nx,i);if(!(e.mode&1))return Pp(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(te(419)),r=mw(i,r,void 0),Pp(t,e,o,r)}if(a=(o&t.childLanes)!==0,Cr||a){if(r=kn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Hi(t,s),Os(r,t,s,-1))}return DE(),r=mw(Error(te(421))),Pp(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=W5.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,zr=Go(s.nextSibling),Wr=e,Ut=!0,Is=null,t!==null&&(cs[us++]=Ti,cs[us++]=Ci,cs[us++]=fl,Ti=t.id,Ci=t.overflow,fl=e),e=CE(e,r.children),e.flags|=4096,e)}function JC(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Y0(t.return,e,n)}function gw(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function MD(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(fr(t,e,r.children,n),r=Kt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&JC(t,n,e);else if(t.tag===19)JC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(It(Kt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&rg(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),gw(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&rg(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}gw(e,!0,n,null,i);break;case"together":gw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ml|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,n=Jo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Jo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function k5(t,e,n){switch(e.tag){case 3:DD(e),Yc();break;case 5:oD(e);break;case 1:Pr(e.type)&&Xm(e);break;case 4:yE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;It(eg,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(It(Kt,Kt.current&1),e.flags|=128,null):n&e.child.childLanes?kD(t,e,n):(It(Kt,Kt.current&1),t=qi(t,e,n),t!==null?t.sibling:null);It(Kt,Kt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return MD(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),It(Kt,Kt.current),r)break;return null;case 22:case 23:return e.lanes=0,PD(t,e,n)}return qi(t,e,n)}var OD,sx,jD,LD;OD=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sx=function(){};jD=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,qa(ti.current);var i=null;switch(n){case"input":s=C0(t,s),r=C0(t,r),i=[];break;case"select":s=Gt({},s,{value:void 0}),r=Gt({},r,{value:void 0}),i=[];break;case"textarea":s=I0(t,s),r=I0(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Qm)}N0(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(oh.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(oh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ot("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};LD=function(t,e,n,r){n!==r&&(e.flags|=4)};function id(t,e){if(!Ut)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function M5(t,e,n){var r=e.pendingProps;switch(dE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xn(e),null;case 1:return Pr(e.type)&&Ym(),Xn(e),null;case 3:return r=e.stateNode,Jc(),jt(Ir),jt(or),xE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Rp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Is!==null&&(hx(Is),Is=null))),sx(t,e),Xn(e),null;case 5:wE(e);var s=qa(yh.current);if(n=e.type,t!==null&&e.stateNode!=null)jD(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(te(166));return Xn(e),null}if(t=qa(ti.current),Rp(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Qs]=e,r[gh]=i,t=(e.mode&1)!==0,n){case"dialog":Ot("cancel",r),Ot("close",r);break;case"iframe":case"object":case"embed":Ot("load",r);break;case"video":case"audio":for(s=0;s<_d.length;s++)Ot(_d[s],r);break;case"source":Ot("error",r);break;case"img":case"image":case"link":Ot("error",r),Ot("load",r);break;case"details":Ot("toggle",r);break;case"input":aC(r,i),Ot("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ot("invalid",r);break;case"textarea":cC(r,i),Ot("invalid",r)}N0(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ap(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ap(r.textContent,a,t),s=["children",""+a]):oh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ot("scroll",r)}switch(n){case"input":wp(r),lC(r,i,!0);break;case"textarea":wp(r),uC(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Qm)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=dN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Qs]=e,t[gh]=r,OD(t,e,!1,!1),e.stateNode=t;e:{switch(o=D0(n,r),n){case"dialog":Ot("cancel",t),Ot("close",t),s=r;break;case"iframe":case"object":case"embed":Ot("load",t),s=r;break;case"video":case"audio":for(s=0;s<_d.length;s++)Ot(_d[s],t);s=r;break;case"source":Ot("error",t),s=r;break;case"img":case"image":case"link":Ot("error",t),Ot("load",t),s=r;break;case"details":Ot("toggle",t),s=r;break;case"input":aC(t,r),s=C0(t,r),Ot("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Gt({},r,{value:void 0}),Ot("invalid",t);break;case"textarea":cC(t,r),s=I0(t,r),Ot("invalid",t);break;default:s=r}N0(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?pN(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&hN(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ah(t,l):typeof l=="number"&&ah(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(oh.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ot("scroll",t):l!=null&&Y_(t,i,l,o))}switch(n){case"input":wp(t),lC(t,r,!1);break;case"textarea":wp(t),uC(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ra(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?yc(t,!!r.multiple,i,!1):r.defaultValue!=null&&yc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Qm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xn(e),null;case 6:if(t&&e.stateNode!=null)LD(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(te(166));if(n=qa(yh.current),qa(ti.current),Rp(e)){if(r=e.stateNode,n=e.memoizedProps,r[Qs]=e,(i=r.nodeValue!==n)&&(t=Wr,t!==null))switch(t.tag){case 3:Ap(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ap(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qs]=e,e.stateNode=r}return Xn(e),null;case 13:if(jt(Kt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ut&&zr!==null&&e.mode&1&&!(e.flags&128))tD(),Yc(),e.flags|=98560,i=!1;else if(i=Rp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(te(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(te(317));i[Qs]=e}else Yc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xn(e),i=!1}else Is!==null&&(hx(Is),Is=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Kt.current&1?Sn===0&&(Sn=3):DE())),e.updateQueue!==null&&(e.flags|=4),Xn(e),null);case 4:return Jc(),sx(t,e),t===null&&ph(e.stateNode.containerInfo),Xn(e),null;case 10:return mE(e.type._context),Xn(e),null;case 17:return Pr(e.type)&&Ym(),Xn(e),null;case 19:if(jt(Kt),i=e.memoizedState,i===null)return Xn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)id(i,!1);else{if(Sn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=rg(t),o!==null){for(e.flags|=128,id(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return It(Kt,Kt.current&1|2),e.child}t=t.sibling}i.tail!==null&&an()>eu&&(e.flags|=128,r=!0,id(i,!1),e.lanes=4194304)}else{if(!r)if(t=rg(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),id(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ut)return Xn(e),null}else 2*an()-i.renderingStartTime>eu&&n!==1073741824&&(e.flags|=128,r=!0,id(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=an(),e.sibling=null,n=Kt.current,It(Kt,r?n&1|2:n&1),e):(Xn(e),null);case 22:case 23:return NE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ur&1073741824&&(Xn(e),e.subtreeFlags&6&&(e.flags|=8192)):Xn(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function O5(t,e){switch(dE(e),e.tag){case 1:return Pr(e.type)&&Ym(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Jc(),jt(Ir),jt(or),xE(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return wE(e),null;case 13:if(jt(Kt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));Yc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return jt(Kt),null;case 4:return Jc(),null;case 10:return mE(e.type._context),null;case 22:case 23:return NE(),null;case 24:return null;default:return null}}var Np=!1,nr=!1,j5=typeof WeakSet=="function"?WeakSet:Set,ge=null;function lc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Zt(t,e,r)}else n.current=null}function ix(t,e,n){try{n()}catch(r){Zt(t,e,r)}}var ZC=!1;function L5(t,e){if($0=Hm,t=$N(),cE(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,p=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++u===r&&(l=o),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(z0={focusedElem:t,selectionRange:n},Hm=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){e=ge;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,_=w.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:Ts(e.type,v),_);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(C){Zt(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}return w=ZC,ZC=!1,w}function Vd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ix(e,n,i)}s=s.next}while(s!==r)}}function gv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ox(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function VD(t){var e=t.alternate;e!==null&&(t.alternate=null,VD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Qs],delete e[gh],delete e[H0],delete e[w5],delete e[x5])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function FD(t){return t.tag===5||t.tag===3||t.tag===4}function eA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||FD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ax(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qm));else if(r!==4&&(t=t.child,t!==null))for(ax(t,e,n),t=t.sibling;t!==null;)ax(t,e,n),t=t.sibling}function lx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(lx(t,e,n),t=t.sibling;t!==null;)lx(t,e,n),t=t.sibling}var Vn=null,As=!1;function ho(t,e,n){for(n=n.child;n!==null;)UD(t,e,n),n=n.sibling}function UD(t,e,n){if(ei&&typeof ei.onCommitFiberUnmount=="function")try{ei.onCommitFiberUnmount(lv,n)}catch{}switch(n.tag){case 5:nr||lc(n,e);case 6:var r=Vn,s=As;Vn=null,ho(t,e,n),Vn=r,As=s,Vn!==null&&(As?(t=Vn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Vn.removeChild(n.stateNode));break;case 18:Vn!==null&&(As?(t=Vn,n=n.stateNode,t.nodeType===8?cw(t.parentNode,n):t.nodeType===1&&cw(t,n),dh(t)):cw(Vn,n.stateNode));break;case 4:r=Vn,s=As,Vn=n.stateNode.containerInfo,As=!0,ho(t,e,n),Vn=r,As=s;break;case 0:case 11:case 14:case 15:if(!nr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ix(n,e,o),s=s.next}while(s!==r)}ho(t,e,n);break;case 1:if(!nr&&(lc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Zt(n,e,a)}ho(t,e,n);break;case 21:ho(t,e,n);break;case 22:n.mode&1?(nr=(r=nr)||n.memoizedState!==null,ho(t,e,n),nr=r):ho(t,e,n);break;default:ho(t,e,n)}}function tA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new j5),e.forEach(function(r){var s=H5.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function bs(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Vn=a.stateNode,As=!1;break e;case 3:Vn=a.stateNode.containerInfo,As=!0;break e;case 4:Vn=a.stateNode.containerInfo,As=!0;break e}a=a.return}if(Vn===null)throw Error(te(160));UD(i,o,s),Vn=null,As=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Zt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)BD(e,t),e=e.sibling}function BD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(bs(e,t),zs(t),r&4){try{Vd(3,t,t.return),gv(3,t)}catch(v){Zt(t,t.return,v)}try{Vd(5,t,t.return)}catch(v){Zt(t,t.return,v)}}break;case 1:bs(e,t),zs(t),r&512&&n!==null&&lc(n,n.return);break;case 5:if(bs(e,t),zs(t),r&512&&n!==null&&lc(n,n.return),t.flags&32){var s=t.stateNode;try{ah(s,"")}catch(v){Zt(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&cN(s,i),D0(a,o);var c=D0(a,i);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?pN(s,h):u==="dangerouslySetInnerHTML"?hN(s,h):u==="children"?ah(s,h):Y_(s,u,h,c)}switch(a){case"input":A0(s,i);break;case"textarea":uN(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?yc(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?yc(s,!!i.multiple,i.defaultValue,!0):yc(s,!!i.multiple,i.multiple?[]:"",!1))}s[gh]=i}catch(v){Zt(t,t.return,v)}}break;case 6:if(bs(e,t),zs(t),r&4){if(t.stateNode===null)throw Error(te(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){Zt(t,t.return,v)}}break;case 3:if(bs(e,t),zs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{dh(e.containerInfo)}catch(v){Zt(t,t.return,v)}break;case 4:bs(e,t),zs(t);break;case 13:bs(e,t),zs(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(IE=an())),r&4&&tA(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(nr=(c=nr)||u,bs(e,t),nr=c):bs(e,t),zs(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ge=t,u=t.child;u!==null;){for(h=ge=u;ge!==null;){switch(p=ge,g=p.child,p.tag){case 0:case 11:case 14:case 15:Vd(4,p,p.return);break;case 1:lc(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(v){Zt(r,n,v)}}break;case 5:lc(p,p.return);break;case 22:if(p.memoizedState!==null){rA(h);continue}}g!==null?(g.return=p,ge=g):rA(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=fN("display",o))}catch(v){Zt(t,t.return,v)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){Zt(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:bs(e,t),zs(t),r&4&&tA(t);break;case 21:break;default:bs(e,t),zs(t)}}function zs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(FD(n)){var r=n;break e}n=n.return}throw Error(te(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ah(s,""),r.flags&=-33);var i=eA(t);lx(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=eA(t);ax(t,a,o);break;default:throw Error(te(161))}}catch(l){Zt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function V5(t,e,n){ge=t,$D(t)}function $D(t,e,n){for(var r=(t.mode&1)!==0;ge!==null;){var s=ge,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Np;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||nr;a=Np;var c=nr;if(Np=o,(nr=l)&&!c)for(ge=s;ge!==null;)o=ge,l=o.child,o.tag===22&&o.memoizedState!==null?sA(s):l!==null?(l.return=o,ge=l):sA(s);for(;i!==null;)ge=i,$D(i),i=i.sibling;ge=s,Np=a,nr=c}nA(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ge=i):nA(t)}}function nA(t){for(;ge!==null;){var e=ge;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nr||gv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!nr)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ts(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&UC(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}UC(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&dh(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}nr||e.flags&512&&ox(e)}catch(p){Zt(e,e.return,p)}}if(e===t){ge=null;break}if(n=e.sibling,n!==null){n.return=e.return,ge=n;break}ge=e.return}}function rA(t){for(;ge!==null;){var e=ge;if(e===t){ge=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ge=n;break}ge=e.return}}function sA(t){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{gv(4,e)}catch(l){Zt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Zt(e,s,l)}}var i=e.return;try{ox(e)}catch(l){Zt(e,i,l)}break;case 5:var o=e.return;try{ox(e)}catch(l){Zt(e,o,l)}}}catch(l){Zt(e,e.return,l)}if(e===t){ge=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ge=a;break}ge=e.return}}var F5=Math.ceil,og=no.ReactCurrentDispatcher,AE=no.ReactCurrentOwner,fs=no.ReactCurrentBatchConfig,ct=0,kn=null,fn=null,$n=0,Ur=0,cc=wa(0),Sn=0,Eh=null,ml=0,vv=0,RE=0,Fd=null,Tr=null,IE=0,eu=1/0,Ei=null,ag=!1,cx=null,Yo=null,Dp=!1,Bo=null,lg=0,Ud=0,ux=null,mm=-1,gm=0;function mr(){return ct&6?an():mm!==-1?mm:mm=an()}function Xo(t){return t.mode&1?ct&2&&$n!==0?$n&-$n:E5.transition!==null?(gm===0&&(gm=CN()),gm):(t=xt,t!==0||(t=window.event,t=t===void 0?16:kN(t.type)),t):1}function Os(t,e,n,r){if(50<Ud)throw Ud=0,ux=null,Error(te(185));df(t,n,r),(!(ct&2)||t!==kn)&&(t===kn&&(!(ct&2)&&(vv|=n),Sn===4&&So(t,$n)),Nr(t,r),n===1&&ct===0&&!(e.mode&1)&&(eu=an()+500,fv&&xa()))}function Nr(t,e){var n=t.callbackNode;Ez(t,e);var r=Wm(t,t===kn?$n:0);if(r===0)n!==null&&fC(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&fC(n),e===1)t.tag===0?_5(iA.bind(null,t)):JN(iA.bind(null,t)),v5(function(){!(ct&6)&&xa()}),n=null;else{switch(AN(r)){case 1:n=tE;break;case 4:n=SN;break;case 16:n=Km;break;case 536870912:n=TN;break;default:n=Km}n=YD(n,zD.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function zD(t,e){if(mm=-1,gm=0,ct&6)throw Error(te(327));var n=t.callbackNode;if(bc()&&t.callbackNode!==n)return null;var r=Wm(t,t===kn?$n:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=cg(t,r);else{e=r;var s=ct;ct|=2;var i=WD();(kn!==t||$n!==e)&&(Ei=null,eu=an()+500,al(t,e));do try{$5();break}catch(a){KD(t,a)}while(!0);pE(),og.current=i,ct=s,fn!==null?e=0:(kn=null,$n=0,e=Sn)}if(e!==0){if(e===2&&(s=L0(t),s!==0&&(r=s,e=dx(t,s))),e===1)throw n=Eh,al(t,0),So(t,r),Nr(t,an()),n;if(e===6)So(t,r);else{if(s=t.current.alternate,!(r&30)&&!U5(s)&&(e=cg(t,r),e===2&&(i=L0(t),i!==0&&(r=i,e=dx(t,i))),e===1))throw n=Eh,al(t,0),So(t,r),Nr(t,an()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(te(345));case 2:Ua(t,Tr,Ei);break;case 3:if(So(t,r),(r&130023424)===r&&(e=IE+500-an(),10<e)){if(Wm(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){mr(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=W0(Ua.bind(null,t,Tr,Ei),e);break}Ua(t,Tr,Ei);break;case 4:if(So(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Ms(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=an()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*F5(r/1960))-r,10<r){t.timeoutHandle=W0(Ua.bind(null,t,Tr,Ei),r);break}Ua(t,Tr,Ei);break;case 5:Ua(t,Tr,Ei);break;default:throw Error(te(329))}}}return Nr(t,an()),t.callbackNode===n?zD.bind(null,t):null}function dx(t,e){var n=Fd;return t.current.memoizedState.isDehydrated&&(al(t,e).flags|=256),t=cg(t,e),t!==2&&(e=Tr,Tr=n,e!==null&&hx(e)),t}function hx(t){Tr===null?Tr=t:Tr.push.apply(Tr,t)}function U5(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ls(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function So(t,e){for(e&=~RE,e&=~vv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ms(e),r=1<<n;t[n]=-1,e&=~r}}function iA(t){if(ct&6)throw Error(te(327));bc();var e=Wm(t,0);if(!(e&1))return Nr(t,an()),null;var n=cg(t,e);if(t.tag!==0&&n===2){var r=L0(t);r!==0&&(e=r,n=dx(t,r))}if(n===1)throw n=Eh,al(t,0),So(t,e),Nr(t,an()),n;if(n===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ua(t,Tr,Ei),Nr(t,an()),null}function PE(t,e){var n=ct;ct|=1;try{return t(e)}finally{ct=n,ct===0&&(eu=an()+500,fv&&xa())}}function gl(t){Bo!==null&&Bo.tag===0&&!(ct&6)&&bc();var e=ct;ct|=1;var n=fs.transition,r=xt;try{if(fs.transition=null,xt=1,t)return t()}finally{xt=r,fs.transition=n,ct=e,!(ct&6)&&xa()}}function NE(){Ur=cc.current,jt(cc)}function al(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,g5(n)),fn!==null)for(n=fn.return;n!==null;){var r=n;switch(dE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ym();break;case 3:Jc(),jt(Ir),jt(or),xE();break;case 5:wE(r);break;case 4:Jc();break;case 13:jt(Kt);break;case 19:jt(Kt);break;case 10:mE(r.type._context);break;case 22:case 23:NE()}n=n.return}if(kn=t,fn=t=Jo(t.current,null),$n=Ur=e,Sn=0,Eh=null,RE=vv=ml=0,Tr=Fd=null,Ha!==null){for(e=0;e<Ha.length;e++)if(n=Ha[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ha=null}return t}function KD(t,e){do{var n=fn;try{if(pE(),hm.current=ig,sg){for(var r=qt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}sg=!1}if(pl=0,Nn=xn=qt=null,Ld=!1,wh=0,AE.current=null,n===null||n.return===null){Sn=1,Eh=e,fn=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=$n,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=HC(o);if(g!==null){g.flags&=-257,qC(g,o,a,i,e),g.mode&1&&WC(i,c,e),e=g,l=c;var w=e.updateQueue;if(w===null){var v=new Set;v.add(l),e.updateQueue=v}else w.add(l);break e}else{if(!(e&1)){WC(i,c,e),DE();break e}l=Error(te(426))}}else if(Ut&&a.mode&1){var _=HC(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),qC(_,o,a,i,e),hE(Zc(l,a));break e}}i=l=Zc(l,a),Sn!==4&&(Sn=2),Fd===null?Fd=[i]:Fd.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=AD(i,l,e);FC(i,x);break e;case 1:a=l;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Yo===null||!Yo.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=RD(i,a,e);FC(i,C);break e}}i=i.return}while(i!==null)}qD(n)}catch(P){e=P,fn===n&&n!==null&&(fn=n=n.return);continue}break}while(!0)}function WD(){var t=og.current;return og.current=ig,t===null?ig:t}function DE(){(Sn===0||Sn===3||Sn===2)&&(Sn=4),kn===null||!(ml&268435455)&&!(vv&268435455)||So(kn,$n)}function cg(t,e){var n=ct;ct|=2;var r=WD();(kn!==t||$n!==e)&&(Ei=null,al(t,e));do try{B5();break}catch(s){KD(t,s)}while(!0);if(pE(),ct=n,og.current=r,fn!==null)throw Error(te(261));return kn=null,$n=0,Sn}function B5(){for(;fn!==null;)HD(fn)}function $5(){for(;fn!==null&&!fz();)HD(fn)}function HD(t){var e=QD(t.alternate,t,Ur);t.memoizedProps=t.pendingProps,e===null?qD(t):fn=e,AE.current=null}function qD(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=O5(n,e),n!==null){n.flags&=32767,fn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Sn=6,fn=null;return}}else if(n=M5(n,e,Ur),n!==null){fn=n;return}if(e=e.sibling,e!==null){fn=e;return}fn=e=t}while(e!==null);Sn===0&&(Sn=5)}function Ua(t,e,n){var r=xt,s=fs.transition;try{fs.transition=null,xt=1,z5(t,e,n,r)}finally{fs.transition=s,xt=r}return null}function z5(t,e,n,r){do bc();while(Bo!==null);if(ct&6)throw Error(te(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(bz(t,i),t===kn&&(fn=kn=null,$n=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Dp||(Dp=!0,YD(Km,function(){return bc(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=fs.transition,fs.transition=null;var o=xt;xt=1;var a=ct;ct|=4,AE.current=null,L5(t,n),BD(n,t),c5(z0),Hm=!!$0,z0=$0=null,t.current=n,V5(n),pz(),ct=a,xt=o,fs.transition=i}else t.current=n;if(Dp&&(Dp=!1,Bo=t,lg=s),i=t.pendingLanes,i===0&&(Yo=null),vz(n.stateNode),Nr(t,an()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ag)throw ag=!1,t=cx,cx=null,t;return lg&1&&t.tag!==0&&bc(),i=t.pendingLanes,i&1?t===ux?Ud++:(Ud=0,ux=t):Ud=0,xa(),null}function bc(){if(Bo!==null){var t=AN(lg),e=fs.transition,n=xt;try{if(fs.transition=null,xt=16>t?16:t,Bo===null)var r=!1;else{if(t=Bo,Bo=null,lg=0,ct&6)throw Error(te(331));var s=ct;for(ct|=4,ge=t.current;ge!==null;){var i=ge,o=i.child;if(ge.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ge=c;ge!==null;){var u=ge;switch(u.tag){case 0:case 11:case 15:Vd(8,u,i)}var h=u.child;if(h!==null)h.return=u,ge=h;else for(;ge!==null;){u=ge;var p=u.sibling,g=u.return;if(VD(u),u===c){ge=null;break}if(p!==null){p.return=g,ge=p;break}ge=g}}}var w=i.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}ge=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ge=o;else e:for(;ge!==null;){if(i=ge,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Vd(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,ge=x;break e}ge=i.return}}var y=t.current;for(ge=y;ge!==null;){o=ge;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ge=b;else e:for(o=y;ge!==null;){if(a=ge,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:gv(9,a)}}catch(P){Zt(a,a.return,P)}if(a===o){ge=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,ge=C;break e}ge=a.return}}if(ct=s,xa(),ei&&typeof ei.onPostCommitFiberRoot=="function")try{ei.onPostCommitFiberRoot(lv,t)}catch{}r=!0}return r}finally{xt=n,fs.transition=e}}return!1}function oA(t,e,n){e=Zc(n,e),e=AD(t,e,1),t=Qo(t,e,1),e=mr(),t!==null&&(df(t,1,e),Nr(t,e))}function Zt(t,e,n){if(t.tag===3)oA(t,t,n);else for(;e!==null;){if(e.tag===3){oA(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yo===null||!Yo.has(r))){t=Zc(n,t),t=RD(e,t,1),e=Qo(e,t,1),t=mr(),e!==null&&(df(e,1,t),Nr(e,t));break}}e=e.return}}function K5(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=mr(),t.pingedLanes|=t.suspendedLanes&n,kn===t&&($n&n)===n&&(Sn===4||Sn===3&&($n&130023424)===$n&&500>an()-IE?al(t,0):RE|=n),Nr(t,e)}function GD(t,e){e===0&&(t.mode&1?(e=Ep,Ep<<=1,!(Ep&130023424)&&(Ep=4194304)):e=1);var n=mr();t=Hi(t,e),t!==null&&(df(t,e,n),Nr(t,n))}function W5(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),GD(t,n)}function H5(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(te(314))}r!==null&&r.delete(e),GD(t,n)}var QD;QD=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ir.current)Cr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Cr=!1,k5(t,e,n);Cr=!!(t.flags&131072)}else Cr=!1,Ut&&e.flags&1048576&&ZN(e,Zm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;pm(t,e),t=e.pendingProps;var s=Qc(e,or.current);Ec(e,n),s=EE(null,e,r,t,s,n);var i=bE();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pr(r)?(i=!0,Xm(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,vE(e),s.updater=mv,e.stateNode=s,s._reactInternals=e,J0(e,r,t,n),e=tx(null,e,r,!0,i,n)):(e.tag=0,Ut&&i&&uE(e),fr(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(pm(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=G5(r),t=Ts(r,t),s){case 0:e=ex(null,e,r,t,n);break e;case 1:e=YC(null,e,r,t,n);break e;case 11:e=GC(null,e,r,t,n);break e;case 14:e=QC(null,e,r,Ts(r.type,t),n);break e}throw Error(te(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ts(r,s),ex(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ts(r,s),YC(t,e,r,s,n);case 3:e:{if(DD(e),t===null)throw Error(te(387));r=e.pendingProps,i=e.memoizedState,s=i.element,iD(t,e),ng(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Zc(Error(te(423)),e),e=XC(t,e,r,n,s);break e}else if(r!==s){s=Zc(Error(te(424)),e),e=XC(t,e,r,n,s);break e}else for(zr=Go(e.stateNode.containerInfo.firstChild),Wr=e,Ut=!0,Is=null,n=rD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yc(),r===s){e=qi(t,e,n);break e}fr(t,e,r,n)}e=e.child}return e;case 5:return oD(e),t===null&&Q0(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,K0(r,s)?o=null:i!==null&&K0(r,i)&&(e.flags|=32),ND(t,e),fr(t,e,o,n),e.child;case 6:return t===null&&Q0(e),null;case 13:return kD(t,e,n);case 4:return yE(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Xc(e,null,r,n):fr(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ts(r,s),GC(t,e,r,s,n);case 7:return fr(t,e,e.pendingProps,n),e.child;case 8:return fr(t,e,e.pendingProps.children,n),e.child;case 12:return fr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,It(eg,r._currentValue),r._currentValue=o,i!==null)if(Ls(i.value,o)){if(i.children===s.children&&!Ir.current){e=qi(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Mi(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Y0(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(te(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Y0(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}fr(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ec(e,n),s=gs(s),r=r(s),e.flags|=1,fr(t,e,r,n),e.child;case 14:return r=e.type,s=Ts(r,e.pendingProps),s=Ts(r.type,s),QC(t,e,r,s,n);case 15:return ID(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ts(r,s),pm(t,e),e.tag=1,Pr(r)?(t=!0,Xm(e)):t=!1,Ec(e,n),CD(e,r,s),J0(e,r,s,n),tx(null,e,r,!0,t,n);case 19:return MD(t,e,n);case 22:return PD(t,e,n)}throw Error(te(156,e.tag))};function YD(t,e){return bN(t,e)}function q5(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hs(t,e,n,r){return new q5(t,e,n,r)}function kE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function G5(t){if(typeof t=="function")return kE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===J_)return 11;if(t===Z_)return 14}return 2}function Jo(t,e){var n=t.alternate;return n===null?(n=hs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function vm(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")kE(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Zl:return ll(n.children,s,i,e);case X_:o=8,s|=8;break;case E0:return t=hs(12,n,e,s|2),t.elementType=E0,t.lanes=i,t;case b0:return t=hs(13,n,e,s),t.elementType=b0,t.lanes=i,t;case S0:return t=hs(19,n,e,s),t.elementType=S0,t.lanes=i,t;case oN:return yv(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sN:o=10;break e;case iN:o=9;break e;case J_:o=11;break e;case Z_:o=14;break e;case xo:o=16,r=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=hs(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ll(t,e,n,r){return t=hs(7,t,r,e),t.lanes=n,t}function yv(t,e,n,r){return t=hs(22,t,r,e),t.elementType=oN,t.lanes=n,t.stateNode={isHidden:!1},t}function vw(t,e,n){return t=hs(6,t,null,e),t.lanes=n,t}function yw(t,e,n){return e=hs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Q5(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jy(0),this.expirationTimes=Jy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jy(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ME(t,e,n,r,s,i,o,a,l){return t=new Q5(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=hs(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vE(i),t}function Y5(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function XD(t){if(!t)return sa;t=t._reactInternals;e:{if(Il(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var n=t.type;if(Pr(n))return XN(t,n,e)}return e}function JD(t,e,n,r,s,i,o,a,l){return t=ME(n,r,!0,t,s,i,o,a,l),t.context=XD(null),n=t.current,r=mr(),s=Xo(n),i=Mi(r,s),i.callback=e??null,Qo(n,i,s),t.current.lanes=s,df(t,s,r),Nr(t,r),t}function wv(t,e,n,r){var s=e.current,i=mr(),o=Xo(s);return n=XD(n),e.context===null?e.context=n:e.pendingContext=n,e=Mi(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Qo(s,e,o),t!==null&&(Os(t,s,o,i),dm(t,s,o)),o}function ug(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function aA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function OE(t,e){aA(t,e),(t=t.alternate)&&aA(t,e)}function X5(){return null}var ZD=typeof reportError=="function"?reportError:function(t){console.error(t)};function jE(t){this._internalRoot=t}xv.prototype.render=jE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));wv(t,e,null,null)};xv.prototype.unmount=jE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;gl(function(){wv(null,t,null,null)}),e[Wi]=null}};function xv(t){this._internalRoot=t}xv.prototype.unstable_scheduleHydration=function(t){if(t){var e=PN();t={blockedOn:null,target:t,priority:e};for(var n=0;n<bo.length&&e!==0&&e<bo[n].priority;n++);bo.splice(n,0,t),n===0&&DN(t)}};function LE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _v(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lA(){}function J5(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=ug(o);i.call(c)}}var o=JD(e,r,t,0,null,!1,!1,"",lA);return t._reactRootContainer=o,t[Wi]=o.current,ph(t.nodeType===8?t.parentNode:t),gl(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=ug(l);a.call(c)}}var l=ME(t,0,!1,null,null,!1,!1,"",lA);return t._reactRootContainer=l,t[Wi]=l.current,ph(t.nodeType===8?t.parentNode:t),gl(function(){wv(e,l,n,r)}),l}function Ev(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=ug(o);a.call(l)}}wv(e,o,t,s)}else o=J5(n,e,t,s,r);return ug(o)}RN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=xd(e.pendingLanes);n!==0&&(nE(e,n|1),Nr(e,an()),!(ct&6)&&(eu=an()+500,xa()))}break;case 13:gl(function(){var r=Hi(t,1);if(r!==null){var s=mr();Os(r,t,1,s)}}),OE(t,1)}};rE=function(t){if(t.tag===13){var e=Hi(t,134217728);if(e!==null){var n=mr();Os(e,t,134217728,n)}OE(t,134217728)}};IN=function(t){if(t.tag===13){var e=Xo(t),n=Hi(t,e);if(n!==null){var r=mr();Os(n,t,e,r)}OE(t,e)}};PN=function(){return xt};NN=function(t,e){var n=xt;try{return xt=t,e()}finally{xt=n}};M0=function(t,e,n){switch(e){case"input":if(A0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=hv(r);if(!s)throw Error(te(90));lN(r),A0(r,s)}}}break;case"textarea":uN(t,n);break;case"select":e=n.value,e!=null&&yc(t,!!n.multiple,e,!1)}};vN=PE;yN=gl;var Z5={usingClientEntryPoint:!1,Events:[ff,rc,hv,mN,gN,PE]},od={findFiberByHostInstance:Wa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},e3={bundleType:od.bundleType,version:od.version,rendererPackageName:od.rendererPackageName,rendererConfig:od.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:no.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_N(t),t===null?null:t.stateNode},findFiberByHostInstance:od.findFiberByHostInstance||X5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kp.isDisabled&&kp.supportsFiber)try{lv=kp.inject(e3),ei=kp}catch{}}Yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z5;Yr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!LE(e))throw Error(te(200));return Y5(t,e,null,n)};Yr.createRoot=function(t,e){if(!LE(t))throw Error(te(299));var n=!1,r="",s=ZD;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ME(t,1,!1,null,null,n,!1,r,s),t[Wi]=e.current,ph(t.nodeType===8?t.parentNode:t),new jE(e)};Yr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=_N(e),t=t===null?null:t.stateNode,t};Yr.flushSync=function(t){return gl(t)};Yr.hydrate=function(t,e,n){if(!_v(e))throw Error(te(200));return Ev(null,t,e,!0,n)};Yr.hydrateRoot=function(t,e,n){if(!LE(t))throw Error(te(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=ZD;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=JD(e,null,t,1,n??null,s,!1,i,o),t[Wi]=e.current,ph(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new xv(e)};Yr.render=function(t,e,n){if(!_v(e))throw Error(te(200));return Ev(null,t,e,!1,n)};Yr.unmountComponentAtNode=function(t){if(!_v(t))throw Error(te(40));return t._reactRootContainer?(gl(function(){Ev(null,null,t,!1,function(){t._reactRootContainer=null,t[Wi]=null})}),!0):!1};Yr.unstable_batchedUpdates=PE;Yr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!_v(n))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return Ev(t,e,n,!1,r)};Yr.version="18.3.1-next-f1338f8080-20240426";function ek(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ek)}catch(t){console.error(t)}}ek(),eN.exports=Yr;var Ar=eN.exports;const mf=z_(Ar),t3=BP({__proto__:null,default:mf},[Ar]);var cA=Ar;x0.createRoot=cA.createRoot,x0.hydrateRoot=cA.hydrateRoot;var uA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},n3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},nk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(n[u],n[h],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):n3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new r3;const p=i<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),h!==64){const w=c<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class r3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s3=function(t){const e=tk(t);return nk.encodeByteArray(e,!0)},dg=function(t){return s3(t).replace(/\./g,"")},rk=function(t){try{return nk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=()=>i3().__FIREBASE_DEFAULTS__,a3=()=>{if(typeof process>"u"||typeof uA>"u")return;const t=uA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},l3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rk(t[1]);return e&&JSON.parse(e)},bv=()=>{try{return o3()||a3()||l3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sk=t=>{var e,n;return(n=(e=bv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ik=t=>{const e=sk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ok=()=>{var t;return(t=bv())===null||t===void 0?void 0:t.config},ak=t=>{var e;return(e=bv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c3=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[dg(JSON.stringify(n)),dg(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function u3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ar())}function d3(){var t;const e=(t=bv())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function f3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function p3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function m3(){const t=ar();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g3(){return!d3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function v3(){try{return typeof indexedDB=="object"}catch{return!1}}function y3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3="FirebaseError";class ys extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=w3,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gf.prototype.create)}}class gf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?x3(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ys(s,a,r)}}function x3(t,e){return t.replace(_3,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const _3=/\{\$([^}]+)}/g;function E3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function hg(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(dA(i)&&dA(o)){if(!hg(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function dA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function b3(t,e){const n=new S3(t,e);return n.subscribe.bind(n)}class S3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");T3(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=ww),s.error===void 0&&(s.error=ww),s.complete===void 0&&(s.complete=ww);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function T3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ww(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(t){return t&&t._delegate?t._delegate:t}class ia{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C3=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new c3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(R3(e))try{this.getOrInitializeService({instanceIdentifier:Ba})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ba){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ba){return this.instances.has(e)}getOptions(e=Ba){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:A3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ba){return this.component?this.component.multipleInstances?e:Ba:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function A3(t){return t===Ba?void 0:t}function R3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new C3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const P3={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},N3=it.INFO,D3={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},k3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=D3[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class VE{constructor(e){this.name=e,this._logLevel=N3,this._logHandler=k3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?P3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const M3=(t,e)=>e.some(n=>t instanceof n);let hA,fA;function O3(){return hA||(hA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function j3(){return fA||(fA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ck=new WeakMap,fx=new WeakMap,uk=new WeakMap,xw=new WeakMap,FE=new WeakMap;function L3(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Zo(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ck.set(n,t)}).catch(()=>{}),FE.set(e,t),e}function V3(t){if(fx.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});fx.set(t,e)}let px={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function F3(t){px=t(px)}function U3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(_w(this),e,...n);return uk.set(r,e.sort?e.sort():[e]),Zo(r)}:j3().includes(t)?function(...e){return t.apply(_w(this),e),Zo(ck.get(this))}:function(...e){return Zo(t.apply(_w(this),e))}}function B3(t){return typeof t=="function"?U3(t):(t instanceof IDBTransaction&&V3(t),M3(t,O3())?new Proxy(t,px):t)}function Zo(t){if(t instanceof IDBRequest)return L3(t);if(xw.has(t))return xw.get(t);const e=B3(t);return e!==t&&(xw.set(t,e),FE.set(e,t)),e}const _w=t=>FE.get(t);function $3(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Zo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Zo(o.result),l.oldVersion,l.newVersion,Zo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const z3=["get","getKey","getAll","getAllKeys","count"],K3=["put","add","delete","clear"],Ew=new Map;function pA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ew.get(e))return Ew.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=K3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||z3.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Ew.set(e,i),i}F3(t=>({...t,get:(e,n,r)=>pA(e,n)||t.get(e,n,r),has:(e,n)=>!!pA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(H3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function H3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mx="@firebase/app",mA="0.10.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new VE("@firebase/app"),q3="@firebase/app-compat",G3="@firebase/analytics-compat",Q3="@firebase/analytics",Y3="@firebase/app-check-compat",X3="@firebase/app-check",J3="@firebase/auth",Z3="@firebase/auth-compat",e6="@firebase/database",t6="@firebase/database-compat",n6="@firebase/functions",r6="@firebase/functions-compat",s6="@firebase/installations",i6="@firebase/installations-compat",o6="@firebase/messaging",a6="@firebase/messaging-compat",l6="@firebase/performance",c6="@firebase/performance-compat",u6="@firebase/remote-config",d6="@firebase/remote-config-compat",h6="@firebase/storage",f6="@firebase/storage-compat",p6="@firebase/firestore",m6="@firebase/vertexai-preview",g6="@firebase/firestore-compat",v6="firebase",y6="10.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="[DEFAULT]",w6={[mx]:"fire-core",[q3]:"fire-core-compat",[Q3]:"fire-analytics",[G3]:"fire-analytics-compat",[X3]:"fire-app-check",[Y3]:"fire-app-check-compat",[J3]:"fire-auth",[Z3]:"fire-auth-compat",[e6]:"fire-rtdb",[t6]:"fire-rtdb-compat",[n6]:"fire-fn",[r6]:"fire-fn-compat",[s6]:"fire-iid",[i6]:"fire-iid-compat",[o6]:"fire-fcm",[a6]:"fire-fcm-compat",[l6]:"fire-perf",[c6]:"fire-perf-compat",[u6]:"fire-rc",[d6]:"fire-rc-compat",[h6]:"fire-gcs",[f6]:"fire-gcs-compat",[p6]:"fire-fst",[g6]:"fire-fst-compat",[m6]:"fire-vertex","fire-js":"fire-js",[v6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg=new Map,x6=new Map,vx=new Map;function gA(t,e){try{t.container.addComponent(e)}catch(n){Gi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vl(t){const e=t.name;if(vx.has(e))return Gi.debug(`There were multiple attempts to register component ${e}.`),!1;vx.set(e,t);for(const n of fg.values())gA(n,t);for(const n of x6.values())gA(n,t);return!0}function Sv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ai(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ea=new gf("app","Firebase",_6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ea.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=y6;function dk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:gx,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ea.create("bad-app-name",{appName:String(s)});if(n||(n=ok()),!n)throw ea.create("no-options");const i=fg.get(s);if(i){if(hg(n,i.options)&&hg(r,i.config))return i;throw ea.create("duplicate-app",{appName:s})}const o=new I3(s);for(const l of vx.values())o.addComponent(l);const a=new E6(n,r,o);return fg.set(s,a),a}function UE(t=gx){const e=fg.get(t);if(!e&&t===gx&&ok())return dk();if(!e)throw ea.create("no-app",{appName:t});return e}function ni(t,e,n){var r;let s=(r=w6[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gi.warn(a.join(" "));return}vl(new ia(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6="firebase-heartbeat-database",S6=1,bh="firebase-heartbeat-store";let bw=null;function hk(){return bw||(bw=$3(b6,S6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bh)}catch(n){console.warn(n)}}}}).catch(t=>{throw ea.create("idb-open",{originalErrorMessage:t.message})})),bw}async function T6(t){try{const n=(await hk()).transaction(bh),r=await n.objectStore(bh).get(fk(t));return await n.done,r}catch(e){if(e instanceof ys)Gi.warn(e.message);else{const n=ea.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gi.warn(n.message)}}}async function vA(t,e){try{const r=(await hk()).transaction(bh,"readwrite");await r.objectStore(bh).put(e,fk(t)),await r.done}catch(n){if(n instanceof ys)Gi.warn(n.message);else{const r=ea.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gi.warn(r.message)}}}function fk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=1024,A6=30*24*60*60*1e3;class R6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new P6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=yA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=A6}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Gi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=yA(),{heartbeatsToSend:r,unsentEntries:s}=I6(this._heartbeatsCache.heartbeats),i=dg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Gi.warn(n),""}}}function yA(){return new Date().toISOString().substring(0,10)}function I6(t,e=C6){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),wA(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),wA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class P6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return v3()?y3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await T6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return vA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return vA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function wA(t){return dg(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(t){vl(new ia("platform-logger",e=>new W3(e),"PRIVATE")),vl(new ia("heartbeat",e=>new R6(e),"PRIVATE")),ni(mx,mA,t),ni(mx,mA,"esm2017"),ni("fire-js","")}N6("");var Ys=function(){return Ys=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ys.apply(this,arguments)};function yf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function D6(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function pk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const k6=pk,mk=new gf("auth","Firebase",pk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg=new VE("@firebase/auth");function M6(t,...e){pg.logLevel<=it.WARN&&pg.warn(`Auth (${Pl}): ${t}`,...e)}function ym(t,...e){pg.logLevel<=it.ERROR&&pg.error(`Auth (${Pl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(t,...e){throw BE(t,...e)}function ri(t,...e){return BE(t,...e)}function gk(t,e,n){const r=Object.assign(Object.assign({},k6()),{[e]:n});return new gf("auth","Firebase",r).create(e,{appName:t.name})}function ta(t){return gk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function BE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return mk.create(t,...e)}function Le(t,e,...n){if(!t)throw BE(e,...n)}function Ri(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ym(e),new Error(e)}function Yi(t,e){t||Ri(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function O6(){return xA()==="http:"||xA()==="https:"}function xA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(O6()||f3()||"connection"in navigator)?navigator.onLine:!0}function L6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yi(n>e,"Short delay should be less than long delay!"),this.isMobile=u3()||p3()}get(){return j6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(t,e){Yi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6=new wf(3e4,6e4);function Tv(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function xu(t,e,n,r,s={}){return yk(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=vf(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return h3()||(c.referrerPolicy="no-referrer"),vk.fetch()(xk(t,t.config.apiHost,n,a),c)})}async function yk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},V6),e);try{const s=new U6(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Mp(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mp(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Mp(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Mp(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw gk(t,u,c);Qi(t,u)}}catch(s){if(s instanceof ys)throw s;Qi(t,"network-request-failed",{message:String(s)})}}async function wk(t,e,n,r,s={}){const i=await xu(t,e,n,r,s);return"mfaPendingCredential"in i&&Qi(t,"multi-factor-auth-required",{_serverResponse:i}),i}function xk(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?$E(t.config,s):`${t.config.apiScheme}://${s}`}class U6{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ri(this.auth,"network-request-failed")),F6.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=ri(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B6(t,e){return xu(t,"POST","/v1/accounts:delete",e)}async function _k(t,e){return xu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $6(t,e=!1){const n=An(t),r=await n.getIdToken(e),s=zE(r);Le(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Bd(Sw(s.auth_time)),issuedAtTime:Bd(Sw(s.iat)),expirationTime:Bd(Sw(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Sw(t){return Number(t)*1e3}function zE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ym("JWT malformed, contained fewer than 3 sections"),null;try{const s=rk(n);return s?JSON.parse(s):(ym("Failed to decode base64 JWT payload"),null)}catch(s){return ym("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function _A(t){const e=zE(t);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ys&&z6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function z6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bd(this.lastLoginAt),this.creationTime=Bd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mg(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Sh(t,_k(n,{idToken:r}));Le(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Ek(i.providerUserInfo):[],a=H6(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new wx(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function W6(t){const e=An(t);await mg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function H6(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Ek(t){return t.map(e=>{var{providerId:n}=e,r=yf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q6(t,e){const n=await yk(t,{},async()=>{const r=vf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=xk(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",vk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function G6(t,e){return xu(t,"POST","/v2/accounts:revokeToken",Tv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_A(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const n=_A(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await q6(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Sc;return r&&(Le(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Le(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Le(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sc,this.toJSON())}_performRefresh(){return Ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(t,e){Le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ii{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=yf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new K6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new wx(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Sh(this,this.stsTokenManager.getToken(this.auth,e));return Le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $6(this,e)}reload(){return W6(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ii(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await mg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ai(this.auth.app))return Promise.reject(ta(this.auth));const e=await this.getIdToken();return await Sh(this,B6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:b,emailVerified:C,isAnonymous:P,providerData:O,stsTokenManager:T}=n;Le(b&&T,e,"internal-error");const E=Sc.fromJSON(this.name,T);Le(typeof b=="string",e,"internal-error"),fo(h,e.name),fo(p,e.name),Le(typeof C=="boolean",e,"internal-error"),Le(typeof P=="boolean",e,"internal-error"),fo(g,e.name),fo(w,e.name),fo(v,e.name),fo(_,e.name),fo(x,e.name),fo(y,e.name);const I=new Ii({uid:b,auth:e,email:p,emailVerified:C,displayName:h,isAnonymous:P,photoURL:w,phoneNumber:g,tenantId:v,stsTokenManager:E,createdAt:x,lastLoginAt:y});return O&&Array.isArray(O)&&(I.providerData=O.map(R=>Object.assign({},R))),_&&(I._redirectEventId=_),I}static async _fromIdTokenResponse(e,n,r=!1){const s=new Sc;s.updateFromServerResponse(n);const i=new Ii({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await mg(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Le(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Ek(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Sc;a.updateFromIdToken(r);const l=new Ii({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new wx(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=new Map;function Pi(t){Yi(t instanceof Function,"Expected a class definition");let e=EA.get(t);return e?(Yi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,EA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}bk.type="NONE";const bA=bk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(t,e,n){return`firebase:${t}:${e}:${n}`}class Tc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=wm(this.userKey,s.apiKey,i),this.fullPersistenceKey=wm("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ii._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Tc(Pi(bA),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Pi(bA);const o=wm(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=Ii._fromJSON(e,u);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Tc(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Tc(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ak(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Sk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ik(e))return"Blackberry";if(Pk(e))return"Webos";if(Tk(e))return"Safari";if((e.includes("chrome/")||Ck(e))&&!e.includes("edge/"))return"Chrome";if(Rk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Sk(t=ar()){return/firefox\//i.test(t)}function Tk(t=ar()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ck(t=ar()){return/crios\//i.test(t)}function Ak(t=ar()){return/iemobile/i.test(t)}function Rk(t=ar()){return/android/i.test(t)}function Ik(t=ar()){return/blackberry/i.test(t)}function Pk(t=ar()){return/webos/i.test(t)}function KE(t=ar()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Q6(t=ar()){var e;return KE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Y6(){return m3()&&document.documentMode===10}function Nk(t=ar()){return KE(t)||Rk(t)||Pk(t)||Ik(t)||/windows phone/i.test(t)||Ak(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(t,e=[]){let n;switch(t){case"Browser":n=SA(ar());break;case"Worker":n=`${SA(ar())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Pl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J6(t,e={}){return xu(t,"GET","/v2/passwordPolicy",Tv(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6=6;class e9{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Z6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TA(this),this.idTokenSubscription=new TA(this),this.beforeStateQueue=new X6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pi(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Tc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _k(this,{idToken:e}),r=await Ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ai(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await mg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=L6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ai(this.app))return Promise.reject(ta(this));const n=e?An(e):null;return n&&Le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ai(this.app)?Promise.reject(ta(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ai(this.app)?Promise.reject(ta(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await J6(this),n=new e9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new gf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await G6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Pi(e)||this._popupRedirectResolver;Le(n,this,"argument-error"),this.redirectPersistenceManager=await Tc.create(this,[Pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Dk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&M6(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Cv(t){return An(t)}class TA{constructor(e){this.auth=e,this.observer=null,this.addObserver=b3(n=>this.observer=n)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function n9(t){WE=t}function r9(t){return WE.loadJS(t)}function s9(){return WE.gapiScript}function i9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o9(t,e){const n=Sv(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(hg(i,e??{}))return s;Qi(s,"already-initialized")}return n.initialize({options:e})}function a9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Pi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function l9(t,e,n){const r=Cv(t);Le(r._canInitEmulator,r,"emulator-config-failed"),Le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=kk(e),{host:o,port:a}=c9(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),u9()}function kk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function c9(t){const e=kk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:CA(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:CA(o)}}}function CA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function u9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ri("not implemented")}_getIdTokenResponse(e){return Ri("not implemented")}_linkToIdToken(e,n){return Ri("not implemented")}_getReauthenticationResolver(e){return Ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cc(t,e){return wk(t,"POST","/v1/accounts:signInWithIdp",Tv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9="http://localhost";class yl extends Mk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new yl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=yf(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new yl(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Cc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Cc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Cc(e,n)}buildRequest(){const e={requestUri:d9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf extends Ok{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends xf{constructor(){super("facebook.com")}static credential(e){return yl._fromParams({providerId:To.PROVIDER_ID,signInMethod:To.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return To.credentialFromTaggedObject(e)}static credentialFromError(e){return To.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return To.credential(e.oauthAccessToken)}catch{return null}}}To.FACEBOOK_SIGN_IN_METHOD="facebook.com";To.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co extends xf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return yl._fromParams({providerId:Co.PROVIDER_ID,signInMethod:Co.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Co.credentialFromTaggedObject(e)}static credentialFromError(e){return Co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Co.credential(n,r)}catch{return null}}}Co.GOOGLE_SIGN_IN_METHOD="google.com";Co.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends xf{constructor(){super("github.com")}static credential(e){return yl._fromParams({providerId:Ao.PROVIDER_ID,signInMethod:Ao.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ao.credentialFromTaggedObject(e)}static credentialFromError(e){return Ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ao.credential(e.oauthAccessToken)}catch{return null}}}Ao.GITHUB_SIGN_IN_METHOD="github.com";Ao.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro extends xf{constructor(){super("twitter.com")}static credential(e,n){return yl._fromParams({providerId:Ro.PROVIDER_ID,signInMethod:Ro.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ro.credentialFromTaggedObject(e)}static credentialFromError(e){return Ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ro.credential(n,r)}catch{return null}}}Ro.TWITTER_SIGN_IN_METHOD="twitter.com";Ro.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h9(t,e){return wk(t,"POST","/v1/accounts:signUp",Tv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Ii._fromIdTokenResponse(e,r,s),o=AA(r);return new oa({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=AA(r);return new oa({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function AA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f9(t){var e;if(Ai(t.app))return Promise.reject(ta(t));const n=Cv(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new oa({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await h9(n,{returnSecureToken:!0}),s=await oa._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg extends ys{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,gg.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new gg(e,n,r,s)}}function jk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?gg._fromErrorAndOperation(t,i,e,r):i})}async function p9(t,e,n=!1){const r=await Sh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return oa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m9(t,e,n=!1){const{auth:r}=t;if(Ai(r.app))return Promise.reject(ta(r));const s="reauthenticate";try{const i=await Sh(t,jk(r,s,e,t),n);Le(i.idToken,r,"internal-error");const o=zE(i.idToken);Le(o,r,"internal-error");const{sub:a}=o;return Le(t.uid===a,r,"user-mismatch"),oa._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Qi(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g9(t,e,n=!1){if(Ai(t.app))return Promise.reject(ta(t));const r="signIn",s=await jk(t,r,e),i=await oa._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function v9(t,e,n,r){return An(t).onIdTokenChanged(e,n,r)}function y9(t,e,n){return An(t).beforeAuthStateChanged(e,n)}const vg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vg,"1"),this.storage.removeItem(vg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9=1e3,x9=10;class Vk extends Lk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Nk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Y6()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,x9):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},w9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Vk.type="LOCAL";const _9=Vk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk extends Lk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Fk.type="SESSION";const Uk=Fk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Av(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await E9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Av.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=HE("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(){return window}function S9(t){si().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(){return typeof si().WorkerGlobalScope<"u"&&typeof si().importScripts=="function"}async function T9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function C9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function A9(){return Bk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k="firebaseLocalStorageDb",R9=1,yg="firebaseLocalStorage",zk="fbase_key";class _f{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rv(t,e){return t.transaction([yg],e?"readwrite":"readonly").objectStore(yg)}function I9(){const t=indexedDB.deleteDatabase($k);return new _f(t).toPromise()}function xx(){const t=indexedDB.open($k,R9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(yg,{keyPath:zk})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(yg)?e(r):(r.close(),await I9(),e(await xx()))})})}async function RA(t,e,n){const r=Rv(t,!0).put({[zk]:e,value:n});return new _f(r).toPromise()}async function P9(t,e){const n=Rv(t,!1).get(e),r=await new _f(n).toPromise();return r===void 0?null:r.value}function IA(t,e){const n=Rv(t,!0).delete(e);return new _f(n).toPromise()}const N9=800,D9=3;class Kk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>D9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Bk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Av._getInstance(A9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await T9(),!this.activeServiceWorker)return;this.sender=new b9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||C9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xx();return await RA(e,vg,"1"),await IA(e,vg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>RA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>P9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>IA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Rv(s,!1).getAll();return new _f(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),N9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Kk.type="LOCAL";const k9=Kk;new wf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(t,e){return e?Pi(e):(Le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE extends Mk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Cc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Cc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function O9(t){return g9(t.auth,new qE(t),t.bypassAuthState)}function j9(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),m9(n,new qE(t),t.bypassAuthState)}async function L9(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),p9(n,new qE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return O9;case"linkViaPopup":case"linkViaRedirect":return L9;case"reauthViaPopup":case"reauthViaRedirect":return j9;default:Qi(this.auth,"internal-error")}}resolve(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9=new wf(2e3,1e4);class uc extends Wk{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,uc.currentPopupAction&&uc.currentPopupAction.cancel(),uc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){Yi(this.filter.length===1,"Popup operations only handle one event");const e=HE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,V9.get())};e()}}uc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9="pendingRedirect",xm=new Map;class U9 extends Wk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=xm.get(this.auth._key());if(!e){try{const r=await B9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}xm.set(this.auth._key(),e)}return this.bypassAuthState||xm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function B9(t,e){const n=K9(e),r=z9(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function $9(t,e){xm.set(t._key(),e)}function z9(t){return Pi(t._redirectPersistence)}function K9(t){return wm(F9,t.config.apiKey,t.name)}async function W9(t,e,n=!1){if(Ai(t.app))return Promise.reject(ta(t));const r=Cv(t),s=M9(r,e),o=await new U9(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9=10*60*1e3;class q9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!G9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Hk(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ri(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=H9&&this.cachedEventUids.clear(),this.cachedEventUids.has(PA(e))}saveEventToCache(e){this.cachedEventUids.add(PA(e)),this.lastProcessedEventTime=Date.now()}}function PA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Hk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function G9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q9(t,e={}){return xu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,X9=/^https?/;async function J9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Q9(t);for(const n of e)try{if(Z9(n))return}catch{}Qi(t,"unauthorized-domain")}function Z9(t){const e=yx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!X9.test(n))return!1;if(Y9.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eK=new wf(3e4,6e4);function NA(){const t=si().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function tK(t){return new Promise((e,n)=>{var r,s,i;function o(){NA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{NA(),n(ri(t,"network-request-failed"))},timeout:eK.get()})}if(!((s=(r=si().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=si().gapi)===null||i===void 0)&&i.load)o();else{const a=i9("iframefcb");return si()[a]=()=>{gapi.load?o():n(ri(t,"network-request-failed"))},r9(`${s9()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw _m=null,e})}let _m=null;function nK(t){return _m=_m||tK(t),_m}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rK=new wf(5e3,15e3),sK="__/auth/iframe",iK="emulator/auth/iframe",oK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lK(t){const e=t.config;Le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?$E(e,iK):`https://${t.config.authDomain}/${sK}`,r={apiKey:e.apiKey,appName:t.name,v:Pl},s=aK.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${vf(r).slice(1)}`}async function cK(t){const e=await nK(t),n=si().gapi;return Le(n,t,"internal-error"),e.open({where:document.body,url:lK(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oK,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=ri(t,"network-request-failed"),a=si().setTimeout(()=>{i(o)},rK.get());function l(){si().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dK=500,hK=600,fK="_blank",pK="http://localhost";class DA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mK(t,e,n,r=dK,s=hK){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},uK),{width:r.toString(),height:s.toString(),top:i,left:o}),c=ar().toLowerCase();n&&(a=Ck(c)?fK:n),Sk(c)&&(e=e||pK,l.scrollbars="yes");const u=Object.entries(l).reduce((p,[g,w])=>`${p}${g}=${w},`,"");if(Q6(c)&&a!=="_self")return gK(e||"",a),new DA(null);const h=window.open(e||"",a,u);Le(h,t,"popup-blocked");try{h.focus()}catch{}return new DA(h)}function gK(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vK="__/auth/handler",yK="emulator/auth/handler",wK=encodeURIComponent("fac");async function kA(t,e,n,r,s,i){Le(t.config.authDomain,t,"auth-domain-config-required"),Le(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Pl,eventId:s};if(e instanceof Ok){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",E3(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))o[u]=h}if(e instanceof xf){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${wK}=${encodeURIComponent(l)}`:"";return`${xK(t)}?${vf(a).slice(1)}${c}`}function xK({config:t}){return t.emulator?$E(t,yK):`https://${t.authDomain}/${vK}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="webStorageSupport";class _K{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Uk,this._completeRedirectFn=W9,this._overrideRedirectResult=$9}async _openPopup(e,n,r,s){var i;Yi((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await kA(e,n,r,yx(),s);return mK(e,o,HE())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await kA(e,n,r,yx(),s);return S9(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Yi(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await cK(e),r=new q9(e);return n.register("authEvent",s=>(Le(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tw,{type:Tw},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Tw];o!==void 0&&n(!!o),Qi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=J9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Nk()||Tk()||KE()}}const EK=_K;var MA="@firebase/auth",OA="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bK{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SK(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TK(t){vl(new ia("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Le(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dk(t)},c=new t9(r,s,i,l);return a9(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),vl(new ia("auth-internal",e=>{const n=Cv(e.getProvider("auth").getImmediate());return(r=>new bK(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ni(MA,OA,SK(t)),ni(MA,OA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CK=5*60,AK=ak("authIdTokenMaxAge")||CK;let jA=null;const RK=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>AK)return;const s=n==null?void 0:n.token;jA!==s&&(jA=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function IK(t=UE()){const e=Sv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=o9(t,{popupRedirectResolver:EK,persistence:[k9,_9,Uk]}),r=ak("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=RK(i.toString());y9(n,o,()=>o(n.currentUser)),v9(n,a=>o(a))}}const s=sk("auth");return s&&l9(n,`http://${s}`),n}function PK(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}n9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=ri("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",PK().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TK("Browser");const pt=(t,e=!1)=>{};var NK={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"production",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://cob-chatbot.onrender.com",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",VITE_FIREBASE_MEASUREMENT_ID:"G-65F7KP2KRQ",VITE_SUPER_ADMIN_ID:"672ca434f2191d3bb7606f0d",BASE_URL:"/admin",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const LA=t=>{let e;const n=new Set,r=(u,h)=>{const p=typeof u=="function"?u(e):u;if(!Object.is(p,e)){const g=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(w=>w(e,g))}},s=()=>e,l={setState:r,getState:s,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(NK?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,s,l);return l},DK=t=>t?LA(t):LA;var qk={exports:{}},Gk={},Qk={exports:{}},Yk={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tu=m;function kK(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var MK=typeof Object.is=="function"?Object.is:kK,OK=tu.useState,jK=tu.useEffect,LK=tu.useLayoutEffect,VK=tu.useDebugValue;function FK(t,e){var n=e(),r=OK({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return LK(function(){s.value=n,s.getSnapshot=e,Cw(s)&&i({inst:s})},[t,n,e]),jK(function(){return Cw(s)&&i({inst:s}),t(function(){Cw(s)&&i({inst:s})})},[t]),VK(n),n}function Cw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!MK(t,n)}catch{return!0}}function UK(t,e){return e()}var BK=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?UK:FK;Yk.useSyncExternalStore=tu.useSyncExternalStore!==void 0?tu.useSyncExternalStore:BK;Qk.exports=Yk;var $K=Qk.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv=m,zK=$K;function KK(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var WK=typeof Object.is=="function"?Object.is:KK,HK=zK.useSyncExternalStore,qK=Iv.useRef,GK=Iv.useEffect,QK=Iv.useMemo,YK=Iv.useDebugValue;Gk.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=qK(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=QK(function(){function l(g){if(!c){if(c=!0,u=g,g=r(g),s!==void 0&&o.hasValue){var w=o.value;if(s(w,g))return h=w}return h=g}if(w=h,WK(u,g))return w;var v=r(g);return s!==void 0&&s(w,v)?w:(u=g,h=v)}var c=!1,u,h,p=n===void 0?null:n;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,n,r,s]);var a=HK(t,i[0],i[1]);return GK(function(){o.hasValue=!0,o.value=a},[a]),YK(a),a};qk.exports=Gk;var XK=qk.exports;const JK=z_(XK);var Xk={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"production",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://cob-chatbot.onrender.com",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",VITE_FIREBASE_MEASUREMENT_ID:"G-65F7KP2KRQ",VITE_SUPER_ADMIN_ID:"672ca434f2191d3bb7606f0d",BASE_URL:"/admin",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:ZK}=Re,{useSyncExternalStoreWithSelector:eW}=JK;let VA=!1;const tW=t=>t;function nW(t,e=tW,n){(Xk?"production":void 0)!=="production"&&n&&!VA&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),VA=!0);const r=eW(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return ZK(r),r}const FA=t=>{(Xk?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?DK(t):t,n=(r,s)=>nW(e,r,s);return Object.assign(n,e),n},ro=t=>t?FA(t):FA;var rW={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"production",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://cob-chatbot.onrender.com",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",VITE_FIREBASE_MEASUREMENT_ID:"G-65F7KP2KRQ",VITE_SUPER_ADMIN_ID:"672ca434f2191d3bb7606f0d",BASE_URL:"/admin",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function GE(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const o=l=>l===null?null:JSON.parse(l,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const Th=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Th(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Th(r)(n)}}}},sW=(t,e)=>(n,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:_=>_,version:0,merge:(_,x)=>({...x,..._}),...e},o=!1;const a=new Set,l=new Set;let c;try{c=i.getStorage()}catch{}if(!c)return t((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(..._)},r,s);const u=Th(i.serialize),h=()=>{const _=i.partialize({...r()});let x;const y=u({state:_,version:i.version}).then(b=>c.setItem(i.name,b)).catch(b=>{x=b});if(x)throw x;return y},p=s.setState;s.setState=(_,x)=>{p(_,x),h()};const g=t((..._)=>{n(..._),h()},r,s);let w;const v=()=>{var _;if(!c)return;o=!1,a.forEach(y=>y(r()));const x=((_=i.onRehydrateStorage)==null?void 0:_.call(i,r()))||void 0;return Th(c.getItem.bind(c))(i.name).then(y=>{if(y)return i.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return i.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var b;return w=i.merge(y,(b=r())!=null?b:g),n(w,!0),h()}).then(()=>{x==null||x(w,void 0),o=!0,l.forEach(y=>y(w))}).catch(y=>{x==null||x(void 0,y)})};return s.persist={setOptions:_=>{i={...i,..._},_.getStorage&&(c=_.getStorage())},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:_=>(a.add(_),()=>{a.delete(_)}),onFinishHydration:_=>(l.add(_),()=>{l.delete(_)})},v(),w||g},iW=(t,e)=>(n,r,s)=>{let i={storage:GE(()=>localStorage),partialize:v=>v,version:0,merge:(v,_)=>({..._,...v}),...e},o=!1;const a=new Set,l=new Set;let c=i.storage;if(!c)return t((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...v)},r,s);const u=()=>{const v=i.partialize({...r()});return c.setItem(i.name,{state:v,version:i.version})},h=s.setState;s.setState=(v,_)=>{h(v,_),u()};const p=t((...v)=>{n(...v),u()},r,s);s.getInitialState=()=>p;let g;const w=()=>{var v,_;if(!c)return;o=!1,a.forEach(y=>{var b;return y((b=r())!=null?b:p)});const x=((_=i.onRehydrateStorage)==null?void 0:_.call(i,(v=r())!=null?v:p))||void 0;return Th(c.getItem.bind(c))(i.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return[!0,i.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var b;const[C,P]=y;if(g=i.merge(P,(b=r())!=null?b:p),n(g,!0),C)return u()}).then(()=>{x==null||x(g,void 0),g=r(),o=!0,l.forEach(y=>y(g))}).catch(y=>{x==null||x(void 0,y)})};return s.persist={setOptions:v=>{i={...i,...v},v.storage&&(c=v.storage)},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:v=>(a.add(v),()=>{a.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},i.skipHydration||w(),g||p},oW=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((rW?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),sW(t,e)):iW(t,e),Jk=oW,ut=ro()(Jk(t=>({admin:null,isAuth:!1,accessToken:null,setAccessToken:e=>t({accessToken:e}),login:(e,n)=>t({isAuth:!0,accessToken:e,admin:n}),logout:()=>t({isAuth:!1,accessToken:null,admin:null})}),{name:"auth-storage",storage:GE(()=>localStorage)}));/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zt(){return zt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zt.apply(this,arguments)}var hn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(hn||(hn={}));const UA="popstate";function aW(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Ch("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:wl(s)}return cW(e,n,null,t)}function Je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function nu(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lW(){return Math.random().toString(36).substr(2,8)}function BA(t,e){return{usr:t.state,key:t.key,idx:e}}function Ch(t,e,n,r){return n===void 0&&(n=null),zt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?_a(e):e,{state:n,key:e&&e.key||r||lW()})}function wl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function _a(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function cW(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=hn.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(zt({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=hn.Pop;let _=u(),x=_==null?null:_-c;c=_,l&&l({action:a,location:v.location,delta:x})}function p(_,x){a=hn.Push;let y=Ch(v.location,_,x);c=u()+1;let b=BA(y,c),C=v.createHref(y);try{o.pushState(b,"",C)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(C)}i&&l&&l({action:a,location:v.location,delta:1})}function g(_,x){a=hn.Replace;let y=Ch(v.location,_,x);c=u();let b=BA(y,c),C=v.createHref(y);o.replaceState(b,"",C),i&&l&&l({action:a,location:v.location,delta:0})}function w(_){let x=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof _=="string"?_:wl(_);return y=y.replace(/ $/,"%20"),Je(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let v={get action(){return a},get location(){return t(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(UA,h),l=_,()=>{s.removeEventListener(UA,h),l=null}},createHref(_){return e(s,_)},createURL:w,encodeLocation(_){let x=w(_);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:g,go(_){return o.go(_)}};return v}var Et;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Et||(Et={}));const uW=new Set(["lazy","caseSensitive","path","id","index","children"]);function dW(t){return t.index===!0}function Ah(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((s,i)=>{let o=[...n,String(i)],a=typeof s.id=="string"?s.id:o.join("-");if(Je(s.index!==!0||!s.children,"Cannot specify children on an index route"),Je(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),dW(s)){let l=zt({},s,e(s),{id:a});return r[a]=l,l}else{let l=zt({},s,e(s),{id:a,children:void 0});return r[a]=l,s.children&&(l.children=Ah(s.children,e,o,r)),l}})}function Ka(t,e,n){return n===void 0&&(n="/"),Em(t,e,n,!1)}function Em(t,e,n,r){let s=typeof e=="string"?_a(e):e,i=_u(s.pathname||"/",n);if(i==null)return null;let o=Zk(t);fW(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=SW(i);a=EW(o[l],c,r)}return a}function hW(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],handle:n.handle}}function Zk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Je(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Oi([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(Je(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Zk(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:xW(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of eM(i.path))s(i,o,l)}),e}function eM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=eM(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function fW(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_W(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const pW=/^:[\w-]+$/,mW=3,gW=2,vW=1,yW=10,wW=-2,$A=t=>t==="*";function xW(t,e){let n=t.split("/"),r=n.length;return n.some($A)&&(r+=wW),e&&(r+=gW),n.filter(s=>!$A(s)).reduce((s,i)=>s+(pW.test(i)?mW:i===""?vW:yW),r)}function _W(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function EW(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=zA({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=zA({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Oi([i,h.pathname]),pathnameBase:AW(Oi([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Oi([i,h.pathnameBase]))}return o}function zA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=bW(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:p,isOptional:g}=u;if(p==="*"){let v=a[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const w=a[h];return g&&!w?c[p]=void 0:c[p]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function bW(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),nu(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function SW(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nu(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function _u(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function TW(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?_a(t):t;return{pathname:n?n.startsWith("/")?n:CW(n,e):e,search:RW(r),hash:IW(s)}}function CW(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Aw(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Pv(t,e){let n=tM(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Nv(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=_a(t):(s=zt({},t),Je(!s.pathname||!s.pathname.includes("?"),Aw("?","pathname","search",s)),Je(!s.pathname||!s.pathname.includes("#"),Aw("#","pathname","hash",s)),Je(!s.search||!s.search.includes("#"),Aw("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=TW(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Oi=t=>t.join("/").replace(/\/\/+/g,"/"),AW=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),RW=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,IW=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class wg{constructor(e,n,r,s){s===void 0&&(s=!1),this.status=e,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Ef(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const nM=["post","put","patch","delete"],PW=new Set(nM),NW=["get",...nM],DW=new Set(NW),kW=new Set([301,302,303,307,308]),MW=new Set([307,308]),Rw={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},OW={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ad={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},QE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jW=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),rM="remix-router-transitions";function LW(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Je(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let L=t.detectErrorBoundary;s=F=>({hasErrorBoundary:L(F)})}else s=jW;let i={},o=Ah(t.routes,s,void 0,i),a,l=t.basename||"/",c=t.unstable_dataStrategy||zW,u=t.unstable_patchRoutesOnNavigation,h=zt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),p=null,g=new Set,w=1e3,v=new Set,_=null,x=null,y=null,b=t.hydrationData!=null,C=Ka(o,t.history.location,l),P=null;if(C==null&&!u){let L=hr(404,{pathname:t.history.location.pathname}),{matches:F,route:K}=JA(o);C=F,P={[K.id]:L}}C&&!t.hydrationData&&dt(C,o,t.history.location.pathname).active&&(C=null);let O;if(C)if(C.some(L=>L.route.lazy))O=!1;else if(!C.some(L=>L.route.loader))O=!0;else if(h.v7_partialHydration){let L=t.hydrationData?t.hydrationData.loaderData:null,F=t.hydrationData?t.hydrationData.errors:null,K=G=>G.route.loader?typeof G.route.loader=="function"&&G.route.loader.hydrate===!0?!1:L&&L[G.route.id]!==void 0||F&&F[G.route.id]!==void 0:!0;if(F){let G=C.findIndex(de=>F[de.route.id]!==void 0);O=C.slice(0,G+1).every(K)}else O=C.every(K)}else O=t.hydrationData!=null;else if(O=!1,C=[],h.v7_partialHydration){let L=dt(null,o,t.history.location.pathname);L.active&&L.matches&&(C=L.matches)}let T,E={historyAction:t.history.action,location:t.history.location,matches:C,initialized:O,navigation:Rw,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||P,fetchers:new Map,blockers:new Map},I=hn.Pop,R=!1,k,M=!1,N=new Map,W=null,se=!1,ne=!1,Y=[],z=new Set,B=new Map,J=0,fe=-1,he=new Map,Te=new Set,We=new Map,at=new Map,Ne=new Set,ce=new Map,Pe=new Map,He=new Map,pe;function $e(){if(p=t.history.listen(L=>{let{action:F,location:K,delta:G}=L;if(pe){pe(),pe=void 0;return}nu(Pe.size===0||G!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let de=$t({currentLocation:E.location,nextLocation:K,historyAction:F});if(de&&G!=null){let Ce=new Promise(Me=>{pe=Me});t.history.go(G*-1),Zr(de,{state:"blocked",location:K,proceed(){Zr(de,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),Ce.then(()=>t.history.go(G))},reset(){let Me=new Map(E.blockers);Me.set(de,ad),qe({blockers:Me})}});return}return j(F,K)}),n){sH(e,N);let L=()=>iH(e,N);e.addEventListener("pagehide",L),W=()=>e.removeEventListener("pagehide",L)}return E.initialized||j(hn.Pop,E.location,{initialHydration:!0}),T}function Oe(){p&&p(),W&&W(),g.clear(),k&&k.abort(),E.fetchers.forEach((L,F)=>Jr(F)),E.blockers.forEach((L,F)=>Da(F))}function yt(L){return g.add(L),()=>g.delete(L)}function qe(L,F){F===void 0&&(F={}),E=zt({},E,L);let K=[],G=[];h.v7_fetcherPersist&&E.fetchers.forEach((de,Ce)=>{de.state==="idle"&&(Ne.has(Ce)?G.push(Ce):K.push(Ce))}),[...g].forEach(de=>de(E,{deletedFetchers:G,unstable_viewTransitionOpts:F.viewTransitionOpts,unstable_flushSync:F.flushSync===!0})),h.v7_fetcherPersist&&(K.forEach(de=>E.fetchers.delete(de)),G.forEach(de=>Jr(de)))}function Vt(L,F,K){var G,de;let{flushSync:Ce}=K===void 0?{}:K,Me=E.actionData!=null&&E.navigation.formMethod!=null&&Rs(E.navigation.formMethod)&&E.navigation.state==="loading"&&((G=L.state)==null?void 0:G._isRedirect)!==!0,oe;F.actionData?Object.keys(F.actionData).length>0?oe=F.actionData:oe=null:Me?oe=E.actionData:oe=null;let Ee=F.loaderData?YA(E.loaderData,F.loaderData,F.matches||[],F.errors):E.loaderData,ye=E.blockers;ye.size>0&&(ye=new Map(ye),ye.forEach((lt,_t)=>ye.set(_t,ad)));let xe=R===!0||E.navigation.formMethod!=null&&Rs(E.navigation.formMethod)&&((de=L.state)==null?void 0:de._isRedirect)!==!0;a&&(o=a,a=void 0),se||I===hn.Pop||(I===hn.Push?t.history.push(L,L.state):I===hn.Replace&&t.history.replace(L,L.state));let rt;if(I===hn.Pop){let lt=N.get(E.location.pathname);lt&&lt.has(L.pathname)?rt={currentLocation:E.location,nextLocation:L}:N.has(L.pathname)&&(rt={currentLocation:L,nextLocation:E.location})}else if(M){let lt=N.get(E.location.pathname);lt?lt.add(L.pathname):(lt=new Set([L.pathname]),N.set(E.location.pathname,lt)),rt={currentLocation:E.location,nextLocation:L}}qe(zt({},F,{actionData:oe,loaderData:Ee,historyAction:I,location:L,initialized:!0,navigation:Rw,revalidation:"idle",restoreScrollPosition:es(L,F.matches||E.matches),preventScrollReset:xe,blockers:ye}),{viewTransitionOpts:rt,flushSync:Ce===!0}),I=hn.Pop,R=!1,M=!1,se=!1,ne=!1,Y=[]}async function mn(L,F){if(typeof L=="number"){t.history.go(L);return}let K=_x(E.location,E.matches,l,h.v7_prependBasename,L,h.v7_relativeSplatPath,F==null?void 0:F.fromRouteId,F==null?void 0:F.relative),{path:G,submission:de,error:Ce}=KA(h.v7_normalizeFormMethod,!1,K,F),Me=E.location,oe=Ch(E.location,G,F&&F.state);oe=zt({},oe,t.history.encodeLocation(oe));let Ee=F&&F.replace!=null?F.replace:void 0,ye=hn.Push;Ee===!0?ye=hn.Replace:Ee===!1||de!=null&&Rs(de.formMethod)&&de.formAction===E.location.pathname+E.location.search&&(ye=hn.Replace);let xe=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,rt=(F&&F.unstable_flushSync)===!0,lt=$t({currentLocation:Me,nextLocation:oe,historyAction:ye});if(lt){Zr(lt,{state:"blocked",location:oe,proceed(){Zr(lt,{state:"proceeding",proceed:void 0,reset:void 0,location:oe}),mn(L,F)},reset(){let _t=new Map(E.blockers);_t.set(lt,ad),qe({blockers:_t})}});return}return await j(ye,oe,{submission:de,pendingError:Ce,preventScrollReset:xe,replace:F&&F.replace,enableViewTransition:F&&F.unstable_viewTransition,flushSync:rt})}function Mr(){if(wr(),qe({revalidation:"loading"}),E.navigation.state!=="submitting"){if(E.navigation.state==="idle"){j(E.historyAction,E.location,{startUninterruptedRevalidation:!0});return}j(I||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation,enableViewTransition:M===!0})}}async function j(L,F,K){k&&k.abort(),k=null,I=L,se=(K&&K.startUninterruptedRevalidation)===!0,In(E.location,E.matches),R=(K&&K.preventScrollReset)===!0,M=(K&&K.enableViewTransition)===!0;let G=a||o,de=K&&K.overrideNavigation,Ce=Ka(G,F,l),Me=(K&&K.flushSync)===!0,oe=dt(Ce,G,F.pathname);if(oe.active&&oe.matches&&(Ce=oe.matches),!Ce){let{error:et,notFoundMatches:un,route:Nt}=rn(F.pathname);Vt(F,{matches:un,loaderData:{},errors:{[Nt.id]:et}},{flushSync:Me});return}if(E.initialized&&!ne&&QW(E.location,F)&&!(K&&K.submission&&Rs(K.submission.formMethod))){Vt(F,{matches:Ce},{flushSync:Me});return}k=new AbortController;let Ee=Wl(t.history,F,k.signal,K&&K.submission),ye;if(K&&K.pendingError)ye=[dc(Ce).route.id,{type:Et.error,error:K.pendingError}];else if(K&&K.submission&&Rs(K.submission.formMethod)){let et=await $(Ee,F,K.submission,Ce,oe.active,{replace:K.replace,flushSync:Me});if(et.shortCircuited)return;if(et.pendingActionResult){let[un,Nt]=et.pendingActionResult;if(Br(Nt)&&Ef(Nt.error)&&Nt.error.status===404){k=null,Vt(F,{matches:et.matches,loaderData:{},errors:{[un]:Nt.error}});return}}Ce=et.matches||Ce,ye=et.pendingActionResult,de=Iw(F,K.submission),Me=!1,oe.active=!1,Ee=Wl(t.history,Ee.url,Ee.signal)}let{shortCircuited:xe,matches:rt,loaderData:lt,errors:_t}=await H(Ee,F,Ce,oe.active,de,K&&K.submission,K&&K.fetcherSubmission,K&&K.replace,K&&K.initialHydration===!0,Me,ye);xe||(k=null,Vt(F,zt({matches:rt||Ce},XA(ye),{loaderData:lt,errors:_t})))}async function $(L,F,K,G,de,Ce){Ce===void 0&&(Ce={}),wr();let Me=nH(F,K);if(qe({navigation:Me},{flushSync:Ce.flushSync===!0}),de){let ye=await jr(G,F.pathname,L.signal);if(ye.type==="aborted")return{shortCircuited:!0};if(ye.type==="error"){let{boundaryId:xe,error:rt}=At(F.pathname,ye);return{matches:ye.partialMatches,pendingActionResult:[xe,{type:Et.error,error:rt}]}}else if(ye.matches)G=ye.matches;else{let{notFoundMatches:xe,error:rt,route:lt}=rn(F.pathname);return{matches:xe,pendingActionResult:[lt.id,{type:Et.error,error:rt}]}}}let oe,Ee=Ed(G,F);if(!Ee.route.action&&!Ee.route.lazy)oe={type:Et.error,error:hr(405,{method:L.method,pathname:F.pathname,routeId:Ee.route.id})};else if(oe=(await je("action",E,L,[Ee],G,null))[Ee.route.id],L.signal.aborted)return{shortCircuited:!0};if(Ga(oe)){let ye;return Ce&&Ce.replace!=null?ye=Ce.replace:ye=qA(oe.response.headers.get("Location"),new URL(L.url),l)===E.location.pathname+E.location.search,await Be(L,oe,!0,{submission:K,replace:ye}),{shortCircuited:!0}}if($o(oe))throw hr(400,{type:"defer-action"});if(Br(oe)){let ye=dc(G,Ee.route.id);return(Ce&&Ce.replace)!==!0&&(I=hn.Push),{matches:G,pendingActionResult:[ye.route.id,oe]}}return{matches:G,pendingActionResult:[Ee.route.id,oe]}}async function H(L,F,K,G,de,Ce,Me,oe,Ee,ye,xe){let rt=de||Iw(F,Ce),lt=Ce||Me||eR(rt),_t=!se&&(!h.v7_partialHydration||!Ee);if(G){if(_t){let Rt=ie(xe);qe(zt({navigation:rt},Rt!==void 0?{actionData:Rt}:{}),{flushSync:ye})}let ze=await jr(K,F.pathname,L.signal);if(ze.type==="aborted")return{shortCircuited:!0};if(ze.type==="error"){let{boundaryId:Rt,error:qn}=At(F.pathname,ze);return{matches:ze.partialMatches,loaderData:{},errors:{[Rt]:qn}}}else if(ze.matches)K=ze.matches;else{let{error:Rt,notFoundMatches:qn,route:Dt}=rn(F.pathname);return{matches:qn,loaderData:{},errors:{[Dt.id]:Rt}}}}let et=a||o,[un,Nt]=WA(t.history,E,K,lt,F,h.v7_partialHydration&&Ee===!0,h.v7_skipActionErrorRevalidation,ne,Y,z,Ne,We,Te,et,l,xe);if(lr(ze=>!(K&&K.some(Rt=>Rt.route.id===ze))||un&&un.some(Rt=>Rt.route.id===ze)),fe=++J,un.length===0&&Nt.length===0){let ze=Fl();return Vt(F,zt({matches:K,loaderData:{},errors:xe&&Br(xe[1])?{[xe[0]]:xe[1].error}:null},XA(xe),ze?{fetchers:new Map(E.fetchers)}:{}),{flushSync:ye}),{shortCircuited:!0}}if(_t){let ze={};if(!G){ze.navigation=rt;let Rt=ie(xe);Rt!==void 0&&(ze.actionData=Rt)}Nt.length>0&&(ze.fetchers=re(Nt)),qe(ze,{flushSync:ye})}Nt.forEach(ze=>{B.has(ze.key)&&gn(ze.key),ze.controller&&B.set(ze.key,ze.controller)});let ao=()=>Nt.forEach(ze=>gn(ze.key));k&&k.signal.addEventListener("abort",ao);let{loaderResults:Lr,fetcherResults:ns}=await Yt(E,K,un,Nt,L);if(L.signal.aborted)return{shortCircuited:!0};k&&k.signal.removeEventListener("abort",ao),Nt.forEach(ze=>B.delete(ze.key));let Hn=Op(Lr);if(Hn)return await Be(L,Hn.result,!0,{replace:oe}),{shortCircuited:!0};if(Hn=Op(ns),Hn)return Te.add(Hn.key),await Be(L,Hn.result,!0,{replace:oe}),{shortCircuited:!0};let{loaderData:lo,errors:xs}=QA(E,K,un,Lr,xe,Nt,ns,ce);ce.forEach((ze,Rt)=>{ze.subscribe(qn=>{(qn||ze.done)&&ce.delete(Rt)})}),h.v7_partialHydration&&Ee&&E.errors&&Object.entries(E.errors).filter(ze=>{let[Rt]=ze;return!un.some(qn=>qn.route.id===Rt)}).forEach(ze=>{let[Rt,qn]=ze;xs=Object.assign(xs||{},{[Rt]:qn})});let ka=Fl(),Ma=gi(fe),Oa=ka||Ma||Nt.length>0;return zt({matches:K,loaderData:lo,errors:xs},Oa?{fetchers:new Map(E.fetchers)}:{})}function ie(L){if(L&&!Br(L[1]))return{[L[0]]:L[1].data};if(E.actionData)return Object.keys(E.actionData).length===0?null:E.actionData}function re(L){return L.forEach(F=>{let K=E.fetchers.get(F.key),G=ld(void 0,K?K.data:void 0);E.fetchers.set(F.key,G)}),new Map(E.fetchers)}function ee(L,F,K,G){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");B.has(L)&&gn(L);let de=(G&&G.unstable_flushSync)===!0,Ce=a||o,Me=_x(E.location,E.matches,l,h.v7_prependBasename,K,h.v7_relativeSplatPath,F,G==null?void 0:G.relative),oe=Ka(Ce,Me,l),Ee=dt(oe,Ce,Me);if(Ee.active&&Ee.matches&&(oe=Ee.matches),!oe){Ft(L,F,hr(404,{pathname:Me}),{flushSync:de});return}let{path:ye,submission:xe,error:rt}=KA(h.v7_normalizeFormMethod,!0,Me,G);if(rt){Ft(L,F,rt,{flushSync:de});return}let lt=Ed(oe,ye);if(R=(G&&G.preventScrollReset)===!0,xe&&Rs(xe.formMethod)){_e(L,F,ye,lt,oe,Ee.active,de,xe);return}We.set(L,{routeId:F,path:ye}),Ue(L,F,ye,lt,oe,Ee.active,de,xe)}async function _e(L,F,K,G,de,Ce,Me,oe){wr(),We.delete(L);function Ee(Dt){if(!Dt.route.action&&!Dt.route.lazy){let _s=hr(405,{method:oe.formMethod,pathname:K,routeId:F});return Ft(L,F,_s,{flushSync:Me}),!0}return!1}if(!Ce&&Ee(G))return;let ye=E.fetchers.get(L);Rn(L,rH(oe,ye),{flushSync:Me});let xe=new AbortController,rt=Wl(t.history,K,xe.signal,oe);if(Ce){let Dt=await jr(de,K,rt.signal);if(Dt.type==="aborted")return;if(Dt.type==="error"){let{error:_s}=At(K,Dt);Ft(L,F,_s,{flushSync:Me});return}else if(Dt.matches){if(de=Dt.matches,G=Ed(de,K),Ee(G))return}else{Ft(L,F,hr(404,{pathname:K}),{flushSync:Me});return}}B.set(L,xe);let lt=J,et=(await je("action",E,rt,[G],de,L))[G.route.id];if(rt.signal.aborted){B.get(L)===xe&&B.delete(L);return}if(h.v7_fetcherPersist&&Ne.has(L)){if(Ga(et)||Br(et)){Rn(L,go(void 0));return}}else{if(Ga(et))if(B.delete(L),fe>lt){Rn(L,go(void 0));return}else return Te.add(L),Rn(L,ld(oe)),Be(rt,et,!1,{fetcherSubmission:oe});if(Br(et)){Ft(L,F,et.error);return}}if($o(et))throw hr(400,{type:"defer-action"});let un=E.navigation.location||E.location,Nt=Wl(t.history,un,xe.signal),ao=a||o,Lr=E.navigation.state!=="idle"?Ka(ao,E.navigation.location,l):E.matches;Je(Lr,"Didn't find any matches after fetcher action");let ns=++J;he.set(L,ns);let Hn=ld(oe,et.data);E.fetchers.set(L,Hn);let[lo,xs]=WA(t.history,E,Lr,oe,un,!1,h.v7_skipActionErrorRevalidation,ne,Y,z,Ne,We,Te,ao,l,[G.route.id,et]);xs.filter(Dt=>Dt.key!==L).forEach(Dt=>{let _s=Dt.key,sp=E.fetchers.get(_s),ip=ld(void 0,sp?sp.data:void 0);E.fetchers.set(_s,ip),B.has(_s)&&gn(_s),Dt.controller&&B.set(_s,Dt.controller)}),qe({fetchers:new Map(E.fetchers)});let ka=()=>xs.forEach(Dt=>gn(Dt.key));xe.signal.addEventListener("abort",ka);let{loaderResults:Ma,fetcherResults:Oa}=await Yt(E,Lr,lo,xs,Nt);if(xe.signal.aborted)return;xe.signal.removeEventListener("abort",ka),he.delete(L),B.delete(L),xs.forEach(Dt=>B.delete(Dt.key));let ze=Op(Ma);if(ze)return Be(Nt,ze.result,!1);if(ze=Op(Oa),ze)return Te.add(ze.key),Be(Nt,ze.result,!1);let{loaderData:Rt,errors:qn}=QA(E,Lr,lo,Ma,void 0,xs,Oa,ce);if(E.fetchers.has(L)){let Dt=go(et.data);E.fetchers.set(L,Dt)}gi(ns),E.navigation.state==="loading"&&ns>fe?(Je(I,"Expected pending action"),k&&k.abort(),Vt(E.navigation.location,{matches:Lr,loaderData:Rt,errors:qn,fetchers:new Map(E.fetchers)})):(qe({errors:qn,loaderData:YA(E.loaderData,Rt,Lr,qn),fetchers:new Map(E.fetchers)}),ne=!1)}async function Ue(L,F,K,G,de,Ce,Me,oe){let Ee=E.fetchers.get(L);Rn(L,ld(oe,Ee?Ee.data:void 0),{flushSync:Me});let ye=new AbortController,xe=Wl(t.history,K,ye.signal);if(Ce){let et=await jr(de,K,xe.signal);if(et.type==="aborted")return;if(et.type==="error"){let{error:un}=At(K,et);Ft(L,F,un,{flushSync:Me});return}else if(et.matches)de=et.matches,G=Ed(de,K);else{Ft(L,F,hr(404,{pathname:K}),{flushSync:Me});return}}B.set(L,ye);let rt=J,_t=(await je("loader",E,xe,[G],de,L))[G.route.id];if($o(_t)&&(_t=await YE(_t,xe.signal,!0)||_t),B.get(L)===ye&&B.delete(L),!xe.signal.aborted){if(Ne.has(L)){Rn(L,go(void 0));return}if(Ga(_t))if(fe>rt){Rn(L,go(void 0));return}else{Te.add(L),await Be(xe,_t,!1);return}if(Br(_t)){Ft(L,F,_t.error);return}Je(!$o(_t),"Unhandled fetcher deferred data"),Rn(L,go(_t.data))}}async function Be(L,F,K,G){let{submission:de,fetcherSubmission:Ce,replace:Me}=G===void 0?{}:G;F.response.headers.has("X-Remix-Revalidate")&&(ne=!0);let oe=F.response.headers.get("Location");Je(oe,"Expected a Location header on the redirect Response"),oe=qA(oe,new URL(L.url),l);let Ee=Ch(E.location,oe,{_isRedirect:!0});if(n){let et=!1;if(F.response.headers.has("X-Remix-Reload-Document"))et=!0;else if(QE.test(oe)){const un=t.history.createURL(oe);et=un.origin!==e.location.origin||_u(un.pathname,l)==null}if(et){Me?e.location.replace(oe):e.location.assign(oe);return}}k=null;let ye=Me===!0||F.response.headers.has("X-Remix-Replace")?hn.Replace:hn.Push,{formMethod:xe,formAction:rt,formEncType:lt}=E.navigation;!de&&!Ce&&xe&&rt&&lt&&(de=eR(E.navigation));let _t=de||Ce;if(MW.has(F.response.status)&&_t&&Rs(_t.formMethod))await j(ye,Ee,{submission:zt({},_t,{formAction:oe}),preventScrollReset:R,enableViewTransition:K?M:void 0});else{let et=Iw(Ee,de);await j(ye,Ee,{overrideNavigation:et,fetcherSubmission:Ce,preventScrollReset:R,enableViewTransition:K?M:void 0})}}async function je(L,F,K,G,de,Ce){let Me,oe={};try{Me=await KW(c,L,F,K,G,de,Ce,i,s)}catch(Ee){return G.forEach(ye=>{oe[ye.route.id]={type:Et.error,error:Ee}}),oe}for(let[Ee,ye]of Object.entries(Me))if(XW(ye)){let xe=ye.result;oe[Ee]={type:Et.redirect,response:qW(xe,K,Ee,de,l,h.v7_relativeSplatPath)}}else oe[Ee]=await HW(ye);return oe}async function Yt(L,F,K,G,de){let Ce=L.matches,Me=je("loader",L,de,K,F,null),oe=Promise.all(G.map(async xe=>{if(xe.matches&&xe.match&&xe.controller){let lt=(await je("loader",L,Wl(t.history,xe.path,xe.controller.signal),[xe.match],xe.matches,xe.key))[xe.match.route.id];return{[xe.key]:lt}}else return Promise.resolve({[xe.key]:{type:Et.error,error:hr(404,{pathname:xe.path})}})})),Ee=await Me,ye=(await oe).reduce((xe,rt)=>Object.assign(xe,rt),{});return await Promise.all([eH(F,Ee,de.signal,Ce,L.loaderData),tH(F,ye,G)]),{loaderResults:Ee,fetcherResults:ye}}function wr(){ne=!0,Y.push(...lr()),We.forEach((L,F)=>{B.has(F)&&(z.add(F),gn(F))})}function Rn(L,F,K){K===void 0&&(K={}),E.fetchers.set(L,F),qe({fetchers:new Map(E.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function Ft(L,F,K,G){G===void 0&&(G={});let de=dc(E.matches,F);Jr(L),qe({errors:{[de.route.id]:K},fetchers:new Map(E.fetchers)},{flushSync:(G&&G.flushSync)===!0})}function Or(L){return h.v7_fetcherPersist&&(at.set(L,(at.get(L)||0)+1),Ne.has(L)&&Ne.delete(L)),E.fetchers.get(L)||OW}function Jr(L){let F=E.fetchers.get(L);B.has(L)&&!(F&&F.state==="loading"&&he.has(L))&&gn(L),We.delete(L),he.delete(L),Te.delete(L),Ne.delete(L),z.delete(L),E.fetchers.delete(L)}function io(L){if(h.v7_fetcherPersist){let F=(at.get(L)||0)-1;F<=0?(at.delete(L),Ne.add(L)):at.set(L,F)}else Jr(L);qe({fetchers:new Map(E.fetchers)})}function gn(L){let F=B.get(L);Je(F,"Expected fetch controller: "+L),F.abort(),B.delete(L)}function Na(L){for(let F of L){let K=Or(F),G=go(K.data);E.fetchers.set(F,G)}}function Fl(){let L=[],F=!1;for(let K of Te){let G=E.fetchers.get(K);Je(G,"Expected fetcher: "+K),G.state==="loading"&&(Te.delete(K),L.push(K),F=!0)}return Na(L),F}function gi(L){let F=[];for(let[K,G]of he)if(G<L){let de=E.fetchers.get(K);Je(de,"Expected fetcher: "+K),de.state==="loading"&&(gn(K),he.delete(K),F.push(K))}return Na(F),F.length>0}function Ul(L,F){let K=E.blockers.get(L)||ad;return Pe.get(L)!==F&&Pe.set(L,F),K}function Da(L){E.blockers.delete(L),Pe.delete(L)}function Zr(L,F){let K=E.blockers.get(L)||ad;Je(K.state==="unblocked"&&F.state==="blocked"||K.state==="blocked"&&F.state==="blocked"||K.state==="blocked"&&F.state==="proceeding"||K.state==="blocked"&&F.state==="unblocked"||K.state==="proceeding"&&F.state==="unblocked","Invalid blocker state transition: "+K.state+" -> "+F.state);let G=new Map(E.blockers);G.set(L,F),qe({blockers:G})}function $t(L){let{currentLocation:F,nextLocation:K,historyAction:G}=L;if(Pe.size===0)return;Pe.size>1&&nu(!1,"A router only supports one blocker at a time");let de=Array.from(Pe.entries()),[Ce,Me]=de[de.length-1],oe=E.blockers.get(Ce);if(!(oe&&oe.state==="proceeding")&&Me({currentLocation:F,nextLocation:K,historyAction:G}))return Ce}function rn(L){let F=hr(404,{pathname:L}),K=a||o,{matches:G,route:de}=JA(K);return lr(),{notFoundMatches:G,route:de,error:F}}function At(L,F){return{boundaryId:dc(F.partialMatches).route.id,error:hr(400,{type:"route-discovery",pathname:L,message:F.error!=null&&"message"in F.error?F.error:String(F.error)})}}function lr(L){let F=[];return ce.forEach((K,G)=>{(!L||L(G))&&(K.cancel(),F.push(G),ce.delete(G))}),F}function vn(L,F,K){if(_=L,y=F,x=K||null,!b&&E.navigation===Rw){b=!0;let G=es(E.location,E.matches);G!=null&&qe({restoreScrollPosition:G})}return()=>{_=null,y=null,x=null}}function yn(L,F){return x&&x(L,F.map(G=>hW(G,E.loaderData)))||L.key}function In(L,F){if(_&&y){let K=yn(L,F);_[K]=y()}}function es(L,F){if(_){let K=yn(L,F),G=_[K];if(typeof G=="number")return G}return null}function dt(L,F,K){if(u){if(v.has(K))return{active:!1,matches:L};if(L){if(Object.keys(L[0].params).length>0)return{active:!0,matches:Em(F,K,l,!0)}}else return{active:!0,matches:Em(F,K,l,!0)||[]}}return{active:!1,matches:null}}async function jr(L,F,K){let G=L;for(;;){let de=a==null,Ce=a||o;try{await BW(u,F,G,Ce,i,s,He,K)}catch(Ee){return{type:"error",error:Ee,partialMatches:G}}finally{de&&(o=[...o])}if(K.aborted)return{type:"aborted"};let Me=Ka(Ce,F,l);if(Me)return xr(F,v),{type:"success",matches:Me};let oe=Em(Ce,F,l,!0);if(!oe||G.length===oe.length&&G.every((Ee,ye)=>Ee.route.id===oe[ye].route.id))return xr(F,v),{type:"success",matches:null};G=oe}}function xr(L,F){if(F.size>=w){let K=F.values().next().value;F.delete(K)}F.add(L)}function ts(L){i={},a=Ah(L,s,void 0,i)}function oo(L,F){let K=a==null;iM(L,F,a||o,i,s),K&&(o=[...o],qe({}))}return T={get basename(){return l},get future(){return h},get state(){return E},get routes(){return o},get window(){return e},initialize:$e,subscribe:yt,enableScrollRestoration:vn,navigate:mn,fetch:ee,revalidate:Mr,createHref:L=>t.history.createHref(L),encodeLocation:L=>t.history.encodeLocation(L),getFetcher:Or,deleteFetcher:io,dispose:Oe,getBlocker:Ul,deleteBlocker:Da,patchRoutes:oo,_internalFetchControllers:B,_internalActiveDeferreds:ce,_internalSetRoutes:ts},T}function VW(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function _x(t,e,n,r,s,i,o,a){let l,c;if(o){l=[];for(let h of e)if(l.push(h),h.route.id===o){c=h;break}}else l=e,c=e[e.length-1];let u=Nv(s||".",Pv(l,i),_u(t.pathname,n)||t.pathname,a==="path");return s==null&&(u.search=t.search,u.hash=t.hash),(s==null||s===""||s===".")&&c&&c.route.index&&!XE(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:Oi([n,u.pathname])),wl(u)}function KA(t,e,n,r){if(!r||!VW(r))return{path:n};if(r.formMethod&&!ZW(r.formMethod))return{path:n,error:hr(405,{method:r.formMethod})};let s=()=>({path:n,error:hr(400,{type:"invalid-body"})}),i=r.formMethod||"get",o=t?i.toUpperCase():i.toLowerCase(),a=oM(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Rs(o))return s();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((g,w)=>{let[v,_]=w;return""+g+v+"="+_+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!Rs(o))return s();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return s()}}}Je(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=Ex(r.formData),c=r.formData;else if(r.body instanceof FormData)l=Ex(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=GA(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=GA(l)}catch{return s()}let u={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Rs(u.formMethod))return{path:n,submission:u};let h=_a(n);return e&&h.search&&XE(h.search)&&l.append("index",""),h.search="?"+l,{path:wl(h),submission:u}}function FW(t,e){let n=t;if(e){let r=t.findIndex(s=>s.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function WA(t,e,n,r,s,i,o,a,l,c,u,h,p,g,w,v){let _=v?Br(v[1])?v[1].error:v[1].data:void 0,x=t.createURL(e.location),y=t.createURL(s),b=v&&Br(v[1])?v[0]:void 0,C=b?FW(n,b):n,P=v?v[1].statusCode:void 0,O=o&&P&&P>=400,T=C.filter((I,R)=>{let{route:k}=I;if(k.lazy)return!0;if(k.loader==null)return!1;if(i)return typeof k.loader!="function"||k.loader.hydrate?!0:e.loaderData[k.id]===void 0&&(!e.errors||e.errors[k.id]===void 0);if(UW(e.loaderData,e.matches[R],I)||l.some(W=>W===I.route.id))return!0;let M=e.matches[R],N=I;return HA(I,zt({currentUrl:x,currentParams:M.params,nextUrl:y,nextParams:N.params},r,{actionResult:_,actionStatus:P,defaultShouldRevalidate:O?!1:a||x.pathname+x.search===y.pathname+y.search||x.search!==y.search||sM(M,N)}))}),E=[];return h.forEach((I,R)=>{if(i||!n.some(se=>se.route.id===I.routeId)||u.has(R))return;let k=Ka(g,I.path,w);if(!k){E.push({key:R,routeId:I.routeId,path:I.path,matches:null,match:null,controller:null});return}let M=e.fetchers.get(R),N=Ed(k,I.path),W=!1;p.has(R)?W=!1:c.has(R)?(c.delete(R),W=!0):M&&M.state!=="idle"&&M.data===void 0?W=a:W=HA(N,zt({currentUrl:x,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:_,actionStatus:P,defaultShouldRevalidate:O?!1:a})),W&&E.push({key:R,routeId:I.routeId,path:I.path,matches:k,match:N,controller:new AbortController})}),[T,E]}function UW(t,e,n){let r=!e||n.route.id!==e.route.id,s=t[n.route.id]===void 0;return r||s}function sM(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function HA(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function BW(t,e,n,r,s,i,o,a){let l=[e,...n.map(c=>c.route.id)].join("-");try{let c=o.get(l);c||(c=t({path:e,matches:n,patch:(u,h)=>{a.aborted||iM(u,h,r,s,i)}}),o.set(l,c)),c&&YW(c)&&await c}finally{o.delete(l)}}function iM(t,e,n,r,s){if(t){var i;let o=r[t];Je(o,"No route found to patch children into: routeId = "+t);let a=Ah(e,s,[t,"patch",String(((i=o.children)==null?void 0:i.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=Ah(e,s,["patch",String(n.length||"0")],r);n.push(...o)}}async function $W(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let s=n[t.id];Je(s,"No route found in manifest");let i={};for(let o in r){let l=s[o]!==void 0&&o!=="hasErrorBoundary";nu(!l,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!uW.has(o)&&(i[o]=r[o])}Object.assign(s,i),Object.assign(s,zt({},e(s),{lazy:void 0}))}async function zW(t){let{matches:e}=t,n=e.filter(s=>s.shouldLoad);return(await Promise.all(n.map(s=>s.resolve()))).reduce((s,i,o)=>Object.assign(s,{[n[o].route.id]:i}),{})}async function KW(t,e,n,r,s,i,o,a,l,c){let u=i.map(g=>g.route.lazy?$W(g.route,l,a):void 0),h=i.map((g,w)=>{let v=u[w],_=s.some(y=>y.route.id===g.route.id);return zt({},g,{shouldLoad:_,resolve:async y=>(y&&r.method==="GET"&&(g.route.lazy||g.route.loader)&&(_=!0),_?WW(e,r,g,v,y,c):Promise.resolve({type:Et.data,result:void 0}))})}),p=await t({matches:h,request:r,params:i[0].params,fetcherKey:o,context:c});try{await Promise.all(u)}catch{}return p}async function WW(t,e,n,r,s,i){let o,a,l=c=>{let u,h=new Promise((w,v)=>u=v);a=()=>u(),e.signal.addEventListener("abort",a);let p=w=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:i},...w!==void 0?[w]:[]),g=(async()=>{try{return{type:"data",result:await(s?s(v=>p(v)):p())}}catch(w){return{type:"error",result:w}}})();return Promise.race([g,h])};try{let c=n.route[t];if(r)if(c){let u,[h]=await Promise.all([l(c).catch(p=>{u=p}),r]);if(u!==void 0)throw u;o=h}else if(await r,c=n.route[t],c)o=await l(c);else if(t==="action"){let u=new URL(e.url),h=u.pathname+u.search;throw hr(405,{method:e.method,pathname:h,routeId:n.route.id})}else return{type:Et.data,result:void 0};else if(c)o=await l(c);else{let u=new URL(e.url),h=u.pathname+u.search;throw hr(404,{pathname:h})}Je(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Et.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function HW(t){let{result:e,type:n}=t;if(aM(e)){let c;try{let u=e.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(u){return{type:Et.error,error:u}}return n===Et.error?{type:Et.error,error:new wg(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:Et.data,data:c,statusCode:e.status,headers:e.headers}}if(n===Et.error){if(ZA(e)){var r;if(e.data instanceof Error){var s;return{type:Et.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status}}e=new wg(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Et.error,error:e,statusCode:Ef(e)?e.status:void 0}}if(JW(e)){var i,o;return{type:Et.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(ZA(e)){var a,l;return{type:Et.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Et.data,data:e}}function qW(t,e,n,r,s,i){let o=t.headers.get("Location");if(Je(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!QE.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=_x(new URL(e.url),a,s,!0,o,i),t.headers.set("Location",o)}return t}function qA(t,e,n){if(QE.test(t)){let r=t,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),i=_u(s.pathname,n)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return t}function Wl(t,e,n,r){let s=t.createURL(oM(e)).toString(),i={signal:n};if(r&&Rs(r.formMethod)){let{formMethod:o,formEncType:a}=r;i.method=o.toUpperCase(),a==="application/json"?(i.headers=new Headers({"Content-Type":a}),i.body=JSON.stringify(r.json)):a==="text/plain"?i.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?i.body=Ex(r.formData):i.body=r.formData}return new Request(s,i)}function Ex(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function GA(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function GW(t,e,n,r,s){let i={},o=null,a,l=!1,c={},u=n&&Br(n[1])?n[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let p=h.route.id,g=e[p];if(Je(!Ga(g),"Cannot handle redirect results in processLoaderData"),Br(g)){let w=g.error;u!==void 0&&(w=u,u=void 0),o=o||{};{let v=dc(t,p);o[v.route.id]==null&&(o[v.route.id]=w)}i[p]=void 0,l||(l=!0,a=Ef(g.error)?g.error.status:500),g.headers&&(c[p]=g.headers)}else $o(g)?(r.set(p,g.deferredData),i[p]=g.deferredData.data,g.statusCode!=null&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(c[p]=g.headers)):(i[p]=g.data,g.statusCode&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(c[p]=g.headers))}),u!==void 0&&n&&(o={[n[0]]:u},i[n[0]]=void 0),{loaderData:i,errors:o,statusCode:a||200,loaderHeaders:c}}function QA(t,e,n,r,s,i,o,a){let{loaderData:l,errors:c}=GW(e,r,s,a);return i.forEach(u=>{let{key:h,match:p,controller:g}=u,w=o[h];if(Je(w,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(Br(w)){let v=dc(t.matches,p==null?void 0:p.route.id);c&&c[v.route.id]||(c=zt({},c,{[v.route.id]:w.error})),t.fetchers.delete(h)}else if(Ga(w))Je(!1,"Unhandled fetcher revalidation redirect");else if($o(w))Je(!1,"Unhandled fetcher deferred data");else{let v=go(w.data);t.fetchers.set(h,v)}}),{loaderData:l,errors:c}}function YA(t,e,n,r){let s=zt({},e);for(let i of n){let o=i.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(s[o]=e[o]):t[o]!==void 0&&i.route.loader&&(s[o]=t[o]),r&&r.hasOwnProperty(o))break}return s}function XA(t){return t?Br(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function dc(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function JA(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function hr(t,e){let{pathname:n,routeId:r,method:s,type:i,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):s&&n&&r?l="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",s&&n&&r?l="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(l='Invalid request method "'+s.toUpperCase()+'"')),new wg(t||500,a,new Error(l),!0)}function Op(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,s]=e[n];if(Ga(s))return{key:r,result:s}}}function oM(t){let e=typeof t=="string"?_a(t):t;return wl(zt({},e,{hash:""}))}function QW(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function YW(t){return typeof t=="object"&&t!=null&&"then"in t}function XW(t){return aM(t.result)&&kW.has(t.result.status)}function $o(t){return t.type===Et.deferred}function Br(t){return t.type===Et.error}function Ga(t){return(t&&t.type)===Et.redirect}function ZA(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function JW(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function aM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function ZW(t){return DW.has(t.toLowerCase())}function Rs(t){return PW.has(t.toLowerCase())}async function eH(t,e,n,r,s){let i=Object.entries(e);for(let o=0;o<i.length;o++){let[a,l]=i[o],c=t.find(p=>(p==null?void 0:p.route.id)===a);if(!c)continue;let u=r.find(p=>p.route.id===c.route.id),h=u!=null&&!sM(u,c)&&(s&&s[c.route.id])!==void 0;$o(l)&&h&&await YE(l,n,!1).then(p=>{p&&(e[a]=p)})}}async function tH(t,e,n){for(let r=0;r<n.length;r++){let{key:s,routeId:i,controller:o}=n[r],a=e[s];t.find(c=>(c==null?void 0:c.route.id)===i)&&$o(a)&&(Je(o,"Expected an AbortController for revalidating fetcher deferred result"),await YE(a,o.signal,!0).then(c=>{c&&(e[s]=c)}))}}async function YE(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Et.data,data:t.deferredData.unwrappedData}}catch(s){return{type:Et.error,error:s}}return{type:Et.data,data:t.deferredData.data}}}function XE(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Ed(t,e){let n=typeof e=="string"?_a(e).search:e.search;if(t[t.length-1].route.index&&XE(n||""))return t[t.length-1];let r=tM(t);return r[r.length-1]}function eR(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:i,json:o}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Iw(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function nH(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ld(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function rH(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function go(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function sH(t,e){try{let n=t.sessionStorage.getItem(rM);if(n){let r=JSON.parse(n);for(let[s,i]of Object.entries(r||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function iH(t,e){if(e.size>0){let n={};for(let[r,s]of e)n[r]=[...s];try{t.sessionStorage.setItem(rM,JSON.stringify(n))}catch(r){nu(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xg(){return xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xg.apply(this,arguments)}const Dv=m.createContext(null),lM=m.createContext(null),Ea=m.createContext(null),JE=m.createContext(null),ba=m.createContext({outlet:null,matches:[],isDataRoute:!1}),cM=m.createContext(null);function oH(t,e){let{relative:n}=e===void 0?{}:e;Eu()||Je(!1);let{basename:r,navigator:s}=m.useContext(Ea),{hash:i,pathname:o,search:a}=dM(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Oi([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Eu(){return m.useContext(JE)!=null}function bf(){return Eu()||Je(!1),m.useContext(JE).location}function uM(t){m.useContext(Ea).static||m.useLayoutEffect(t)}function Sf(){let{isDataRoute:t}=m.useContext(ba);return t?vH():aH()}function aH(){Eu()||Je(!1);let t=m.useContext(Dv),{basename:e,future:n,navigator:r}=m.useContext(Ea),{matches:s}=m.useContext(ba),{pathname:i}=bf(),o=JSON.stringify(Pv(s,n.v7_relativeSplatPath)),a=m.useRef(!1);return uM(()=>{a.current=!0}),m.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=Nv(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Oi([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,i,t])}function dM(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext(Ea),{matches:s}=m.useContext(ba),{pathname:i}=bf(),o=JSON.stringify(Pv(s,r.v7_relativeSplatPath));return m.useMemo(()=>Nv(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function lH(t,e,n,r){Eu()||Je(!1);let{navigator:s}=m.useContext(Ea),{matches:i}=m.useContext(ba),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=bf(),u;u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=Ka(t,{pathname:p});return fH(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:Oi([l,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Oi([l,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n,r)}function cH(){let t=pM(),e=Ef(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:s},n):null,null)}const uH=m.createElement(cH,null);class dH extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(ba.Provider,{value:this.props.routeContext},m.createElement(cM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hH(t){let{routeContext:e,match:n,children:r}=t,s=m.useContext(Dv);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(ba.Provider,{value:e},r)}function fH(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||Je(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:p,errors:g}=n,w=h.route.loader&&p[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,p)=>{let g,w=!1,v=null,_=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||uH,l&&(c<0&&p===0?(yH("route-fallback"),w=!0,_=null):c===p&&(w=!0,_=h.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,p+1)),y=()=>{let b;return g?b=v:w?b=_:h.route.Component?b=m.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=u,m.createElement(hH,{match:h,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?m.createElement(dH,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var hM=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(hM||{}),_g=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(_g||{});function pH(t){let e=m.useContext(Dv);return e||Je(!1),e}function mH(t){let e=m.useContext(lM);return e||Je(!1),e}function gH(t){let e=m.useContext(ba);return e||Je(!1),e}function fM(t){let e=gH(),n=e.matches[e.matches.length-1];return n.route.id||Je(!1),n.route.id}function pM(){var t;let e=m.useContext(cM),n=mH(_g.UseRouteError),r=fM(_g.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function vH(){let{router:t}=pH(hM.UseNavigateStable),e=fM(_g.UseNavigateStable),n=m.useRef(!1);return uM(()=>{n.current=!0}),m.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,xg({fromRouteId:e},i)))},[t,e])}const tR={};function yH(t,e,n){tR[t]||(tR[t]=!0)}function mM(t){let{to:e,replace:n,state:r,relative:s}=t;Eu()||Je(!1);let{future:i,static:o}=m.useContext(Ea),{matches:a}=m.useContext(ba),{pathname:l}=bf(),c=Sf(),u=Nv(e,Pv(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(u);return m.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function wH(t){let{basename:e="/",children:n=null,location:r,navigationType:s=hn.Pop,navigator:i,static:o=!1,future:a}=t;Eu()&&Je(!1);let l=e.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:l,navigator:i,static:o,future:xg({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=_a(r));let{pathname:u="/",search:h="",hash:p="",state:g=null,key:w="default"}=r,v=m.useMemo(()=>{let _=_u(u,l);return _==null?null:{location:{pathname:_,search:h,hash:p,state:g,key:w},navigationType:s}},[l,u,h,p,g,w,s]);return v==null?null:m.createElement(Ea.Provider,{value:c},m.createElement(JE.Provider,{children:n,value:v}))}new Promise(()=>{});function xH(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:m.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:m.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:m.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rh(){return Rh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rh.apply(this,arguments)}function _H(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function EH(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bH(t,e){return t.button===0&&(!e||e==="_self")&&!EH(t)}const SH=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],TH="6";try{window.__reactRouterVersion=TH}catch{}function CH(t,e){return LW({basename:e==null?void 0:e.basename,future:Rh({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:aW({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||AH(),routes:t,mapRouteProperties:xH,unstable_dataStrategy:e==null?void 0:e.unstable_dataStrategy,unstable_patchRoutesOnNavigation:e==null?void 0:e.unstable_patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function AH(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Rh({},e,{errors:RH(e.errors)})),e}function RH(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new wg(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let i=new Error(s.message);i.stack="",n[r]=i}}else n[r]=s;return n}const IH=m.createContext({isTransitioning:!1}),PH=m.createContext(new Map),NH="startTransition",nR=JP[NH],DH="flushSync",rR=t3[DH];function kH(t){nR?nR(t):t()}function cd(t){rR?rR(t):t()}class MH{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function OH(t){let{fallbackElement:e,router:n,future:r}=t,[s,i]=m.useState(n.state),[o,a]=m.useState(),[l,c]=m.useState({isTransitioning:!1}),[u,h]=m.useState(),[p,g]=m.useState(),[w,v]=m.useState(),_=m.useRef(new Map),{v7_startTransition:x}=r||{},y=m.useCallback(E=>{x?kH(E):E()},[x]),b=m.useCallback((E,I)=>{let{deletedFetchers:R,unstable_flushSync:k,unstable_viewTransitionOpts:M}=I;R.forEach(W=>_.current.delete(W)),E.fetchers.forEach((W,se)=>{W.data!==void 0&&_.current.set(se,W.data)});let N=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!M||N){k?cd(()=>i(E)):y(()=>i(E));return}if(k){cd(()=>{p&&(u&&u.resolve(),p.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:M.currentLocation,nextLocation:M.nextLocation})});let W=n.window.document.startViewTransition(()=>{cd(()=>i(E))});W.finished.finally(()=>{cd(()=>{h(void 0),g(void 0),a(void 0),c({isTransitioning:!1})})}),cd(()=>g(W));return}p?(u&&u.resolve(),p.skipTransition(),v({state:E,currentLocation:M.currentLocation,nextLocation:M.nextLocation})):(a(E),c({isTransitioning:!0,flushSync:!1,currentLocation:M.currentLocation,nextLocation:M.nextLocation}))},[n.window,p,u,_,y]);m.useLayoutEffect(()=>n.subscribe(b),[n,b]),m.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new MH)},[l]),m.useEffect(()=>{if(u&&o&&n.window){let E=o,I=u.promise,R=n.window.document.startViewTransition(async()=>{y(()=>i(E)),await I});R.finished.finally(()=>{h(void 0),g(void 0),a(void 0),c({isTransitioning:!1})}),g(R)}},[y,o,u,n.window]),m.useEffect(()=>{u&&o&&s.location.key===o.location.key&&u.resolve()},[u,p,s.location,o]),m.useEffect(()=>{!l.isTransitioning&&w&&(a(w.state),c({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),v(void 0))},[l.isTransitioning,w]),m.useEffect(()=>{},[]);let C=m.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:E=>n.navigate(E),push:(E,I,R)=>n.navigate(E,{state:I,preventScrollReset:R==null?void 0:R.preventScrollReset}),replace:(E,I,R)=>n.navigate(E,{replace:!0,state:I,preventScrollReset:R==null?void 0:R.preventScrollReset})}),[n]),P=n.basename||"/",O=m.useMemo(()=>({router:n,navigator:C,static:!1,basename:P}),[n,C,P]),T=m.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return m.createElement(m.Fragment,null,m.createElement(Dv.Provider,{value:O},m.createElement(lM.Provider,{value:s},m.createElement(PH.Provider,{value:_.current},m.createElement(IH.Provider,{value:l},m.createElement(wH,{basename:P,location:s.location,navigationType:s.historyAction,navigator:C,future:T},s.initialized||n.future.v7_partialHydration?m.createElement(jH,{routes:n.routes,future:n.future,state:s}):e))))),null)}const jH=m.memo(LH);function LH(t){let{routes:e,future:n,state:r}=t;return lH(e,void 0,r,n)}const VH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,UH=m.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:h}=e,p=_H(e,SH),{basename:g}=m.useContext(Ea),w,v=!1;if(typeof c=="string"&&FH.test(c)&&(w=c,VH))try{let b=new URL(window.location.href),C=c.startsWith("//")?new URL(b.protocol+c):new URL(c),P=_u(C.pathname,g);C.origin===b.origin&&P!=null?c=P+C.search+C.hash:v=!0}catch{}let _=oH(c,{relative:s}),x=BH(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,unstable_viewTransition:h});function y(b){r&&r(b),b.defaultPrevented||x(b)}return m.createElement("a",Rh({},p,{href:w||_,onClick:v||i?r:y,ref:n,target:l}))});var sR;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(sR||(sR={}));var iR;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(iR||(iR={}));function BH(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Sf(),c=bf(),u=dM(t,{relative:o});return m.useCallback(h=>{if(bH(h,n)){h.preventDefault();let p=r!==void 0?r:wl(c)===wl(u);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[c,l,u,r,s,n,t,i,o,a])}const $H=()=>{const t=ut(n=>n.isAuth),e=Sf();m.useEffect(()=>{(async()=>{try{const r=IK();await f9(r),pt("Sign in success")}catch{}})()},[]),m.useEffect(()=>{if(!t)return e("/login")},[t])};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gM=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>m.createElement("svg",{ref:l,...KH,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:gM("lucide",s),...a},[...o.map(([c,u])=>m.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=(t,e)=>{const n=m.forwardRef(({className:r,...s},i)=>m.createElement(WH,{ref:i,iconNode:e,className:gM(`lucide-${zH(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=Ge("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=Ge("Blocks",[["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["path",{d:"M10 21V8a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H3",key:"1fpvtg"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=Ge("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=Ge("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=Ge("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=Ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=Ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=Ge("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=Ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=Ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=Ge("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=Ge("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=Ge("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=Ge("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=Ge("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=Ge("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=Ge("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=Ge("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=Ge("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=Ge("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=Ge("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=Ge("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=Ge("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=Ge("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i8=Ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=Ge("MessageSquareCode",[["path",{d:"M10 7.5 8 10l2 2.5",key:"xb17xw"}],["path",{d:"m14 7.5 2 2.5-2 2.5",key:"5rap1v"}],["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=Ge("MessageSquareMore",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M16 10h.01",key:"1m94wz"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=Ge("MessageSquareText",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M13 8H7",key:"14i4kc"}],["path",{d:"M17 12H7",key:"16if0g"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=Ge("PanelRight",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=Ge("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=Ge("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=Ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=Ge("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=Ge("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d8=Ge("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=Ge("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=Ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=Ge("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=Ge("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=Ge("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=Ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=Ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=Ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Z(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function m8(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Ov(...t){return e=>t.forEach(n=>m8(n,e))}function ke(...t){return m.useCallback(Ov(...t),t)}function g8(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=h=>{var x;const{scope:p,children:g,...w}=h,v=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,_=m.useMemo(()=>w,Object.values(w));return d.jsx(v.Provider,{value:_,children:g})};c.displayName=i+"Provider";function u(h,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,v8(s,...e)]}function v8(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function mt(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function aa({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=y8({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=mt(n),l=m.useCallback(c=>{if(i){const h=typeof c=="function"?c(t):c;h!==t&&a(h)}else s(c)},[i,t,s,a]);return[o,l]}function y8({defaultProp:t,onChange:e}){const n=m.useState(t),[r]=n,s=m.useRef(r),i=mt(e);return m.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var la=m.forwardRef((t,e)=>{const{children:n,...r}=t,s=m.Children.toArray(n),i=s.find(w8);if(i){const o=i.props.children,a=s.map(l=>l===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:l);return d.jsx(bx,{...r,ref:e,children:m.isValidElement(o)?m.cloneElement(o,void 0,a):null})}return d.jsx(bx,{...r,ref:e,children:n})});la.displayName="Slot";var bx=m.forwardRef((t,e)=>{const{children:n,...r}=t;if(m.isValidElement(n)){const s=_8(n);return m.cloneElement(n,{...x8(r,n.props),ref:e?Ov(e,s):s})}return m.Children.count(n)>1?m.Children.only(null):null});bx.displayName="SlotClone";var nb=({children:t})=>d.jsx(d.Fragment,{children:t});function w8(t){return m.isValidElement(t)&&t.type===nb}function x8(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function _8(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var E8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ve=E8.reduce((t,e)=>{const n=m.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?la:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Nl(t,e){t&&Ar.flushSync(()=>t.dispatchEvent(e))}function Dl(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:p,children:g,...w}=h,v=(p==null?void 0:p[t][l])||a,_=m.useMemo(()=>w,Object.values(w));return d.jsx(v.Provider,{value:_,children:g})}function u(h,p){const g=(p==null?void 0:p[t][l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,b8(s,...e)]}function b8(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function jv(t){const e=t+"CollectionProvider",[n,r]=Dl(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:w,children:v}=g,_=Re.useRef(null),x=Re.useRef(new Map).current;return d.jsx(s,{scope:w,itemMap:x,collectionRef:_,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=Re.forwardRef((g,w)=>{const{scope:v,children:_}=g,x=i(a,v),y=ke(w,x.collectionRef);return d.jsx(la,{ref:y,children:_})});l.displayName=a;const c=t+"CollectionItemSlot",u="data-radix-collection-item",h=Re.forwardRef((g,w)=>{const{scope:v,children:_,...x}=g,y=Re.useRef(null),b=ke(w,y),C=i(c,v);return Re.useEffect(()=>(C.itemMap.set(y,{ref:y,...x}),()=>void C.itemMap.delete(y))),d.jsx(la,{[u]:"",ref:b,children:_})});h.displayName=c;function p(g){const w=i(t+"CollectionConsumer",g);return Re.useCallback(()=>{const _=w.collectionRef.current;if(!_)return[];const x=Array.from(_.querySelectorAll(`[${u}]`));return Array.from(w.itemMap.values()).sort((C,P)=>x.indexOf(C.ref.current)-x.indexOf(P.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},p,r]}function S8(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=h=>{var x;const{scope:p,children:g,...w}=h,v=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,_=m.useMemo(()=>w,Object.values(w));return d.jsx(v.Provider,{value:_,children:g})};c.displayName=i+"Provider";function u(h,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,T8(s,...e)]}function T8(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var C8=m.createContext(void 0);function Cf(t){const e=m.useContext(C8);return t||e||"ltr"}function Af(t,e=globalThis==null?void 0:globalThis.document){const n=mt(t);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var A8="DismissableLayer",Sx="dismissableLayer.update",R8="dismissableLayer.pointerDownOutside",I8="dismissableLayer.focusOutside",aR,RM=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),IM=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(RM),[u,h]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=ke(e,T=>h(T)),v=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(_),y=u?v.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,C=y>=x,P=D8(T=>{const E=T.target,I=[...c.branches].some(R=>R.contains(E));!C||I||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},p),O=k8(T=>{const E=T.target;[...c.branches].some(R=>R.contains(E))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},p);return Af(T=>{y===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(aR=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),lR(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=aR)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),lR())},[u,c]),m.useEffect(()=>{const T=()=>g({});return document.addEventListener(Sx,T),()=>document.removeEventListener(Sx,T)},[]),d.jsx(ve.div,{...l,ref:w,style:{pointerEvents:b?C?"auto":"none":void 0,...t.style},onFocusCapture:Z(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Z(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Z(t.onPointerDownCapture,P.onPointerDownCapture)})});IM.displayName=A8;var P8="DismissableLayerBranch",N8=m.forwardRef((t,e)=>{const n=m.useContext(RM),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(ve.div,{...t,ref:s})});N8.displayName=P8;function D8(t,e=globalThis==null?void 0:globalThis.document){const n=mt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){PM(R8,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function k8(t,e=globalThis==null?void 0:globalThis.document){const n=mt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&PM(I8,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function lR(){const t=new CustomEvent(Sx);document.dispatchEvent(t)}function PM(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Nl(s,i):s.dispatchEvent(i)}var Pw=0;function rb(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??cR()),document.body.insertAdjacentElement("beforeend",t[1]??cR()),Pw++,()=>{Pw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Pw--}},[])}function cR(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Nw="focusScope.autoFocusOnMount",Dw="focusScope.autoFocusOnUnmount",uR={bubbles:!1,cancelable:!0},M8="FocusScope",Lv=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=m.useState(null),c=mt(s),u=mt(i),h=m.useRef(null),p=ke(e,v=>l(v)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let v=function(b){if(g.paused||!a)return;const C=b.target;a.contains(C)?h.current=C:vo(h.current,{select:!0})},_=function(b){if(g.paused||!a)return;const C=b.relatedTarget;C!==null&&(a.contains(C)||vo(h.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const P of b)P.removedNodes.length>0&&vo(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",_);const y=new MutationObserver(x);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",_),y.disconnect()}}},[r,a,g.paused]),m.useEffect(()=>{if(a){hR.add(g);const v=document.activeElement;if(!a.contains(v)){const x=new CustomEvent(Nw,uR);a.addEventListener(Nw,c),a.dispatchEvent(x),x.defaultPrevented||(O8(U8(NM(a)),{select:!0}),document.activeElement===v&&vo(a))}return()=>{a.removeEventListener(Nw,c),setTimeout(()=>{const x=new CustomEvent(Dw,uR);a.addEventListener(Dw,u),a.dispatchEvent(x),x.defaultPrevented||vo(v??document.body,{select:!0}),a.removeEventListener(Dw,u),hR.remove(g)},0)}}},[a,c,u,g]);const w=m.useCallback(v=>{if(!n&&!r||g.paused)return;const _=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(_&&x){const y=v.currentTarget,[b,C]=j8(y);b&&C?!v.shiftKey&&x===C?(v.preventDefault(),n&&vo(b,{select:!0})):v.shiftKey&&x===b&&(v.preventDefault(),n&&vo(C,{select:!0})):x===y&&v.preventDefault()}},[n,r,g.paused]);return d.jsx(ve.div,{tabIndex:-1,...o,ref:p,onKeyDown:w})});Lv.displayName=M8;function O8(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(vo(r,{select:e}),document.activeElement!==n)return}function j8(t){const e=NM(t),n=dR(e,t),r=dR(e.reverse(),t);return[n,r]}function NM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function dR(t,e){for(const n of t)if(!L8(n,{upTo:e}))return n}function L8(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function V8(t){return t instanceof HTMLInputElement&&"select"in t}function vo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&V8(t)&&e&&t.select()}}var hR=F8();function F8(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=fR(t,e),t.unshift(e)},remove(e){var n;t=fR(t,e),(n=t[0])==null||n.resume()}}}function fR(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function U8(t){return t.filter(e=>e.tagName!=="A")}var Pt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},B8=JP.useId||(()=>{}),$8=0;function js(t){const[e,n]=m.useState(B8());return Pt(()=>{t||n(r=>r??String($8++))},[t]),t||(e?`radix-${e}`:"")}const z8=["top","right","bottom","left"],ca=Math.min,$r=Math.max,Eg=Math.round,jp=Math.floor,ua=t=>({x:t,y:t}),K8={left:"right",right:"left",bottom:"top",top:"bottom"},W8={start:"end",end:"start"};function Tx(t,e,n){return $r(t,ca(e,n))}function Xi(t,e){return typeof t=="function"?t(e):t}function Ji(t){return t.split("-")[0]}function Tu(t){return t.split("-")[1]}function sb(t){return t==="x"?"y":"x"}function ib(t){return t==="y"?"height":"width"}function da(t){return["top","bottom"].includes(Ji(t))?"y":"x"}function ob(t){return sb(da(t))}function H8(t,e,n){n===void 0&&(n=!1);const r=Tu(t),s=ob(t),i=ib(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=bg(o)),[o,bg(o)]}function q8(t){const e=bg(t);return[Cx(t),e,Cx(e)]}function Cx(t){return t.replace(/start|end/g,e=>W8[e])}function G8(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function Q8(t,e,n,r){const s=Tu(t);let i=G8(Ji(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Cx)))),i}function bg(t){return t.replace(/left|right|bottom|top/g,e=>K8[e])}function Y8(t){return{top:0,right:0,bottom:0,left:0,...t}}function DM(t){return typeof t!="number"?Y8(t):{top:t,right:t,bottom:t,left:t}}function Sg(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function pR(t,e,n){let{reference:r,floating:s}=t;const i=da(e),o=ob(e),a=ib(o),l=Ji(e),c=i==="y",u=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:u,y:r.y-s.height};break;case"bottom":g={x:u,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-s.width,y:h};break;default:g={x:r.x,y:r.y}}switch(Tu(e)){case"start":g[o]-=p*(n&&c?-1:1);break;case"end":g[o]+=p*(n&&c?-1:1);break}return g}const X8=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:h}=pR(c,r,l),p=r,g={},w=0;for(let v=0;v<a.length;v++){const{name:_,fn:x}=a[v],{x:y,y:b,data:C,reset:P}=await x({x:u,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});u=y??u,h=b??h,g={...g,[_]:{...g[_],...C}},P&&w<=50&&(w++,typeof P=="object"&&(P.placement&&(p=P.placement),P.rects&&(c=P.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):P.rects),{x:u,y:h}=pR(c,p,l)),v=-1)}return{x:u,y:h,placement:p,strategy:s,middlewareData:g}};async function Ih(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:p=!1,padding:g=0}=Xi(e,t),w=DM(g),_=a[p?h==="floating"?"reference":"floating":h],x=Sg(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),C=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},P=Sg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:b,strategy:l}):y);return{top:(x.top-P.top+w.top)/C.y,bottom:(P.bottom-x.bottom+w.bottom)/C.y,left:(x.left-P.left+w.left)/C.x,right:(P.right-x.right+w.right)/C.x}}const J8=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Xi(t,e)||{};if(c==null)return{};const h=DM(u),p={x:n,y:r},g=ob(s),w=ib(g),v=await o.getDimensions(c),_=g==="y",x=_?"top":"left",y=_?"bottom":"right",b=_?"clientHeight":"clientWidth",C=i.reference[w]+i.reference[g]-p[g]-i.floating[w],P=p[g]-i.reference[g],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let T=O?O[b]:0;(!T||!await(o.isElement==null?void 0:o.isElement(O)))&&(T=a.floating[b]||i.floating[w]);const E=C/2-P/2,I=T/2-v[w]/2-1,R=ca(h[x],I),k=ca(h[y],I),M=R,N=T-v[w]-k,W=T/2-v[w]/2+E,se=Tx(M,W,N),ne=!l.arrow&&Tu(s)!=null&&W!==se&&i.reference[w]/2-(W<M?R:k)-v[w]/2<0,Y=ne?W<M?W-M:W-N:0;return{[g]:p[g]+Y,data:{[g]:se,centerOffset:W-se-Y,...ne&&{alignmentOffset:Y}},reset:ne}}}),Z8=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,..._}=Xi(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Ji(s),y=da(a),b=Ji(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),P=p||(b||!v?[bg(a)]:q8(a)),O=w!=="none";!p&&O&&P.push(...Q8(a,v,w,C));const T=[a,...P],E=await Ih(e,_),I=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&I.push(E[x]),h){const W=H8(s,o,C);I.push(E[W[0]],E[W[1]])}if(R=[...R,{placement:s,overflows:I}],!I.every(W=>W<=0)){var k,M;const W=(((k=i.flip)==null?void 0:k.index)||0)+1,se=T[W];if(se)return{data:{index:W,overflows:R},reset:{placement:se}};let ne=(M=R.filter(Y=>Y.overflows[0]<=0).sort((Y,z)=>Y.overflows[1]-z.overflows[1])[0])==null?void 0:M.placement;if(!ne)switch(g){case"bestFit":{var N;const Y=(N=R.filter(z=>{if(O){const B=da(z.placement);return B===y||B==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(B=>B>0).reduce((B,J)=>B+J,0)]).sort((z,B)=>z[1]-B[1])[0])==null?void 0:N[0];Y&&(ne=Y);break}case"initialPlacement":ne=a;break}if(s!==ne)return{reset:{placement:ne}}}return{}}}};function mR(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function gR(t){return z8.some(e=>t[e]>=0)}const e7=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Xi(t,e);switch(r){case"referenceHidden":{const i=await Ih(e,{...s,elementContext:"reference"}),o=mR(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:gR(o)}}}case"escaped":{const i=await Ih(e,{...s,altBoundary:!0}),o=mR(i,n.floating);return{data:{escapedOffsets:o,escaped:gR(o)}}}default:return{}}}}};async function t7(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Ji(n),a=Tu(n),l=da(n)==="y",c=["left","top"].includes(o)?-1:1,u=i&&l?-1:1,h=Xi(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof w=="number"&&(g=a==="end"?w*-1:w),l?{x:g*u,y:p*c}:{x:p*c,y:g*u}}const n7=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await t7(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},r7=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x,y}=_;return{x,y}}},...l}=Xi(t,e),c={x:n,y:r},u=await Ih(e,l),h=da(Ji(s)),p=sb(h);let g=c[p],w=c[h];if(i){const _=p==="y"?"top":"left",x=p==="y"?"bottom":"right",y=g+u[_],b=g-u[x];g=Tx(y,g,b)}if(o){const _=h==="y"?"top":"left",x=h==="y"?"bottom":"right",y=w+u[_],b=w-u[x];w=Tx(y,w,b)}const v=a.fn({...e,[p]:g,[h]:w});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[p]:i,[h]:o}}}}}},s7=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Xi(t,e),u={x:n,y:r},h=da(s),p=sb(h);let g=u[p],w=u[h];const v=Xi(a,e),_=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const b=p==="y"?"height":"width",C=i.reference[p]-i.floating[b]+_.mainAxis,P=i.reference[p]+i.reference[b]-_.mainAxis;g<C?g=C:g>P&&(g=P)}if(c){var x,y;const b=p==="y"?"width":"height",C=["top","left"].includes(Ji(s)),P=i.reference[h]-i.floating[b]+(C&&((x=o.offset)==null?void 0:x[h])||0)+(C?0:_.crossAxis),O=i.reference[h]+i.reference[b]+(C?0:((y=o.offset)==null?void 0:y[h])||0)-(C?_.crossAxis:0);w<P?w=P:w>O&&(w=O)}return{[p]:g,[h]:w}}}},i7=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Xi(t,e),u=await Ih(e,c),h=Ji(s),p=Tu(s),g=da(s)==="y",{width:w,height:v}=i.floating;let _,x;h==="top"||h==="bottom"?(_=h,x=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=h,_=p==="end"?"top":"bottom");const y=v-u.top-u.bottom,b=w-u.left-u.right,C=ca(v-u[_],y),P=ca(w-u[x],b),O=!e.middlewareData.shift;let T=C,E=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(E=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=y),O&&!p){const R=$r(u.left,0),k=$r(u.right,0),M=$r(u.top,0),N=$r(u.bottom,0);g?E=w-2*(R!==0||k!==0?R+k:$r(u.left,u.right)):T=v-2*(M!==0||N!==0?M+N:$r(u.top,u.bottom))}await l({...e,availableWidth:E,availableHeight:T});const I=await o.getDimensions(a.floating);return w!==I.width||v!==I.height?{reset:{rects:!0}}:{}}}};function Vv(){return typeof window<"u"}function Cu(t){return kM(t)?(t.nodeName||"").toLowerCase():"#document"}function Hr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function fi(t){var e;return(e=(kM(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function kM(t){return Vv()?t instanceof Node||t instanceof Hr(t).Node:!1}function Vs(t){return Vv()?t instanceof Element||t instanceof Hr(t).Element:!1}function ci(t){return Vv()?t instanceof HTMLElement||t instanceof Hr(t).HTMLElement:!1}function vR(t){return!Vv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Hr(t).ShadowRoot}function Rf(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Fs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function o7(t){return["table","td","th"].includes(Cu(t))}function Fv(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function ab(t){const e=lb(),n=Vs(t)?Fs(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function a7(t){let e=ha(t);for(;ci(e)&&!ru(e);){if(ab(e))return e;if(Fv(e))return null;e=ha(e)}return null}function lb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ru(t){return["html","body","#document"].includes(Cu(t))}function Fs(t){return Hr(t).getComputedStyle(t)}function Uv(t){return Vs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ha(t){if(Cu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||vR(t)&&t.host||fi(t);return vR(e)?e.host:e}function MM(t){const e=ha(t);return ru(e)?t.ownerDocument?t.ownerDocument.body:t.body:ci(e)&&Rf(e)?e:MM(e)}function Ph(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=MM(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Hr(s);if(i){const a=Ax(o);return e.concat(o,o.visualViewport||[],Rf(s)?s:[],a&&n?Ph(a):[])}return e.concat(s,Ph(s,[],n))}function Ax(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function OM(t){const e=Fs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=ci(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Eg(n)!==i||Eg(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function cb(t){return Vs(t)?t:t.contextElement}function Ac(t){const e=cb(t);if(!ci(e))return ua(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=OM(e);let o=(i?Eg(n.width):n.width)/r,a=(i?Eg(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const l7=ua(0);function jM(t){const e=Hr(t);return!lb()||!e.visualViewport?l7:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function c7(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Hr(t)?!1:e}function xl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=cb(t);let o=ua(1);e&&(r?Vs(r)&&(o=Ac(r)):o=Ac(t));const a=c7(i,n,r)?jM(i):ua(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,h=s.height/o.y;if(i){const p=Hr(i),g=r&&Vs(r)?Hr(r):r;let w=p,v=Ax(w);for(;v&&r&&g!==w;){const _=Ac(v),x=v.getBoundingClientRect(),y=Fs(v),b=x.left+(v.clientLeft+parseFloat(y.paddingLeft))*_.x,C=x.top+(v.clientTop+parseFloat(y.paddingTop))*_.y;l*=_.x,c*=_.y,u*=_.x,h*=_.y,l+=b,c+=C,w=Hr(v),v=Ax(w)}}return Sg({width:u,height:h,x:l,y:c})}function u7(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=fi(r),a=e?Fv(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=ua(1);const u=ua(0),h=ci(r);if((h||!h&&!i)&&((Cu(r)!=="body"||Rf(o))&&(l=Uv(r)),ci(r))){const p=xl(r);c=Ac(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function d7(t){return Array.from(t.getClientRects())}function Rx(t,e){const n=Uv(t).scrollLeft;return e?e.left+n:xl(fi(t)).left+n}function h7(t){const e=fi(t),n=Uv(t),r=t.ownerDocument.body,s=$r(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=$r(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Rx(t);const a=-n.scrollTop;return Fs(r).direction==="rtl"&&(o+=$r(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function f7(t,e){const n=Hr(t),r=fi(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=lb();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function p7(t,e){const n=xl(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=ci(t)?Ac(t):ua(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function yR(t,e,n){let r;if(e==="viewport")r=f7(t,n);else if(e==="document")r=h7(fi(t));else if(Vs(e))r=p7(e,n);else{const s=jM(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return Sg(r)}function LM(t,e){const n=ha(t);return n===e||!Vs(n)||ru(n)?!1:Fs(n).position==="fixed"||LM(n,e)}function m7(t,e){const n=e.get(t);if(n)return n;let r=Ph(t,[],!1).filter(a=>Vs(a)&&Cu(a)!=="body"),s=null;const i=Fs(t).position==="fixed";let o=i?ha(t):t;for(;Vs(o)&&!ru(o);){const a=Fs(o),l=ab(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Rf(o)&&!l&&LM(t,o))?r=r.filter(u=>u!==o):s=a,o=ha(o)}return e.set(t,r),r}function g7(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Fv(e)?[]:m7(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const h=yR(e,u,s);return c.top=$r(h.top,c.top),c.right=ca(h.right,c.right),c.bottom=ca(h.bottom,c.bottom),c.left=$r(h.left,c.left),c},yR(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function v7(t){const{width:e,height:n}=OM(t);return{width:e,height:n}}function y7(t,e,n){const r=ci(e),s=fi(e),i=n==="fixed",o=xl(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=ua(0);if(r||!r&&!i)if((Cu(e)!=="body"||Rf(s))&&(a=Uv(e)),r){const g=xl(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&(l.x=Rx(s));let c=0,u=0;if(s&&!r&&!i){const g=s.getBoundingClientRect();u=g.top+a.scrollTop,c=g.left+a.scrollLeft-Rx(s,g)}const h=o.left+a.scrollLeft-l.x-c,p=o.top+a.scrollTop-l.y-u;return{x:h,y:p,width:o.width,height:o.height}}function kw(t){return Fs(t).position==="static"}function wR(t,e){if(!ci(t)||Fs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return fi(t)===n&&(n=n.ownerDocument.body),n}function VM(t,e){const n=Hr(t);if(Fv(t))return n;if(!ci(t)){let s=ha(t);for(;s&&!ru(s);){if(Vs(s)&&!kw(s))return s;s=ha(s)}return n}let r=wR(t,e);for(;r&&o7(r)&&kw(r);)r=wR(r,e);return r&&ru(r)&&kw(r)&&!ab(r)?n:r||a7(t)||n}const w7=async function(t){const e=this.getOffsetParent||VM,n=this.getDimensions,r=await n(t.floating);return{reference:y7(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function x7(t){return Fs(t).direction==="rtl"}const _7={convertOffsetParentRelativeRectToViewportRelativeRect:u7,getDocumentElement:fi,getClippingRect:g7,getOffsetParent:VM,getElementRects:w7,getClientRects:d7,getDimensions:v7,getScale:Ac,isElement:Vs,isRTL:x7};function E7(t,e){let n=null,r;const s=fi(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:u,width:h,height:p}=t.getBoundingClientRect();if(a||e(),!h||!p)return;const g=jp(u),w=jp(s.clientWidth-(c+h)),v=jp(s.clientHeight-(u+p)),_=jp(c),y={rootMargin:-g+"px "+-w+"px "+-v+"px "+-_+"px",threshold:$r(0,ca(1,l))||1};let b=!0;function C(P){const O=P[0].intersectionRatio;if(O!==l){if(!b)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(C,{...y,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,y)}n.observe(t)}return o(!0),i}function b7(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=cb(t),u=s||i?[...c?Ph(c):[],...Ph(e)]:[];u.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const h=c&&a?E7(c,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(x=>{let[y]=x;y&&y.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let w,v=l?xl(t):null;l&&_();function _(){const x=xl(t);v&&(x.x!==v.x||x.y!==v.y||x.width!==v.width||x.height!==v.height)&&n(),v=x,w=requestAnimationFrame(_)}return n(),()=>{var x;u.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),h==null||h(),(x=g)==null||x.disconnect(),g=null,l&&cancelAnimationFrame(w)}}const S7=n7,T7=r7,C7=Z8,A7=i7,R7=e7,xR=J8,I7=s7,P7=(t,e,n)=>{const r=new Map,s={platform:_7,...n},i={...s.platform,_c:r};return X8(t,e,{...s,platform:i})};var bm=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Tg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Tg(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Tg(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function FM(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function _R(t,e){const n=FM(t);return Math.round(e*n)/n}function Mw(t){const e=m.useRef(t);return bm(()=>{e.current=t}),e}function N7(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,h]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=m.useState(r);Tg(p,r)||g(r);const[w,v]=m.useState(null),[_,x]=m.useState(null),y=m.useCallback(z=>{z!==O.current&&(O.current=z,v(z))},[]),b=m.useCallback(z=>{z!==T.current&&(T.current=z,x(z))},[]),C=i||w,P=o||_,O=m.useRef(null),T=m.useRef(null),E=m.useRef(u),I=l!=null,R=Mw(l),k=Mw(s),M=Mw(c),N=m.useCallback(()=>{if(!O.current||!T.current)return;const z={placement:e,strategy:n,middleware:p};k.current&&(z.platform=k.current),P7(O.current,T.current,z).then(B=>{const J={...B,isPositioned:M.current!==!1};W.current&&!Tg(E.current,J)&&(E.current=J,Ar.flushSync(()=>{h(J)}))})},[p,e,n,k,M]);bm(()=>{c===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h(z=>({...z,isPositioned:!1})))},[c]);const W=m.useRef(!1);bm(()=>(W.current=!0,()=>{W.current=!1}),[]),bm(()=>{if(C&&(O.current=C),P&&(T.current=P),C&&P){if(R.current)return R.current(C,P,N);N()}},[C,P,N,R,I]);const se=m.useMemo(()=>({reference:O,floating:T,setReference:y,setFloating:b}),[y,b]),ne=m.useMemo(()=>({reference:C,floating:P}),[C,P]),Y=m.useMemo(()=>{const z={position:n,left:0,top:0};if(!ne.floating)return z;const B=_R(ne.floating,u.x),J=_R(ne.floating,u.y);return a?{...z,transform:"translate("+B+"px, "+J+"px)",...FM(ne.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:J}},[n,a,ne.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:N,refs:se,elements:ne,floatingStyles:Y}),[u,N,se,ne,Y])}const D7=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?xR({element:r.current,padding:s}).fn(n):{}:r?xR({element:r,padding:s}).fn(n):{}}}},k7=(t,e)=>({...S7(t),options:[t,e]}),M7=(t,e)=>({...T7(t),options:[t,e]}),O7=(t,e)=>({...I7(t),options:[t,e]}),j7=(t,e)=>({...C7(t),options:[t,e]}),L7=(t,e)=>({...A7(t),options:[t,e]}),V7=(t,e)=>({...R7(t),options:[t,e]}),F7=(t,e)=>({...D7(t),options:[t,e]});var U7="Arrow",UM=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return d.jsx(ve.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});UM.displayName=U7;var B7=UM;function $7(t){const[e,n]=m.useState(void 0);return Pt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var ub="Popper",[BM,Au]=Dl(ub),[z7,$M]=BM(ub),zM=t=>{const{__scopePopper:e,children:n}=t,[r,s]=m.useState(null);return d.jsx(z7,{scope:e,anchor:r,onAnchorChange:s,children:n})};zM.displayName=ub;var KM="PopperAnchor",WM=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=$M(KM,n),o=m.useRef(null),a=ke(e,o);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:d.jsx(ve.div,{...s,ref:a})});WM.displayName=KM;var db="PopperContent",[K7,W7]=BM(db),HM=m.forwardRef((t,e)=>{var ce,Pe,He,pe,$e,Oe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:w,...v}=t,_=$M(db,n),[x,y]=m.useState(null),b=ke(e,yt=>y(yt)),[C,P]=m.useState(null),O=$7(C),T=(O==null?void 0:O.width)??0,E=(O==null?void 0:O.height)??0,I=r+(i!=="center"?"-"+i:""),R=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},k=Array.isArray(c)?c:[c],M=k.length>0,N={padding:R,boundary:k.filter(q7),altBoundary:M},{refs:W,floatingStyles:se,placement:ne,isPositioned:Y,middlewareData:z}=N7({strategy:"fixed",placement:I,whileElementsMounted:(...yt)=>b7(...yt,{animationFrame:g==="always"}),elements:{reference:_.anchor},middleware:[k7({mainAxis:s+E,alignmentAxis:o}),l&&M7({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?O7():void 0,...N}),l&&j7({...N}),L7({...N,apply:({elements:yt,rects:qe,availableWidth:Vt,availableHeight:mn})=>{const{width:Mr,height:j}=qe.reference,$=yt.floating.style;$.setProperty("--radix-popper-available-width",`${Vt}px`),$.setProperty("--radix-popper-available-height",`${mn}px`),$.setProperty("--radix-popper-anchor-width",`${Mr}px`),$.setProperty("--radix-popper-anchor-height",`${j}px`)}}),C&&F7({element:C,padding:a}),G7({arrowWidth:T,arrowHeight:E}),p&&V7({strategy:"referenceHidden",...N})]}),[B,J]=QM(ne),fe=mt(w);Pt(()=>{Y&&(fe==null||fe())},[Y,fe]);const he=(ce=z.arrow)==null?void 0:ce.x,Te=(Pe=z.arrow)==null?void 0:Pe.y,We=((He=z.arrow)==null?void 0:He.centerOffset)!==0,[at,Ne]=m.useState();return Pt(()=>{x&&Ne(window.getComputedStyle(x).zIndex)},[x]),d.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:Y?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:at,"--radix-popper-transform-origin":[(pe=z.transformOrigin)==null?void 0:pe.x,($e=z.transformOrigin)==null?void 0:$e.y].join(" "),...((Oe=z.hide)==null?void 0:Oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(K7,{scope:n,placedSide:B,onArrowChange:P,arrowX:he,arrowY:Te,shouldHideArrow:We,children:d.jsx(ve.div,{"data-side":B,"data-align":J,...v,ref:b,style:{...v.style,animation:Y?void 0:"none"}})})})});HM.displayName=db;var qM="PopperArrow",H7={top:"bottom",right:"left",bottom:"top",left:"right"},GM=m.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=W7(qM,r),o=H7[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(B7,{...s,ref:n,style:{...s.style,display:"block"}})})});GM.displayName=qM;function q7(t){return t!==null}var G7=t=>({name:"transformOrigin",options:t,fn(e){var _,x,y;const{placement:n,rects:r,middlewareData:s}=e,o=((_=s.arrow)==null?void 0:_.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=QM(n),h={start:"0%",center:"50%",end:"100%"}[u],p=(((x=s.arrow)==null?void 0:x.x)??0)+a/2,g=(((y=s.arrow)==null?void 0:y.y)??0)+l/2;let w="",v="";return c==="bottom"?(w=o?h:`${p}px`,v=`${-l}px`):c==="top"?(w=o?h:`${p}px`,v=`${r.floating.height+l}px`):c==="right"?(w=`${-l}px`,v=o?h:`${g}px`):c==="left"&&(w=`${r.floating.width+l}px`,v=o?h:`${g}px`),{data:{x:w,y:v}}}});function QM(t){const[e,n="center"]=t.split("-");return[e,n]}var hb=zM,fb=WM,pb=HM,mb=GM,Q7="Portal",YM=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Pt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?mf.createPortal(d.jsx(ve.div,{...r,ref:e}),o):null});YM.displayName=Q7;function Y7(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var If=t=>{const{present:e,children:n}=t,r=X7(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=ke(r.ref,J7(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};If.displayName="Presence";function X7(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=Y7(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Lp(r.current);i.current=a==="mounted"?c:"none"},[a]),Pt(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=Lp(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Pt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=g=>{const v=Lp(r.current).includes(g.animationName);if(g.target===e&&v&&(l("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},p=g=>{g.target===e&&(i.current=Lp(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Lp(t){return(t==null?void 0:t.animationName)||"none"}function J7(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Ow="rovingFocusGroup.onEntryFocus",Z7={bubbles:!1,cancelable:!0},Bv="RovingFocusGroup",[Ix,XM,eq]=jv(Bv),[tq,$v]=Dl(Bv,[eq]),[nq,rq]=tq(Bv),JM=m.forwardRef((t,e)=>d.jsx(Ix.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(Ix.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(sq,{...t,ref:e})})}));JM.displayName=Bv;var sq=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...h}=t,p=m.useRef(null),g=ke(e,p),w=Cf(i),[v=null,_]=aa({prop:o,defaultProp:a,onChange:l}),[x,y]=m.useState(!1),b=mt(c),C=XM(n),P=m.useRef(!1),[O,T]=m.useState(0);return m.useEffect(()=>{const E=p.current;if(E)return E.addEventListener(Ow,b),()=>E.removeEventListener(Ow,b)},[b]),d.jsx(nq,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:v,onItemFocus:m.useCallback(E=>_(E),[_]),onItemShiftTab:m.useCallback(()=>y(!0),[]),onFocusableItemAdd:m.useCallback(()=>T(E=>E+1),[]),onFocusableItemRemove:m.useCallback(()=>T(E=>E-1),[]),children:d.jsx(ve.div,{tabIndex:x||O===0?-1:0,"data-orientation":r,...h,ref:g,style:{outline:"none",...t.style},onMouseDown:Z(t.onMouseDown,()=>{P.current=!0}),onFocus:Z(t.onFocus,E=>{const I=!P.current;if(E.target===E.currentTarget&&I&&!x){const R=new CustomEvent(Ow,Z7);if(E.currentTarget.dispatchEvent(R),!R.defaultPrevented){const k=C().filter(ne=>ne.focusable),M=k.find(ne=>ne.active),N=k.find(ne=>ne.id===v),se=[M,N,...k].filter(Boolean).map(ne=>ne.ref.current);tO(se,u)}}P.current=!1}),onBlur:Z(t.onBlur,()=>y(!1))})})}),ZM="RovingFocusGroupItem",eO=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=js(),l=i||a,c=rq(ZM,n),u=c.currentTabStopId===l,h=XM(n),{onFocusableItemAdd:p,onFocusableItemRemove:g}=c;return m.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),d.jsx(Ix.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:d.jsx(ve.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:Z(t.onMouseDown,w=>{r?c.onItemFocus(l):w.preventDefault()}),onFocus:Z(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:Z(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){c.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const v=aq(w,c.orientation,c.dir);if(v!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let x=h().filter(y=>y.focusable).map(y=>y.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const y=x.indexOf(w.currentTarget);x=c.loop?lq(x,y+1):x.slice(y+1)}setTimeout(()=>tO(x))}})})})});eO.displayName=ZM;var iq={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function oq(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function aq(t,e,n){const r=oq(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return iq[r]}function tO(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function lq(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var nO=JM,rO=eO,cq=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Hl=new WeakMap,Vp=new WeakMap,Fp={},jw=0,sO=function(t){return t&&(t.host||sO(t.parentNode))},uq=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=sO(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},dq=function(t,e,n,r){var s=uq(e,Array.isArray(t)?t:[t]);Fp[n]||(Fp[n]=new WeakMap);var i=Fp[n],o=[],a=new Set,l=new Set(s),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};s.forEach(c);var u=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))u(p);else try{var g=p.getAttribute(r),w=g!==null&&g!=="false",v=(Hl.get(p)||0)+1,_=(i.get(p)||0)+1;Hl.set(p,v),i.set(p,_),o.push(p),v===1&&w&&Vp.set(p,!0),_===1&&p.setAttribute(n,"true"),w||p.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",p,x)}})};return u(e),a.clear(),jw++,function(){o.forEach(function(h){var p=Hl.get(h)-1,g=i.get(h)-1;Hl.set(h,p),i.set(h,g),p||(Vp.has(h)||h.removeAttribute(r),Vp.delete(h)),g||h.removeAttribute(n)}),jw--,jw||(Hl=new WeakMap,Hl=new WeakMap,Vp=new WeakMap,Fp={})}},gb=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=cq(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),dq(r,s,n,"aria-hidden")):function(){return null}},Sm="right-scroll-bar-position",Tm="width-before-scroll-bar",hq="with-scroll-bars-hidden",fq="--removed-body-scroll-bar-size";function Lw(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function pq(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var mq=typeof window<"u"?m.useLayoutEffect:m.useEffect,ER=new WeakMap;function gq(t,e){var n=pq(null,function(r){return t.forEach(function(s){return Lw(s,r)})});return mq(function(){var r=ER.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Lw(a,null)}),i.forEach(function(a){s.has(a)||Lw(a,o)})}ER.set(n,t)},[t]),n}function vq(t){return t}function yq(t,e){e===void 0&&(e=vq);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var u=o;o=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return s}function wq(t){t===void 0&&(t={});var e=yq(null);return e.options=Ys({async:!0,ssr:!1},t),e}var iO=function(t){var e=t.sideCar,n=yf(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,Ys({},n))};iO.isSideCarExport=!0;function xq(t,e){return t.useMedium(e),iO}var oO=wq(),Vw=function(){},zv=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:Vw,onWheelCapture:Vw,onTouchMoveCapture:Vw}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,h=t.shards,p=t.sideCar,g=t.noIsolation,w=t.inert,v=t.allowPinchZoom,_=t.as,x=_===void 0?"div":_,y=t.gapMode,b=yf(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=p,P=gq([n,e]),O=Ys(Ys({},b),s);return m.createElement(m.Fragment,null,u&&m.createElement(C,{sideCar:oO,removeScrollBar:c,shards:h,noIsolation:g,inert:w,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:y}),o?m.cloneElement(m.Children.only(a),Ys(Ys({},O),{ref:P})):m.createElement(x,Ys({},O,{className:l,ref:P}),a))});zv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zv.classNames={fullWidth:Tm,zeroRight:Sm};var _q=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Eq(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=_q();return e&&t.setAttribute("nonce",e),t}function bq(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Sq(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Tq=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Eq())&&(bq(e,n),Sq(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Cq=function(){var t=Tq();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},aO=function(){var t=Cq(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},Aq={left:0,top:0,right:0,gap:0},Fw=function(t){return parseInt(t||"",10)||0},Rq=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Fw(n),Fw(r),Fw(s)]},Iq=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Aq;var e=Rq(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Pq=aO(),Rc="data-scroll-locked",Nq=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(hq,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Rc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Sm,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Tm,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Sm," .").concat(Sm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Tm," .").concat(Tm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Rc,`] {
    `).concat(fq,": ").concat(a,`px;
  }
`)},bR=function(){var t=parseInt(document.body.getAttribute(Rc)||"0",10);return isFinite(t)?t:0},Dq=function(){m.useEffect(function(){return document.body.setAttribute(Rc,(bR()+1).toString()),function(){var t=bR()-1;t<=0?document.body.removeAttribute(Rc):document.body.setAttribute(Rc,t.toString())}},[])},kq=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Dq();var i=m.useMemo(function(){return Iq(s)},[s]);return m.createElement(Pq,{styles:Nq(i,!e,s,n?"":"!important")})},Px=!1;if(typeof window<"u")try{var Up=Object.defineProperty({},"passive",{get:function(){return Px=!0,!0}});window.addEventListener("test",Up,Up),window.removeEventListener("test",Up,Up)}catch{Px=!1}var ql=Px?{passive:!1}:!1,Mq=function(t){return t.tagName==="TEXTAREA"},lO=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Mq(t)&&n[e]==="visible")},Oq=function(t){return lO(t,"overflowY")},jq=function(t){return lO(t,"overflowX")},SR=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=cO(t,r);if(s){var i=uO(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Lq=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Vq=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},cO=function(t,e){return t==="v"?Oq(e):jq(e)},uO=function(t,e){return t==="v"?Lq(e):Vq(e)},Fq=function(t,e){return t==="h"&&e==="rtl"?-1:1},Uq=function(t,e,n,r,s){var i=Fq(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,u=o>0,h=0,p=0;do{var g=uO(t,a),w=g[0],v=g[1],_=g[2],x=v-_-i*w;(w||x)&&cO(t,a)&&(h+=x,p+=w),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(h)<1||!s)||!u&&(Math.abs(p)<1||!s))&&(c=!0),c},Bp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},TR=function(t){return[t.deltaX,t.deltaY]},CR=function(t){return t&&"current"in t?t.current:t},Bq=function(t,e){return t[0]===e[0]&&t[1]===e[1]},$q=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},zq=0,Gl=[];function Kq(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(zq++)[0],i=m.useState(aO)[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=D6([t.lockRef.current],(t.shards||[]).map(CR),!0).filter(Boolean);return v.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(v,_){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var x=Bp(v),y=n.current,b="deltaX"in v?v.deltaX:y[0]-x[0],C="deltaY"in v?v.deltaY:y[1]-x[1],P,O=v.target,T=Math.abs(b)>Math.abs(C)?"h":"v";if("touches"in v&&T==="h"&&O.type==="range")return!1;var E=SR(T,O);if(!E)return!0;if(E?P=T:(P=T==="v"?"h":"v",E=SR(T,O)),!E)return!1;if(!r.current&&"changedTouches"in v&&(b||C)&&(r.current=P),!P)return!0;var I=r.current||P;return Uq(I,_,v,I==="h"?b:C,!0)},[]),l=m.useCallback(function(v){var _=v;if(!(!Gl.length||Gl[Gl.length-1]!==i)){var x="deltaY"in _?TR(_):Bp(_),y=e.current.filter(function(P){return P.name===_.type&&(P.target===_.target||_.target===P.shadowParent)&&Bq(P.delta,x)})[0];if(y&&y.should){_.cancelable&&_.preventDefault();return}if(!y){var b=(o.current.shards||[]).map(CR).filter(Boolean).filter(function(P){return P.contains(_.target)}),C=b.length>0?a(_,b[0]):!o.current.noIsolation;C&&_.cancelable&&_.preventDefault()}}},[]),c=m.useCallback(function(v,_,x,y){var b={name:v,delta:_,target:x,should:y,shadowParent:Wq(x)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(C){return C!==b})},1)},[]),u=m.useCallback(function(v){n.current=Bp(v),r.current=void 0},[]),h=m.useCallback(function(v){c(v.type,TR(v),v.target,a(v,t.lockRef.current))},[]),p=m.useCallback(function(v){c(v.type,Bp(v),v.target,a(v,t.lockRef.current))},[]);m.useEffect(function(){return Gl.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,ql),document.addEventListener("touchmove",l,ql),document.addEventListener("touchstart",u,ql),function(){Gl=Gl.filter(function(v){return v!==i}),document.removeEventListener("wheel",l,ql),document.removeEventListener("touchmove",l,ql),document.removeEventListener("touchstart",u,ql)}},[]);var g=t.removeScrollBar,w=t.inert;return m.createElement(m.Fragment,null,w?m.createElement(i,{styles:$q(s)}):null,g?m.createElement(kq,{gapMode:t.gapMode}):null)}function Wq(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Hq=xq(oO,Kq);var Kv=m.forwardRef(function(t,e){return m.createElement(zv,Ys({},t,{ref:e,sideCar:Hq}))});Kv.classNames=zv.classNames;var Nx=["Enter"," "],qq=["ArrowDown","PageUp","Home"],dO=["ArrowUp","PageDown","End"],Gq=[...qq,...dO],Qq={ltr:[...Nx,"ArrowRight"],rtl:[...Nx,"ArrowLeft"]},Yq={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Pf="Menu",[Nh,Xq,Jq]=jv(Pf),[kl,hO]=S8(Pf,[Jq,Au,$v]),Wv=Au(),fO=$v(),[Zq,Ml]=kl(Pf),[eG,Nf]=kl(Pf),pO=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=Wv(e),[l,c]=m.useState(null),u=m.useRef(!1),h=mt(i),p=Cf(s);return m.useEffect(()=>{const g=()=>{u.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>u.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),d.jsx(hb,{...a,children:d.jsx(Zq,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:c,children:d.jsx(eG,{scope:e,onClose:m.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:p,modal:o,children:r})})})};pO.displayName=Pf;var tG="MenuAnchor",vb=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Wv(n);return d.jsx(fb,{...s,...r,ref:e})});vb.displayName=tG;var yb="MenuPortal",[nG,mO]=kl(yb,{forceMount:void 0}),gO=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Ml(yb,e);return d.jsx(nG,{scope:e,forceMount:n,children:d.jsx(If,{present:n||i.open,children:d.jsx(YM,{asChild:!0,container:s,children:r})})})};gO.displayName=yb;var ps="MenuContent",[rG,wb]=kl(ps),vO=m.forwardRef((t,e)=>{const n=mO(ps,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Ml(ps,t.__scopeMenu),o=Nf(ps,t.__scopeMenu);return d.jsx(Nh.Provider,{scope:t.__scopeMenu,children:d.jsx(If,{present:r||i.open,children:d.jsx(Nh.Slot,{scope:t.__scopeMenu,children:o.modal?d.jsx(sG,{...s,ref:e}):d.jsx(iG,{...s,ref:e})})})})}),sG=m.forwardRef((t,e)=>{const n=Ml(ps,t.__scopeMenu),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return gb(i)},[]),d.jsx(xb,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Z(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),iG=m.forwardRef((t,e)=>{const n=Ml(ps,t.__scopeMenu);return d.jsx(xb,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),xb=m.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:p,onDismiss:g,disableOutsideScroll:w,...v}=t,_=Ml(ps,n),x=Nf(ps,n),y=Wv(n),b=fO(n),C=Xq(n),[P,O]=m.useState(null),T=m.useRef(null),E=ke(e,T,_.onContentChange),I=m.useRef(0),R=m.useRef(""),k=m.useRef(0),M=m.useRef(null),N=m.useRef("right"),W=m.useRef(0),se=w?Kv:m.Fragment,ne=w?{as:la,allowPinchZoom:!0}:void 0,Y=B=>{var ce,Pe;const J=R.current+B,fe=C().filter(He=>!He.disabled),he=document.activeElement,Te=(ce=fe.find(He=>He.ref.current===he))==null?void 0:ce.textValue,We=fe.map(He=>He.textValue),at=vG(We,J,Te),Ne=(Pe=fe.find(He=>He.textValue===at))==null?void 0:Pe.ref.current;(function He(pe){R.current=pe,window.clearTimeout(I.current),pe!==""&&(I.current=window.setTimeout(()=>He(""),1e3))})(J),Ne&&setTimeout(()=>Ne.focus())};m.useEffect(()=>()=>window.clearTimeout(I.current),[]),rb();const z=m.useCallback(B=>{var fe,he;return N.current===((fe=M.current)==null?void 0:fe.side)&&wG(B,(he=M.current)==null?void 0:he.area)},[]);return d.jsx(rG,{scope:n,searchRef:R,onItemEnter:m.useCallback(B=>{z(B)&&B.preventDefault()},[z]),onItemLeave:m.useCallback(B=>{var J;z(B)||((J=T.current)==null||J.focus(),O(null))},[z]),onTriggerLeave:m.useCallback(B=>{z(B)&&B.preventDefault()},[z]),pointerGraceTimerRef:k,onPointerGraceIntentChange:m.useCallback(B=>{M.current=B},[]),children:d.jsx(se,{...ne,children:d.jsx(Lv,{asChild:!0,trapped:s,onMountAutoFocus:Z(i,B=>{var J;B.preventDefault(),(J=T.current)==null||J.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:d.jsx(IM,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:p,onDismiss:g,children:d.jsx(nO,{asChild:!0,...b,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:P,onCurrentTabStopIdChange:O,onEntryFocus:Z(l,B=>{x.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:d.jsx(pb,{role:"menu","aria-orientation":"vertical","data-state":kO(_.open),"data-radix-menu-content":"",dir:x.dir,...y,...v,ref:E,style:{outline:"none",...v.style},onKeyDown:Z(v.onKeyDown,B=>{const fe=B.target.closest("[data-radix-menu-content]")===B.currentTarget,he=B.ctrlKey||B.altKey||B.metaKey,Te=B.key.length===1;fe&&(B.key==="Tab"&&B.preventDefault(),!he&&Te&&Y(B.key));const We=T.current;if(B.target!==We||!Gq.includes(B.key))return;B.preventDefault();const Ne=C().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);dO.includes(B.key)&&Ne.reverse(),mG(Ne)}),onBlur:Z(t.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(I.current),R.current="")}),onPointerMove:Z(t.onPointerMove,Dh(B=>{const J=B.target,fe=W.current!==B.clientX;if(B.currentTarget.contains(J)&&fe){const he=B.clientX>W.current?"right":"left";N.current=he,W.current=B.clientX}}))})})})})})})});vO.displayName=ps;var oG="MenuGroup",_b=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return d.jsx(ve.div,{role:"group",...r,ref:e})});_b.displayName=oG;var aG="MenuLabel",yO=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return d.jsx(ve.div,{...r,ref:e})});yO.displayName=aG;var Cg="MenuItem",AR="menu.itemSelect",Hv=m.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=m.useRef(null),o=Nf(Cg,t.__scopeMenu),a=wb(Cg,t.__scopeMenu),l=ke(e,i),c=m.useRef(!1),u=()=>{const h=i.current;if(!n&&h){const p=new CustomEvent(AR,{bubbles:!0,cancelable:!0});h.addEventListener(AR,g=>r==null?void 0:r(g),{once:!0}),Nl(h,p),p.defaultPrevented?c.current=!1:o.onClose()}};return d.jsx(wO,{...s,ref:l,disabled:n,onClick:Z(t.onClick,u),onPointerDown:h=>{var p;(p=t.onPointerDown)==null||p.call(t,h),c.current=!0},onPointerUp:Z(t.onPointerUp,h=>{var p;c.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:Z(t.onKeyDown,h=>{const p=a.searchRef.current!=="";n||p&&h.key===" "||Nx.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Hv.displayName=Cg;var wO=m.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=wb(Cg,n),a=fO(n),l=m.useRef(null),c=ke(e,l),[u,h]=m.useState(!1),[p,g]=m.useState("");return m.useEffect(()=>{const w=l.current;w&&g((w.textContent??"").trim())},[i.children]),d.jsx(Nh.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:d.jsx(rO,{asChild:!0,...a,focusable:!r,children:d.jsx(ve.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:Z(t.onPointerMove,Dh(w=>{r?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Z(t.onPointerLeave,Dh(w=>o.onItemLeave(w))),onFocus:Z(t.onFocus,()=>h(!0)),onBlur:Z(t.onBlur,()=>h(!1))})})})}),lG="MenuCheckboxItem",xO=m.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return d.jsx(TO,{scope:t.__scopeMenu,checked:n,children:d.jsx(Hv,{role:"menuitemcheckbox","aria-checked":Ag(n)?"mixed":n,...s,ref:e,"data-state":bb(n),onSelect:Z(s.onSelect,()=>r==null?void 0:r(Ag(n)?!0:!n),{checkForDefaultPrevented:!1})})})});xO.displayName=lG;var _O="MenuRadioGroup",[cG,uG]=kl(_O,{value:void 0,onValueChange:()=>{}}),EO=m.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=mt(r);return d.jsx(cG,{scope:t.__scopeMenu,value:n,onValueChange:i,children:d.jsx(_b,{...s,ref:e})})});EO.displayName=_O;var bO="MenuRadioItem",SO=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=uG(bO,t.__scopeMenu),i=n===s.value;return d.jsx(TO,{scope:t.__scopeMenu,checked:i,children:d.jsx(Hv,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":bb(i),onSelect:Z(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});SO.displayName=bO;var Eb="MenuItemIndicator",[TO,dG]=kl(Eb,{checked:!1}),CO=m.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=dG(Eb,n);return d.jsx(If,{present:r||Ag(i.checked)||i.checked===!0,children:d.jsx(ve.span,{...s,ref:e,"data-state":bb(i.checked)})})});CO.displayName=Eb;var hG="MenuSeparator",AO=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return d.jsx(ve.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});AO.displayName=hG;var fG="MenuArrow",RO=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Wv(n);return d.jsx(mb,{...s,...r,ref:e})});RO.displayName=fG;var pG="MenuSub",[Ofe,IO]=kl(pG),bd="MenuSubTrigger",PO=m.forwardRef((t,e)=>{const n=Ml(bd,t.__scopeMenu),r=Nf(bd,t.__scopeMenu),s=IO(bd,t.__scopeMenu),i=wb(bd,t.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},u=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>u,[u]),m.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),d.jsx(vb,{asChild:!0,...c,children:d.jsx(wO,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":kO(n.open),...t,ref:Ov(e,s.onTriggerChange),onClick:h=>{var p;(p=t.onClick)==null||p.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Z(t.onPointerMove,Dh(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:Z(t.onPointerLeave,Dh(h=>{var g,w;u();const p=(g=n.content)==null?void 0:g.getBoundingClientRect();if(p){const v=(w=n.content)==null?void 0:w.dataset.side,_=v==="right",x=_?-5:5,y=p[_?"left":"right"],b=p[_?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+x,y:h.clientY},{x:y,y:p.top},{x:b,y:p.top},{x:b,y:p.bottom},{x:y,y:p.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Z(t.onKeyDown,h=>{var g;const p=i.searchRef.current!=="";t.disabled||p&&h.key===" "||Qq[r.dir].includes(h.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),h.preventDefault())})})})});PO.displayName=bd;var NO="MenuSubContent",DO=m.forwardRef((t,e)=>{const n=mO(ps,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Ml(ps,t.__scopeMenu),o=Nf(ps,t.__scopeMenu),a=IO(NO,t.__scopeMenu),l=m.useRef(null),c=ke(e,l);return d.jsx(Nh.Provider,{scope:t.__scopeMenu,children:d.jsx(If,{present:r||i.open,children:d.jsx(Nh.Slot,{scope:t.__scopeMenu,children:d.jsx(xb,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Z(t.onFocusOutside,u=>{u.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Z(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:Z(t.onKeyDown,u=>{var g;const h=u.currentTarget.contains(u.target),p=Yq[o.dir].includes(u.key);h&&p&&(i.onOpenChange(!1),(g=a.trigger)==null||g.focus(),u.preventDefault())})})})})})});DO.displayName=NO;function kO(t){return t?"open":"closed"}function Ag(t){return t==="indeterminate"}function bb(t){return Ag(t)?"indeterminate":t?"checked":"unchecked"}function mG(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function gG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function vG(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=gG(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function yG(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(s=!s)}return s}function wG(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return yG(n,e)}function Dh(t){return e=>e.pointerType==="mouse"?t(e):void 0}var xG=pO,_G=vb,EG=gO,bG=vO,SG=_b,TG=yO,CG=Hv,AG=xO,RG=EO,IG=SO,PG=CO,NG=AO,DG=RO,kG=PO,MG=DO,Sb="DropdownMenu",[OG,jfe]=g8(Sb,[hO]),yr=hO(),[jG,MO]=OG(Sb),OO=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=yr(e),c=m.useRef(null),[u=!1,h]=aa({prop:s,defaultProp:i,onChange:o});return d.jsx(jG,{scope:e,triggerId:js(),triggerRef:c,contentId:js(),open:u,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(p=>!p),[h]),modal:a,children:d.jsx(xG,{...l,open:u,onOpenChange:h,dir:r,modal:a,children:n})})};OO.displayName=Sb;var jO="DropdownMenuTrigger",LO=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=MO(jO,n),o=yr(n);return d.jsx(_G,{asChild:!0,...o,children:d.jsx(ve.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Ov(e,i.triggerRef),onPointerDown:Z(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:Z(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});LO.displayName=jO;var LG="DropdownMenuPortal",VO=t=>{const{__scopeDropdownMenu:e,...n}=t,r=yr(e);return d.jsx(EG,{...r,...n})};VO.displayName=LG;var FO="DropdownMenuContent",UO=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=MO(FO,n),i=yr(n),o=m.useRef(!1);return d.jsx(bG,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:Z(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:Z(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!s.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});UO.displayName=FO;var VG="DropdownMenuGroup",FG=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(SG,{...s,...r,ref:e})});FG.displayName=VG;var UG="DropdownMenuLabel",BO=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(TG,{...s,...r,ref:e})});BO.displayName=UG;var BG="DropdownMenuItem",$O=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(CG,{...s,...r,ref:e})});$O.displayName=BG;var $G="DropdownMenuCheckboxItem",zO=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(AG,{...s,...r,ref:e})});zO.displayName=$G;var zG="DropdownMenuRadioGroup",KG=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(RG,{...s,...r,ref:e})});KG.displayName=zG;var WG="DropdownMenuRadioItem",KO=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(IG,{...s,...r,ref:e})});KO.displayName=WG;var HG="DropdownMenuItemIndicator",WO=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(PG,{...s,...r,ref:e})});WO.displayName=HG;var qG="DropdownMenuSeparator",HO=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(NG,{...s,...r,ref:e})});HO.displayName=qG;var GG="DropdownMenuArrow",QG=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(DG,{...s,...r,ref:e})});QG.displayName=GG;var YG="DropdownMenuSubTrigger",qO=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(kG,{...s,...r,ref:e})});qO.displayName=YG;var XG="DropdownMenuSubContent",GO=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(MG,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});GO.displayName=XG;var JG=OO,ZG=LO,eQ=VO,QO=UO,YO=BO,XO=$O,JO=zO,ZO=KO,ej=WO,tj=HO,nj=qO,rj=GO;function sj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=sj(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function tQ(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=sj(t))&&(r&&(r+=" "),r+=e);return r}const Tb="-",nQ=t=>{const e=sQ(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Tb);return a[0]===""&&a.length!==1&&a.shift(),ij(a,e)||rQ(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},ij=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?ij(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Tb);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},RR=/^\[(.+)\]$/,rQ=t=>{if(RR.test(t)){const e=RR.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},sQ=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return oQ(Object.entries(t.classGroups),n).forEach(([i,o])=>{Dx(o,r,i,e)}),r},Dx=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:IR(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(iQ(s)){Dx(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Dx(o,IR(e,i),n,r)})})},IR=(t,e)=>{let n=t;return e.split(Tb).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},iQ=t=>t.isThemeGetter,oQ=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,aQ=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},oj="!",lQ=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,u=0,h;for(let _=0;_<a.length;_++){let x=a[_];if(c===0){if(x===s&&(r||a.slice(_,_+i)===e)){l.push(a.slice(u,_)),u=_+i;continue}if(x==="/"){h=_;continue}}x==="["?c++:x==="]"&&c--}const p=l.length===0?a:a.substring(u),g=p.startsWith(oj),w=g?p.substring(1):p,v=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:w,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},cQ=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},uQ=t=>({cache:aQ(t.cacheSize),parseClassName:lQ(t),...nQ(t)}),dQ=/\s+/,hQ=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(dQ);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:g}=n(c);let w=!!g,v=r(w?p.substring(0,g):p);if(!v){if(!w){a=c+(a.length>0?" "+a:a);continue}if(v=r(p),!v){a=c+(a.length>0?" "+a:a);continue}w=!1}const _=cQ(u).join(":"),x=h?_+oj:_,y=x+v;if(i.includes(y))continue;i.push(y);const b=s(v,w);for(let C=0;C<b.length;++C){const P=b[C];i.push(x+P)}a=c+(a.length>0?" "+a:a)}return a};function fQ(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=aj(e))&&(r&&(r+=" "),r+=n);return r}const aj=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=aj(t[r]))&&(n&&(n+=" "),n+=e);return n};function pQ(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((u,h)=>h(u),t());return n=uQ(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=hQ(l,n);return s(l,u),u}return function(){return i(fQ.apply(null,arguments))}}const Mt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},lj=/^\[(?:([a-z-]+):)?(.+)\]$/i,mQ=/^\d+\/\d+$/,gQ=new Set(["px","full","screen"]),vQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wQ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,xQ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_Q=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,wi=t=>Ic(t)||gQ.has(t)||mQ.test(t),po=t=>Ru(t,"length",IQ),Ic=t=>!!t&&!Number.isNaN(Number(t)),Uw=t=>Ru(t,"number",Ic),ud=t=>!!t&&Number.isInteger(Number(t)),EQ=t=>t.endsWith("%")&&Ic(t.slice(0,-1)),Qe=t=>lj.test(t),mo=t=>vQ.test(t),bQ=new Set(["length","size","percentage"]),SQ=t=>Ru(t,bQ,cj),TQ=t=>Ru(t,"position",cj),CQ=new Set(["image","url"]),AQ=t=>Ru(t,CQ,NQ),RQ=t=>Ru(t,"",PQ),dd=()=>!0,Ru=(t,e,n)=>{const r=lj.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},IQ=t=>yQ.test(t)&&!wQ.test(t),cj=()=>!1,PQ=t=>xQ.test(t),NQ=t=>_Q.test(t),DQ=()=>{const t=Mt("colors"),e=Mt("spacing"),n=Mt("blur"),r=Mt("brightness"),s=Mt("borderColor"),i=Mt("borderRadius"),o=Mt("borderSpacing"),a=Mt("borderWidth"),l=Mt("contrast"),c=Mt("grayscale"),u=Mt("hueRotate"),h=Mt("invert"),p=Mt("gap"),g=Mt("gradientColorStops"),w=Mt("gradientColorStopPositions"),v=Mt("inset"),_=Mt("margin"),x=Mt("opacity"),y=Mt("padding"),b=Mt("saturate"),C=Mt("scale"),P=Mt("sepia"),O=Mt("skew"),T=Mt("space"),E=Mt("translate"),I=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",Qe,e],M=()=>[Qe,e],N=()=>["",wi,po],W=()=>["auto",Ic,Qe],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",Qe],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],fe=()=>[Ic,Qe];return{cacheSize:500,separator:":",theme:{colors:[dd],spacing:[wi,po],blur:["none","",mo,Qe],brightness:fe(),borderColor:[t],borderRadius:["none","","full",mo,Qe],borderSpacing:M(),borderWidth:N(),contrast:fe(),grayscale:B(),hueRotate:fe(),invert:B(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[EQ,po],inset:k(),margin:k(),opacity:fe(),padding:M(),saturate:fe(),scale:fe(),sepia:B(),skew:fe(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Qe]}],container:["container"],columns:[{columns:[mo]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),Qe]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ud,Qe]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Qe]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",ud,Qe]}],"grid-cols":[{"grid-cols":[dd]}],"col-start-end":[{col:["auto",{span:["full",ud,Qe]},Qe]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[dd]}],"row-start-end":[{row:["auto",{span:[ud,Qe]},Qe]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Qe]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Qe,e]}],"min-w":[{"min-w":[Qe,e,"min","max","fit"]}],"max-w":[{"max-w":[Qe,e,"none","full","min","max","fit","prose",{screen:[mo]},mo]}],h:[{h:[Qe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Qe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Qe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Qe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",mo,po]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Uw]}],"font-family":[{font:[dd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Qe]}],"line-clamp":[{"line-clamp":["none",Ic,Uw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",wi,Qe]}],"list-image":[{"list-image":["none",Qe]}],"list-style-type":[{list:["none","disc","decimal",Qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",wi,po]}],"underline-offset":[{"underline-offset":["auto",wi,Qe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),TQ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",SQ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},AQ]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:ne()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[wi,Qe]}],"outline-w":[{outline:[wi,po]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[wi,po]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",mo,RQ]}],"shadow-color":[{shadow:[dd]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",mo,Qe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Qe]}],duration:[{duration:fe()}],ease:[{ease:["linear","in","out","in-out",Qe]}],delay:[{delay:fe()}],animate:[{animate:["none","spin","ping","pulse","bounce",Qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[ud,Qe]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Qe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[wi,po,Uw]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},kQ=pQ(DQ);function ue(...t){return kQ(tQ(t))}const Df=JG,kf=ZG,MQ=m.forwardRef(({className:t,inset:e,children:n,...r},s)=>d.jsxs(nj,{ref:s,className:ue("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,d.jsx(yM,{className:"ml-auto h-4 w-4"})]}));MQ.displayName=nj.displayName;const OQ=m.forwardRef(({className:t,...e},n)=>d.jsx(rj,{ref:n,className:ue("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));OQ.displayName=rj.displayName;const Iu=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx(eQ,{children:d.jsx(QO,{ref:r,sideOffset:e,className:ue("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Iu.displayName=QO.displayName;const Xs=m.forwardRef(({className:t,inset:e,...n},r)=>d.jsx(XO,{ref:r,className:ue("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Xs.displayName=XO.displayName;const jQ=m.forwardRef(({className:t,children:e,checked:n,...r},s)=>d.jsxs(JO,{ref:s,className:ue("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(ej,{children:d.jsx(ZE,{className:"h-4 w-4"})})}),e]}));jQ.displayName=JO.displayName;const LQ=m.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(ZO,{ref:r,className:ue("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(ej,{children:d.jsx(ZH,{className:"h-2 w-2 fill-current"})})}),e]}));LQ.displayName=ZO.displayName;const uj=m.forwardRef(({className:t,inset:e,...n},r)=>d.jsx(YO,{ref:r,className:ue("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));uj.displayName=YO.displayName;const Cb=m.forwardRef(({className:t,...e},n)=>d.jsx(tj,{ref:n,className:ue("-mx-1 my-1 h-px bg-muted",t),...e}));Cb.displayName=tj.displayName;const VQ=t=>Object.entries(t).map(([e,n])=>({id:Date.now().toString(),key:e,value:n})),FQ=t=>t<1024?t+" bytes":t<1048576?(t/1024).toFixed(1)+" KB":(t/1048576).toFixed(1)+" MB",kh=t=>{try{const e=decodeURIComponent(t),n=e.lastIndexOf("/")+1,r=e.indexOf("?alt=");return n!==-1&&r!==-1?e.substring(n,r):null}catch(e){return console.error("Failed to extract filename:",e),null}},Ab=t=>t&&t.charAt(0).toUpperCase()+t.slice(1);function dj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=dj(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function UQ(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=dj(t))&&(r&&(r+=" "),r+=e);return r}const PR=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,NR=UQ,Mf=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return NR(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const u=n==null?void 0:n[c],h=i==null?void 0:i[c];if(u===null)return null;const p=PR(u)||PR(h);return s[c][p]}),a=n&&Object.entries(n).reduce((c,u)=>{let[h,p]=u;return p===void 0||(c[h]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:h,className:p,...g}=u;return Object.entries(g).every(w=>{let[v,_]=w;return Array.isArray(_)?_.includes({...i,...a}[v]):{...i,...a}[v]===_})?[...c,h,p]:c},[]);return NR(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},BQ=Mf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Of({className:t,variant:e,...n}){return d.jsx("div",{className:ue(BQ({variant:e}),t),...n})}const $Q=({text:t,children:e})=>{const n=Sf(),r=ut(o=>o.admin),s=ut(o=>o.logout),i=o=>{switch(o){case"admin":return d.jsx(u8,{className:"mr-2 h-4 w-4"});case"editor":return d.jsx(d8,{className:"mr-2 h-4 w-4"});case"viewer":return d.jsx(tb,{className:"mr-2 h-4 w-4"})}};return r?d.jsxs("header",{className:"w-full flex flex-col items-center ",children:[d.jsxs("div",{className:"w-full px-8 h-14 flex items-center justify-between",children:[d.jsx("p",{children:t}),d.jsxs(Df,{children:[d.jsx(kf,{asChild:!0,children:d.jsx("div",{className:"hover:bg-slate-200 rounded-lg p-2 cursor-pointer",children:d.jsx(f8,{})})}),d.jsxs(Iu,{align:"end",className:"w-64 bg-white border border-neutral-300 p-1 rounded-lg shadow-md",children:[d.jsx(uj,{className:"font-normal",children:d.jsxs("div",{className:"flex flex-col space-y-1",children:[d.jsx("p",{className:"text-sm font-medium truncate leading-tight",title:r.email,children:r.email}),d.jsxs("div",{className:"flex items-center pt-1",children:[i(r.role),d.jsx(Of,{variant:"secondary",className:ue("flex w-16 items-center justify-center pointer-events-none select-none",r.role==="admin"&&"bg-red-200 text-red-800",r.role==="editor"&&"bg-blue-200 text-blue-800",r.role==="viewer"&&"bg-green-200 text-green-800"),children:Ab(r.role)})]})]})}),d.jsx(Cb,{}),d.jsxs(Xs,{onClick:s,className:"flex items-center focus:bg-red-400 focus:text-white rounded-md cursor-pointer",children:[d.jsx(i8,{className:"mr-2 h-4 w-4"}),d.jsx("span",{className:"py-2 font-medium",children:"Log Out"})]})]})]})]}),e]}):(n("/login"),null)},zQ=({Component:t})=>d.jsx("div",{className:"flex-1 flex justify-center =py-3",children:d.jsx(t,{})}),KQ=({headerText:t})=>d.jsx("header",{className:"py-4 text-3xl font-semibold w-full",children:t});function Bw(){return Date.now().toString()}const tt=()=>{const t=new Date,e={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};return t.toLocaleDateString("en-US",e)},WQ=t=>{const e=new Date(t),r=new Date().getTime()-e.getTime(),s=Math.floor(r/(1e3*60)),i=Math.floor(s/60),o=Math.floor(i/24);return o>0?`${o}d`:i>0?`${i}h`:`${s}m`},$w="https://cob-chatbot.onrender.com",qv=async(t,e)=>{const{method:n="GET",headers:r={},body:s}=e,{accessToken:i,setAccessToken:o,logout:a}=ut.getState(),l={method:n,credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer ${i}`,...r},...s&&{body:JSON.stringify(s)}};try{let c=await fetch(`${$w}${t}`,l);if(c.status===401){pt("Fetching new access token");const h=await fetch(`${$w}/api/auth/refresh-token`,{method:"POST",credentials:"include"});(h.status===404||h.status===401)&&a();const{accessToken:p}=await h.json();o(p),l.headers={...l.headers,authorization:`Bearer ${p}`},c=await fetch(`${$w}${t}`,l)}if(c.status===429){const h=await c.text();throw pt(`Too many requests: ${h}`),new Error(h)}return await c.json()}catch(c){throw c}},jf=(t,e)=>qv(t,{method:"GET",headers:e}),Sa=(t,e,n)=>qv(t,{method:"POST",headers:e,body:n}),Gv=(t,e,n)=>qv(t,{method:"PUT",headers:e,body:n}),Lf=(t,e,n)=>qv(t,{method:"DELETE",headers:e,body:n}),HQ=async t=>{const e={userQuery:t},{success:n,response:r}=await Sa("/api/chatbot/query-admin",{},e);if(!n)throw new Error(`Sending query to chatbot was unsuccessful: ${r}`);return r},qQ=async()=>{const{success:t,response:e}=await Sa("/api/chatbot/train",{});if(!t)throw new Error(`Training model is unsuccessful: ${e}`)},hj=()=>e=>new Promise(n=>{setTimeout(n,e)}),ji=ro()(Jk((t,e)=>({currentSelectedTabInSettingsTab:"team",currentSelectedTabInArchiveTab:"knowledgeBases",currentSelectedKnowledgeTab:"knowledgeBase",messageCollection:[],setCurrentSelectedTabInSettingsTab:n=>t({currentSelectedTabInSettingsTab:n}),setCurrentSelectedTabInArchiveTab:n=>t({currentSelectedTabInArchiveTab:n}),setCurrentSelectedKnowledgeTab:n=>t({currentSelectedKnowledgeTab:n}),setMessageHistory:(n,r)=>{const s=e().messageCollection,i=s.map(o=>o.email===n?{...o,history:[...o.history,r]}:o);s.some(o=>o.email===n)||i.push({email:n,history:[r]}),t({messageCollection:i})},clearMessageHistory:n=>{const s=e().messageCollection.filter(i=>i.email!==n);t({messageCollection:s})}}),{name:"auth-storage",storage:GE(()=>sessionStorage)})),GQ=()=>{const t=hj(),e=ut(C=>C.admin),n=ji(C=>C.messageCollection),r=ji(C=>C.clearMessageHistory),s=ji(C=>C.setMessageHistory),i=m.useMemo(()=>{const C=n.find(P=>P.email===(e==null?void 0:e.email));return(C==null?void 0:C.history)||[]},[n,e==null?void 0:e.email]),[o,a]=m.useState(null),[l,c]=m.useState(!1),u=m.useRef(null),h=()=>{var C;(C=u.current)==null||C.scrollIntoView({behavior:"smooth"})};m.useEffect(()=>{h()},[n]);const p=()=>{r(e==null?void 0:e.email)},g=C=>C.replace(/\[=[^\]]+=\]/g,"").trim(),w=C=>{var O;const P=/\[\=([^\]]+)\=\]/;if(P.test(C)){const T=C.match(P);if(T){const E=(O=kh(T[1]))==null?void 0:O.split(".")[1];return{type:"file",source:T[1],fileType:E??"unknown"}}}},v=C=>{const P={uuid:Bw(),text:C,sender:"user"};s(e==null?void 0:e.email,P)},_=C=>{a(C),!l&&c(!0)},x=C=>{const P={uuid:Bw(),text:C.answer,sender:"bot",response:C};a(C),l||c(!0),s(e==null?void 0:e.email,P)},y=(C,P)=>{const O={uuid:Bw(),sender:"bot",fileData:{source:C,type:P}};s(e==null?void 0:e.email,O)};return{relevantMessageHistory:i,handleClearAdminMessageHistory:p,handleSubmitMessage:async C=>{try{if(!C)throw new Error("Message is empty");v(C);const P=await HQ(C),O=w(P.answer);if(!O){x(P);return}const T=g(P.answer),E={...P,answer:T};x(E),await t(1e3),O.type==="file"&&y(O.source,O.fileType)}catch(P){if(P instanceof Error){pt(P.message,!0);return}console.error("Unknown error occured: ",P)}},endOfMessagesRef:u,selectedResponse:o,handleMessageClick:_,isInfoPanelOpen:l,setIsInfoPanelOpen:c}};var Rb="Progress",Ib=100,[QQ,Lfe]=Dl(Rb),[YQ,XQ]=QQ(Rb),fj=m.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=JQ,...o}=t;(s||s===0)&&!DR(s)&&console.error(ZQ(`${s}`,"Progress"));const a=DR(s)?s:Ib;r!==null&&!kR(r,a)&&console.error(eY(`${r}`,"Progress"));const l=kR(r,a)?r:null,c=Rg(l)?i(l,a):void 0;return d.jsx(YQ,{scope:n,value:l,max:a,children:d.jsx(ve.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Rg(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":gj(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});fj.displayName=Rb;var pj="ProgressIndicator",mj=m.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=XQ(pj,n);return d.jsx(ve.div,{"data-state":gj(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});mj.displayName=pj;function JQ(t,e){return`${Math.round(t/e*100)}%`}function gj(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Rg(t){return typeof t=="number"}function DR(t){return Rg(t)&&!isNaN(t)&&t>0}function kR(t,e){return Rg(t)&&!isNaN(t)&&t<=e&&t>=0}function ZQ(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Ib}\`.`}function eY(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Ib} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var vj=fj,tY=mj;const yj=m.forwardRef(({className:t,value:e,...n},r)=>d.jsx(vj,{ref:r,className:ue("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:d.jsx(tY,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));yj.displayName=vj.displayName;const nY=({responseData:t,showPanel:e})=>{var r,s,i;const n=()=>t==null?void 0:t.classifications.slice(0,3).filter(a=>a.intent!=="None"&&a.score>0);return d.jsx("div",{className:`bg-gray-50  transition-all duration-300 ease-in-out overflow-hidden ${e?"w-64 border-l border-neutral-200":"w-0"}`,children:d.jsx("div",{className:"w-64 h-full",children:d.jsxs("div",{className:ue(`p-4 h-full flex flex-col transition-opacity duration-300,
            showPanel ? "opacity-100" : "opacity-0"
            }`),children:[d.jsxs("h2",{className:"text-lg font-semibold text-gray-700 mb-4 flex items-center",children:[d.jsx(t8,{className:"w-5 h-5 mr-2"}),"Bot Response Info"]}),t?d.jsxs("div",{className:"space-y-4 flex-grow",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"flex items-center justify-between space-x-2 text-sm font-medium text-gray-700 mb-1",children:[d.jsx("p",{children:"Confidence Score "}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(CM,{className:"size-4 mr-1 text-yellow-400 fill-yellow-400"}),d.jsx("span",{className:"text-sm font-medium text-gray-600",children:t.score.toFixed(2)})]})]}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsx(yj,{value:t.score*100,className:"w-full"})})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Detected Intent"}),d.jsx(Of,{variant:"outline",children:t==null?void 0:t.intent})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Other Possible Intents"}),d.jsx("ul",{className:ue("list-disc space-y-1",((r=n())==null?void 0:r.length)&&"pl-5"),children:(s=n())!=null&&s.length?(i=n())==null?void 0:i.map((o,a)=>d.jsx("li",{className:"text-sm ",children:d.jsxs("div",{className:"line-clamp-3",children:[d.jsx("span",{style:{whiteSpace:"normal",overflowWrap:"break-word"},children:o.intent}),d.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",o.score.toFixed(2),")"]})]})},a)):d.jsx("span",{className:"text-sm text-muted-foreground",children:"No other intents detected"})})]})]}):d.jsx("div",{className:"text-center text-gray-500",children:"No bot response yet. Start a conversation to see details."})]})})})},Lt=m.forwardRef(({className:t,type:e,...n},r)=>d.jsx("input",{type:e,className:ue("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Lt.displayName="Input";const Pb=Mf("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Xe=m.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?la:"button";return d.jsx(o,{className:ue(Pb({variant:e,size:n,className:t})),ref:i,...s})});Xe.displayName="Button";const rY=({onSendMessage:t})=>{const[e,n]=m.useState(""),[r,s]=m.useState([]),[i,o]=m.useState(-1),a=h=>{s(p=>{const g=[...p,h];return g.length>3?g.slice(1):g})},l=h=>{n(h.target.value),o(-1)},c=async()=>{const h=e;a(h),n(""),await t(h)},u=async h=>{h.key==="Enter"&&e.trim()!==""&&await c(),h.key==="ArrowUp"&&(i>0?(o(i-1),n(r[i-1])):i===-1&&r.length>0&&(o(r.length-1),n(r[r.length-1]))),h.key==="ArrowDown"&&(i<r.length-1?(o(i+1),n(r[i+1])):(o(-1),n("")))};return d.jsxs("div",{className:"w-full h-[5rem] border-t border-t-customBorderColor flex items-center justify-between px-4 space-x-2",children:[d.jsx(Lt,{placeholder:"Type message here",value:e,onChange:l,onKeyDown:u}),d.jsxs(Xe,{onClick:async()=>await c(),children:[d.jsx(TM,{className:"size-4 mr-2"}),"Send"]})]})},sY=["png","jpg","jpeg","jfif"],iY=["mp4"],oY=["pdf"],aY=({message:t,onItemClick:e})=>{const n=r=>/{=([^{}]+)=}/.test(r);if("fileData"in t){const{source:r,type:s}=t.fileData,i=o=>{if(sY.includes(o))return d.jsx("img",{className:"w-72 rounded-2xl",src:r});if(iY.includes(o))return d.jsx("video",{width:"288",height:"360",className:"rounded-2xl",controls:!0,children:d.jsx("source",{src:r,type:"video/mp4"})});if(oY.includes(o))return d.jsxs("div",{className:"flex space-x-1.5 items-center w-fit rounded-tl-2xl rounded-tr-2xl py-2.5 px-4 text-blue-600 rounded-br-2xl rounded-bl-[2px] bg-gray-100 cursor-pointer",children:[d.jsx(EM,{className:"size-5"}),d.jsx("a",{href:r,target:"_blank",className:"hover:underline underline-offset-2",children:kh(r)??"click here"})]})};return d.jsx(d.Fragment,{children:i(s)})}if(n(t.text)){const{response:r}=t,s=t.text.replace(/<(.+?)>\{=(.+?)=\}/g,(i,o,a)=>`<a class="font-semibold text-primary dark:text-secondary hover:underline" href="${a}" target="_blank" rel="noopener noreferrer">${o}</a>`);return d.jsx("div",{className:"max-w-[80%] w-fit rounded-tl-2xl rounded-tr-2xl transition-colors ease-out whitespace-pre-wrap leading-relaxed py-2.5 px-4 rounded-br-2xl rounded-bl-[2px] bg-gray-100 cursor-pointer",dangerouslySetInnerHTML:{__html:s},onClick:r?()=>e(r):void 0})}if("text"in t&&"sender"in t||"response"in t){const{text:r,sender:s,response:i}=t;return d.jsx("div",{className:ue("flex",s==="user"?"justify-end":"justify-start"),onClick:i?()=>e(i):void 0,children:d.jsx("div",{className:ue("max-w-[80%] rounded-tl-2xl rounded-tr-2xl transition-colors ease-out whitespace-pre-wrap leading-relaxed",s==="user"?"text-white py-1.5 px-3.5 rounded-bl-2xl rounded-br-[4px] bg-blue-500":"py-2.5 px-4 rounded-br-2xl rounded-bl-[2px] bg-gray-100 cursor-pointer",i?"hover:bg-gray-200":""),children:r})})}return null},Pu=({items:t,renderItem:e,listStyle:n})=>d.jsx("div",{className:n,children:t==null?void 0:t.map((r,s)=>d.jsx(m.Fragment,{children:e(r)},s))});function lY(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}function Mh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const kx=t=>Array.isArray(t);function wj(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Oh(t){return typeof t=="string"||Array.isArray(t)}function MR(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Nb(t,e,n,r){if(typeof e=="function"){const[s,i]=MR(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=MR(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Qv(t,e,n){const r=t.getProps();return Nb(r,e,n!==void 0?n:r.custom,t)}const Db=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kb=["initial",...Db],Vf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ta=new Set(Vf),Li=t=>t*1e3,Vi=t=>t/1e3,cY={type:"spring",stiffness:500,damping:25,restSpeed:10},uY=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),dY={type:"keyframes",duration:.8},hY={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},fY=(t,{keyframes:e})=>e.length>2?dY:Ta.has(t)?t.startsWith("scale")?uY(e[1]):cY:hY;function pY({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function Mb(t,e){return t[e]||t.default||t}const mY={skipAnimations:!1,useManualTiming:!1},gY=t=>t!==null;function Yv(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(gY),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const ir=t=>t;function vY(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){i.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,u=!1,h=!1)=>{const g=h&&r?e:n;return u&&i.add(c),g.has(c)||g.add(c),c},cancel:c=>{n.delete(c),i.delete(c)},process:c=>{if(o=c,r){s=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,s&&(s=!1,l.process(c))}};return l}const $p=["read","resolveKeyframes","update","preRender","render","postRender"],yY=40;function xj(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=$p.reduce((x,y)=>(x[y]=vY(i),x),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:h,postRender:p}=o,g=()=>{const x=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(x-s.timestamp,yY),1),s.timestamp=x,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),u.process(s),h.process(s),p.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(g))},w=()=>{n=!0,r=!0,s.isProcessing||t(g)};return{schedule:$p.reduce((x,y)=>{const b=o[y];return x[y]=(C,P=!1,O=!1)=>(n||w(),b.schedule(C,P,O)),x},{}),cancel:x=>{for(let y=0;y<$p.length;y++)o[$p[y]].cancel(x)},state:s,steps:o}}const{schedule:wt,cancel:Zi,state:Fn,steps:zw}=xj(typeof requestAnimationFrame<"u"?requestAnimationFrame:ir,!0),_j=t=>/^0[^.\s]+$/u.test(t);function wY(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||_j(t):!0}let Mx=ir;const Ej=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),bj=t=>e=>typeof e=="string"&&e.startsWith(t),Sj=bj("--"),xY=bj("var(--"),Ob=t=>xY(t)?_Y.test(t.split("/*")[0].trim()):!1,_Y=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,EY=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function bY(t){const e=EY.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function Tj(t,e,n=1){const[r,s]=bY(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return Ej(o)?parseFloat(o):o}return Ob(s)?Tj(s,e,n+1):s}const fa=(t,e,n)=>n>e?e:n<t?t:n,Nu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},$d={...Nu,transform:t=>fa(0,1,t)},zp={...Nu,default:1},zd=t=>Math.round(t*1e5)/1e5,jb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,SY=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,TY=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function Ff(t){return typeof t=="string"}function CY(t){return t==null}const Uf=t=>({test:e=>Ff(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),yo=Uf("deg"),ii=Uf("%"),De=Uf("px"),AY=Uf("vh"),RY=Uf("vw"),OR={...ii,parse:t=>ii.parse(t)/100,transform:t=>ii.transform(t*100)},IY=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),jR=t=>t===Nu||t===De,LR=(t,e)=>parseFloat(t.split(", ")[e]),VR=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return LR(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?LR(i[1],t):0}},PY=new Set(["x","y","z"]),NY=Vf.filter(t=>!PY.has(t));function DY(t){const e=[];return NY.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const su={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:VR(4,13),y:VR(5,14)};su.translateX=su.x;su.translateY=su.y;const Cj=t=>e=>e.test(t),kY={test:t=>t==="auto",parse:t=>t},Aj=[Nu,De,ii,yo,RY,AY,kY],FR=t=>Aj.find(Cj(t)),cl=new Set;let Ox=!1,jx=!1;function Rj(){if(jx){const t=Array.from(cl).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=DY(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}jx=!1,Ox=!1,cl.forEach(t=>t.complete()),cl.clear()}function Ij(){cl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(jx=!0)})}function MY(){Ij(),Rj()}class Lb{constructor(e,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(cl.add(this),Ox||(Ox=!0,wt.read(Ij),wt.resolveKeyframes(Rj))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),cl.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,cl.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Vb=(t,e)=>n=>!!(Ff(n)&&TY.test(n)&&n.startsWith(t)||e&&!CY(n)&&Object.prototype.hasOwnProperty.call(n,e)),Pj=(t,e,n)=>r=>{if(!Ff(r))return r;const[s,i,o,a]=r.match(jb);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},OY=t=>fa(0,255,t),Kw={...Nu,transform:t=>Math.round(OY(t))},Qa={test:Vb("rgb","red"),parse:Pj("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Kw.transform(t)+", "+Kw.transform(e)+", "+Kw.transform(n)+", "+zd($d.transform(r))+")"};function jY(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Lx={test:Vb("#"),parse:jY,transform:Qa.transform},hc={test:Vb("hsl","hue"),parse:Pj("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ii.transform(zd(e))+", "+ii.transform(zd(n))+", "+zd($d.transform(r))+")"},er={test:t=>Qa.test(t)||Lx.test(t)||hc.test(t),parse:t=>Qa.test(t)?Qa.parse(t):hc.test(t)?hc.parse(t):Lx.parse(t),transform:t=>Ff(t)?t:t.hasOwnProperty("red")?Qa.transform(t):hc.transform(t)};function LY(t){var e,n;return isNaN(t)&&Ff(t)&&(((e=t.match(jb))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(SY))===null||n===void 0?void 0:n.length)||0)>0}const Nj="number",Dj="color",VY="var",FY="var(",UR="${}",UY=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function jh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(UY,l=>(er.test(l)?(r.color.push(i),s.push(Dj),n.push(er.parse(l))):l.startsWith(FY)?(r.var.push(i),s.push(VY),n.push(l)):(r.number.push(i),s.push(Nj),n.push(parseFloat(l))),++i,UR)).split(UR);return{values:n,split:a,indexes:r,types:s}}function kj(t){return jh(t).values}function Mj(t){const{split:e,types:n}=jh(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===Nj?i+=zd(s[o]):a===Dj?i+=er.transform(s[o]):i+=s[o]}return i}}const BY=t=>typeof t=="number"?0:t;function $Y(t){const e=kj(t);return Mj(t)(e.map(BY))}const pa={test:LY,parse:kj,createTransformer:Mj,getAnimatableNone:$Y},zY=new Set(["brightness","contrast","saturate","opacity"]);function KY(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(jb)||[];if(!r)return t;const s=n.replace(r,"");let i=zY.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const WY=/\b([a-z-]*)\(.*?\)/gu,Vx={...pa,getAnimatableNone:t=>{const e=t.match(WY);return e?e.map(KY).join(" "):t}},BR={...Nu,transform:Math.round},Fb={borderWidth:De,borderTopWidth:De,borderRightWidth:De,borderBottomWidth:De,borderLeftWidth:De,borderRadius:De,radius:De,borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomRightRadius:De,borderBottomLeftRadius:De,width:De,maxWidth:De,height:De,maxHeight:De,size:De,top:De,right:De,bottom:De,left:De,padding:De,paddingTop:De,paddingRight:De,paddingBottom:De,paddingLeft:De,margin:De,marginTop:De,marginRight:De,marginBottom:De,marginLeft:De,rotate:yo,rotateX:yo,rotateY:yo,rotateZ:yo,scale:zp,scaleX:zp,scaleY:zp,scaleZ:zp,skew:yo,skewX:yo,skewY:yo,distance:De,translateX:De,translateY:De,translateZ:De,x:De,y:De,z:De,perspective:De,transformPerspective:De,opacity:$d,originX:OR,originY:OR,originZ:De,zIndex:BR,backgroundPositionX:De,backgroundPositionY:De,fillOpacity:$d,strokeOpacity:$d,numOctaves:BR},HY={...Fb,color:er,backgroundColor:er,outlineColor:er,fill:er,stroke:er,borderColor:er,borderTopColor:er,borderRightColor:er,borderBottomColor:er,borderLeftColor:er,filter:Vx,WebkitFilter:Vx},Ub=t=>HY[t];function Oj(t,e){let n=Ub(t);return n!==Vx&&(n=pa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const qY=new Set(["auto","none","0"]);function GY(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!qY.has(i)&&jh(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=Oj(n,s)}class jj extends Lb{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),Ob(c))){const u=Tj(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!IY.has(r)||e.length!==2)return;const[s,i]=e,o=FR(s),a=FR(i);if(o!==a)if(jR(o)&&jR(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)wY(e[s])&&r.push(s);r.length&&GY(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=su[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=su[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function Lj(t){let e;return()=>(e===void 0&&(e=t()),e)}let Cm;function QY(){Cm=void 0}const oi={now:()=>(Cm===void 0&&oi.set(Fn.isProcessing||mY.useManualTiming?Fn.timestamp:performance.now()),Cm),set:t=>{Cm=t,queueMicrotask(QY)}},$R=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(pa.test(t)||t==="0")&&!t.startsWith("url("));function YY(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function XY(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=$R(s,e),a=$R(i,e);return!o||!a?!1:YY(t)||n==="spring"&&r}const JY=40;class Vj{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=oi.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>JY?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&MY(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=oi.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!XY(e,r,s,i))if(o)this.options.duration=0;else{l==null||l(Yv(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function Fj(t,e){return e?t*(1e3/e):0}const ZY=5;function Uj(t,e,n){const r=Math.max(e-ZY,0);return Fj(n-t(r),e-r)}const Ww=.001,eX=.01,tX=10,nX=.05,rX=1;function sX({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,o=1-e;o=fa(nX,rX,o),t=fa(eX,tX,Vi(t)),o<1?(s=c=>{const u=c*o,h=u*t,p=u-n,g=Fx(c,o),w=Math.exp(-h);return Ww-p/g*w},i=c=>{const h=c*o*t,p=h*n+n,g=Math.pow(o,2)*Math.pow(c,2)*t,w=Math.exp(-h),v=Fx(Math.pow(c,2),o);return(-s(c)+Ww>0?-1:1)*((p-g)*w)/v}):(s=c=>{const u=Math.exp(-c*t),h=(c-n)*t+1;return-Ww+u*h},i=c=>{const u=Math.exp(-c*t),h=(n-c)*(t*t);return u*h});const a=5/t,l=oX(s,i,a);if(t=Li(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const iX=12;function oX(t,e,n){let r=n;for(let s=1;s<iX;s++)r=r-t(r)/e(r);return r}function Fx(t,e){return t*Math.sqrt(1-e*e)}const aX=["duration","bounce"],lX=["stiffness","damping","mass"];function zR(t,e){return e.some(n=>t[n]!==void 0)}function cX(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!zR(t,lX)&&zR(t,aX)){const n=sX(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function Bj({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:c,duration:u,velocity:h,isResolvedFromDuration:p}=cX({...r,velocity:-Vi(r.velocity||0)}),g=h||0,w=l/(2*Math.sqrt(a*c)),v=i-s,_=Vi(Math.sqrt(a/c)),x=Math.abs(v)<5;n||(n=x?.01:2),e||(e=x?.005:.5);let y;if(w<1){const b=Fx(_,w);y=C=>{const P=Math.exp(-w*_*C);return i-P*((g+w*_*v)/b*Math.sin(b*C)+v*Math.cos(b*C))}}else if(w===1)y=b=>i-Math.exp(-_*b)*(v+(g+_*v)*b);else{const b=_*Math.sqrt(w*w-1);y=C=>{const P=Math.exp(-w*_*C),O=Math.min(b*C,300);return i-P*((g+w*_*v)*Math.sinh(O)+b*v*Math.cosh(O))/b}}return{calculatedDuration:p&&u||null,next:b=>{const C=y(b);if(p)o.done=b>=u;else{let P=0;w<1&&(P=b===0?Li(g):Uj(y,b,C));const O=Math.abs(P)<=n,T=Math.abs(i-C)<=e;o.done=O&&T}return o.value=o.done?i:C,o}}}function KR({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const h=t[0],p={done:!1,value:h},g=E=>a!==void 0&&E<a||l!==void 0&&E>l,w=E=>a===void 0?l:l===void 0||Math.abs(a-E)<Math.abs(l-E)?a:l;let v=n*e;const _=h+v,x=o===void 0?_:o(_);x!==_&&(v=x-h);const y=E=>-v*Math.exp(-E/r),b=E=>x+y(E),C=E=>{const I=y(E),R=b(E);p.done=Math.abs(I)<=c,p.value=p.done?x:R};let P,O;const T=E=>{g(p.value)&&(P=E,O=Bj({keyframes:[p.value,w(p.value)],velocity:Uj(b,E,p.value),damping:s,stiffness:i,restDelta:c,restSpeed:u}))};return T(0),{calculatedDuration:null,next:E=>{let I=!1;return!O&&P===void 0&&(I=!0,C(E),T(E)),P!==void 0&&E>=P?O.next(E-P):(!I&&C(E),p)}}}const $j=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,uX=1e-7,dX=12;function hX(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=$j(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>uX&&++a<dX);return o}function Bf(t,e,n,r){if(t===e&&n===r)return ir;const s=i=>hX(i,0,1,t,n);return i=>i===0||i===1?i:$j(s(i),e,r)}const fX=Bf(.42,0,1,1),pX=Bf(0,0,.58,1),zj=Bf(.42,0,.58,1),mX=t=>Array.isArray(t)&&typeof t[0]!="number",Kj=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Wj=t=>e=>1-t(1-e),Bb=t=>1-Math.sin(Math.acos(t)),Hj=Wj(Bb),gX=Kj(Bb),qj=Bf(.33,1.53,.69,.99),$b=Wj(qj),vX=Kj($b),yX=t=>(t*=2)<1?.5*$b(t):.5*(2-Math.pow(2,-10*(t-1))),WR={linear:ir,easeIn:fX,easeInOut:zj,easeOut:pX,circIn:Bb,circInOut:gX,circOut:Hj,backIn:$b,backInOut:vX,backOut:qj,anticipate:yX},HR=t=>{if(Array.isArray(t)){Mx(t.length===4);const[e,n,r,s]=t;return Bf(e,n,r,s)}else if(typeof t=="string")return Mx(WR[t]!==void 0),WR[t];return t},wX=(t,e)=>n=>e(t(n)),Fi=(...t)=>t.reduce(wX),Lh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Wt=(t,e,n)=>t+(e-t)*n;function Hw(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function xX({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=Hw(l,a,t+1/3),i=Hw(l,a,t),o=Hw(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Ig(t,e){return n=>n>0?e:t}const qw=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},_X=[Lx,Qa,hc],EX=t=>_X.find(e=>e.test(t));function qR(t){const e=EX(t);if(!e)return!1;let n=e.parse(t);return e===hc&&(n=xX(n)),n}const GR=(t,e)=>{const n=qR(t),r=qR(e);if(!n||!r)return Ig(t,e);const s={...n};return i=>(s.red=qw(n.red,r.red,i),s.green=qw(n.green,r.green,i),s.blue=qw(n.blue,r.blue,i),s.alpha=Wt(n.alpha,r.alpha,i),Qa.transform(s))},Ux=new Set(["none","hidden"]);function bX(t,e){return Ux.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function SX(t,e){return n=>Wt(t,e,n)}function zb(t){return typeof t=="number"?SX:typeof t=="string"?Ob(t)?Ig:er.test(t)?GR:AX:Array.isArray(t)?Gj:typeof t=="object"?er.test(t)?GR:TX:Ig}function Gj(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>zb(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function TX(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=zb(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function CX(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][s[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const AX=(t,e)=>{const n=pa.createTransformer(e),r=jh(t),s=jh(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Ux.has(t)&&!s.values.length||Ux.has(e)&&!r.values.length?bX(t,e):Fi(Gj(CX(r,s),s.values),n):Ig(t,e)};function Qj(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Wt(t,e,n):zb(t)(t,e)}function RX(t,e,n){const r=[],s=n||Qj,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||ir:e;a=Fi(l,a)}r.push(a)}return r}function IX(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Mx(i===e.length),i===1)return()=>e[0];if(i===2&&t[0]===t[1])return()=>e[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=RX(e,r,s),a=o.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const h=Lh(t[u],t[u+1],c);return o[u](h)};return n?c=>l(fa(t[0],t[i-1],c)):l}function PX(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Lh(0,e,r);t.push(Wt(n,1,s))}}function NX(t){const e=[0];return PX(e,t.length-1),e}function DX(t,e){return t.map(n=>n*e)}function kX(t,e){return t.map(()=>e||zj).splice(0,t.length-1)}function Pg({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=mX(r)?r.map(HR):HR(r),i={done:!1,value:e[0]},o=DX(n&&n.length===e.length?n:NX(e),t),a=IX(o,e,{ease:Array.isArray(s)?s:kX(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const QR=2e4;function MX(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<QR;)e+=n,r=t.next(e);return e>=QR?1/0:e}const OX=t=>{const e=({timestamp:n})=>t(n);return{start:()=>wt.update(e,!0),stop:()=>Zi(e),now:()=>Fn.isProcessing?Fn.timestamp:oi.now()}},jX={decay:KR,inertia:KR,tween:Pg,keyframes:Pg,spring:Bj},LX=t=>t/100;class Kb extends Vj{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||Lb,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=jX[n]||Pg;let l,c;a!==Pg&&typeof e[0]!="number"&&(l=Fi(LX,Qj(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});i==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=MX(u));const{calculatedDuration:h}=u,p=h+s,g=p*(r+1)-s;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:p,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:p,repeat:g,repeatType:w,repeatDelay:v,onUpdate:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const x=this.currentTime-p*(this.speed>=0?1:-1),y=this.speed>=0?x<0:x>u;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let b=this.currentTime,C=i;if(g){const E=Math.min(this.currentTime,u)/h;let I=Math.floor(E),R=E%1;!R&&E>=1&&(R=1),R===1&&I--,I=Math.min(I,g+1),!!(I%2)&&(w==="reverse"?(R=1-R,v&&(R-=v/h)):w==="mirror"&&(C=o)),b=fa(0,1,R)*h}const P=y?{done:!1,value:l[0]}:C.next(b);a&&(P.value=a(P.value));let{done:O}=P;!y&&c!==null&&(O=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return T&&s!==void 0&&(P.value=Yv(l,this.options,s)),_&&_(P.value),T&&this.finish(),P}get duration(){const{resolved:e}=this;return e?Vi(e.calculatedDuration):0}get time(){return Vi(this.currentTime)}set time(e){e=Li(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Vi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=OX,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Yj=new Set(["opacity","clipPath","filter","transform"]),Xj=t=>Array.isArray(t)&&typeof t[0]=="number";function Jj(t){return!!(!t||typeof t=="string"&&t in Wb||Xj(t)||Array.isArray(t)&&t.every(Jj))}const Sd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Wb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sd([0,.65,.55,1]),circOut:Sd([.55,0,1,.45]),backIn:Sd([.31,.01,.66,-.59]),backOut:Sd([.33,1.53,.69,.99])};function VX(t){return Zj(t)||Wb.easeOut}function Zj(t){if(t)return Xj(t)?Sd(t):Array.isArray(t)?t.map(VX):Wb[t]}function FX(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=Zj(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const UX=Lj(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ng=10,BX=2e4;function $X(t){return t.type==="spring"||!Jj(t.ease)}function zX(t,e){const n=new Kb({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<BX;)r=n.sample(i),s.push(r.value),i+=Ng;return{times:void 0,keyframes:s,duration:i-Ng,ease:"linear"}}class YR extends Vj{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new jj(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:s=300,times:i,ease:o,type:a,motionValue:l,name:c,startTime:u}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if($X(this.options)){const{onComplete:p,onUpdate:g,motionValue:w,element:v,..._}=this.options,x=zX(e,_);e=x.keyframes,e.length===1&&(e[1]=e[0]),s=x.duration,i=x.times,o=x.ease,a="keyframes"}const h=FX(l.owner.current,c,e,{...this.options,duration:s,times:i,ease:o});return h.startTime=u??this.calcStartTime(),this.pendingTimeline?(h.timeline=this.pendingTimeline,this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:p}=this.options;l.set(Yv(e,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:s,times:i,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Vi(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Vi(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Li(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return ir;const{animation:r}=n;r.timeline=e,r.onfinish=null}return ir}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:h,element:p,...g}=this.options,w=new Kb({...g,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),v=Li(this.time);c.setWithVelocity(w.sample(v-Ng).value,w.sample(v).value,Ng)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=e;return UX()&&r&&Yj.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}function KX(t,e){let n;const r=()=>{const{currentTime:s}=e,o=(s===null?0:s.value)/100;n!==o&&t(o),n=o};return wt.update(r,!0),()=>Zi(r)}const WX=Lj(()=>window.ScrollTimeline!==void 0);class HX{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>{if(WX()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),KX(s=>{r.time=r.duration*s},e)});return()=>{n.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const Hb=(t,e,n,r={},s,i,o)=>a=>{const l=Mb(r,t)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Li(c);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:g=>{e.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{a(),l.onComplete&&l.onComplete(),o&&o()},onStop:o,name:t,motionValue:e,element:i?void 0:s};pY(l)||(h={...h,...fY(t,h)}),h.duration&&(h.duration=Li(h.duration)),h.repeatDelay&&(h.repeatDelay=Li(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let p=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(p=!0)),p&&!i&&e.get()!==void 0){const g=Yv(h.keyframes,l);if(g!==void 0)return wt.update(()=>{h.onUpdate(g),h.onComplete()}),new HX([])}return!i&&YR.supports(h)?new YR(h):new Kb(h)},qX=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),GX=t=>kx(t)?t[t.length-1]||0:t;function Xv(t,e){t.indexOf(e)===-1&&t.push(e)}function Jv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class qb{constructor(){this.subscriptions=[]}add(e){return Xv(this.subscriptions,e),()=>Jv(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const XR=30,QX=t=>!isNaN(parseFloat(t));class eL{constructor(e,n={}){this.version="11.5.6",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=oi.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=oi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=QX(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new qb);const r=this.events[e].add(n);return e==="change"?()=>{r(),wt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=oi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>XR)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,XR);return Fj(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vh(t,e){return new eL(t,e)}function YX(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Vh(n))}function XX(t,e){const n=Qv(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=GX(i[o]);YX(t,o,a)}}const Zv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),JX="framerAppearId",tL="data-"+Zv(JX);function nL(t){return t.props[tL]}function rL(t){if(Ta.has(t))return"transform";if(Yj.has(t))return Zv(t)}class ZX extends eL{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(e){const n=rL(e);if(!n)return;const r=this.counts.get(n)||0;this.counts.set(n,r+1),r===0&&(this.output.push(n),this.update());let s=!1;return()=>{if(s)return;s=!0;const i=this.counts.get(n)-1;this.counts.set(n,i),i===0&&(Jv(this.output,n),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}const sr=t=>!!(t&&t.getVelocity);function eJ(t){return!!(sr(t)&&t.add)}function Bx(t,e){var n;if(!t.applyWillChange)return;let r=t.getValue("willChange");if(!r&&!(!((n=t.props.style)===null||n===void 0)&&n.willChange)&&(r=new ZX("auto"),t.addValue("willChange",r)),eJ(r))return r.add(e)}function tJ({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function sL(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const h in l){const p=t.getValue(h,(i=t.latestValues[h])!==null&&i!==void 0?i:null),g=l[h];if(g===void 0||u&&tJ(u,h))continue;const w={delay:n,...Mb(o||{},h)};let v=!1;if(window.MotionHandoffAnimation){const x=nL(t);if(x){const y=window.MotionHandoffAnimation(x,h,wt);y!==null&&(w.startTime=y,v=!0)}}p.start(Hb(h,p,g,t.shouldReduceMotion&&Ta.has(h)?{type:!1}:w,t,v,Bx(t,h)));const _=p.animation;_&&c.push(_)}return a&&Promise.all(c).then(()=>{wt.update(()=>{a&&XX(t,a)})}),c}function $x(t,e,n={}){var r;const s=Qv(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(sL(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:p}=i;return nJ(t,e,u+c,h,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function nJ(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(rJ).forEach((c,u)=>{c.notify("AnimationStart",e),o.push($x(c,e,{...i,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function rJ(t,e){return t.sortNodePosition(e)}function sJ(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>$x(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=$x(t,e,n);else{const s=typeof e=="function"?Qv(t,e,n.custom):e;r=Promise.all(sL(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const iJ=kb.length;function iL(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?iL(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<iJ;n++){const r=kb[n],s=t.props[r];(Oh(s)||s===!1)&&(e[r]=s)}return e}const oJ=[...Db].reverse(),aJ=Db.length;function lJ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>sJ(t,n,r)))}function cJ(t){let e=lJ(t),n=JR(),r=!0;const s=l=>(c,u)=>{var h;const p=Qv(t,u,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(p){const{transition:g,transitionEnd:w,...v}=p;c={...c,...v,...w}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,u=iL(t.parent)||{},h=[],p=new Set;let g={},w=1/0;for(let _=0;_<aJ;_++){const x=oJ[_],y=n[x],b=c[x]!==void 0?c[x]:u[x],C=Oh(b),P=x===l?y.isActive:null;P===!1&&(w=_);let O=b===u[x]&&b!==c[x]&&C;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),y.protectedKeys={...g},!y.isActive&&P===null||!b&&!y.prevProp||Mh(b)||typeof b=="boolean")continue;const T=uJ(y.prevProp,b);let E=T||x===l&&y.isActive&&!O&&C||_>w&&C,I=!1;const R=Array.isArray(b)?b:[b];let k=R.reduce(s(x),{});P===!1&&(k={});const{prevResolvedValues:M={}}=y,N={...M,...k},W=Y=>{E=!0,p.has(Y)&&(I=!0,p.delete(Y)),y.needsAnimating[Y]=!0;const z=t.getValue(Y);z&&(z.liveStyle=!1)};for(const Y in N){const z=k[Y],B=M[Y];if(g.hasOwnProperty(Y))continue;let J=!1;kx(z)&&kx(B)?J=!wj(z,B):J=z!==B,J?z!=null?W(Y):p.add(Y):z!==void 0&&p.has(Y)?W(Y):y.protectedKeys[Y]=!0}y.prevProp=b,y.prevResolvedValues=k,y.isActive&&(g={...g,...k}),r&&t.blockInitialAnimation&&(E=!1),E&&(!(O&&T)||I)&&h.push(...R.map(Y=>({animation:Y,options:{type:x}})))}if(p.size){const _={};p.forEach(x=>{const y=t.getBaseTarget(x),b=t.getValue(x);b&&(b.liveStyle=!0),_[x]=y??null}),h.push({animation:_})}let v=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(h):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=JR(),r=!0}}}function uJ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!wj(e,t):!1}function Va(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function JR(){return{animate:Va(!0),whileInView:Va(),whileHover:Va(),whileTap:Va(),whileDrag:Va(),whileFocus:Va(),exit:Va()}}class Ca{constructor(e){this.isMounted=!1,this.node=e}update(){}}class dJ extends Ca{constructor(e){super(e),e.animationState||(e.animationState=cJ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Mh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let hJ=0;class fJ extends Ca{constructor(){super(...arguments),this.id=hJ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const pJ={animation:{Feature:dJ},exit:{Feature:fJ}},oL=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function ey(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const mJ=t=>e=>oL(e)&&t(e,ey(e));function Ni(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ui(t,e,n,r){return Ni(t,e,mJ(n),r)}const ZR=(t,e)=>Math.abs(t-e);function gJ(t,e){const n=ZR(t.x,e.x),r=ZR(t.y,e.y);return Math.sqrt(n**2+r**2)}class aL{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Qw(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=gJ(h.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:w}=h,{timestamp:v}=Fn;this.history.push({...w,timestamp:v});const{onStart:_,onMove:x}=this.handlers;p||(_&&_(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Gw(p,this.transformPagePoint),wt.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:g,onSessionEnd:w,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Qw(h.type==="pointercancel"?this.lastMoveEventInfo:Gw(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,_),w&&w(h,_)},!oL(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=ey(e),a=Gw(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Fn;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,Qw(a,this.history)),this.removeListeners=Fi(Ui(this.contextWindow,"pointermove",this.handlePointerMove),Ui(this.contextWindow,"pointerup",this.handlePointerUp),Ui(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Zi(this.updatePoint)}}function Gw(t,e){return e?{point:e(t.point)}:t}function e1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Qw({point:t},e){return{point:t,delta:e1(t,lL(e)),offset:e1(t,vJ(e)),velocity:yJ(e,.1)}}function vJ(t){return t[0]}function lL(t){return t[t.length-1]}function yJ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=lL(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Li(e)));)n--;if(!r)return{x:0,y:0};const i=Vi(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function cL(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const t1=cL("dragHorizontal"),n1=cL("dragVertical");function uL(t){let e=!1;if(t==="y")e=n1();else if(t==="x")e=t1();else{const n=t1(),r=n1();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function dL(){const t=uL(!0);return t?(t(),!1):!0}function fc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const hL=1e-4,wJ=1-hL,xJ=1+hL,fL=.01,_J=0-fL,EJ=0+fL;function Gr(t){return t.max-t.min}function bJ(t,e,n){return Math.abs(t-e)<=n}function r1(t,e,n,r=.5){t.origin=r,t.originPoint=Wt(e.min,e.max,t.origin),t.scale=Gr(n)/Gr(e),t.translate=Wt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=wJ&&t.scale<=xJ||isNaN(t.scale))&&(t.scale=1),(t.translate>=_J&&t.translate<=EJ||isNaN(t.translate))&&(t.translate=0)}function Kd(t,e,n,r){r1(t.x,e.x,n.x,r?r.originX:void 0),r1(t.y,e.y,n.y,r?r.originY:void 0)}function s1(t,e,n){t.min=n.min+e.min,t.max=t.min+Gr(e)}function SJ(t,e,n){s1(t.x,e.x,n.x),s1(t.y,e.y,n.y)}function i1(t,e,n){t.min=e.min-n.min,t.max=t.min+Gr(e)}function Wd(t,e,n){i1(t.x,e.x,n.x),i1(t.y,e.y,n.y)}function TJ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Wt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Wt(n,t,r.max):Math.min(t,n)),t}function o1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function CJ(t,{top:e,left:n,bottom:r,right:s}){return{x:o1(t.x,n,s),y:o1(t.y,e,r)}}function a1(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function AJ(t,e){return{x:a1(t.x,e.x),y:a1(t.y,e.y)}}function RJ(t,e){let n=.5;const r=Gr(t),s=Gr(e);return s>r?n=Lh(e.min,e.max-r,t.min):r>s&&(n=Lh(t.min,t.max-s,e.min)),fa(0,1,n)}function IJ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const zx=.35;function PJ(t=zx){return t===!1?t=0:t===!0&&(t=zx),{x:l1(t,"left","right"),y:l1(t,"top","bottom")}}function l1(t,e,n){return{min:c1(t,e),max:c1(t,n)}}function c1(t,e){return typeof t=="number"?t:t[e]||0}const u1=()=>({translate:0,scale:1,origin:0,originPoint:0}),pc=()=>({x:u1(),y:u1()}),d1=()=>({min:0,max:0}),sn=()=>({x:d1(),y:d1()});function ss(t){return[t("x"),t("y")]}function pL({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function NJ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function DJ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Yw(t){return t===void 0||t===1}function Kx({scale:t,scaleX:e,scaleY:n}){return!Yw(t)||!Yw(e)||!Yw(n)}function $a(t){return Kx(t)||mL(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function mL(t){return h1(t.x)||h1(t.y)}function h1(t){return t&&t!=="0%"}function Dg(t,e,n){const r=t-n,s=e*r;return n+s}function f1(t,e,n,r,s){return s!==void 0&&(t=Dg(t,s,r)),Dg(t,n,r)+e}function Wx(t,e=0,n=1,r,s){t.min=f1(t.min,e,n,r,s),t.max=f1(t.max,e,n,r,s)}function gL(t,{x:e,y:n}){Wx(t.x,e.translate,e.scale,e.originPoint),Wx(t.y,n.translate,n.scale,n.originPoint)}const p1=.999999999999,m1=1.0000000000001;function kJ(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&gc(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,gL(t,o)),r&&$a(i.latestValues)&&gc(t,i.latestValues))}e.x<m1&&e.x>p1&&(e.x=1),e.y<m1&&e.y>p1&&(e.y=1)}function mc(t,e){t.min=t.min+e,t.max=t.max+e}function g1(t,e,n,r,s=.5){const i=Wt(t.min,t.max,s);Wx(t,e,n,i,r)}function gc(t,e){g1(t.x,e.x,e.scaleX,e.scale,e.originX),g1(t.y,e.y,e.scaleY,e.scale,e.originY)}function vL(t,e){return pL(DJ(t.getBoundingClientRect(),e))}function MJ(t,e,n){const r=vL(t,n),{scroll:s}=e;return s&&(mc(r.x,s.offset.x),mc(r.y,s.offset.y)),r}const yL=({current:t})=>t?t.ownerDocument.defaultView:null,OJ=new WeakMap;class jJ{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=sn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ey(u,"page").point)},i=(u,h)=>{var p;const{drag:g,dragPropagation:w,onDragStart:v}=this.getProps();if(g&&!w&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=uL(g),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ss(x=>{let y=this.getAxisMotionValue(x).get()||0;if(ii.test(y)){const{projection:b}=this.visualElement;if(b&&b.layout){const C=b.layout.layoutBox[x];C&&(y=Gr(C)*(parseFloat(y)/100))}}this.originPoint[x]=y}),v&&wt.postRender(()=>v(u,h)),(p=this.removeWillChange)===null||p===void 0||p.call(this),this.removeWillChange=Bx(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:w,onDrag:v}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:_}=h;if(g&&this.currentDirection===null){this.currentDirection=LJ(_),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",h.point,_),this.updateAxis("y",h.point,_),this.visualElement.render(),v&&v(u,h)},a=(u,h)=>this.stop(u,h),l=()=>ss(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new aL(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:yL(this.visualElement)})}stop(e,n){var r;(r=this.removeWillChange)===null||r===void 0||r.call(this);const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&wt.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Kp(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=TJ(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&fc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=CJ(s.layoutBox,n):this.constraints=!1,this.elastic=PJ(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ss(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=IJ(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!fc(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=MJ(r,s.root,this.visualElement.getTransformPagePoint());let o=AJ(s.layout.layoutBox,i);if(n){const a=n(NJ(o));this.hasMutatedConstraints=!!a,a&&(o=pL(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=ss(u=>{if(!Kp(u,n,this.currentDirection))return;let h=l&&l[u]||{};o&&(h={min:0,max:0});const p=s?200:1e6,g=s?40:1e7,w={type:"inertia",velocity:r?e[u]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,w)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(Hb(e,r,0,n,this.visualElement,!1,Bx(this.visualElement,e)))}stopAnimation(){ss(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ss(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ss(n=>{const{drag:r}=this.getProps();if(!Kp(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Wt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!fc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ss(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=RJ({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ss(o=>{if(!Kp(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Wt(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;OJ.set(this.visualElement,this);const e=this.visualElement.current,n=Ui(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();fc(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),wt.read(r);const o=Ni(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ss(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=zx,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Kp(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function LJ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class VJ extends Ca{constructor(e){super(e),this.removeGroupControls=ir,this.removeListeners=ir,this.controls=new jJ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ir}unmount(){this.removeGroupControls(),this.removeListeners()}}const v1=t=>(e,n)=>{t&&wt.postRender(()=>t(e,n))};class FJ extends Ca{constructor(){super(...arguments),this.removePointerDownListener=ir}onPointerDown(e){this.session=new aL(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yL(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:v1(e),onStart:v1(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&wt.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Ui(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ty=m.createContext(null);function UJ(){const t=m.useContext(ty);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=m.useId();m.useEffect(()=>r(s),[]);const i=m.useCallback(()=>n&&n(s),[s,n]);return!e&&n?[!1,i]:[!0]}const Gb=m.createContext({}),wL=m.createContext({}),Am={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function y1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const hd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(De.test(t))t=parseFloat(t);else return t;const n=y1(t,e.target.x),r=y1(t,e.target.y);return`${n}% ${r}%`}},BJ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=pa.parse(t);if(s.length>5)return r;const i=pa.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=Wt(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}},kg={};function $J(t){Object.assign(kg,t)}const{schedule:Qb,cancel:Vfe}=xj(queueMicrotask,!1);class zJ extends m.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;$J(KJ),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Am.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||wt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Qb.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function xL(t){const[e,n]=UJ(),r=m.useContext(Gb);return d.jsx(zJ,{...t,layoutGroup:r,switchLayoutGroup:m.useContext(wL),isPresent:e,safeToRemove:n})}const KJ={borderRadius:{...hd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hd,borderTopRightRadius:hd,borderBottomLeftRadius:hd,borderBottomRightRadius:hd,boxShadow:BJ},_L=["TopLeft","TopRight","BottomLeft","BottomRight"],WJ=_L.length,w1=t=>typeof t=="string"?parseFloat(t):t,x1=t=>typeof t=="number"||De.test(t);function HJ(t,e,n,r,s,i){s?(t.opacity=Wt(0,n.opacity!==void 0?n.opacity:1,qJ(r)),t.opacityExit=Wt(e.opacity!==void 0?e.opacity:1,0,GJ(r))):i&&(t.opacity=Wt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<WJ;o++){const a=`border${_L[o]}Radius`;let l=_1(e,a),c=_1(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||x1(l)===x1(c)?(t[a]=Math.max(Wt(w1(l),w1(c),r),0),(ii.test(c)||ii.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Wt(e.rotate||0,n.rotate||0,r))}function _1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const qJ=EL(0,.5,Hj),GJ=EL(.5,.95,ir);function EL(t,e,n){return r=>r<t?0:r>e?1:n(Lh(t,e,r))}function E1(t,e){t.min=e.min,t.max=e.max}function rs(t,e){E1(t.x,e.x),E1(t.y,e.y)}function b1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function S1(t,e,n,r,s){return t-=e,t=Dg(t,1/n,r),s!==void 0&&(t=Dg(t,1/s,r)),t}function QJ(t,e=0,n=1,r=.5,s,i=t,o=t){if(ii.test(e)&&(e=parseFloat(e),e=Wt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Wt(i.min,i.max,r);t===i&&(a-=e),t.min=S1(t.min,e,n,a,s),t.max=S1(t.max,e,n,a,s)}function T1(t,e,[n,r,s],i,o){QJ(t,e[n],e[r],e[s],e.scale,i,o)}const YJ=["x","scaleX","originX"],XJ=["y","scaleY","originY"];function C1(t,e,n,r){T1(t.x,e,YJ,n?n.x:void 0,r?r.x:void 0),T1(t.y,e,XJ,n?n.y:void 0,r?r.y:void 0)}function A1(t){return t.translate===0&&t.scale===1}function bL(t){return A1(t.x)&&A1(t.y)}function R1(t,e){return t.min===e.min&&t.max===e.max}function JJ(t,e){return R1(t.x,e.x)&&R1(t.y,e.y)}function I1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function SL(t,e){return I1(t.x,e.x)&&I1(t.y,e.y)}function P1(t){return Gr(t.x)/Gr(t.y)}function N1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class ZJ{constructor(){this.members=[]}add(e){Xv(this.members,e),e.scheduleRender()}remove(e){if(Jv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function eZ(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:h,rotateY:p,skewX:g,skewY:w}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),p&&(r+=`rotateY(${p}deg) `),g&&(r+=`skewX(${g}deg) `),w&&(r+=`skewY(${w}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const tZ=(t,e)=>t.depth-e.depth;class nZ{constructor(){this.children=[],this.isDirty=!1}add(e){Xv(this.children,e),this.isDirty=!0}remove(e){Jv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(tZ),this.isDirty=!1,this.children.forEach(e)}}function Rm(t){const e=sr(t)?t.get():t;return qX(e)?e.toValue():e}function rZ(t,e){const n=oi.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Zi(r),t(i-e))};return wt.read(r,!0),()=>Zi(r)}function sZ(t){return t instanceof SVGElement&&t.tagName!=="svg"}function iZ(t,e,n){const r=sr(t)?t:Vh(t);return r.start(Hb("",r,e,n)),r.animation}const za={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Td=typeof window<"u"&&window.MotionDebug!==void 0,Xw=["","X","Y","Z"],oZ={visibility:"hidden"},D1=1e3;let aZ=0;function Jw(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function TL(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=nL(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",wt,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&TL(r)}function CL({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=aZ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Td&&(za.totalNodes=za.resolvedTargetDeltas=za.recalculatedProjection=0),this.nodes.forEach(uZ),this.nodes.forEach(mZ),this.nodes.forEach(gZ),this.nodes.forEach(dZ),Td&&window.MotionDebug.record(za)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new nZ)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new qb),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=sZ(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=rZ(p,250),Am.hasAnimatedSinceResize&&(Am.hasAnimatedSinceResize=!1,this.nodes.forEach(M1))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:g,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||_Z,{onLayoutAnimationStart:_,onLayoutAnimationComplete:x}=u.getProps(),y=!this.targetLayout||!SL(this.targetLayout,w)||g,b=!p&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||p&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const C={...Mb(v,"layout"),onPlay:_,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else p||M1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Zi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vZ),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&TL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(k1);return}this.isUpdating||this.nodes.forEach(fZ),this.isUpdating=!1,this.nodes.forEach(pZ),this.nodes.forEach(lZ),this.nodes.forEach(cZ),this.clearAllSnapshots();const a=oi.now();Fn.delta=fa(0,1e3/60,a-Fn.timestamp),Fn.timestamp=a,Fn.isProcessing=!0,zw.update.process(Fn),zw.preRender.process(Fn),zw.render.process(Fn),Fn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Qb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(hZ),this.sharedNodes.forEach(yZ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,wt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){wt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=sn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!bL(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||$a(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),EZ(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return sn();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(bZ))){const{scroll:u}=this.root;u&&(mc(l.x,u.offset.x),mc(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=sn();if(rs(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:h,options:p}=u;u!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&rs(l,o),mc(l.x,h.offset.x),mc(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=sn();rs(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&gc(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),$a(u.latestValues)&&gc(l,u.latestValues)}return $a(this.latestValues)&&gc(l,this.latestValues),l}removeTransform(o){const a=sn();rs(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!$a(c.latestValues))continue;Kx(c.latestValues)&&c.updateSnapshot();const u=sn(),h=c.measurePageBox();rs(u,h),C1(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return $a(this.latestValues)&&C1(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=Fn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sn(),this.relativeTargetOrigin=sn(),Wd(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),rs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=sn(),this.targetWithTransforms=sn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),SJ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):rs(this.target,this.layout.layoutBox),gL(this.target,this.targetDelta)):rs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sn(),this.relativeTargetOrigin=sn(),Wd(this.relativeTargetOrigin,this.target,g.target),rs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Td&&za.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Kx(this.parent.latestValues)||mL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Fn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;rs(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;kJ(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=sn());const{target:w}=a;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(b1(this.prevProjectionDelta.x,this.projectionDelta.x),b1(this.prevProjectionDelta.y,this.projectionDelta.y)),Kd(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!N1(this.projectionDelta.x,this.prevProjectionDelta.x)||!N1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),Td&&za.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=pc(),this.projectionDelta=pc(),this.projectionDeltaWithTransform=pc()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},h=pc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=sn(),g=l?l.source:void 0,w=this.layout?this.layout.source:void 0,v=g!==w,_=this.getStack(),x=!_||_.members.length<=1,y=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(xZ));this.animationProgress=0;let b;this.mixTargetDelta=C=>{const P=C/1e3;O1(h.x,o.x,P),O1(h.y,o.y,P),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wd(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wZ(this.relativeTarget,this.relativeTargetOrigin,p,P),b&&JJ(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=sn()),rs(b,this.relativeTarget)),v&&(this.animationValues=u,HJ(u,c,this.latestValues,P,y,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Zi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wt.update(()=>{Am.hasAnimatedSinceResize=!0,this.currentAnimation=iZ(0,D1,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(D1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&AL(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||sn();const h=Gr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=Gr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}rs(a,l),gc(a,u),Kd(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new ZJ),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Jw("z",o,c,this.animationValues);for(let u=0;u<Xw.length;u++)Jw(`rotate${Xw[u]}`,o,c,this.animationValues),Jw(`skew${Xw[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return oZ;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Rm(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Rm(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!$a(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=eZ(this.projectionDeltaWithTransform,this.treeScale,p),u&&(c.transform=u(p,c.transform));const{x:g,y:w}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${w.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in kg){if(p[v]===void 0)continue;const{correct:_,applyTo:x}=kg[v],y=c.transform==="none"?p[v]:_(p[v],h);if(x){const b=x.length;for(let C=0;C<b;C++)c[x[C]]=y}else c[v]=y}return this.options.layoutId&&(c.pointerEvents=h===this?Rm(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(k1),this.root.sharedNodes.clear()}}}function lZ(t){t.updateLayout()}function cZ(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?ss(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],g=Gr(p);p.min=r[h].min,p.max=p.min+g}):AL(i,n.layoutBox,r)&&ss(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],g=Gr(r[h]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+g)});const a=pc();Kd(a,r,n.layoutBox);const l=pc();o?Kd(l,t.applyTransform(s,!0),n.measuredBox):Kd(l,r,n.layoutBox);const c=!bL(a);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:g}=h;if(p&&g){const w=sn();Wd(w,n.layoutBox,p.layoutBox);const v=sn();Wd(v,r,g.layoutBox),SL(w,v)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=w,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function uZ(t){Td&&za.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function dZ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function hZ(t){t.clearSnapshot()}function k1(t){t.clearMeasurements()}function fZ(t){t.isLayoutDirty=!1}function pZ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function M1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function mZ(t){t.resolveTargetDelta()}function gZ(t){t.calcProjection()}function vZ(t){t.resetSkewAndRotation()}function yZ(t){t.removeLeadSnapshot()}function O1(t,e,n){t.translate=Wt(e.translate,0,n),t.scale=Wt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function j1(t,e,n,r){t.min=Wt(e.min,n.min,r),t.max=Wt(e.max,n.max,r)}function wZ(t,e,n,r){j1(t.x,e.x,n.x,r),j1(t.y,e.y,n.y,r)}function xZ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const _Z={duration:.45,ease:[.4,0,.1,1]},L1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),V1=L1("applewebkit/")&&!L1("chrome/")?Math.round:ir;function F1(t){t.min=V1(t.min),t.max=V1(t.max)}function EZ(t){F1(t.x),F1(t.y)}function AL(t,e,n){return t==="position"||t==="preserve-aspect"&&!bJ(P1(e),P1(n),.2)}function bZ(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const SZ=CL({attachResizeListener:(t,e)=>Ni(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zw={current:void 0},RL=CL({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Zw.current){const t=new SZ({});t.mount(window),t.setOptions({layoutScroll:!0}),Zw.current=t}return Zw.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),TZ={pan:{Feature:FJ},drag:{Feature:VJ,ProjectionNode:RL,MeasureLayout:xL}};function U1(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",s=(i,o)=>{if(i.pointerType==="touch"||dL())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&wt.postRender(()=>l(i,o))};return Ui(t.current,n,s,{passive:!t.getProps()[r]})}class CZ extends Ca{mount(){this.unmount=Fi(U1(this.node,!0),U1(this.node,!1))}unmount(){}}class AZ extends Ca{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fi(Ni(this.node.current,"focus",()=>this.onFocus()),Ni(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const IL=(t,e)=>e?t===e?!0:IL(t,e.parentElement):!1;function e0(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,ey(n))}class RZ extends Ca{constructor(){super(...arguments),this.removeStartListeners=ir,this.removeEndListeners=ir,this.removeAccessibleListeners=ir,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Ui(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:h}=this.node.getProps(),p=!h&&!IL(this.node.current,a.target)?u:c;p&&wt.update(()=>p(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=Ui(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Fi(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||e0("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&wt.postRender(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=Ni(this.node.current,"keyup",o),e0("down",(a,l)=>{this.startPress(a,l)})},n=Ni(this.node.current,"keydown",e),r=()=>{this.isPressing&&e0("cancel",(i,o)=>this.cancelPress(i,o))},s=Ni(this.node.current,"blur",r);this.removeAccessibleListeners=Fi(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&wt.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!dL()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&wt.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Ui(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Ni(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Fi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Hx=new WeakMap,t0=new WeakMap,IZ=t=>{const e=Hx.get(t.target);e&&e(t)},PZ=t=>{t.forEach(IZ)};function NZ({root:t,...e}){const n=t||document;t0.has(n)||t0.set(n,{});const r=t0.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(PZ,{root:t,...e})),r[s]}function DZ(t,e,n){const r=NZ(e);return Hx.set(t,n),r.observe(t),()=>{Hx.delete(t),r.unobserve(t)}}const kZ={some:0,all:1};class MZ extends Ca{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:kZ[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),p=c?u:h;p&&p(l)};return DZ(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(OZ(e,n))&&this.startObserver()}unmount(){}}function OZ({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const jZ={inView:{Feature:MZ},tap:{Feature:RZ},focus:{Feature:AZ},hover:{Feature:CZ}},LZ={layout:{ProjectionNode:RL,MeasureLayout:xL}},Yb=m.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),ny=m.createContext({}),Xb=typeof window<"u",PL=Xb?m.useLayoutEffect:m.useEffect,NL=m.createContext({strict:!1});let B1=!1;function VZ(t,e,n,r,s){var i;const{visualElement:o}=m.useContext(ny),a=m.useContext(NL),l=m.useContext(ty),c=m.useContext(Yb).reducedMotion,u=m.useRef();r=r||a.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const h=u.current,p=m.useContext(wL);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&UZ(u.current,n,s,p),m.useInsertionEffect(()=>{h&&h.update(n,l)});const g=n[tL],w=m.useRef(!!g&&!window.MotionHandoffIsComplete&&((i=window.MotionHasOptimisedAnimation)===null||i===void 0?void 0:i.call(window,g)));return PL(()=>{h&&(h.updateFeatures(),Qb.render(h.render),w.current&&h.animationState&&h.animationState.animateChanges())}),m.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current=!1,B1||(B1=!0,queueMicrotask(FZ)))}),h}function FZ(){window.MotionHandoffIsComplete=!0}function UZ(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:DL(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&fc(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function DL(t){if(t)return t.options.allowProjection!==!1?t.projection:DL(t.parent)}function BZ(t,e,n){return m.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):fc(n)&&(n.current=r))},[e])}function ry(t){return Mh(t.animate)||kb.some(e=>Oh(t[e]))}function kL(t){return!!(ry(t)||t.variants)}function $Z(t,e){if(ry(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Oh(n)?n:void 0,animate:Oh(r)?r:void 0}}return t.inherit!==!1?e:{}}function zZ(t){const{initial:e,animate:n}=$Z(t,m.useContext(ny));return m.useMemo(()=>({initial:e,animate:n}),[$1(e),$1(n)])}function $1(t){return Array.isArray(t)?t.join(" "):t}const z1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},iu={};for(const t in z1)iu[t]={isEnabled:e=>z1[t].some(n=>!!e[n])};function KZ(t){for(const e in t)iu[e]={...iu[e],...t[e]}}const WZ=Symbol.for("motionComponentSymbol");function HZ({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&KZ(t);function i(a,l){let c;const u={...m.useContext(Yb),...a,layoutId:qZ(a)},{isStatic:h}=u,p=zZ(a),g=r(a,h);if(!h&&Xb){GZ();const w=QZ(u);c=w.MeasureLayout,p.visualElement=VZ(s,g,u,e,w.ProjectionNode)}return d.jsxs(ny.Provider,{value:p,children:[c&&p.visualElement?d.jsx(c,{visualElement:p.visualElement,...u}):null,n(s,a,BZ(g,p.visualElement,l),g,h,p.visualElement)]})}const o=m.forwardRef(i);return o[WZ]=s,o}function qZ({layoutId:t}){const e=m.useContext(Gb).id;return e&&t!==void 0?e+"-"+t:t}function GZ(t,e){m.useContext(NL).strict}function QZ(t){const{drag:e,layout:n}=iu;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const YZ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Jb(t){return typeof t!="string"||t.includes("-")?!1:!!(YZ.indexOf(t)>-1||/[A-Z]/u.test(t))}function ML(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const OL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jL(t,e,n,r){ML(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(OL.has(s)?s:Zv(s),e.attrs[s])}function LL(t,{layout:e,layoutId:n}){return Ta.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!kg[t]||t==="opacity")}function Zb(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(sr(s[o])||e.style&&sr(e.style[o])||LL(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return n&&s&&typeof s.willChange=="string"&&(n.applyWillChange=!1),i}function VL(t,e,n){const r=Zb(t,e,n);for(const s in t)if(sr(t[s])||sr(e[s])){const i=Vf.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function eS(t){const e=m.useRef(null);return e.current===null&&(e.current=t()),e.current}function XZ({applyWillChange:t=!1,scrapeMotionValuesFromProps:e,createRenderState:n,onMount:r},s,i,o,a){const l={latestValues:ZZ(s,i,o,a?!1:t,e),renderState:n()};return r&&(l.mount=c=>r(s,c,l)),l}const FL=t=>(e,n)=>{const r=m.useContext(ny),s=m.useContext(ty),i=()=>XZ(t,e,r,s,n);return n?i():eS(i)};function JZ(t,e){const n=rL(e);n&&Xv(t,n)}function K1(t,e,n){const r=Array.isArray(e)?e:[e];for(let s=0;s<r.length;s++){const i=Nb(t,r[s]);if(i){const{transitionEnd:o,transition:a,...l}=i;n(l,o)}}}function ZZ(t,e,n,r,s){var i;const o={},a=[],l=r&&((i=t.style)===null||i===void 0?void 0:i.willChange)===void 0,c=s(t,{});for(const _ in c)o[_]=Rm(c[_]);let{initial:u,animate:h}=t;const p=ry(t),g=kL(t);e&&g&&!p&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let w=n?n.initial===!1:!1;w=w||u===!1;const v=w?h:u;return v&&typeof v!="boolean"&&!Mh(v)&&K1(t,v,(_,x)=>{for(const y in _){let b=_[y];if(Array.isArray(b)){const C=w?b.length-1:0;b=b[C]}b!==null&&(o[y]=b)}for(const y in x)o[y]=x[y]}),l&&(h&&u!==!1&&!Mh(h)&&K1(t,h,_=>{for(const x in _)JZ(a,x)}),a.length&&(o.willChange=a.join(","))),o}const tS=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),UL=()=>({...tS(),attrs:{}}),BL=(t,e)=>e&&typeof t=="number"?e.transform(t):t,eee={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tee=Vf.length;function nee(t,e,n){let r="",s=!0;for(let i=0;i<tee;i++){const o=Vf[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=BL(a,Fb[o]);if(!l){s=!1;const u=eee[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function nS(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Ta.has(l)){o=!0;continue}else if(Sj(l)){s[l]=c;continue}else{const u=BL(c,Fb[l]);l.startsWith("origin")?(a=!0,i[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=nee(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;r.transformOrigin=`${l} ${c} ${u}`}}function W1(t,e,n){return typeof t=="string"?t:De.transform(e+n*t)}function ree(t,e,n){const r=W1(e,t.x,t.width),s=W1(n,t.y,t.height);return`${r} ${s}`}const see={offset:"stroke-dashoffset",array:"stroke-dasharray"},iee={offset:"strokeDashoffset",array:"strokeDasharray"};function oee(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?see:iee;t[i.offset]=De.transform(-r);const o=De.transform(e),a=De.transform(n);t[i.array]=`${o} ${a}`}function rS(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,h){if(nS(t,c,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g,dimensions:w}=t;p.transform&&(w&&(g.transform=p.transform),delete p.transform),w&&(s!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=ree(w,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&oee(p,o,a,l,!1)}const sS=t=>typeof t=="string"&&t.toLowerCase()==="svg",aee={useVisualState:FL({scrapeMotionValuesFromProps:VL,createRenderState:UL,onMount:(t,e,{renderState:n,latestValues:r})=>{wt.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),wt.render(()=>{rS(n,r,sS(e.tagName),t.transformTemplate),jL(e,n)})}})},lee={useVisualState:FL({applyWillChange:!0,scrapeMotionValuesFromProps:Zb,createRenderState:tS})};function $L(t,e,n){for(const r in e)!sr(e[r])&&!LL(r,n)&&(t[r]=e[r])}function cee({transformTemplate:t},e){return m.useMemo(()=>{const n=tS();return nS(n,e,t),Object.assign({},n.vars,n.style)},[e])}function uee(t,e){const n=t.style||{},r={};return $L(r,n,t),Object.assign(r,cee(t,e)),r}function dee(t,e){const n={},r=uee(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const hee=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Mg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||hee.has(t)}let zL=t=>!Mg(t);function fee(t){t&&(zL=e=>e.startsWith("on")?!Mg(e):t(e))}try{fee(require("@emotion/is-prop-valid").default)}catch{}function pee(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(zL(s)||n===!0&&Mg(s)||!e&&!Mg(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function mee(t,e,n,r){const s=m.useMemo(()=>{const i=UL();return rS(i,e,sS(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};$L(i,t.style,t),s.style={...i,...s.style}}return s}function gee(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(Jb(n)?mee:dee)(r,i,o,n),c=pee(r,typeof n=="string",t),u=n!==m.Fragment?{...c,...l,ref:s}:{},{children:h}=r,p=m.useMemo(()=>sr(h)?h.get():h,[h]);return m.createElement(n,{...u,children:p})}}function vee(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...Jb(r)?aee:lee,preloadedFeatures:t,useRender:gee(s),createVisualElement:e,Component:r};return HZ(o)}}const qx={current:null},KL={current:!1};function yee(){if(KL.current=!0,!!Xb)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>qx.current=t.matches;t.addListener(e),e()}else qx.current=!1}function wee(t,e,n){for(const r in e){const s=e[r],i=n[r];if(sr(s))t.addValue(r,s);else if(sr(i))t.addValue(r,Vh(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Vh(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const H1=new WeakMap,xee=[...Aj,er,pa],_ee=t=>xee.find(Cj(t)),q1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Eee{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Lb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=oi.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,wt.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=ry(n),this.isVariantNode=kL(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const g=h[p];l[p]!==void 0&&sr(g)&&g.set(l[p],!1)}}mount(e){this.current=e,H1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),KL.current||yee(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:qx.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){H1.delete(this.current),this.projection&&this.projection.unmount(),Zi(this.notifyUpdate),Zi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ta.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&wt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in iu){const n=iu[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):sn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<q1.length;r++){const s=q1[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=wee(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Vh(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(Ej(s)||_j(s))?s=parseFloat(s):!_ee(s)&&pa.test(n)&&(s=Oj(e,n)),this.setBaseTarget(e,sr(s)?s.get():s)),sr(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=Nb(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!sr(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new qb),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class WL extends Eee{constructor(){super(...arguments),this.KeyframeResolver=jj}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function bee(t){return window.getComputedStyle(t)}class See extends WL{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=ML}readValueFromInstance(e,n){if(Ta.has(n)){const r=Ub(n);return r&&r.default||0}else{const r=bee(e),s=(Sj(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return vL(e,n)}build(e,n,r){nS(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Zb(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;sr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Tee extends WL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=sn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ta.has(n)){const r=Ub(n);return r&&r.default||0}return n=OL.has(n)?n:Zv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return VL(e,n,r)}build(e,n,r){rS(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){jL(e,n,r,s)}mount(e){this.isSVGTag=sS(e.tagName),super.mount(e)}}const Cee=(t,e)=>Jb(t)?new Tee(e):new See(e,{allowProjection:t!==m.Fragment}),Aee=vee({...pJ,...jZ,...TZ,...LZ},Cee),Ree=lY(Aee);class Iee extends m.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Pee({children:t,isPresent:e}){const n=m.useId(),r=m.useRef(null),s=m.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=m.useContext(Yb);return m.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=s.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return i&&(u.nonce=i),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),d.jsx(Iee,{isPresent:e,childRef:r,sizeRef:s,children:m.cloneElement(t,{ref:r})})}const Nee=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=eS(Dee),l=m.useId(),c=m.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:u=>{a.set(u,!0);for(const h of a.values())if(!h)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),i?[Math.random()]:[n]);return m.useMemo(()=>{a.forEach((u,h)=>a.set(h,!1))},[n]),m.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=d.jsx(Pee,{isPresent:n,children:t})),d.jsx(ty.Provider,{value:c,children:t})};function Dee(){return new Map}const Wp=t=>t.key||"";function G1(t){const e=[];return m.Children.forEach(t,n=>{m.isValidElement(n)&&e.push(n)}),e}const kee=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=m.useMemo(()=>G1(t),[t]),l=a.map(Wp),c=m.useRef(!0),u=m.useRef(a),h=eS(()=>new Map),[p,g]=m.useState(a),[w,v]=m.useState(a);PL(()=>{c.current=!1,u.current=a;for(let y=0;y<w.length;y++){const b=Wp(w[y]);l.includes(b)?h.delete(b):h.get(b)!==!0&&h.set(b,!1)}},[w,l.length,l.join("-")]);const _=[];if(a!==p){let y=[...a];for(let b=0;b<w.length;b++){const C=w[b],P=Wp(C);l.includes(P)||(y.splice(b,0,C),_.push(C))}o==="wait"&&_.length&&(y=_),v(G1(y)),g(a);return}const{forceRender:x}=m.useContext(Gb);return d.jsx(d.Fragment,{children:w.map(y=>{const b=Wp(y),C=a===w||l.includes(b),P=()=>{if(h.has(b))h.set(b,!0);else return;let O=!0;h.forEach(T=>{T||(O=!1)}),O&&(x==null||x(),v(u.current),s&&s())};return d.jsx(Nee,{isPresent:C,initial:!c.current||r?void 0:!1,custom:C?void 0:n,presenceAffectsLayout:i,mode:o,onExitComplete:C?void 0:P,children:y},b)})})},Mee=({messageHistory:t,endOfMessagesRef:e,handleMessageClick:n})=>d.jsxs("div",{className:"flex-1 py-4 overflow-y-auto",children:[d.jsx(kee,{children:d.jsx(Pu,{items:t,renderItem:r=>d.jsx(Ree.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`mb-4 ${r.sender==="user"?"text-right":"text-left"}`,children:d.jsx(aY,{message:r,onItemClick:n})},r.uuid),listStyle:"px-4 flex flex-col space-y-4"})}),d.jsx("div",{ref:e})]}),Oee=()=>{const{relevantMessageHistory:t,handleClearAdminMessageHistory:e,handleSubmitMessage:n,endOfMessagesRef:r,selectedResponse:s,handleMessageClick:i,isInfoPanelOpen:o,setIsInfoPanelOpen:a}=GQ();return d.jsxs("div",{className:"flex flex-col w-full max-w-4xl h-[44rem] border border-neutral-200 bg-white rounded-md",children:[d.jsxs("header",{className:"w-full h-[4rem] text-xl font-medium flex items-center justify-between px-4 border-b border-customBorderColor",children:["Admin Chat Interface",d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs(Xe,{size:"sm",variant:"outline",className:"space-x-1 rounded-md",onClick:e,children:[d.jsx(Su,{className:"size-4 text-zinc-500"}),d.jsx("p",{className:"text-sm text-zinc-500",children:"Clear Chat"})]}),d.jsx("button",{onClick:()=>a(l=>!l),children:d.jsx("div",{className:"text-zinc-500 p-1.5 rounded-md hover:bg-zinc-100",children:d.jsx(c8,{})})})]})]}),d.jsxs("div",{className:"flex-1 flex overflow-y-auto",children:[d.jsxs("section",{className:"flex-1 flex flex-col",children:[d.jsx(Mee,{messageHistory:t,endOfMessagesRef:r,handleMessageClick:i}),d.jsx(rY,{onSendMessage:n})]}),d.jsx(nY,{showPanel:o,responseData:s})]})]})},jee=()=>d.jsxs("div",{className:"flex items-center flex-col w-[84rem] px-20 space-y-6 pb-8",children:[d.jsx(KQ,{headerText:"Chatbot"}),d.jsx(Oee,{})]}),Lee=()=>d.jsx("header",{className:"py-4 text-3xl font-semibold w-full",children:"Knowledge"});function Vee(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var Ol=t=>{const{present:e,children:n}=t,r=Fee(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=ke(r.ref,Uee(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};Ol.displayName="Presence";function Fee(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=Vee(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Hp(r.current);i.current=a==="mounted"?c:"none"},[a]),Pt(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=Hp(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Pt(()=>{if(e){const c=h=>{const g=Hp(r.current).includes(h.animationName);h.target===e&&g&&Ar.flushSync(()=>l("ANIMATION_END"))},u=h=>{h.target===e&&(i.current=Hp(r.current))};return e.addEventListener("animationstart",u),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",u),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Hp(t){return(t==null?void 0:t.animationName)||"none"}function Uee(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var iS="Tabs",[Bee,Ufe]=Dl(iS,[$v]),HL=$v(),[$ee,oS]=Bee(iS),qL=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=Cf(a),[h,p]=aa({prop:r,onChange:s,defaultProp:i});return d.jsx($ee,{scope:n,baseId:js(),value:h,onValueChange:p,orientation:o,dir:u,activationMode:l,children:d.jsx(ve.div,{dir:u,"data-orientation":o,...c,ref:e})})});qL.displayName=iS;var GL="TabsList",QL=m.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=oS(GL,n),o=HL(n);return d.jsx(nO,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:d.jsx(ve.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});QL.displayName=GL;var YL="TabsTrigger",XL=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=oS(YL,n),a=HL(n),l=ZL(o.baseId,r),c=e2(o.baseId,r),u=r===o.value;return d.jsx(rO,{asChild:!0,...a,focusable:!s,active:u,children:d.jsx(ve.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:Z(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:Z(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:Z(t.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!s&&h&&o.onValueChange(r)})})})});XL.displayName=YL;var JL="TabsContent",sy=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=oS(JL,n),l=ZL(a.baseId,r),c=e2(a.baseId,r),u=r===a.value,h=m.useRef(u);return m.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),d.jsx(Ol,{present:s||u,children:({present:p})=>d.jsx(ve.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:p&&i})})});sy.displayName=JL;function ZL(t,e){return`${t}-trigger-${e}`}function e2(t,e){return`${t}-content-${e}`}var zee=qL,t2=QL,n2=XL,r2=sy;const s2=zee,aS=m.forwardRef(({className:t,...e},n)=>d.jsx(t2,{ref:n,className:ue("inline-flex min-h-10 items-center justify-center rounded-tl-md rounded-tr-md bg-muted text-muted-foreground",t),...e}));aS.displayName=t2.displayName;const Og=m.forwardRef(({className:t,...e},n)=>d.jsx(n2,{ref:n,className:ue("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-2 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Og.displayName=n2.displayName;const i2=m.forwardRef(({className:t,...e},n)=>d.jsx(r2,{ref:n,className:ue("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));i2.displayName=r2.displayName;const Kee=[{tabValue:"knowledgeBase",tabName:"Knowledge Base"},{tabValue:"knowledgeEntry",tabName:"Knowledge Entry"},{tabValue:"entryDetails",tabName:"Entry Details"}],Wee={knowledgeBase:xM,knowledgeEntry:qH,entryDetails:EM},Hee=({tabs:t})=>d.jsx(aS,{className:"grid w-full grid-cols-3 bg-heading px-4 py-3",children:t.map(({tabName:e,tabValue:n})=>{const r=Wee[n];return d.jsxs(Og,{value:n,className:"data-[state=active]:bg-primary data-[state=active]:text-white",children:[d.jsx(r,{className:"size-5 mr-2"}),d.jsx("p",{className:"hidden md:block",children:e})]},e)})});var qee="DismissableLayer",Gx="dismissableLayer.update",Gee="dismissableLayer.pointerDownOutside",Qee="dismissableLayer.focusOutside",Q1,o2=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),a2=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(o2),[u,h]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=ke(e,T=>h(T)),v=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(_),y=u?v.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,C=y>=x,P=Jee(T=>{const E=T.target,I=[...c.branches].some(R=>R.contains(E));!C||I||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},p),O=Zee(T=>{const E=T.target;[...c.branches].some(R=>R.contains(E))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},p);return Af(T=>{y===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Q1=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),Y1(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Q1)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),Y1())},[u,c]),m.useEffect(()=>{const T=()=>g({});return document.addEventListener(Gx,T),()=>document.removeEventListener(Gx,T)},[]),d.jsx(ve.div,{...l,ref:w,style:{pointerEvents:b?C?"auto":"none":void 0,...t.style},onFocusCapture:Z(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Z(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Z(t.onPointerDownCapture,P.onPointerDownCapture)})});a2.displayName=qee;var Yee="DismissableLayerBranch",Xee=m.forwardRef((t,e)=>{const n=m.useContext(o2),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(ve.div,{...t,ref:s})});Xee.displayName=Yee;function Jee(t,e=globalThis==null?void 0:globalThis.document){const n=mt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){l2(Gee,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Zee(t,e=globalThis==null?void 0:globalThis.document){const n=mt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&l2(Qee,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Y1(){const t=new CustomEvent(Gx);document.dispatchEvent(t)}function l2(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Nl(s,i):s.dispatchEvent(i)}var ete="VisuallyHidden",$f=m.forwardRef((t,e)=>d.jsx(ve.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));$f.displayName=ete;var tte=$f,[iy,Bfe]=Dl("Tooltip",[Au]),oy=Au(),c2="TooltipProvider",nte=700,Qx="tooltip.open",[rte,lS]=iy(c2),u2=t=>{const{__scopeTooltip:e,delayDuration:n=nte,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=m.useState(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),d.jsx(rte,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};u2.displayName=c2;var ay="Tooltip",[ste,ly]=iy(ay),d2=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,l=lS(ay,t.__scopeTooltip),c=oy(e),[u,h]=m.useState(null),p=js(),g=m.useRef(0),w=o??l.disableHoverableContent,v=a??l.delayDuration,_=m.useRef(!1),[x=!1,y]=aa({prop:r,defaultProp:s,onChange:T=>{T?(l.onOpen(),document.dispatchEvent(new CustomEvent(Qx))):l.onClose(),i==null||i(T)}}),b=m.useMemo(()=>x?_.current?"delayed-open":"instant-open":"closed",[x]),C=m.useCallback(()=>{window.clearTimeout(g.current),_.current=!1,y(!0)},[y]),P=m.useCallback(()=>{window.clearTimeout(g.current),y(!1)},[y]),O=m.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{_.current=!0,y(!0)},v)},[v,y]);return m.useEffect(()=>()=>window.clearTimeout(g.current),[]),d.jsx(hb,{...c,children:d.jsx(ste,{scope:e,contentId:p,open:x,stateAttribute:b,trigger:u,onTriggerChange:h,onTriggerEnter:m.useCallback(()=>{l.isOpenDelayed?O():C()},[l.isOpenDelayed,O,C]),onTriggerLeave:m.useCallback(()=>{w?P():window.clearTimeout(g.current)},[P,w]),onOpen:C,onClose:P,disableHoverableContent:w,children:n})})};d2.displayName=ay;var Yx="TooltipTrigger",h2=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=ly(Yx,n),i=lS(Yx,n),o=oy(n),a=m.useRef(null),l=ke(e,a,s.onTriggerChange),c=m.useRef(!1),u=m.useRef(!1),h=m.useCallback(()=>c.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),d.jsx(fb,{asChild:!0,...o,children:d.jsx(ve.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:Z(t.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:Z(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:Z(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Z(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:Z(t.onBlur,s.onClose),onClick:Z(t.onClick,s.onClose)})})});h2.displayName=Yx;var ite="TooltipPortal",[$fe,ote]=iy(ite,{forceMount:void 0}),ou="TooltipContent",f2=m.forwardRef((t,e)=>{const n=ote(ou,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=ly(ou,t.__scopeTooltip);return d.jsx(Ol,{present:r||o.open,children:o.disableHoverableContent?d.jsx(p2,{side:s,...i,ref:e}):d.jsx(ate,{side:s,...i,ref:e})})}),ate=m.forwardRef((t,e)=>{const n=ly(ou,t.__scopeTooltip),r=lS(ou,t.__scopeTooltip),s=m.useRef(null),i=ke(e,s),[o,a]=m.useState(null),{trigger:l,onClose:c}=n,u=s.current,{onPointerInTransitChange:h}=r,p=m.useCallback(()=>{a(null),h(!1)},[h]),g=m.useCallback((w,v)=>{const _=w.currentTarget,x={x:w.clientX,y:w.clientY},y=dte(x,_.getBoundingClientRect()),b=hte(x,y),C=fte(v.getBoundingClientRect()),P=mte([...b,...C]);a(P),h(!0)},[h]);return m.useEffect(()=>()=>p(),[p]),m.useEffect(()=>{if(l&&u){const w=_=>g(_,u),v=_=>g(_,l);return l.addEventListener("pointerleave",w),u.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",w),u.removeEventListener("pointerleave",v)}}},[l,u,g,p]),m.useEffect(()=>{if(o){const w=v=>{const _=v.target,x={x:v.clientX,y:v.clientY},y=(l==null?void 0:l.contains(_))||(u==null?void 0:u.contains(_)),b=!pte(x,o);y?p():b&&(p(),c())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,u,o,c,p]),d.jsx(p2,{...t,ref:i})}),[lte,cte]=iy(ay,{isInside:!1}),p2=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=ly(ou,n),c=oy(n),{onClose:u}=l;return m.useEffect(()=>(document.addEventListener(Qx,u),()=>document.removeEventListener(Qx,u)),[u]),m.useEffect(()=>{if(l.trigger){const h=p=>{const g=p.target;g!=null&&g.contains(l.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,u]),d.jsx(a2,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:d.jsxs(pb,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(nb,{children:r}),d.jsx(lte,{scope:n,isInside:!0,children:d.jsx(tte,{id:l.contentId,role:"tooltip",children:s||r})})]})})});f2.displayName=ou;var m2="TooltipArrow",ute=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=oy(n);return cte(m2,n).isInside?null:d.jsx(mb,{...s,...r,ref:e})});ute.displayName=m2;function dte(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function hte(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function fte(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function pte(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(s=!s)}return s}function mte(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),gte(e)}function gte(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var vte=u2,yte=d2,wte=h2,g2=f2;const xte=vte,_te=yte,Ete=wte,v2=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx(g2,{ref:r,sideOffset:e,className:ue("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));v2.displayName=g2.displayName;const cy=({tooltip:t,children:e})=>d.jsx(xte,{children:d.jsxs(_te,{children:[d.jsx(Ete,{asChild:!0,children:e}),d.jsx(v2,{className:"max-w-xs",children:d.jsx("p",{className:"text-zinc-800",children:t})})]})}),bte={entry:"ENTRY",base:"BASE"},Ste="Must be a unique text that represents the action or goal of the entry.",Tte="Sample queries to help the bot understand intent.",Cte="The bot's reply to the user's query.",zo={passwordIncorrect:"Admin password is incorrect",passwordSameAsOld:"New password must be different from the old one"},Ate=8,Rte=5,y2=5,w2=15,Fh=100,vt=ro((t,e)=>({formData:{knowledgeBaseName:"",intent:"",documents:[""],answer:"",fileUrl:"",file:null},formDataErrors:{},setFormData:(n,r)=>{t(s=>({formData:{...s.formData,[n]:r}}))},setFile:n=>{t(r=>({formData:{...r.formData,file:n}}))},setFormDataErrors:n=>{t({formDataErrors:n})},setDocuments:(n,r)=>{const s=e().formData.documents;s[r]=n,t(i=>({formData:{...i.formData,documents:s}}))},addDocument:()=>{e().formData.documents.length>=Ate||t(n=>({formData:{...n.formData,documents:[...n.formData.documents,""]}}))},removeDocument:n=>{const r=e().formData.documents;if(r.length===1)throw new Error("Documents cannot be empty");r.splice(n,1),t(s=>({formData:{...s.formData,documents:r}}))},clearFormData:()=>{t(()=>({formData:{knowledgeBaseName:"",intent:"",documents:[""],answer:"",fileUrl:"",file:null},formDataErrors:{knowledgeBaseName:"",intent:"",documents:"",answer:""}}))}})),Ite=()=>{const{intent:t}=vt(r=>r.formData),e=vt(r=>r.setFormData),n=ut(r=>r.admin);return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-fit",children:d.jsx(cy,{tooltip:Ste,children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("label",{htmlFor:"intent",className:"cursor-pointer font-medium ",children:"Intent"}),d.jsx(Mv,{className:"size-4 text-[#64748b] cursor-pointer"})]})})}),d.jsx(Lt,{id:"intent",placeholder:"Enter intent",value:t,className:"mt-1",readOnly:(n==null?void 0:n.role)==="viewer",onChange:r=>e("intent",r.target.value),maxLength:Fh})]})},ln=m.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ue("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ln.displayName="Card";const Mn=m.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ue("flex flex-col space-y-1.5 p-6",t),...e}));Mn.displayName="CardHeader";const On=m.forwardRef(({className:t,...e},n)=>d.jsx("h3",{ref:n,className:ue("text-2xl font-semibold leading-none tracking-tight",t),...e}));On.displayName="CardTitle";const pi=m.forwardRef(({className:t,...e},n)=>d.jsx("p",{ref:n,className:ue("text-sm text-muted-foreground",t),...e}));pi.displayName="CardDescription";const pn=m.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ue("p-6 pt-0",t),...e}));pn.displayName="CardContent";const x2=m.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ue("flex items-center p-6 pt-0",t),...e}));x2.displayName="CardFooter";const Pte=()=>{var o;const t=vt(a=>a.formData),e=vt(a=>a.setDocuments),n=vt(a=>a.addDocument),r=vt(a=>a.removeDocument),s=ut(a=>a.admin),i=async a=>{try{if(!t.intent)return;if(t.documents.length===1)return window.alert("Documents cannot be empty");r(a)}catch(l){console.error(l)}};return d.jsxs("div",{children:[d.jsx("div",{className:"w-fit",children:d.jsx(cy,{tooltip:Tte,children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("label",{className:"cursor-pointer font-medium ",children:"Document"}),d.jsx(Mv,{className:"size-4 text-[#64748b] cursor-pointer"})]})})}),d.jsx("div",{className:"space-y-2 mt-1",children:(o=t.documents)==null?void 0:o.map((a,l)=>d.jsx(ln,{className:"w-full hover:bg-lightGray transition-colors",children:d.jsxs(pn,{className:"p-4 w-full flex items-center justify-between-",children:[d.jsx("div",{className:"flex w-full items-center space-x-4",children:d.jsx(Lt,{value:a,id:"document",className:"text-sm bg-transparent outline-none w-full py-2 border-0",placeholder:"Enter document",readOnly:(s==null?void 0:s.role)==="viewer",onChange:c=>e(c.target.value,l),maxLength:Fh})}),d.jsx("div",{className:"flex space-x-2",children:(s==null?void 0:s.role)!=="viewer"&&d.jsxs(Xe,{variant:"ghost",size:"icon",className:"hover:bg-transparent",onClick:async()=>{await i(l)},children:[d.jsx(Su,{className:"size-5 font-bold hover:text-red-600 ease-in",strokeWidth:2}),d.jsx("span",{className:"sr-only",children:"Delete"})]})})]})},l))}),(s==null?void 0:s.role)!=="viewer"&&d.jsxs(Xe,{variant:"outline",size:"sm",className:"mt-2",onClick:n,disabled:!t.intent,children:[d.jsx(bu,{className:"w-4 h-4 mr-2"})," Add Document"]})]})},_2=m.forwardRef(({className:t,...e},n)=>d.jsx("textarea",{className:ue("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));_2.displayName="Textarea";const Nte=".png,.jpg,.mp4,.pdf",Dte=({fileRef:t,changeFile:e})=>d.jsxs("div",{children:[d.jsx(Lt,{id:"file-upload",type:"file",className:"hidden",ref:t,accept:Nte,onChange:e}),d.jsx(Xe,{variant:"ghost",size:"icon",className:"size-8 rounded-full hover:bg-neutral-100 p-1.5",onClick:()=>{var n;return(n=t.current)==null?void 0:n.click()},children:d.jsx(bM,{className:"size-4"})})]});var kte="Label",E2=m.forwardRef((t,e)=>d.jsx(ve.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));E2.displayName=kte;var b2=E2;const Mte=Mf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Tn=m.forwardRef(({className:t,...e},n)=>d.jsx(b2,{ref:n,className:ue(Mte(),t),...e}));Tn.displayName=b2.displayName;const Ote=({isLinkDropdownOpen:t,setIsLinkDropdownOpen:e,onInsertLink:n})=>{const[r,s]=m.useState(""),[i,o]=m.useState(""),a=()=>{e(!1),n(r,i),s(""),o("")};return d.jsxs(Df,{open:t,onOpenChange:e,children:[d.jsx(kf,{asChild:!0,children:d.jsx(Xe,{variant:"ghost",size:"icon",className:"size-8 rounded-full hover:bg-neutral-100 p-1.5",onClick:()=>e(!0),children:d.jsx(n8,{className:"size-4"})})}),d.jsx(Iu,{side:"top",className:"w-56",children:d.jsxs("form",{onSubmit:l=>{l.preventDefault(),a()},className:"flex flex-col p-4 space-y-4",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx(Tn,{htmlFor:"link-url",className:"mb-1",children:"URL"}),d.jsx(Lt,{id:"link-url",value:r,onChange:l=>s(l.target.value),className:"col-span-3",placeholder:"Enter link URL",required:!0})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx(Tn,{htmlFor:"link-text",className:"mb-1",children:"Text"}),d.jsx(Lt,{id:"link-text",value:i,onChange:l=>o(l.target.value),className:"col-span-3",placeholder:"Enter link Text",required:!0})]}),d.jsx(Xe,{type:"submit",children:"Insert Link"})]})})]})},S2=({answer:t,handleTextChange:e,onFileChange:n,fileRef:r,textAreaRef:s,isError:i,isLinkDropDownVisible:o,setIsLinkDropDownVisible:a,onInsertLink:l,tabIndex:c})=>{const u=ut(p=>p.admin),h=p=>{const g=p.target;g.style.height="auto",g.style.height=`${g.scrollHeight}px`,e("answer",g.value)};return m.useEffect(()=>{s.current&&(s.current.style.height="auto",s.current.style.height=`${s.current.scrollHeight}px`)},[s,t]),d.jsxs("div",{className:"relative mb-4 ",children:[d.jsx(_2,{spellCheck:!1,name:"answer",ref:s,placeholder:"Enter the answer",className:ue("min-h-[100px] pb-12 overflow-hidden resize-none outline-none focus:outline-none",i&&"border-destructive"),readOnly:(u==null?void 0:u.role)==="viewer",value:t,onChange:h,tabIndex:c??0}),(u==null?void 0:u.role)!=="viewer"&&d.jsxs("div",{className:"absolute bottom-2 left-2 flex space-x-2",children:[d.jsx(Ote,{isLinkDropdownOpen:o,setIsLinkDropdownOpen:a,onInsertLink:l}),d.jsx(Dte,{fileRef:r,changeFile:n})]})]})},T2=({file:t,removeFile:e})=>{const n=ut(r=>r.admin);return d.jsx("div",{className:"mt-4 p-4 border rounded-md bg-muted",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-2 py-2 overflow-hidden",children:[d.jsx(bM,{className:"h-4 w-4 text-muted-foreground"}),d.jsx("div",{className:"font-medium truncate max-w-[250px]",children:t.name}),d.jsxs("div",{className:"text-sm text-center text-muted-foreground w-20",children:["(",FQ(t.size),")"]})]}),(n==null?void 0:n.role)!=="viewer"&&d.jsx(Xe,{variant:"ghost",size:"icon",onClick:e,className:"h-8 w-8 min-w-8",children:d.jsx(Tf,{className:"h-4 w-4"})})]})})};function Se({className:t,...e}){return d.jsx("div",{className:ue("animate-pulse rounded-md bg-muted",t),...e})}var jte="firebase",Lte="10.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ni(jte,Lte,"app");var X1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ul,C2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,E){function I(){}I.prototype=E.prototype,T.D=E.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(R,k,M){for(var N=Array(arguments.length-2),W=2;W<arguments.length;W++)N[W-2]=arguments[W];return E.prototype[k].apply(R,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,E,I){I||(I=0);var R=Array(16);if(typeof E=="string")for(var k=0;16>k;++k)R[k]=E.charCodeAt(I++)|E.charCodeAt(I++)<<8|E.charCodeAt(I++)<<16|E.charCodeAt(I++)<<24;else for(k=0;16>k;++k)R[k]=E[I++]|E[I++]<<8|E[I++]<<16|E[I++]<<24;E=T.g[0],I=T.g[1],k=T.g[2];var M=T.g[3],N=E+(M^I&(k^M))+R[0]+3614090360&4294967295;E=I+(N<<7&4294967295|N>>>25),N=M+(k^E&(I^k))+R[1]+3905402710&4294967295,M=E+(N<<12&4294967295|N>>>20),N=k+(I^M&(E^I))+R[2]+606105819&4294967295,k=M+(N<<17&4294967295|N>>>15),N=I+(E^k&(M^E))+R[3]+3250441966&4294967295,I=k+(N<<22&4294967295|N>>>10),N=E+(M^I&(k^M))+R[4]+4118548399&4294967295,E=I+(N<<7&4294967295|N>>>25),N=M+(k^E&(I^k))+R[5]+1200080426&4294967295,M=E+(N<<12&4294967295|N>>>20),N=k+(I^M&(E^I))+R[6]+2821735955&4294967295,k=M+(N<<17&4294967295|N>>>15),N=I+(E^k&(M^E))+R[7]+4249261313&4294967295,I=k+(N<<22&4294967295|N>>>10),N=E+(M^I&(k^M))+R[8]+1770035416&4294967295,E=I+(N<<7&4294967295|N>>>25),N=M+(k^E&(I^k))+R[9]+2336552879&4294967295,M=E+(N<<12&4294967295|N>>>20),N=k+(I^M&(E^I))+R[10]+4294925233&4294967295,k=M+(N<<17&4294967295|N>>>15),N=I+(E^k&(M^E))+R[11]+2304563134&4294967295,I=k+(N<<22&4294967295|N>>>10),N=E+(M^I&(k^M))+R[12]+1804603682&4294967295,E=I+(N<<7&4294967295|N>>>25),N=M+(k^E&(I^k))+R[13]+4254626195&4294967295,M=E+(N<<12&4294967295|N>>>20),N=k+(I^M&(E^I))+R[14]+2792965006&4294967295,k=M+(N<<17&4294967295|N>>>15),N=I+(E^k&(M^E))+R[15]+1236535329&4294967295,I=k+(N<<22&4294967295|N>>>10),N=E+(k^M&(I^k))+R[1]+4129170786&4294967295,E=I+(N<<5&4294967295|N>>>27),N=M+(I^k&(E^I))+R[6]+3225465664&4294967295,M=E+(N<<9&4294967295|N>>>23),N=k+(E^I&(M^E))+R[11]+643717713&4294967295,k=M+(N<<14&4294967295|N>>>18),N=I+(M^E&(k^M))+R[0]+3921069994&4294967295,I=k+(N<<20&4294967295|N>>>12),N=E+(k^M&(I^k))+R[5]+3593408605&4294967295,E=I+(N<<5&4294967295|N>>>27),N=M+(I^k&(E^I))+R[10]+38016083&4294967295,M=E+(N<<9&4294967295|N>>>23),N=k+(E^I&(M^E))+R[15]+3634488961&4294967295,k=M+(N<<14&4294967295|N>>>18),N=I+(M^E&(k^M))+R[4]+3889429448&4294967295,I=k+(N<<20&4294967295|N>>>12),N=E+(k^M&(I^k))+R[9]+568446438&4294967295,E=I+(N<<5&4294967295|N>>>27),N=M+(I^k&(E^I))+R[14]+3275163606&4294967295,M=E+(N<<9&4294967295|N>>>23),N=k+(E^I&(M^E))+R[3]+4107603335&4294967295,k=M+(N<<14&4294967295|N>>>18),N=I+(M^E&(k^M))+R[8]+1163531501&4294967295,I=k+(N<<20&4294967295|N>>>12),N=E+(k^M&(I^k))+R[13]+2850285829&4294967295,E=I+(N<<5&4294967295|N>>>27),N=M+(I^k&(E^I))+R[2]+4243563512&4294967295,M=E+(N<<9&4294967295|N>>>23),N=k+(E^I&(M^E))+R[7]+1735328473&4294967295,k=M+(N<<14&4294967295|N>>>18),N=I+(M^E&(k^M))+R[12]+2368359562&4294967295,I=k+(N<<20&4294967295|N>>>12),N=E+(I^k^M)+R[5]+4294588738&4294967295,E=I+(N<<4&4294967295|N>>>28),N=M+(E^I^k)+R[8]+2272392833&4294967295,M=E+(N<<11&4294967295|N>>>21),N=k+(M^E^I)+R[11]+1839030562&4294967295,k=M+(N<<16&4294967295|N>>>16),N=I+(k^M^E)+R[14]+4259657740&4294967295,I=k+(N<<23&4294967295|N>>>9),N=E+(I^k^M)+R[1]+2763975236&4294967295,E=I+(N<<4&4294967295|N>>>28),N=M+(E^I^k)+R[4]+1272893353&4294967295,M=E+(N<<11&4294967295|N>>>21),N=k+(M^E^I)+R[7]+4139469664&4294967295,k=M+(N<<16&4294967295|N>>>16),N=I+(k^M^E)+R[10]+3200236656&4294967295,I=k+(N<<23&4294967295|N>>>9),N=E+(I^k^M)+R[13]+681279174&4294967295,E=I+(N<<4&4294967295|N>>>28),N=M+(E^I^k)+R[0]+3936430074&4294967295,M=E+(N<<11&4294967295|N>>>21),N=k+(M^E^I)+R[3]+3572445317&4294967295,k=M+(N<<16&4294967295|N>>>16),N=I+(k^M^E)+R[6]+76029189&4294967295,I=k+(N<<23&4294967295|N>>>9),N=E+(I^k^M)+R[9]+3654602809&4294967295,E=I+(N<<4&4294967295|N>>>28),N=M+(E^I^k)+R[12]+3873151461&4294967295,M=E+(N<<11&4294967295|N>>>21),N=k+(M^E^I)+R[15]+530742520&4294967295,k=M+(N<<16&4294967295|N>>>16),N=I+(k^M^E)+R[2]+3299628645&4294967295,I=k+(N<<23&4294967295|N>>>9),N=E+(k^(I|~M))+R[0]+4096336452&4294967295,E=I+(N<<6&4294967295|N>>>26),N=M+(I^(E|~k))+R[7]+1126891415&4294967295,M=E+(N<<10&4294967295|N>>>22),N=k+(E^(M|~I))+R[14]+2878612391&4294967295,k=M+(N<<15&4294967295|N>>>17),N=I+(M^(k|~E))+R[5]+4237533241&4294967295,I=k+(N<<21&4294967295|N>>>11),N=E+(k^(I|~M))+R[12]+1700485571&4294967295,E=I+(N<<6&4294967295|N>>>26),N=M+(I^(E|~k))+R[3]+2399980690&4294967295,M=E+(N<<10&4294967295|N>>>22),N=k+(E^(M|~I))+R[10]+4293915773&4294967295,k=M+(N<<15&4294967295|N>>>17),N=I+(M^(k|~E))+R[1]+2240044497&4294967295,I=k+(N<<21&4294967295|N>>>11),N=E+(k^(I|~M))+R[8]+1873313359&4294967295,E=I+(N<<6&4294967295|N>>>26),N=M+(I^(E|~k))+R[15]+4264355552&4294967295,M=E+(N<<10&4294967295|N>>>22),N=k+(E^(M|~I))+R[6]+2734768916&4294967295,k=M+(N<<15&4294967295|N>>>17),N=I+(M^(k|~E))+R[13]+1309151649&4294967295,I=k+(N<<21&4294967295|N>>>11),N=E+(k^(I|~M))+R[4]+4149444226&4294967295,E=I+(N<<6&4294967295|N>>>26),N=M+(I^(E|~k))+R[11]+3174756917&4294967295,M=E+(N<<10&4294967295|N>>>22),N=k+(E^(M|~I))+R[2]+718787259&4294967295,k=M+(N<<15&4294967295|N>>>17),N=I+(M^(k|~E))+R[9]+3951481745&4294967295,T.g[0]=T.g[0]+E&4294967295,T.g[1]=T.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,T.g[2]=T.g[2]+k&4294967295,T.g[3]=T.g[3]+M&4294967295}r.prototype.u=function(T,E){E===void 0&&(E=T.length);for(var I=E-this.blockSize,R=this.B,k=this.h,M=0;M<E;){if(k==0)for(;M<=I;)s(this,T,M),M+=this.blockSize;if(typeof T=="string"){for(;M<E;)if(R[k++]=T.charCodeAt(M++),k==this.blockSize){s(this,R),k=0;break}}else for(;M<E;)if(R[k++]=T[M++],k==this.blockSize){s(this,R),k=0;break}}this.h=k,this.o+=E},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var E=1;E<T.length-8;++E)T[E]=0;var I=8*this.o;for(E=T.length-8;E<T.length;++E)T[E]=I&255,I/=256;for(this.u(T),T=Array(16),E=I=0;4>E;++E)for(var R=0;32>R;R+=8)T[I++]=this.g[E]>>>R&255;return T};function i(T,E){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=E(T)}function o(T,E){this.h=E;for(var I=[],R=!0,k=T.length-1;0<=k;k--){var M=T[k]|0;R&&M==E||(I[k]=M,R=!1)}this.g=I}var a={};function l(T){return-128<=T&&128>T?i(T,function(E){return new o([E|0],0>E?-1:0)}):new o([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return h;if(0>T)return _(c(-T));for(var E=[],I=1,R=0;T>=I;R++)E[R]=T/I|0,I*=4294967296;return new o(E,0)}function u(T,E){if(T.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(T.charAt(0)=="-")return _(u(T.substring(1),E));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(E,8)),R=h,k=0;k<T.length;k+=8){var M=Math.min(8,T.length-k),N=parseInt(T.substring(k,k+M),E);8>M?(M=c(Math.pow(E,M)),R=R.j(M).add(c(N))):(R=R.j(I),R=R.add(c(N)))}return R}var h=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-_(this).m();for(var T=0,E=1,I=0;I<this.g.length;I++){var R=this.i(I);T+=(0<=R?R:4294967296+R)*E,E*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(w(this))return"0";if(v(this))return"-"+_(this).toString(T);for(var E=c(Math.pow(T,6)),I=this,R="";;){var k=C(I,E).g;I=x(I,k.j(E));var M=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=k,w(I))return M+R;for(;6>M.length;)M="0"+M;R=M+R}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function w(T){if(T.h!=0)return!1;for(var E=0;E<T.g.length;E++)if(T.g[E]!=0)return!1;return!0}function v(T){return T.h==-1}t.l=function(T){return T=x(this,T),v(T)?-1:w(T)?0:1};function _(T){for(var E=T.g.length,I=[],R=0;R<E;R++)I[R]=~T.g[R];return new o(I,~T.h).add(p)}t.abs=function(){return v(this)?_(this):this},t.add=function(T){for(var E=Math.max(this.g.length,T.g.length),I=[],R=0,k=0;k<=E;k++){var M=R+(this.i(k)&65535)+(T.i(k)&65535),N=(M>>>16)+(this.i(k)>>>16)+(T.i(k)>>>16);R=N>>>16,M&=65535,N&=65535,I[k]=N<<16|M}return new o(I,I[I.length-1]&-2147483648?-1:0)};function x(T,E){return T.add(_(E))}t.j=function(T){if(w(this)||w(T))return h;if(v(this))return v(T)?_(this).j(_(T)):_(_(this).j(T));if(v(T))return _(this.j(_(T)));if(0>this.l(g)&&0>T.l(g))return c(this.m()*T.m());for(var E=this.g.length+T.g.length,I=[],R=0;R<2*E;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(var k=0;k<T.g.length;k++){var M=this.i(R)>>>16,N=this.i(R)&65535,W=T.i(k)>>>16,se=T.i(k)&65535;I[2*R+2*k]+=N*se,y(I,2*R+2*k),I[2*R+2*k+1]+=M*se,y(I,2*R+2*k+1),I[2*R+2*k+1]+=N*W,y(I,2*R+2*k+1),I[2*R+2*k+2]+=M*W,y(I,2*R+2*k+2)}for(R=0;R<E;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=E;R<2*E;R++)I[R]=0;return new o(I,0)};function y(T,E){for(;(T[E]&65535)!=T[E];)T[E+1]+=T[E]>>>16,T[E]&=65535,E++}function b(T,E){this.g=T,this.h=E}function C(T,E){if(w(E))throw Error("division by zero");if(w(T))return new b(h,h);if(v(T))return E=C(_(T),E),new b(_(E.g),_(E.h));if(v(E))return E=C(T,_(E)),new b(_(E.g),E.h);if(30<T.g.length){if(v(T)||v(E))throw Error("slowDivide_ only works with positive integers.");for(var I=p,R=E;0>=R.l(T);)I=P(I),R=P(R);var k=O(I,1),M=O(R,1);for(R=O(R,2),I=O(I,2);!w(R);){var N=M.add(R);0>=N.l(T)&&(k=k.add(I),M=N),R=O(R,1),I=O(I,1)}return E=x(T,k.j(E)),new b(k,E)}for(k=h;0<=T.l(E);){for(I=Math.max(1,Math.floor(T.m()/E.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),M=c(I),N=M.j(E);v(N)||0<N.l(T);)I-=R,M=c(I),N=M.j(E);w(M)&&(M=p),k=k.add(M),T=x(T,N)}return new b(k,T)}t.A=function(T){return C(this,T).h},t.and=function(T){for(var E=Math.max(this.g.length,T.g.length),I=[],R=0;R<E;R++)I[R]=this.i(R)&T.i(R);return new o(I,this.h&T.h)},t.or=function(T){for(var E=Math.max(this.g.length,T.g.length),I=[],R=0;R<E;R++)I[R]=this.i(R)|T.i(R);return new o(I,this.h|T.h)},t.xor=function(T){for(var E=Math.max(this.g.length,T.g.length),I=[],R=0;R<E;R++)I[R]=this.i(R)^T.i(R);return new o(I,this.h^T.h)};function P(T){for(var E=T.g.length+1,I=[],R=0;R<E;R++)I[R]=T.i(R)<<1|T.i(R-1)>>>31;return new o(I,T.h)}function O(T,E){var I=E>>5;E%=32;for(var R=T.g.length-I,k=[],M=0;M<R;M++)k[M]=0<E?T.i(M+I)>>>E|T.i(M+I+1)<<32-E:T.i(M+I);return new o(k,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,C2=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,ul=o}).apply(typeof X1<"u"?X1:typeof self<"u"?self:typeof window<"u"?window:{});var qp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var A2,R2,Cd,I2,Im,Xx,P2,N2,D2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,S,A){return f==Array.prototype||f==Object.prototype||(f[S]=A.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof qp=="object"&&qp];for(var S=0;S<f.length;++S){var A=f[S];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function s(f,S){if(S)e:{var A=r;f=f.split(".");for(var D=0;D<f.length-1;D++){var U=f[D];if(!(U in A))break e;A=A[U]}f=f[f.length-1],D=A[f],S=S(D),S!=D&&S!=null&&e(A,f,{configurable:!0,writable:!0,value:S})}}function i(f,S){f instanceof String&&(f+="");var A=0,D=!1,U={next:function(){if(!D&&A<f.length){var q=A++;return{value:S(q,f[q]),done:!1}}return D=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}s("Array.prototype.values",function(f){return f||function(){return i(this,function(S,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(f){var S=typeof f;return S=S!="object"?S:f?Array.isArray(f)?"array":S:"null",S=="array"||S=="object"&&typeof f.length=="number"}function c(f){var S=typeof f;return S=="object"&&f!=null||S=="function"}function u(f,S,A){return f.call.apply(f.bind,arguments)}function h(f,S,A){if(!f)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,D),f.apply(S,U)}}return function(){return f.apply(S,arguments)}}function p(f,S,A){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,p.apply(null,arguments)}function g(f,S){var A=Array.prototype.slice.call(arguments,1);return function(){var D=A.slice();return D.push.apply(D,arguments),f.apply(this,D)}}function w(f,S){function A(){}A.prototype=S.prototype,f.aa=S.prototype,f.prototype=new A,f.prototype.constructor=f,f.Qb=function(D,U,q){for(var ae=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)ae[Tt-2]=arguments[Tt];return S.prototype[U].apply(D,ae)}}function v(f){const S=f.length;if(0<S){const A=Array(S);for(let D=0;D<S;D++)A[D]=f[D];return A}return[]}function _(f,S){for(let A=1;A<arguments.length;A++){const D=arguments[A];if(l(D)){const U=f.length||0,q=D.length||0;f.length=U+q;for(let ae=0;ae<q;ae++)f[U+ae]=D[ae]}else f.push(D)}}class x{constructor(S,A){this.i=S,this.j=A,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function y(f){return/^[\s\xa0]*$/.test(f)}function b(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function C(f){return C[" "](f),f}C[" "]=function(){};var P=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function O(f,S,A){for(const D in f)S.call(A,f[D],D,f)}function T(f,S){for(const A in f)S.call(void 0,f[A],A,f)}function E(f){const S={};for(const A in f)S[A]=f[A];return S}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(f,S){let A,D;for(let U=1;U<arguments.length;U++){D=arguments[U];for(A in D)f[A]=D[A];for(let q=0;q<I.length;q++)A=I[q],Object.prototype.hasOwnProperty.call(D,A)&&(f[A]=D[A])}}function k(f){var S=1;f=f.split(":");const A=[];for(;0<S&&f.length;)A.push(f.shift()),S--;return f.length&&A.push(f.join(":")),A}function M(f){a.setTimeout(()=>{throw f},0)}function N(){var f=B;let S=null;return f.g&&(S=f.g,f.g=f.g.next,f.g||(f.h=null),S.next=null),S}class W{constructor(){this.h=this.g=null}add(S,A){const D=se.get();D.set(S,A),this.h?this.h.next=D:this.g=D,this.h=D}}var se=new x(()=>new ne,f=>f.reset());class ne{constructor(){this.next=this.g=this.h=null}set(S,A){this.h=S,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,z=!1,B=new W,J=()=>{const f=a.Promise.resolve(void 0);Y=()=>{f.then(fe)}};var fe=()=>{for(var f;f=N();){try{f.h.call(f.g)}catch(A){M(A)}var S=se;S.j(f),100>S.h&&(S.h++,f.next=S.g,S.g=f)}z=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Te(f,S){this.type=f,this.g=this.target=S,this.defaultPrevented=!1}Te.prototype.h=function(){this.defaultPrevented=!0};var We=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,S=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const A=()=>{};a.addEventListener("test",A,S),a.removeEventListener("test",A,S)}catch{}return f}();function at(f,S){if(Te.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var A=this.type=f.type,D=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=S,S=f.relatedTarget){if(P){e:{try{C(S.nodeName);var U=!0;break e}catch{}U=!1}U||(S=null)}}else A=="mouseover"?S=f.fromElement:A=="mouseout"&&(S=f.toElement);this.relatedTarget=S,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ne[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&at.aa.h.call(this)}}w(at,Te);var Ne={2:"touch",3:"pen",4:"mouse"};at.prototype.h=function(){at.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),Pe=0;function He(f,S,A,D,U){this.listener=f,this.proxy=null,this.src=S,this.type=A,this.capture=!!D,this.ha=U,this.key=++Pe,this.da=this.fa=!1}function pe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function $e(f){this.src=f,this.g={},this.h=0}$e.prototype.add=function(f,S,A,D,U){var q=f.toString();f=this.g[q],f||(f=this.g[q]=[],this.h++);var ae=yt(f,S,D,U);return-1<ae?(S=f[ae],A||(S.fa=!1)):(S=new He(S,this.src,q,!!D,U),S.fa=A,f.push(S)),S};function Oe(f,S){var A=S.type;if(A in f.g){var D=f.g[A],U=Array.prototype.indexOf.call(D,S,void 0),q;(q=0<=U)&&Array.prototype.splice.call(D,U,1),q&&(pe(S),f.g[A].length==0&&(delete f.g[A],f.h--))}}function yt(f,S,A,D){for(var U=0;U<f.length;++U){var q=f[U];if(!q.da&&q.listener==S&&q.capture==!!A&&q.ha==D)return U}return-1}var qe="closure_lm_"+(1e6*Math.random()|0),Vt={};function mn(f,S,A,D,U){if(Array.isArray(S)){for(var q=0;q<S.length;q++)mn(f,S[q],A,D,U);return null}return A=Ue(A),f&&f[ce]?f.K(S,A,c(D)?!!D.capture:!!D,U):Mr(f,S,A,!1,D,U)}function Mr(f,S,A,D,U,q){if(!S)throw Error("Invalid event type");var ae=c(U)?!!U.capture:!!U,Tt=ee(f);if(Tt||(f[qe]=Tt=new $e(f)),A=Tt.add(S,A,D,ae,q),A.proxy)return A;if(D=j(),A.proxy=D,D.src=f,D.listener=A,f.addEventListener)We||(U=ae),U===void 0&&(U=!1),f.addEventListener(S.toString(),D,U);else if(f.attachEvent)f.attachEvent(ie(S.toString()),D);else if(f.addListener&&f.removeListener)f.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return A}function j(){function f(A){return S.call(f.src,f.listener,A)}const S=re;return f}function $(f,S,A,D,U){if(Array.isArray(S))for(var q=0;q<S.length;q++)$(f,S[q],A,D,U);else D=c(D)?!!D.capture:!!D,A=Ue(A),f&&f[ce]?(f=f.i,S=String(S).toString(),S in f.g&&(q=f.g[S],A=yt(q,A,D,U),-1<A&&(pe(q[A]),Array.prototype.splice.call(q,A,1),q.length==0&&(delete f.g[S],f.h--)))):f&&(f=ee(f))&&(S=f.g[S.toString()],f=-1,S&&(f=yt(S,A,D,U)),(A=-1<f?S[f]:null)&&H(A))}function H(f){if(typeof f!="number"&&f&&!f.da){var S=f.src;if(S&&S[ce])Oe(S.i,f);else{var A=f.type,D=f.proxy;S.removeEventListener?S.removeEventListener(A,D,f.capture):S.detachEvent?S.detachEvent(ie(A),D):S.addListener&&S.removeListener&&S.removeListener(D),(A=ee(S))?(Oe(A,f),A.h==0&&(A.src=null,S[qe]=null)):pe(f)}}}function ie(f){return f in Vt?Vt[f]:Vt[f]="on"+f}function re(f,S){if(f.da)f=!0;else{S=new at(S,this);var A=f.listener,D=f.ha||f.src;f.fa&&H(f),f=A.call(D,S)}return f}function ee(f){return f=f[qe],f instanceof $e?f:null}var _e="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ue(f){return typeof f=="function"?f:(f[_e]||(f[_e]=function(S){return f.handleEvent(S)}),f[_e])}function Be(){he.call(this),this.i=new $e(this),this.M=this,this.F=null}w(Be,he),Be.prototype[ce]=!0,Be.prototype.removeEventListener=function(f,S,A,D){$(this,f,S,A,D)};function je(f,S){var A,D=f.F;if(D)for(A=[];D;D=D.F)A.push(D);if(f=f.M,D=S.type||S,typeof S=="string")S=new Te(S,f);else if(S instanceof Te)S.target=S.target||f;else{var U=S;S=new Te(D,f),R(S,U)}if(U=!0,A)for(var q=A.length-1;0<=q;q--){var ae=S.g=A[q];U=Yt(ae,D,!0,S)&&U}if(ae=S.g=f,U=Yt(ae,D,!0,S)&&U,U=Yt(ae,D,!1,S)&&U,A)for(q=0;q<A.length;q++)ae=S.g=A[q],U=Yt(ae,D,!1,S)&&U}Be.prototype.N=function(){if(Be.aa.N.call(this),this.i){var f=this.i,S;for(S in f.g){for(var A=f.g[S],D=0;D<A.length;D++)pe(A[D]);delete f.g[S],f.h--}}this.F=null},Be.prototype.K=function(f,S,A,D){return this.i.add(String(f),S,!1,A,D)},Be.prototype.L=function(f,S,A,D){return this.i.add(String(f),S,!0,A,D)};function Yt(f,S,A,D){if(S=f.i.g[String(S)],!S)return!0;S=S.concat();for(var U=!0,q=0;q<S.length;++q){var ae=S[q];if(ae&&!ae.da&&ae.capture==A){var Tt=ae.listener,jn=ae.ha||ae.src;ae.fa&&Oe(f.i,ae),U=Tt.call(jn,D)!==!1&&U}}return U&&!D.defaultPrevented}function wr(f,S,A){if(typeof f=="function")A&&(f=p(f,A));else if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:a.setTimeout(f,S||0)}function Rn(f){f.g=wr(()=>{f.g=null,f.i&&(f.i=!1,Rn(f))},f.l);const S=f.h;f.h=null,f.m.apply(null,S)}class Ft extends he{constructor(S,A){super(),this.m=S,this.l=A,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Rn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Or(f){he.call(this),this.h=f,this.g={}}w(Or,he);var Jr=[];function io(f){O(f.g,function(S,A){this.g.hasOwnProperty(A)&&H(S)},f),f.g={}}Or.prototype.N=function(){Or.aa.N.call(this),io(this)},Or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gn=a.JSON.stringify,Na=a.JSON.parse,Fl=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function gi(){}gi.prototype.h=null;function Ul(f){return f.h||(f.h=f.i())}function Da(){}var Zr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $t(){Te.call(this,"d")}w($t,Te);function rn(){Te.call(this,"c")}w(rn,Te);var At={},lr=null;function vn(){return lr=lr||new Be}At.La="serverreachability";function yn(f){Te.call(this,At.La,f)}w(yn,Te);function In(f){const S=vn();je(S,new yn(S))}At.STAT_EVENT="statevent";function es(f,S){Te.call(this,At.STAT_EVENT,f),this.stat=S}w(es,Te);function dt(f){const S=vn();je(S,new es(S,f))}At.Ma="timingevent";function jr(f,S){Te.call(this,At.Ma,f),this.size=S}w(jr,Te);function xr(f,S){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},S)}function ts(){this.g=!0}ts.prototype.xa=function(){this.g=!1};function oo(f,S,A,D,U,q){f.info(function(){if(f.g)if(q)for(var ae="",Tt=q.split("&"),jn=0;jn<Tt.length;jn++){var ht=Tt[jn].split("=");if(1<ht.length){var Gn=ht[0];ht=ht[1];var Qn=Gn.split("_");ae=2<=Qn.length&&Qn[1]=="type"?ae+(Gn+"="+ht+"&"):ae+(Gn+"=redacted&")}}else ae=null;else ae=q;return"XMLHTTP REQ ("+D+") [attempt "+U+"]: "+S+`
`+A+`
`+ae})}function L(f,S,A,D,U,q,ae){f.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+U+"]: "+S+`
`+A+`
`+q+" "+ae})}function F(f,S,A,D){f.info(function(){return"XMLHTTP TEXT ("+S+"): "+G(f,A)+(D?" "+D:"")})}function K(f,S){f.info(function(){return"TIMEOUT: "+S})}ts.prototype.info=function(){};function G(f,S){if(!f.g)return S;if(!S)return null;try{var A=JSON.parse(S);if(A){for(f=0;f<A.length;f++)if(Array.isArray(A[f])){var D=A[f];if(!(2>D.length)){var U=D[1];if(Array.isArray(U)&&!(1>U.length)){var q=U[0];if(q!="noop"&&q!="stop"&&q!="close")for(var ae=1;ae<U.length;ae++)U[ae]=""}}}}return gn(A)}catch{return S}}var de={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ce={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Me;function oe(){}w(oe,gi),oe.prototype.g=function(){return new XMLHttpRequest},oe.prototype.i=function(){return{}},Me=new oe;function Ee(f,S,A,D){this.j=f,this.i=S,this.l=A,this.R=D||1,this.U=new Or(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ye}function ye(){this.i=null,this.g="",this.h=!1}var xe={},rt={};function lt(f,S,A){f.L=1,f.v=lp(vi(S)),f.m=A,f.P=!0,_t(f,null)}function _t(f,S){f.F=Date.now(),Nt(f),f.A=vi(f.v);var A=f.A,D=f.R;Array.isArray(D)||(D=[String(D)]),kT(A.i,"t",D),f.C=0,A=f.j.J,f.h=new ye,f.g=XT(f.j,A?S:null,!f.m),0<f.O&&(f.M=new Ft(p(f.Y,f,f.g),f.O)),S=f.U,A=f.g,D=f.ca;var U="readystatechange";Array.isArray(U)||(U&&(Jr[0]=U.toString()),U=Jr);for(var q=0;q<U.length;q++){var ae=mn(A,U[q],D||S.handleEvent,!1,S.h||S);if(!ae)break;S.g[ae.key]=ae}S=f.H?E(f.H):{},f.m?(f.u||(f.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,S)):(f.u="GET",f.g.ea(f.A,f.u,null,S)),In(),oo(f.i,f.u,f.A,f.l,f.R,f.m)}Ee.prototype.ca=function(f){f=f.target;const S=this.M;S&&yi(f)==3?S.j():this.Y(f)},Ee.prototype.Y=function(f){try{if(f==this.g)e:{const Qn=yi(this.g);var S=this.g.Ba();const zl=this.g.Z();if(!(3>Qn)&&(Qn!=3||this.g&&(this.h.h||this.g.oa()||UT(this.g)))){this.J||Qn!=4||S==7||(S==8||0>=zl?In(3):In(2)),Lr(this);var A=this.g.Z();this.X=A;t:if(et(this)){var D=UT(this.g);f="";var U=D.length,q=yi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hn(this),ns(this);var ae="";break t}this.h.i=new a.TextDecoder}for(S=0;S<U;S++)this.h.h=!0,f+=this.h.i.decode(D[S],{stream:!(q&&S==U-1)});D.length=0,this.h.g+=f,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=A==200,L(this.i,this.u,this.A,this.l,this.R,Qn,A),this.o){if(this.T&&!this.K){t:{if(this.g){var Tt,jn=this.g;if((Tt=jn.g?jn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Tt)){var ht=Tt;break t}}ht=null}if(A=ht)F(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lo(this,A);else{this.o=!1,this.s=3,dt(12),Hn(this),ns(this);break e}}if(this.P){A=!0;let Es;for(;!this.J&&this.C<ae.length;)if(Es=un(this,ae),Es==rt){Qn==4&&(this.s=4,dt(14),A=!1),F(this.i,this.l,null,"[Incomplete Response]");break}else if(Es==xe){this.s=4,dt(15),F(this.i,this.l,ae,"[Invalid Chunk]"),A=!1;break}else F(this.i,this.l,Es,null),lo(this,Es);if(et(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qn!=4||ae.length!=0||this.h.h||(this.s=1,dt(16),A=!1),this.o=this.o&&A,!A)F(this.i,this.l,ae,"[Invalid Chunked Response]"),Hn(this),ns(this);else if(0<ae.length&&!this.W){this.W=!0;var Gn=this.j;Gn.g==this&&Gn.ba&&!Gn.M&&(Gn.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Ky(Gn),Gn.M=!0,dt(11))}}else F(this.i,this.l,ae,null),lo(this,ae);Qn==4&&Hn(this),this.o&&!this.J&&(Qn==4?qT(this.j,this):(this.o=!1,Nt(this)))}else R$(this.g),A==400&&0<ae.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Hn(this),ns(this)}}}catch{}finally{}};function et(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function un(f,S){var A=f.C,D=S.indexOf(`
`,A);return D==-1?rt:(A=Number(S.substring(A,D)),isNaN(A)?xe:(D+=1,D+A>S.length?rt:(S=S.slice(D,D+A),f.C=D+A,S)))}Ee.prototype.cancel=function(){this.J=!0,Hn(this)};function Nt(f){f.S=Date.now()+f.I,ao(f,f.I)}function ao(f,S){if(f.B!=null)throw Error("WatchDog timer not null");f.B=xr(p(f.ba,f),S)}function Lr(f){f.B&&(a.clearTimeout(f.B),f.B=null)}Ee.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(K(this.i,this.A),this.L!=2&&(In(),dt(17)),Hn(this),this.s=2,ns(this)):ao(this,this.S-f)};function ns(f){f.j.G==0||f.J||qT(f.j,f)}function Hn(f){Lr(f);var S=f.M;S&&typeof S.ma=="function"&&S.ma(),f.M=null,io(f.U),f.g&&(S=f.g,f.g=null,S.abort(),S.ma())}function lo(f,S){try{var A=f.j;if(A.G!=0&&(A.g==f||ze(A.h,f))){if(!f.K&&ze(A.h,f)&&A.G==3){try{var D=A.Da.g.parse(S)}catch{D=null}if(Array.isArray(D)&&D.length==3){var U=D;if(U[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<f.F)fp(A),dp(A);else break e;zy(A),dt(18)}}else A.za=U[1],0<A.za-A.T&&37500>U[2]&&A.F&&A.v==0&&!A.C&&(A.C=xr(p(A.Za,A),6e3));if(1>=Oa(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else La(A,11)}else if((f.K||A.g==f)&&fp(A),!y(S))for(U=A.Da.g.parse(S),S=0;S<U.length;S++){let ht=U[S];if(A.T=ht[0],ht=ht[1],A.G==2)if(ht[0]=="c"){A.K=ht[1],A.ia=ht[2];const Gn=ht[3];Gn!=null&&(A.la=Gn,A.j.info("VER="+A.la));const Qn=ht[4];Qn!=null&&(A.Aa=Qn,A.j.info("SVER="+A.Aa));const zl=ht[5];zl!=null&&typeof zl=="number"&&0<zl&&(D=1.5*zl,A.L=D,A.j.info("backChannelRequestTimeoutMs_="+D)),D=A;const Es=f.g;if(Es){const mp=Es.g?Es.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mp){var q=D.h;q.g||mp.indexOf("spdy")==-1&&mp.indexOf("quic")==-1&&mp.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Rt(q,q.h),q.h=null))}if(D.D){const Wy=Es.g?Es.g.getResponseHeader("X-HTTP-Session-Id"):null;Wy&&(D.ya=Wy,kt(D.I,D.D,Wy))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-f.F,A.j.info("Handshake RTT: "+A.R+"ms")),D=A;var ae=f;if(D.qa=YT(D,D.J?D.ia:null,D.W),ae.K){qn(D.h,ae);var Tt=ae,jn=D.L;jn&&(Tt.I=jn),Tt.B&&(Lr(Tt),Nt(Tt)),D.g=ae}else WT(D);0<A.i.length&&hp(A)}else ht[0]!="stop"&&ht[0]!="close"||La(A,7);else A.G==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?La(A,7):$y(A):ht[0]!="noop"&&A.l&&A.l.ta(ht),A.v=0)}}In(4)}catch{}}var xs=class{constructor(f,S){this.g=f,this.map=S}};function ka(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ma(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Oa(f){return f.h?1:f.g?f.g.size:0}function ze(f,S){return f.h?f.h==S:f.g?f.g.has(S):!1}function Rt(f,S){f.g?f.g.add(S):f.h=S}function qn(f,S){f.h&&f.h==S?f.h=null:f.g&&f.g.has(S)&&f.g.delete(S)}ka.prototype.cancel=function(){if(this.i=Dt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Dt(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let S=f.i;for(const A of f.g.values())S=S.concat(A.D);return S}return v(f.i)}function _s(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var S=[],A=f.length,D=0;D<A;D++)S.push(f[D]);return S}S=[],A=0;for(D in f)S[A++]=f[D];return S}function sp(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var S=[];f=f.length;for(var A=0;A<f;A++)S.push(A);return S}S=[],A=0;for(const D in f)S[A++]=D;return S}}}function ip(f,S){if(f.forEach&&typeof f.forEach=="function")f.forEach(S,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,S,void 0);else for(var A=sp(f),D=_s(f),U=D.length,q=0;q<U;q++)S.call(void 0,D[q],A&&A[q],f)}var RT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function m$(f,S){if(f){f=f.split("&");for(var A=0;A<f.length;A++){var D=f[A].indexOf("="),U=null;if(0<=D){var q=f[A].substring(0,D);U=f[A].substring(D+1)}else q=f[A];S(q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function ja(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof ja){this.h=f.h,op(this,f.j),this.o=f.o,this.g=f.g,ap(this,f.s),this.l=f.l;var S=f.i,A=new qu;A.i=S.i,S.g&&(A.g=new Map(S.g),A.h=S.h),IT(this,A),this.m=f.m}else f&&(S=String(f).match(RT))?(this.h=!1,op(this,S[1]||"",!0),this.o=Wu(S[2]||""),this.g=Wu(S[3]||"",!0),ap(this,S[4]),this.l=Wu(S[5]||"",!0),IT(this,S[6]||"",!0),this.m=Wu(S[7]||"")):(this.h=!1,this.i=new qu(null,this.h))}ja.prototype.toString=function(){var f=[],S=this.j;S&&f.push(Hu(S,PT,!0),":");var A=this.g;return(A||S=="file")&&(f.push("//"),(S=this.o)&&f.push(Hu(S,PT,!0),"@"),f.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&f.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&f.push("/"),f.push(Hu(A,A.charAt(0)=="/"?y$:v$,!0))),(A=this.i.toString())&&f.push("?",A),(A=this.m)&&f.push("#",Hu(A,x$)),f.join("")};function vi(f){return new ja(f)}function op(f,S,A){f.j=A?Wu(S,!0):S,f.j&&(f.j=f.j.replace(/:$/,""))}function ap(f,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);f.s=S}else f.s=null}function IT(f,S,A){S instanceof qu?(f.i=S,_$(f.i,f.h)):(A||(S=Hu(S,w$)),f.i=new qu(S,f.h))}function kt(f,S,A){f.i.set(S,A)}function lp(f){return kt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Wu(f,S){return f?S?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Hu(f,S,A){return typeof f=="string"?(f=encodeURI(f).replace(S,g$),A&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function g$(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var PT=/[#\/\?@]/g,v$=/[#\?:]/g,y$=/[#\?]/g,w$=/[#\?@]/g,x$=/#/g;function qu(f,S){this.h=this.g=null,this.i=f||null,this.j=!!S}function co(f){f.g||(f.g=new Map,f.h=0,f.i&&m$(f.i,function(S,A){f.add(decodeURIComponent(S.replace(/\+/g," ")),A)}))}t=qu.prototype,t.add=function(f,S){co(this),this.i=null,f=Bl(this,f);var A=this.g.get(f);return A||this.g.set(f,A=[]),A.push(S),this.h+=1,this};function NT(f,S){co(f),S=Bl(f,S),f.g.has(S)&&(f.i=null,f.h-=f.g.get(S).length,f.g.delete(S))}function DT(f,S){return co(f),S=Bl(f,S),f.g.has(S)}t.forEach=function(f,S){co(this),this.g.forEach(function(A,D){A.forEach(function(U){f.call(S,U,D,this)},this)},this)},t.na=function(){co(this);const f=Array.from(this.g.values()),S=Array.from(this.g.keys()),A=[];for(let D=0;D<S.length;D++){const U=f[D];for(let q=0;q<U.length;q++)A.push(S[D])}return A},t.V=function(f){co(this);let S=[];if(typeof f=="string")DT(this,f)&&(S=S.concat(this.g.get(Bl(this,f))));else{f=Array.from(this.g.values());for(let A=0;A<f.length;A++)S=S.concat(f[A])}return S},t.set=function(f,S){return co(this),this.i=null,f=Bl(this,f),DT(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[S]),this.h+=1,this},t.get=function(f,S){return f?(f=this.V(f),0<f.length?String(f[0]):S):S};function kT(f,S,A){NT(f,S),0<A.length&&(f.i=null,f.g.set(Bl(f,S),v(A)),f.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],S=Array.from(this.g.keys());for(var A=0;A<S.length;A++){var D=S[A];const q=encodeURIComponent(String(D)),ae=this.V(D);for(D=0;D<ae.length;D++){var U=q;ae[D]!==""&&(U+="="+encodeURIComponent(String(ae[D]))),f.push(U)}}return this.i=f.join("&")};function Bl(f,S){return S=String(S),f.j&&(S=S.toLowerCase()),S}function _$(f,S){S&&!f.j&&(co(f),f.i=null,f.g.forEach(function(A,D){var U=D.toLowerCase();D!=U&&(NT(this,D),kT(this,U,A))},f)),f.j=S}function E$(f,S){const A=new ts;if(a.Image){const D=new Image;D.onload=g(uo,A,"TestLoadImage: loaded",!0,S,D),D.onerror=g(uo,A,"TestLoadImage: error",!1,S,D),D.onabort=g(uo,A,"TestLoadImage: abort",!1,S,D),D.ontimeout=g(uo,A,"TestLoadImage: timeout",!1,S,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=f}else S(!1)}function b$(f,S){const A=new ts,D=new AbortController,U=setTimeout(()=>{D.abort(),uo(A,"TestPingServer: timeout",!1,S)},1e4);fetch(f,{signal:D.signal}).then(q=>{clearTimeout(U),q.ok?uo(A,"TestPingServer: ok",!0,S):uo(A,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(U),uo(A,"TestPingServer: error",!1,S)})}function uo(f,S,A,D,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),D(A)}catch{}}function S$(){this.g=new Fl}function T$(f,S,A){const D=A||"";try{ip(f,function(U,q){let ae=U;c(U)&&(ae=gn(U)),S.push(D+q+"="+encodeURIComponent(ae))})}catch(U){throw S.push(D+"type="+encodeURIComponent("_badmap")),U}}function Gu(f){this.l=f.Ub||null,this.j=f.eb||!1}w(Gu,gi),Gu.prototype.g=function(){return new cp(this.l,this.j)},Gu.prototype.i=function(f){return function(){return f}}({});function cp(f,S){Be.call(this),this.D=f,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(cp,Be),t=cp.prototype,t.open=function(f,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=S,this.readyState=1,Yu(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(S.body=f),(this.D||a).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qu(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Yu(this)),this.g&&(this.readyState=3,Yu(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;MT(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function MT(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var S=f.value?f.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!f.done}))&&(this.response=this.responseText+=S)}f.done?Qu(this):Yu(this),this.readyState==3&&MT(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Qu(this))},t.Qa=function(f){this.g&&(this.response=f,Qu(this))},t.ga=function(){this.g&&Qu(this)};function Qu(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Yu(f)}t.setRequestHeader=function(f,S){this.u.append(f,S)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],S=this.h.entries();for(var A=S.next();!A.done;)A=A.value,f.push(A[0]+": "+A[1]),A=S.next();return f.join(`\r
`)};function Yu(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(cp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function OT(f){let S="";return O(f,function(A,D){S+=D,S+=":",S+=A,S+=`\r
`}),S}function By(f,S,A){e:{for(D in A){var D=!1;break e}D=!0}D||(A=OT(A),typeof f=="string"?A!=null&&encodeURIComponent(String(A)):kt(f,S,A))}function Xt(f){Be.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Xt,Be);var C$=/^https?$/i,A$=["POST","PUT"];t=Xt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,S,A,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);S=S?S.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Me.g(),this.v=this.o?Ul(this.o):Ul(Me),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(S,String(f),!0),this.B=!1}catch(q){jT(this,q);return}if(f=A||"",A=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var U in D)A.set(U,D[U]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const q of D.keys())A.set(q,D.get(q));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(A.keys()).find(q=>q.toLowerCase()=="content-type"),U=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(A$,S,void 0))||D||U||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ae]of A)this.g.setRequestHeader(q,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{FT(this),this.u=!0,this.g.send(f),this.u=!1}catch(q){jT(this,q)}};function jT(f,S){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=S,f.m=5,LT(f),up(f)}function LT(f){f.A||(f.A=!0,je(f,"complete"),je(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,je(this,"complete"),je(this,"abort"),up(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),up(this,!0)),Xt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?VT(this):this.bb())},t.bb=function(){VT(this)};function VT(f){if(f.h&&typeof o<"u"&&(!f.v[1]||yi(f)!=4||f.Z()!=2)){if(f.u&&yi(f)==4)wr(f.Ea,0,f);else if(je(f,"readystatechange"),yi(f)==4){f.h=!1;try{const ae=f.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var A;if(!(A=S)){var D;if(D=ae===0){var U=String(f.D).match(RT)[1]||null;!U&&a.self&&a.self.location&&(U=a.self.location.protocol.slice(0,-1)),D=!C$.test(U?U.toLowerCase():"")}A=D}if(A)je(f,"complete"),je(f,"success");else{f.m=6;try{var q=2<yi(f)?f.g.statusText:""}catch{q=""}f.l=q+" ["+f.Z()+"]",LT(f)}}finally{up(f)}}}}function up(f,S){if(f.g){FT(f);const A=f.g,D=f.v[0]?()=>{}:null;f.g=null,f.v=null,S||je(f,"ready");try{A.onreadystatechange=D}catch{}}}function FT(f){f.I&&(a.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function yi(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<yi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var S=this.g.responseText;return f&&S.indexOf(f)==0&&(S=S.substring(f.length)),Na(S)}};function UT(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function R$(f){const S={};f=(f.g&&2<=yi(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<f.length;D++){if(y(f[D]))continue;var A=k(f[D]);const U=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const q=S[U]||[];S[U]=q,q.push(A)}T(S,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xu(f,S,A){return A&&A.internalChannelParams&&A.internalChannelParams[f]||S}function BT(f){this.Aa=0,this.i=[],this.j=new ts,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xu("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xu("baseRetryDelayMs",5e3,f),this.cb=Xu("retryDelaySeedMs",1e4,f),this.Wa=Xu("forwardChannelMaxRetries",2,f),this.wa=Xu("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ka(f&&f.concurrentRequestLimit),this.Da=new S$,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=BT.prototype,t.la=8,t.G=1,t.connect=function(f,S,A,D){dt(0),this.W=f,this.H=S||{},A&&D!==void 0&&(this.H.OSID=A,this.H.OAID=D),this.F=this.X,this.I=YT(this,null,this.W),hp(this)};function $y(f){if($T(f),f.G==3){var S=f.U++,A=vi(f.I);if(kt(A,"SID",f.K),kt(A,"RID",S),kt(A,"TYPE","terminate"),Ju(f,A),S=new Ee(f,f.j,S),S.L=2,S.v=lp(vi(A)),A=!1,a.navigator&&a.navigator.sendBeacon)try{A=a.navigator.sendBeacon(S.v.toString(),"")}catch{}!A&&a.Image&&(new Image().src=S.v,A=!0),A||(S.g=XT(S.j,null),S.g.ea(S.v)),S.F=Date.now(),Nt(S)}QT(f)}function dp(f){f.g&&(Ky(f),f.g.cancel(),f.g=null)}function $T(f){dp(f),f.u&&(a.clearTimeout(f.u),f.u=null),fp(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&a.clearTimeout(f.s),f.s=null)}function hp(f){if(!Ma(f.h)&&!f.s){f.s=!0;var S=f.Ga;Y||J(),z||(Y(),z=!0),B.add(S,f),f.B=0}}function I$(f,S){return Oa(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=S.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=xr(p(f.Ga,f,S),GT(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const U=new Ee(this,this.j,f);let q=this.o;if(this.S&&(q?(q=E(q),R(q,this.S)):q=this.S),this.m!==null||this.O||(U.H=q,q=null),this.P)e:{for(var S=0,A=0;A<this.i.length;A++){t:{var D=this.i[A];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(S+=D,4096<S){S=A;break e}if(S===4096||A===this.i.length-1){S=A+1;break e}}S=1e3}else S=1e3;S=KT(this,U,S),A=vi(this.I),kt(A,"RID",f),kt(A,"CVER",22),this.D&&kt(A,"X-HTTP-Session-Id",this.D),Ju(this,A),q&&(this.O?S="headers="+encodeURIComponent(String(OT(q)))+"&"+S:this.m&&By(A,this.m,q)),Rt(this.h,U),this.Ua&&kt(A,"TYPE","init"),this.P?(kt(A,"$req",S),kt(A,"SID","null"),U.T=!0,lt(U,A,null)):lt(U,A,S),this.G=2}}else this.G==3&&(f?zT(this,f):this.i.length==0||Ma(this.h)||zT(this))};function zT(f,S){var A;S?A=S.l:A=f.U++;const D=vi(f.I);kt(D,"SID",f.K),kt(D,"RID",A),kt(D,"AID",f.T),Ju(f,D),f.m&&f.o&&By(D,f.m,f.o),A=new Ee(f,f.j,A,f.B+1),f.m===null&&(A.H=f.o),S&&(f.i=S.D.concat(f.i)),S=KT(f,A,1e3),A.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Rt(f.h,A),lt(A,D,S)}function Ju(f,S){f.H&&O(f.H,function(A,D){kt(S,D,A)}),f.l&&ip({},function(A,D){kt(S,D,A)})}function KT(f,S,A){A=Math.min(f.i.length,A);var D=f.l?p(f.l.Na,f.l,f):null;e:{var U=f.i;let q=-1;for(;;){const ae=["count="+A];q==-1?0<A?(q=U[0].g,ae.push("ofs="+q)):q=0:ae.push("ofs="+q);let Tt=!0;for(let jn=0;jn<A;jn++){let ht=U[jn].g;const Gn=U[jn].map;if(ht-=q,0>ht)q=Math.max(0,U[jn].g-100),Tt=!1;else try{T$(Gn,ae,"req"+ht+"_")}catch{D&&D(Gn)}}if(Tt){D=ae.join("&");break e}}}return f=f.i.splice(0,A),S.D=f,D}function WT(f){if(!f.g&&!f.u){f.Y=1;var S=f.Fa;Y||J(),z||(Y(),z=!0),B.add(S,f),f.v=0}}function zy(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=xr(p(f.Fa,f),GT(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,HT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=xr(p(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),dp(this),HT(this))};function Ky(f){f.A!=null&&(a.clearTimeout(f.A),f.A=null)}function HT(f){f.g=new Ee(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var S=vi(f.qa);kt(S,"RID","rpc"),kt(S,"SID",f.K),kt(S,"AID",f.T),kt(S,"CI",f.F?"0":"1"),!f.F&&f.ja&&kt(S,"TO",f.ja),kt(S,"TYPE","xmlhttp"),Ju(f,S),f.m&&f.o&&By(S,f.m,f.o),f.L&&(f.g.I=f.L);var A=f.g;f=f.ia,A.L=1,A.v=lp(vi(S)),A.m=null,A.P=!0,_t(A,f)}t.Za=function(){this.C!=null&&(this.C=null,dp(this),zy(this),dt(19))};function fp(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function qT(f,S){var A=null;if(f.g==S){fp(f),Ky(f),f.g=null;var D=2}else if(ze(f.h,S))A=S.D,qn(f.h,S),D=1;else return;if(f.G!=0){if(S.o)if(D==1){A=S.m?S.m.length:0,S=Date.now()-S.F;var U=f.B;D=vn(),je(D,new jr(D,A)),hp(f)}else WT(f);else if(U=S.s,U==3||U==0&&0<S.X||!(D==1&&I$(f,S)||D==2&&zy(f)))switch(A&&0<A.length&&(S=f.h,S.i=S.i.concat(A)),U){case 1:La(f,5);break;case 4:La(f,10);break;case 3:La(f,6);break;default:La(f,2)}}}function GT(f,S){let A=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(A*=2),A*S}function La(f,S){if(f.j.info("Error code "+S),S==2){var A=p(f.fb,f),D=f.Xa;const U=!D;D=new ja(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||op(D,"https"),lp(D),U?E$(D.toString(),A):b$(D.toString(),A)}else dt(2);f.G=0,f.l&&f.l.sa(S),QT(f),$T(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function QT(f){if(f.G=0,f.ka=[],f.l){const S=Dt(f.h);(S.length!=0||f.i.length!=0)&&(_(f.ka,S),_(f.ka,f.i),f.h.i.length=0,v(f.i),f.i.length=0),f.l.ra()}}function YT(f,S,A){var D=A instanceof ja?vi(A):new ja(A);if(D.g!="")S&&(D.g=S+"."+D.g),ap(D,D.s);else{var U=a.location;D=U.protocol,S=S?S+"."+U.hostname:U.hostname,U=+U.port;var q=new ja(null);D&&op(q,D),S&&(q.g=S),U&&ap(q,U),A&&(q.l=A),D=q}return A=f.D,S=f.ya,A&&S&&kt(D,A,S),kt(D,"VER",f.la),Ju(f,D),D}function XT(f,S,A){if(S&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=f.Ca&&!f.pa?new Xt(new Gu({eb:A})):new Xt(f.pa),S.Ha(f.J),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function JT(){}t=JT.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function pp(){}pp.prototype.g=function(f,S){return new Vr(f,S)};function Vr(f,S){Be.call(this),this.g=new BT(S),this.l=f,this.h=S&&S.messageUrlParams||null,f=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(f?f["X-WebChannel-Content-Type"]=S.messageContentType:f={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(f?f["X-WebChannel-Client-Profile"]=S.va:f={"X-WebChannel-Client-Profile":S.va}),this.g.S=f,(f=S&&S.Sb)&&!y(f)&&(this.g.m=f),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!y(S)&&(this.g.D=S,f=this.h,f!==null&&S in f&&(f=this.h,S in f&&delete f[S])),this.j=new $l(this)}w(Vr,Be),Vr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vr.prototype.close=function(){$y(this.g)},Vr.prototype.o=function(f){var S=this.g;if(typeof f=="string"){var A={};A.__data__=f,f=A}else this.u&&(A={},A.__data__=gn(f),f=A);S.i.push(new xs(S.Ya++,f)),S.G==3&&hp(S)},Vr.prototype.N=function(){this.g.l=null,delete this.j,$y(this.g),delete this.g,Vr.aa.N.call(this)};function ZT(f){$t.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var S=f.__sm__;if(S){e:{for(const A in S){f=A;break e}f=void 0}(this.i=f)&&(f=this.i,S=S!==null&&f in S?S[f]:void 0),this.data=S}else this.data=f}w(ZT,$t);function eC(){rn.call(this),this.status=1}w(eC,rn);function $l(f){this.g=f}w($l,JT),$l.prototype.ua=function(){je(this.g,"a")},$l.prototype.ta=function(f){je(this.g,new ZT(f))},$l.prototype.sa=function(f){je(this.g,new eC)},$l.prototype.ra=function(){je(this.g,"b")},pp.prototype.createWebChannel=pp.prototype.g,Vr.prototype.send=Vr.prototype.o,Vr.prototype.open=Vr.prototype.m,Vr.prototype.close=Vr.prototype.close,D2=function(){return new pp},N2=function(){return vn()},P2=At,Xx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},de.NO_ERROR=0,de.TIMEOUT=8,de.HTTP_ERROR=6,Im=de,Ce.COMPLETE="complete",I2=Ce,Da.EventType=Zr,Zr.OPEN="a",Zr.CLOSE="b",Zr.ERROR="c",Zr.MESSAGE="d",Be.prototype.listen=Be.prototype.K,Cd=Da,R2=Gu,Xt.prototype.listenOnce=Xt.prototype.L,Xt.prototype.getLastError=Xt.prototype.Ka,Xt.prototype.getLastErrorCode=Xt.prototype.Ba,Xt.prototype.getStatus=Xt.prototype.Z,Xt.prototype.getResponseJson=Xt.prototype.Oa,Xt.prototype.getResponseText=Xt.prototype.oa,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Ha,A2=Xt}).apply(typeof qp<"u"?qp:typeof self<"u"?self:typeof window<"u"?window:{});const J1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tr.UNAUTHENTICATED=new tr(null),tr.GOOGLE_CREDENTIALS=new tr("google-credentials-uid"),tr.FIRST_PARTY=new tr("first-party-uid"),tr.MOCK_USER=new tr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Du="10.13.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=new VE("@firebase/firestore");function fd(){return _l.logLevel}function we(t,...e){if(_l.logLevel<=it.DEBUG){const n=e.map(cS);_l.debug(`Firestore (${Du}): ${t}`,...n)}}function eo(t,...e){if(_l.logLevel<=it.ERROR){const n=e.map(cS);_l.error(`Firestore (${Du}): ${t}`,...n)}}function au(t,...e){if(_l.logLevel<=it.WARN){const n=e.map(cS);_l.warn(`Firestore (${Du}): ${t}`,...n)}}function cS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(t="Unexpected state"){const e=`FIRESTORE (${Du}) INTERNAL ASSERTION FAILED: `+t;throw eo(e),new Error(e)}function St(t,e){t||Ve()}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends ys{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Vte{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tr.UNAUTHENTICATED))}shutdown(){}}class Fte{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ute{constructor(e){this.t=e,this.currentUser=tr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Bi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Bi,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Bi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(St(typeof r.accessToken=="string"),new k2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return St(e===null||typeof e=="string"),new tr(e)}}class Bte{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=tr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class $te{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Bte(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(tr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zte{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kte{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,we("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(St(typeof n.token=="string"),this.R=n.token,new zte(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wte(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=Wte(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function ft(t,e){return t<e?-1:t>e?1:0}function lu(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ae(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Cn.fromMillis(Date.now())}static fromDate(e){return Cn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Cn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ft(this.nanoseconds,e.nanoseconds):ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new Cn(0,0))}static max(){return new Ke(new Cn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ve(),r===void 0?r=e.length-n:r>e.length-n&&Ve(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Uh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Uh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Bt extends Uh{construct(e,n,r){return new Bt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Bt(n)}static emptyPath(){return new Bt([])}}const Hte=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bn extends Uh{construct(e,n,r){return new Bn(e,n,r)}static isValidIdentifier(e){return Hte.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Bn(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Ae(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Ae(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ae(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Ae(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bn(n)}static emptyPath(){return new Bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Bt.fromString(e))}static fromName(e){return new Ie(Bt.fromString(e).popFirst(5))}static empty(){return new Ie(Bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Bt(e.slice()))}}function qte(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ke.fromTimestamp(r===1e9?new Cn(n+1,0):new Cn(n,r));return new ma(s,Ie.empty(),e)}function Gte(t){return new ma(t.readTime,t.key,-1)}class ma{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ma(Ke.min(),Ie.empty(),-1)}static max(){return new ma(Ke.max(),Ie.empty(),-1)}}function Qte(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:ft(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yte="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xte{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zf(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==Yte)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(s=>s?Q.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new Q((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Jte(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Kf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}uS.oe=-1;function uy(t){return t==null}function jg(t){return t===0&&1/t==-1/0}function Zte(t){return typeof t=="number"&&Number.isInteger(t)&&!jg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ku(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ene(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function O2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n){this.comparator=e,this.root=n||Un.EMPTY}insert(e,n){return new Qt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Un.BLACK,null,null))}remove(e){return new Qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gp(this.root,e,this.comparator,!0)}}class Gp{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Un{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Un.RED,this.left=s??Un.EMPTY,this.right=i??Un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Un(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Un.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ve();const e=this.left.check();if(e!==this.right.check())throw Ve();return e+(this.isRed()?0:1)}}Un.EMPTY=null,Un.RED=!0,Un.BLACK=!1;Un.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve()}get value(){throw Ve()}get color(){throw Ve()}get left(){throw Ve()}get right(){throw Ve()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.comparator=e,this.data=new Qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new eI(this.data.getIterator())}getIteratorFrom(e){return new eI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof zn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new zn(this.comparator);return n.data=e,n}}class eI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this.fields=e,e.sort(Bn.comparator)}static empty(){return new Ds([])}unionWith(e){let n=new zn(Bn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ds(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return lu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new j2("Invalid base64 string: "+i):i}}(e);return new Wn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Wn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wn.EMPTY_BYTE_STRING=new Wn("");const tne=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ga(t){if(St(!!t),typeof t=="string"){let e=0;const n=tne.exec(t);if(St(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:on(t.seconds),nanos:on(t.nanos)}}function on(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function El(t){return typeof t=="string"?Wn.fromBase64String(t):Wn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function hS(t){const e=t.mapValue.fields.__previous_value__;return dS(e)?hS(e):e}function Bh(t){const e=ga(t.mapValue.fields.__local_write_time__.timestampValue);return new Cn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nne{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class $h{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new $h("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $h&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function bl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dS(t)?4:sne(t)?9007199254740991:rne(t)?10:11:Ve()}function ui(t,e){if(t===e)return!0;const n=bl(t);if(n!==bl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bh(t).isEqual(Bh(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ga(s.timestampValue),a=ga(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return El(s.bytesValue).isEqual(El(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return on(s.geoPointValue.latitude)===on(i.geoPointValue.latitude)&&on(s.geoPointValue.longitude)===on(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return on(s.integerValue)===on(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=on(s.doubleValue),a=on(i.doubleValue);return o===a?jg(o)===jg(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return lu(t.arrayValue.values||[],e.arrayValue.values||[],ui);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Z1(o)!==Z1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ui(o[l],a[l])))return!1;return!0}(t,e);default:return Ve()}}function zh(t,e){return(t.values||[]).find(n=>ui(n,e))!==void 0}function cu(t,e){if(t===e)return 0;const n=bl(t),r=bl(e);if(n!==r)return ft(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ft(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=on(i.integerValue||i.doubleValue),l=on(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return tI(t.timestampValue,e.timestampValue);case 4:return tI(Bh(t),Bh(e));case 5:return ft(t.stringValue,e.stringValue);case 6:return function(i,o){const a=El(i),l=El(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=ft(a[c],l[c]);if(u!==0)return u}return ft(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ft(on(i.latitude),on(o.latitude));return a!==0?a:ft(on(i.longitude),on(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return nI(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,u;const h=i.fields||{},p=o.fields||{},g=(a=h.value)===null||a===void 0?void 0:a.arrayValue,w=(l=p.value)===null||l===void 0?void 0:l.arrayValue,v=ft(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((u=w==null?void 0:w.values)===null||u===void 0?void 0:u.length)||0);return v!==0?v:nI(g,w)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Qp.mapValue&&o===Qp.mapValue)return 0;if(i===Qp.mapValue)return 1;if(o===Qp.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const p=ft(l[h],u[h]);if(p!==0)return p;const g=cu(a[l[h]],c[u[h]]);if(g!==0)return g}return ft(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Ve()}}function tI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ft(t,e);const n=ga(t),r=ga(e),s=ft(n.seconds,r.seconds);return s!==0?s:ft(n.nanos,r.nanos)}function nI(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=cu(n[s],r[s]);if(i)return i}return ft(n.length,r.length)}function uu(t){return Jx(t)}function Jx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ga(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return El(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Jx(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Jx(n.fields[o])}`;return s+"}"}(t.mapValue):Ve()}function Zx(t){return!!t&&"integerValue"in t}function fS(t){return!!t&&"arrayValue"in t}function rI(t){return!!t&&"nullValue"in t}function sI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pm(t){return!!t&&"mapValue"in t}function rne(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Hd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ku(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Hd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function sne(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.value=e}static empty(){return new ds({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Pm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hd(n)}setAll(e){let n=Bn.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Hd(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Pm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ui(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Pm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ku(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new ds(Hd(this.value))}}function L2(t){const e=[];return ku(t.fields,(n,r)=>{const s=new Bn([n]);if(Pm(r)){const i=L2(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Ds(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new rr(e,0,Ke.min(),Ke.min(),Ke.min(),ds.empty(),0)}static newFoundDocument(e,n,r,s){return new rr(e,1,n,Ke.min(),r,s,0)}static newNoDocument(e,n){return new rr(e,2,n,Ke.min(),Ke.min(),ds.empty(),0)}static newUnknownDocument(e,n){return new rr(e,3,n,Ke.min(),Ke.min(),ds.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ds.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ds.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,n){this.position=e,this.inclusive=n}}function iI(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Ie.comparator(Ie.fromName(o.referenceValue),n.key):r=cu(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function oI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ui(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n="asc"){this.field=e,this.dir=n}}function ine(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{}class bn extends V2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ane(e,n,r):n==="array-contains"?new une(e,r):n==="in"?new dne(e,r):n==="not-in"?new hne(e,r):n==="array-contains-any"?new fne(e,r):new bn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new lne(e,r):new cne(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(cu(n,this.value)):n!==null&&bl(this.value)===bl(n)&&this.matchesComparison(cu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends V2{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new di(e,n)}matches(e){return F2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function F2(t){return t.op==="and"}function U2(t){return one(t)&&F2(t)}function one(t){for(const e of t.filters)if(e instanceof di)return!1;return!0}function e_(t){if(t instanceof bn)return t.field.canonicalString()+t.op.toString()+uu(t.value);if(U2(t))return t.filters.map(e=>e_(e)).join(",");{const e=t.filters.map(n=>e_(n)).join(",");return`${t.op}(${e})`}}function B2(t,e){return t instanceof bn?function(r,s){return s instanceof bn&&r.op===s.op&&r.field.isEqual(s.field)&&ui(r.value,s.value)}(t,e):t instanceof di?function(r,s){return s instanceof di&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&B2(o,s.filters[a]),!0):!1}(t,e):void Ve()}function $2(t){return t instanceof bn?function(n){return`${n.field.canonicalString()} ${n.op} ${uu(n.value)}`}(t):t instanceof di?function(n){return n.op.toString()+" {"+n.getFilters().map($2).join(" ,")+"}"}(t):"Filter"}class ane extends bn{constructor(e,n,r){super(e,n,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class lne extends bn{constructor(e,n){super(e,"in",n),this.keys=z2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class cne extends bn{constructor(e,n){super(e,"not-in",n),this.keys=z2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function z2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ie.fromName(r.referenceValue))}class une extends bn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fS(n)&&zh(n.arrayValue,this.value)}}class dne extends bn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zh(this.value.arrayValue,n)}}class hne extends bn{constructor(e,n){super(e,"not-in",n)}matches(e){if(zh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!zh(this.value.arrayValue,n)}}class fne extends bn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>zh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pne{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function aI(t,e=null,n=[],r=[],s=null,i=null,o=null){return new pne(t,e,n,r,s,i,o)}function pS(t){const e=Fe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>e_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),uy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>uu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>uu(r)).join(",")),e.ue=n}return e.ue}function mS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ine(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!B2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!oI(t.startAt,e.startAt)&&oI(t.endAt,e.endAt)}function t_(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function mne(t,e,n,r,s,i,o,a){return new dy(t,e,n,r,s,i,o,a)}function hy(t){return new dy(t)}function lI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gne(t){return t.collectionGroup!==null}function qd(t){const e=Fe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new zn(Bn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Vg(i,r))}),n.has(Bn.keyField().canonicalString())||e.ce.push(new Vg(Bn.keyField(),r))}return e.ce}function ai(t){const e=Fe(t);return e.le||(e.le=K2(e,qd(t))),e.le}function vne(t){const e=Fe(t);return e.he||(e.he=K2(e,t.explicitOrderBy)),e.he}function K2(t,e){if(t.limitType==="F")return aI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Vg(s.field,i)});const n=t.endAt?new Lg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Lg(t.startAt.position,t.startAt.inclusive):null;return aI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function n_(t,e,n){return new dy(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fy(t,e){return mS(ai(t),ai(e))&&t.limitType===e.limitType}function W2(t){return`${pS(ai(t))}|lt:${t.limitType}`}function Yl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>$2(s)).join(", ")}]`),uy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>uu(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>uu(s)).join(",")),`Target(${r})`}(ai(t))}; limitType=${t.limitType})`}function py(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Ie.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of qd(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=iI(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,qd(r),s)||r.endAt&&!function(o,a,l){const c=iI(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,qd(r),s))}(t,e)}function yne(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function H2(t){return(e,n)=>{let r=!1;for(const s of qd(t)){const i=wne(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function wne(t,e,n){const r=t.field.isKeyField()?Ie.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?cu(l,c):Ve()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ku(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return O2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xne=new Qt(Ie.comparator);function to(){return xne}const q2=new Qt(Ie.comparator);function Ad(...t){let e=q2;for(const n of t)e=e.insert(n.key,n);return e}function G2(t){let e=q2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ya(){return Gd()}function Q2(){return Gd()}function Gd(){return new Mu(t=>t.toString(),(t,e)=>t.isEqual(e))}const _ne=new Qt(Ie.comparator),Ene=new zn(Ie.comparator);function nt(...t){let e=Ene;for(const n of t)e=e.add(n);return e}const bne=new zn(ft);function Sne(){return bne}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jg(e)?"-0":e}}function Y2(t){return{integerValue:""+t}}function Tne(t,e){return Zte(e)?Y2(e):gS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(){this._=void 0}}function Cne(t,e,n){return t instanceof Fg?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&dS(i)&&(i=hS(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Kh?J2(t,e):t instanceof Wh?Z2(t,e):function(s,i){const o=X2(s,i),a=cI(o)+cI(s.Pe);return Zx(o)&&Zx(s.Pe)?Y2(a):gS(s.serializer,a)}(t,e)}function Ane(t,e,n){return t instanceof Kh?J2(t,e):t instanceof Wh?Z2(t,e):n}function X2(t,e){return t instanceof Ug?function(r){return Zx(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Fg extends my{}class Kh extends my{constructor(e){super(),this.elements=e}}function J2(t,e){const n=eV(e);for(const r of t.elements)n.some(s=>ui(s,r))||n.push(r);return{arrayValue:{values:n}}}class Wh extends my{constructor(e){super(),this.elements=e}}function Z2(t,e){let n=eV(e);for(const r of t.elements)n=n.filter(s=>!ui(s,r));return{arrayValue:{values:n}}}class Ug extends my{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function cI(t){return on(t.integerValue||t.doubleValue)}function eV(t){return fS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Rne(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Kh&&s instanceof Kh||r instanceof Wh&&s instanceof Wh?lu(r.elements,s.elements,ui):r instanceof Ug&&s instanceof Ug?ui(r.Pe,s.Pe):r instanceof Fg&&s instanceof Fg}(t.transform,e.transform)}class Ine{constructor(e,n){this.version=e,this.transformResults=n}}class $i{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $i}static exists(e){return new $i(void 0,e)}static updateTime(e){return new $i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let gy=class{};function tV(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new rV(t.key,$i.none()):new Wf(t.key,t.data,$i.none());{const n=t.data,r=ds.empty();let s=new zn(Bn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new jl(t.key,r,new Ds(s.toArray()),$i.none())}}function Pne(t,e,n){t instanceof Wf?function(s,i,o){const a=s.value.clone(),l=dI(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof jl?function(s,i,o){if(!Nm(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=dI(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(nV(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Qd(t,e,n,r){return t instanceof Wf?function(i,o,a,l){if(!Nm(i.precondition,o))return a;const c=i.value.clone(),u=hI(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof jl?function(i,o,a,l){if(!Nm(i.precondition,o))return a;const c=hI(i.fieldTransforms,l,o),u=o.data;return u.setAll(nV(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return Nm(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Nne(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=X2(r.transform,s||null);i!=null&&(n===null&&(n=ds.empty()),n.set(r.field,i))}return n||null}function uI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&lu(r,s,(i,o)=>Rne(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wf extends gy{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class jl extends gy{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function nV(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function dI(t,e,n){const r=new Map;St(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,Ane(o,a,n[s]))}return r}function hI(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,Cne(i,o,e))}return r}class rV extends gy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Dne extends gy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kne{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&Pne(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Qd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Qd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Q2();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=tV(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),nt())}isEqual(e){return this.batchId===e.batchId&&lu(this.mutations,e.mutations,(n,r)=>uI(n,r))&&lu(this.baseMutations,e.baseMutations,(n,r)=>uI(n,r))}}class vS{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){St(e.mutations.length===r.length);let s=function(){return _ne}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new vS(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mne=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class One{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jne{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn,ot;function Lne(t){switch(t){default:return Ve();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function sV(t){if(t===void 0)return eo("GRPC error has no .code"),X.UNKNOWN;switch(t){case dn.OK:return X.OK;case dn.CANCELLED:return X.CANCELLED;case dn.UNKNOWN:return X.UNKNOWN;case dn.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case dn.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case dn.INTERNAL:return X.INTERNAL;case dn.UNAVAILABLE:return X.UNAVAILABLE;case dn.UNAUTHENTICATED:return X.UNAUTHENTICATED;case dn.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case dn.NOT_FOUND:return X.NOT_FOUND;case dn.ALREADY_EXISTS:return X.ALREADY_EXISTS;case dn.PERMISSION_DENIED:return X.PERMISSION_DENIED;case dn.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case dn.ABORTED:return X.ABORTED;case dn.OUT_OF_RANGE:return X.OUT_OF_RANGE;case dn.UNIMPLEMENTED:return X.UNIMPLEMENTED;case dn.DATA_LOSS:return X.DATA_LOSS;default:return Ve()}}(ot=dn||(dn={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vne(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fne=new ul([4294967295,4294967295],0);function fI(t){const e=Vne().encode(t),n=new C2;return n.update(e),new Uint8Array(n.digest())}function pI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ul([n,r],0),new ul([s,i],0)]}class yS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Rd(`Invalid padding: ${n}`);if(r<0)throw new Rd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Rd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Rd(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ul.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(ul.fromNumber(r)));return s.compare(Fne)===1&&(s=new ul([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=fI(e),[r,s]=pI(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new yS(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=fI(e),[r,s]=pI(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Rd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Hf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new vy(Ke.min(),s,new Qt(ft),to(),nt())}}class Hf{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Hf(r,n,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class iV{constructor(e,n){this.targetId=e,this.me=n}}class oV{constructor(e,n,r=Wn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class mI{constructor(){this.fe=0,this.ge=vI(),this.pe=Wn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=nt(),n=nt(),r=nt();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ve()}}),new Hf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=vI()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,St(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Une{constructor(e){this.Le=e,this.Be=new Map,this.ke=to(),this.qe=gI(),this.Qe=new Qt(ft)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(t_(i))if(r===0){const o=new Ie(i.path);this.Ue(n,o,rr.newNoDocument(o,Ke.min()))}else St(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=El(r).toUint8Array()}catch(l){if(l instanceof j2)return au("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new yS(o,s,i)}catch(l){return au(l instanceof Rd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&t_(a.target)){const l=new Ie(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,rr.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=nt();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new vy(e,n,this.Qe,this.ke,r);return this.ke=to(),this.qe=gI(),this.Qe=new Qt(ft),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new mI,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new zn(ft),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new mI),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function gI(){return new Qt(Ie.comparator)}function vI(){return new Qt(Ie.comparator)}const Bne={asc:"ASCENDING",desc:"DESCENDING"},$ne={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zne={and:"AND",or:"OR"};class Kne{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function r_(t,e){return t.useProto3Json||uy(e)?e:{value:e}}function Bg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aV(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Wne(t,e){return Bg(t,e.toTimestamp())}function li(t){return St(!!t),Ke.fromTimestamp(function(n){const r=ga(n);return new Cn(r.seconds,r.nanos)}(t))}function wS(t,e){return s_(t,e).canonicalString()}function s_(t,e){const n=function(s){return new Bt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function lV(t){const e=Bt.fromString(t);return St(pV(e)),e}function i_(t,e){return wS(t.databaseId,e.path)}function n0(t,e){const n=lV(e);if(n.get(1)!==t.databaseId.projectId)throw new Ae(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ae(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(uV(n))}function cV(t,e){return wS(t.databaseId,e)}function Hne(t){const e=lV(t);return e.length===4?Bt.emptyPath():uV(e)}function o_(t){return new Bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function uV(t){return St(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function yI(t,e,n){return{name:i_(t,e),fields:n.value.mapValue.fields}}function qne(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(St(u===void 0||typeof u=="string"),Wn.fromBase64String(u||"")):(St(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Wn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?X.UNKNOWN:sV(c.code);return new Ae(u,c.message||"")}(o);n=new oV(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=n0(t,r.document.name),i=li(r.document.updateTime),o=r.document.createTime?li(r.document.createTime):Ke.min(),a=new ds({mapValue:{fields:r.document.fields}}),l=rr.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Dm(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=n0(t,r.document),i=r.readTime?li(r.readTime):Ke.min(),o=rr.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Dm([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=n0(t,r.document),i=r.removedTargetIds||[];n=new Dm([],i,s,null)}else{if(!("filter"in e))return Ve();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new jne(s,i),a=r.targetId;n=new iV(a,o)}}return n}function Gne(t,e){let n;if(e instanceof Wf)n={update:yI(t,e.key,e.value)};else if(e instanceof rV)n={delete:i_(t,e.key)};else if(e instanceof jl)n={update:yI(t,e.key,e.data),updateMask:rre(e.fieldMask)};else{if(!(e instanceof Dne))return Ve();n={verify:i_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Fg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Kh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Wh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ug)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Ve()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:Wne(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ve()}(t,e.precondition)),n}function Qne(t,e){return t&&t.length>0?(St(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?li(s.updateTime):li(i);return o.isEqual(Ke.min())&&(o=li(i)),new Ine(o,s.transformResults||[])}(n,e))):[]}function Yne(t,e){return{documents:[cV(t,e.path)]}}function dV(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=cV(t,s);const i=function(c){if(c.length!==0)return fV(di.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(u=>function(p){return{field:Io(p.field),direction:ere(p.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=r_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function Xne(t,e,n,r){const{_t:s,parent:i}=dV(t,e),o={},a=[];let l=0;return n.forEach(c=>{const u="aggregate_"+l++;o[u]=c.alias,c.aggregateType==="count"?a.push({alias:u,count:{}}):c.aggregateType==="avg"?a.push({alias:u,avg:{field:Io(c.fieldPath)}}):c.aggregateType==="sum"&&a.push({alias:u,sum:{field:Io(c.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:a,structuredQuery:s.structuredQuery},parent:s.parent},ut:o,parent:i}}function Jne(t){let e=Hne(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){St(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(h){const p=hV(h);return p instanceof di&&U2(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(w){return new Vg(Xl(w.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,uy(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,g=h.values||[];return new Lg(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const p=!h.before,g=h.values||[];return new Lg(g,p)}(n.endAt)),mne(e,s,o,i,a,"F",l,c)}function Zne(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hV(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xl(n.unaryFilter.field);return bn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Xl(n.unaryFilter.field);return bn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Xl(n.unaryFilter.field);return bn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Xl(n.unaryFilter.field);return bn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ve()}}(t):t.fieldFilter!==void 0?function(n){return bn.create(Xl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return di.create(n.compositeFilter.filters.map(r=>hV(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ve()}}(n.compositeFilter.op))}(t):Ve()}function ere(t){return Bne[t]}function tre(t){return $ne[t]}function nre(t){return zne[t]}function Io(t){return{fieldPath:t.canonicalString()}}function Xl(t){return Bn.fromServerFormat(t.fieldPath)}function fV(t){return t instanceof bn?function(n){if(n.op==="=="){if(sI(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NAN"}};if(rI(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sI(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NOT_NAN"}};if(rI(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Io(n.field),op:tre(n.op),value:n.value}}}(t):t instanceof di?function(n){const r=n.getFilters().map(s=>fV(s));return r.length===1?r[0]:{compositeFilter:{op:nre(n.op),filters:r}}}(t):Ve()}function rre(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function pV(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n,r,s,i=Ke.min(),o=Ke.min(),a=Wn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ko(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ko(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sre{constructor(e){this.ct=e}}function ire(t){const e=Jne({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?n_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ore{constructor(){this.un=new are}addToCollectionParentIndex(e,n){return this.un.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(ma.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(ma.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class are{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new zn(Bt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new zn(Bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new du(0)}static kn(){return new du(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lre{constructor(){this.changes=new Mu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cre{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ure{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Qd(r.mutation,s,Ds.empty(),Cn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,nt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=nt()){const s=Ya();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Ad();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ya();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,nt()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=to();const o=Gd(),a=function(){return Gd()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof jl)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Qd(u.mutation,c,u.mutation.getFieldMask(),Cn.now())):o.set(c.key,Ds.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new cre(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Gd();let s=new Qt((o,a)=>o-a),i=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Ds.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(s.get(a.batchId)||nt()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=Q2();u.forEach(p=>{if(!i.has(p)){const g=tV(n.get(p),r.get(p));g!==null&&h.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return Q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gne(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Q.resolve(Ya());let a=-1,l=i;return o.next(c=>Q.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?Q.resolve():this.remoteDocumentCache.getEntry(e,u).next(p=>{l=l.insert(u,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,nt())).next(u=>({batchId:a,changes:G2(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next(r=>{let s=Ad();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Ad();return this.indexManager.getCollectionParents(e,i).next(a=>Q.forEach(a,l=>{const c=function(h,p){return new dy(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(u=>{u.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,rr.newInvalidDocument(u)))});let a=Ad();return o.forEach((l,c)=>{const u=i.get(l);u!==void 0&&Qd(u.mutation,c,Ds.empty(),Cn.now()),py(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dre{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:li(s.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:ire(s.bundledQuery),readTime:li(s.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hre{constructor(){this.overlays=new Qt(Ie.comparator),this.Ir=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ya();return Q.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const s=Ya(),i=n.length+1,o=new Ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Qt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=Ya(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Ya(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return Q.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Mne(n,r));let i=this.Ir.get(n);i===void 0&&(i=nt(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fre{constructor(){this.sessionToken=Wn.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.Tr=new zn(Pn.Er),this.dr=new zn(Pn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Pn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Pn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Ie(new Bt([])),r=new Pn(n,e),s=new Pn(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ie(new Bt([])),r=new Pn(n,e),s=new Pn(n,e+1);let i=nt();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Pn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ie.comparator(e.key,n.key)||ft(e.wr,n.wr)}static Ar(e,n){return ft(e.wr,n.wr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pre{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new zn(Pn.Er)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new kne(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new Pn(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return Q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pn(n,0),s=new Pn(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),Q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new zn(ft);return n.forEach(s=>{const i=new Pn(s,0),o=new Pn(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),Q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Ie.isDocumentKey(i)||(i=i.child(""));const o=new Pn(new Ie(i),0);let a=new zn(ft);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.wr)),!0)},o),Q.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){St(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Q.forEach(n.mutations,s=>{const i=new Pn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Pn(n,0),s=this.br.firstAfterOrEqual(r);return Q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mre{constructor(e){this.Mr=e,this.docs=function(){return new Qt(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():rr.newInvalidDocument(n))}getEntries(e,n){let r=to();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():rr.newInvalidDocument(s))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=to();const o=n.path,a=new Ie(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Qte(Gte(u),r)<=0||(s.has(u.key)||py(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return Q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ve()}Or(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new gre(this)}getSize(e){return Q.resolve(this.size)}}class gre extends lre{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vre{constructor(e){this.persistence=e,this.Nr=new Mu(n=>pS(n),mS),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.Lr=0,this.Br=new xS,this.targetCount=0,this.kr=du.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new du(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Kn(n),Q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),Q.waitFor(i).next(()=>s)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),Q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yre{constructor(e,n){this.qr={},this.overlays={},this.Qr=new uS(0),this.Kr=!1,this.Kr=!0,this.$r=new fre,this.referenceDelegate=e(this),this.Ur=new vre(this),this.indexManager=new ore,this.remoteDocumentCache=function(s){return new mre(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new sre(n),this.Gr=new dre(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hre,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new pre(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const s=new wre(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return Q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class wre extends Xte{constructor(e){super(),this.currentSequenceNumber=e}}class _S{constructor(e){this.persistence=e,this.Jr=new xS,this.Yr=null}static Zr(e){return new _S(e)}get Xr(){if(this.Yr)return this.Yr;throw Ve()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Xr,r=>{const s=Ie.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,Ke.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Q.or([()=>Q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=nt(),s=nt();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new ES(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xre{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _re{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return g3()?8:Jte(ar())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new xre;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(fd()<=it.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Yl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Q.resolve()):(fd()<=it.DEBUG&&we("QueryEngine","Query:",Yl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(fd()<=it.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Yl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ai(n))):Q.resolve())}Yi(e,n){if(lI(n))return Q.resolve(null);let r=ai(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=n_(n,null,"F"),r=ai(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=nt(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,n_(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,s){return lI(n)||s.isEqual(Ke.min())?Q.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?Q.resolve(null):(fd()<=it.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Yl(n)),this.rs(e,o,n,qte(s,-1)).next(a=>a))})}ts(e,n){let r=new zn(H2(e));return n.forEach((s,i)=>{py(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return fd()<=it.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Yl(n)),this.Ji.getDocumentsMatchingQuery(e,n,ma.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ere{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Qt(ft),this._s=new Mu(i=>pS(i),mS),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ure(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function bre(t,e,n,r){return new Ere(t,e,n,r)}async function mV(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=nt();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function Sre(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,p=h.keys();let g=Q.resolve();return p.forEach(w=>{g=g.next(()=>u.getEntry(l,w)).next(v=>{const _=c.docVersions.get(w);St(_!==null),v.version.compareTo(_)<0&&(h.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),u.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=nt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function gV(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Tre(t,e){const n=Fe(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((u,h)=>{const p=s.get(h);if(!p)return;a.push(n.Ur.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(i,u.addedDocuments,h)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(Wn.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,r)),s=s.insert(h,g),function(v,_,x){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,g,u)&&a.push(n.Ur.updateTargetData(i,g))});let l=to(),c=nt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(Cre(i,o,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual(Ke.min())){const u=n.Ur.getLastRemoteSnapshotVersion(i).next(h=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return Q.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.os=s,i))}function Cre(t,e,n){let r=nt(),s=nt();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=to();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Ke.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):we("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function Are(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Rre(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,Q.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new Ko(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function a_(t,e,n){const r=Fe(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Kf(o))throw o;we("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function wI(t,e,n){const r=Fe(t);let s=Ke.min(),i=nt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=Fe(l),p=h._s.get(u);return p!==void 0?Q.resolve(h.os.get(p)):h.Ur.getTargetData(c,u)}(r,o,ai(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:Ke.min(),n?i:nt())).next(a=>(Ire(r,yne(e),a),{documents:a,Ts:i})))}function Ire(t,e,n){let r=t.us.get(e)||Ke.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class xI{constructor(){this.activeTargetIds=Sne()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Pre{constructor(){this.so=new xI,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new xI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nre{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){we("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){we("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yp=null;function r0(){return Yp===null?Yp=function(){return 268435456+Math.round(2147483648*Math.random())}():Yp++,"0x"+Yp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dre={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kre{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jn="WebChannelConnection";class Mre extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=r0(),l=this.xo(n,r.toUriEncodedString());we("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(n,l,c,s).then(u=>(we("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw au("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Du}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=Dre[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=r0();return new Promise((o,a)=>{const l=new A2;l.setWithCredentials(!0),l.listenOnce(I2.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Im.NO_ERROR:const u=l.getResponseJson();we(Jn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case Im.TIMEOUT:we(Jn,`RPC '${e}' ${i} timed out`),a(new Ae(X.DEADLINE_EXCEEDED,"Request time out"));break;case Im.HTTP_ERROR:const h=l.getStatus();if(we(Jn,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const w=function(_){const x=_.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(x)>=0?x:X.UNKNOWN}(g.status);a(new Ae(w,g.message))}else a(new Ae(X.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Ae(X.UNAVAILABLE,"Connection failed."));break;default:Ve()}}finally{we(Jn,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);we(Jn,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=r0(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=D2(),a=N2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new R2({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");we(Jn,`Creating RPC '${e}' stream ${s}: ${u}`,l);const h=o.createWebChannel(u,l);let p=!1,g=!1;const w=new kre({Io:_=>{g?we(Jn,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(p||(we(Jn,`Opening RPC '${e}' stream ${s} transport.`),h.open(),p=!0),we(Jn,`RPC '${e}' stream ${s} sending:`,_),h.send(_))},To:()=>h.close()}),v=(_,x,y)=>{_.listen(x,b=>{try{y(b)}catch(C){setTimeout(()=>{throw C},0)}})};return v(h,Cd.EventType.OPEN,()=>{g||(we(Jn,`RPC '${e}' stream ${s} transport opened.`),w.yo())}),v(h,Cd.EventType.CLOSE,()=>{g||(g=!0,we(Jn,`RPC '${e}' stream ${s} transport closed`),w.So())}),v(h,Cd.EventType.ERROR,_=>{g||(g=!0,au(Jn,`RPC '${e}' stream ${s} transport errored:`,_),w.So(new Ae(X.UNAVAILABLE,"The operation could not be completed")))}),v(h,Cd.EventType.MESSAGE,_=>{var x;if(!g){const y=_.data[0];St(!!y);const b=y,C=b.error||((x=b[0])===null||x===void 0?void 0:x.error);if(C){we(Jn,`RPC '${e}' stream ${s} received error:`,C);const P=C.status;let O=function(I){const R=dn[I];if(R!==void 0)return sV(R)}(P),T=C.message;O===void 0&&(O=X.INTERNAL,T="Unknown error status: "+P+" with message "+C.message),g=!0,w.So(new Ae(O,T)),h.close()}else we(Jn,`RPC '${e}' stream ${s} received:`,y),w.bo(y)}}),v(a,P2.STAT_EVENT,_=>{_.stat===Xx.PROXY?we(Jn,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===Xx.NOPROXY&&we(Jn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function s0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(t){return new Kne(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&we("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,n,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new vV(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(eo(n.toString()),eo("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new Ae(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return we("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(we("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ore extends yV{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=qne(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ke.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ke.min():o.readTime?li(o.readTime):Ke.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=o_(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=t_(l)?{documents:Yne(i,l)}:{query:dV(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=aV(i,o.resumeToken);const c=r_(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ke.min())>0){a.readTime=Bg(i,o.snapshotVersion.toTimestamp());const c=r_(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=Zne(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=o_(this.serializer),n.removeTarget=e,this.a_(n)}}class jre extends yV{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return St(!!e.streamToken),this.lastStreamToken=e.streamToken,St(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){St(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Qne(e.writeResults,e.commitTime),r=li(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=o_(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Gne(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lre extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new Ae(X.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,s_(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ae(X.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,s_(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ae(X.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Vre{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(eo(n),this.D_=!1):we("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fre{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ll(this)&&(we("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Fe(l);c.L_.add(4),await qf(c),c.q_.set("Unknown"),c.L_.delete(4),await wy(c)}(this))})}),this.q_=new Vre(r,s)}}async function wy(t){if(Ll(t))for(const e of t.B_)await e(!0)}async function qf(t){for(const e of t.B_)await e(!1)}function wV(t,e){const n=Fe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),CS(n)?TS(n):Ou(n).r_()&&SS(n,e))}function bS(t,e){const n=Fe(t),r=Ou(n);n.N_.delete(e),r.r_()&&xV(n,e),n.N_.size===0&&(r.r_()?r.o_():Ll(n)&&n.q_.set("Unknown"))}function SS(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ou(t).A_(e)}function xV(t,e){t.Q_.xe(e),Ou(t).R_(e)}function TS(t){t.Q_=new Une({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ou(t).start(),t.q_.v_()}function CS(t){return Ll(t)&&!Ou(t).n_()&&t.N_.size>0}function Ll(t){return Fe(t).L_.size===0}function _V(t){t.Q_=void 0}async function Ure(t){t.q_.set("Online")}async function Bre(t){t.N_.forEach((e,n)=>{SS(t,e)})}async function $re(t,e){_V(t),CS(t)?(t.q_.M_(e),TS(t)):t.q_.set("Unknown")}async function zre(t,e,n){if(t.q_.set("Online"),e instanceof oV&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){we("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await $g(t,r)}else if(e instanceof Dm?t.Q_.Ke(e):e instanceof iV?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ke.min()))try{const r=await gV(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.N_.get(c);u&&i.N_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.N_.get(l);if(!u)return;i.N_.set(l,u.withResumeToken(Wn.EMPTY_BYTE_STRING,u.snapshotVersion)),xV(i,l);const h=new Ko(u.target,l,c,u.sequenceNumber);SS(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){we("RemoteStore","Failed to raise snapshot:",r),await $g(t,r)}}async function $g(t,e,n){if(!Kf(e))throw e;t.L_.add(1),await qf(t),t.q_.set("Offline"),n||(n=()=>gV(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{we("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await wy(t)})}function EV(t,e){return e().catch(n=>$g(t,n,e))}async function xy(t){const e=Fe(t),n=va(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Kre(e);)try{const s=await Are(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,Wre(e,s)}catch(s){await $g(e,s)}bV(e)&&SV(e)}function Kre(t){return Ll(t)&&t.O_.length<10}function Wre(t,e){t.O_.push(e);const n=va(t);n.r_()&&n.V_&&n.m_(e.mutations)}function bV(t){return Ll(t)&&!va(t).n_()&&t.O_.length>0}function SV(t){va(t).start()}async function Hre(t){va(t).p_()}async function qre(t){const e=va(t);for(const n of t.O_)e.m_(n.mutations)}async function Gre(t,e,n){const r=t.O_.shift(),s=vS.from(r,e,n);await EV(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await xy(t)}async function Qre(t,e){e&&va(t).V_&&await async function(r,s){if(function(o){return Lne(o)&&o!==X.ABORTED}(s.code)){const i=r.O_.shift();va(r).s_(),await EV(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await xy(r)}}(t,e),bV(t)&&SV(t)}async function EI(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),we("RemoteStore","RemoteStore received new credentials");const r=Ll(n);n.L_.add(3),await qf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await wy(n)}async function Yre(t,e){const n=Fe(t);e?(n.L_.delete(2),await wy(n)):e||(n.L_.add(2),await qf(n),n.q_.set("Unknown"))}function Ou(t){return t.K_||(t.K_=function(n,r,s){const i=Fe(n);return i.w_(),new Ore(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:Ure.bind(null,t),Ro:Bre.bind(null,t),mo:$re.bind(null,t),d_:zre.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),CS(t)?TS(t):t.q_.set("Unknown")):(await t.K_.stop(),_V(t))})),t.K_}function va(t){return t.U_||(t.U_=function(n,r,s){const i=Fe(n);return i.w_(),new jre(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Hre.bind(null,t),mo:Qre.bind(null,t),f_:qre.bind(null,t),g_:Gre.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await xy(t)):(await t.U_.stop(),t.O_.length>0&&(we("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new AS(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function RS(t,e){if(eo("AsyncQueue",`${e}: ${t}`),Kf(t))return new Ae(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ie.comparator(n.key,r.key):(n,r)=>Ie.comparator(n.key,r.key),this.keyedMap=Ad(),this.sortedSet=new Qt(this.comparator)}static emptySet(e){return new Pc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Pc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Pc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(){this.W_=new Qt(Ie.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ve():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class hu{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new hu(e,n,Pc.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xre{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Jre{constructor(){this.queries=SI(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Fe(n),i=s.queries;s.queries=SI(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Ae(X.ABORTED,"Firestore shutting down"))}}function SI(){return new Mu(t=>W2(t),fy)}async function TV(t,e){const n=Fe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new Xre,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=RS(o,`Initialization of query '${Yl(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&IS(n)}async function CV(t,e){const n=Fe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Zre(t,e){const n=Fe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&IS(n)}function ese(t,e,n){const r=Fe(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function IS(t){t.Y_.forEach(e=>{e.next()})}var l_,TI;(TI=l_||(l_={})).ea="default",TI.Cache="cache";class AV{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new hu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=hu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==l_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e){this.key=e}}class IV{constructor(e){this.key=e}}class tse{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=nt(),this.mutatedKeys=nt(),this.Aa=H2(e),this.Ra=new Pc(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new bI,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,h)=>{const p=s.get(u),g=py(this.query,h)?h:null,w=!!p&&this.mutatedKeys.has(p.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let _=!1;p&&g?p.data.isEqual(g.data)?w!==v&&(r.track({type:3,doc:g}),_=!0):this.ga(p,g)||(r.track({type:2,doc:g}),_=!0,(l&&this.Aa(g,l)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),_=!0):p&&!g&&(r.track({type:1,doc:p}),_=!0,(l||c)&&(a=!0)),_&&(g?(o=o.add(g),i=v?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,h)=>function(g,w){const v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve()}};return v(g)-v(w)}(u.type,h.type)||this.Aa(u.doc,h.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new hu(this.query,e.Ra,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new bI,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=nt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new IV(r))}),this.da.forEach(r=>{e.has(r)||n.push(new RV(r))}),n}ba(e){this.Ta=e.Ts,this.da=nt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return hu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class nse{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class rse{constructor(e){this.key=e,this.va=!1}}class sse{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Mu(a=>W2(a),fy),this.Ma=new Map,this.xa=new Set,this.Oa=new Qt(Ie.comparator),this.Na=new Map,this.La=new xS,this.Ba={},this.ka=new Map,this.qa=du.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function ise(t,e,n=!0){const r=OV(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await PV(r,e,n,!0),s}async function ose(t,e){const n=OV(t);await PV(n,e,!0,!1)}async function PV(t,e,n,r){const s=await Rre(t.localStore,ai(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await ase(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&wV(t.remoteStore,s),a}async function ase(t,e,n,r,s){t.Ka=(h,p,g)=>async function(v,_,x,y){let b=_.view.ma(x);b.ns&&(b=await wI(v.localStore,_.query,!1).then(({documents:T})=>_.view.ma(T,b)));const C=y&&y.targetChanges.get(_.targetId),P=y&&y.targetMismatches.get(_.targetId)!=null,O=_.view.applyChanges(b,v.isPrimaryClient,C,P);return AI(v,_.targetId,O.wa),O.snapshot}(t,h,p,g);const i=await wI(t.localStore,e,!0),o=new tse(e,i.Ts),a=o.ma(i.documents),l=Hf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);AI(t,n,c.wa);const u=new nse(e,n,o);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function lse(t,e,n){const r=Fe(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!fy(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await a_(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&bS(r.remoteStore,s.targetId),c_(r,s.targetId)}).catch(zf)):(c_(r,s.targetId),await a_(r.localStore,s.targetId,!0))}async function cse(t,e){const n=Fe(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),bS(n.remoteStore,r.targetId))}async function use(t,e,n){const r=vse(t);try{const s=await function(o,a){const l=Fe(o),c=Cn.now(),u=a.reduce((g,w)=>g.add(w.key),nt());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=to(),v=nt();return l.cs.getEntries(g,u).next(_=>{w=_,w.forEach((x,y)=>{y.isValidDocument()||(v=v.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,w)).next(_=>{h=_;const x=[];for(const y of a){const b=Nne(y,h.get(y.key).overlayedDocument);b!=null&&x.push(new jl(y.key,b,L2(b.value.mapValue),$i.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,x,a)}).next(_=>{p=_;const x=_.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(g,_.batchId,x)})}).then(()=>({batchId:p.batchId,changes:G2(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Qt(ft)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,s.batchId,n),await Gf(r,s.changes),await xy(r.remoteStore)}catch(s){const i=RS(s,"Failed to persist write");n.reject(i)}}async function NV(t,e){const n=Fe(t);try{const r=await Tre(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(St(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?St(o.va):s.removedDocuments.size>0&&(St(o.va),o.va=!1))}),await Gf(n,r,e)}catch(r){await zf(r)}}function CI(t,e,n){const r=Fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Fe(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const p of h.j_)p.Z_(a)&&(c=!0)}),c&&IS(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function dse(t,e,n){const r=Fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new Qt(Ie.comparator);o=o.insert(i,rr.newNoDocument(i,Ke.min()));const a=nt().add(i),l=new vy(Ke.min(),new Map,new Qt(ft),o,a);await NV(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),PS(r)}else await a_(r.localStore,e,!1).then(()=>c_(r,e,n)).catch(zf)}async function hse(t,e){const n=Fe(t),r=e.batch.batchId;try{const s=await Sre(n.localStore,e);kV(n,r,null),DV(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gf(n,s)}catch(s){await zf(s)}}async function fse(t,e,n){const r=Fe(t);try{const s=await function(o,a){const l=Fe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(St(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);kV(r,e,n),DV(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Gf(r,s)}catch(s){await zf(s)}}function DV(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function kV(t,e,n){const r=Fe(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function c_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||MV(t,r)})}function MV(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(bS(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),PS(t))}function AI(t,e,n){for(const r of n)r instanceof RV?(t.La.addReference(r.key,e),pse(t,r)):r instanceof IV?(we("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||MV(t,r.key)):Ve()}function pse(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(we("SyncEngine","New document in limbo: "+n),t.xa.add(r),PS(t))}function PS(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ie(Bt.fromString(e)),r=t.qa.next();t.Na.set(r,new rse(n)),t.Oa=t.Oa.insert(n,r),wV(t.remoteStore,new Ko(ai(hy(n.path)),r,"TargetPurposeLimboResolution",uS.oe))}}async function Gf(t,e,n){const r=Fe(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){s.push(c);const h=ES.Wi(l.targetId,c);i.push(h)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,c){const u=Fe(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Q.forEach(c,p=>Q.forEach(p.$i,g=>u.persistence.referenceDelegate.addReference(h,p.targetId,g)).next(()=>Q.forEach(p.Ui,g=>u.persistence.referenceDelegate.removeReference(h,p.targetId,g)))))}catch(h){if(!Kf(h))throw h;we("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const g=u.os.get(p),w=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(w);u.os=u.os.insert(p,v)}}}(r.localStore,i))}async function mse(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){we("SyncEngine","User change. New user:",e.toKey());const r=await mV(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new Ae(X.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gf(n,r.hs)}}function gse(t,e){const n=Fe(t),r=n.Na.get(e);if(r&&r.va)return nt().add(r.key);{let s=nt();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function OV(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=NV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gse.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dse.bind(null,e),e.Ca.d_=Zre.bind(null,e.eventManager),e.Ca.$a=ese.bind(null,e.eventManager),e}function vse(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hse.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fse.bind(null,e),e}class RI{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=yy(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return bre(this.persistence,new _re,e.initialUser,this.serializer)}createPersistence(e){return new yre(_S.Zr,this.serializer)}createSharedClientState(e){return new Pre}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class yse{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>CI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mse.bind(null,this.syncEngine),await Yre(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Jre}()}createDatastore(e){const n=yy(e.databaseInfo.databaseId),r=function(i){return new Mre(i)}(e.databaseInfo);return function(i,o,a,l){return new Lre(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new Fre(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>CI(this.syncEngine,n,0),function(){return _I.D()?new _I:new Nre}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,u){const h=new sse(s,i,o,a,l,c);return u&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Fe(s);we("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await qf(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):eo("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wse{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=tr.UNAUTHENTICATED,this.clientId=M2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{we("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(we("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ae(X.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=RS(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function i0(t,e){t.asyncQueue.verifyOperationInProgress(),we("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await mV(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function II(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _se(t);we("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>EI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>EI(e.remoteStore,s)),t._onlineComponents=e}function xse(t){return t.name==="FirebaseError"?t.code===X.FAILED_PRECONDITION||t.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function _se(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we("FirestoreClient","Using user provided OfflineComponentProvider");try{await i0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!xse(n))throw n;au("Error using user provided cache. Falling back to memory cache: "+n),await i0(t,new RI)}}else we("FirestoreClient","Using default OfflineComponentProvider"),await i0(t,new RI);return t._offlineComponents}async function NS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we("FirestoreClient","Using user provided OnlineComponentProvider"),await II(t,t._uninitializedComponentsProvider._online)):(we("FirestoreClient","Using default OnlineComponentProvider"),await II(t,new yse))),t._onlineComponents}function Ese(t){return NS(t).then(e=>e.syncEngine)}function bse(t){return NS(t).then(e=>e.datastore)}async function u_(t){const e=await NS(t),n=e.eventManager;return n.onListen=ise.bind(null,e.syncEngine),n.onUnlisten=lse.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ose.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=cse.bind(null,e.syncEngine),n}function Sse(t,e,n={}){const r=new Bi;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new jV({next:p=>{o.enqueueAndForget(()=>CV(i,h));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new Ae(X.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?c.reject(new Ae(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new AV(hy(a.path),u,{includeMetadataChanges:!0,_a:!0});return TV(i,h)}(await u_(t),t.asyncQueue,e,n,r)),r.promise}function Tse(t,e,n){const r=new Bi;return t.asyncQueue.enqueueAndForget(async()=>{try{const s=await bse(t);r.resolve(async function(o,a,l){var c;const u=Fe(o),{request:h,ut:p,parent:g}=Xne(u.serializer,vne(a),l);u.connection.Fo||delete h.parent;const w=(await u.Lo("RunAggregationQuery",u.serializer.databaseId,g,h,1)).filter(_=>!!_.result);St(w.length===1);const v=(c=w[0].result)===null||c===void 0?void 0:c.aggregateFields;return Object.keys(v).reduce((_,x)=>(_[p[x]]=v[x],_),{})}(s,e,n))}catch(s){r.reject(s)}}),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LV(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(t,e,n){if(!n)throw new Ae(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Cse(t,e,n,r){if(e===!0&&r===!0)throw new Ae(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function NI(t){if(!Ie.isDocumentKey(t))throw new Ae(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function DI(t){if(Ie.isDocumentKey(t))throw new Ae(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function DS(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve()}function zi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ae(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=DS(t);throw new Ae(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ae(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Cse("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LV((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _y{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ae(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Ae(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Vte;switch(r.type){case"firstParty":return new $te(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ae(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=PI.get(n);r&&(we("ComponentProvider","Removing Datastore"),PI.delete(n),r.terminate())}(this),Promise.resolve()}}function Ase(t,e,n,r={}){var s;const i=(t=zi(t,_y))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&au("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=tr.MOCK_USER;else{a=lk(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Ae(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new tr(c)}t._authCredentials=new Fte(new k2(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FV=class UV{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new UV(this.firestore,e,this._query)}};class Dr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new na(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dr(this.firestore,e,this._key)}}class na extends FV{constructor(e,n,r){super(e,n,hy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dr(this.firestore,null,new Ie(e))}withConverter(e){return new na(this.firestore,e,this._path)}}function Rse(t,e,...n){if(t=An(t),VV("collection","path",e),t instanceof _y){const r=Bt.fromString(e,...n);return DI(r),new na(t,null,r)}{if(!(t instanceof Dr||t instanceof na))throw new Ae(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Bt.fromString(e,...n));return DI(r),new na(t.firestore,null,r)}}function kS(t,e,...n){if(t=An(t),arguments.length===1&&(e=M2.newId()),VV("doc","path",e),t instanceof _y){const r=Bt.fromString(e,...n);return NI(r),new Dr(t,null,new Ie(r))}{if(!(t instanceof Dr||t instanceof na))throw new Ae(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Bt.fromString(e,...n));return NI(r),new Dr(t.firestore,t instanceof na?t.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ise{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new vV(this,"async_queue_retry"),this.Eu=()=>{const n=s0();n&&we("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=s0();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=s0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new Bi;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Kf(e))throw e;we("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw eo("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const s=AS.createAndSchedule(this,e,n,r,i=>this.Vu(i));return this.lu.push(s),s}du(){this.hu&&Ve()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}function MI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class fu extends _y{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new Ise}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||BV(this),this._firestoreClient.terminate()}}function Pse(t,e){const n=typeof t=="object"?t:UE(),r=typeof t=="string"?t:"(default)",s=Sv(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=ik("firestore");i&&Ase(s,...i)}return s}function Ey(t){return t._firestoreClient||BV(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function BV(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,u){return new nne(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,LV(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new wse(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nse{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class Dse{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pu(Wn.fromBase64String(e))}catch(n){throw new Ae(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pu(Wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ft(this._lat,e._lat)||ft(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kse=/^__.*__$/;class Mse{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new jl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wf(e,this.data,n,this.fieldTransforms)}}function zV(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve()}}class LS{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.yu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new LS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.vu(e),s}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.yu(),s}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return zg(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(zV(this.wu)&&kse.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class Ose{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||yy(e)}Nu(e,n,r,s=!1){return new LS({wu:e,methodName:n,Ou:r,path:Bn.emptyPath(),Du:!1,xu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jse(t){const e=t._freezeSettings(),n=yy(t._databaseId);return new Ose(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Lse(t,e,n,r,s,i={}){const o=t.Nu(i.merge||i.mergeFields?2:0,e,n,s);qV("Data must be an object, but it was:",o,r);const a=WV(r,o);let l,c;if(i.merge)l=new Ds(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const p=GV(e,h,n);if(!o.contains(p))throw new Ae(X.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);Fse(u,p)||u.push(p)}l=new Ds(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new Mse(new ds(a),l,c)}function KV(t,e){if(HV(t=An(t)))return qV("Unsupported field value:",e,t),WV(t,e);if(t instanceof $V)return function(r,s){if(!zV(s.wu))throw s.Mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=KV(a,s.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=An(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Tne(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Cn.fromDate(r);return{timestampValue:Bg(s.serializer,i)}}if(r instanceof Cn){const i=new Cn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bg(s.serializer,i)}}if(r instanceof OS)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pu)return{bytesValue:aV(s.serializer,r._byteString)};if(r instanceof Dr){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:wS(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof jS)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return gS(a.serializer,l)})}}}}}}(r,s);throw s.Mu(`Unsupported field value: ${DS(r)}`)}(t,e)}function WV(t,e){const n={};return O2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ku(t,(r,s)=>{const i=KV(s,e.bu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function HV(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Cn||t instanceof OS||t instanceof pu||t instanceof Dr||t instanceof $V||t instanceof jS)}function qV(t,e,n){if(!HV(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=DS(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function GV(t,e,n){if((e=An(e))instanceof MS)return e._internalPath;if(typeof e=="string")return QV(t,e);throw zg("Field path arguments must be of type string or ",t,!1,void 0,n)}const Vse=new RegExp("[~\\*/\\[\\]]");function QV(t,e,n){if(e.search(Vse)>=0)throw zg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new MS(...e.split("."))._internalPath}catch{throw zg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function zg(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Ae(X.INVALID_ARGUMENT,a+t+l)}function Fse(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Dr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Use(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(XV("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Use extends YV{data(){return super.data()}}function XV(t,e){return typeof e=="string"?QV(t,e):e instanceof MS?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bse(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ae(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $se{convertValue(e,n="none"){switch(bl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return on(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(El(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ku(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>on(o.doubleValue));return new jS(i)}convertGeoPoint(e){return new OS(on(e.latitude),on(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=hS(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bh(e));default:return null}}convertTimestamp(e){const n=ga(e);return new Cn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Bt.fromString(e);St(pV(r));const s=new $h(r.get(1),r.get(3)),i=new Ie(r.popFirst(5));return s.isEqual(n)||eo(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zse(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function Kse(t){return new Nse("avg",GV("average",t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class JV extends YV{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new km(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(XV("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class km extends JV{data(e={}){return super.data(e)}}class Wse{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Id(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new km(this._firestore,this._userDataWriter,r.key,r,new Id(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new km(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Id(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new km(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Id(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Hse(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Hse(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qse(t){t=zi(t,Dr);const e=zi(t.firestore,fu);return Sse(Ey(e),t._key).then(n=>ZV(e,t,n))}class VS extends $se{constructor(e){super(),this.firestore=e}convertBytes(e){return new pu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dr(this.firestore,null,n)}}function Gse(t,e,n){t=zi(t,Dr);const r=zi(t.firestore,fu),s=zse(t.converter,e,n);return Yse(r,[Lse(jse(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,$i.none())])}function Qse(t,...e){var n,r,s;t=An(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||MI(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(MI(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let l,c,u;if(t instanceof Dr)c=zi(t.firestore,fu),u=hy(t._key.path),l={next:h=>{e[o]&&e[o](ZV(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=zi(t,FV);c=zi(h.firestore,fu),u=h._query;const p=new VS(c);l={next:g=>{e[o]&&e[o](new Wse(c,p,h,g))},error:e[o+1],complete:e[o+2]},Bse(t._query)}return function(p,g,w,v){const _=new jV(v),x=new AV(g,_,w);return p.asyncQueue.enqueueAndForget(async()=>TV(await u_(p),x)),()=>{_.za(),p.asyncQueue.enqueueAndForget(async()=>CV(await u_(p),x))}}(Ey(c),u,a,l)}function Yse(t,e){return function(r,s){const i=new Bi;return r.asyncQueue.enqueueAndForget(async()=>use(await Ese(r),s,i)),i.promise}(Ey(t),e)}function ZV(t,e,n){const r=n.docs.get(e._key),s=new VS(t);return new JV(t,s,e._key,r,new Id(n.hasPendingWrites,n.fromCache),e.converter)}function Xse(t,e){const n=zi(t.firestore,fu),r=Ey(n),s=ene(e,(i,o)=>new One(o,i.aggregateType,i._internalFieldPath));return Tse(r,t._query,s).then(i=>function(a,l,c){const u=new VS(a);return new Dse(l,u,c)}(n,t,i))}(function(e,n=!0){(function(s){Du=s})(Pl),vl(new ia("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new fu(new Ute(r.getProvider("auth-internal")),new Kte(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ae(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $h(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),ni(J1,"4.7.2",e),ni(J1,"4.7.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF="firebasestorage.googleapis.com",tF="storageBucket",Jse=2*60*1e3,Zse=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn extends ys{constructor(e,n,r=0){super(o0(e),`Firebase Storage: ${n} (${o0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,nn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return o0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var tn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(tn||(tn={}));function o0(t){return"storage/"+t}function FS(){const t="An unknown error occurred, please check the error payload for server response.";return new nn(tn.UNKNOWN,t)}function eie(t){return new nn(tn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function tie(t){return new nn(tn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function nie(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new nn(tn.UNAUTHENTICATED,t)}function rie(){return new nn(tn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function sie(t){return new nn(tn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function iie(){return new nn(tn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function oie(){return new nn(tn.CANCELED,"User canceled the upload/download.")}function aie(t){return new nn(tn.INVALID_URL,"Invalid URL '"+t+"'.")}function lie(t){return new nn(tn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function cie(){return new nn(tn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+tF+"' property when initializing the app?")}function uie(){return new nn(tn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function die(){return new nn(tn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function hie(t){return new nn(tn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function d_(t){return new nn(tn.INVALID_ARGUMENT,t)}function nF(){return new nn(tn.APP_DELETED,"The Firebase app was deleted.")}function fie(t){return new nn(tn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Yd(t,e){return new nn(tn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function pd(t){throw new nn(tn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Kr.makeFromUrl(e,n)}catch{return new Kr(e,"")}if(r.path==="")return r;throw lie(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(C){C.path_=decodeURIComponent(C.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${u}/b/${s}/o${p}`,"i"),w={bucket:1,path:3},v=n===eF?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",x=new RegExp(`^https?://${v}/${s}/${_}`,"i"),b=[{regex:a,indices:l,postModify:i},{regex:g,indices:w,postModify:c},{regex:x,indices:{bucket:1,path:2},postModify:c}];for(let C=0;C<b.length;C++){const P=b[C],O=P.regex.exec(e);if(O){const T=O[P.indices.bucket];let E=O[P.indices.path];E||(E=""),r=new Kr(T,E),P.postModify(r);break}}if(r==null)throw aie(e);return r}}class pie{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mie(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(..._){c||(c=!0,e.apply(null,_))}function h(_){s=setTimeout(()=>{s=null,t(g,l())},_)}function p(){i&&clearTimeout(i)}function g(_,...x){if(c){p();return}if(_){p(),u.call(null,_,...x);return}if(l()||o){p(),u.call(null,_,...x);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,h(b)}let w=!1;function v(_){w||(w=!0,p(),!c&&(s!==null?(_||(a=2),clearTimeout(s),h(0)):_||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,v(!0)},n),v}function gie(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vie(t){return t!==void 0}function yie(t){return typeof t=="object"&&!Array.isArray(t)}function US(t){return typeof t=="string"||t instanceof String}function OI(t){return BS()&&t instanceof Blob}function BS(){return typeof Blob<"u"}function jI(t,e,n,r){if(r<e)throw d_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw d_(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function rF(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var dl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(dl||(dl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wie(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xie{constructor(e,n,r,s,i,o,a,l,c,u,h,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,w)=>{this.resolve_=g,this.reject_=w,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Xp(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===dl.NO_ERROR,l=i.getStatus();if(!a||wie(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===dl.ABORT;r(!1,new Xp(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Xp(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());vie(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=FS();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?nF():oie();o(l)}else{const l=iie();o(l)}};this.canceled_?n(!1,new Xp(!1,null,!0)):this.backoffId_=mie(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&gie(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Xp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function _ie(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Eie(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function bie(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Sie(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Tie(t,e,n,r,s,i,o=!0){const a=rF(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return bie(c,e),_ie(c,n),Eie(c,i),Sie(c,r),new xie(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cie(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Aie(...t){const e=Cie();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(BS())return new Blob(t);throw new nn(tn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Rie(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iie(t){if(typeof atob>"u")throw hie("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class a0{constructor(e,n){this.data=e,this.contentType=n||null}}function Pie(t,e){switch(t){case Js.RAW:return new a0(sF(e));case Js.BASE64:case Js.BASE64URL:return new a0(iF(t,e));case Js.DATA_URL:return new a0(Die(e),kie(e))}throw FS()}function sF(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Nie(t){let e;try{e=decodeURIComponent(t)}catch{throw Yd(Js.DATA_URL,"Malformed data URL.")}return sF(e)}function iF(t,e){switch(t){case Js.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Yd(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Js.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Yd(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Iie(e)}catch(s){throw s.message.includes("polyfill")?s:Yd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class oF{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Yd(Js.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Mie(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Die(t){const e=new oF(t);return e.base64?iF(Js.BASE64,e.rest):Nie(e.rest)}function kie(t){return new oF(t).contentType}function Mie(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,n){let r=0,s="";OI(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(OI(this.data_)){const r=this.data_,s=Rie(r,e,n);return s===null?null:new Po(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Po(r,!0)}}static getBlob(...e){if(BS()){const n=e.map(r=>r instanceof Po?r.data_:r);return new Po(Aie.apply(null,n))}else{const n=e.map(o=>US(o)?Pie(Js.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new Po(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(t){let e;try{e=JSON.parse(t)}catch{return null}return yie(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oie(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function jie(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function lF(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lie(t,e){return e}class cr{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||Lie}}let Jp=null;function Vie(t){return!US(t)||t.length<2?t:lF(t)}function $S(){if(Jp)return Jp;const t=[];t.push(new cr("bucket")),t.push(new cr("generation")),t.push(new cr("metageneration")),t.push(new cr("name","fullPath",!0));function e(i,o){return Vie(o)}const n=new cr("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new cr("size");return s.xform=r,t.push(s),t.push(new cr("timeCreated")),t.push(new cr("updated")),t.push(new cr("md5Hash",null,!0)),t.push(new cr("cacheControl",null,!0)),t.push(new cr("contentDisposition",null,!0)),t.push(new cr("contentEncoding",null,!0)),t.push(new cr("contentLanguage",null,!0)),t.push(new cr("contentType",null,!0)),t.push(new cr("metadata","customMetadata",!0)),Jp=t,Jp}function Fie(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Kr(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function Uie(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return Fie(r,t),r}function cF(t,e,n){const r=aF(e);return r===null?null:Uie(t,r,n)}function Bie(t,e,n,r){const s=aF(e);if(s===null||!US(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(c=>{const u=t.bucket,h=t.fullPath,p="/b/"+o(u)+"/o/"+o(h),g=ju(p,n,r),w=rF({alt:"media",token:c});return g+w})[0]}function $ie(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class Qf{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uF(t){if(!t)throw FS()}function dF(t,e){function n(r,s){const i=cF(t,s,e);return uF(i!==null),i}return n}function zie(t,e){function n(r,s){const i=cF(t,s,e);return uF(i!==null),Bie(i,s,t.host,t._protocol)}return n}function hF(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=rie():s=nie():n.getStatus()===402?s=tie(t.bucket):n.getStatus()===403?s=sie(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function by(t){const e=hF(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=eie(t.path)),i.serverResponse=s.serverResponse,i}return n}function Kie(t,e,n){const r=e.fullServerUrl(),s=ju(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new Qf(s,i,dF(t,n),o);return a.errorHandler=by(e),a}function Wie(t,e,n){const r=e.fullServerUrl(),s=ju(r,t.host,t._protocol)+"?alt=media",i="GET",o=t.maxOperationRetryTime,a=new Qf(s,i,(l,c)=>c,o);return a.errorHandler=by(e),a}function Hie(t,e,n){const r=e.fullServerUrl(),s=ju(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new Qf(s,i,zie(t,n),o);return a.errorHandler=by(e),a}function qie(t,e){const n=e.fullServerUrl(),r=ju(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(l,c){}const a=new Qf(r,s,o,i);return a.successCodes=[200,204],a.errorHandler=by(e),a}function Gie(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Qie(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Gie(null,e)),r}function Yie(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let C=0;C<2;C++)b=b+Math.random().toString().slice(2);return b}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=Qie(e,r,s),u=$ie(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,p=`\r
--`+l+"--",g=Po.getBlob(h,r,p);if(g===null)throw uie();const w={name:c.fullPath},v=ju(i,t.host,t._protocol),_="POST",x=t.maxUploadRetryTime,y=new Qf(v,_,dF(t,n),x);return y.urlParams=w,y.headers=o,y.body=g.uploadData(),y.errorHandler=hF(e),y}class fF{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=dl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=dl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=dl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw pd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw pd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw pd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Xie extends fF{initXhr(){this.xhr_.responseType="text"}}function Sy(){return new Xie}class Jie extends fF{initXhr(){this.xhr_.responseType="blob"}}function Zie(){return new Jie}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n){this._service=e,n instanceof Kr?this._location=n:this._location=Kr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Sl(e,n)}get root(){const e=new Kr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lF(this._location.path)}get storage(){return this._service}get parent(){const e=Oie(this._location.path);if(e===null)return null;const n=new Kr(this._location.bucket,e);return new Sl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw fie(e)}}function eoe(t,e){t._throwIfRoot("getBlob");const n=Wie(t.storage,t._location);return t.storage.makeRequestWithTokens(n,Zie).then(r=>r)}function toe(t,e,n){t._throwIfRoot("uploadBytes");const r=Yie(t.storage,t._location,$S(),new Po(e,!0),n);return t.storage.makeRequestWithTokens(r,Sy).then(s=>({metadata:s,ref:t}))}function noe(t){t._throwIfRoot("getMetadata");const e=Kie(t.storage,t._location,$S());return t.storage.makeRequestWithTokens(e,Sy)}function roe(t){t._throwIfRoot("getDownloadURL");const e=Hie(t.storage,t._location,$S());return t.storage.makeRequestWithTokens(e,Sy).then(n=>{if(n===null)throw die();return n})}function soe(t){t._throwIfRoot("deleteObject");const e=qie(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Sy)}function ioe(t,e){const n=jie(t._location.path,e),r=new Kr(t._location.bucket,n);return new Sl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ooe(t){return/^[A-Za-z]+:\/\//.test(t)}function aoe(t,e){return new Sl(t,e)}function pF(t,e){if(t instanceof zS){const n=t;if(n._bucket==null)throw cie();const r=new Sl(n,n._bucket);return e!=null?pF(r,e):r}else return e!==void 0?ioe(t,e):t}function loe(t,e){if(e&&ooe(e)){if(t instanceof zS)return aoe(t,e);throw d_("To use ref(service, url), the first argument must be a Storage instance.")}else return pF(t,e)}function LI(t,e){const n=e==null?void 0:e[tF];return n==null?null:Kr.makeFromBucketSpec(n,t)}function coe(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:lk(s,t.app.options.projectId))}class zS{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=eF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Jse,this._maxUploadRetryTime=Zse,this._requests=new Set,s!=null?this._bucket=Kr.makeFromBucketSpec(s,this._host):this._bucket=LI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Kr.makeFromBucketSpec(this._url,e):this._bucket=LI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){jI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){jI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Sl(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new pie(nF());{const o=Tie(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const VI="@firebase/storage",FI="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF="storage";function uoe(t,e,n){return t=An(t),toe(t,e,n)}function doe(t){return t=An(t),noe(t)}function hoe(t){return t=An(t),roe(t)}function foe(t){return t=An(t),soe(t)}function Ty(t,e){return t=An(t),loe(t,e)}function poe(t=UE(),e){t=An(t);const r=Sv(t,mF).getImmediate({identifier:e}),s=ik("storage");return s&&moe(r,...s),r}function moe(t,e,n,r={}){coe(t,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function goe(t,e){return t=An(t),eoe(t)}function voe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new zS(n,r,s,e,Pl)}function yoe(){vl(new ia(mF,voe,"PUBLIC").setMultipleInstances(!0)),ni(VI,FI,""),ni(VI,FI,"esm2017")}yoe();const woe={apiKey:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",authDomain:"cob-chatbot.firebaseapp.com",projectId:"cob-chatbot",storageBucket:"cob-chatbot.appspot.com",messagingSenderId:"275602489097",appId:"1:275602489097:web:5c490d86e9f69e1314ddd8",measurementId:"G-65F7KP2KRQ"},gF=dk(woe),Cy=Pse(gF),Ay=poe(gF),h_=async(t,e,n)=>{const r=Ty(Ay,`${e}/${n}`),s=await uoe(r,t);if(!s.metadata||s.metadata.fullPath!==r.fullPath)throw new Error(`Error uploading file ${t.name}, metadata does not exist or path does not match`);return await hoe(s.ref)},vF=async t=>{const e=Ty(Ay,t),n=await goe(e),r=t.split("/").pop()||"unknown_file";return new File([n],r,{type:n.type})},xoe=async(t,e)=>{const n=Ty(Ay,`${t}/${e}`);return await doe(n)},_oe=async t=>{try{const e=Ty(Ay,t);await foe(e),pt("File deleted successfully!")}catch(e){e instanceof Error&&pt(e.message)}},yF=async(t,e,n,r=!1)=>{try{const s=kS(Cy,t,e);await Gse(s,n,{merge:r})}catch(s){s instanceof Error&&pt(s.message)}},wF=async(t,e)=>{const n=kS(Cy,t,e),r=await qse(n);if(r.exists())return r.data();throw new Error("Document does not exist")},Eoe=(t,e,n)=>{try{const r=kS(Cy,t,e);return Qse(r,i=>{i.exists()?n(i.data()):(pt("No such document!"),n(null))})}catch(r){throw r}},boe=async()=>{var t;try{const e=Rse(Cy,"users"),r=(t=(await Xse(e,{averageRating:Kse("rating")})).data().averageRating)==null?void 0:t.toFixed(2);if(!r)throw new Error("Failed to retrieve average rating from users collection");return r}catch(e){return console.error(e),null}},Soe=1,Toe=1e6;let l0=0;function Coe(){return l0=(l0+1)%Number.MAX_SAFE_INTEGER,l0.toString()}const c0=new Map,UI=t=>{if(c0.has(t))return;const e=setTimeout(()=>{c0.delete(t),Xd({type:"REMOVE_TOAST",toastId:t})},Toe);c0.set(t,e)},Aoe=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Soe)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?UI(n):t.toasts.forEach(r=>{UI(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Mm=[];let Om={toasts:[]};function Xd(t){Om=Aoe(Om,t),Mm.forEach(e=>{e(Om)})}function Roe({...t}){const e=Coe(),n=s=>Xd({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Xd({type:"DISMISS_TOAST",toastId:e});return Xd({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function xF(){const[t,e]=m.useState(Om);return m.useEffect(()=>(Mm.push(e),()=>{const n=Mm.indexOf(e);n>-1&&Mm.splice(n,1)}),[t]),{...t,toast:Roe,dismiss:n=>Xd({type:"DISMISS_TOAST",toastId:n})}}const Bs=()=>{const{toast:t}=xF();return t},BI={objectNotFound:{code:"storage/object-not-found",getMessage:t=>`File ${t} does not exist in the storage`}},Ioe=t=>{const e=/\/([^/]+)' does not exist/,n=t.match(e);return n?n[1]:null},_F=t=>{const e=Bs(),{file:n}=vt(v=>v.formData),r=vt(v=>v.setFormData),s=vt(v=>v.setFile),[i,o]=m.useState(!1),[a,l]=m.useState(!1),c=m.useRef(null),u=m.useRef(null);return{file:n,setFile:s,isLinkDialogOpen:a,setIsLinkDialogOpen:l,handleInsertLink:(v,_)=>{const x=u.current;if(x){const y=x.selectionStart,b=x.selectionEnd,C=t.substring(0,y)+`<${_}>{=${v}=}`+t.substring(b);r("answer",C),x.focus(),x.setSelectionRange(y+v.length+4,y+_.length+4)}},handleFileChange:async v=>{v.target.files&&v.target.files[0]&&s(v.target.files[0])},handleRemoveFile:async()=>{n&&(r("fileUrl",null),s(null),c.current&&(c.current.value=""))},fileInputRef:c,answerTextAreaRef:u,getFileData:async v=>{try{o(!0);const _=kh(v);if(!_)return;const x=await vF(`knowledge-files/${_}`);s(x)}catch(_){if(_ instanceof ys){pt(_.message??"A firebase error occured while fetching file data",!0);const x=Ioe(_.message);_.code===BI.objectNotFound.code&&e({title:"Knowledge file not found",description:BI.objectNotFound.getMessage(x??"Unknown"),variant:"destructive"});return}if(_ instanceof Error){pt(_.message??"An error occured while fetching file data",!0),e({title:"Failed to fetch file data",description:_.message,variant:"destructive"});return}console.error(_)}finally{o(!1)}},isFetchingFileData:i}},Poe=()=>{const t=vt(h=>h.formData),e=vt(h=>h.setFormData),{isLinkDialogOpen:n,setIsLinkDialogOpen:r,handleFileChange:s,handleInsertLink:i,handleRemoveFile:o,fileInputRef:a,answerTextAreaRef:l,getFileData:c,isFetchingFileData:u}=_F(t.answer);return m.useEffect(()=>{(async()=>{await c(t.fileUrl)})()},[t.fileUrl]),d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-fit",children:d.jsx(cy,{tooltip:Cte,children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("label",{className:"cursor-pointer font-medium ",children:"Answer"}),d.jsx(Mv,{className:"size-4 text-[#64748b] cursor-pointer"})]})})}),d.jsx(S2,{answer:t.answer,handleTextChange:e,onFileChange:s,fileRef:a,textAreaRef:l,isLinkDropDownVisible:n,setIsLinkDropDownVisible:r,onInsertLink:i}),u?d.jsx(Se,{className:"w-full h-[70px]"}):t.file?d.jsx(T2,{file:t.file,removeFile:o}):null]})},Noe=t=>{const{knowledgeBaseName:e,...n}=t;return{knowledgeBaseName:e,knowledgeEntry:n}},Doe=async()=>{const{success:t,knowledgeBase:e}=await jf("/api/knowledge/base");if(!t)throw new Error("Failed to fetch knowledge collection");return e},koe=async t=>{const{success:e,knowledgeEntry:n}=await jf(`/api/knowledge/${t}`);if(!e)throw new Error(`Failed to fetch knowledge base ${t} entry`);return n},Moe=async t=>{const{knowledgeBaseName:e,...n}=t,r={knowledgeBaseName:e,knowledgeEntries:[{...n}]},{success:s,message:i}=await Sa("/api/knowledge",{},r);if(!s)throw new Error(i);return i},Ooe=async t=>{const e=Noe(t),{success:n,message:r}=await Sa("/api/knowledge/entry",{},e);if(!n)throw new Error(r)},joe=async(t,e)=>{const n={knowledgeEntryIntent:t,knowledgeEntry:e},{success:r,message:s}=await Gv("/api/knowledge/entry",{},n);if(!r)throw new Error(s)},Loe=async t=>{const{knowledgeBaseName:e,newKnowledgeBaseName:n}=t,r={knowledgeBaseName:e,newKnowledgeBaseName:n},{success:s,message:i}=await Gv("/api/knowledge/base",{},r);if(!s)throw new Error(i);return i},Voe=async t=>{const{success:e,message:n}=await Lf(`/api/knowledge/${t}`);if(!e)throw new Error(n)},Foe=async t=>{const{success:e,message:n}=await Lf(`/api/knowledge/entry/${t}`);if(!e)throw new Error(n);return n},Ht=ro(t=>({knowledgeCollection:{},knowledgeBaseNameList:null,selectedKnowledgeBaseEntryList:null,selectedKnowledgeBaseName:"",selectedKnowledgeBaseItem:"",selectedKnowledgeEntry:null,selectedKnowledgeEntryIntentItem:"",selectedKnowledgeBaseArchiveItem:{id:null,name:null},selectedKnowledgeEntryArchiveItem:{id:null,name:null},updateKnowledgeCollection:e=>{t(()=>({knowledgeCollection:e}))},setKnowledgeBaseNameList:e=>{t(()=>({knowledgeBaseNameList:e}))},setSelectedKnowledgeBaseEntryList:e=>{t(()=>({selectedKnowledgeBaseEntryList:e}))},setSelectedKnowledgeBaseName:e=>{t(()=>({selectedKnowledgeBaseName:e}))},setSelectedKnowledgeBaseItem:e=>{t(()=>({selectedKnowledgeBaseItem:e}))},setSelectedKnowledgeEntry:e=>{t(()=>({selectedKnowledgeEntry:e}))},setSelectedKnowledgeEntryIntentItem:e=>t({selectedKnowledgeEntryIntentItem:e}),setSelectedKnowledgeBaseArchiveItem:e=>t({selectedKnowledgeBaseArchiveItem:e}),setSelectedKnowledgeEntryArchiveItem:e=>t({selectedKnowledgeEntryArchiveItem:e})})),Uoe="knowledge-files",$I="image",Boe=async t=>{const e=`${Uoe}/${t}`;await _oe(e)},$oe=(t,e)=>{const n=new Set([...Object.keys(t),...Object.keys(e)]);return Array.from(n).reduce((r,s)=>{if(t[s]instanceof Array&&e[s]instanceof Array){t[s].forEach((a,l)=>{if(a!==e[s][l]){r[s]||(r[s]=[]);const c={index:l,value:e[s][l]};r[s].push(c)}});const i=t[s].length,o=e[s].length;if(i<o){r.newDocuments=[];for(let a=i;a<o;a++)e[s][a]&&r.newDocuments.push(e[s][a])}return r}return t[s]!==e[s]&&(r[s]=e[s]),r},{})},zI="knowledge-files",jm=async t=>{try{const n=(await xoe(zI,t.name)).size||0,r=t.size;if(n===r)throw pt(`Knowledge file ${t.name} already exists with the same size, skipping upload`),new Error(`Knowledge file ${t.name} already exist`);pt(`File ${t.name} exists but with a different size. Uploading new file.`)}catch(e){if(e instanceof ys&&e.code==="storage/object-not-found")return pt(`No exiting file found, uploading the file: ${t.name}`),await h_(t,zI,t.name);throw e}},zoe=()=>{const t=Bs(),e=Ht(g=>g.selectedKnowledgeEntry),n=Ht(g=>g.setSelectedKnowledgeEntry),r=vt(g=>g.setFormData),s=vt(g=>g.formData),i=vt(g=>g.setDocuments),o=vt(g=>g.clearFormData),[a,l]=m.useState(!1);m.useEffect(()=>{if(!e)return;const{intent:g,documents:w,answer:v,fileUrl:_}=e;return r("intent",g),w.forEach((x,y)=>{i(x,y)}),r("answer",v),r("fileUrl",_),()=>{o()}},[]);const c=async g=>{try{const w=kh(g);return await vF(`knowledge-files/${w}`)}catch(w){return console.log(w),null}},u=async(g,w)=>{if(!w)return await jm(g);const v=await c(w);if(v){if(v.name===g.name&&v.size===g.size)return w;if(v.name!==g.name){const x=await jm(g);return await h(w),x}}return await jm(g)},h=async g=>{const w=kh(g);if(!w)return pt("Unable to extract filename from the file url",!0);await Boe(w)};return{handleSubmitForm:async()=>{if(e)try{l(!0);const{knowledgeBaseName:g,file:w,...v}=s,_=$oe(e,v);"fileUrl"in _&&_.fileUrl===null&&(pt("Detected file removal, deleting from storage"),await h(e.fileUrl));let x;w&&(pt("Updating knowledge file"),x=await u(w,e.fileUrl),r("fileUrl",x??null));const y={...v,...x&&{fileUrl:x}};await joe(e.intent,y),pt("Knowledge Entry updated successfully."),n(y),t({title:"Knowledge Entry Updated Successfully",description:tt()})}catch(g){const w=g instanceof Error?g.message:"Unknown error occurred";t({title:w,description:tt(),variant:"destructive"})}finally{l(!1)}},selectedKnowledgeEntry:e,isLoading:a}},KS=({heading:t,description:e})=>d.jsx("div",{className:"h-[450px] md:h-[600px] w-full flex justify-center items-center mt-2 pb-10",children:d.jsxs("section",{className:"flex flex-col justify-center items-center",children:[d.jsx(Mv,{className:"w-12 h-12 text-blue-500 mb-4"}),d.jsx("h2",{className:"text-2xl font-semibold mb-2",children:t}),d.jsx("p",{className:"text-gray-600 mb-4",children:e})]})}),Aa=()=>d.jsx(r8,{className:"mr-2 size-5 animate-spin"}),Koe=()=>{const{handleSubmitForm:t,selectedKnowledgeEntry:e,isLoading:n}=zoe(),r=ut(s=>s.admin);return e?d.jsx(i2,{value:"entryDetails",className:"mt-2",children:d.jsx("div",{className:"h-[450px] md:h-[600px] w-full overflow-y-auto text-sm scrollbar-slim",children:d.jsxs("div",{className:"space-y-3 px-4 pb-4",children:[d.jsx(Ite,{}),d.jsx(Pte,{}),d.jsx(Poe,{}),(r==null?void 0:r.role)!=="viewer"&&d.jsx(Xe,{variant:"default",disabled:n,onClick:async()=>await t(),className:"w-20",children:n?d.jsx(Aa,{}):"Save"})]})})}):d.jsx(KS,{heading:"No Knowledge Entry Selected",description:"Select a knowledge entry to view its contents here."})},EF=({onRenameKnowledge:t,onDeleteKnowledge:e})=>d.jsxs(Df,{children:[d.jsx(kf,{asChild:!0,children:d.jsx(eb,{className:"text-zinc-400 size-6 hover:text-zinc-500 transition-colors"})}),d.jsxs(Iu,{align:"end",className:"w-auto text-sm bg-white border border-neutral-300 p-1 rounded-lg shadow-md",children:[t&&d.jsxs(Xs,{className:"flex items-center p-1.5 hover:bg-zinc-100 rounded-sm",onClick:n=>{n.stopPropagation(),t()},children:[d.jsx(SM,{className:"mr-2 h-4 w-4"}),d.jsx("p",{children:"Rename"})]}),d.jsxs(Xs,{className:"flex items-center p-1.5 hover:bg-zinc-100 rounded-sm text-red-400 focus:text-red-400",onClick:n=>{n.stopPropagation(),e()},children:[d.jsx(kv,{className:"mr-2 h-4 w-4"}),d.jsx("p",{children:"Move to Archive"})]})]})]}),Qr=ro(t=>({dialogs:{},openDialog:e=>t(n=>({dialogs:{...n.dialogs,[e]:!0}})),closeDialog:e=>t(n=>({dialogs:{...n.dialogs,[e]:!1}})),toggleDialog:e=>t(n=>({dialogs:{...n.dialogs,[e]:!n.dialogs[e]}})),setDialogState:(e,n)=>t(r=>({dialogs:{...r.dialogs,[e]:n}}))})),Woe=({intent:t,onItemClick:e})=>{const n=ut(a=>a.admin),r=Ht(a=>a.selectedKnowledgeEntry),s=Ht(a=>a.setSelectedKnowledgeEntryIntentItem),i=Qr(a=>a.openDialog),o=()=>{s(t),i("showConfirmDeleteKnowledgeEntryDialog")};return d.jsxs("div",{className:`flex justify-between p-2 rounded-md cursor-pointer ${(r==null?void 0:r.intent)===t?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,onClick:e,children:[d.jsx("p",{className:"max-w-[800px] truncate",title:t,children:t}),(n==null?void 0:n.role)!=="viewer"&&d.jsx(Xe,{className:"bg-transparent hover:bg-transparent size-8 p-0 h-fit ",children:d.jsx(EF,{onDeleteKnowledge:o})})]})},Hoe=({knowledgeEntries:t,handleTabChange:e})=>{const n=Ht(s=>s.setSelectedKnowledgeEntry),r=s=>{n(s),e("entryDetails")};return d.jsx("div",{className:"space-y-1",children:t==null?void 0:t.map((s,i)=>d.jsx(Woe,{intent:s.intent,onItemClick:()=>r(s)},i))})},Jd=["knowledgeBaseList"],Lm=["knowledgeEntry"],md=["adminList"],Kg=["knowledgeBaseArhives"],Wg=["knowledgeEntriesArchive"],KI=["Queries"];var Lu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},mu=typeof window>"u"||"Deno"in globalThis;function os(){}function qoe(t,e){return typeof t=="function"?t(e):t}function f_(t){return typeof t=="number"&&t>=0&&t!==1/0}function bF(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Nc(t,e){return typeof t=="function"?t(e):t}function Ps(t,e){return typeof t=="function"?t(e):t}function WI(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==WS(o,e.options))return!1}else if(!Hh(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function HI(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Tl(e.options.mutationKey)!==Tl(i))return!1}else if(!Hh(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function WS(t,e){return((e==null?void 0:e.queryKeyHashFn)||Tl)(t)}function Tl(t){return JSON.stringify(t,(e,n)=>p_(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Hh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Hh(t[n],e[n])):!1}function SF(t,e){if(t===e)return t;const n=qI(t)&&qI(e);if(n||p_(t)&&p_(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const u=n?c:i[c];(!n&&r.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=SF(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function Hg(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function qI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function p_(t){if(!GI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!GI(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function GI(t){return Object.prototype.toString.call(t)==="[object Object]"}function Goe(t){return new Promise(e=>{setTimeout(e,t)})}function m_(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?SF(t,e):e}function Qoe(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Yoe(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var TF=Symbol();function CF(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===TF?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Za,Do,Mc,NP,Xoe=(NP=class extends Lu{constructor(){super();be(this,Za,void 0);be(this,Do,void 0);be(this,Mc,void 0);me(this,Mc,e=>{if(!mu&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){V(this,Do)||this.setEventListener(V(this,Mc))}onUnsubscribe(){var e;this.hasListeners()||((e=V(this,Do))==null||e.call(this),me(this,Do,void 0))}setEventListener(e){var n;me(this,Mc,e),(n=V(this,Do))==null||n.call(this),me(this,Do,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){V(this,Za)!==e&&(me(this,Za,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof V(this,Za)=="boolean"?V(this,Za):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Za=new WeakMap,Do=new WeakMap,Mc=new WeakMap,NP),HS=new Xoe,Oc,ko,jc,DP,Joe=(DP=class extends Lu{constructor(){super();be(this,Oc,!0);be(this,ko,void 0);be(this,jc,void 0);me(this,jc,e=>{if(!mu&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){V(this,ko)||this.setEventListener(V(this,jc))}onUnsubscribe(){var e;this.hasListeners()||((e=V(this,ko))==null||e.call(this),me(this,ko,void 0))}setEventListener(e){var n;me(this,jc,e),(n=V(this,ko))==null||n.call(this),me(this,ko,e(this.setOnline.bind(this)))}setOnline(e){V(this,Oc)!==e&&(me(this,Oc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return V(this,Oc)}},Oc=new WeakMap,ko=new WeakMap,jc=new WeakMap,DP),qg=new Joe;function Zoe(t){return Math.min(1e3*2**t,3e4)}function AF(t){return(t??"online")==="online"?qg.isOnline():!0}var RF=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function u0(t){return t instanceof RF}function IF(t){let e=!1,n=0,r=!1,s,i,o;const a=new Promise((x,y)=>{i=x,o=y}),l=x=>{var y;r||(w(new RF(x)),(y=t.abort)==null||y.call(t))},c=()=>{e=!0},u=()=>{e=!1},h=()=>HS.isFocused()&&(t.networkMode==="always"||qg.isOnline())&&t.canRun(),p=()=>AF(t.networkMode)&&t.canRun(),g=x=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,x),s==null||s(),i(x))},w=x=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,x),s==null||s(),o(x))},v=()=>new Promise(x=>{var y;s=b=>{(r||h())&&x(b)},(y=t.onPause)==null||y.call(t)}).then(()=>{var x;s=void 0,r||(x=t.onContinue)==null||x.call(t)}),_=()=>{if(r)return;let x;const y=n===0?t.initialPromise:void 0;try{x=y??t.fn()}catch(b){x=Promise.reject(b)}Promise.resolve(x).then(g).catch(b=>{var E;if(r)return;const C=t.retry??(mu?0:3),P=t.retryDelay??Zoe,O=typeof P=="function"?P(n,b):P,T=C===!0||typeof C=="number"&&n<C||typeof C=="function"&&C(n,b);if(e||!T){w(b);return}n++,(E=t.onFail)==null||E.call(t,n,b),Goe(O).then(()=>h()?void 0:v()).then(()=>{e?w(b):_()})})};return{promise:a,cancel:l,continue:()=>(s==null||s(),a),cancelRetry:c,continueRetry:u,canStart:p,start:()=>(p()?_():v().then(_),a)}}function eae(){let t=[],e=0,n=p=>{p()},r=p=>{p()},s=p=>setTimeout(p,0);const i=p=>{s=p},o=p=>{let g;e++;try{g=p()}finally{e--,e||c()}return g},a=p=>{e?t.push(p):s(()=>{n(p)})},l=p=>(...g)=>{a(()=>{p(...g)})},c=()=>{const p=t;t=[],p.length&&s(()=>{r(()=>{p.forEach(g=>{n(g)})})})};return{batch:o,batchCalls:l,schedule:a,setNotifyFunction:p=>{n=p},setBatchNotifyFunction:p=>{r=p},setScheduler:i}}var En=eae(),el,kP,PF=(kP=class{constructor(){be(this,el,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),f_(this.gcTime)&&me(this,el,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(mu?1/0:5*60*1e3))}clearGcTimeout(){V(this,el)&&(clearTimeout(V(this,el)),me(this,el,void 0))}},el=new WeakMap,kP),Lc,Vc,is,Zn,Xh,tl,Cs,_i,MP,tae=(MP=class extends PF{constructor(e){super();be(this,Cs);be(this,Lc,void 0);be(this,Vc,void 0);be(this,is,void 0);be(this,Zn,void 0);be(this,Xh,void 0);be(this,tl,void 0);me(this,tl,!1),me(this,Xh,e.defaultOptions),this.setOptions(e.options),this.observers=[],me(this,is,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,me(this,Lc,nae(this.options)),this.state=e.state??V(this,Lc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=V(this,Zn))==null?void 0:e.promise}setOptions(e){this.options={...V(this,Xh),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&V(this,is).remove(this)}setData(e,n){const r=m_(this.state.data,e,this.options);return Ye(this,Cs,_i).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Ye(this,Cs,_i).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=V(this,Zn))==null?void 0:r.promise;return(s=V(this,Zn))==null||s.cancel(e),n?n.then(os).catch(os):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(V(this,Lc))}isActive(){return this.observers.some(e=>Ps(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!bF(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=V(this,Zn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=V(this,Zn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),V(this,is).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(V(this,Zn)&&(V(this,tl)?V(this,Zn).cancel({revert:!0}):V(this,Zn).cancelRetry()),this.scheduleGc()),V(this,is).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ye(this,Cs,_i).call(this,{type:"invalidate"})}fetch(e,n){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(V(this,Zn))return V(this,Zn).continueRetry(),V(this,Zn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(me(this,tl,!0),r.signal)})},i=()=>{const h=CF(this.options,n),p={queryKey:this.queryKey,meta:this.meta};return s(p),me(this,tl,!1),this.options.persister?this.options.persister(h,p,this):h(p)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),me(this,Vc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&Ye(this,Cs,_i).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const a=h=>{var p,g,w,v;u0(h)&&h.silent||Ye(this,Cs,_i).call(this,{type:"error",error:h}),u0(h)||((g=(p=V(this,is).config).onError)==null||g.call(p,h,this),(v=(w=V(this,is).config).onSettled)==null||v.call(w,this.state.data,h,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return me(this,Zn,IF({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var p,g,w,v;if(h===void 0){a(new Error(`${this.queryHash} data is undefined`));return}this.setData(h),(g=(p=V(this,is).config).onSuccess)==null||g.call(p,h,this),(v=(w=V(this,is).config).onSettled)==null||v.call(w,h,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:a,onFail:(h,p)=>{Ye(this,Cs,_i).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{Ye(this,Cs,_i).call(this,{type:"pause"})},onContinue:()=>{Ye(this,Cs,_i).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),V(this,Zn).start()}},Lc=new WeakMap,Vc=new WeakMap,is=new WeakMap,Zn=new WeakMap,Xh=new WeakMap,tl=new WeakMap,Cs=new WeakSet,_i=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...NF(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return u0(s)&&s.revert&&V(this,Vc)?{...V(this,Vc),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),En.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),V(this,is).notify({query:this,type:"updated",action:e})})},MP);function NF(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:AF(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function nae(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ws,OP,rae=(OP=class extends Lu{constructor(e={}){super();be(this,Ws,void 0);this.config=e,me(this,Ws,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??WS(s,n);let o=this.get(i);return o||(o=new tae({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){V(this,Ws).has(e.queryHash)||(V(this,Ws).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=V(this,Ws).get(e.queryHash);n&&(e.destroy(),n===e&&V(this,Ws).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){En.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return V(this,Ws).get(e)}getAll(){return[...V(this,Ws).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>WI(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>WI(e,r)):n}notify(e){En.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){En.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){En.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ws=new WeakMap,OP),Hs,ur,nl,qs,wo,jP,sae=(jP=class extends PF{constructor(e){super();be(this,qs);be(this,Hs,void 0);be(this,ur,void 0);be(this,nl,void 0);this.mutationId=e.mutationId,me(this,ur,e.mutationCache),me(this,Hs,[]),this.state=e.state||DF(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){V(this,Hs).includes(e)||(V(this,Hs).push(e),this.clearGcTimeout(),V(this,ur).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){me(this,Hs,V(this,Hs).filter(n=>n!==e)),this.scheduleGc(),V(this,ur).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){V(this,Hs).length||(this.state.status==="pending"?this.scheduleGc():V(this,ur).remove(this))}continue(){var e;return((e=V(this,nl))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,l,c,u,h,p,g,w,v,_,x,y,b,C,P,O,T;me(this,nl,IF({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(E,I)=>{Ye(this,qs,wo).call(this,{type:"failed",failureCount:E,error:I})},onPause:()=>{Ye(this,qs,wo).call(this,{type:"pause"})},onContinue:()=>{Ye(this,qs,wo).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>V(this,ur).canRun(this)}));const n=this.state.status==="pending",r=!V(this,nl).canStart();try{if(!n){Ye(this,qs,wo).call(this,{type:"pending",variables:e,isPaused:r}),await((i=(s=V(this,ur).config).onMutate)==null?void 0:i.call(s,e,this));const I=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));I!==this.state.context&&Ye(this,qs,wo).call(this,{type:"pending",context:I,variables:e,isPaused:r})}const E=await V(this,nl).start();return await((c=(l=V(this,ur).config).onSuccess)==null?void 0:c.call(l,E,e,this.state.context,this)),await((h=(u=this.options).onSuccess)==null?void 0:h.call(u,E,e,this.state.context)),await((g=(p=V(this,ur).config).onSettled)==null?void 0:g.call(p,E,null,this.state.variables,this.state.context,this)),await((v=(w=this.options).onSettled)==null?void 0:v.call(w,E,null,e,this.state.context)),Ye(this,qs,wo).call(this,{type:"success",data:E}),E}catch(E){try{throw await((x=(_=V(this,ur).config).onError)==null?void 0:x.call(_,E,e,this.state.context,this)),await((b=(y=this.options).onError)==null?void 0:b.call(y,E,e,this.state.context)),await((P=(C=V(this,ur).config).onSettled)==null?void 0:P.call(C,void 0,E,this.state.variables,this.state.context,this)),await((T=(O=this.options).onSettled)==null?void 0:T.call(O,void 0,E,e,this.state.context)),E}finally{Ye(this,qs,wo).call(this,{type:"error",error:E})}}finally{V(this,ur).runNext(this)}}},Hs=new WeakMap,ur=new WeakMap,nl=new WeakMap,qs=new WeakSet,wo=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),En.batch(()=>{V(this,Hs).forEach(r=>{r.onMutationUpdate(e)}),V(this,ur).notify({mutation:this,type:"updated",action:e})})},jP);function DF(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Fr,Jh,LP,iae=(LP=class extends Lu{constructor(e={}){super();be(this,Fr,void 0);be(this,Jh,void 0);this.config=e,me(this,Fr,new Map),me(this,Jh,Date.now())}build(e,n,r){const s=new sae({mutationCache:this,mutationId:++gp(this,Jh)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Zp(e),r=V(this,Fr).get(n)??[];r.push(e),V(this,Fr).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Zp(e);if(V(this,Fr).has(n)){const s=(r=V(this,Fr).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?V(this,Fr).delete(n):V(this,Fr).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=V(this,Fr).get(Zp(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=V(this,Fr).get(Zp(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){En.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...V(this,Fr).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>HI(n,r))}findAll(e={}){return this.getAll().filter(n=>HI(e,n))}notify(e){En.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return En.batch(()=>Promise.all(e.map(n=>n.continue().catch(os))))}},Fr=new WeakMap,Jh=new WeakMap,LP);function Zp(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function oae(t){return{onFetch:(e,n)=>{const r=async()=>{var w,v,_,x,y;const s=e.options,i=(_=(v=(w=e.fetchOptions)==null?void 0:w.meta)==null?void 0:v.fetchMore)==null?void 0:_.direction,o=((x=e.state.data)==null?void 0:x.pages)||[],a=((y=e.state.data)==null?void 0:y.pageParams)||[],l={pages:[],pageParams:[]};let c=!1;const u=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?c=!0:e.signal.addEventListener("abort",()=>{c=!0}),e.signal)})},h=CF(e.options,e.fetchOptions),p=async(b,C,P)=>{if(c)return Promise.reject();if(C==null&&b.pages.length)return Promise.resolve(b);const O={queryKey:e.queryKey,pageParam:C,direction:P?"backward":"forward",meta:e.options.meta};u(O);const T=await h(O),{maxPages:E}=e.options,I=P?Yoe:Qoe;return{pages:I(b.pages,T,E),pageParams:I(b.pageParams,C,E)}};let g;if(i&&o.length){const b=i==="backward",C=b?aae:QI,P={pages:o,pageParams:a},O=C(s,P);g=await p(P,O,b)}else{g=await p(l,a[0]??s.initialPageParam);const b=t??o.length;for(let C=1;C<b;C++){const P=QI(s,g);if(P==null)break;g=await p(g,P)}}return g};e.options.persister?e.fetchFn=()=>{var s,i;return(i=(s=e.options).persister)==null?void 0:i.call(s,r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=r}}}function QI(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function aae(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Jt,Mo,Oo,Fc,Uc,jo,Bc,$c,VP,lae=(VP=class{constructor(t={}){be(this,Jt,void 0);be(this,Mo,void 0);be(this,Oo,void 0);be(this,Fc,void 0);be(this,Uc,void 0);be(this,jo,void 0);be(this,Bc,void 0);be(this,$c,void 0);me(this,Jt,t.queryCache||new rae),me(this,Mo,t.mutationCache||new iae),me(this,Oo,t.defaultOptions||{}),me(this,Fc,new Map),me(this,Uc,new Map),me(this,jo,0)}mount(){gp(this,jo)._++,V(this,jo)===1&&(me(this,Bc,HS.subscribe(async t=>{t&&(await this.resumePausedMutations(),V(this,Jt).onFocus())})),me(this,$c,qg.subscribe(async t=>{t&&(await this.resumePausedMutations(),V(this,Jt).onOnline())})))}unmount(){var t,e;gp(this,jo)._--,V(this,jo)===0&&((t=V(this,Bc))==null||t.call(this),me(this,Bc,void 0),(e=V(this,$c))==null||e.call(this),me(this,$c,void 0))}isFetching(t){return V(this,Jt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return V(this,Mo).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=V(this,Jt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=V(this,Jt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Nc(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return V(this,Jt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=V(this,Jt).get(r.queryHash),i=s==null?void 0:s.state.data,o=qoe(e,i);if(o!==void 0)return V(this,Jt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return En.batch(()=>V(this,Jt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=V(this,Jt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=V(this,Jt);En.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=V(this,Jt),r={type:"active",...t};return En.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=En.batch(()=>V(this,Jt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(os).catch(os)}invalidateQueries(t={},e={}){return En.batch(()=>{if(V(this,Jt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=En.batch(()=>V(this,Jt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(os)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(os)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=V(this,Jt).build(this,e);return n.isStaleByTime(Nc(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(os).catch(os)}fetchInfiniteQuery(t){return t.behavior=oae(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(os).catch(os)}resumePausedMutations(){return qg.isOnline()?V(this,Mo).resumePausedMutations():Promise.resolve()}getQueryCache(){return V(this,Jt)}getMutationCache(){return V(this,Mo)}getDefaultOptions(){return V(this,Oo)}setDefaultOptions(t){me(this,Oo,t)}setQueryDefaults(t,e){V(this,Fc).set(Tl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...V(this,Fc).values()];let n={};return e.forEach(r=>{Hh(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){V(this,Uc).set(Tl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...V(this,Uc).values()];let n={};return e.forEach(r=>{Hh(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...V(this,Oo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=WS(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===TF&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...V(this,Oo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){V(this,Jt).clear(),V(this,Mo).clear()}},Jt=new WeakMap,Mo=new WeakMap,Oo=new WeakMap,Fc=new WeakMap,Uc=new WeakMap,jo=new WeakMap,Bc=new WeakMap,$c=new WeakMap,VP),Er,st,Zh,dr,rl,zc,Gs,ef,Kc,Wc,sl,il,Lo,Hc,ol,Pd,tf,g_,nf,v_,rf,y_,sf,w_,of,x_,af,__,lf,E_,ov,kF,FP,cae=(FP=class extends Lu{constructor(e,n){super();be(this,ol);be(this,tf);be(this,nf);be(this,rf);be(this,sf);be(this,of);be(this,af);be(this,lf);be(this,ov);be(this,Er,void 0);be(this,st,void 0);be(this,Zh,void 0);be(this,dr,void 0);be(this,rl,void 0);be(this,zc,void 0);be(this,Gs,void 0);be(this,ef,void 0);be(this,Kc,void 0);be(this,Wc,void 0);be(this,sl,void 0);be(this,il,void 0);be(this,Lo,void 0);be(this,Hc,new Set);this.options=n,me(this,Er,e),me(this,Gs,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(V(this,st).addObserver(this),YI(V(this,st),this.options)?Ye(this,ol,Pd).call(this):this.updateResult(),Ye(this,sf,w_).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return b_(V(this,st),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return b_(V(this,st),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ye(this,of,x_).call(this),Ye(this,af,__).call(this),V(this,st).removeObserver(this)}setOptions(e,n){const r=this.options,s=V(this,st);if(this.options=V(this,Er).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ps(this.options.enabled,V(this,st))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ye(this,lf,E_).call(this),V(this,st).setOptions(this.options),r._defaulted&&!Hg(this.options,r)&&V(this,Er).getQueryCache().notify({type:"observerOptionsUpdated",query:V(this,st),observer:this});const i=this.hasListeners();i&&XI(V(this,st),s,this.options,r)&&Ye(this,ol,Pd).call(this),this.updateResult(n),i&&(V(this,st)!==s||Ps(this.options.enabled,V(this,st))!==Ps(r.enabled,V(this,st))||Nc(this.options.staleTime,V(this,st))!==Nc(r.staleTime,V(this,st)))&&Ye(this,tf,g_).call(this);const o=Ye(this,nf,v_).call(this);i&&(V(this,st)!==s||Ps(this.options.enabled,V(this,st))!==Ps(r.enabled,V(this,st))||o!==V(this,Lo))&&Ye(this,rf,y_).call(this,o)}getOptimisticResult(e){const n=V(this,Er).getQueryCache().build(V(this,Er),e),r=this.createResult(n,e);return dae(this,r)&&(me(this,dr,r),me(this,zc,this.options),me(this,rl,V(this,st).state)),r}getCurrentResult(){return V(this,dr)}trackResult(e,n){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),e[s])})}),r}trackProp(e){V(this,Hc).add(e)}getCurrentQuery(){return V(this,st)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=V(this,Er).defaultQueryOptions(e),r=V(this,Er).getQueryCache().build(V(this,Er),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Ye(this,ol,Pd).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),V(this,dr)))}createResult(e,n){var T;const r=V(this,st),s=this.options,i=V(this,dr),o=V(this,rl),a=V(this,zc),c=e!==r?e.state:V(this,Zh),{state:u}=e;let h={...u},p=!1,g;if(n._optimisticResults){const E=this.hasListeners(),I=!E&&YI(e,n),R=E&&XI(e,r,n,s);(I||R)&&(h={...h,...NF(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:w,errorUpdatedAt:v,status:_}=h;if(n.select&&h.data!==void 0)if(i&&h.data===(o==null?void 0:o.data)&&n.select===V(this,ef))g=V(this,Kc);else try{me(this,ef,n.select),g=n.select(h.data),g=m_(i==null?void 0:i.data,g,n),me(this,Kc,g),me(this,Gs,null)}catch(E){me(this,Gs,E)}else g=h.data;if(n.placeholderData!==void 0&&g===void 0&&_==="pending"){let E;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))E=i.data;else if(E=typeof n.placeholderData=="function"?n.placeholderData((T=V(this,Wc))==null?void 0:T.state.data,V(this,Wc)):n.placeholderData,n.select&&E!==void 0)try{E=n.select(E),me(this,Gs,null)}catch(I){me(this,Gs,I)}E!==void 0&&(_="success",g=m_(i==null?void 0:i.data,E,n),p=!0)}V(this,Gs)&&(w=V(this,Gs),g=V(this,Kc),v=Date.now(),_="error");const x=h.fetchStatus==="fetching",y=_==="pending",b=_==="error",C=y&&x,P=g!==void 0;return{status:_,fetchStatus:h.fetchStatus,isPending:y,isSuccess:_==="success",isError:b,isInitialLoading:C,isLoading:C,data:g,dataUpdatedAt:h.dataUpdatedAt,error:w,errorUpdatedAt:v,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:x,isRefetching:x&&!y,isLoadingError:b&&!P,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:b&&P,isStale:qS(e,n),refetch:this.refetch}}updateResult(e){const n=V(this,dr),r=this.createResult(V(this,st),this.options);if(me(this,rl,V(this,st).state),me(this,zc,this.options),V(this,rl).data!==void 0&&me(this,Wc,V(this,st)),Hg(r,n))return;me(this,dr,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!V(this,Hc).size)return!0;const l=new Set(a??V(this,Hc));return this.options.throwOnError&&l.add("error"),Object.keys(V(this,dr)).some(c=>{const u=c;return V(this,dr)[u]!==n[u]&&l.has(u)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),Ye(this,ov,kF).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ye(this,sf,w_).call(this)}},Er=new WeakMap,st=new WeakMap,Zh=new WeakMap,dr=new WeakMap,rl=new WeakMap,zc=new WeakMap,Gs=new WeakMap,ef=new WeakMap,Kc=new WeakMap,Wc=new WeakMap,sl=new WeakMap,il=new WeakMap,Lo=new WeakMap,Hc=new WeakMap,ol=new WeakSet,Pd=function(e){Ye(this,lf,E_).call(this);let n=V(this,st).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(os)),n},tf=new WeakSet,g_=function(){Ye(this,of,x_).call(this);const e=Nc(this.options.staleTime,V(this,st));if(mu||V(this,dr).isStale||!f_(e))return;const r=bF(V(this,dr).dataUpdatedAt,e)+1;me(this,sl,setTimeout(()=>{V(this,dr).isStale||this.updateResult()},r))},nf=new WeakSet,v_=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(V(this,st)):this.options.refetchInterval)??!1},rf=new WeakSet,y_=function(e){Ye(this,af,__).call(this),me(this,Lo,e),!(mu||Ps(this.options.enabled,V(this,st))===!1||!f_(V(this,Lo))||V(this,Lo)===0)&&me(this,il,setInterval(()=>{(this.options.refetchIntervalInBackground||HS.isFocused())&&Ye(this,ol,Pd).call(this)},V(this,Lo)))},sf=new WeakSet,w_=function(){Ye(this,tf,g_).call(this),Ye(this,rf,y_).call(this,Ye(this,nf,v_).call(this))},of=new WeakSet,x_=function(){V(this,sl)&&(clearTimeout(V(this,sl)),me(this,sl,void 0))},af=new WeakSet,__=function(){V(this,il)&&(clearInterval(V(this,il)),me(this,il,void 0))},lf=new WeakSet,E_=function(){const e=V(this,Er).getQueryCache().build(V(this,Er),this.options);if(e===V(this,st))return;const n=V(this,st);me(this,st,e),me(this,Zh,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},ov=new WeakSet,kF=function(e){En.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(V(this,dr))}),V(this,Er).getQueryCache().notify({query:V(this,st),type:"observerResultsUpdated"})})},FP);function uae(t,e){return Ps(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function YI(t,e){return uae(t,e)||t.state.data!==void 0&&b_(t,e,e.refetchOnMount)}function b_(t,e,n){if(Ps(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&qS(t,e)}return!1}function XI(t,e,n,r){return(t!==e||Ps(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&qS(t,n)}function qS(t,e){return Ps(e.enabled,t)!==!1&&t.isStaleByTime(Nc(e.staleTime,t))}function dae(t,e){return!Hg(t.getCurrentResult(),e)}var Vo,Fo,br,Si,qc,Vm,cf,S_,UP,hae=(UP=class extends Lu{constructor(n,r){super();be(this,qc);be(this,cf);be(this,Vo,void 0);be(this,Fo,void 0);be(this,br,void 0);be(this,Si,void 0);me(this,Vo,n),this.setOptions(r),this.bindMethods(),Ye(this,qc,Vm).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=V(this,Vo).defaultMutationOptions(n),Hg(this.options,r)||V(this,Vo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:V(this,br),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Tl(r.mutationKey)!==Tl(this.options.mutationKey)?this.reset():((s=V(this,br))==null?void 0:s.state.status)==="pending"&&V(this,br).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=V(this,br))==null||n.removeObserver(this)}onMutationUpdate(n){Ye(this,qc,Vm).call(this),Ye(this,cf,S_).call(this,n)}getCurrentResult(){return V(this,Fo)}reset(){var n;(n=V(this,br))==null||n.removeObserver(this),me(this,br,void 0),Ye(this,qc,Vm).call(this),Ye(this,cf,S_).call(this)}mutate(n,r){var s;return me(this,Si,r),(s=V(this,br))==null||s.removeObserver(this),me(this,br,V(this,Vo).getMutationCache().build(V(this,Vo),this.options)),V(this,br).addObserver(this),V(this,br).execute(n)}},Vo=new WeakMap,Fo=new WeakMap,br=new WeakMap,Si=new WeakMap,qc=new WeakSet,Vm=function(){var r;const n=((r=V(this,br))==null?void 0:r.state)??DF();me(this,Fo,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},cf=new WeakSet,S_=function(n){En.batch(()=>{var r,s,i,o,a,l,c,u;if(V(this,Si)&&this.hasListeners()){const h=V(this,Fo).variables,p=V(this,Fo).context;(n==null?void 0:n.type)==="success"?((s=(r=V(this,Si)).onSuccess)==null||s.call(r,n.data,h,p),(o=(i=V(this,Si)).onSettled)==null||o.call(i,n.data,null,h,p)):(n==null?void 0:n.type)==="error"&&((l=(a=V(this,Si)).onError)==null||l.call(a,n.error,h,p),(u=(c=V(this,Si)).onSettled)==null||u.call(c,void 0,n.error,h,p))}this.listeners.forEach(h=>{h(V(this,Fo))})})},UP),MF=m.createContext(void 0),Ra=t=>{const e=m.useContext(MF);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},fae=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(MF.Provider,{value:t,children:e})),OF=m.createContext(!1),pae=()=>m.useContext(OF);OF.Provider;function mae(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var gae=m.createContext(mae()),vae=()=>m.useContext(gae);function jF(t,e){return typeof t=="function"?t(...e):!!t}function yae(){}var wae=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},xae=t=>{m.useEffect(()=>{t.clearReset()},[t])},_ae=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&jF(n,[t.error,r]),Eae=t=>{t.suspense&&(typeof t.staleTime!="number"&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},bae=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Sae=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Tae(t,e,n){var c,u,h,p;const r=Ra(),s=pae(),i=vae(),o=r.defaultQueryOptions(t);(u=(c=r.getDefaultOptions().queries)==null?void 0:c._experimental_beforeQuery)==null||u.call(c,o),o._optimisticResults=s?"isRestoring":"optimistic",Eae(o),wae(o,i),xae(i);const[a]=m.useState(()=>new e(r,o)),l=a.getOptimisticResult(o);if(m.useSyncExternalStore(m.useCallback(g=>{const w=s?()=>{}:a.subscribe(En.batchCalls(g));return a.updateResult(),w},[a,s]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),m.useEffect(()=>{a.setOptions(o,{listeners:!1})},[o,a]),bae(o,l))throw Sae(o,a,i);if(_ae({result:l,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw l.error;return(p=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||p.call(h,o,l),o.notifyOnChangeProps?l:a.trackResult(l)}function Vl(t,e){return Tae(t,cae)}function Rr(t,e){const n=Ra(),[r]=m.useState(()=>new hae(n,t));m.useEffect(()=>{r.setOptions(t)},[r,t]);const s=m.useSyncExternalStore(m.useCallback(o=>r.subscribe(En.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=m.useCallback((o,a)=>{r.mutate(o,a).catch(yae)},[r]);if(s.error&&jF(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const LF=({label:t,onButtonClick:e})=>d.jsxs(Xe,{variant:"outline",size:"sm",className:"mb-2 hover:bg-gray-100 h-10",onClick:e,children:[d.jsx(bu,{className:"w-4 h-4 mr-0 md:mr-2"}),d.jsx("p",{className:"hidden md:block",children:t})]}),VF=()=>d.jsxs("div",{className:"h-[450px] md:h-[600px] w-full px-4 flex flex-col pb-4 mt-2",children:[d.jsxs("div",{className:"flex mb-7 space-x-4",children:[d.jsx(Se,{className:"flex-grow h-10 bg-lightGray-darker"}),d.jsx(Se,{className:"h-10 w-[42px] md:w-[198.85px] bg-lightGray-darker"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx(Se,{className:"h-[20px] w-[20rem] bg-lightGray-darker"}),d.jsx(Se,{className:"h-[20px] w-[10rem] bg-lightGray-darker"})]})]}),ms=ro(t=>({isModalVisible:!1,modalMode:"BASE",openModal:()=>{t(()=>({isModalVisible:!0}))},closeModal:()=>{t(()=>({isModalVisible:!1}))},setMode:e=>{t(()=>({modalMode:e}))}})),Cae=()=>{const t=ms(i=>i.openModal),e=ms(i=>i.setMode),n=vt(i=>i.clearFormData),r=Ht(i=>i.selectedKnowledgeBaseName);return{handleOpenKnowledgeForm:async i=>{if(!r)return window.alert("No Knowledge Base Selected cannot add a knowledge entry");n(),e(i),t()},openModal:t,setMode:e,clearFormData:n}},FF=()=>{const[t,e]=m.useState("");return{filter:t,handleFilterChange:r=>{e(r)}}};function Aae(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=h=>{var x;const{scope:p,children:g,...w}=h,v=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,_=m.useMemo(()=>w,Object.values(w));return d.jsx(v.Provider,{value:_,children:g})};c.displayName=i+"Provider";function u(h,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Rae(s,...e)]}function Rae(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Iae(t,e){const n=m.createContext(e),r=i=>{const{children:o,...a}=i,l=m.useMemo(()=>a,Object.values(a));return d.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=m.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Pae(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=h=>{var x;const{scope:p,children:g,...w}=h,v=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,_=m.useMemo(()=>w,Object.values(w));return d.jsx(v.Provider,{value:_,children:g})};c.displayName=i+"Provider";function u(h,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Nae(s,...e)]}function Nae(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Dae="DismissableLayer",T_="dismissableLayer.update",kae="dismissableLayer.pointerDownOutside",Mae="dismissableLayer.focusOutside",JI,UF=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),BF=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(UF),[u,h]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=ke(e,T=>h(T)),v=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(_),y=u?v.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,C=y>=x,P=Lae(T=>{const E=T.target,I=[...c.branches].some(R=>R.contains(E));!C||I||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},p),O=Vae(T=>{const E=T.target;[...c.branches].some(R=>R.contains(E))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},p);return Af(T=>{y===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(JI=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),ZI(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=JI)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),ZI())},[u,c]),m.useEffect(()=>{const T=()=>g({});return document.addEventListener(T_,T),()=>document.removeEventListener(T_,T)},[]),d.jsx(ve.div,{...l,ref:w,style:{pointerEvents:b?C?"auto":"none":void 0,...t.style},onFocusCapture:Z(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Z(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Z(t.onPointerDownCapture,P.onPointerDownCapture)})});BF.displayName=Dae;var Oae="DismissableLayerBranch",jae=m.forwardRef((t,e)=>{const n=m.useContext(UF),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(ve.div,{...t,ref:s})});jae.displayName=Oae;function Lae(t,e=globalThis==null?void 0:globalThis.document){const n=mt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){$F(kae,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Vae(t,e=globalThis==null?void 0:globalThis.document){const n=mt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&$F(Mae,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ZI(){const t=new CustomEvent(T_);document.dispatchEvent(t)}function $F(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Nl(s,i):s.dispatchEvent(i)}var Fae="Portal",zF=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Pt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?mf.createPortal(d.jsx(ve.div,{...r,ref:e}),o):null});zF.displayName=Fae;function Uae(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var Ry=t=>{const{present:e,children:n}=t,r=Bae(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=ke(r.ref,$ae(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};Ry.displayName="Presence";function Bae(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=Uae(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=em(r.current);i.current=a==="mounted"?c:"none"},[a]),Pt(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=em(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Pt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=g=>{const v=em(r.current).includes(g.animationName);if(g.target===e&&v&&(l("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},p=g=>{g.target===e&&(i.current=em(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function em(t){return(t==null?void 0:t.animationName)||"none"}function $ae(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var GS="Dialog",[KF,WF]=Pae(GS),[zae,$s]=KF(GS),HF=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=m.useRef(null),l=m.useRef(null),[c=!1,u]=aa({prop:r,defaultProp:s,onChange:i});return d.jsx(zae,{scope:e,triggerRef:a,contentRef:l,contentId:js(),titleId:js(),descriptionId:js(),open:c,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(h=>!h),[u]),modal:o,children:n})};HF.displayName=GS;var qF="DialogTrigger",GF=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=$s(qF,n),i=ke(e,s.triggerRef);return d.jsx(ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":XS(s.open),...r,ref:i,onClick:Z(t.onClick,s.onOpenToggle)})});GF.displayName=qF;var QS="DialogPortal",[Kae,QF]=KF(QS,{forceMount:void 0}),YF=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=$s(QS,e);return d.jsx(Kae,{scope:e,forceMount:n,children:m.Children.map(r,o=>d.jsx(Ry,{present:n||i.open,children:d.jsx(zF,{asChild:!0,container:s,children:o})}))})};YF.displayName=QS;var Gg="DialogOverlay",XF=m.forwardRef((t,e)=>{const n=QF(Gg,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=$s(Gg,t.__scopeDialog);return i.modal?d.jsx(Ry,{present:r||i.open,children:d.jsx(Wae,{...s,ref:e})}):null});XF.displayName=Gg;var Wae=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=$s(Gg,n);return d.jsx(Kv,{as:la,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(ve.div,{"data-state":XS(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Cl="DialogContent",JF=m.forwardRef((t,e)=>{const n=QF(Cl,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=$s(Cl,t.__scopeDialog);return d.jsx(Ry,{present:r||i.open,children:i.modal?d.jsx(Hae,{...s,ref:e}):d.jsx(qae,{...s,ref:e})})});JF.displayName=Cl;var Hae=m.forwardRef((t,e)=>{const n=$s(Cl,t.__scopeDialog),r=m.useRef(null),s=ke(e,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return gb(i)},[]),d.jsx(ZF,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Z(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Z(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Z(t.onFocusOutside,i=>i.preventDefault())})}),qae=m.forwardRef((t,e)=>{const n=$s(Cl,t.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return d.jsx(ZF,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),ZF=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=$s(Cl,n),l=m.useRef(null),c=ke(e,l);return rb(),d.jsxs(d.Fragment,{children:[d.jsx(Lv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(BF,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":XS(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(Qae,{titleId:a.titleId}),d.jsx(Xae,{contentRef:l,descriptionId:a.descriptionId})]})]})}),YS="DialogTitle",e4=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=$s(YS,n);return d.jsx(ve.h2,{id:s.titleId,...r,ref:e})});e4.displayName=YS;var t4="DialogDescription",n4=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=$s(t4,n);return d.jsx(ve.p,{id:s.descriptionId,...r,ref:e})});n4.displayName=t4;var r4="DialogClose",s4=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=$s(r4,n);return d.jsx(ve.button,{type:"button",...r,ref:e,onClick:Z(t.onClick,()=>s.onOpenChange(!1))})});s4.displayName=r4;function XS(t){return t?"open":"closed"}var i4="DialogTitleWarning",[Gae,o4]=Iae(i4,{contentName:Cl,titleName:YS,docsSlug:"dialog"}),Qae=({titleId:t})=>{const e=o4(i4),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Yae="DialogDescriptionWarning",Xae=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${o4(Yae).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},a4=HF,Jae=GF,l4=YF,JS=XF,ZS=JF,eT=e4,tT=n4,nT=s4,c4="AlertDialog",[Zae,Qfe]=Aae(c4,[WF]),so=WF(),u4=t=>{const{__scopeAlertDialog:e,...n}=t,r=so(e);return d.jsx(a4,{...r,...n,modal:!0})};u4.displayName=c4;var ele="AlertDialogTrigger",tle=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=so(n);return d.jsx(Jae,{...s,...r,ref:e})});tle.displayName=ele;var nle="AlertDialogPortal",d4=t=>{const{__scopeAlertDialog:e,...n}=t,r=so(e);return d.jsx(l4,{...r,...n})};d4.displayName=nle;var rle="AlertDialogOverlay",h4=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=so(n);return d.jsx(JS,{...s,...r,ref:e})});h4.displayName=rle;var Dc="AlertDialogContent",[sle,ile]=Zae(Dc),f4=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=so(n),o=m.useRef(null),a=ke(e,o),l=m.useRef(null);return d.jsx(Gae,{contentName:Dc,titleName:p4,docsSlug:"alert-dialog",children:d.jsx(sle,{scope:n,cancelRef:l,children:d.jsxs(ZS,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:Z(s.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=l.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[d.jsx(nb,{children:r}),d.jsx(ale,{contentRef:o})]})})})});f4.displayName=Dc;var p4="AlertDialogTitle",m4=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=so(n);return d.jsx(eT,{...s,...r,ref:e})});m4.displayName=p4;var g4="AlertDialogDescription",v4=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=so(n);return d.jsx(tT,{...s,...r,ref:e})});v4.displayName=g4;var ole="AlertDialogAction",y4=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=so(n);return d.jsx(nT,{...s,...r,ref:e})});y4.displayName=ole;var w4="AlertDialogCancel",x4=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=ile(w4,n),i=so(n),o=ke(e,s);return d.jsx(nT,{...i,...r,ref:o})});x4.displayName=w4;var ale=({contentRef:t})=>{const e=`\`${Dc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Dc}\` by passing a \`${g4}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Dc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},lle=u4,cle=d4,_4=h4,E4=f4,b4=y4,S4=x4,T4=m4,C4=v4;const ule=lle,dle=cle,A4=m.forwardRef(({className:t,...e},n)=>d.jsx(_4,{className:ue("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));A4.displayName=_4.displayName;const R4=m.forwardRef(({className:t,...e},n)=>d.jsxs(dle,{children:[d.jsx(A4,{}),d.jsx(E4,{ref:n,className:ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));R4.displayName=E4.displayName;const I4=({className:t,...e})=>d.jsx("div",{className:ue("flex flex-col space-y-2 text-center sm:text-left",t),...e});I4.displayName="AlertDialogHeader";const P4=({className:t,...e})=>d.jsx("div",{className:ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});P4.displayName="AlertDialogFooter";const N4=m.forwardRef(({className:t,...e},n)=>d.jsx(T4,{ref:n,className:ue("text-lg font-semibold",t),...e}));N4.displayName=T4.displayName;const D4=m.forwardRef(({className:t,...e},n)=>d.jsx(C4,{ref:n,className:ue("text-sm text-muted-foreground",t),...e}));D4.displayName=C4.displayName;const k4=m.forwardRef(({className:t,...e},n)=>d.jsx(b4,{ref:n,className:ue(Pb(),t),...e}));k4.displayName=b4.displayName;const M4=m.forwardRef(({className:t,...e},n)=>d.jsx(S4,{ref:n,className:ue(Pb({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));M4.displayName=S4.displayName;const Xa=({title:t,description:e,isOpen:n,setDialogState:r,onDelete:s,isDestructive:i=!1})=>{const o=async()=>{r(!1),await s()},a=()=>{r(!1)};return d.jsx(ule,{open:n,onOpenChange:l=>{r(l),setTimeout(()=>{l||(document.body.style.pointerEvents="")},100)},children:d.jsxs(R4,{children:[d.jsxs(I4,{children:[d.jsx(N4,{children:t}),d.jsx(D4,{children:e})]}),d.jsxs(P4,{children:[d.jsx(M4,{onClick:a,children:"Cancel"}),d.jsx(k4,{onClick:o,className:ue(i&&"bg-red-600 hover:bg-red-700"),children:"Confirm"})]})]})})},hle={1:"Base",2:"Entry",3:"Verify"},fle={1:"Entry",2:"Verify"},vc={base:t=>({title:"Archive Knowledge Base",description:`This action will move the knowledge base "${t}" to the archive. You can restore it later from the archive.`}),entry:t=>({title:"Archive Knowledge Entry",description:`This action will move the knowledge entry "${t}" to the archive. You can restore it later from the archive.`}),baseArchive:t=>({title:"Delete Knowledge Base Permanently",description:`This action will delete the knowledge base "${t}" permanently. This action cannot be undone.`}),baseRestore:t=>({title:"Restore Knowledge Base",description:`This action will restore the knowledge base "${t}". Once restored you can find it in the knowledge tab.`}),entryArchive:t=>({title:"Delete Knowledge Entry Permanently",description:`This action will delete the knowledge entry "${t}" permanently. This action cannot be undone.`}),entryRestore:t=>({title:"Restore Knowledge Entry",description:`This action will restore the knowledge entry "${t}". Once restored you can find it in the knowledge tab.`})},ple=({onTabChange:t})=>{const{handleOpenKnowledgeForm:e}=Cae(),n=Bs(),r=Ra(),{filter:s,handleFilterChange:i}=FF(),o=ut(y=>y.admin),a=Ht(y=>y.selectedKnowledgeBaseName),l=Ht(y=>y.selectedKnowledgeEntryIntentItem),c=Ht(y=>y.setSelectedKnowledgeEntryIntentItem),u=Qr(y=>y.dialogs),h=Qr(y=>y.setDialogState),{data:p,isLoading:g}=Vl({queryFn:()=>koe(a),queryKey:Lm,enabled:!!a}),{mutateAsync:w}=Rr({mutationFn:Foe,onSuccess:y=>{r.invalidateQueries({queryKey:Lm}),r.invalidateQueries({queryKey:Wg}),n({title:y,description:tt()})},onError:y=>{n({title:y==null?void 0:y.message,description:tt(),variant:"destructive"}),pt(y.message||"An Unexpected error occured while deleting knowledge base")}}),v=async()=>{if(!l)throw new Error("No knowledge entry intent selected cannot delete");await w(`${a}&${l}`),c("")},_=m.useMemo(()=>p==null?void 0:p.filter(y=>y.intent.toLowerCase().includes(s.toLowerCase())),[p,s]),x=vc.entry(l);return m.useEffect(()=>()=>{r.resetQueries({queryKey:Lm})},[]),g?d.jsx(VF,{}):p?d.jsxs(sy,{value:"knowledgeEntry",className:"mt-2",children:[d.jsxs("div",{className:"h-[450px] md:h-[600px] w-full px-4 flex flex-col pb-4 overflow-y-auto scrollbar-slim",children:[d.jsxs("div",{className:"flex mb-2 space-x-4 sticky top-0",children:[d.jsx(Lt,{className:"flex-grow outline-none focus:outline-none",placeholder:"Search knowledge base...",onChange:y=>i(y.target.value)}),(o==null?void 0:o.role)!=="viewer"&&d.jsx(LF,{label:"Add Knowledge Entry",onButtonClick:()=>e(bte.entry)})]}),d.jsx(Hoe,{knowledgeEntries:_,handleTabChange:t})]}),u.showConfirmDeleteKnowledgeEntryDialog&&d.jsx(Xa,{title:x.title,description:x.description,isOpen:u.showConfirmDeleteKnowledgeEntryDialog,setDialogState:y=>h("showConfirmDeleteKnowledgeEntryDialog",y),onDelete:v})]}):d.jsx(KS,{heading:"No Knowledge Base Selected",description:"Select a knowledge base category to view its contents here."})},mle=({base:t,onItemClick:e})=>{const n=ut(l=>l.admin),r=Ht(l=>l.selectedKnowledgeBaseName),s=Ht(l=>l.setSelectedKnowledgeBaseItem),i=Qr(l=>l.openDialog),o=()=>{s(t.name),i("showRenameKnowledgeBaseDialog")},a=()=>{s(t.name),i("showConfirmDeleteKnowledgeBaseDialog")};return d.jsxs("div",{className:`group flex justify-between p-2 rounded-md cursor-pointer transition-colors ${r===t.name?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,onClick:()=>e(t.name),children:[d.jsxs("span",{className:"flex items-center gap-4",children:[d.jsx("p",{className:"max-w-[600px] truncate",title:t.name,children:t.name}),d.jsx(Of,{variant:"outline",className:"text-xs font-medium border-gray-300 bg-gray-50 text-gray-700 group-hover:border-gray-400 group-hover:bg-gray-100",children:`${t.totalEntries} entries`})]}),(n==null?void 0:n.role)!=="viewer"&&d.jsx(Xe,{className:"bg-transparent hover:bg-transparent size-8 p-0 h-fit",children:d.jsx(EF,{onRenameKnowledge:o,onDeleteKnowledge:a})})]})},gle=({knowledgeBaseNameList:t,handleTabChange:e})=>{const n=Ht(i=>i.setSelectedKnowledgeBaseName),r=Ht(i=>i.selectedKnowledgeBaseName),s=i=>{e("knowledgeEntry"),r!==i&&n(i)};return d.jsx("div",{children:d.jsx(Pu,{listStyle:"space-y-2",items:t,renderItem:i=>d.jsx(mle,{base:i,onItemClick:s})})})},Yf=a4,vle=l4,O4=m.forwardRef(({className:t,...e},n)=>d.jsx(JS,{ref:n,className:ue("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));O4.displayName=JS.displayName;const Vu=m.forwardRef(({className:t,children:e,hideClose:n=!1,...r},s)=>d.jsxs(vle,{children:[d.jsx(O4,{}),d.jsxs(ZS,{ref:s,className:ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,!n&&d.jsxs(nT,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(Tf,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Vu.displayName=ZS.displayName;const Fu=({className:t,...e})=>d.jsx("div",{className:ue("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Fu.displayName="DialogHeader";const Iy=({className:t,...e})=>d.jsx("div",{className:ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Iy.displayName="DialogFooter";const Uu=m.forwardRef(({className:t,...e},n)=>d.jsx(eT,{ref:n,className:ue("text-lg font-semibold leading-none tracking-tight",t),...e}));Uu.displayName=eT.displayName;const Xf=m.forwardRef(({className:t,...e},n)=>d.jsx(tT,{ref:n,className:ue("text-sm text-muted-foreground",t),...e}));Xf.displayName=tT.displayName;var Jf=t=>t.type==="checkbox",Ja=t=>t instanceof Date,pr=t=>t==null;const j4=t=>typeof t=="object";var cn=t=>!pr(t)&&!Array.isArray(t)&&j4(t)&&!Ja(t),L4=t=>cn(t)&&t.target?Jf(t.target)?t.target.checked:t.target.value:t,yle=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,V4=(t,e)=>t.has(yle(e)),wle=t=>{const e=t.constructor&&t.constructor.prototype;return cn(e)&&e.hasOwnProperty("isPrototypeOf")},rT=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function _r(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(rT&&(t instanceof Blob||t instanceof FileList))&&(n||cn(t)))if(e=n?[]:{},!n&&!wle(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=_r(t[r]));else return t;return e}var Py=t=>Array.isArray(t)?t.filter(Boolean):[],en=t=>t===void 0,le=(t,e,n)=>{if(!e||!cn(t))return n;const r=Py(e.split(/[,[\].]+?/)).reduce((s,i)=>pr(s)?s:s[i],t);return en(r)||r===t?en(t[e])?n:t[e]:r},as=t=>typeof t=="boolean",sT=t=>/^\w*$/.test(t),F4=t=>Py(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ct=(t,e,n)=>{let r=-1;const s=sT(e)?[e]:F4(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let l=n;if(r!==o){const c=t[a];l=cn(c)||Array.isArray(c)?c:isNaN(+s[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const Qg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ns={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},xi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},xle=Re.createContext(null),iT=()=>Re.useContext(xle);var U4=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==Ns.all&&(e._proxyFormState[o]=!r||Ns.all),n&&(n[o]=!0),t[o]}});return s},Sr=t=>cn(t)&&!Object.keys(t).length,B4=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Sr(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||Ns.all))},Zd=t=>Array.isArray(t)?t:[t],$4=(t,e,n)=>!t||!e||t===e||Zd(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function oT(t){const e=Re.useRef(t);e.current=t,Re.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function _le(t){const e=iT(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,a]=Re.useState(n._formState),l=Re.useRef(!0),c=Re.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=Re.useRef(s);return u.current=s,oT({disabled:r,next:h=>l.current&&$4(u.current,h.name,i)&&B4(h,c.current,n._updateFormState)&&a({...n._formState,...h}),subject:n._subjects.state}),Re.useEffect(()=>(l.current=!0,c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),U4(o,n,c.current,!1)}var Zs=t=>typeof t=="string",z4=(t,e,n,r,s)=>Zs(t)?(r&&e.watch.add(t),le(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),le(n,i))):(r&&(e.watchAll=!0),n);function Ele(t){const e=iT(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o}=t||{},a=Re.useRef(r);a.current=r,oT({disabled:i,subject:n._subjects.values,next:u=>{$4(a.current,u.name,o)&&c(_r(z4(a.current,n._names,u.values||n._formValues,!1,s)))}});const[l,c]=Re.useState(n._getWatch(r,s));return Re.useEffect(()=>n._removeUnmounted()),l}function ble(t){const e=iT(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i}=t,o=V4(s._names.array,n),a=Ele({control:s,name:n,defaultValue:le(s._formValues,n,le(s._defaultValues,n,t.defaultValue)),exact:!0}),l=_le({control:s,name:n,exact:!0}),c=Re.useRef(s.register(n,{...t.rules,value:a,...as(t.disabled)?{disabled:t.disabled}:{}}));return Re.useEffect(()=>{const u=s._options.shouldUnregister||i,h=(p,g)=>{const w=le(s._fields,p);w&&w._f&&(w._f.mount=g)};if(h(n,!0),u){const p=_r(le(s._options.defaultValues,n));Ct(s._defaultValues,n,p),en(le(s._formValues,n))&&Ct(s._formValues,n,p)}return()=>{(o?u&&!s._state.action:u)?s.unregister(n):h(n,!1)}},[n,s,o,i]),Re.useEffect(()=>{le(s._fields,n)&&s._updateDisabledField({disabled:r,fields:s._fields,name:n,value:le(s._fields,n)._f.value})},[r,n,s]),{field:{name:n,value:a,...as(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:Re.useCallback(u=>c.current.onChange({target:{value:L4(u),name:n},type:Qg.CHANGE}),[n]),onBlur:Re.useCallback(()=>c.current.onBlur({target:{value:le(s._formValues,n),name:n},type:Qg.BLUR}),[n,s]),ref:Re.useCallback(u=>{const h=le(s._fields,n);h&&u&&(h._f.ref={focus:()=>u.focus(),select:()=>u.select(),setCustomValidity:p=>u.setCustomValidity(p),reportValidity:()=>u.reportValidity()})},[s._fields,n])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!le(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!le(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!le(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!le(l.validatingFields,n)},error:{enumerable:!0,get:()=>le(l.errors,n)}})}}const K4=t=>t.render(ble(t));var Sle=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},eP=t=>({isOnSubmit:!t||t===Ns.onSubmit,isOnBlur:t===Ns.onBlur,isOnChange:t===Ns.onChange,isOnAll:t===Ns.all,isOnTouch:t===Ns.onTouched}),tP=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const eh=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=le(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(eh(a,e))break}else if(cn(a)&&eh(a,e))break}}};var Tle=(t,e,n)=>{const r=Zd(le(t,n));return Ct(r,"root",e[n]),Ct(t,n,r),t},aT=t=>t.type==="file",Di=t=>typeof t=="function",Yg=t=>{if(!rT)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Fm=t=>Zs(t),lT=t=>t.type==="radio",Xg=t=>t instanceof RegExp;const nP={value:!1,isValid:!1},rP={value:!0,isValid:!0};var W4=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!en(t[0].attributes.value)?en(t[0].value)||t[0].value===""?rP:{value:t[0].value,isValid:!0}:rP:nP}return nP};const sP={isValid:!1,value:null};var H4=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,sP):sP;function iP(t,e,n="validate"){if(Fm(t)||Array.isArray(t)&&t.every(Fm)||as(t)&&!t)return{type:n,message:Fm(t)?t:"",ref:e}}var Ql=t=>cn(t)&&!Xg(t)?t:{value:t,message:""},oP=async(t,e,n,r,s)=>{const{ref:i,refs:o,required:a,maxLength:l,minLength:c,min:u,max:h,pattern:p,validate:g,name:w,valueAsNumber:v,mount:_,disabled:x}=t._f,y=le(e,w);if(!_||x)return{};const b=o?o[0]:i,C=M=>{r&&b.reportValidity&&(b.setCustomValidity(as(M)?"":M||""),b.reportValidity())},P={},O=lT(i),T=Jf(i),E=O||T,I=(v||aT(i))&&en(i.value)&&en(y)||Yg(i)&&i.value===""||y===""||Array.isArray(y)&&!y.length,R=Sle.bind(null,w,n,P),k=(M,N,W,se=xi.maxLength,ne=xi.minLength)=>{const Y=M?N:W;P[w]={type:M?se:ne,message:Y,ref:i,...R(M?se:ne,Y)}};if(s?!Array.isArray(y)||!y.length:a&&(!E&&(I||pr(y))||as(y)&&!y||T&&!W4(o).isValid||O&&!H4(o).isValid)){const{value:M,message:N}=Fm(a)?{value:!!a,message:a}:Ql(a);if(M&&(P[w]={type:xi.required,message:N,ref:b,...R(xi.required,N)},!n))return C(N),P}if(!I&&(!pr(u)||!pr(h))){let M,N;const W=Ql(h),se=Ql(u);if(!pr(y)&&!isNaN(y)){const ne=i.valueAsNumber||y&&+y;pr(W.value)||(M=ne>W.value),pr(se.value)||(N=ne<se.value)}else{const ne=i.valueAsDate||new Date(y),Y=J=>new Date(new Date().toDateString()+" "+J),z=i.type=="time",B=i.type=="week";Zs(W.value)&&y&&(M=z?Y(y)>Y(W.value):B?y>W.value:ne>new Date(W.value)),Zs(se.value)&&y&&(N=z?Y(y)<Y(se.value):B?y<se.value:ne<new Date(se.value))}if((M||N)&&(k(!!M,W.message,se.message,xi.max,xi.min),!n))return C(P[w].message),P}if((l||c)&&!I&&(Zs(y)||s&&Array.isArray(y))){const M=Ql(l),N=Ql(c),W=!pr(M.value)&&y.length>+M.value,se=!pr(N.value)&&y.length<+N.value;if((W||se)&&(k(W,M.message,N.message),!n))return C(P[w].message),P}if(p&&!I&&Zs(y)){const{value:M,message:N}=Ql(p);if(Xg(M)&&!y.match(M)&&(P[w]={type:xi.pattern,message:N,ref:i,...R(xi.pattern,N)},!n))return C(N),P}if(g){if(Di(g)){const M=await g(y,e),N=iP(M,b);if(N&&(P[w]={...N,...R(xi.validate,N.message)},!n))return C(N.message),P}else if(cn(g)){let M={};for(const N in g){if(!Sr(M)&&!n)break;const W=iP(await g[N](y,e),b,N);W&&(M={...W,...R(N,W.message)},C(W.message),n&&(P[w]=M))}if(!Sr(M)&&(P[w]={ref:b,...M},!n))return P}}return C(!0),P};function Cle(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=en(t)?r++:t[e[r++]];return t}function Ale(t){for(const e in t)if(t.hasOwnProperty(e)&&!en(t[e]))return!1;return!0}function wn(t,e){const n=Array.isArray(e)?e:sT(e)?[e]:F4(e),r=n.length===1?t:Cle(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(cn(r)&&Sr(r)||Array.isArray(r)&&Ale(r))&&wn(t,n.slice(0,-1)),t}var d0=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},C_=t=>pr(t)||!j4(t);function No(t,e){if(C_(t)||C_(e))return t===e;if(Ja(t)&&Ja(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Ja(i)&&Ja(o)||cn(i)&&cn(o)||Array.isArray(i)&&Array.isArray(o)?!No(i,o):i!==o)return!1}}return!0}var q4=t=>t.type==="select-multiple",Rle=t=>lT(t)||Jf(t),h0=t=>Yg(t)&&t.isConnected,G4=t=>{for(const e in t)if(Di(t[e]))return!0;return!1};function Jg(t,e={}){const n=Array.isArray(t);if(cn(t)||n)for(const r in t)Array.isArray(t[r])||cn(t[r])&&!G4(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Jg(t[r],e[r])):pr(t[r])||(e[r]=!0);return e}function Q4(t,e,n){const r=Array.isArray(t);if(cn(t)||r)for(const s in t)Array.isArray(t[s])||cn(t[s])&&!G4(t[s])?en(e)||C_(n[s])?n[s]=Array.isArray(t[s])?Jg(t[s],[]):{...Jg(t[s])}:Q4(t[s],pr(e)?{}:e[s],n[s]):n[s]=!No(t[s],e[s]);return n}var gd=(t,e)=>Q4(t,e,Jg(e)),Y4=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>en(t)?t:e?t===""?NaN:t&&+t:n&&Zs(t)?new Date(t):r?r(t):t;function f0(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return aT(e)?e.files:lT(e)?H4(t.refs).value:q4(e)?[...e.selectedOptions].map(({value:n})=>n):Jf(e)?W4(t.refs).value:Y4(en(e.value)?t.ref.value:e.value,t)}var Ile=(t,e,n,r)=>{const s={};for(const i of t){const o=le(e,i);o&&Ct(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},vd=t=>en(t)?t:Xg(t)?t.source:cn(t)?Xg(t.value)?t.value.source:t.value:t;const aP="AsyncFunction";var Ple=t=>(!t||!t.validate)&&!!(Di(t.validate)&&t.validate.constructor.name===aP||cn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===aP)),Nle=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function lP(t,e,n){const r=le(t,n);if(r||sT(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=le(e,i),a=le(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var Dle=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,kle=(t,e)=>!Py(le(t,e)).length&&wn(t,e);const Mle={mode:Ns.onSubmit,reValidateMode:Ns.onChange,shouldFocusError:!0};function Ole(t={}){let e={...Mle,...t},n={submitCount:0,isDirty:!1,isLoading:Di(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=cn(e.defaultValues)||cn(e.values)?_r(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:_r(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:d0(),array:d0(),state:d0()},p=eP(e.mode),g=eP(e.reValidateMode),w=e.criteriaMode===Ns.all,v=j=>$=>{clearTimeout(c),c=setTimeout(j,$)},_=async j=>{if(!t.disabled&&(u.isValid||j)){const $=e.resolver?Sr((await E()).errors):await R(r,!0);$!==n.isValid&&h.state.next({isValid:$})}},x=(j,$)=>{!t.disabled&&(u.isValidating||u.validatingFields)&&((j||Array.from(a.mount)).forEach(H=>{H&&($?Ct(n.validatingFields,H,$):wn(n.validatingFields,H))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Sr(n.validatingFields)}))},y=(j,$=[],H,ie,re=!0,ee=!0)=>{if(ie&&H&&!t.disabled){if(o.action=!0,ee&&Array.isArray(le(r,j))){const _e=H(le(r,j),ie.argA,ie.argB);re&&Ct(r,j,_e)}if(ee&&Array.isArray(le(n.errors,j))){const _e=H(le(n.errors,j),ie.argA,ie.argB);re&&Ct(n.errors,j,_e),kle(n.errors,j)}if(u.touchedFields&&ee&&Array.isArray(le(n.touchedFields,j))){const _e=H(le(n.touchedFields,j),ie.argA,ie.argB);re&&Ct(n.touchedFields,j,_e)}u.dirtyFields&&(n.dirtyFields=gd(s,i)),h.state.next({name:j,isDirty:M(j,$),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ct(i,j,$)},b=(j,$)=>{Ct(n.errors,j,$),h.state.next({errors:n.errors})},C=j=>{n.errors=j,h.state.next({errors:n.errors,isValid:!1})},P=(j,$,H,ie)=>{const re=le(r,j);if(re){const ee=le(i,j,en(H)?le(s,j):H);en(ee)||ie&&ie.defaultChecked||$?Ct(i,j,$?ee:f0(re._f)):se(j,ee),o.mount&&_()}},O=(j,$,H,ie,re)=>{let ee=!1,_e=!1;const Ue={name:j};if(!t.disabled){const Be=!!(le(r,j)&&le(r,j)._f&&le(r,j)._f.disabled);if(!H||ie){u.isDirty&&(_e=n.isDirty,n.isDirty=Ue.isDirty=M(),ee=_e!==Ue.isDirty);const je=Be||No(le(s,j),$);_e=!!(!Be&&le(n.dirtyFields,j)),je||Be?wn(n.dirtyFields,j):Ct(n.dirtyFields,j,!0),Ue.dirtyFields=n.dirtyFields,ee=ee||u.dirtyFields&&_e!==!je}if(H){const je=le(n.touchedFields,j);je||(Ct(n.touchedFields,j,H),Ue.touchedFields=n.touchedFields,ee=ee||u.touchedFields&&je!==H)}ee&&re&&h.state.next(Ue)}return ee?Ue:{}},T=(j,$,H,ie)=>{const re=le(n.errors,j),ee=u.isValid&&as($)&&n.isValid!==$;if(t.delayError&&H?(l=v(()=>b(j,H)),l(t.delayError)):(clearTimeout(c),l=null,H?Ct(n.errors,j,H):wn(n.errors,j)),(H?!No(re,H):re)||!Sr(ie)||ee){const _e={...ie,...ee&&as($)?{isValid:$}:{},errors:n.errors,name:j};n={...n,..._e},h.state.next(_e)}},E=async j=>{x(j,!0);const $=await e.resolver(i,e.context,Ile(j||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return x(j),$},I=async j=>{const{errors:$}=await E(j);if(j)for(const H of j){const ie=le($,H);ie?Ct(n.errors,H,ie):wn(n.errors,H)}else n.errors=$;return $},R=async(j,$,H={valid:!0})=>{for(const ie in j){const re=j[ie];if(re){const{_f:ee,..._e}=re;if(ee){const Ue=a.array.has(ee.name),Be=re._f&&Ple(re._f);Be&&u.validatingFields&&x([ie],!0);const je=await oP(re,i,w,e.shouldUseNativeValidation&&!$,Ue);if(Be&&u.validatingFields&&x([ie]),je[ee.name]&&(H.valid=!1,$))break;!$&&(le(je,ee.name)?Ue?Tle(n.errors,je,ee.name):Ct(n.errors,ee.name,je[ee.name]):wn(n.errors,ee.name))}!Sr(_e)&&await R(_e,$,H)}}return H.valid},k=()=>{for(const j of a.unMount){const $=le(r,j);$&&($._f.refs?$._f.refs.every(H=>!h0(H)):!h0($._f.ref))&&Ne(j)}a.unMount=new Set},M=(j,$)=>!t.disabled&&(j&&$&&Ct(i,j,$),!No(fe(),s)),N=(j,$,H)=>z4(j,a,{...o.mount?i:en($)?s:Zs(j)?{[j]:$}:$},H,$),W=j=>Py(le(o.mount?i:s,j,t.shouldUnregister?le(s,j,[]):[])),se=(j,$,H={})=>{const ie=le(r,j);let re=$;if(ie){const ee=ie._f;ee&&(!ee.disabled&&Ct(i,j,Y4($,ee)),re=Yg(ee.ref)&&pr($)?"":$,q4(ee.ref)?[...ee.ref.options].forEach(_e=>_e.selected=re.includes(_e.value)):ee.refs?Jf(ee.ref)?ee.refs.length>1?ee.refs.forEach(_e=>(!_e.defaultChecked||!_e.disabled)&&(_e.checked=Array.isArray(re)?!!re.find(Ue=>Ue===_e.value):re===_e.value)):ee.refs[0]&&(ee.refs[0].checked=!!re):ee.refs.forEach(_e=>_e.checked=_e.value===re):aT(ee.ref)?ee.ref.value="":(ee.ref.value=re,ee.ref.type||h.values.next({name:j,values:{...i}})))}(H.shouldDirty||H.shouldTouch)&&O(j,re,H.shouldTouch,H.shouldDirty,!0),H.shouldValidate&&J(j)},ne=(j,$,H)=>{for(const ie in $){const re=$[ie],ee=`${j}.${ie}`,_e=le(r,ee);(a.array.has(j)||cn(re)||_e&&!_e._f)&&!Ja(re)?ne(ee,re,H):se(ee,re,H)}},Y=(j,$,H={})=>{const ie=le(r,j),re=a.array.has(j),ee=_r($);Ct(i,j,ee),re?(h.array.next({name:j,values:{...i}}),(u.isDirty||u.dirtyFields)&&H.shouldDirty&&h.state.next({name:j,dirtyFields:gd(s,i),isDirty:M(j,ee)})):ie&&!ie._f&&!pr(ee)?ne(j,ee,H):se(j,ee,H),tP(j,a)&&h.state.next({...n}),h.values.next({name:o.mount?j:void 0,values:{...i}})},z=async j=>{o.mount=!0;const $=j.target;let H=$.name,ie=!0;const re=le(r,H),ee=()=>$.type?f0(re._f):L4(j),_e=Ue=>{ie=Number.isNaN(Ue)||Ja(Ue)&&isNaN(Ue.getTime())||No(Ue,le(i,H,Ue))};if(re){let Ue,Be;const je=ee(),Yt=j.type===Qg.BLUR||j.type===Qg.FOCUS_OUT,wr=!Nle(re._f)&&!e.resolver&&!le(n.errors,H)&&!re._f.deps||Dle(Yt,le(n.touchedFields,H),n.isSubmitted,g,p),Rn=tP(H,a,Yt);Ct(i,H,je),Yt?(re._f.onBlur&&re._f.onBlur(j),l&&l(0)):re._f.onChange&&re._f.onChange(j);const Ft=O(H,je,Yt,!1),Or=!Sr(Ft)||Rn;if(!Yt&&h.values.next({name:H,type:j.type,values:{...i}}),wr)return u.isValid&&(t.mode==="onBlur"?Yt&&_():_()),Or&&h.state.next({name:H,...Rn?{}:Ft});if(!Yt&&Rn&&h.state.next({...n}),e.resolver){const{errors:Jr}=await E([H]);if(_e(je),ie){const io=lP(n.errors,r,H),gn=lP(Jr,r,io.name||H);Ue=gn.error,H=gn.name,Be=Sr(Jr)}}else x([H],!0),Ue=(await oP(re,i,w,e.shouldUseNativeValidation))[H],x([H]),_e(je),ie&&(Ue?Be=!1:u.isValid&&(Be=await R(r,!0)));ie&&(re._f.deps&&J(re._f.deps),T(H,Be,Ue,Ft))}},B=(j,$)=>{if(le(n.errors,$)&&j.focus)return j.focus(),1},J=async(j,$={})=>{let H,ie;const re=Zd(j);if(e.resolver){const ee=await I(en(j)?j:re);H=Sr(ee),ie=j?!re.some(_e=>le(ee,_e)):H}else j?(ie=(await Promise.all(re.map(async ee=>{const _e=le(r,ee);return await R(_e&&_e._f?{[ee]:_e}:_e)}))).every(Boolean),!(!ie&&!n.isValid)&&_()):ie=H=await R(r);return h.state.next({...!Zs(j)||u.isValid&&H!==n.isValid?{}:{name:j},...e.resolver||!j?{isValid:H}:{},errors:n.errors}),$.shouldFocus&&!ie&&eh(r,B,j?re:a.mount),ie},fe=j=>{const $={...o.mount?i:s};return en(j)?$:Zs(j)?le($,j):j.map(H=>le($,H))},he=(j,$)=>({invalid:!!le(($||n).errors,j),isDirty:!!le(($||n).dirtyFields,j),error:le(($||n).errors,j),isValidating:!!le(n.validatingFields,j),isTouched:!!le(($||n).touchedFields,j)}),Te=j=>{j&&Zd(j).forEach($=>wn(n.errors,$)),h.state.next({errors:j?n.errors:{}})},We=(j,$,H)=>{const ie=(le(r,j,{_f:{}})._f||{}).ref,re=le(n.errors,j)||{},{ref:ee,message:_e,type:Ue,...Be}=re;Ct(n.errors,j,{...Be,...$,ref:ie}),h.state.next({name:j,errors:n.errors,isValid:!1}),H&&H.shouldFocus&&ie&&ie.focus&&ie.focus()},at=(j,$)=>Di(j)?h.values.subscribe({next:H=>j(N(void 0,$),H)}):N(j,$,!0),Ne=(j,$={})=>{for(const H of j?Zd(j):a.mount)a.mount.delete(H),a.array.delete(H),$.keepValue||(wn(r,H),wn(i,H)),!$.keepError&&wn(n.errors,H),!$.keepDirty&&wn(n.dirtyFields,H),!$.keepTouched&&wn(n.touchedFields,H),!$.keepIsValidating&&wn(n.validatingFields,H),!e.shouldUnregister&&!$.keepDefaultValue&&wn(s,H);h.values.next({values:{...i}}),h.state.next({...n,...$.keepDirty?{isDirty:M()}:{}}),!$.keepIsValid&&_()},ce=({disabled:j,name:$,field:H,fields:ie,value:re})=>{if(as(j)&&o.mount||j){const ee=j?void 0:en(re)?f0(H?H._f:le(ie,$)._f):re;Ct(i,$,ee),O($,ee,!1,!1,!0)}},Pe=(j,$={})=>{let H=le(r,j);const ie=as($.disabled)||as(t.disabled);return Ct(r,j,{...H||{},_f:{...H&&H._f?H._f:{ref:{name:j}},name:j,mount:!0,...$}}),a.mount.add(j),H?ce({field:H,disabled:as($.disabled)?$.disabled:t.disabled,name:j,value:$.value}):P(j,!0,$.value),{...ie?{disabled:$.disabled||t.disabled}:{},...e.progressive?{required:!!$.required,min:vd($.min),max:vd($.max),minLength:vd($.minLength),maxLength:vd($.maxLength),pattern:vd($.pattern)}:{},name:j,onChange:z,onBlur:z,ref:re=>{if(re){Pe(j,$),H=le(r,j);const ee=en(re.value)&&re.querySelectorAll&&re.querySelectorAll("input,select,textarea")[0]||re,_e=Rle(ee),Ue=H._f.refs||[];if(_e?Ue.find(Be=>Be===ee):ee===H._f.ref)return;Ct(r,j,{_f:{...H._f,..._e?{refs:[...Ue.filter(h0),ee,...Array.isArray(le(s,j))?[{}]:[]],ref:{type:ee.type,name:j}}:{ref:ee}}}),P(j,!1,void 0,ee)}else H=le(r,j,{}),H._f&&(H._f.mount=!1),(e.shouldUnregister||$.shouldUnregister)&&!(V4(a.array,j)&&o.action)&&a.unMount.add(j)}}},He=()=>e.shouldFocusError&&eh(r,B,a.mount),pe=j=>{as(j)&&(h.state.next({disabled:j}),eh(r,($,H)=>{const ie=le(r,H);ie&&($.disabled=ie._f.disabled||j,Array.isArray(ie._f.refs)&&ie._f.refs.forEach(re=>{re.disabled=ie._f.disabled||j}))},0,!1))},$e=(j,$)=>async H=>{let ie;H&&(H.preventDefault&&H.preventDefault(),H.persist&&H.persist());let re=_r(i);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:ee,values:_e}=await E();n.errors=ee,re=_e}else await R(r);if(wn(n.errors,"root"),Sr(n.errors)){h.state.next({errors:{}});try{await j(re,H)}catch(ee){ie=ee}}else $&&await $({...n.errors},H),He(),setTimeout(He);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Sr(n.errors)&&!ie,submitCount:n.submitCount+1,errors:n.errors}),ie)throw ie},Oe=(j,$={})=>{le(r,j)&&(en($.defaultValue)?Y(j,_r(le(s,j))):(Y(j,$.defaultValue),Ct(s,j,_r($.defaultValue))),$.keepTouched||wn(n.touchedFields,j),$.keepDirty||(wn(n.dirtyFields,j),n.isDirty=$.defaultValue?M(j,_r(le(s,j))):M()),$.keepError||(wn(n.errors,j),u.isValid&&_()),h.state.next({...n}))},yt=(j,$={})=>{const H=j?_r(j):s,ie=_r(H),re=Sr(j),ee=re?s:ie;if($.keepDefaultValues||(s=H),!$.keepValues){if($.keepDirtyValues){const _e=new Set([...a.mount,...Object.keys(gd(s,i))]);for(const Ue of Array.from(_e))le(n.dirtyFields,Ue)?Ct(ee,Ue,le(i,Ue)):Y(Ue,le(ee,Ue))}else{if(rT&&en(j))for(const _e of a.mount){const Ue=le(r,_e);if(Ue&&Ue._f){const Be=Array.isArray(Ue._f.refs)?Ue._f.refs[0]:Ue._f.ref;if(Yg(Be)){const je=Be.closest("form");if(je){je.reset();break}}}}r={}}i=t.shouldUnregister?$.keepDefaultValues?_r(s):{}:_r(ee),h.array.next({values:{...ee}}),h.values.next({values:{...ee}})}a={mount:$.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!$.keepIsValid||!!$.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:$.keepSubmitCount?n.submitCount:0,isDirty:re?!1:$.keepDirty?n.isDirty:!!($.keepDefaultValues&&!No(j,s)),isSubmitted:$.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:re?{}:$.keepDirtyValues?$.keepDefaultValues&&i?gd(s,i):n.dirtyFields:$.keepDefaultValues&&j?gd(s,j):$.keepDirty?n.dirtyFields:{},touchedFields:$.keepTouched?n.touchedFields:{},errors:$.keepErrors?n.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},qe=(j,$)=>yt(Di(j)?j(i):j,$);return{control:{register:Pe,unregister:Ne,getFieldState:he,handleSubmit:$e,setError:We,_executeSchema:E,_getWatch:N,_getDirty:M,_updateValid:_,_removeUnmounted:k,_updateFieldArray:y,_updateDisabledField:ce,_getFieldArray:W,_reset:yt,_resetDefaultValues:()=>Di(e.defaultValues)&&e.defaultValues().then(j=>{qe(j,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:j=>{n={...n,...j}},_disableForm:pe,_subjects:h,_proxyFormState:u,_setErrors:C,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(j){o=j},get _defaultValues(){return s},get _names(){return a},set _names(j){a=j},get _formState(){return n},set _formState(j){n=j},get _options(){return e},set _options(j){e={...e,...j}}},trigger:J,register:Pe,handleSubmit:$e,watch:at,setValue:Y,getValues:fe,reset:qe,resetField:Oe,clearErrors:Te,unregister:Ne,setError:We,setFocus:(j,$={})=>{const H=le(r,j),ie=H&&H._f;if(ie){const re=ie.refs?ie.refs[0]:ie.ref;re.focus&&(re.focus(),$.shouldSelect&&re.select())}},getFieldState:he}}function Zf(t={}){const e=Re.useRef(),n=Re.useRef(),[r,s]=Re.useState({isDirty:!1,isValidating:!1,isLoading:Di(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Di(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Ole(t),formState:r});const i=e.current.control;return i._options=t,oT({subject:i._subjects.state,next:o=>{B4(o,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),Re.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Re.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),Re.useEffect(()=>{t.values&&!No(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),Re.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),Re.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),Re.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),Re.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=U4(r,i),e.current}const jle=({currentName:t,isOpen:e,setDialogState:n,onRenameKnowledge:r,isLoading:s})=>{const{register:i,reset:o,handleSubmit:a,formState:{errors:l,isSubmitted:c}}=Zf({defaultValues:{newKnowledgeBaseName:t}}),u=async p=>{await r(p.newKnowledgeBaseName),h()},h=(p=void 0)=>{n(p??!1),o({}),setTimeout(()=>{p||(document.body.style.pointerEvents="")},100)};return d.jsx(Yf,{open:e,onOpenChange:p=>{h(p)},children:d.jsxs(Vu,{className:"sm:max-w-[425px]",children:[d.jsxs(Fu,{children:[d.jsx(Uu,{className:"text-2xl font-bold",children:"Rename Knowledge Base"}),d.jsx(Xf,{children:"Enter a new name for the knowledge base to update its name."})]}),d.jsxs("form",{onSubmit:a(u),className:"text-sm space-y-2",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx(Tn,{htmlFor:"current-password",children:"Knowledge Base Name"}),d.jsx(Lt,{placeholder:"Enter new knowledge base name",...i("newKnowledgeBaseName",{required:"Please enter a new Knowledge Base name",minLength:{value:4,message:"Knowledge base name must be atleast 4 characters"}})}),c&&l.newKnowledgeBaseName&&d.jsx("p",{className:"text-red-500",children:l.newKnowledgeBaseName.message})]}),d.jsx(Iy,{children:d.jsx(Xe,{type:"submit",className:"w-40",children:s?d.jsx(Aa,{}):"Rename"})})]})]})})},Lle=({onTabChange:t})=>{const e=Ra(),n=Bs(),{handleFilterChange:r,filter:s}=FF(),i=ut(R=>R.admin),o=Ht(R=>R.selectedKnowledgeBaseItem),a=Ht(R=>R.setSelectedKnowledgeBaseItem),l=Ht(R=>R.selectedKnowledgeBaseName),c=Ht(R=>R.setSelectedKnowledgeBaseName),u=Ht(R=>R.setSelectedKnowledgeEntry),h=ms(R=>R.openModal),p=ms(R=>R.setMode),g=vt(R=>R.clearFormData),w=Qr(R=>R.dialogs),v=Qr(R=>R.setDialogState),{data:_,isLoading:x}=Vl({queryFn:()=>Doe(),queryKey:Jd}),{mutateAsync:y}=Rr({mutationFn:Voe,onSuccess:()=>{e.invalidateQueries({queryKey:Jd}),e.invalidateQueries({queryKey:Kg}),n({title:`Knowledge Base ${o} deleted`,description:tt()})},onError:R=>{n({title:R==null?void 0:R.message,description:tt(),variant:"destructive"}),pt(R.message||"An Unexpected error occured while deleting knowledge base")}}),{mutateAsync:b,isPending:C}=Rr({mutationFn:Loe,onSuccess:R=>{e.invalidateQueries({queryKey:Jd}),n({title:R,description:tt()})},onError:R=>{n({title:R==null?void 0:R.message,description:tt(),variant:"destructive"}),pt(R.message||"An Unexpected error occured while deleting knowledge base")}}),P=m.useMemo(()=>_==null?void 0:_.filter(R=>R.name.toLowerCase().includes(s.toLowerCase())),[_,s]),O=async()=>{if(!o)throw new Error("No knowledge base selected cannot delete");await y(o),a(""),l&&l===o&&(c(""),u(null))},T=async R=>{try{if(!o)throw new Error("No selected knowledge base");await b({knowledgeBaseName:o,newKnowledgeBaseName:R}),l&&l===o&&c(R)}catch(k){if(k instanceof Error){pt(k.message,!0);return}console.error("Am umexpected error occured: ",k)}},E=R=>{g(),p(R),h()},I=vc.base(o);return x?d.jsx(VF,{}):_?d.jsxs(sy,{value:"knowledgeBase",className:"mt-2",children:[d.jsxs("div",{className:"h-[450px] md:h-[600px] w-full px-4 pb-4 flex flex-col overflow-y-auto scrollbar-slim",children:[d.jsxs("div",{className:"flex mb-2 space-x-4 sticky top-0",children:[d.jsx(Lt,{className:"flex-grow outline-none focus:outline-none",placeholder:"Search knowledge base...",onChange:R=>r(R.target.value)}),(i==null?void 0:i.role)!=="viewer"&&d.jsx(LF,{label:"Add Knowledge Base",onButtonClick:()=>E("BASE")})]}),_.length===0?d.jsxs("div",{className:"flex-1 flex flex-col justify-center items-center",children:[d.jsx("div",{className:"h-20 w-20 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:d.jsx(xM,{className:"h-10 w-10 text-primary"})}),d.jsx("h2",{className:"text-lg font-semibold mb-2",children:"No knowledge bases"}),d.jsx("p",{className:"text-sm text-center text-muted-foreground mb-6 max-w-md whitespace-pre-line",children:"Create a knowledge base to enhance your bot's knowledge and responsiveness."})]}):d.jsx(gle,{knowledgeBaseNameList:P,handleTabChange:t})]}),w.showConfirmDeleteKnowledgeBaseDialog&&d.jsx(Xa,{title:I.title,description:I.description,isOpen:w.showConfirmDeleteKnowledgeBaseDialog,setDialogState:R=>v("showConfirmDeleteKnowledgeBaseDialog",R),onDelete:O,isDestructive:!0}),w.showRenameKnowledgeBaseDialog&&d.jsx(jle,{currentName:o,isOpen:w.showRenameKnowledgeBaseDialog,setDialogState:R=>v("showRenameKnowledgeBaseDialog",R),onRenameKnowledge:T,isLoading:C})]}):d.jsx(KS,{heading:"Empty Knowledge Base",description:"No knowledge base found"})},Vle=()=>{const t=ji(n=>n.currentSelectedKnowledgeTab),e=ji(n=>n.setCurrentSelectedKnowledgeTab);return d.jsxs(s2,{value:t,onValueChange:n=>e(n),className:"w-full p-0 border-neutral-200 bg-white border shadow-sm text-sm md:text-base rounded-md overflow-hidden box-border",children:[d.jsx(Hee,{tabs:Kee}),t==="knowledgeBase"&&d.jsx(Lle,{onTabChange:e}),t==="knowledgeEntry"&&d.jsx(ple,{onTabChange:e}),t==="entryDetails"&&d.jsx(Koe,{})]})},ki=ro((t,e)=>({currentStep:1,totalStep:3,nextStep:()=>{e().currentStep!==e().totalStep&&t(n=>({currentStep:n.currentStep+1}))},prevStep:()=>{e().currentStep!==1&&t(n=>({currentStep:n.currentStep-1}))},setTotalStep:n=>{if(n==="BASE")return t(()=>({totalStep:3}));t(()=>({totalStep:2}))},resetCurrentStep:()=>{t(()=>({currentStep:1}))}})),Fle=({progressData:t})=>{const e=ki(s=>s.totalStep),n=ki(s=>s.currentStep),r=(n-1)/(e-1)*100;return d.jsxs("div",{className:"mt-4 mb-8",children:[d.jsx("div",{className:"flex justify-between mb-2",children:[...Array(e)].map((s,i)=>d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${n>=i+1?"bg-lightGray text-htext":"bg-lightGray-darker text-muted-foreground"}`,children:i+1}),d.jsx("span",{className:"text-xs mt-1",children:t[i+1]})]},i))}),d.jsx("div",{className:"h-2 bg-muted rounded-full",children:d.jsx("div",{className:"h-full bg-blue-600 rounded-full transition-all duration-300 ease-in-out",style:{width:`${r}%`}})})]})},th=({errorMessage:t})=>d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(AM,{className:"text-destructive size-5",strokeWidth:1.5}),d.jsx("div",{className:"text-destructive text-sm",children:t})]}),Ule=()=>{const{knowledgeBaseName:t}=vt(r=>r.formData),{knowledgeBaseName:e}=vt(r=>r.formDataErrors),n=vt(r=>r.setFormData);return d.jsx("div",{className:"space-y-1",children:d.jsxs(d.Fragment,{children:[d.jsx("label",{htmlFor:"knowledgeBaseName",className:"block text-sm font-medium",children:"Knowledge Base Name"}),d.jsx(Lt,{name:"knowledgeBaseName",placeholder:"Enter knowledge base name",value:t,className:ue(e&&"border-destructive"),onChange:r=>n(r.target.name,r.target.value),maxLength:Fh}),e&&d.jsx(th,{errorMessage:e})]})})},cP=()=>{const{intent:t,documents:e,answer:n}=vt(C=>C.formData),{intent:r,documents:s,answer:i}=vt(C=>C.formDataErrors),o=vt(C=>C.setDocuments),a=vt(C=>C.removeDocument),l=vt(C=>C.setFormData),c=vt(C=>C.addDocument),u=Ht(C=>C.selectedKnowledgeBaseName),h=ms(C=>C.modalMode),{file:p,isLinkDialogOpen:g,setIsLinkDialogOpen:w,handleFileChange:v,handleInsertLink:_,handleRemoveFile:x,fileInputRef:y,answerTextAreaRef:b}=_F(n);return m.useEffect(()=>{h==="ENTRY"&&l("knowledgeBaseName",u)},[]),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-1.5",children:[d.jsx(Tn,{children:"Intent"}),d.jsx(Lt,{placeholder:"Enter the intent",value:t,className:ue(r&&"border-destructive"),onChange:C=>l("intent",C.target.value),tabIndex:1,maxLength:Fh}),r&&d.jsx(th,{errorMessage:r})]}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsx(Tn,{children:"Documents"}),e.map((C,P)=>d.jsxs("div",{className:"flex",children:[d.jsx(Lt,{placeholder:`Enter document ${P+1}`,className:ue("rounded-none border-r-0",s&&"border-destructive"),value:C,onChange:O=>o(O.target.value,P),tabIndex:2,maxLength:Fh},P),d.jsx(ln,{className:"rounded-none h-[40px] border-l-0",children:d.jsxs(Xe,{type:"button",variant:"ghost",size:"icon",onClick:()=>a(P),className:"hover:bg-transparent border-none",children:[d.jsx(Su,{className:"h-4 w-4 text-gray-500 hover:text-gray-700"}),d.jsx("span",{className:"sr-only",children:"Remove document"})]})})]},P)),s&&d.jsx(th,{errorMessage:s}),d.jsxs(Xe,{variant:"outline",onClick:c,className:"w-full",children:[d.jsx(bu,{className:"mr-2 h-4 w-4"})," Add Document"]})]}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsx(Tn,{children:"Answer"}),d.jsx(S2,{answer:n,handleTextChange:l,onFileChange:v,fileRef:y,textAreaRef:b,isError:!!i,isLinkDropDownVisible:g,setIsLinkDropDownVisible:w,onInsertLink:_,tabIndex:3}),i&&d.jsx(th,{errorMessage:i})]}),p&&d.jsx(T2,{file:p,removeFile:x})]})},Ble=({file:t})=>d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:"File Details:"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:t.name})]}),uP=()=>{const{knowledgeBaseName:t,intent:e,documents:n,answer:r,file:s}=vt(i=>i.formData);return d.jsxs("div",{className:"space-y-4 break-words",children:[d.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Review Your Entry"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:"Knowledge Base Name:"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:"Intent:"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:e})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:"Documents:"}),d.jsx("ul",{className:"list-disc pl-5 text-sm text-muted-foreground",children:n.map((i,o)=>d.jsx("li",{children:i},o))})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:"Answer:"}),d.jsx("p",{className:"text-sm text-muted-foreground line-clamp-4 whitespace-pre-wrap leading-relaxed",children:r})]}),s&&d.jsx(Ble,{file:s})]})},$le=()=>{const t=ki(r=>r.currentStep),e=ms(r=>r.modalMode),n=()=>({1:{BASE:d.jsx(Ule,{}),ENTRY:d.jsx(cP,{})},2:{BASE:d.jsx(cP,{}),ENTRY:d.jsx(uP,{})},3:{BASE:d.jsx(uP,{})}})[t][e]||d.jsx(d.Fragment,{children:"No Modal Section"});return d.jsx(d.Fragment,{children:n()})},zle=()=>{const t=Bs(),e=Ra(),n=ms(l=>l.closeModal),[r,s]=m.useState(!1),{mutateAsync:i}=Rr({mutationFn:l=>Moe(l),onSuccess:()=>{e.invalidateQueries({queryKey:Jd}),t({title:"Knowledge Base saved successfully.",description:tt()})},onError:l=>{t({title:l.message,description:tt(),variant:"destructive"})}}),{mutateAsync:o}=Rr({mutationFn:l=>Ooe(l),onSuccess:()=>{e.invalidateQueries({queryKey:Lm}),t({title:"Knowledge Entry saved successfully.",description:tt()})},onError:l=>{t({title:l.message,description:tt(),variant:"destructive"})}});return{handleSubmitForm:async(l,c)=>{try{s(!0);let u=null;l.file&&(u=await jm(l.file)),c==="BASE"?await i(u?{...l,fileUrl:u}:l):await o(u?{...l,fileUrl:u}:l)}catch(u){if(u instanceof Error){if(u.message.includes("E11000"))return;t({title:u.message,description:tt(),variant:"destructive"})}else console.error("Unknown error type:",u),t({title:"An unknown error occurred",description:tt(),variant:"destructive"})}finally{s(!1),n()}},isLoading:r}},Kle=(t,e)=>{const n={};return t===1&&(e.knowledgeBaseName.trim()||(n.knowledgeBaseName="Knowledge Base Name is required")),t===2&&(e.intent.trim()||(n.intent="Intent is required"),e.documents.some(s=>s.trim()==="")&&(n.documents="Document is required"),e.answer.trim()||(n.answer="Answer is required")),{isValid:Object.keys(n).length===0,errors:n}},Wle=()=>{const{handleSubmitForm:t,isLoading:e}=zle(),n=ms(u=>u.modalMode),r=vt(u=>u.formData),s=ki(u=>u.currentStep),i=ki(u=>u.totalStep),o=ki(u=>u.nextStep),a=ki(u=>u.prevStep),l=vt(u=>u.setFormDataErrors),c=()=>{const{isValid:u,errors:h}=Kle(n==="BASE"?s:s+1,r);if(!u){l(h);return}l({}),o()};return d.jsxs("div",{className:"flex justify-between items-center mt-6",children:[d.jsx("div",{}),d.jsxs("div",{className:"flex ",children:[s>1&&d.jsxs(Xe,{variant:"outline",onClick:a,className:"mr-2",children:[d.jsx(YH,{className:"mr-2 h-4 w-4"})," Back"]}),s<i?d.jsxs(Xe,{onClick:c,children:["Next ",d.jsx(yM,{className:"ml-2 h-4 w-4"})]}):d.jsx(Xe,{className:"w-52",onClick:async()=>{t(r,n)},children:e?d.jsx(Aa,{}):"Save Knowledge Base"})]})]})},Hle=()=>{const t=vt(a=>a.clearFormData),e=ms(a=>a.isModalVisible),n=ms(a=>a.modalMode),r=ms(a=>a.closeModal),s=ki(a=>a.setTotalStep),i=ki(a=>a.resetCurrentStep),o=n==="BASE"?hle:fle;return m.useEffect(()=>(s(n),()=>{t(),i()}),[s]),d.jsx(Yf,{open:e,onOpenChange:r,children:d.jsxs(Vu,{className:"sm:max-w-[550px]",children:[d.jsxs(Fu,{children:[d.jsx(Uu,{className:"text-2xl font-bold",children:"Create New Knowledge Base"}),d.jsx(Xf,{children:"Fill in the details to create a new knowledge base."})]}),d.jsx(Fle,{progressData:o}),d.jsx(ln,{children:d.jsx(pn,{className:"pt-6 max-h-[30rem] max-w-[498px] overflow-y-scroll",children:d.jsx($le,{})})}),d.jsx(Wle,{})]})})},qle=()=>{const t=ms(e=>e.isModalVisible);return d.jsxs("div",{className:"flex items-center flex-col w-[84rem] px-20 space-y-6 pb-8",children:[d.jsx(Lee,{}),d.jsx(Vle,{}),t&&d.jsx(Hle,{})]})},bt=ro(t=>({botName:"",errors:{botName:""},interactionIcon:null,interactionIconPreview:"",widgetIcon:null,widgetIconPreview:"",metadata:[],setBotName:e=>{t(()=>({botName:e}))},setErrors:(e,n)=>{t(r=>({errors:{...r.errors,[e]:n}}))},setInteractionIcon:e=>{t(()=>({interactionIcon:e}))},setInteractionIconPreview:e=>{t(()=>({interactionIconPreview:e}))},setWidgetIcon:e=>{t(()=>({widgetIcon:e}))},setWidgetIconPreview:e=>{t(()=>({widgetIconPreview:e}))},setMetadata:e=>{t(()=>({metadata:e}))}})),Gle=({inputRef:t})=>{const e=ut(a=>a.admin),n=bt(a=>a.botName),r=bt(a=>a.setBotName),s=bt(a=>a.errors),i=bt(a=>a.setErrors),o=a=>{r(a),a?i("botName",""):i("botName","Bot name field is required")};return d.jsxs("section",{className:"space-y-2",children:[d.jsx(Tn,{htmlFor:"botName",className:"text-base font-medium",children:"Bot Name"}),d.jsx(Lt,{id:"botName",ref:t,type:"text",value:n,onChange:a=>o(a.target.value),className:ue("w-full",s.botName&&"border-destructive"),readOnly:(e==null?void 0:e.role)==="viewer"}),s.botName&&d.jsx(th,{errorMessage:s.botName})]})},Qle=()=>{const t=Bs();return{handleIconChange:(r,s,i,o,a=0)=>{if(r.target.files&&r.target.files[0]){const l=r.target.files[0];if(!o.includes(l.type)){const u=o.map(h=>h.split("/")[1]);t({title:`Only the following file formats are supported: ${u.join(", ")}.`,description:tt(),variant:"destructive"}),r.target.value="";return}if(a>0&&l.size>a){const u=a/1048576;t({title:`File size exceeds the maximum limit of ${u.toFixed(0)} MB.`,description:tt(),variant:"destructive"}),r.target.value="";return}s(l);const c=new FileReader;c.onload=u=>{var h;i((h=u.target)==null?void 0:h.result)},c.readAsDataURL(l)}},handleRemoveIcon:(r,s,i)=>{s(null),i(null),r.current&&(r.current.value="")}}},ks="https://firebasestorage.googleapis.com/v0/b/cob-chatbot.appspot.com/o/image%2Fdefault-icon.png?alt=media&token=7d708bba-dcf2-47a0-b81b-3ac8d0e02648",Yle=async(t,e,n,r=[])=>{try{const s=bt.getState().interactionIconPreview,i=bt.getState().widgetIconPreview,o=bt.getState().setInteractionIcon,a=bt.getState().setWidgetIcon,l=r.reduce((h,p)=>({...h,[p.key]:p.value}),{}),c={botName:n,metadata:l,interactionIconURL:s??ks,widgetIconUrl:i??ks};t&&(c.interactionIconURL=await h_(t,$I,"interaction-icon")??ks,o(null)),e&&(console.time("Upload Time"),c.widgetIconUrl=await h_(e,$I,"widget-icon")??ks,a(null),console.timeEnd("Upload Time")),await yF("profile","botProfile",c,!1),pt("Upload bot profile success")}catch(s){console.error(s)}},X4=({iconRef:t,setIcon:e,setIconPreview:n,iconPreview:r,acceptedFormat:s,maxIconSize:i=0})=>{const o=s.split(",").map(c=>`image/${c.slice(1)}`),{handleIconChange:a,handleRemoveIcon:l}=Qle();return d.jsxs("div",{className:"flex items-center ",children:[d.jsx(Lt,{id:"widget-icon-upload",type:"file",className:"hidden",ref:t,accept:s,onChange:c=>a(c,e,n,o,i)}),d.jsx(Xe,{type:"button",variant:"outline",size:"sm",onClick:()=>{var c;return(c=t.current)==null?void 0:c.click()},children:r&&r!==ks?d.jsxs("span",{className:"flex items-center text-sm gap-2",children:[d.jsx(oR,{className:"size-5"}),"Change Icon"]}):d.jsxs("span",{className:"flex items-center text-sm gap-2",children:[d.jsx(oR,{className:"size-5"}),"Upload Icon"]})}),r&&r!==ks&&d.jsx(Xe,{type:"button",variant:"ghost",size:"sm",className:"ml-2",onClick:()=>l(t,e,n),children:"Remove"})]})},J4=2*1024*1024,Xle=J4/(1024*1024),Jle=()=>{const t=bt(i=>i.setInteractionIcon),e=bt(i=>i.setInteractionIconPreview),n=bt(i=>i.interactionIconPreview),r=m.useRef(null),s=ut(i=>i.admin);return d.jsxs("section",{className:"space-y-2 min-w-[327px]",children:[d.jsx(Tn,{htmlFor:"botName",className:"text-base font-medium",children:"Interaction Icon"}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"group relative size-[70px] rounded-full *:flex items-center justify-center cursor-pointer border border-neutral-200 bg-gray-100 overflow-hidden transition-transform duration-200 ease-in-out hover:scale-105",children:[n&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"size-full bg-black absolute opacity-0 group-hover:opacity-20 transition-opacity duration-200"}),d.jsx("img",{src:n,className:"size-full object-cover rounded-full",alt:"Interaction Icon Preview"}),d.jsx("div",{className:"size-full bg-black absolute opacity-0 group-hover:opacity-20 transition-opacity duration-200"})]}),!n&&d.jsx("img",{src:ks,className:"size-full object-cover rounded-full",alt:"Default Bot Icon"})]}),(s==null?void 0:s.role)!=="viewer"&&d.jsxs("div",{className:"space-y-2",children:[d.jsx(X4,{iconRef:r,setIcon:t,setIconPreview:e,iconPreview:n,acceptedFormat:".png,.jpeg",maxIconSize:J4}),d.jsx("p",{className:"text-sm text-muted-foreground",children:`PNG or JPG only. Max file size: ${Xle.toFixed(0)} MB.`})]})]})]})},Z4=6*1024*1024,Zle=Z4/(1024*1024),ece=()=>{const t=bt(i=>i.setWidgetIcon),e=bt(i=>i.widgetIconPreview),n=bt(i=>i.setWidgetIconPreview),r=m.useRef(null),s=ut(i=>i.admin);return d.jsxs("section",{className:"space-y-2 min-w-[327px]",children:[d.jsx(Tn,{htmlFor:"botName",className:"text-base font-medium",children:"Widget Icon"}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"group relative size-[70px] rounded-full *:flex items-center justify-center cursor-pointer border border-neutral-200 bg-gray-100 overflow-hidden transition-transform duration-200 ease-in-out hover:scale-105",children:[e&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"size-full bg-black absolute opacity-0 group-hover:opacity-20 transition-opacity duration-200"}),d.jsx("img",{src:e,className:"size-full object-cover rounded-full"})]}),!e&&d.jsx("img",{src:ks,className:"size-full object-cover rounded-full"})]}),(s==null?void 0:s.role)!=="viewer"&&d.jsxs("div",{className:"space-y-2",children:[d.jsx(X4,{iconRef:r,setIcon:t,setIconPreview:n,iconPreview:e,acceptedFormat:".png,.jpg,.gif",maxIconSize:Z4}),d.jsx("p",{className:"text-sm text-muted-foreground",children:`PNG, JPEG OR GIF only. Max file size: ${Zle.toFixed(0)} MB.`})]})]})]})},tce=({botNameInputRef:t})=>d.jsxs("form",{className:"space-y-4",children:[d.jsx(Gle,{inputRef:t}),d.jsxs("div",{className:"flex items-center space-x-14 py-2",children:[d.jsx(Jle,{}),d.jsx(ece,{})]})]}),nce=({handleCloseChatbox:t})=>{const e=bt(r=>r.botName),n=bt(r=>r.interactionIconPreview);return d.jsx("section",{children:d.jsxs("div",{className:"bg-white h-[24rem] rounded-lg shadow-lg p-4 max-w-sm mx-auto flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[n?d.jsx("img",{src:n,alt:"interaction-icon-preview",className:"w-11 h-11 object-cover rounded-full"}):d.jsx("img",{src:ks,alt:"interaction-icon-preview",className:"w-11 h-11 object-cover rounded-full"}),d.jsx("span",{className:"text-sm font-medium text-gray-700",children:e||"Chatbot"})]}),d.jsx("div",{className:"cursor-pointer hover:scale-110 transition-transform",onClick:t,children:d.jsx(Tf,{className:"w-5 h-5 text-gray-500"})})]}),d.jsx("div",{className:"flex-1"}),d.jsx("div",{className:" rounded-lg py-3 mb-4",children:d.jsxs("div",{className:"flex items-center",children:[n?d.jsx("img",{src:n,alt:"interaction-icon-preview",className:"w-10 h-10 object-cover rounded-full"}):d.jsx("img",{src:ks,alt:"interaction-icon-preview",className:"w-10 h-10 object-cover rounded-full"}),d.jsx("p",{className:"ml-2 text-sm text-gray-700 bg-gray-100 p-2.5 rounded-xl",children:"Hi! What can I help you with?"})]})}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{disabled:!0,type:"text",placeholder:"Message...",className:"flex-grow h-10 px-3 py-2 text-sm border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),d.jsx("div",{className:"h-10 px-3 py-2 bg-blue-500 text-white rounded-r-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 flex items-center justify-center",children:d.jsx(TM,{className:"w-5 h-5"})})]})]})})},rce=()=>{const[t,e]=m.useState(!1),n=bt(r=>r.widgetIconPreview);return d.jsx("section",{children:d.jsx("div",{className:"border h-[28rem] border-gray-300 rounded-lg p-4 bg-gray-50 mb-2",style:{backgroundImage:"radial-gradient(#d1d5db 1px, transparent 1px)",backgroundSize:"20px 20px"},children:d.jsx("div",{className:"h-full flex justify-end items-end",children:t?d.jsx(nce,{handleCloseChatbox:()=>e(!1)}):d.jsx("div",{className:"size-[14rem] flex items-center justify-center",onClick:()=>e(!0),children:n?d.jsx("img",{src:n,alt:"Widget icon preview",className:"cursor-pointer"}):d.jsx("img",{src:ks,alt:"Widget icon preview",className:"cursor-pointer"})})})})})},sce=()=>{const t=bt(o=>o.metadata),e=bt(o=>o.setMetadata),n=ut(o=>o.admin),r=()=>{const o={id:Date.now().toString(),key:"",value:""};e([...t,o])},s=(o,a,l)=>{const c=t.map(u=>u.id===o?{...u,[a]:l}:u);e(c)},i=o=>{const a=t.filter((l,c)=>c!==o);e(a)};return d.jsxs("div",{className:"space-y-4",children:[t.map((o,a)=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Lt,{placeholder:"Key",value:o.key,onChange:l=>s(o.id,"key",l.target.value),className:"flex-1",readOnly:(n==null?void 0:n.role)==="viewer"}),d.jsx(Lt,{placeholder:"Value",value:o.value,onChange:l=>s(o.id,"value",l.target.value),className:"flex-1",readOnly:(n==null?void 0:n.role)==="viewer"}),(n==null?void 0:n.role)!=="viewer"&&d.jsx(Xe,{type:"button",variant:"ghost",size:"icon",className:"hover:text-red-600",onClick:()=>i(a),children:d.jsx(Su,{className:"size-5 transition-transform ease-in"})})]},a)),(n==null?void 0:n.role)!=="viewer"&&d.jsxs(Xe,{type:"button",variant:"outline",size:"sm",onClick:r,className:"mt-2",children:[d.jsx(bu,{className:"size-5 mr-2"}),"Add Field"]})]})},ice=async()=>await wF("profile","botProfile"),oce=()=>{const t=Bs(),e=bt(_=>_.interactionIcon),n=bt(_=>_.setInteractionIconPreview),r=bt(_=>_.widgetIcon),s=bt(_=>_.setWidgetIconPreview),i=bt(_=>_.botName),o=bt(_=>_.setBotName),a=bt(_=>_.setErrors),l=bt(_=>_.metadata),c=bt(_=>_.setMetadata),[u,h]=m.useState(!1),[p,g]=m.useState(!0),w=m.useRef(null);return m.useEffect(()=>((async()=>{g(!0);const x=await ice();if(!x)return;o(x.botName),n(x.interactionIconURL),s(x.widgetIconUrl);const y=VQ(x.metadata);c(y),g(!1)})(),()=>{a("botName","")}),[]),{isLoading:u,handleSubmitForm:async()=>{var x;if(!i.trim()){a("botName","Bot name field is required"),(x=w.current)==null||x.scrollIntoView({behavior:"smooth",block:"center"});return}try{h(!0),await Yle(e,r,i,l),h(!1),t({title:"Bot profile has been successfully updated",description:tt()})}catch(y){y instanceof Error&&t({title:y.message,description:tt(),variant:"destructive"}),console.error("Unexpected error occured ",y)}},isPageLoading:p,botNameInputRef:w}},ace=()=>{const t=ut(e=>e.admin);return d.jsxs("section",{className:"flex-1 flex-col space-y-4 pb-8",children:[d.jsxs(ln,{children:[d.jsxs(Mn,{children:[d.jsx(On,{children:"Bot Profile"}),d.jsx(pi,{children:(t==null?void 0:t.role)!=="viewer"?"View and manage bot's profile details and icons.":"View bot's profile information and icons."})]}),d.jsx(pn,{children:d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx(Se,{className:"h-4 w-16"}),d.jsx(Se,{className:"h-10 w-full mb-3"}),d.jsx(Se,{className:"h-4 w-24"}),d.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[d.jsx(Se,{className:"size-[64px] rounded-full"}),d.jsx(Se,{className:"h-9 w-36"}),d.jsx(Se,{className:"h-9 w-36"})]}),d.jsx(Se,{className:"h-4 w-24"}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx(Se,{className:"size-[64px] rounded-full"}),d.jsx(Se,{className:"h-9 w-36"}),d.jsx(Se,{className:"h-9 w-36"})]})]})})]}),d.jsxs(ln,{children:[d.jsx(Mn,{children:d.jsx(On,{children:"Additional Information"})}),d.jsxs(pn,{children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[d.jsx(Se,{className:"flex-1 h-10"}),d.jsx(Se,{className:"flex-1 h-10"}),d.jsx(Se,{className:"w-10 h-10"})]}),d.jsx(Se,{className:"h-9 w-36"})]})]}),d.jsxs(ln,{children:[d.jsx(Mn,{children:d.jsx(On,{children:"Preview"})}),d.jsx(pn,{children:d.jsx(Se,{className:"h-[28rem] w-full mb-2"})})]}),d.jsx(Se,{className:"bg-blue-200 h-10 w-full"})]})},lce=()=>{const{isLoading:t,handleSubmitForm:e,isPageLoading:n,botNameInputRef:r}=oce(),s=ut(i=>i.admin);return n?d.jsx(ace,{}):d.jsxs("section",{className:"flex-1 flex-col space-y-4 pb-8 relative",children:[d.jsxs(ln,{children:[d.jsxs(Mn,{children:[d.jsx(On,{children:"Bot Profile"}),d.jsx(pi,{children:(s==null?void 0:s.role)!=="viewer"?"View and manage bot's profile details and icons.":"View bot's profile information and icons."})]}),d.jsx(pn,{children:d.jsx(tce,{botNameInputRef:r})})]}),d.jsxs(ln,{children:[d.jsx(Mn,{children:d.jsx(On,{children:"Additional Information"})}),d.jsx(pn,{children:d.jsx(sce,{})})]}),d.jsxs(ln,{children:[d.jsx(Mn,{children:d.jsx(On,{children:"Preview"})}),d.jsx(pn,{children:d.jsx(rce,{})})]}),(s==null?void 0:s.role)!=="viewer"&&d.jsx("footer",{className:"mt-4",children:d.jsx(Xe,{className:"w-full",disabled:t,onClick:e,children:t?d.jsx(Aa,{}):"Save changes"})})]})},cce=[{id:"team",icon:d.jsx(p8,{}),label:"Team",comingSoon:!1},{id:"botProfile",icon:d.jsx(GH,{}),label:"Bot Profile",comingSoon:!1},{id:"botModel",icon:d.jsx(HH,{}),label:"Bot Model",comingSoon:!1},{id:"archives",icon:d.jsx(kv,{}),label:"Archives",comingSoon:!1},{id:"queries",icon:d.jsx(o8,{}),label:"Queries",comingSoon:!1}],uce=({onTabChange:t,activeTab:e})=>{const n=ut(s=>s.admin),r=cce.filter(s=>!(s.id==="team"&&(n==null?void 0:n.role)!=="admin"));return d.jsx("nav",{className:"w-[14rem] px-2 space-y-2 text-htext font-medium",children:r.map(s=>d.jsxs("div",{className:"relative group",children:[d.jsxs("li",{className:ue("flex items-center gap-3 py-3 px-2 cursor-pointer rounded-md transition-colors hover:text-opacity-80",e===s.id?"bg-blue-500 text-white":"hover:bg-slate-200 text-opacity-100"),onClick:()=>t(s.id),children:[s.icon," ",s.label]}),s.comingSoon&&d.jsx(Of,{variant:"secondary",className:"absolute -top-2 right-0 text-[10px] font-normal px-1 py-0.5 bg-blue-100 text-blue-800 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Coming Soon"})]},s.id))})};var dce="Separator",dP="horizontal",hce=["horizontal","vertical"],eU=m.forwardRef((t,e)=>{const{decorative:n,orientation:r=dP,...s}=t,i=fce(r)?r:dP,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return d.jsx(ve.div,{"data-orientation":i,...a,...s,ref:e})});eU.displayName=dce;function fce(t){return hce.includes(t)}var tU=eU;const nU=m.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>d.jsx(tU,{ref:s,decorative:n,orientation:e,className:ue("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));nU.displayName=tU.displayName;const pce=(t,e,n)=>Eoe(t,e,n),rU="/admin/assets/rhombus_spinner-BhwfYrNk.gif",mce=({isTraining:t})=>d.jsx(Yf,{open:t,onOpenChange:()=>{},children:d.jsxs(Vu,{className:"sm:max-w-md",hideClose:!0,children:[d.jsx(Fu,{children:d.jsx(Uu,{children:"Bot Training in Progress"})}),d.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[d.jsx("img",{src:rU}),d.jsx("p",{className:"text-sm text-gray-500",children:"The bot is currently training. Please wait..."})]})]})}),gce=()=>{const t=ut(c=>c.admin),[e,n]=m.useState(!1),[r,s]=m.useState(null),i=Bs(),{data:o}=Vl({queryFn:boe,queryKey:["modelRating"]}),a=async()=>{try{n(!0),await qQ(),i({title:"Model Training Complete",description:"Your AI model is fully trained and ready for use. You can now run queries with the latest data."})}catch(c){if(c instanceof Error){pt(c.message),i({title:"Failed to train model, please try again",description:tt(),variant:"destructive"});return}console.error("An unexpected error occured: ",c)}finally{n(!1)}},l=c=>{const h=[{min:5,label:"(Excellent)"},{min:4,label:"(Good)"},{min:3,label:"(Decent)"},{min:0,label:"(Poor)"}].find(p=>c>=p.min);return h?h.label:"(Unknown)"};return m.useEffect(()=>{const c=pce("profile","model",u=>{const{timeFinishedTraining:h}=u;s(h)});return()=>c()},[]),d.jsxs("section",{className:"flex-1 flex-col space-y-4",children:[d.jsxs(ln,{children:[d.jsxs(Mn,{children:[d.jsx(On,{children:"Bot Model"}),d.jsx(pi,{children:(t==null?void 0:t.role)!=="viewer"?"View current model status and initialize training process.":"View current model status."})]}),d.jsxs(pn,{children:[d.jsxs("section",{className:"flex items-center",children:[d.jsxs("div",{className:"w-[15rem]",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Version"}),d.jsx("p",{className:"font-bold text-xl",children:"v1.0.0"})]}),d.jsxs("div",{className:"",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Trained"}),d.jsx("p",{className:"font-bold text-xl",children:r||d.jsx(Se,{className:"w-48 h-6"})})]})]}),d.jsx(nU,{className:"my-4"}),d.jsxs("div",{className:"flex ",children:[d.jsxs("div",{className:"flex space-x-2 w-[15rem]",children:[d.jsx(CM,{fill:"yellow",className:"text-yellow-300"})," ",d.jsx("p",{children:"Average Rating"})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx("p",{className:"text-green-400 font-bold text-xl",children:o??d.jsx(Se,{className:"h-7 w-11"})}),d.jsx("p",{className:"text-muted-foreground text-xs space-x-1",children:o?l(Number(o)):d.jsx(Se,{className:"h-4 w-14"})})]})]})]})]}),d.jsx("footer",{className:"mt-4 pb-4",children:(t==null?void 0:t.role)!=="viewer"&&d.jsx(Xe,{className:"w-full",disabled:e,onClick:a,children:e?d.jsx(Aa,{}):d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(QH,{size:20})," Train Model"]})})}),d.jsx(mce,{isTraining:e})]})},tm="672ca434f2191d3bb7606f0d",vce=({id:t,role:e,onDeleteAction:n,onResetPasswordAction:r,onUpdateRoleAction:s})=>d.jsxs(Df,{modal:!1,children:[d.jsx(kf,{asChild:!0,children:d.jsx(Xe,{variant:"ghost",className:" hover:bg-gray-100 size-8 p-1 group",children:d.jsx(eb,{className:"text-zinc-400 size-5 group-hover:text-zinc-600 transition-colors"})})}),d.jsxs(Iu,{align:"end",className:"w-auto bg-white border border-neutral-300 p-1 rounded-lg shadow-md",children:[t!==tm&&e!=="editor"&&d.jsx(Xs,{className:"flex items-center p-2 hover:bg-zinc-100",onClick:async()=>{await s("editor")},children:"Set as Editor"}),t!==tm&&e!=="viewer"&&d.jsx(Xs,{className:"flex items-center p-2 hover:bg-zinc-100",onClick:async()=>{await s("viewer")},children:"Set as Viewer"}),t!==tm&&d.jsx(Cb,{}),d.jsxs(Xs,{className:"flex items-center p-2 hover:bg-zinc-100",onClick:()=>{r()},children:[d.jsx(s8,{className:"mr-2 h-4 w-4"}),"Reset Password"]}),t!==tm&&d.jsxs(Xs,{className:"flex items-center p-2 hover:bg-zinc-100 text-red-600",onClick:()=>{n()},children:[d.jsx(h8,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]}),sU=ro(t=>({admin:{id:null,email:null},setAdmin:(e,n)=>t({admin:{id:e,email:n}})})),yce=({adminInfo:t,onUpdateRole:e})=>{const{email:n,role:r,_id:s}=t,i=sU(c=>c.setAdmin),o=Qr(c=>c.openDialog),a=()=>{i(s,n),o("showConfirmDeleteDialog")},l=()=>{i(s,n),o("showResetPasswordDialog")};return d.jsxs("section",{className:"flex items-center w-full py-2 font-medium text-sm",children:[d.jsx("div",{className:"flex-1 text-zinc-700 truncate",title:n,children:n}),d.jsx("div",{className:"w-[14rem] text-zinc-500",children:t!=null&&t.lastLoginAt?WQ(t.lastLoginAt):"Never Logged In"}),d.jsx("div",{className:"w-[10rem]",children:d.jsx(Of,{className:ue("flex w-16 items-center justify-center pointer-events-none select-none",r==="admin"&&"bg-red-200 text-red-800",r==="editor"&&"bg-blue-200 text-blue-800",r==="viewer"&&"bg-green-200 text-green-800"),children:Ab(r)})}),d.jsx("div",{className:"w-[10rem] ",children:d.jsx(vce,{id:s,role:r,onDeleteAction:a,onResetPasswordAction:l,onUpdateRoleAction:async c=>await e(c,s)})})]})},nh=({id:t,field:e,placeholderText:n,register:r,message:s,isError:i,validate:o})=>{const[a,l]=m.useState(!1);return d.jsxs("div",{className:"relative",children:[d.jsx(Lt,{id:t??void 0,className:ue(i&&"border-destructive"),type:a?"text":"password",placeholder:n,...r(e,{required:s,minLength:{value:9,message:"Password must be atleast 9 characters"},validate:o})}),d.jsx(Xe,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(c=>!c),"aria-label":a?"Hide password":"Show password",children:a?d.jsx(_M,{className:"h-4 w-4 text-gray-500"}):d.jsx(tb,{className:"h-4 w-4 text-gray-500"})})]})};function A_(t,[e,n]){return Math.min(n,Math.max(e,t))}function wce(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=h=>{var x;const{scope:p,children:g,...w}=h,v=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,_=m.useMemo(()=>w,Object.values(w));return d.jsx(v.Provider,{value:_,children:g})};c.displayName=i+"Provider";function u(h,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,xce(s,...e)]}function xce(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var _ce="DismissableLayer",R_="dismissableLayer.update",Ece="dismissableLayer.pointerDownOutside",bce="dismissableLayer.focusOutside",hP,iU=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),oU=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(iU),[u,h]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=ke(e,T=>h(T)),v=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(_),y=u?v.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,C=y>=x,P=Cce(T=>{const E=T.target,I=[...c.branches].some(R=>R.contains(E));!C||I||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},p),O=Ace(T=>{const E=T.target;[...c.branches].some(R=>R.contains(E))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},p);return Af(T=>{y===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(hP=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),fP(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=hP)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),fP())},[u,c]),m.useEffect(()=>{const T=()=>g({});return document.addEventListener(R_,T),()=>document.removeEventListener(R_,T)},[]),d.jsx(ve.div,{...l,ref:w,style:{pointerEvents:b?C?"auto":"none":void 0,...t.style},onFocusCapture:Z(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Z(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Z(t.onPointerDownCapture,P.onPointerDownCapture)})});oU.displayName=_ce;var Sce="DismissableLayerBranch",Tce=m.forwardRef((t,e)=>{const n=m.useContext(iU),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(ve.div,{...t,ref:s})});Tce.displayName=Sce;function Cce(t,e=globalThis==null?void 0:globalThis.document){const n=mt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){aU(Ece,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Ace(t,e=globalThis==null?void 0:globalThis.document){const n=mt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&aU(bce,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function fP(){const t=new CustomEvent(R_);document.dispatchEvent(t)}function aU(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Nl(s,i):s.dispatchEvent(i)}var Rce="Portal",lU=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Pt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?mf.createPortal(d.jsx(ve.div,{...r,ref:e}),o):null});lU.displayName=Rce;function Ice(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Pce=[" ","Enter","ArrowUp","ArrowDown"],Nce=[" ","Enter"],ep="Select",[Ny,Dy,Dce]=jv(ep),[Bu,Yfe]=wce(ep,[Dce,Au]),ky=Au(),[kce,Ia]=Bu(ep),[Mce,Oce]=Bu(ep),cU=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:h,disabled:p,required:g,form:w}=t,v=ky(e),[_,x]=m.useState(null),[y,b]=m.useState(null),[C,P]=m.useState(!1),O=Cf(c),[T=!1,E]=aa({prop:r,defaultProp:s,onChange:i}),[I,R]=aa({prop:o,defaultProp:a,onChange:l}),k=m.useRef(null),M=_?w||!!_.closest("form"):!0,[N,W]=m.useState(new Set),se=Array.from(N).map(ne=>ne.props.value).join(";");return d.jsx(hb,{...v,children:d.jsxs(kce,{required:g,scope:e,trigger:_,onTriggerChange:x,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:C,onValueNodeHasChildrenChange:P,contentId:js(),value:I,onValueChange:R,open:T,onOpenChange:E,dir:O,triggerPointerDownPosRef:k,disabled:p,children:[d.jsx(Ny.Provider,{scope:e,children:d.jsx(Mce,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(ne=>{W(Y=>new Set(Y).add(ne))},[]),onNativeOptionRemove:m.useCallback(ne=>{W(Y=>{const z=new Set(Y);return z.delete(ne),z})},[]),children:n})}),M?d.jsxs(OU,{"aria-hidden":!0,required:g,tabIndex:-1,name:u,autoComplete:h,value:I,onChange:ne=>R(ne.target.value),disabled:p,form:w,children:[I===void 0?d.jsx("option",{value:""}):null,Array.from(N)]},se):null]})})};cU.displayName=ep;var uU="SelectTrigger",dU=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=ky(n),o=Ia(uU,n),a=o.disabled||r,l=ke(e,o.onTriggerChange),c=Dy(n),u=m.useRef("touch"),[h,p,g]=jU(v=>{const _=c().filter(b=>!b.disabled),x=_.find(b=>b.value===o.value),y=LU(_,v,x);y!==void 0&&o.onValueChange(y.value)}),w=v=>{a||(o.onOpenChange(!0),g()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return d.jsx(fb,{asChild:!0,...i,children:d.jsx(ve.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":MU(o.value)?"":void 0,...s,ref:l,onClick:Z(s.onClick,v=>{v.currentTarget.focus(),u.current!=="mouse"&&w(v)}),onPointerDown:Z(s.onPointerDown,v=>{u.current=v.pointerType;const _=v.target;_.hasPointerCapture(v.pointerId)&&_.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(w(v),v.preventDefault())}),onKeyDown:Z(s.onKeyDown,v=>{const _=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&p(v.key),!(_&&v.key===" ")&&Pce.includes(v.key)&&(w(),v.preventDefault())})})})});dU.displayName=uU;var hU="SelectValue",fU=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Ia(hU,n),{onValueNodeHasChildrenChange:c}=l,u=i!==void 0,h=ke(e,l.onValueNodeChange);return Pt(()=>{c(u)},[c,u]),d.jsx(ve.span,{...a,ref:h,style:{pointerEvents:"none"},children:MU(l.value)?d.jsx(d.Fragment,{children:o}):i})});fU.displayName=hU;var jce="SelectIcon",pU=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return d.jsx(ve.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});pU.displayName=jce;var Lce="SelectPortal",mU=t=>d.jsx(lU,{asChild:!0,...t});mU.displayName=Lce;var Al="SelectContent",gU=m.forwardRef((t,e)=>{const n=Ia(Al,t.__scopeSelect),[r,s]=m.useState();if(Pt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Ar.createPortal(d.jsx(vU,{scope:t.__scopeSelect,children:d.jsx(Ny.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),i):null}return d.jsx(yU,{...t,ref:e})});gU.displayName=Al;var Ss=10,[vU,Pa]=Bu(Al),Vce="SelectContentImpl",yU=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:p,collisionPadding:g,sticky:w,hideWhenDetached:v,avoidCollisions:_,...x}=t,y=Ia(Al,n),[b,C]=m.useState(null),[P,O]=m.useState(null),T=ke(e,ce=>C(ce)),[E,I]=m.useState(null),[R,k]=m.useState(null),M=Dy(n),[N,W]=m.useState(!1),se=m.useRef(!1);m.useEffect(()=>{if(b)return gb(b)},[b]),rb();const ne=m.useCallback(ce=>{const[Pe,...He]=M().map(Oe=>Oe.ref.current),[pe]=He.slice(-1),$e=document.activeElement;for(const Oe of ce)if(Oe===$e||(Oe==null||Oe.scrollIntoView({block:"nearest"}),Oe===Pe&&P&&(P.scrollTop=0),Oe===pe&&P&&(P.scrollTop=P.scrollHeight),Oe==null||Oe.focus(),document.activeElement!==$e))return},[M,P]),Y=m.useCallback(()=>ne([E,b]),[ne,E,b]);m.useEffect(()=>{N&&Y()},[N,Y]);const{onOpenChange:z,triggerPointerDownPosRef:B}=y;m.useEffect(()=>{if(b){let ce={x:0,y:0};const Pe=pe=>{var $e,Oe;ce={x:Math.abs(Math.round(pe.pageX)-((($e=B.current)==null?void 0:$e.x)??0)),y:Math.abs(Math.round(pe.pageY)-(((Oe=B.current)==null?void 0:Oe.y)??0))}},He=pe=>{ce.x<=10&&ce.y<=10?pe.preventDefault():b.contains(pe.target)||z(!1),document.removeEventListener("pointermove",Pe),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",He,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",He,{capture:!0})}}},[b,z,B]),m.useEffect(()=>{const ce=()=>z(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[z]);const[J,fe]=jU(ce=>{const Pe=M().filter($e=>!$e.disabled),He=Pe.find($e=>$e.ref.current===document.activeElement),pe=LU(Pe,ce,He);pe&&setTimeout(()=>pe.ref.current.focus())}),he=m.useCallback((ce,Pe,He)=>{const pe=!se.current&&!He;(y.value!==void 0&&y.value===Pe||pe)&&(I(ce),pe&&(se.current=!0))},[y.value]),Te=m.useCallback(()=>b==null?void 0:b.focus(),[b]),We=m.useCallback((ce,Pe,He)=>{const pe=!se.current&&!He;(y.value!==void 0&&y.value===Pe||pe)&&k(ce)},[y.value]),at=r==="popper"?I_:wU,Ne=at===I_?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:p,collisionPadding:g,sticky:w,hideWhenDetached:v,avoidCollisions:_}:{};return d.jsx(vU,{scope:n,content:b,viewport:P,onViewportChange:O,itemRefCallback:he,selectedItem:E,onItemLeave:Te,itemTextRefCallback:We,focusSelectedItem:Y,selectedItemText:R,position:r,isPositioned:N,searchRef:J,children:d.jsx(Kv,{as:la,allowPinchZoom:!0,children:d.jsx(Lv,{asChild:!0,trapped:y.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:Z(s,ce=>{var Pe;(Pe=y.trigger)==null||Pe.focus({preventScroll:!0}),ce.preventDefault()}),children:d.jsx(oU,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:d.jsx(at,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:ce=>ce.preventDefault(),...x,...Ne,onPlaced:()=>W(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Z(x.onKeyDown,ce=>{const Pe=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!Pe&&ce.key.length===1&&fe(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let pe=M().filter($e=>!$e.disabled).map($e=>$e.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const $e=ce.target,Oe=pe.indexOf($e);pe=pe.slice(Oe+1)}setTimeout(()=>ne(pe)),ce.preventDefault()}})})})})})})});yU.displayName=Vce;var Fce="SelectItemAlignedPosition",wU=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Ia(Al,n),o=Pa(Al,n),[a,l]=m.useState(null),[c,u]=m.useState(null),h=ke(e,T=>u(T)),p=Dy(n),g=m.useRef(!1),w=m.useRef(!0),{viewport:v,selectedItem:_,selectedItemText:x,focusSelectedItem:y}=o,b=m.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&v&&_&&x){const T=i.trigger.getBoundingClientRect(),E=c.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),R=x.getBoundingClientRect();if(i.dir!=="rtl"){const $e=R.left-E.left,Oe=I.left-$e,yt=T.left-Oe,qe=T.width+yt,Vt=Math.max(qe,E.width),mn=window.innerWidth-Ss,Mr=A_(Oe,[Ss,Math.max(Ss,mn-Vt)]);a.style.minWidth=qe+"px",a.style.left=Mr+"px"}else{const $e=E.right-R.right,Oe=window.innerWidth-I.right-$e,yt=window.innerWidth-T.right-Oe,qe=T.width+yt,Vt=Math.max(qe,E.width),mn=window.innerWidth-Ss,Mr=A_(Oe,[Ss,Math.max(Ss,mn-Vt)]);a.style.minWidth=qe+"px",a.style.right=Mr+"px"}const k=p(),M=window.innerHeight-Ss*2,N=v.scrollHeight,W=window.getComputedStyle(c),se=parseInt(W.borderTopWidth,10),ne=parseInt(W.paddingTop,10),Y=parseInt(W.borderBottomWidth,10),z=parseInt(W.paddingBottom,10),B=se+ne+N+z+Y,J=Math.min(_.offsetHeight*5,B),fe=window.getComputedStyle(v),he=parseInt(fe.paddingTop,10),Te=parseInt(fe.paddingBottom,10),We=T.top+T.height/2-Ss,at=M-We,Ne=_.offsetHeight/2,ce=_.offsetTop+Ne,Pe=se+ne+ce,He=B-Pe;if(Pe<=We){const $e=k.length>0&&_===k[k.length-1].ref.current;a.style.bottom="0px";const Oe=c.clientHeight-v.offsetTop-v.offsetHeight,yt=Math.max(at,Ne+($e?Te:0)+Oe+Y),qe=Pe+yt;a.style.height=qe+"px"}else{const $e=k.length>0&&_===k[0].ref.current;a.style.top="0px";const yt=Math.max(We,se+v.offsetTop+($e?he:0)+Ne)+He;a.style.height=yt+"px",v.scrollTop=Pe-We+v.offsetTop}a.style.margin=`${Ss}px 0`,a.style.minHeight=J+"px",a.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[p,i.trigger,i.valueNode,a,c,v,_,x,i.dir,r]);Pt(()=>b(),[b]);const[C,P]=m.useState();Pt(()=>{c&&P(window.getComputedStyle(c).zIndex)},[c]);const O=m.useCallback(T=>{T&&w.current===!0&&(b(),y==null||y(),w.current=!1)},[b,y]);return d.jsx(Bce,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:O,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:d.jsx(ve.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});wU.displayName=Fce;var Uce="SelectPopperPosition",I_=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Ss,...i}=t,o=ky(n);return d.jsx(pb,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});I_.displayName=Uce;var[Bce,cT]=Bu(Al,{}),P_="SelectViewport",xU=m.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Pa(P_,n),o=cT(P_,n),a=ke(e,i.onViewportChange),l=m.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),d.jsx(Ny.Slot,{scope:n,children:d.jsx(ve.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Z(s.onScroll,c=>{const u=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&h){const g=Math.abs(l.current-u.scrollTop);if(g>0){const w=window.innerHeight-Ss*2,v=parseFloat(h.style.minHeight),_=parseFloat(h.style.height),x=Math.max(v,_);if(x<w){const y=x+g,b=Math.min(w,y),C=y-b;h.style.height=b+"px",h.style.bottom==="0px"&&(u.scrollTop=C>0?C:0,h.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});xU.displayName=P_;var _U="SelectGroup",[$ce,zce]=Bu(_U),EU=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=js();return d.jsx($ce,{scope:n,id:s,children:d.jsx(ve.div,{role:"group","aria-labelledby":s,...r,ref:e})})});EU.displayName=_U;var bU="SelectLabel",SU=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=zce(bU,n);return d.jsx(ve.div,{id:s.id,...r,ref:e})});SU.displayName=bU;var Zg="SelectItem",[Kce,TU]=Bu(Zg),CU=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Ia(Zg,n),l=Pa(Zg,n),c=a.value===r,[u,h]=m.useState(i??""),[p,g]=m.useState(!1),w=ke(e,y=>{var b;return(b=l.itemRefCallback)==null?void 0:b.call(l,y,r,s)}),v=js(),_=m.useRef("touch"),x=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(Kce,{scope:n,value:r,disabled:s,textId:v,isSelected:c,onItemTextChange:m.useCallback(y=>{h(b=>b||((y==null?void 0:y.textContent)??"").trim())},[]),children:d.jsx(Ny.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:d.jsx(ve.div,{role:"option","aria-labelledby":v,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:w,onFocus:Z(o.onFocus,()=>g(!0)),onBlur:Z(o.onBlur,()=>g(!1)),onClick:Z(o.onClick,()=>{_.current!=="mouse"&&x()}),onPointerUp:Z(o.onPointerUp,()=>{_.current==="mouse"&&x()}),onPointerDown:Z(o.onPointerDown,y=>{_.current=y.pointerType}),onPointerMove:Z(o.onPointerMove,y=>{var b;_.current=y.pointerType,s?(b=l.onItemLeave)==null||b.call(l):_.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Z(o.onPointerLeave,y=>{var b;y.currentTarget===document.activeElement&&((b=l.onItemLeave)==null||b.call(l))}),onKeyDown:Z(o.onKeyDown,y=>{var C;((C=l.searchRef)==null?void 0:C.current)!==""&&y.key===" "||(Nce.includes(y.key)&&x(),y.key===" "&&y.preventDefault())})})})})});CU.displayName=Zg;var Nd="SelectItemText",AU=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Ia(Nd,n),a=Pa(Nd,n),l=TU(Nd,n),c=Oce(Nd,n),[u,h]=m.useState(null),p=ke(e,x=>h(x),l.onItemTextChange,x=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,x,l.value,l.disabled)}),g=u==null?void 0:u.textContent,w=m.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:_}=c;return Pt(()=>(v(w),()=>_(w)),[v,_,w]),d.jsxs(d.Fragment,{children:[d.jsx(ve.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ar.createPortal(i.children,o.valueNode):null]})});AU.displayName=Nd;var RU="SelectItemIndicator",IU=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return TU(RU,n).isSelected?d.jsx(ve.span,{"aria-hidden":!0,...r,ref:e}):null});IU.displayName=RU;var N_="SelectScrollUpButton",PU=m.forwardRef((t,e)=>{const n=Pa(N_,t.__scopeSelect),r=cT(N_,t.__scopeSelect),[s,i]=m.useState(!1),o=ke(e,r.onScrollButtonChange);return Pt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(DU,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});PU.displayName=N_;var D_="SelectScrollDownButton",NU=m.forwardRef((t,e)=>{const n=Pa(D_,t.__scopeSelect),r=cT(D_,t.__scopeSelect),[s,i]=m.useState(!1),o=ke(e,r.onScrollButtonChange);return Pt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(DU,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});NU.displayName=D_;var DU=m.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Pa("SelectScrollButton",n),o=m.useRef(null),a=Dy(n),l=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>l(),[l]),Pt(()=>{var u;const c=a().find(h=>h.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),d.jsx(ve.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Z(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Z(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Z(s.onPointerLeave,()=>{l()})})}),Wce="SelectSeparator",kU=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return d.jsx(ve.div,{"aria-hidden":!0,...r,ref:e})});kU.displayName=Wce;var k_="SelectArrow",Hce=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ky(n),i=Ia(k_,n),o=Pa(k_,n);return i.open&&o.position==="popper"?d.jsx(mb,{...s,...r,ref:e}):null});Hce.displayName=k_;function MU(t){return t===""||t===void 0}var OU=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=m.useRef(null),i=ke(e,s),o=Ice(n);return m.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&u){const h=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(h)}},[o,n]),d.jsx($f,{asChild:!0,children:d.jsx("select",{...r,ref:i,defaultValue:n})})});OU.displayName="BubbleSelect";function jU(t){const e=mt(t),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function LU(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=qce(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function qce(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Gce=cU,VU=dU,Qce=fU,Yce=pU,Xce=mU,FU=gU,Jce=xU,Zce=EU,UU=SU,BU=CU,eue=AU,tue=IU,$U=PU,zU=NU,KU=kU;const WU=Gce,HU=Zce,qU=Qce,uT=m.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(VU,{ref:r,className:ue("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,d.jsx(Yce,{asChild:!0,children:d.jsx(vM,{className:"h-4 w-4 opacity-50"})})]}));uT.displayName=VU.displayName;const GU=m.forwardRef(({className:t,...e},n)=>d.jsx($U,{ref:n,className:ue("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(XH,{className:"h-4 w-4"})}));GU.displayName=$U.displayName;const QU=m.forwardRef(({className:t,...e},n)=>d.jsx(zU,{ref:n,className:ue("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(vM,{className:"h-4 w-4"})}));QU.displayName=zU.displayName;const dT=m.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>d.jsx(Xce,{children:d.jsxs(FU,{ref:s,className:ue("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[d.jsx(GU,{}),d.jsx(Jce,{className:ue("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),d.jsx(QU,{})]})}));dT.displayName=FU.displayName;const YU=m.forwardRef(({className:t,...e},n)=>d.jsx(UU,{ref:n,className:ue("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));YU.displayName=UU.displayName;const hT=m.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(BU,{ref:r,className:ue("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(tue,{children:d.jsx(ZE,{className:"h-4 w-4"})})}),d.jsx(eue,{children:e})]}));hT.displayName=BU.displayName;const nue=m.forwardRef(({className:t,...e},n)=>d.jsx(KU,{ref:n,className:ue("-mx-1 my-1 h-px bg-muted",t),...e}));nue.displayName=KU.displayName;const rue=["editor","viewer"],sue=({isOpen:t,setDialogState:e,onAddAdmin:n,isLoading:r})=>{const{register:s,watch:i,formState:{errors:o,isSubmitted:a},control:l,handleSubmit:c,reset:u}=Zf(),h=i("password"),p=async w=>{const{confirmPassword:v,..._}=w;await n(_),g()},g=(w=void 0)=>{u({email:"",password:"",confirmPassword:""}),e("showAddAdminDialog",w??!1)};return d.jsx(Yf,{open:t,onOpenChange:w=>{g(w)},children:d.jsxs(Vu,{className:"sm:max-w-[425px]",children:[d.jsxs(Fu,{children:[d.jsx(Uu,{className:"text-2xl font-bold",children:"Add Admin"}),d.jsx(Xf,{children:"Create a new admin account."})]}),d.jsxs("form",{onSubmit:c(p),className:"text-sm space-y-2",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx(Tn,{htmlFor:"current-password",children:"Email"}),d.jsx(Lt,{className:ue(!!o.email&&"border-destructive"),type:"text",placeholder:"Enter your email",...s("email",{required:"Email is required",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Please enter a valid email address"}})}),a&&o.email&&d.jsx("p",{className:"text-red-500",children:o.email.message})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(Tn,{htmlFor:"current-password",children:"Password"}),d.jsx(nh,{field:"password",placeholderText:"Enter your password",register:s,message:"Password is required",isError:!!o.password}),a&&o.password&&d.jsx("p",{className:"text-red-500",children:o.password.message})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(Tn,{htmlFor:"new-password",children:"Confirm Password"}),d.jsx(nh,{field:"confirmPassword",placeholderText:"Re-enter your password",register:s,message:"Confirm password is required",isError:!!o.confirmPassword,validate:w=>w===h||"Password does not match"}),a&&o.confirmPassword&&d.jsx("p",{className:"text-red-500",children:o.confirmPassword.message})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(Tn,{children:"Role"}),d.jsx(K4,{name:"role",control:l,rules:{required:"Role is required"},render:({field:w})=>d.jsxs(WU,{onValueChange:w.onChange,value:w.value,children:[d.jsx(uT,{className:ue("w-[180px]",!!o.role&&"border-destructive"),children:d.jsx(qU,{placeholder:"Select a Role"})}),d.jsx(dT,{children:d.jsx(HU,{children:d.jsx(Pu,{items:rue,renderItem:v=>d.jsx(hT,{value:v,children:Ab(v)})})})})]})}),a&&o.role&&d.jsx("p",{className:"text-red-500",children:o.role.message})]}),d.jsx(Iy,{children:d.jsx(Xe,{disabled:r,type:"submit",className:"w-40",children:r?d.jsx(Aa,{}):"Save changes"})})]})]})})},iue=({isOpen:t,setDialogState:e,onResetPassword:n,isLoading:r})=>{const{register:s,formState:{errors:i,isSubmitted:o},setError:a,watch:l,handleSubmit:c,reset:u}=Zf(),h=l("newPassword"),p=async w=>{const{confirmNewPassword:v,..._}=w,x=await n(_);if(x&&x===zo.passwordIncorrect){a("password",{type:"manual",message:x});return}if(x&&x===zo.passwordSameAsOld){a("newPassword",{type:"manual",message:x});return}g(!1)},g=(w=void 0)=>{e("showResetPasswordDialog",w??!1),u({})};return d.jsx(Yf,{open:t,onOpenChange:w=>{g(w),setTimeout(()=>{w||(document.body.style.pointerEvents="")},100)},children:d.jsxs(Vu,{className:"sm:max-w-[425px]",children:[d.jsxs(Fu,{children:[d.jsx(Uu,{className:"text-2xl font-bold",children:"Reset Password"}),d.jsx(Xf,{children:"Reset admin password and provide a new password."})]}),d.jsxs("form",{onSubmit:c(p),className:"text-sm space-y-2",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx(Tn,{htmlFor:"current-password",children:"Current Password"}),d.jsx(nh,{id:"current-password",field:"password",placeholderText:"Enter new password",register:s,message:"Password is required",isError:!!i.password}),o&&i.password&&d.jsx("p",{className:"text-red-500",children:i.password.message})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(Tn,{htmlFor:"newPassword",children:"New Password"}),d.jsx(nh,{id:"newPassword",field:"newPassword",placeholderText:"Enter new password",register:s,message:"Password is required",isError:!!i.newPassword}),o&&i.newPassword&&d.jsx("p",{className:"text-red-500",children:i.newPassword.message})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(Tn,{htmlFor:"new-password",children:"Confirm New Password"}),d.jsx(nh,{id:"new-password",field:"confirmNewPassword",placeholderText:"Re-enter your password",register:s,message:"Confirm password is required",isError:!!i.confirmNewPassword,validate:w=>w===h||"Password does not match"}),o&&i.confirmNewPassword&&d.jsx("p",{className:"text-red-500",children:i.confirmNewPassword.message})]}),d.jsx(Iy,{children:d.jsx(Xe,{type:"submit",className:"w-40 mt-2",children:r?d.jsx(Aa,{}):"Reset Password"})})]})]})})},oue=()=>d.jsx("section",{className:"flex-1 flex-col space-y-4 relative",children:d.jsxs(ln,{children:[d.jsxs(Mn,{children:[d.jsx(On,{children:"Team"}),d.jsx(pi,{children:d.jsx(Se,{className:"w-36 h-[20px]"})})]}),d.jsx(pn,{children:d.jsxs("div",{children:[d.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[d.jsx("h4",{className:"flex-1",children:d.jsx(Se,{className:"w-16 h-[20px]"})}),d.jsx("h4",{className:"w-[14rem]",children:d.jsx(Se,{className:"w-24 h-[20px]"})}),d.jsx("h4",{className:"w-[8rem]",children:d.jsx(Se,{className:"w-12 h-[20px]"})}),d.jsx("h4",{className:"w-[6rem]"})]}),d.jsx("hr",{className:"border-customBorderColor"}),d.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[d.jsx("h4",{className:"flex-1",children:d.jsx(Se,{className:"w-32 h-[20px]"})}),d.jsx("h4",{className:"w-[14rem]",children:d.jsx(Se,{className:"w-12 h-[20px]"})}),d.jsx("h4",{className:"w-[8rem]",children:d.jsx(Se,{className:"w-20 h-[20px]"})}),d.jsx("h4",{className:"w-[6rem]"})]}),d.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[d.jsx("h4",{className:"flex-1",children:d.jsx(Se,{className:"w-40 h-[20px]"})}),d.jsx("h4",{className:"w-[14rem]",children:d.jsx(Se,{className:"w-16 h-[20px]"})}),d.jsx("h4",{className:"w-[8rem]",children:d.jsx(Se,{className:"w-12 h-[20px]"})}),d.jsx("h4",{className:"w-[6rem]"})]}),d.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[d.jsx("h4",{className:"flex-1",children:d.jsx(Se,{className:"w-32 h-[20px]"})}),d.jsx("h4",{className:"w-[14rem]",children:d.jsx(Se,{className:"w-12 h-[20px]"})}),d.jsx("h4",{className:"w-[8rem]",children:d.jsx(Se,{className:"w-20 h-[20px]"})}),d.jsx("h4",{className:"w-[6rem]"})]})]})})]})}),aue=async(t,e)=>{try{const n={email:t,password:e},{success:r,accessToken:s,admin:i}=await Sa("/api/auth/login",{},n);if(!r)throw new Error("Invalid credentials, please try again");return{accessToken:s,admin:i}}catch(n){throw n}},lue=async()=>{const{admins:t}=await jf("/api/auth/admins");return t},cue=async t=>{const{message:e}=await Sa("/api/auth/register",{},t);return e},uue=async t=>{const{message:e}=await Lf(`/api/auth/${t}`);return e},due=async t=>{const{message:e}=await Gv("/api/auth/reset",{},t);if(e===zo.passwordIncorrect||e===zo.passwordSameAsOld)throw new Error(e);return e},hue=async t=>{const{message:e}=await Gv("/api/auth/role",{},t);return e},fue=()=>{const t=Ra(),e=hj(),n=Bs(),r=Qr(b=>b.dialogs),s=Qr(b=>b.setDialogState),{id:i,email:o}=sU(b=>b.admin),{data:a,isLoading:l}=Vl({queryFn:()=>lue(),queryKey:md}),{mutateAsync:c}=Rr({mutationFn:uue,onSuccess:b=>{t.invalidateQueries({queryKey:md}),n({title:b,description:tt()})},onError:b=>{n({title:b==null?void 0:b.message,description:tt(),variant:"destructive"}),pt(b.message||"An Unexpected error occured while deleting admin account")}}),{mutateAsync:u,isPending:h}=Rr({mutationFn:cue,onSuccess:b=>{t.invalidateQueries({queryKey:md}),n({title:b,description:tt()})},onError:b=>{n({title:b==null?void 0:b.message,description:tt(),variant:"destructive"}),pt(b.message||"An Unexpected error occured while adding admin account")}}),{mutateAsync:p,isPending:g}=Rr({mutationFn:due,onSuccess:b=>{t.invalidateQueries({queryKey:md}),n({title:b,description:tt()})},onError:b=>{b.message===zo.passwordIncorrect||b.message===zo.passwordSameAsOld||(n({title:b==null?void 0:b.message,description:tt(),variant:"destructive"}),pt(b.message??"An error occured while updating admin account"))}}),{mutateAsync:w}=Rr({mutationFn:hue,onSuccess:async b=>{t.invalidateQueries({queryKey:md}),await e(1e3),n({title:b,description:tt()})},onError:b=>{n({title:b==null?void 0:b.message,description:tt(),variant:"destructive"}),pt(b.message||"An Unexpected error occured while updating admin role")}});return{adminEmail:o,setDialogState:s,isAdminListLoading:l,adminList:a,handleAddAdmin:async b=>{try{await u(b)}catch(C){C instanceof Error&&pt(C.message??"An error occured adding admin account"),console.error("An unexpected error occured: ",C)}},handleDeleteAdmin:async()=>{try{if(!i)throw new Error("No admin selected cannot delete");await c(i)}catch(b){b instanceof Error&&pt(b.message??"An error occured deleting admin account"),console.error("An unexpected error occured: ",b)}},handleResetAdminPassword:async b=>{try{if(!i)throw new Error("Admin ID not found, cannot proceed");await p({...b,_id:i})}catch(C){if(C instanceof Error&&(pt(C.message??"An error occured deleting admin account"),C.message===zo.passwordIncorrect||C.message===zo.passwordSameAsOld))return C.message;console.error("An unexpected error occured: ",C)}},handleUpdateAdminRole:async(b,C)=>{try{if(!C)throw new Error("Admin is not available cannot update role");await w({role:b,_id:C})}catch(P){P instanceof Error&&pt(P.message??`An error occured: ${P}`),console.error("An unexpected error occured: ",P)}},dialogs:r,isPending:h,resetAdminPasswordIsPending:g}},pue=()=>{const t=ut(p=>p.admin),{adminEmail:e,adminList:n,dialogs:r,isAdminListLoading:s,isPending:i,handleAddAdmin:o,handleDeleteAdmin:a,handleResetAdminPassword:l,handleUpdateAdminRole:c,resetAdminPasswordIsPending:u,setDialogState:h}=fue();return s?d.jsx(oue,{}):d.jsxs("section",{className:"flex-1 flex-col space-y-4 relative",children:[d.jsxs(ln,{children:[d.jsxs(Mn,{children:[d.jsxs(On,{children:["Team",d.jsx(cy,{tooltip:"Maximum of 5 admins can be created",children:d.jsx("p",{className:"ml-3 inline-block min-w-6 text-xs font-medium text-zinc-600",children:`${n==null?void 0:n.length}/${Rte}`})})]}),d.jsx(pi,{children:(t==null?void 0:t.role)==="admin"?"View and Manage admin accounts.":"View the list of admin accounts."})]}),d.jsx(pn,{children:d.jsxs("div",{children:[d.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[d.jsx("h4",{className:"flex-1",children:"User"}),d.jsx("h4",{className:"w-[14rem]",children:"Last Login"}),d.jsx("h4",{className:"w-[10rem]",children:"Role"}),d.jsx("h4",{className:"w-[10rem]"})]}),d.jsx("hr",{className:"border-customBorderColor"}),d.jsx(Pu,{items:n,renderItem:p=>d.jsx(yce,{adminInfo:p,onUpdateRole:c})})]})})]}),d.jsx("footer",{className:"mt-4 pb-4",children:(t==null?void 0:t.role)!=="viewer"&&(t==null?void 0:t.role)!=="editor"&&d.jsxs(Xe,{className:"w-full",onClick:()=>h("showAddAdminDialog",!0),disabled:(n==null?void 0:n.length)===5,children:[d.jsx(bu,{className:"size-5 mr-2"}),"Add Admin"]})}),d.jsx(sue,{isOpen:r.showAddAdminDialog,setDialogState:h,onAddAdmin:o,isLoading:i}),(r==null?void 0:r.showConfirmDeleteDialog)&&d.jsx(Xa,{title:"Delete Admin Account",description:`Are you sure you want to delete the admin account with email ${e}? This action cannot be undone.`,isOpen:r.showConfirmDeleteDialog,setDialogState:p=>h("showConfirmDeleteDialog",p),onDelete:a,isDestructive:!0}),(r==null?void 0:r.showResetPasswordDialog)&&d.jsx(iue,{isOpen:r.showResetPasswordDialog,setDialogState:h,onResetPassword:l,isLoading:u})]})},mue=async()=>{const t="knowledgeBases",{success:e,document:n}=await jf(`/api/archive/data/${t}`);if(!e&&!n)throw new Error("Error fetching archive ");return n},gue=async()=>{const t="knowledgeEntries",{success:e,document:n}=await jf(`/api/archive/data/${t}`);if(!e&&!n)throw new Error("Error fetching archive ");return n},vue=async t=>{const{success:e,message:n}=await Lf(`/api/archive/knowledge-base/${t}`);if(!e)throw new Error(n);return n},yue=async t=>{const{success:e,message:n}=await Lf(`/api/archive/knowledge-entry/${t}`);if(!e)throw new Error(n);return n},wue=async t=>{const e={knowledgeBaseId:t},{success:n,message:r}=await Sa("/api/archive/restore/knowledge-base",{},e);if(!n)throw new Error(r);return r},xue=async t=>{const e={knowledgeEntryId:t},{success:n,message:r}=await Sa("/api/archive/restore/knowledge-entry",{},e);if(!n)throw new Error(r);return r},XU=({onRestore:t,onDelete:e})=>d.jsx("div",{children:d.jsxs(Df,{children:[d.jsx(kf,{asChild:!0,children:d.jsx(Xe,{variant:"ghost",className:" hover:bg-gray-100 size-8 p-1 group",children:d.jsx(eb,{className:"text-zinc-400 size-5 group-hover:text-zinc-600 transition-colors"})})}),d.jsxs(Iu,{align:"end",className:"w-auto text-sm bg-white border border-neutral-300 p-1 rounded-lg shadow-md",children:[d.jsxs(Xs,{className:"flex items-center p-1.5 hover:bg-zinc-100 rounded-sm cursor-pointer",onClick:t,children:[d.jsx(JH,{className:"mr-2 h-4 w-4"}),d.jsx("p",{children:"Restore"})]}),d.jsxs(Xs,{className:"flex items-center p-1.5 hover:bg-zinc-100 rounded-sm text-red-500 cursor-pointer",onClick:e,children:[d.jsx(Su,{className:"mr-2 h-4 w-4"}),d.jsx("p",{children:"Delete Permanently"})]})]})]})}),_ue=({item:t})=>{const e=ut(o=>o.admin),n=Ht(o=>o.setSelectedKnowledgeBaseArchiveItem),r=Qr(o=>o.openDialog),s=async()=>{const{_id:o,knowledgeBase:a}=t;n({id:o,name:a}),r("showDeleteKnowledgeBaseArchiveDialog")},i=async()=>{const{_id:o,knowledgeBase:a}=t;n({id:o,name:a}),r("showRestoreKnowledgeBaseArchiveDialog")};return d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("section",{children:[d.jsx("p",{className:"font-medium",children:t.knowledgeBase}),d.jsx("p",{className:"text-muted-foreground text-sm",children:`Archived on ${new Date(t.archivedAt).toLocaleDateString()}  ${t.knowledgeEntry.length} ${t.knowledgeEntry.length===1?"entry":"entries"}`})]}),(e==null?void 0:e.role)!=="viewer"&&d.jsx(XU,{onRestore:i,onDelete:s})]})},JU=()=>d.jsxs("div",{className:"h-[500px] overflow-y-auto p-2 botder border-t space-y-3",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Se,{className:"w-24 h-5"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Se,{className:"w-40 h-4"}),d.jsx(Se,{className:"w-20 h-4"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Se,{className:"w-10 h-5"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Se,{className:"w-40 h-4"}),d.jsx(Se,{className:"w-20 h-4"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Se,{className:"w-14 h-5"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Se,{className:"w-40 h-4"}),d.jsx(Se,{className:"w-20 h-4"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Se,{className:"w-28 h-5"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Se,{className:"w-40 h-4"}),d.jsx(Se,{className:"w-20 h-4"})]})]})]}),ZU=()=>d.jsx("div",{className:"h-[500px] flex items-center justify-center p-2 botder border-t space-y-3",children:d.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 w-full max-w-lg my-4",role:"alert",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(AM,{className:"size-[5rem] text-red-400 mr-4"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-yellow-700",children:"Error Fetching Archive List"}),d.jsx("p",{className:"text-yellow-700 mt-1",children:"We encountered an issue while trying to retrieve the archive list. This might be due to a network problem or a temporary issue with the server. Please check your internet connection and try again."})]})]})})});function Eue(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var fT="ScrollArea",[eB,Xfe]=Dl(fT),[bue,ws]=eB(fT),tB=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=t,[a,l]=m.useState(null),[c,u]=m.useState(null),[h,p]=m.useState(null),[g,w]=m.useState(null),[v,_]=m.useState(null),[x,y]=m.useState(0),[b,C]=m.useState(0),[P,O]=m.useState(!1),[T,E]=m.useState(!1),I=ke(e,k=>l(k)),R=Cf(s);return d.jsx(bue,{scope:n,type:r,dir:R,scrollHideDelay:i,scrollArea:a,viewport:c,onViewportChange:u,content:h,onContentChange:p,scrollbarX:g,onScrollbarXChange:w,scrollbarXEnabled:P,onScrollbarXEnabledChange:O,scrollbarY:v,onScrollbarYChange:_,scrollbarYEnabled:T,onScrollbarYEnabledChange:E,onCornerWidthChange:y,onCornerHeightChange:C,children:d.jsx(ve.div,{dir:R,...o,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});tB.displayName=fT;var nB="ScrollAreaViewport",rB=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=t,o=ws(nB,n),a=m.useRef(null),l=ke(e,a,o.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),d.jsx(ve.div,{"data-radix-scroll-area-viewport":"",...i,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:d.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});rB.displayName=nB;var mi="ScrollAreaScrollbar",pT=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=ws(mi,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=t.orientation==="horizontal";return m.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?d.jsx(Sue,{...r,ref:e,forceMount:n}):s.type==="scroll"?d.jsx(Tue,{...r,ref:e,forceMount:n}):s.type==="auto"?d.jsx(sB,{...r,ref:e,forceMount:n}):s.type==="always"?d.jsx(mT,{...r,ref:e}):null});pT.displayName=mi;var Sue=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=ws(mi,t.__scopeScrollArea),[i,o]=m.useState(!1);return m.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),d.jsx(Ol,{present:n||i,children:d.jsx(sB,{"data-state":i?"visible":"hidden",...r,ref:e})})}),Tue=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=ws(mi,t.__scopeScrollArea),i=t.orientation==="horizontal",o=Oy(()=>l("SCROLL_END"),100),[a,l]=Eue("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,s.scrollHideDelay,l]),m.useEffect(()=>{const c=s.viewport,u=i?"scrollLeft":"scrollTop";if(c){let h=c[u];const p=()=>{const g=c[u];h!==g&&(l("SCROLL"),o()),h=g};return c.addEventListener("scroll",p),()=>c.removeEventListener("scroll",p)}},[s.viewport,i,l,o]),d.jsx(Ol,{present:n||a!=="hidden",children:d.jsx(mT,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Z(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Z(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),sB=m.forwardRef((t,e)=>{const n=ws(mi,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,o]=m.useState(!1),a=t.orientation==="horizontal",l=Oy(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?c:u)}},10);return gu(n.viewport,l),gu(n.content,l),d.jsx(Ol,{present:r||i,children:d.jsx(mT,{"data-state":i?"visible":"hidden",...s,ref:e})})}),mT=m.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=ws(mi,t.__scopeScrollArea),i=m.useRef(null),o=m.useRef(0),[a,l]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=cB(a.viewport,a.content),u={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function h(p,g){return Nue(p,o.current,a,g)}return n==="horizontal"?d.jsx(Cue,{...u,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollLeft,g=pP(p,a,s.dir);i.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=h(p,s.dir))}}):n==="vertical"?d.jsx(Aue,{...u,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollTop,g=pP(p,a);i.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=h(p))}}):null}),Cue=m.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=ws(mi,t.__scopeScrollArea),[o,a]=m.useState(),l=m.useRef(null),c=ke(e,l,i.onScrollbarXChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),d.jsx(oB,{"data-orientation":"horizontal",...s,ref:c,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":My(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(i.viewport){const p=i.viewport.scrollLeft+u.deltaX;t.onWheelScroll(p),dB(p,h)&&u.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:tv(o.paddingLeft),paddingEnd:tv(o.paddingRight)}})}})}),Aue=m.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=ws(mi,t.__scopeScrollArea),[o,a]=m.useState(),l=m.useRef(null),c=ke(e,l,i.onScrollbarYChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),d.jsx(oB,{"data-orientation":"vertical",...s,ref:c,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":My(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(i.viewport){const p=i.viewport.scrollTop+u.deltaY;t.onWheelScroll(p),dB(p,h)&&u.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:tv(o.paddingTop),paddingEnd:tv(o.paddingBottom)}})}})}),[Rue,iB]=eB(mi),oB=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:h,...p}=t,g=ws(mi,n),[w,v]=m.useState(null),_=ke(e,I=>v(I)),x=m.useRef(null),y=m.useRef(""),b=g.viewport,C=r.content-r.viewport,P=mt(u),O=mt(l),T=Oy(h,10);function E(I){if(x.current){const R=I.clientX-x.current.left,k=I.clientY-x.current.top;c({x:R,y:k})}}return m.useEffect(()=>{const I=R=>{const k=R.target;(w==null?void 0:w.contains(k))&&P(R,C)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[b,w,C,P]),m.useEffect(O,[r,O]),gu(w,T),gu(g.content,T),d.jsx(Rue,{scope:n,scrollbar:w,hasThumb:s,onThumbChange:mt(i),onThumbPointerUp:mt(o),onThumbPositionChange:O,onThumbPointerDown:mt(a),children:d.jsx(ve.div,{...p,ref:_,style:{position:"absolute",...p.style},onPointerDown:Z(t.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),x.current=w.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),E(I))}),onPointerMove:Z(t.onPointerMove,E),onPointerUp:Z(t.onPointerUp,I=>{const R=I.target;R.hasPointerCapture(I.pointerId)&&R.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=y.current,g.viewport&&(g.viewport.style.scrollBehavior=""),x.current=null})})})}),ev="ScrollAreaThumb",aB=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=iB(ev,t.__scopeScrollArea);return d.jsx(Ol,{present:n||s.hasThumb,children:d.jsx(Iue,{ref:e,...r})})}),Iue=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=ws(ev,n),o=iB(ev,n),{onThumbPositionChange:a}=o,l=ke(e,h=>o.onThumbChange(h)),c=m.useRef(),u=Oy(()=>{c.current&&(c.current(),c.current=void 0)},100);return m.useEffect(()=>{const h=i.viewport;if(h){const p=()=>{if(u(),!c.current){const g=Due(h,a);c.current=g,a()}};return a(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[i.viewport,u,a]),d.jsx(ve.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Z(t.onPointerDownCapture,h=>{const g=h.target.getBoundingClientRect(),w=h.clientX-g.left,v=h.clientY-g.top;o.onThumbPointerDown({x:w,y:v})}),onPointerUp:Z(t.onPointerUp,o.onThumbPointerUp)})});aB.displayName=ev;var gT="ScrollAreaCorner",lB=m.forwardRef((t,e)=>{const n=ws(gT,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?d.jsx(Pue,{...t,ref:e}):null});lB.displayName=gT;var Pue=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=ws(gT,n),[i,o]=m.useState(0),[a,l]=m.useState(0),c=!!(i&&a);return gu(s.scrollbarX,()=>{var h;const u=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(u),l(u)}),gu(s.scrollbarY,()=>{var h;const u=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(u),o(u)}),c?d.jsx(ve.div,{...r,ref:e,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function tv(t){return t?parseInt(t,10):0}function cB(t,e){const n=t/e;return isNaN(n)?0:n}function My(t){const e=cB(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function Nue(t,e,n,r="ltr"){const s=My(n),i=s/2,o=e||i,a=s-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,h=r==="ltr"?[0,u]:[u*-1,0];return uB([l,c],h)(t)}function pP(t,e,n="ltr"){const r=My(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,a=i-r,l=n==="ltr"?[0,o]:[o*-1,0],c=A_(t,l);return uB([0,o],[0,a])(c)}function uB(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function dB(t,e){return t>0&&t<e}var Due=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,a=n.top!==i.top;(o||a)&&e(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Oy(t,e){const n=mt(t),r=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),m.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function gu(t,e){const n=mt(e);Pt(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var hB=tB,kue=rB,Mue=lB;const qh=m.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(hB,{ref:r,className:ue("relative overflow-hidden",t),...n,children:[d.jsx(kue,{className:"h-full w-full rounded-[inherit]",children:e}),d.jsx(fB,{}),d.jsx(Mue,{})]}));qh.displayName=hB.displayName;const fB=m.forwardRef(({className:t,orientation:e="vertical",...n},r)=>d.jsx(pT,{ref:r,orientation:e,className:ue("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:d.jsx(aB,{className:"relative flex-1 rounded-full bg-border"})}));fB.displayName=pT.displayName;const Oue=()=>{const{data:t,isLoading:e,isError:n}=Vl({queryFn:()=>mue(),queryKey:Kg});return e?d.jsx(JU,{}):!t||n?d.jsx(ZU,{}):d.jsx(qh,{className:"h-[500px] flex border border-neutral-200 p-4 rounded-sm",children:t.items.length!==0?d.jsx(Pu,{listStyle:"space-y-3 w-full",items:t.items,renderItem:r=>d.jsx(_ue,{item:r})}):d.jsxs("div",{className:"h-[466px] flex flex-col justify-center items-center",children:[d.jsx("div",{className:"h-20 w-20 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:d.jsx(kv,{className:"h-10 w-10 text-primary"})}),d.jsx("h2",{className:"text-lg font-semibold mb-2",children:"No archived bases"}),d.jsxs("p",{className:"text-sm text-center text-muted-foreground mb-6 max-w-md ",children:["When you archive knowledge bases, they'll appear here. Archived bases can be restored or permanently deleted. ",d.jsx("br",{}),"Note: Archives are automatically deleted after 30 days."]})]})})},jue=({item:t})=>{const e=ut(o=>o.admin),n=Ht(o=>o.setSelectedKnowledgeEntryArchiveItem),r=Qr(o=>o.openDialog),s=async()=>{const{_id:o,knowledgeEntry:{intent:a}}=t;n({id:o,name:a}),r("showDeleteKnowledgeEntryArchiveDialog")},i=async()=>{const{_id:o,knowledgeEntry:{intent:a}}=t;n({id:o,name:a}),r("showRestoreKnowledgeEntryArchiveDialog")};return d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("section",{children:[d.jsx("p",{className:"font-medium",children:t.knowledgeEntry.intent}),d.jsx("p",{className:"text-muted-foreground text-sm",children:`From: ${t.knowledgeBase}  Archived on ${new Date(t.archivedAt).toLocaleDateString()}`})]}),(e==null?void 0:e.role)!=="viewer"&&d.jsx(XU,{onRestore:i,onDelete:s})]})},Lue=()=>{const{data:t,isLoading:e,isError:n}=Vl({queryFn:()=>gue(),queryKey:Wg});return e?d.jsx(JU,{}):!t||n?d.jsx(ZU,{}):d.jsx(qh,{className:"h-[500px] flex border border-neutral-200 p-4 rounded-sm",children:t.items.length!==0?d.jsx(Pu,{listStyle:"space-y-3 w-full",items:t.items,renderItem:r=>d.jsx(jue,{item:r})}):d.jsxs("div",{className:"h-[466px] flex-1 flex flex-col justify-center items-center",children:[d.jsx("div",{className:"h-20 w-20 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:d.jsx(kv,{className:"h-10 w-10 text-primary"})}),d.jsx("h2",{className:"text-lg font-semibold mb-2",children:"No archived entries"}),d.jsxs("p",{className:"text-sm text-center text-muted-foreground mb-6 max-w-md whitespace-pre-line",children:["When you archive knowledge entries, they'll appear here. Archived entries can be restored or permanently deleted. ",d.jsx("br",{}),"Note: Archives are automatically deleted after 30 days."]})]})})},Vue=()=>{const t=ji(n=>n.currentSelectedTabInArchiveTab),e=ji(n=>n.setCurrentSelectedTabInArchiveTab);return d.jsxs(s2,{value:t,onValueChange:n=>e(n),className:"space-y-4",children:[d.jsxs(aS,{className:"p-1 border-neutral-200 border rounded-md",children:[d.jsx(Og,{className:"data-[state=active]:bg-primary data-[state=active]:text-white rounded-sm",value:"knowledgeBases",children:"Knowledge Bases"}),d.jsx(Og,{className:"data-[state=active]:bg-primary data-[state=active]:text-white rounded-sm",value:"knowledgeEntries",children:"Knowledge Entries"})]}),t==="knowledgeBases"&&d.jsx(Oue,{}),t==="knowledgeEntries"&&d.jsx(Lue,{})]})},Fue=()=>{const t=Bs(),e=Ra(),n=ut(P=>P.admin),{id:r,name:s}=Ht(P=>P.selectedKnowledgeBaseArchiveItem),{id:i,name:o}=Ht(P=>P.selectedKnowledgeEntryArchiveItem),a=Qr(P=>P.dialogs),l=Qr(P=>P.setDialogState),c=vc.baseArchive(s??"Unknown Base"),u=vc.baseRestore(s??"Unknown Entry"),h=vc.entryArchive(o??"Unknown Base"),p=vc.entryRestore(o??"Unknown Base"),{mutateAsync:g}=Rr({mutationFn:vue,onSuccess:P=>{e.invalidateQueries({queryKey:Kg}),t({title:P,description:tt()})},onError:P=>{t({title:P.message,description:tt(),variant:"destructive"})}}),w=async()=>{try{if(!r)throw new Error("Knowledge base archive id not found");await g(r)}catch(P){console.error("An unexpected error occured: ",P)}},{mutateAsync:v}=Rr({mutationFn:wue,onSuccess:P=>{e.invalidateQueries({queryKey:Jd}),e.invalidateQueries({queryKey:Kg}),t({title:P,description:tt()})},onError:P=>{t({title:P.message,description:tt(),variant:"destructive"})}}),_=async()=>{try{if(!r)throw new Error("Knowledge base archive id not found");await v(r)}catch(P){console.error("An unexpected error occured: ",P)}},{mutateAsync:x}=Rr({mutationFn:yue,onSuccess:P=>{e.invalidateQueries({queryKey:Wg}),t({title:P,description:tt()})},onError:P=>{t({title:P.message,description:tt(),variant:"destructive"})}}),y=async()=>{try{if(!i)throw new Error("Knowledge entry archive id not found");await x(i)}catch(P){console.error("An unexpected error occured: ",P)}},{mutateAsync:b}=Rr({mutationFn:xue,onSuccess:P=>{e.invalidateQueries({queryKey:Wg}),t({title:P,description:tt()})},onError:P=>{t({title:P.message,description:tt(),variant:"destructive"})}}),C=async()=>{try{if(!i)throw new Error("Knowledge entry archive id not found");await b(i)}catch(P){console.error("An unexpected error occured: ",P)}};return d.jsxs("section",{className:"flex-1 flex-col space-y-4",children:[d.jsxs(ln,{children:[d.jsxs(Mn,{children:[d.jsx(On,{children:"Archives"}),d.jsx(pi,{children:(n==null?void 0:n.role)!=="viewer"?"View and manage archived knowledge bases and entries.":"View archived knowledge bases and entries."})]}),d.jsx(pn,{children:d.jsx(Vue,{})})]}),a.showDeleteKnowledgeBaseArchiveDialog&&d.jsx(Xa,{title:c.title,description:c.description,isOpen:a.showDeleteKnowledgeBaseArchiveDialog,setDialogState:P=>l("showDeleteKnowledgeBaseArchiveDialog",P),onDelete:w,isDestructive:!0}),a.showRestoreKnowledgeBaseArchiveDialog&&d.jsx(Xa,{title:u.title,description:u.description,isOpen:a.showRestoreKnowledgeBaseArchiveDialog,setDialogState:P=>l("showRestoreKnowledgeBaseArchiveDialog",P),onDelete:_}),a.showDeleteKnowledgeEntryArchiveDialog&&d.jsx(Xa,{title:h.title,description:h.description,isOpen:a.showDeleteKnowledgeEntryArchiveDialog,setDialogState:P=>l("showDeleteKnowledgeEntryArchiveDialog",P),onDelete:y,isDestructive:!0}),a.showRestoreKnowledgeEntryArchiveDialog&&d.jsx(Xa,{title:p.title,description:p.description,isOpen:a.showRestoreKnowledgeEntryArchiveDialog,setDialogState:P=>l("showRestoreKnowledgeEntryArchiveDialog",P),onDelete:C})]})},Ln=[];for(let t=0;t<256;++t)Ln.push((t+256).toString(16).slice(1));function Uue(t,e=0){return(Ln[t[e+0]]+Ln[t[e+1]]+Ln[t[e+2]]+Ln[t[e+3]]+"-"+Ln[t[e+4]]+Ln[t[e+5]]+"-"+Ln[t[e+6]]+Ln[t[e+7]]+"-"+Ln[t[e+8]]+Ln[t[e+9]]+"-"+Ln[t[e+10]]+Ln[t[e+11]]+Ln[t[e+12]]+Ln[t[e+13]]+Ln[t[e+14]]+Ln[t[e+15]]).toLowerCase()}let p0;const Bue=new Uint8Array(16);function $ue(){if(!p0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");p0=crypto.getRandomValues.bind(crypto)}return p0(Bue)}const zue=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),mP={randomUUID:zue};function Kue(t,e,n){if(mP.randomUUID&&!e&&!t)return mP.randomUUID();t=t||{};const r=t.random||(t.rng||$ue)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Uue(r)}const pB=()=>Kue(),Wue=({placeholderText:t,selectChoices:e,selectLabel:n,field:r,isError:s})=>d.jsx("div",{className:"w-[200px]",children:d.jsxs(WU,{onValueChange:r.onChange,value:r.value,children:[d.jsx(uT,{style:{width:"170px"},className:ue("min-w-0",s&&"border-destructive"),children:d.jsx(qU,{placeholder:t})}),d.jsx(dT,{children:d.jsxs(HU,{children:[n&&d.jsx(YU,{children:n}),e.map(i=>d.jsx(hT,{value:i.value,children:i.label},pB()))]})})]})}),Hue=({onAddQuery:t})=>{const{register:e,handleSubmit:n,control:r,setValue:s,formState:{errors:i}}=Zf(),o=a=>{t(a.queryType,a.queryLabel,a.query),s("query",""),s("queryLabel","")};return d.jsxs("form",{onSubmit:n(o),className:"flex space-x-2",children:[d.jsx(Lt,{className:`${i.query?"border-destructive":""}`,placeholder:"Enter query label (e.g Say Hi)",...e("queryLabel",{required:"A query label is required"})}),d.jsx(Lt,{className:`${i.query?"border-destructive":""}`,placeholder:"Enter your suggested query",...e("query",{required:"A query is required"})}),d.jsx(K4,{name:"queryType",control:r,rules:{required:"Query type is required"},render:({field:a})=>d.jsx(Wue,{placeholderText:"Select query type",selectChoices:[{value:"quickAccess",label:"Quick Access"},{value:"menuAccess",label:"Menu Access"}],field:a,isError:!!i.queryType})}),d.jsxs(Xe,{type:"submit",className:"space-x-1.5",children:[d.jsx(bu,{className:"size-5"}),d.jsx("p",{children:"Add Query"})]})]})};function que(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return m.useMemo(()=>r=>{e.forEach(s=>s(r))},e)}const jy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function $u(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function vT(t){return"nodeType"in t}function kr(t){var e,n;return t?$u(t)?t:vT(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function yT(t){const{Document:e}=kr(t);return t instanceof e}function tp(t){return $u(t)?!1:t instanceof kr(t).HTMLElement}function mB(t){return t instanceof kr(t).SVGElement}function zu(t){return t?$u(t)?t.document:vT(t)?yT(t)?t:tp(t)||mB(t)?t.ownerDocument:document:document:document}const hi=jy?m.useLayoutEffect:m.useEffect;function wT(t){const e=m.useRef(t);return hi(()=>{e.current=t}),m.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function Gue(){const t=m.useRef(null),e=m.useCallback((r,s)=>{t.current=setInterval(r,s)},[]),n=m.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function Gh(t,e){e===void 0&&(e=[t]);const n=m.useRef(t);return hi(()=>{n.current!==t&&(n.current=t)},e),n}function np(t,e){const n=m.useRef();return m.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function nv(t){const e=wT(t),n=m.useRef(null),r=m.useCallback(s=>{s!==n.current&&(e==null||e(s,n.current)),n.current=s},[]);return[n,r]}function M_(t){const e=m.useRef();return m.useEffect(()=>{e.current=t},[t]),e.current}let m0={};function rp(t,e){return m.useMemo(()=>{if(e)return e;const n=m0[t]==null?0:m0[t]+1;return m0[t]=n,t+"-"+n},[t,e])}function gB(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((i,o)=>{const a=Object.entries(o);for(const[l,c]of a){const u=i[l];u!=null&&(i[l]=u+t*c)}return i},{...e})}}const kc=gB(1),rv=gB(-1);function Que(t){return"clientX"in t&&"clientY"in t}function xT(t){if(!t)return!1;const{KeyboardEvent:e}=kr(t.target);return e&&t instanceof e}function Yue(t){if(!t)return!1;const{TouchEvent:e}=kr(t.target);return e&&t instanceof e}function O_(t){if(Yue(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return Que(t)?{x:t.clientX,y:t.clientY}:null}const Qh=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Qh.Translate.toString(t),Qh.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),gP="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Xue(t){return t.matches(gP)?t:t.querySelector(gP)}const Jue={display:"none"};function Zue(t){let{id:e,value:n}=t;return Re.createElement("div",{id:e,style:Jue},n)}function ede(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Re.createElement("div",{id:e,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function tde(){const[t,e]=m.useState("");return{announce:m.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const vB=m.createContext(null);function nde(t){const e=m.useContext(vB);m.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function rde(){const[t]=m.useState(()=>new Set),e=m.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[m.useCallback(r=>{let{type:s,event:i}=r;t.forEach(o=>{var a;return(a=o[s])==null?void 0:a.call(o,i)})},[t]),e]}const sde={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},ide={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function ode(t){let{announcements:e=ide,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=sde}=t;const{announce:i,announcement:o}=tde(),a=rp("DndLiveRegion"),[l,c]=m.useState(!1);if(m.useEffect(()=>{c(!0)},[]),nde(m.useMemo(()=>({onDragStart(h){let{active:p}=h;i(e.onDragStart({active:p}))},onDragMove(h){let{active:p,over:g}=h;e.onDragMove&&i(e.onDragMove({active:p,over:g}))},onDragOver(h){let{active:p,over:g}=h;i(e.onDragOver({active:p,over:g}))},onDragEnd(h){let{active:p,over:g}=h;i(e.onDragEnd({active:p,over:g}))},onDragCancel(h){let{active:p,over:g}=h;i(e.onDragCancel({active:p,over:g}))}}),[i,e])),!l)return null;const u=Re.createElement(Re.Fragment,null,Re.createElement(Zue,{id:r,value:s.draggable}),Re.createElement(ede,{id:a,announcement:o}));return n?Ar.createPortal(u,n):u}var _n;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(_n||(_n={}));function sv(){}const Us=Object.freeze({x:0,y:0});function ade(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function lde(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function cde(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),s=Math.min(e.left+e.width,t.left+t.width),i=Math.min(e.top+e.height,t.top+t.height),o=s-r,a=i-n;if(r<s&&n<i){const l=e.width*e.height,c=t.width*t.height,u=o*a,h=u/(l+c-u);return Number(h.toFixed(4))}return 0}const ude=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=[];for(const i of r){const{id:o}=i,a=n.get(o);if(a){const l=cde(a,e);l>0&&s.push({id:o,data:{droppableContainer:i,value:l}})}}return s.sort(ade)};function dde(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function yB(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Us}function hde(t){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return s.reduce((o,a)=>({...o,top:o.top+t*a.y,bottom:o.bottom+t*a.y,left:o.left+t*a.x,right:o.right+t*a.x}),{...n})}}const fde=hde(1);function pde(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function mde(t,e,n){const r=pde(e);if(!r)return t;const{scaleX:s,scaleY:i,x:o,y:a}=r,l=t.left-o-(1-s)*parseFloat(n),c=t.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),u=s?t.width/s:t.width,h=i?t.height/i:t.height;return{width:u,height:h,top:c,right:l+u,bottom:c+h,left:l}}const gde={ignoreTransform:!1};function Ku(t,e){e===void 0&&(e=gde);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:c,transformOrigin:u}=kr(t).getComputedStyle(t);c&&(n=mde(n,c,u))}const{top:r,left:s,width:i,height:o,bottom:a,right:l}=n;return{top:r,left:s,width:i,height:o,bottom:a,right:l}}function vP(t){return Ku(t,{ignoreTransform:!0})}function vde(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function yde(t,e){return e===void 0&&(e=kr(t).getComputedStyle(t)),e.position==="fixed"}function wde(t,e){e===void 0&&(e=kr(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=e[s];return typeof i=="string"?n.test(i):!1})}function _T(t,e){const n=[];function r(s){if(e!=null&&n.length>=e||!s)return n;if(yT(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!tp(s)||mB(s)||n.includes(s))return n;const i=kr(t).getComputedStyle(s);return s!==t&&wde(s,i)&&n.push(s),yde(s,i)?n:r(s.parentNode)}return t?r(t):n}function wB(t){const[e]=_T(t,1);return e??null}function g0(t){return!jy||!t?null:$u(t)?t:vT(t)?yT(t)||t===zu(t).scrollingElement?window:tp(t)?t:null:null}function xB(t){return $u(t)?t.scrollX:t.scrollLeft}function _B(t){return $u(t)?t.scrollY:t.scrollTop}function j_(t){return{x:xB(t),y:_B(t)}}var Dn;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Dn||(Dn={}));function EB(t){return!jy||!t?!1:t===document.scrollingElement}function bB(t){const e={x:0,y:0},n=EB(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},s=t.scrollTop<=e.y,i=t.scrollLeft<=e.x,o=t.scrollTop>=r.y,a=t.scrollLeft>=r.x;return{isTop:s,isLeft:i,isBottom:o,isRight:a,maxScroll:r,minScroll:e}}const xde={x:.2,y:.2};function _de(t,e,n,r,s){let{top:i,left:o,right:a,bottom:l}=n;r===void 0&&(r=10),s===void 0&&(s=xde);const{isTop:c,isBottom:u,isLeft:h,isRight:p}=bB(t),g={x:0,y:0},w={x:0,y:0},v={height:e.height*s.y,width:e.width*s.x};return!c&&i<=e.top+v.height?(g.y=Dn.Backward,w.y=r*Math.abs((e.top+v.height-i)/v.height)):!u&&l>=e.bottom-v.height&&(g.y=Dn.Forward,w.y=r*Math.abs((e.bottom-v.height-l)/v.height)),!p&&a>=e.right-v.width?(g.x=Dn.Forward,w.x=r*Math.abs((e.right-v.width-a)/v.width)):!h&&o<=e.left+v.width&&(g.x=Dn.Backward,w.x=r*Math.abs((e.left+v.width-o)/v.width)),{direction:g,speed:w}}function Ede(t){if(t===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:e,left:n,right:r,bottom:s}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:s,width:t.clientWidth,height:t.clientHeight}}function SB(t){return t.reduce((e,n)=>kc(e,j_(n)),Us)}function bde(t){return t.reduce((e,n)=>e+xB(n),0)}function Sde(t){return t.reduce((e,n)=>e+_B(n),0)}function Tde(t,e){if(e===void 0&&(e=Ku),!t)return;const{top:n,left:r,bottom:s,right:i}=e(t);wB(t)&&(s<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const Cde=[["x",["left","right"],bde],["y",["top","bottom"],Sde]];class ET{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=_T(n),s=SB(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[i,o,a]of Cde)for(const l of o)Object.defineProperty(this,l,{get:()=>{const c=a(r),u=s[i]-c;return this.rect[l]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class rh{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var s;(s=this.target)==null||s.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function Ade(t){const{EventTarget:e}=kr(t);return t instanceof e?t:zu(t)}function v0(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var ls;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(ls||(ls={}));function yP(t){t.preventDefault()}function Rde(t){t.stopPropagation()}var gt;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter"})(gt||(gt={}));const TB={start:[gt.Space,gt.Enter],cancel:[gt.Esc],end:[gt.Space,gt.Enter]},Ide=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case gt.Right:return{...n,x:n.x+25};case gt.Left:return{...n,x:n.x-25};case gt.Down:return{...n,y:n.y+25};case gt.Up:return{...n,y:n.y-25}}};class CB{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new rh(zu(n)),this.windowListeners=new rh(kr(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ls.Resize,this.handleCancel),this.windowListeners.add(ls.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ls.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&Tde(r),n(Us)}handleKeyDown(e){if(xT(e)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:i=TB,coordinateGetter:o=Ide,scrollBehavior:a="smooth"}=s,{code:l}=e;if(i.end.includes(l)){this.handleEnd(e);return}if(i.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:c}=r.current,u=c?{x:c.left,y:c.top}:Us;this.referenceCoordinates||(this.referenceCoordinates=u);const h=o(e,{active:n,context:r.current,currentCoordinates:u});if(h){const p=rv(h,u),g={x:0,y:0},{scrollableAncestors:w}=r.current;for(const v of w){const _=e.code,{isTop:x,isRight:y,isLeft:b,isBottom:C,maxScroll:P,minScroll:O}=bB(v),T=Ede(v),E={x:Math.min(_===gt.Right?T.right-T.width/2:T.right,Math.max(_===gt.Right?T.left:T.left+T.width/2,h.x)),y:Math.min(_===gt.Down?T.bottom-T.height/2:T.bottom,Math.max(_===gt.Down?T.top:T.top+T.height/2,h.y))},I=_===gt.Right&&!y||_===gt.Left&&!b,R=_===gt.Down&&!C||_===gt.Up&&!x;if(I&&E.x!==h.x){const k=v.scrollLeft+p.x,M=_===gt.Right&&k<=P.x||_===gt.Left&&k>=O.x;if(M&&!p.y){v.scrollTo({left:k,behavior:a});return}M?g.x=v.scrollLeft-k:g.x=_===gt.Right?v.scrollLeft-P.x:v.scrollLeft-O.x,g.x&&v.scrollBy({left:-g.x,behavior:a});break}else if(R&&E.y!==h.y){const k=v.scrollTop+p.y,M=_===gt.Down&&k<=P.y||_===gt.Up&&k>=O.y;if(M&&!p.x){v.scrollTo({top:k,behavior:a});return}M?g.y=v.scrollTop-k:g.y=_===gt.Down?v.scrollTop-P.y:v.scrollTop-O.y,g.y&&v.scrollBy({top:-g.y,behavior:a});break}}this.handleMove(e,kc(rv(h,this.referenceCoordinates),g))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}CB.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=TB,onActivation:s}=e,{active:i}=n;const{code:o}=t.nativeEvent;if(r.start.includes(o)){const a=i.activatorNode.current;return a&&t.target!==a?!1:(t.preventDefault(),s==null||s({event:t.nativeEvent}),!0)}return!1}}];function wP(t){return!!(t&&"distance"in t)}function xP(t){return!!(t&&"delay"in t)}class bT{constructor(e,n,r){var s;r===void 0&&(r=Ade(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:i}=e,{target:o}=i;this.props=e,this.events=n,this.document=zu(o),this.documentListeners=new rh(this.document),this.listeners=new rh(r),this.windowListeners=new rh(kr(o)),this.initialCoordinates=(s=O_(i))!=null?s:Us,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(ls.Resize,this.handleCancel),this.windowListeners.add(ls.DragStart,yP),this.windowListeners.add(ls.VisibilityChange,this.handleCancel),this.windowListeners.add(ls.ContextMenu,yP),this.documentListeners.add(ls.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(xP(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}if(wP(n))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(ls.Click,Rde,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ls.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:s,props:i}=this,{onMove:o,options:{activationConstraint:a}}=i;if(!s)return;const l=(n=O_(e))!=null?n:Us,c=rv(s,l);if(!r&&a){if(wP(a)){if(a.tolerance!=null&&v0(c,a.tolerance))return this.handleCancel();if(v0(c,a.distance))return this.handleStart()}return xP(a)&&v0(c,a.tolerance)?this.handleCancel():void 0}e.cancelable&&e.preventDefault(),o(l)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===gt.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const Pde={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class AB extends bT{constructor(e){const{event:n}=e,r=zu(n.target);super(e,Pde,r)}}AB.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const Nde={move:{name:"mousemove"},end:{name:"mouseup"}};var L_;(function(t){t[t.RightClick=2]="RightClick"})(L_||(L_={}));class Dde extends bT{constructor(e){super(e,Nde,zu(e.event.target))}}Dde.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===L_.RightClick?!1:(r==null||r({event:n}),!0)}}];const y0={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class kde extends bT{constructor(e){super(e,y0)}static setup(){return window.addEventListener(y0.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(y0.move.name,e)};function e(){}}}kde.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var sh;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(sh||(sh={}));var iv;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(iv||(iv={}));function Mde(t){let{acceleration:e,activator:n=sh.Pointer,canScroll:r,draggingRect:s,enabled:i,interval:o=5,order:a=iv.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:u,delta:h,threshold:p}=t;const g=jde({delta:h,disabled:!i}),[w,v]=Gue(),_=m.useRef({x:0,y:0}),x=m.useRef({x:0,y:0}),y=m.useMemo(()=>{switch(n){case sh.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case sh.DraggableRect:return s}},[n,s,l]),b=m.useRef(null),C=m.useCallback(()=>{const O=b.current;if(!O)return;const T=_.current.x*x.current.x,E=_.current.y*x.current.y;O.scrollBy(T,E)},[]),P=m.useMemo(()=>a===iv.TreeOrder?[...c].reverse():c,[a,c]);m.useEffect(()=>{if(!i||!c.length||!y){v();return}for(const O of P){if((r==null?void 0:r(O))===!1)continue;const T=c.indexOf(O),E=u[T];if(!E)continue;const{direction:I,speed:R}=_de(O,E,y,e,p);for(const k of["x","y"])g[k][I[k]]||(R[k]=0,I[k]=0);if(R.x>0||R.y>0){v(),b.current=O,w(C,o),_.current=R,x.current=I;return}}_.current={x:0,y:0},x.current={x:0,y:0},v()},[e,C,r,v,i,o,JSON.stringify(y),JSON.stringify(g),w,c,P,u,JSON.stringify(p)])}const Ode={x:{[Dn.Backward]:!1,[Dn.Forward]:!1},y:{[Dn.Backward]:!1,[Dn.Forward]:!1}};function jde(t){let{delta:e,disabled:n}=t;const r=M_(e);return np(s=>{if(n||!r||!s)return Ode;const i={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Dn.Backward]:s.x[Dn.Backward]||i.x===-1,[Dn.Forward]:s.x[Dn.Forward]||i.x===1},y:{[Dn.Backward]:s.y[Dn.Backward]||i.y===-1,[Dn.Forward]:s.y[Dn.Forward]||i.y===1}}},[n,e,r])}function Lde(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return np(s=>{var i;return e==null?null:(i=r??s)!=null?i:null},[r,e])}function Vde(t,e){return m.useMemo(()=>t.reduce((n,r)=>{const{sensor:s}=r,i=s.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,r)}));return[...n,...i]},[]),[t,e])}var Yh;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Yh||(Yh={}));var V_;(function(t){t.Optimized="optimized"})(V_||(V_={}));const _P=new Map;function Fde(t,e){let{dragging:n,dependencies:r,config:s}=e;const[i,o]=m.useState(null),{frequency:a,measure:l,strategy:c}=s,u=m.useRef(t),h=_(),p=Gh(h),g=m.useCallback(function(x){x===void 0&&(x=[]),!p.current&&o(y=>y===null?x:y.concat(x.filter(b=>!y.includes(b))))},[p]),w=m.useRef(null),v=np(x=>{if(h&&!n)return _P;if(!x||x===_P||u.current!==t||i!=null){const y=new Map;for(let b of t){if(!b)continue;if(i&&i.length>0&&!i.includes(b.id)&&b.rect.current){y.set(b.id,b.rect.current);continue}const C=b.node.current,P=C?new ET(l(C),C):null;b.rect.current=P,P&&y.set(b.id,P)}return y}return x},[t,i,n,h,l]);return m.useEffect(()=>{u.current=t},[t]),m.useEffect(()=>{h||g()},[n,h]),m.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),m.useEffect(()=>{h||typeof a!="number"||w.current!==null||(w.current=setTimeout(()=>{g(),w.current=null},a))},[a,h,g,...r]),{droppableRects:v,measureDroppableContainers:g,measuringScheduled:i!=null};function _(){switch(c){case Yh.Always:return!1;case Yh.BeforeDragging:return n;default:return!n}}}function RB(t,e){return np(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function Ude(t,e){return RB(t,e)}function Bde(t){let{callback:e,disabled:n}=t;const r=wT(e),s=m.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return m.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Ly(t){let{callback:e,disabled:n}=t;const r=wT(e),s=m.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return m.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function $de(t){return new ET(Ku(t),t)}function EP(t,e,n){e===void 0&&(e=$de);const[r,s]=m.useState(null);function i(){s(l=>{if(!t)return null;if(t.isConnected===!1){var c;return(c=l??n)!=null?c:null}const u=e(t);return JSON.stringify(l)===JSON.stringify(u)?l:u})}const o=Bde({callback(l){if(t)for(const c of l){const{type:u,target:h}=c;if(u==="childList"&&h instanceof HTMLElement&&h.contains(t)){i();break}}}}),a=Ly({callback:i});return hi(()=>{i(),t?(a==null||a.observe(t),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[t]),r}function zde(t){const e=RB(t);return yB(t,e)}const bP=[];function Kde(t){const e=m.useRef(t),n=np(r=>t?r&&r!==bP&&t&&e.current&&t.parentNode===e.current.parentNode?r:_T(t):bP,[t]);return m.useEffect(()=>{e.current=t},[t]),n}function Wde(t){const[e,n]=m.useState(null),r=m.useRef(t),s=m.useCallback(i=>{const o=g0(i.target);o&&n(a=>a?(a.set(o,j_(o)),new Map(a)):null)},[]);return m.useEffect(()=>{const i=r.current;if(t!==i){o(i);const a=t.map(l=>{const c=g0(l);return c?(c.addEventListener("scroll",s,{passive:!0}),[c,j_(c)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=t}return()=>{o(t),o(i)};function o(a){a.forEach(l=>{const c=g0(l);c==null||c.removeEventListener("scroll",s)})}},[s,t]),m.useMemo(()=>t.length?e?Array.from(e.values()).reduce((i,o)=>kc(i,o),Us):SB(t):Us,[t,e])}function SP(t,e){e===void 0&&(e=[]);const n=m.useRef(null);return m.useEffect(()=>{n.current=null},e),m.useEffect(()=>{const r=t!==Us;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?rv(t,n.current):Us}function Hde(t){m.useEffect(()=>{if(!jy)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function qde(t,e){return m.useMemo(()=>t.reduce((n,r)=>{let{eventName:s,handler:i}=r;return n[s]=o=>{i(o,e)},n},{}),[t,e])}function IB(t){return m.useMemo(()=>t?vde(t):null,[t])}const TP=[];function Gde(t,e){e===void 0&&(e=Ku);const[n]=t,r=IB(n?kr(n):null),[s,i]=m.useState(TP);function o(){i(()=>t.length?t.map(l=>EB(l)?r:new ET(e(l),l)):TP)}const a=Ly({callback:o});return hi(()=>{a==null||a.disconnect(),o(),t.forEach(l=>a==null?void 0:a.observe(l))},[t]),s}function Qde(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return tp(e)?e:t}function Yde(t){let{measure:e}=t;const[n,r]=m.useState(null),s=m.useCallback(c=>{for(const{target:u}of c)if(tp(u)){r(h=>{const p=e(u);return h?{...h,width:p.width,height:p.height}:p});break}},[e]),i=Ly({callback:s}),o=m.useCallback(c=>{const u=Qde(c);i==null||i.disconnect(),u&&(i==null||i.observe(u)),r(u?e(u):null)},[e,i]),[a,l]=nv(o);return m.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const Xde=[{sensor:AB,options:{}},{sensor:CB,options:{}}],Jde={current:{}},Um={draggable:{measure:vP},droppable:{measure:vP,strategy:Yh.WhileDragging,frequency:V_.Optimized},dragOverlay:{measure:Ku}};class ih extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const Zde={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ih,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:sv},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Um,measureDroppableContainers:sv,windowRect:null,measuringScheduled:!1},ehe={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:sv,draggableNodes:new Map,over:null,measureDroppableContainers:sv},Vy=m.createContext(ehe),PB=m.createContext(Zde);function the(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ih}}}function nhe(t,e){switch(e.type){case _n.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case _n.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case _n.DragEnd:case _n.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case _n.RegisterDroppable:{const{element:n}=e,{id:r}=n,s=new ih(t.droppable.containers);return s.set(r,n),{...t,droppable:{...t.droppable,containers:s}}}case _n.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const o=new ih(t.droppable.containers);return o.set(n,{...i,disabled:s}),{...t,droppable:{...t.droppable,containers:o}}}case _n.UnregisterDroppable:{const{id:n,key:r}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const i=new ih(t.droppable.containers);return i.delete(n),{...t,droppable:{...t.droppable,containers:i}}}default:return t}}function rhe(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:s}=m.useContext(Vy),i=M_(r),o=M_(n==null?void 0:n.id);return m.useEffect(()=>{if(!e&&!r&&i&&o!=null){if(!xT(i)||document.activeElement===i.target)return;const a=s.get(o);if(!a)return;const{activatorNode:l,node:c}=a;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const u of[l.current,c.current]){if(!u)continue;const h=Xue(u);if(h){h.focus();break}}})}},[r,e,s,o,i]),null}function she(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((s,i)=>i({transform:s,...r}),n):n}function ihe(t){return m.useMemo(()=>({draggable:{...Um.draggable,...t==null?void 0:t.draggable},droppable:{...Um.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Um.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function ohe(t){let{activeNode:e,measure:n,initialRect:r,config:s=!0}=t;const i=m.useRef(!1),{x:o,y:a}=typeof s=="boolean"?{x:s,y:s}:s;hi(()=>{if(!o&&!a||!e){i.current=!1;return}if(i.current||!r)return;const c=e==null?void 0:e.node.current;if(!c||c.isConnected===!1)return;const u=n(c),h=yB(u,r);if(o||(h.x=0),a||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const p=wB(c);p&&p.scrollBy({top:h.y,left:h.x})}},[e,o,a,r,n])}const NB=m.createContext({...Us,scaleX:1,scaleY:1});var Eo;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Eo||(Eo={}));const ahe=m.memo(function(e){var n,r,s,i;let{id:o,accessibility:a,autoScroll:l=!0,children:c,sensors:u=Xde,collisionDetection:h=ude,measuring:p,modifiers:g,...w}=e;const v=m.useReducer(nhe,void 0,the),[_,x]=v,[y,b]=rde(),[C,P]=m.useState(Eo.Uninitialized),O=C===Eo.Initialized,{draggable:{active:T,nodes:E,translate:I},droppable:{containers:R}}=_,k=T!=null?E.get(T):null,M=m.useRef({initial:null,translated:null}),N=m.useMemo(()=>{var $t;return T!=null?{id:T,data:($t=k==null?void 0:k.data)!=null?$t:Jde,rect:M}:null},[T,k]),W=m.useRef(null),[se,ne]=m.useState(null),[Y,z]=m.useState(null),B=Gh(w,Object.values(w)),J=rp("DndDescribedBy",o),fe=m.useMemo(()=>R.getEnabled(),[R]),he=ihe(p),{droppableRects:Te,measureDroppableContainers:We,measuringScheduled:at}=Fde(fe,{dragging:O,dependencies:[I.x,I.y],config:he.droppable}),Ne=Lde(E,T),ce=m.useMemo(()=>Y?O_(Y):null,[Y]),Pe=Zr(),He=Ude(Ne,he.draggable.measure);ohe({activeNode:T!=null?E.get(T):null,config:Pe.layoutShiftCompensation,initialRect:He,measure:he.draggable.measure});const pe=EP(Ne,he.draggable.measure,He),$e=EP(Ne?Ne.parentElement:null),Oe=m.useRef({activatorEvent:null,active:null,activeNode:Ne,collisionRect:null,collisions:null,droppableRects:Te,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:R,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),yt=R.getNodeFor((n=Oe.current.over)==null?void 0:n.id),qe=Yde({measure:he.dragOverlay.measure}),Vt=(r=qe.nodeRef.current)!=null?r:Ne,mn=O?(s=qe.rect)!=null?s:pe:null,Mr=!!(qe.nodeRef.current&&qe.rect),j=zde(Mr?null:pe),$=IB(Vt?kr(Vt):null),H=Kde(O?yt??Ne:null),ie=Gde(H),re=she(g,{transform:{x:I.x-j.x,y:I.y-j.y,scaleX:1,scaleY:1},activatorEvent:Y,active:N,activeNodeRect:pe,containerNodeRect:$e,draggingNodeRect:mn,over:Oe.current.over,overlayNodeRect:qe.rect,scrollableAncestors:H,scrollableAncestorRects:ie,windowRect:$}),ee=ce?kc(ce,I):null,_e=Wde(H),Ue=SP(_e),Be=SP(_e,[pe]),je=kc(re,Ue),Yt=mn?fde(mn,re):null,wr=N&&Yt?h({active:N,collisionRect:Yt,droppableRects:Te,droppableContainers:fe,pointerCoordinates:ee}):null,Rn=lde(wr,"id"),[Ft,Or]=m.useState(null),Jr=Mr?re:kc(re,Be),io=dde(Jr,(i=Ft==null?void 0:Ft.rect)!=null?i:null,pe),gn=m.useRef(null),Na=m.useCallback(($t,rn)=>{let{sensor:At,options:lr}=rn;if(W.current==null)return;const vn=E.get(W.current);if(!vn)return;const yn=$t.nativeEvent,In=new At({active:W.current,activeNode:vn,event:yn,options:lr,context:Oe,onStart(dt){const jr=W.current;if(jr==null)return;const xr=E.get(jr);if(!xr)return;const{onDragStart:ts}=B.current,oo={activatorEvent:yn,active:{id:jr,data:xr.data,rect:M}};Ar.unstable_batchedUpdates(()=>{ts==null||ts(oo),P(Eo.Initializing),x({type:_n.DragStart,initialCoordinates:dt,active:jr}),y({type:"onDragStart",event:oo}),ne(gn.current),z(yn)})},onMove(dt){x({type:_n.DragMove,coordinates:dt})},onEnd:es(_n.DragEnd),onCancel:es(_n.DragCancel)});gn.current=In;function es(dt){return async function(){const{active:xr,collisions:ts,over:oo,scrollAdjustedTranslate:L}=Oe.current;let F=null;if(xr&&L){const{cancelDrop:K}=B.current;F={activatorEvent:yn,active:xr,collisions:ts,delta:L,over:oo},dt===_n.DragEnd&&typeof K=="function"&&await Promise.resolve(K(F))&&(dt=_n.DragCancel)}W.current=null,Ar.unstable_batchedUpdates(()=>{x({type:dt}),P(Eo.Uninitialized),Or(null),ne(null),z(null),gn.current=null;const K=dt===_n.DragEnd?"onDragEnd":"onDragCancel";if(F){const G=B.current[K];G==null||G(F),y({type:K,event:F})}})}}},[E]),Fl=m.useCallback(($t,rn)=>(At,lr)=>{const vn=At.nativeEvent,yn=E.get(lr);if(W.current!==null||!yn||vn.dndKit||vn.defaultPrevented)return;const In={active:yn};$t(At,rn.options,In)===!0&&(vn.dndKit={capturedBy:rn.sensor},W.current=lr,Na(At,rn))},[E,Na]),gi=Vde(u,Fl);Hde(u),hi(()=>{pe&&C===Eo.Initializing&&P(Eo.Initialized)},[pe,C]),m.useEffect(()=>{const{onDragMove:$t}=B.current,{active:rn,activatorEvent:At,collisions:lr,over:vn}=Oe.current;if(!rn||!At)return;const yn={active:rn,activatorEvent:At,collisions:lr,delta:{x:je.x,y:je.y},over:vn};Ar.unstable_batchedUpdates(()=>{$t==null||$t(yn),y({type:"onDragMove",event:yn})})},[je.x,je.y]),m.useEffect(()=>{const{active:$t,activatorEvent:rn,collisions:At,droppableContainers:lr,scrollAdjustedTranslate:vn}=Oe.current;if(!$t||W.current==null||!rn||!vn)return;const{onDragOver:yn}=B.current,In=lr.get(Rn),es=In&&In.rect.current?{id:In.id,rect:In.rect.current,data:In.data,disabled:In.disabled}:null,dt={active:$t,activatorEvent:rn,collisions:At,delta:{x:vn.x,y:vn.y},over:es};Ar.unstable_batchedUpdates(()=>{Or(es),yn==null||yn(dt),y({type:"onDragOver",event:dt})})},[Rn]),hi(()=>{Oe.current={activatorEvent:Y,active:N,activeNode:Ne,collisionRect:Yt,collisions:wr,droppableRects:Te,draggableNodes:E,draggingNode:Vt,draggingNodeRect:mn,droppableContainers:R,over:Ft,scrollableAncestors:H,scrollAdjustedTranslate:je},M.current={initial:mn,translated:Yt}},[N,Ne,wr,Yt,E,Vt,mn,Te,R,Ft,H,je]),Mde({...Pe,delta:I,draggingRect:Yt,pointerCoordinates:ee,scrollableAncestors:H,scrollableAncestorRects:ie});const Ul=m.useMemo(()=>({active:N,activeNode:Ne,activeNodeRect:pe,activatorEvent:Y,collisions:wr,containerNodeRect:$e,dragOverlay:qe,draggableNodes:E,droppableContainers:R,droppableRects:Te,over:Ft,measureDroppableContainers:We,scrollableAncestors:H,scrollableAncestorRects:ie,measuringConfiguration:he,measuringScheduled:at,windowRect:$}),[N,Ne,pe,Y,wr,$e,qe,E,R,Te,Ft,We,H,ie,he,at,$]),Da=m.useMemo(()=>({activatorEvent:Y,activators:gi,active:N,activeNodeRect:pe,ariaDescribedById:{draggable:J},dispatch:x,draggableNodes:E,over:Ft,measureDroppableContainers:We}),[Y,gi,N,pe,x,J,E,Ft,We]);return Re.createElement(vB.Provider,{value:b},Re.createElement(Vy.Provider,{value:Da},Re.createElement(PB.Provider,{value:Ul},Re.createElement(NB.Provider,{value:io},c)),Re.createElement(rhe,{disabled:(a==null?void 0:a.restoreFocus)===!1})),Re.createElement(ode,{...a,hiddenTextDescribedById:J}));function Zr(){const $t=(se==null?void 0:se.autoScrollEnabled)===!1,rn=typeof l=="object"?l.enabled===!1:l===!1,At=O&&!$t&&!rn;return typeof l=="object"?{...l,enabled:At}:{enabled:At}}}),lhe=m.createContext(null),CP="button",che="Draggable";function uhe(t){let{id:e,data:n,disabled:r=!1,attributes:s}=t;const i=rp(che),{activators:o,activatorEvent:a,active:l,activeNodeRect:c,ariaDescribedById:u,draggableNodes:h,over:p}=m.useContext(Vy),{role:g=CP,roleDescription:w="draggable",tabIndex:v=0}=s??{},_=(l==null?void 0:l.id)===e,x=m.useContext(_?NB:lhe),[y,b]=nv(),[C,P]=nv(),O=qde(o,e),T=Gh(n);hi(()=>(h.set(e,{id:e,key:i,node:y,activatorNode:C,data:T}),()=>{const I=h.get(e);I&&I.key===i&&h.delete(e)}),[h,e]);const E=m.useMemo(()=>({role:g,tabIndex:v,"aria-disabled":r,"aria-pressed":_&&g===CP?!0:void 0,"aria-roledescription":w,"aria-describedby":u.draggable}),[r,g,v,_,w,u.draggable]);return{active:l,activatorEvent:a,activeNodeRect:c,attributes:E,isDragging:_,listeners:r?void 0:O,node:y,over:p,setNodeRef:b,setActivatorNodeRef:P,transform:x}}function dhe(){return m.useContext(PB)}const hhe="Droppable",fhe={timeout:25};function phe(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:s}=t;const i=rp(hhe),{active:o,dispatch:a,over:l,measureDroppableContainers:c}=m.useContext(Vy),u=m.useRef({disabled:n}),h=m.useRef(!1),p=m.useRef(null),g=m.useRef(null),{disabled:w,updateMeasurementsFor:v,timeout:_}={...fhe,...s},x=Gh(v??r),y=m.useCallback(()=>{if(!h.current){h.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{c(Array.isArray(x.current)?x.current:[x.current]),g.current=null},_)},[_]),b=Ly({callback:y,disabled:w||!o}),C=m.useCallback((E,I)=>{b&&(I&&(b.unobserve(I),h.current=!1),E&&b.observe(E))},[b]),[P,O]=nv(C),T=Gh(e);return m.useEffect(()=>{!b||!P.current||(b.disconnect(),h.current=!1,b.observe(P.current))},[P,b]),m.useEffect(()=>(a({type:_n.RegisterDroppable,element:{id:r,key:i,disabled:n,node:P,rect:p,data:T}}),()=>a({type:_n.UnregisterDroppable,key:i,id:r})),[r]),m.useEffect(()=>{n!==u.current.disabled&&(a({type:_n.SetDroppableDisabled,id:r,key:i,disabled:n}),u.current.disabled=n)},[r,i,n,a]),{active:o,rect:p,isOver:(l==null?void 0:l.id)===r,node:P,over:l,setNodeRef:O}}function ST(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function mhe(t,e){return t.reduce((n,r,s)=>{const i=e.get(r);return i&&(n[s]=i),n},Array(t.length))}function nm(t){return t!==null&&t>=0}function ghe(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function vhe(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const DB=t=>{let{rects:e,activeIndex:n,overIndex:r,index:s}=t;const i=ST(e,r,n),o=e[s],a=i[s];return!a||!o?null:{x:a.left-o.left,y:a.top-o.top,scaleX:a.width/o.width,scaleY:a.height/o.height}},rm={scaleX:1,scaleY:1},yhe=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:s,rects:i,overIndex:o}=t;const a=(e=i[n])!=null?e:r;if(!a)return null;if(s===n){const c=i[o];return c?{x:0,y:n<o?c.top+c.height-(a.top+a.height):c.top-a.top,...rm}:null}const l=whe(i,s,n);return s>n&&s<=o?{x:0,y:-a.height-l,...rm}:s<n&&s>=o?{x:0,y:a.height+l,...rm}:{x:0,y:0,...rm}};function whe(t,e,n){const r=t[e],s=t[e-1],i=t[e+1];return r?n<e?s?r.top-(s.top+s.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const kB="Sortable",MB=Re.createContext({activeIndex:-1,containerId:kB,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:DB,disabled:{draggable:!1,droppable:!1}});function xhe(t){let{children:e,id:n,items:r,strategy:s=DB,disabled:i=!1}=t;const{active:o,dragOverlay:a,droppableRects:l,over:c,measureDroppableContainers:u}=dhe(),h=rp(kB,n),p=a.rect!==null,g=m.useMemo(()=>r.map(O=>typeof O=="object"&&"id"in O?O.id:O),[r]),w=o!=null,v=o?g.indexOf(o.id):-1,_=c?g.indexOf(c.id):-1,x=m.useRef(g),y=!ghe(g,x.current),b=_!==-1&&v===-1||y,C=vhe(i);hi(()=>{y&&w&&u(g)},[y,g,w,u]),m.useEffect(()=>{x.current=g},[g]);const P=m.useMemo(()=>({activeIndex:v,containerId:h,disabled:C,disableTransforms:b,items:g,overIndex:_,useDragOverlay:p,sortedRects:mhe(g,l),strategy:s}),[v,h,C.draggable,C.droppable,b,g,_,l,p,s]);return Re.createElement(MB.Provider,{value:P},e)}const _he=t=>{let{id:e,items:n,activeIndex:r,overIndex:s}=t;return ST(n,r,s).indexOf(e)},Ehe=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:s,items:i,newIndex:o,previousItems:a,previousContainerId:l,transition:c}=t;return!c||!r||a!==i&&s===o?!1:n?!0:o!==s&&e===l},bhe={duration:200,easing:"ease"},OB="transform",She=Qh.Transition.toString({property:OB,duration:0,easing:"linear"}),The={roleDescription:"sortable"};function Che(t){let{disabled:e,index:n,node:r,rect:s}=t;const[i,o]=m.useState(null),a=m.useRef(n);return hi(()=>{if(!e&&n!==a.current&&r.current){const l=s.current;if(l){const c=Ku(r.current,{ignoreTransform:!0}),u={x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height};(u.x||u.y)&&o(u)}}n!==a.current&&(a.current=n)},[e,n,r,s]),m.useEffect(()=>{i&&o(null)},[i]),i}function Ahe(t){let{animateLayoutChanges:e=Ehe,attributes:n,disabled:r,data:s,getNewIndex:i=_he,id:o,strategy:a,resizeObserverConfig:l,transition:c=bhe}=t;const{items:u,containerId:h,activeIndex:p,disabled:g,disableTransforms:w,sortedRects:v,overIndex:_,useDragOverlay:x,strategy:y}=m.useContext(MB),b=Rhe(r,g),C=u.indexOf(o),P=m.useMemo(()=>({sortable:{containerId:h,index:C,items:u},...s}),[h,s,C,u]),O=m.useMemo(()=>u.slice(u.indexOf(o)),[u,o]),{rect:T,node:E,isOver:I,setNodeRef:R}=phe({id:o,data:P,disabled:b.droppable,resizeObserverConfig:{updateMeasurementsFor:O,...l}}),{active:k,activatorEvent:M,activeNodeRect:N,attributes:W,setNodeRef:se,listeners:ne,isDragging:Y,over:z,setActivatorNodeRef:B,transform:J}=uhe({id:o,data:P,attributes:{...The,...n},disabled:b.draggable}),fe=que(R,se),he=!!k,Te=he&&!w&&nm(p)&&nm(_),We=!x&&Y,at=We&&Te?J:null,ce=Te?at??(a??y)({rects:v,activeNodeRect:N,activeIndex:p,overIndex:_,index:C}):null,Pe=nm(p)&&nm(_)?i({id:o,items:u,activeIndex:p,overIndex:_}):C,He=k==null?void 0:k.id,pe=m.useRef({activeId:He,items:u,newIndex:Pe,containerId:h}),$e=u!==pe.current.items,Oe=e({active:k,containerId:h,isDragging:Y,isSorting:he,id:o,index:C,items:u,newIndex:pe.current.newIndex,previousItems:pe.current.items,previousContainerId:pe.current.containerId,transition:c,wasDragging:pe.current.activeId!=null}),yt=Che({disabled:!Oe,index:C,node:E,rect:T});return m.useEffect(()=>{he&&pe.current.newIndex!==Pe&&(pe.current.newIndex=Pe),h!==pe.current.containerId&&(pe.current.containerId=h),u!==pe.current.items&&(pe.current.items=u)},[he,Pe,h,u]),m.useEffect(()=>{if(He===pe.current.activeId)return;if(He!=null&&pe.current.activeId==null){pe.current.activeId=He;return}const Vt=setTimeout(()=>{pe.current.activeId=He},50);return()=>clearTimeout(Vt)},[He]),{active:k,activeIndex:p,attributes:W,data:P,rect:T,index:C,newIndex:Pe,items:u,isOver:I,isSorting:he,isDragging:Y,listeners:ne,node:E,overIndex:_,over:z,setNodeRef:fe,setActivatorNodeRef:B,setDroppableNodeRef:R,setDraggableNodeRef:se,transform:yt??ce,transition:qe()};function qe(){if(yt||$e&&pe.current.newIndex===C)return She;if(!(We&&!xT(M)||!c)&&(he||Oe))return Qh.Transition.toString({...c,property:OB})}}function Rhe(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}gt.Down,gt.Right,gt.Up,gt.Left;const Ihe=({id:t,text:e,label:n,onDelete:r,onEdit:s})=>{const i=ut(g=>g.admin),{attributes:o,listeners:a,setNodeRef:l,transform:c,transition:u}=Ahe({id:t}),h={transform:Qh.Transform.toString(c),transition:u},p=(i==null?void 0:i.role)!=="viewer"?{...o,...a}:{};return d.jsxs("div",{ref:l,style:h,className:"flex items-center justify-between p-3 bg-secondary/50 rounded-lg group hover:bg-secondary",children:[d.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[d.jsx("button",{className:"touch-none opacity-0 group-hover:opacity-50 hover:opacity-100 text-muted-foreground",...p,children:d.jsx(e8,{className:"w-4 h-4"})}),d.jsxs("span",{children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:n}),d.jsx("p",{children:e})]})]}),(i==null?void 0:i.role)!=="viewer"&&d.jsxs(d.Fragment,{children:[d.jsx(Xe,{variant:"ghost",size:"icon",onClick:s,className:"opacity-0 group-hover:opacity-100",children:d.jsx(SM,{size:20})}),d.jsx(Xe,{variant:"ghost",size:"icon",onClick:()=>r(t),className:"opacity-0 group-hover:opacity-100 text-destructive hover:text-destructive",children:d.jsx(Su,{size:20})})]})]})},Phe=({label:t,query:e,onCancel:n,onSave:r})=>{const{register:s,handleSubmit:i}=Zf({defaultValues:{label:t,query:e}}),o=a=>{r(a)};return d.jsxs("form",{onSubmit:i(o),className:"space-y-2 p-3 bg-secondary/50 rounded-lg",children:[d.jsx(Lt,{...s("label",{required:!0}),placeholder:"Enter query label",required:!0}),d.jsx(Lt,{...s("query",{required:!0}),placeholder:"Enter suggested query"}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(Xe,{size:"sm",variant:"ghost",onClick:n,children:d.jsx(Tf,{className:"w-4 h-4"})}),d.jsx(Xe,{type:"submit",size:"sm",variant:"ghost",children:d.jsx(ZE,{className:"w-4 h-4"})})]})]})},AP=({queries:t,setQueries:e,onDeleteQuery:n,onEditQueryV2:r,queryEditIndex:s,onCancelEditQuery:i,onSaveEditQuery:o})=>{const a=l=>{const{active:c,over:u}=l;u&&c.id!==u.id&&e(h=>{const p=h.findIndex(w=>w.id===c.id),g=h.findIndex(w=>w.id===u.id);return ST(h,p,g)})};return d.jsx(d.Fragment,{children:d.jsx(ahe,{onDragEnd:a,children:d.jsx(xhe,{items:t.map(l=>l.id),strategy:yhe,children:d.jsx("div",{className:"space-y-2 w-full",children:t.map((l,c)=>s!==null&&s===c?d.jsx(Phe,{onSave:u=>o(c,u),onCancel:i,label:l.label,query:l.text},c):d.jsx(Ihe,{id:l.id,text:l.text,label:l.label,onDelete:n,onEdit:()=>r(c)},l.id))})})})})},Nhe=()=>{const t=Ra(),e=Bs(),[n,r]=m.useState([]),[s,i]=m.useState([]),[o,a]=m.useState(null),[l,c]=m.useState(null),[u,h]=m.useState(!1),{data:p,isLoading:g}=Vl({queryFn:()=>wF("profile","queries"),queryKey:KI}),{mutateAsync:w,isPending:v}=Rr({mutationFn:O=>yF("profile","queries",O,!1),onSuccess:()=>{t.invalidateQueries({queryKey:KI}),e({title:"Queries Saved Successfully",description:tt()})}}),_=(O,T)=>{const[E,I]=O==="quickAccess"?[a,c]:[c,a];E(T),I(null)},x=O=>{(O==="quickAccess"?a:c)(null)},y=(O,T,E)=>{const I=O==="quickAccess"?a:c,R=O==="quickAccess"?n:s,k=O==="quickAccess"?r:i,N={id:R[T].id,text:E.query,label:E.label};R[T]=N,k(R),I(null)},b=(O,T,E)=>{const I={quickAccess:y2,menuAccess:w2},R=O==="quickAccess"?"quick access":"menu access",k=O==="quickAccess"?r:i;if((O==="quickAccess"?n:s).length>=I[O]){e({title:`Limit reached for ${R} queries`,description:`You can only add up to ${I[O]} ${R} queries. Please remove one to add a new query.`});return}k(N=>[...N,{id:pB(),text:E,label:T}])},C=(O,T)=>{O==="quickAccess"&&r(n.filter(E=>E.id!==T)),O==="menuAccess"&&i(s.filter(E=>E.id!==T))},P=async()=>{const O={menuAccessQuery:[...s],quickAccessQuery:[...n]};await w(O)};return m.useEffect(()=>{p&&(r(p.quickAccessQuery),i(p.menuAccessQuery),h(!0))},[p]),{quickAccessQueries:n,setQuickAccessQueries:r,menuAccessQueries:s,setMenuAccessQueries:i,handleDeleteQuery:C,handleAddQuery:b,handleSaveQuery:P,isGetQueriesLoading:g,isSaveQueryPending:v,handleEditQueryV2:_,editQAQueryIndex:o,editMAQueryIndex:l,handleSaveEditQuery:y,handleCancelEditQuery:x,isFetchingQueries:u}},Dhe=()=>d.jsxs("section",{className:"flex-1 flex-col space-y-4 pb-8 relative",children:[d.jsxs(ln,{children:[d.jsxs(Mn,{children:[d.jsx(On,{children:"User Queries"}),d.jsx(pi,{children:"View and manage bot's suggested queries and categories."})]}),d.jsx(pn,{children:d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Se,{className:"w-[263px] h-[40px]"}),d.jsx(Se,{className:"w-[263px] h-[40px]"}),d.jsx(Se,{className:"w-[170px] h-[40px]"}),d.jsx(Se,{className:"w-[132px] h-[40px]"})]})})]}),d.jsxs(ln,{children:[d.jsx(Mn,{children:d.jsx(On,{children:"Quick Access Queries"})}),d.jsx(pn,{children:d.jsxs("div",{className:"h-[396px] flex flex-col border border-neutral-200 p-4 rounded-sm space-y-2",children:[d.jsx(Se,{className:"w-full h-[64px]"}),d.jsx(Se,{className:"w-full h-[64px]"})]})}),"1"]}),d.jsxs(ln,{children:[d.jsx(Mn,{children:d.jsx(On,{children:"Menu Access Queries"})}),d.jsx(pn,{children:d.jsxs("div",{className:"h-[450px] flex flex-col border border-neutral-200 p-4 rounded-sm space-y-2",children:[d.jsx(Se,{className:"w-full h-[64px]"}),d.jsx(Se,{className:"w-full h-[64px]"}),d.jsx(Se,{className:"w-full h-[64px]"})]})})]}),d.jsx(Se,{className:"w-full h-[40px] bg-blue-300"})]}),khe=()=>{const t=ut(_=>_.admin),{quickAccessQueries:e,setQuickAccessQueries:n,menuAccessQueries:r,setMenuAccessQueries:s,handleAddQuery:i,handleDeleteQuery:o,handleSaveQuery:a,isGetQueriesLoading:l,isSaveQueryPending:c,handleEditQueryV2:u,editQAQueryIndex:h,editMAQueryIndex:p,handleSaveEditQuery:g,handleCancelEditQuery:w,isFetchingQueries:v}=Nhe();return l?d.jsx(Dhe,{}):d.jsxs("section",{className:"flex-1 flex-col space-y-4 pb-8 relative",children:[d.jsxs(ln,{children:[d.jsxs(Mn,{children:[d.jsx(On,{children:"User Queries"}),d.jsx(pi,{children:(t==null?void 0:t.role)!=="viewer"?"View and manage bot's suggested queries and categories.":"View bot's suggested queries and categories."})]}),d.jsx(pn,{children:(t==null?void 0:t.role)!=="viewer"&&d.jsx(Hue,{onAddQuery:i})})]}),d.jsxs(ln,{children:[d.jsx(Mn,{children:d.jsxs(On,{children:["Quick Access Queries",d.jsx("p",{className:"ml-3 inline-block min-w-6 text-xs font-medium text-zinc-600",children:`${e==null?void 0:e.length}/${y2}`})]})}),d.jsx(pn,{children:d.jsx(qh,{className:"h-[396px] flex border border-neutral-200 p-4 rounded-sm",children:v&&e.length===0?d.jsxs("div",{className:"h-[362px] flex-1 flex flex-col justify-center items-center",children:[d.jsx("div",{className:"h-20 w-20 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:d.jsx(a8,{className:"h-10 w-10 text-primary"})}),d.jsx("h2",{className:"text-lg font-semibold mb-2",children:"No quick access queries"}),d.jsxs("p",{className:"text-sm text-center text-muted-foreground mb-6 max-w-md ",children:["Add queries here for easy and quick access. ",d.jsx("br",{}),"Note: Quick access queries are meant for frequently used or important items."]})]}):d.jsx(AP,{queries:e,setQueries:n,onDeleteQuery:_=>o("quickAccess",_),onEditQueryV2:_=>u("quickAccess",_),queryEditIndex:h,onCancelEditQuery:()=>w("quickAccess"),onSaveEditQuery:(_,x)=>g("quickAccess",_,x)})})})]}),d.jsxs(ln,{children:[d.jsx(Mn,{children:d.jsxs(On,{children:["Menu Access Queries",d.jsx("p",{className:"ml-3 inline-block min-w-6 text-xs font-medium text-zinc-600",children:`${r==null?void 0:r.length}/${w2}`})]})}),d.jsx(pn,{children:d.jsx(qh,{className:"h-[450px] flex border border-neutral-200 p-4 rounded-sm",children:v&&r.length!==0?d.jsx(AP,{queries:r,setQueries:s,onDeleteQuery:_=>o("menuAccess",_),onEditQueryV2:_=>u("menuAccess",_),queryEditIndex:p,onCancelEditQuery:()=>w("menuAccess"),onSaveEditQuery:(_,x)=>g("menuAccess",_,x)}):d.jsxs("div",{className:"h-[416px] flex-1 flex flex-col justify-center items-center",children:[d.jsx("div",{className:"h-20 w-20 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:d.jsx(l8,{className:"h-10 w-10 text-primary"})}),d.jsx("h2",{className:"text-lg font-semibold mb-2",children:"No menu access queries"}),d.jsxs("p",{className:"text-sm text-center text-muted-foreground mb-6 max-w-md ",children:["Add queries here for detailed and important items. ",d.jsx("br",{}),"Note: Menu access queries are designed for longer, high-priority queries."]})]})})})]}),(t==null?void 0:t.role)!=="viewer"&&d.jsx("footer",{className:"mt-4",children:d.jsx(Xe,{disabled:c,className:"w-full",onClick:a,children:c?d.jsx(Aa,{}):"Save changes"})})]})},Mhe=()=>{const t=ut(r=>r.admin),e=ji(r=>r.currentSelectedTabInSettingsTab),n=ji(r=>r.setCurrentSelectedTabInSettingsTab);return(t==null?void 0:t.role)!=="admin"&&e==="team"&&n("botProfile"),d.jsxs("section",{className:"flex space-x-2",children:[d.jsx(uce,{activeTab:e,onTabChange:n}),(t==null?void 0:t.role)==="admin"&&e==="team"&&d.jsx(pue,{}),e==="botProfile"&&d.jsx(lce,{}),e==="botModel"&&d.jsx(gce,{}),e==="archives"&&d.jsx(Fue,{}),e==="queries"&&d.jsx(khe,{})]})},Ohe=()=>d.jsx("header",{className:"py-4 text-3xl font-semibold",children:"Settings"}),jhe=()=>d.jsxs("div",{className:"flex flex-col md:w-[84rem] w-[68rem] px-20 space-y-6",children:[d.jsx(Ohe,{}),d.jsx(Mhe,{})]}),Lhe=({id:t,text:e,onChange:n,checked:r})=>d.jsxs(d.Fragment,{children:[d.jsx("input",{type:"radio",id:t,name:"nav-btn",value:e,className:"hidden peer",checked:r,onChange:n}),d.jsx("label",{htmlFor:t,className:"flex-1 flex w-[190px] justify-center items-center py-3 px-4 cursor-pointer uppercase text-sm font-[500]",children:e})]}),Vhe=({labels:t,selectedTab:e,setSelectedTab:n})=>{const r=s=>{n(s)};return d.jsx("nav",{className:"tabs relative flex after:absolute after:bottom-0 after:pointer-events-none after:border after:border-blue-500",children:t==null?void 0:t.map(s=>d.jsx(Lhe,{id:s,text:s,checked:e==s,onChange:()=>r(s)},s))})},Fhe={siteName:"COB-CHATBOT",botName:"AI NLP Assistant"},jB=t=>{m.useEffect(()=>{document.title=t??"Page"},[])},Uhe={chatbot:jee,settings:jhe,knowledge:qle},Bhe=()=>{const[t,e]=m.useState("chatbot"),n=["chatbot","knowledge","settings"],r=Uhe[t]||null;return jB("Admin Panel"),d.jsxs("div",{className:"min-h-[100dvh] flex flex-col bg-[#F8F9FB] scrollbar-slim",children:[d.jsxs($Q,{text:Fhe.siteName,children:[d.jsx(Vhe,{labels:n,selectedTab:t,setSelectedTab:e}),d.jsx("hr",{className:"w-full border-neutral-300"})]}),r&&d.jsx(zQ,{Component:r})]})};function $he(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=h=>{var x;const{scope:p,children:g,...w}=h,v=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,_=m.useMemo(()=>w,Object.values(w));return d.jsx(v.Provider,{value:_,children:g})};c.displayName=i+"Provider";function u(h,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,zhe(s,...e)]}function zhe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Khe="DismissableLayer",F_="dismissableLayer.update",Whe="dismissableLayer.pointerDownOutside",Hhe="dismissableLayer.focusOutside",RP,LB=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),VB=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(LB),[u,h]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=ke(e,T=>h(T)),v=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(_),y=u?v.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,C=y>=x,P=Ghe(T=>{const E=T.target,I=[...c.branches].some(R=>R.contains(E));!C||I||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},p),O=Qhe(T=>{const E=T.target;[...c.branches].some(R=>R.contains(E))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},p);return Af(T=>{y===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(RP=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),IP(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=RP)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),IP())},[u,c]),m.useEffect(()=>{const T=()=>g({});return document.addEventListener(F_,T),()=>document.removeEventListener(F_,T)},[]),d.jsx(ve.div,{...l,ref:w,style:{pointerEvents:b?C?"auto":"none":void 0,...t.style},onFocusCapture:Z(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Z(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Z(t.onPointerDownCapture,P.onPointerDownCapture)})});VB.displayName=Khe;var qhe="DismissableLayerBranch",FB=m.forwardRef((t,e)=>{const n=m.useContext(LB),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(ve.div,{...t,ref:s})});FB.displayName=qhe;function Ghe(t,e=globalThis==null?void 0:globalThis.document){const n=mt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){UB(Whe,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Qhe(t,e=globalThis==null?void 0:globalThis.document){const n=mt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&UB(Hhe,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function IP(){const t=new CustomEvent(F_);document.dispatchEvent(t)}function UB(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Nl(s,i):s.dispatchEvent(i)}var Yhe=VB,Xhe=FB,Jhe="Portal",BB=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Pt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?mf.createPortal(d.jsx(ve.div,{...r,ref:e}),o):null});BB.displayName=Jhe;function Zhe(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var $B=t=>{const{present:e,children:n}=t,r=efe(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=ke(r.ref,tfe(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};$B.displayName="Presence";function efe(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=Zhe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=sm(r.current);i.current=a==="mounted"?c:"none"},[a]),Pt(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=sm(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Pt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=g=>{const v=sm(r.current).includes(g.animationName);if(g.target===e&&v&&(l("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},p=g=>{g.target===e&&(i.current=sm(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function sm(t){return(t==null?void 0:t.animationName)||"none"}function tfe(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var TT="ToastProvider",[CT,nfe,rfe]=jv("Toast"),[zB,Jfe]=$he("Toast",[rfe]),[sfe,Fy]=zB(TT),KB=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=m.useState(null),[c,u]=m.useState(0),h=m.useRef(!1),p=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${TT}\`. Expected non-empty \`string\`.`),d.jsx(CT.Provider,{scope:e,children:d.jsx(sfe,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>u(g=>g+1),[]),onToastRemove:m.useCallback(()=>u(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};KB.displayName=TT;var WB="ToastViewport",ife=["F8"],U_="toast.viewportPause",B_="toast.viewportResume",HB=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=ife,label:s="Notifications ({hotkey})",...i}=t,o=Fy(WB,n),a=nfe(n),l=m.useRef(null),c=m.useRef(null),u=m.useRef(null),h=m.useRef(null),p=ke(e,h,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;m.useEffect(()=>{const _=x=>{var b;r.length!==0&&r.every(C=>x[C]||x.code===C)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),m.useEffect(()=>{const _=l.current,x=h.current;if(w&&_&&x){const y=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(U_);x.dispatchEvent(O),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(B_);x.dispatchEvent(O),o.isClosePausedRef.current=!1}},C=O=>{!_.contains(O.relatedTarget)&&b()},P=()=>{_.contains(document.activeElement)||b()};return _.addEventListener("focusin",y),_.addEventListener("focusout",C),_.addEventListener("pointermove",y),_.addEventListener("pointerleave",P),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{_.removeEventListener("focusin",y),_.removeEventListener("focusout",C),_.removeEventListener("pointermove",y),_.removeEventListener("pointerleave",P),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[w,o.isClosePausedRef]);const v=m.useCallback(({tabbingDirection:_})=>{const y=a().map(b=>{const C=b.ref.current,P=[C,...yfe(C)];return _==="forwards"?P:P.reverse()});return(_==="forwards"?y.reverse():y).flat()},[a]);return m.useEffect(()=>{const _=h.current;if(_){const x=y=>{var P,O,T;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const E=document.activeElement,I=y.shiftKey;if(y.target===_&&I){(P=c.current)==null||P.focus();return}const M=v({tabbingDirection:I?"backwards":"forwards"}),N=M.findIndex(W=>W===E);w0(M.slice(N+1))?y.preventDefault():I?(O=c.current)==null||O.focus():(T=u.current)==null||T.focus()}};return _.addEventListener("keydown",x),()=>_.removeEventListener("keydown",x)}},[a,v]),d.jsxs(Xhe,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&d.jsx($_,{ref:c,onFocusFromOutsideViewport:()=>{const _=v({tabbingDirection:"forwards"});w0(_)}}),d.jsx(CT.Slot,{scope:n,children:d.jsx(ve.ol,{tabIndex:-1,...i,ref:p})}),w&&d.jsx($_,{ref:u,onFocusFromOutsideViewport:()=>{const _=v({tabbingDirection:"backwards"});w0(_)}})]})});HB.displayName=WB;var qB="ToastFocusProxy",$_=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Fy(qB,n);return d.jsx($f,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});$_.displayName=qB;var Uy="Toast",ofe="toast.swipeStart",afe="toast.swipeMove",lfe="toast.swipeCancel",cfe="toast.swipeEnd",GB=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=aa({prop:r,defaultProp:s,onChange:i});return d.jsx($B,{present:n||a,children:d.jsx(hfe,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:mt(t.onPause),onResume:mt(t.onResume),onSwipeStart:Z(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Z(t.onSwipeMove,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Z(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Z(t.onSwipeEnd,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});GB.displayName=Uy;var[ufe,dfe]=zB(Uy,{onClose(){}}),hfe=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:g,...w}=t,v=Fy(Uy,n),[_,x]=m.useState(null),y=ke(e,W=>x(W)),b=m.useRef(null),C=m.useRef(null),P=s||v.duration,O=m.useRef(0),T=m.useRef(P),E=m.useRef(0),{onToastAdd:I,onToastRemove:R}=v,k=mt(()=>{var se;(_==null?void 0:_.contains(document.activeElement))&&((se=v.viewport)==null||se.focus()),o()}),M=m.useCallback(W=>{!W||W===1/0||(window.clearTimeout(E.current),O.current=new Date().getTime(),E.current=window.setTimeout(k,W))},[k]);m.useEffect(()=>{const W=v.viewport;if(W){const se=()=>{M(T.current),c==null||c()},ne=()=>{const Y=new Date().getTime()-O.current;T.current=T.current-Y,window.clearTimeout(E.current),l==null||l()};return W.addEventListener(U_,ne),W.addEventListener(B_,se),()=>{W.removeEventListener(U_,ne),W.removeEventListener(B_,se)}}},[v.viewport,P,l,c,M]),m.useEffect(()=>{i&&!v.isClosePausedRef.current&&M(P)},[i,P,v.isClosePausedRef,M]),m.useEffect(()=>(I(),()=>R()),[I,R]);const N=m.useMemo(()=>_?t$(_):null,[_]);return v.viewport?d.jsxs(d.Fragment,{children:[N&&d.jsx(ffe,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),d.jsx(ufe,{scope:n,onClose:k,children:Ar.createPortal(d.jsx(CT.ItemSlot,{scope:n,children:d.jsx(Yhe,{asChild:!0,onEscapeKeyDown:Z(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||k(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Z(t.onKeyDown,W=>{W.key==="Escape"&&(a==null||a(W.nativeEvent),W.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:Z(t.onPointerDown,W=>{W.button===0&&(b.current={x:W.clientX,y:W.clientY})}),onPointerMove:Z(t.onPointerMove,W=>{if(!b.current)return;const se=W.clientX-b.current.x,ne=W.clientY-b.current.y,Y=!!C.current,z=["left","right"].includes(v.swipeDirection),B=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,J=z?B(0,se):0,fe=z?0:B(0,ne),he=W.pointerType==="touch"?10:2,Te={x:J,y:fe},We={originalEvent:W,delta:Te};Y?(C.current=Te,im(afe,h,We,{discrete:!1})):PP(Te,v.swipeDirection,he)?(C.current=Te,im(ofe,u,We,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(se)>he||Math.abs(ne)>he)&&(b.current=null)}),onPointerUp:Z(t.onPointerUp,W=>{const se=C.current,ne=W.target;if(ne.hasPointerCapture(W.pointerId)&&ne.releasePointerCapture(W.pointerId),C.current=null,b.current=null,se){const Y=W.currentTarget,z={originalEvent:W,delta:se};PP(se,v.swipeDirection,v.swipeThreshold)?im(cfe,g,z,{discrete:!0}):im(lfe,p,z,{discrete:!0}),Y.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),ffe=t=>{const{__scopeToast:e,children:n,...r}=t,s=Fy(Uy,e),[i,o]=m.useState(!1),[a,l]=m.useState(!1);return gfe(()=>o(!0)),m.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:d.jsx(BB,{asChild:!0,children:d.jsx($f,{...r,children:i&&d.jsxs(d.Fragment,{children:[s.label," ",n]})})})},pfe="ToastTitle",QB=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(ve.div,{...r,ref:e})});QB.displayName=pfe;var mfe="ToastDescription",YB=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(ve.div,{...r,ref:e})});YB.displayName=mfe;var XB="ToastAction",JB=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?d.jsx(e$,{altText:n,asChild:!0,children:d.jsx(AT,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${XB}\`. Expected non-empty \`string\`.`),null)});JB.displayName=XB;var ZB="ToastClose",AT=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=dfe(ZB,n);return d.jsx(e$,{asChild:!0,children:d.jsx(ve.button,{type:"button",...r,ref:e,onClick:Z(t.onClick,s.onClose)})})});AT.displayName=ZB;var e$=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return d.jsx(ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function t$(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),vfe(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...t$(r))}}),e}function im(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Nl(s,i):s.dispatchEvent(i)}var PP=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function gfe(t=()=>{}){const e=mt(t);Pt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function vfe(t){return t.nodeType===t.ELEMENT_NODE}function yfe(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function w0(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var wfe=KB,n$=HB,r$=GB,s$=QB,i$=YB,o$=JB,a$=AT;const xfe=wfe,l$=m.forwardRef(({className:t,...e},n)=>d.jsx(n$,{ref:n,className:ue("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));l$.displayName=n$.displayName;const _fe=Mf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),c$=m.forwardRef(({className:t,variant:e,...n},r)=>d.jsx(r$,{ref:r,className:ue(_fe({variant:e}),t),...n}));c$.displayName=r$.displayName;const Efe=m.forwardRef(({className:t,...e},n)=>d.jsx(o$,{ref:n,className:ue("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Efe.displayName=o$.displayName;const u$=m.forwardRef(({className:t,...e},n)=>d.jsx(a$,{ref:n,className:ue("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(Tf,{className:"h-4 w-4"})}));u$.displayName=a$.displayName;const d$=m.forwardRef(({className:t,...e},n)=>d.jsx(s$,{ref:n,className:ue("text-sm font-semibold",t),...e}));d$.displayName=s$.displayName;const h$=m.forwardRef(({className:t,...e},n)=>d.jsx(i$,{ref:n,className:ue("text-sm opacity-90",t),...e}));h$.displayName=i$.displayName;function bfe(){const{toasts:t}=xF();return d.jsxs(xfe,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return d.jsxs(c$,{...i,children:[d.jsxs("div",{className:"grid gap-1",children:[n&&d.jsx(d$,{children:n}),r&&d.jsx(h$,{children:r})]}),s,d.jsx(u$,{})]},e)}),d.jsx(l$,{})]})}const Sfe=()=>d.jsx(d.Fragment,{children:d.jsx("img",{src:rU,style:{display:"none"}})}),Tfe=()=>{const t=ut(r=>r.isAuth),e=ut(r=>r.admin),n=new lae;return $H(),!t&&!e?d.jsx(mM,{to:"/login"}):d.jsx(fae,{client:n,children:d.jsxs("main",{children:[d.jsx(Sfe,{}),d.jsx(Bhe,{}),d.jsx(bfe,{})]})})},Cfe=Mf("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),f$=m.forwardRef(({className:t,variant:e,...n},r)=>d.jsx("div",{ref:r,role:"alert",className:ue(Cfe({variant:e}),t),...n}));f$.displayName="Alert";const Afe=m.forwardRef(({className:t,...e},n)=>d.jsx("h5",{ref:n,className:ue("mb-1 font-medium leading-none tracking-tight",t),...e}));Afe.displayName="AlertTitle";const p$=m.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ue("text-sm [&_p]:leading-relaxed",t),...e}));p$.displayName="AlertDescription";const Rfe=({password:t,setPassword:e})=>{const[n,r]=m.useState(!1);return d.jsxs("div",{className:"relative",children:[d.jsx(Lt,{id:"password",type:n?"text":"password",placeholder:"",value:t,onChange:s=>e(s.target.value),required:!0}),d.jsx(Xe,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>r(s=>!s),"aria-label":n?"Hide password":"Show password",children:n?d.jsx(_M,{className:"h-4 w-4 text-gray-500"}):d.jsx(tb,{className:"h-4 w-4 text-gray-500"})})]})},Ife=()=>{const t=Sf(),[e,n]=m.useState(""),[r,s]=m.useState(""),[i,o]=m.useState(""),[a,l]=m.useState(!1),c=ut(p=>p.login),u=ut(p=>p.isAuth),h=async p=>{p.preventDefault(),o(""),l(!0);try{const{accessToken:g,admin:w}=await aue(e,r);c(g,w),t("/")}catch(g){if(g instanceof Error){o(g.message);return}console.error(`Unexpected error occured: ${g}`)}finally{l(!1)}};return jB("Admin Login"),u?d.jsx(mM,{to:"/"}):d.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-r from-gray-100 to-gray-200 relative",children:[d.jsx("div",{className:"absolute inset-0 opacity-10 bg-cover bg-center z-0",style:{backgroundImage:"url('/placeholder.svg?height=1080&width=1920')",filter:"blur(3px)"},"aria-hidden":"true"}),d.jsxs(ln,{className:"w-full max-w-md z-10",children:[d.jsxs(Mn,{children:[d.jsx(On,{className:"text-2xl font-bold text-center",children:"Welcome Back"}),d.jsx(pi,{className:"text-center",children:"Please sign in to your account"})]}),d.jsx(pn,{children:d.jsxs("form",{onSubmit:h,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Tn,{htmlFor:"email",children:"Email"}),d.jsx(Lt,{id:"email",type:"email",placeholder:"email@address.com",value:e,onChange:p=>n(p.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Tn,{htmlFor:"password",children:"Password"}),d.jsx(Rfe,{password:r,setPassword:s})]}),i&&d.jsxs(f$,{variant:"destructive",children:[d.jsx(wM,{className:"h-4 w-4"}),d.jsx(p$,{children:i})]}),d.jsx(Xe,{type:"submit",className:"w-full",disabled:a,children:a?"Signing In...":"Sign In"})]})}),d.jsxs(x2,{className:"flex flex-col items-center justify-center space-y-2",children:[d.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Powered by cob-chatbot"}),d.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Quick, responsive, and fully customizable."})]})]})]})};function Pfe(){var n;const t=pM();let e;return Ef(t)?e=t.statusText||((n=t.data)==null?void 0:n.message)||"An unexpected error occurred.":t instanceof Error?e=t.message:typeof t=="string"?e=t:(console.error(t),e="An unknown error occurred."),d.jsx("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center items-center px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-md w-full space-y-8 text-center",children:[d.jsx("div",{className:"flex justify-center",children:d.jsx(wM,{className:"h-24 w-24 text-red-600"})}),d.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Oops! Something went wrong"}),d.jsx("p",{className:"mt-2 text-sm text-gray-600",children:e}),d.jsx("div",{className:"mt-5",children:d.jsx(UH,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Go back home"})})]})})}const Nfe=CH([{path:"/",element:d.jsx(Tfe,{}),errorElement:d.jsx(Pfe,{})},{path:"/login",element:d.jsx(Ife,{})}],{basename:"/admin"});x0.createRoot(document.getElementById("root")).render(d.jsx(Re.StrictMode,{children:d.jsx(OH,{router:Nfe})}));
