var bg=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var L=(t,e,n)=>(bg(t,e,"read from private field"),n?n.call(t):e.get(t)),ae=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},ee=(t,e,n,r)=>(bg(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var Sh=(t,e,n,r)=>({set _(s){ee(t,e,s,n)},get _(){return L(t,e,r)}}),Ce=(t,e,n)=>(bg(t,e,"access private method"),n);function iP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function n0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var oP={exports:{}},Jp={},aP={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Id=Symbol.for("react.element"),sV=Symbol.for("react.portal"),iV=Symbol.for("react.fragment"),oV=Symbol.for("react.strict_mode"),aV=Symbol.for("react.profiler"),lV=Symbol.for("react.provider"),cV=Symbol.for("react.context"),uV=Symbol.for("react.forward_ref"),dV=Symbol.for("react.suspense"),hV=Symbol.for("react.memo"),fV=Symbol.for("react.lazy"),Yx=Symbol.iterator;function pV(t){return t===null||typeof t!="object"?null:(t=Yx&&t[Yx]||t["@@iterator"],typeof t=="function"?t:null)}var lP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cP=Object.assign,uP={};function Zl(t,e,n){this.props=t,this.context=e,this.refs=uP,this.updater=n||lP}Zl.prototype.isReactComponent={};Zl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dP(){}dP.prototype=Zl.prototype;function r0(t,e,n){this.props=t,this.context=e,this.refs=uP,this.updater=n||lP}var s0=r0.prototype=new dP;s0.constructor=r0;cP(s0,Zl.prototype);s0.isPureReactComponent=!0;var Xx=Array.isArray,hP=Object.prototype.hasOwnProperty,i0={current:null},fP={key:!0,ref:!0,__self:!0,__source:!0};function pP(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)hP.call(e,r)&&!fP.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Id,type:t,key:i,ref:o,props:s,_owner:i0.current}}function mV(t,e){return{$$typeof:Id,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function o0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Id}function gV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Jx=/\/+/g;function Cg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gV(""+t.key):e.toString(36)}function hf(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Id:case sV:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Cg(o,0):r,Xx(s)?(n="",t!=null&&(n=t.replace(Jx,"$&/")+"/"),hf(s,e,n,"",function(c){return c})):s!=null&&(o0(s)&&(s=mV(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Jx,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Xx(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Cg(i,a);o+=hf(i,e,n,l,s)}else if(l=pV(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Cg(i,a++),o+=hf(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function bh(t,e,n){if(t==null)return t;var r=[],s=0;return hf(t,r,"","",function(i){return e.call(n,i,s++)}),r}function yV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Rn={current:null},ff={transition:null},vV={ReactCurrentDispatcher:Rn,ReactCurrentBatchConfig:ff,ReactCurrentOwner:i0};function mP(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:bh,forEach:function(t,e,n){bh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return bh(t,function(){e++}),e},toArray:function(t){return bh(t,function(e){return e})||[]},only:function(t){if(!o0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=Zl;Pe.Fragment=iV;Pe.Profiler=aV;Pe.PureComponent=r0;Pe.StrictMode=oV;Pe.Suspense=dV;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vV;Pe.act=mP;Pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=cP({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=i0.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)hP.call(e,l)&&!fP.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Id,type:t.type,key:s,ref:i,props:r,_owner:o}};Pe.createContext=function(t){return t={$$typeof:cV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:lV,_context:t},t.Consumer=t};Pe.createElement=pP;Pe.createFactory=function(t){var e=pP.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:uV,render:t}};Pe.isValidElement=o0;Pe.lazy=function(t){return{$$typeof:fV,_payload:{_status:-1,_result:t},_init:yV}};Pe.memo=function(t,e){return{$$typeof:hV,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=ff.transition;ff.transition={};try{t()}finally{ff.transition=e}};Pe.unstable_act=mP;Pe.useCallback=function(t,e){return Rn.current.useCallback(t,e)};Pe.useContext=function(t){return Rn.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return Rn.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return Rn.current.useEffect(t,e)};Pe.useId=function(){return Rn.current.useId()};Pe.useImperativeHandle=function(t,e,n){return Rn.current.useImperativeHandle(t,e,n)};Pe.useInsertionEffect=function(t,e){return Rn.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return Rn.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return Rn.current.useMemo(t,e)};Pe.useReducer=function(t,e,n){return Rn.current.useReducer(t,e,n)};Pe.useRef=function(t){return Rn.current.useRef(t)};Pe.useState=function(t){return Rn.current.useState(t)};Pe.useSyncExternalStore=function(t,e,n){return Rn.current.useSyncExternalStore(t,e,n)};Pe.useTransition=function(){return Rn.current.useTransition()};Pe.version="18.3.1";aP.exports=Pe;var m=aP.exports;const Br=n0(m),gP=iP({__proto__:null,default:Br},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wV=m,_V=Symbol.for("react.element"),EV=Symbol.for("react.fragment"),xV=Object.prototype.hasOwnProperty,TV=wV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,SV={key:!0,ref:!0,__self:!0,__source:!0};function yP(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)xV.call(e,r)&&!SV.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:_V,type:t,key:i,ref:o,props:s,_owner:TV.current}}Jp.Fragment=EV;Jp.jsx=yP;Jp.jsxs=yP;oP.exports=Jp;var p=oP.exports,Wy={},vP={exports:{}},Yn={},wP={exports:{}},_P={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,B){var X=z.length;z.push(B);e:for(;0<X;){var ue=X-1>>>1,ge=z[ue];if(0<s(ge,B))z[ue]=B,z[X]=ge,X=ue;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var B=z[0],X=z.pop();if(X!==B){z[0]=X;e:for(var ue=0,ge=z.length,Se=ge>>>1;ue<Se;){var Ze=2*(ue+1)-1,It=z[Ze],He=Ze+1,Ge=z[He];if(0>s(It,X))He<ge&&0>s(Ge,It)?(z[ue]=Ge,z[He]=X,ue=He):(z[ue]=It,z[Ze]=X,ue=Ze);else if(He<ge&&0>s(Ge,X))z[ue]=Ge,z[He]=X,ue=He;else break e}}return B}function s(z,B){var X=z.sortIndex-B.sortIndex;return X!==0?X:z.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,g=!1,w=!1,y=!1,T=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(z){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=z)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function C(z){if(y=!1,b(z),!w)if(n(l)!==null)w=!0,le(k);else{var B=n(c);B!==null&&ie(C,B.startTime-z)}}function k(z,B){w=!1,y&&(y=!1,x(_),_=-1),g=!0;var X=f;try{for(b(B),h=n(l);h!==null&&(!(h.expirationTime>B)||z&&!D());){var ue=h.callback;if(typeof ue=="function"){h.callback=null,f=h.priorityLevel;var ge=ue(h.expirationTime<=B);B=t.unstable_now(),typeof ge=="function"?h.callback=ge:h===n(l)&&r(l),b(B)}else r(l);h=n(l)}if(h!==null)var Se=!0;else{var Ze=n(c);Ze!==null&&ie(C,Ze.startTime-B),Se=!1}return Se}finally{h=null,f=X,g=!1}}var j=!1,R=null,_=-1,P=5,A=-1;function D(){return!(t.unstable_now()-A<P)}function M(){if(R!==null){var z=t.unstable_now();A=z;var B=!0;try{B=R(!0,z)}finally{B?N():(j=!1,R=null)}}else j=!1}var N;if(typeof E=="function")N=function(){E(M)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,pe=W.port2;W.port1.onmessage=M,N=function(){pe.postMessage(null)}}else N=function(){T(M,0)};function le(z){R=z,j||(j=!0,N())}function ie(z,B){_=T(function(){z(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,le(k))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var X=f;f=B;try{return z()}finally{f=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,B){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var X=f;f=z;try{return B()}finally{f=X}},t.unstable_scheduleCallback=function(z,B,X){var ue=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ue+X:ue):X=ue,z){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=X+ge,z={id:d++,callback:B,priorityLevel:z,startTime:X,expirationTime:ge,sortIndex:-1},X>ue?(z.sortIndex=X,e(c,z),n(l)===null&&z===n(c)&&(y?(x(_),_=-1):y=!0,ie(C,X-ue))):(z.sortIndex=ge,e(l,z),w||g||(w=!0,le(k))),z},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(z){var B=f;return function(){var X=f;f=B;try{return z.apply(this,arguments)}finally{f=X}}}})(_P);wP.exports=_P;var bV=wP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CV=m,qn=bV;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var EP=new Set,Au={};function ha(t,e){Nl(t,e),Nl(t+"Capture",e)}function Nl(t,e){for(Au[t]=e,t=0;t<e.length;t++)EP.add(e[t])}var Ds=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hy=Object.prototype.hasOwnProperty,RV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zx={},eT={};function PV(t){return Hy.call(eT,t)?!0:Hy.call(Zx,t)?!1:RV.test(t)?eT[t]=!0:(Zx[t]=!0,!1)}function IV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function AV(t,e,n,r){if(e===null||typeof e>"u"||IV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Yt[t]=new Pn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Yt[e]=new Pn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Yt[t]=new Pn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Yt[t]=new Pn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Yt[t]=new Pn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Yt[t]=new Pn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Yt[t]=new Pn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Yt[t]=new Pn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Yt[t]=new Pn(t,5,!1,t.toLowerCase(),null,!1,!1)});var a0=/[\-:]([a-z])/g;function l0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(a0,l0);Yt[e]=new Pn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(a0,l0);Yt[e]=new Pn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(a0,l0);Yt[e]=new Pn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Yt[t]=new Pn(t,1,!1,t.toLowerCase(),null,!1,!1)});Yt.xlinkHref=new Pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Yt[t]=new Pn(t,1,!1,t.toLowerCase(),null,!0,!0)});function c0(t,e,n,r){var s=Yt.hasOwnProperty(e)?Yt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(AV(e,n,s,r)&&(n=null),r||s===null?PV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ws=CV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ch=Symbol.for("react.element"),ja=Symbol.for("react.portal"),Va=Symbol.for("react.fragment"),u0=Symbol.for("react.strict_mode"),Gy=Symbol.for("react.profiler"),xP=Symbol.for("react.provider"),TP=Symbol.for("react.context"),d0=Symbol.for("react.forward_ref"),qy=Symbol.for("react.suspense"),Qy=Symbol.for("react.suspense_list"),h0=Symbol.for("react.memo"),li=Symbol.for("react.lazy"),SP=Symbol.for("react.offscreen"),tT=Symbol.iterator;function Mc(t){return t===null||typeof t!="object"?null:(t=tT&&t[tT]||t["@@iterator"],typeof t=="function"?t:null)}var ft=Object.assign,Rg;function Yc(t){if(Rg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Rg=e&&e[1]||""}return`
`+Rg+t}var Pg=!1;function Ig(t,e){if(!t||Pg)return"";Pg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Pg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Yc(t):""}function NV(t){switch(t.tag){case 5:return Yc(t.type);case 16:return Yc("Lazy");case 13:return Yc("Suspense");case 19:return Yc("SuspenseList");case 0:case 2:case 15:return t=Ig(t.type,!1),t;case 11:return t=Ig(t.type.render,!1),t;case 1:return t=Ig(t.type,!0),t;default:return""}}function Yy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Va:return"Fragment";case ja:return"Portal";case Gy:return"Profiler";case u0:return"StrictMode";case qy:return"Suspense";case Qy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case TP:return(t.displayName||"Context")+".Consumer";case xP:return(t._context.displayName||"Context")+".Provider";case d0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case h0:return e=t.displayName||null,e!==null?e:Yy(t.type)||"Memo";case li:e=t._payload,t=t._init;try{return Yy(t(e))}catch{}}return null}function kV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yy(e);case 8:return e===u0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ki(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function DV(t){var e=bP(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Rh(t){t._valueTracker||(t._valueTracker=DV(t))}function CP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=bP(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Kf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xy(t,e){var n=e.checked;return ft({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function nT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ki(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function RP(t,e){e=e.checked,e!=null&&c0(t,"checked",e,!1)}function Jy(t,e){RP(t,e);var n=Ki(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zy(t,e.type,n):e.hasOwnProperty("defaultValue")&&Zy(t,e.type,Ki(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function rT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Zy(t,e,n){(e!=="number"||Kf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xc=Array.isArray;function nl(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ki(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ev(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return ft({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function sT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(Xc(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ki(n)}}function PP(t,e){var n=Ki(e.value),r=Ki(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function iT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function IP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?IP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ph,AP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ph=Ph||document.createElement("div"),Ph.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ph.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Nu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var cu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},MV=["Webkit","ms","Moz","O"];Object.keys(cu).forEach(function(t){MV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cu[e]=cu[t]})});function NP(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||cu.hasOwnProperty(t)&&cu[t]?(""+e).trim():e+"px"}function kP(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=NP(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var OV=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nv(t,e){if(e){if(OV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function rv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sv=null;function f0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var iv=null,rl=null,sl=null;function oT(t){if(t=kd(t)){if(typeof iv!="function")throw Error(q(280));var e=t.stateNode;e&&(e=rm(e),iv(t.stateNode,t.type,e))}}function DP(t){rl?sl?sl.push(t):sl=[t]:rl=t}function MP(){if(rl){var t=rl,e=sl;if(sl=rl=null,oT(t),e)for(t=0;t<e.length;t++)oT(e[t])}}function OP(t,e){return t(e)}function LP(){}var Ag=!1;function jP(t,e,n){if(Ag)return t(e,n);Ag=!0;try{return OP(t,e,n)}finally{Ag=!1,(rl!==null||sl!==null)&&(LP(),MP())}}function ku(t,e){var n=t.stateNode;if(n===null)return null;var r=rm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var ov=!1;if(Ds)try{var Oc={};Object.defineProperty(Oc,"passive",{get:function(){ov=!0}}),window.addEventListener("test",Oc,Oc),window.removeEventListener("test",Oc,Oc)}catch{ov=!1}function LV(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var uu=!1,Wf=null,Hf=!1,av=null,jV={onError:function(t){uu=!0,Wf=t}};function VV(t,e,n,r,s,i,o,a,l){uu=!1,Wf=null,LV.apply(jV,arguments)}function FV(t,e,n,r,s,i,o,a,l){if(VV.apply(this,arguments),uu){if(uu){var c=Wf;uu=!1,Wf=null}else throw Error(q(198));Hf||(Hf=!0,av=c)}}function fa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function VP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function aT(t){if(fa(t)!==t)throw Error(q(188))}function UV(t){var e=t.alternate;if(!e){if(e=fa(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return aT(s),t;if(i===r)return aT(s),e;i=i.sibling}throw Error(q(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function FP(t){return t=UV(t),t!==null?UP(t):null}function UP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=UP(t);if(e!==null)return e;t=t.sibling}return null}var BP=qn.unstable_scheduleCallback,lT=qn.unstable_cancelCallback,BV=qn.unstable_shouldYield,$V=qn.unstable_requestPaint,Ct=qn.unstable_now,zV=qn.unstable_getCurrentPriorityLevel,p0=qn.unstable_ImmediatePriority,$P=qn.unstable_UserBlockingPriority,Gf=qn.unstable_NormalPriority,KV=qn.unstable_LowPriority,zP=qn.unstable_IdlePriority,Zp=null,Qr=null;function WV(t){if(Qr&&typeof Qr.onCommitFiberRoot=="function")try{Qr.onCommitFiberRoot(Zp,t,void 0,(t.current.flags&128)===128)}catch{}}var Ar=Math.clz32?Math.clz32:qV,HV=Math.log,GV=Math.LN2;function qV(t){return t>>>=0,t===0?32:31-(HV(t)/GV|0)|0}var Ih=64,Ah=4194304;function Jc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function qf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Jc(a):(i&=o,i!==0&&(r=Jc(i)))}else o=n&~s,o!==0?r=Jc(o):i!==0&&(r=Jc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ar(e),s=1<<n,r|=t[n],e&=~s;return r}function QV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Ar(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=QV(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function lv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function KP(){var t=Ih;return Ih<<=1,!(Ih&4194240)&&(Ih=64),t}function Ng(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ad(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ar(e),t[e]=n}function XV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Ar(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function m0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ar(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ze=0;function WP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var HP,g0,GP,qP,QP,cv=!1,Nh=[],Ii=null,Ai=null,Ni=null,Du=new Map,Mu=new Map,ui=[],JV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cT(t,e){switch(t){case"focusin":case"focusout":Ii=null;break;case"dragenter":case"dragleave":Ai=null;break;case"mouseover":case"mouseout":Ni=null;break;case"pointerover":case"pointerout":Du.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mu.delete(e.pointerId)}}function Lc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=kd(e),e!==null&&g0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function ZV(t,e,n,r,s){switch(e){case"focusin":return Ii=Lc(Ii,t,e,n,r,s),!0;case"dragenter":return Ai=Lc(Ai,t,e,n,r,s),!0;case"mouseover":return Ni=Lc(Ni,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Du.set(i,Lc(Du.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Mu.set(i,Lc(Mu.get(i)||null,t,e,n,r,s)),!0}return!1}function YP(t){var e=No(t.target);if(e!==null){var n=fa(e);if(n!==null){if(e=n.tag,e===13){if(e=VP(n),e!==null){t.blockedOn=e,QP(t.priority,function(){GP(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=uv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);sv=r,n.target.dispatchEvent(r),sv=null}else return e=kd(n),e!==null&&g0(e),t.blockedOn=n,!1;e.shift()}return!0}function uT(t,e,n){pf(t)&&n.delete(e)}function eF(){cv=!1,Ii!==null&&pf(Ii)&&(Ii=null),Ai!==null&&pf(Ai)&&(Ai=null),Ni!==null&&pf(Ni)&&(Ni=null),Du.forEach(uT),Mu.forEach(uT)}function jc(t,e){t.blockedOn===e&&(t.blockedOn=null,cv||(cv=!0,qn.unstable_scheduleCallback(qn.unstable_NormalPriority,eF)))}function Ou(t){function e(s){return jc(s,t)}if(0<Nh.length){jc(Nh[0],t);for(var n=1;n<Nh.length;n++){var r=Nh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ii!==null&&jc(Ii,t),Ai!==null&&jc(Ai,t),Ni!==null&&jc(Ni,t),Du.forEach(e),Mu.forEach(e),n=0;n<ui.length;n++)r=ui[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ui.length&&(n=ui[0],n.blockedOn===null);)YP(n),n.blockedOn===null&&ui.shift()}var il=Ws.ReactCurrentBatchConfig,Qf=!0;function tF(t,e,n,r){var s=ze,i=il.transition;il.transition=null;try{ze=1,y0(t,e,n,r)}finally{ze=s,il.transition=i}}function nF(t,e,n,r){var s=ze,i=il.transition;il.transition=null;try{ze=4,y0(t,e,n,r)}finally{ze=s,il.transition=i}}function y0(t,e,n,r){if(Qf){var s=uv(t,e,n,r);if(s===null)Bg(t,e,r,Yf,n),cT(t,r);else if(ZV(s,t,e,n,r))r.stopPropagation();else if(cT(t,r),e&4&&-1<JV.indexOf(t)){for(;s!==null;){var i=kd(s);if(i!==null&&HP(i),i=uv(t,e,n,r),i===null&&Bg(t,e,r,Yf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Bg(t,e,r,null,n)}}var Yf=null;function uv(t,e,n,r){if(Yf=null,t=f0(r),t=No(t),t!==null)if(e=fa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=VP(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yf=t,null}function XP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zV()){case p0:return 1;case $P:return 4;case Gf:case KV:return 16;case zP:return 536870912;default:return 16}default:return 16}}var bi=null,v0=null,mf=null;function JP(){if(mf)return mf;var t,e=v0,n=e.length,r,s="value"in bi?bi.value:bi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return mf=s.slice(t,1<r?1-r:void 0)}function gf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function kh(){return!0}function dT(){return!1}function Xn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?kh:dT,this.isPropagationStopped=dT,this}return ft(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=kh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=kh)},persist:function(){},isPersistent:kh}),e}var ec={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},w0=Xn(ec),Nd=ft({},ec,{view:0,detail:0}),rF=Xn(Nd),kg,Dg,Vc,em=ft({},Nd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vc&&(Vc&&t.type==="mousemove"?(kg=t.screenX-Vc.screenX,Dg=t.screenY-Vc.screenY):Dg=kg=0,Vc=t),kg)},movementY:function(t){return"movementY"in t?t.movementY:Dg}}),hT=Xn(em),sF=ft({},em,{dataTransfer:0}),iF=Xn(sF),oF=ft({},Nd,{relatedTarget:0}),Mg=Xn(oF),aF=ft({},ec,{animationName:0,elapsedTime:0,pseudoElement:0}),lF=Xn(aF),cF=ft({},ec,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uF=Xn(cF),dF=ft({},ec,{data:0}),fT=Xn(dF),hF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pF[t])?!!e[t]:!1}function _0(){return mF}var gF=ft({},Nd,{key:function(t){if(t.key){var e=hF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_0,charCode:function(t){return t.type==="keypress"?gf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yF=Xn(gF),vF=ft({},em,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pT=Xn(vF),wF=ft({},Nd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_0}),_F=Xn(wF),EF=ft({},ec,{propertyName:0,elapsedTime:0,pseudoElement:0}),xF=Xn(EF),TF=ft({},em,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),SF=Xn(TF),bF=[9,13,27,32],E0=Ds&&"CompositionEvent"in window,du=null;Ds&&"documentMode"in document&&(du=document.documentMode);var CF=Ds&&"TextEvent"in window&&!du,ZP=Ds&&(!E0||du&&8<du&&11>=du),mT=" ",gT=!1;function eI(t,e){switch(t){case"keyup":return bF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fa=!1;function RF(t,e){switch(t){case"compositionend":return tI(e);case"keypress":return e.which!==32?null:(gT=!0,mT);case"textInput":return t=e.data,t===mT&&gT?null:t;default:return null}}function PF(t,e){if(Fa)return t==="compositionend"||!E0&&eI(t,e)?(t=JP(),mf=v0=bi=null,Fa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ZP&&e.locale!=="ko"?null:e.data;default:return null}}var IF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!IF[t.type]:e==="textarea"}function nI(t,e,n,r){DP(r),e=Xf(e,"onChange"),0<e.length&&(n=new w0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var hu=null,Lu=null;function AF(t){fI(t,0)}function tm(t){var e=$a(t);if(CP(e))return t}function NF(t,e){if(t==="change")return e}var rI=!1;if(Ds){var Og;if(Ds){var Lg="oninput"in document;if(!Lg){var vT=document.createElement("div");vT.setAttribute("oninput","return;"),Lg=typeof vT.oninput=="function"}Og=Lg}else Og=!1;rI=Og&&(!document.documentMode||9<document.documentMode)}function wT(){hu&&(hu.detachEvent("onpropertychange",sI),Lu=hu=null)}function sI(t){if(t.propertyName==="value"&&tm(Lu)){var e=[];nI(e,Lu,t,f0(t)),jP(AF,e)}}function kF(t,e,n){t==="focusin"?(wT(),hu=e,Lu=n,hu.attachEvent("onpropertychange",sI)):t==="focusout"&&wT()}function DF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tm(Lu)}function MF(t,e){if(t==="click")return tm(e)}function OF(t,e){if(t==="input"||t==="change")return tm(e)}function LF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dr=typeof Object.is=="function"?Object.is:LF;function ju(t,e){if(Dr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Hy.call(e,s)||!Dr(t[s],e[s]))return!1}return!0}function _T(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ET(t,e){var n=_T(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_T(n)}}function iI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?iI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function oI(){for(var t=window,e=Kf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Kf(t.document)}return e}function x0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function jF(t){var e=oI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&iI(n.ownerDocument.documentElement,n)){if(r!==null&&x0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=ET(n,i);var o=ET(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var VF=Ds&&"documentMode"in document&&11>=document.documentMode,Ua=null,dv=null,fu=null,hv=!1;function xT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hv||Ua==null||Ua!==Kf(r)||(r=Ua,"selectionStart"in r&&x0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fu&&ju(fu,r)||(fu=r,r=Xf(dv,"onSelect"),0<r.length&&(e=new w0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ua)))}function Dh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ba={animationend:Dh("Animation","AnimationEnd"),animationiteration:Dh("Animation","AnimationIteration"),animationstart:Dh("Animation","AnimationStart"),transitionend:Dh("Transition","TransitionEnd")},jg={},aI={};Ds&&(aI=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function nm(t){if(jg[t])return jg[t];if(!Ba[t])return t;var e=Ba[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in aI)return jg[t]=e[n];return t}var lI=nm("animationend"),cI=nm("animationiteration"),uI=nm("animationstart"),dI=nm("transitionend"),hI=new Map,TT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ro(t,e){hI.set(t,e),ha(e,[t])}for(var Vg=0;Vg<TT.length;Vg++){var Fg=TT[Vg],FF=Fg.toLowerCase(),UF=Fg[0].toUpperCase()+Fg.slice(1);ro(FF,"on"+UF)}ro(lI,"onAnimationEnd");ro(cI,"onAnimationIteration");ro(uI,"onAnimationStart");ro("dblclick","onDoubleClick");ro("focusin","onFocus");ro("focusout","onBlur");ro(dI,"onTransitionEnd");Nl("onMouseEnter",["mouseout","mouseover"]);Nl("onMouseLeave",["mouseout","mouseover"]);Nl("onPointerEnter",["pointerout","pointerover"]);Nl("onPointerLeave",["pointerout","pointerover"]);ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ha("onBeforeInput",["compositionend","keypress","textInput","paste"]);ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BF=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zc));function ST(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,FV(r,e,void 0,t),t.currentTarget=null}function fI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;ST(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;ST(s,a,c),i=l}}}if(Hf)throw t=av,Hf=!1,av=null,t}function st(t,e){var n=e[yv];n===void 0&&(n=e[yv]=new Set);var r=t+"__bubble";n.has(r)||(pI(e,t,2,!1),n.add(r))}function Ug(t,e,n){var r=0;e&&(r|=4),pI(n,t,r,e)}var Mh="_reactListening"+Math.random().toString(36).slice(2);function Vu(t){if(!t[Mh]){t[Mh]=!0,EP.forEach(function(n){n!=="selectionchange"&&(BF.has(n)||Ug(n,!1,t),Ug(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Mh]||(e[Mh]=!0,Ug("selectionchange",!1,e))}}function pI(t,e,n,r){switch(XP(e)){case 1:var s=tF;break;case 4:s=nF;break;default:s=y0}n=s.bind(null,e,n,t),s=void 0,!ov||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Bg(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=No(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}jP(function(){var c=i,d=f0(n),h=[];e:{var f=hI.get(t);if(f!==void 0){var g=w0,w=t;switch(t){case"keypress":if(gf(n)===0)break e;case"keydown":case"keyup":g=yF;break;case"focusin":w="focus",g=Mg;break;case"focusout":w="blur",g=Mg;break;case"beforeblur":case"afterblur":g=Mg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=hT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=iF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=_F;break;case lI:case cI:case uI:g=lF;break;case dI:g=xF;break;case"scroll":g=rF;break;case"wheel":g=SF;break;case"copy":case"cut":case"paste":g=uF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=pT}var y=(e&4)!==0,T=!y&&t==="scroll",x=y?f!==null?f+"Capture":null:f;y=[];for(var E=c,b;E!==null;){b=E;var C=b.stateNode;if(b.tag===5&&C!==null&&(b=C,x!==null&&(C=ku(E,x),C!=null&&y.push(Fu(E,C,b)))),T)break;E=E.return}0<y.length&&(f=new g(f,w,null,n,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==sv&&(w=n.relatedTarget||n.fromElement)&&(No(w)||w[Ms]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=c,w=w?No(w):null,w!==null&&(T=fa(w),w!==T||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=c),g!==w)){if(y=hT,C="onMouseLeave",x="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(y=pT,C="onPointerLeave",x="onPointerEnter",E="pointer"),T=g==null?f:$a(g),b=w==null?f:$a(w),f=new y(C,E+"leave",g,n,d),f.target=T,f.relatedTarget=b,C=null,No(d)===c&&(y=new y(x,E+"enter",w,n,d),y.target=b,y.relatedTarget=T,C=y),T=C,g&&w)t:{for(y=g,x=w,E=0,b=y;b;b=Ia(b))E++;for(b=0,C=x;C;C=Ia(C))b++;for(;0<E-b;)y=Ia(y),E--;for(;0<b-E;)x=Ia(x),b--;for(;E--;){if(y===x||x!==null&&y===x.alternate)break t;y=Ia(y),x=Ia(x)}y=null}else y=null;g!==null&&bT(h,f,g,y,!1),w!==null&&T!==null&&bT(h,T,w,y,!0)}}e:{if(f=c?$a(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var k=NF;else if(yT(f))if(rI)k=OF;else{k=DF;var j=kF}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=MF);if(k&&(k=k(t,c))){nI(h,k,n,d);break e}j&&j(t,f,c),t==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&Zy(f,"number",f.value)}switch(j=c?$a(c):window,t){case"focusin":(yT(j)||j.contentEditable==="true")&&(Ua=j,dv=c,fu=null);break;case"focusout":fu=dv=Ua=null;break;case"mousedown":hv=!0;break;case"contextmenu":case"mouseup":case"dragend":hv=!1,xT(h,n,d);break;case"selectionchange":if(VF)break;case"keydown":case"keyup":xT(h,n,d)}var R;if(E0)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Fa?eI(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(ZP&&n.locale!=="ko"&&(Fa||_!=="onCompositionStart"?_==="onCompositionEnd"&&Fa&&(R=JP()):(bi=d,v0="value"in bi?bi.value:bi.textContent,Fa=!0)),j=Xf(c,_),0<j.length&&(_=new fT(_,t,null,n,d),h.push({event:_,listeners:j}),R?_.data=R:(R=tI(n),R!==null&&(_.data=R)))),(R=CF?RF(t,n):PF(t,n))&&(c=Xf(c,"onBeforeInput"),0<c.length&&(d=new fT("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=R))}fI(h,e)})}function Fu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xf(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ku(t,n),i!=null&&r.unshift(Fu(t,i,s)),i=ku(t,e),i!=null&&r.push(Fu(t,i,s))),t=t.return}return r}function Ia(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function bT(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=ku(n,i),l!=null&&o.unshift(Fu(n,l,a))):s||(l=ku(n,i),l!=null&&o.push(Fu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var $F=/\r\n?/g,zF=/\u0000|\uFFFD/g;function CT(t){return(typeof t=="string"?t:""+t).replace($F,`
`).replace(zF,"")}function Oh(t,e,n){if(e=CT(e),CT(t)!==e&&n)throw Error(q(425))}function Jf(){}var fv=null,pv=null;function mv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gv=typeof setTimeout=="function"?setTimeout:void 0,KF=typeof clearTimeout=="function"?clearTimeout:void 0,RT=typeof Promise=="function"?Promise:void 0,WF=typeof queueMicrotask=="function"?queueMicrotask:typeof RT<"u"?function(t){return RT.resolve(null).then(t).catch(HF)}:gv;function HF(t){setTimeout(function(){throw t})}function $g(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ou(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ou(e)}function ki(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function PT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var tc=Math.random().toString(36).slice(2),Hr="__reactFiber$"+tc,Uu="__reactProps$"+tc,Ms="__reactContainer$"+tc,yv="__reactEvents$"+tc,GF="__reactListeners$"+tc,qF="__reactHandles$"+tc;function No(t){var e=t[Hr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ms]||n[Hr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=PT(t);t!==null;){if(n=t[Hr])return n;t=PT(t)}return e}t=n,n=t.parentNode}return null}function kd(t){return t=t[Hr]||t[Ms],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $a(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function rm(t){return t[Uu]||null}var vv=[],za=-1;function so(t){return{current:t}}function it(t){0>za||(t.current=vv[za],vv[za]=null,za--)}function Xe(t,e){za++,vv[za]=t.current,t.current=e}var Wi={},gn=so(Wi),Mn=so(!1),Yo=Wi;function kl(t,e){var n=t.type.contextTypes;if(!n)return Wi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function On(t){return t=t.childContextTypes,t!=null}function Zf(){it(Mn),it(gn)}function IT(t,e,n){if(gn.current!==Wi)throw Error(q(168));Xe(gn,e),Xe(Mn,n)}function mI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(q(108,kV(t)||"Unknown",s));return ft({},n,r)}function ep(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wi,Yo=gn.current,Xe(gn,t),Xe(Mn,Mn.current),!0}function AT(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=mI(t,e,Yo),r.__reactInternalMemoizedMergedChildContext=t,it(Mn),it(gn),Xe(gn,t)):it(Mn),Xe(Mn,n)}var gs=null,sm=!1,zg=!1;function gI(t){gs===null?gs=[t]:gs.push(t)}function QF(t){sm=!0,gI(t)}function io(){if(!zg&&gs!==null){zg=!0;var t=0,e=ze;try{var n=gs;for(ze=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}gs=null,sm=!1}catch(s){throw gs!==null&&(gs=gs.slice(t+1)),BP(p0,io),s}finally{ze=e,zg=!1}}return null}var Ka=[],Wa=0,tp=null,np=0,or=[],ar=0,Xo=null,vs=1,ws="";function bo(t,e){Ka[Wa++]=np,Ka[Wa++]=tp,tp=t,np=e}function yI(t,e,n){or[ar++]=vs,or[ar++]=ws,or[ar++]=Xo,Xo=t;var r=vs;t=ws;var s=32-Ar(r)-1;r&=~(1<<s),n+=1;var i=32-Ar(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,vs=1<<32-Ar(e)+s|n<<s|r,ws=i+t}else vs=1<<i|n<<s|r,ws=t}function T0(t){t.return!==null&&(bo(t,1),yI(t,1,0))}function S0(t){for(;t===tp;)tp=Ka[--Wa],Ka[Wa]=null,np=Ka[--Wa],Ka[Wa]=null;for(;t===Xo;)Xo=or[--ar],or[ar]=null,ws=or[--ar],or[ar]=null,vs=or[--ar],or[ar]=null}var Wn=null,zn=null,lt=!1,Rr=null;function vI(t,e){var n=cr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function NT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wn=t,zn=ki(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wn=t,zn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Xo!==null?{id:vs,overflow:ws}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=cr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Wn=t,zn=null,!0):!1;default:return!1}}function wv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _v(t){if(lt){var e=zn;if(e){var n=e;if(!NT(t,e)){if(wv(t))throw Error(q(418));e=ki(n.nextSibling);var r=Wn;e&&NT(t,e)?vI(r,n):(t.flags=t.flags&-4097|2,lt=!1,Wn=t)}}else{if(wv(t))throw Error(q(418));t.flags=t.flags&-4097|2,lt=!1,Wn=t}}}function kT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wn=t}function Lh(t){if(t!==Wn)return!1;if(!lt)return kT(t),lt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!mv(t.type,t.memoizedProps)),e&&(e=zn)){if(wv(t))throw wI(),Error(q(418));for(;e;)vI(t,e),e=ki(e.nextSibling)}if(kT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){zn=ki(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}zn=null}}else zn=Wn?ki(t.stateNode.nextSibling):null;return!0}function wI(){for(var t=zn;t;)t=ki(t.nextSibling)}function Dl(){zn=Wn=null,lt=!1}function b0(t){Rr===null?Rr=[t]:Rr.push(t)}var YF=Ws.ReactCurrentBatchConfig;function Fc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function jh(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function DT(t){var e=t._init;return e(t._payload)}function _I(t){function e(x,E){if(t){var b=x.deletions;b===null?(x.deletions=[E],x.flags|=16):b.push(E)}}function n(x,E){if(!t)return null;for(;E!==null;)e(x,E),E=E.sibling;return null}function r(x,E){for(x=new Map;E!==null;)E.key!==null?x.set(E.key,E):x.set(E.index,E),E=E.sibling;return x}function s(x,E){return x=Li(x,E),x.index=0,x.sibling=null,x}function i(x,E,b){return x.index=b,t?(b=x.alternate,b!==null?(b=b.index,b<E?(x.flags|=2,E):b):(x.flags|=2,E)):(x.flags|=1048576,E)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,E,b,C){return E===null||E.tag!==6?(E=Yg(b,x.mode,C),E.return=x,E):(E=s(E,b),E.return=x,E)}function l(x,E,b,C){var k=b.type;return k===Va?d(x,E,b.props.children,C,b.key):E!==null&&(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===li&&DT(k)===E.type)?(C=s(E,b.props),C.ref=Fc(x,E,b),C.return=x,C):(C=Tf(b.type,b.key,b.props,null,x.mode,C),C.ref=Fc(x,E,b),C.return=x,C)}function c(x,E,b,C){return E===null||E.tag!==4||E.stateNode.containerInfo!==b.containerInfo||E.stateNode.implementation!==b.implementation?(E=Xg(b,x.mode,C),E.return=x,E):(E=s(E,b.children||[]),E.return=x,E)}function d(x,E,b,C,k){return E===null||E.tag!==7?(E=Ho(b,x.mode,C,k),E.return=x,E):(E=s(E,b),E.return=x,E)}function h(x,E,b){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Yg(""+E,x.mode,b),E.return=x,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ch:return b=Tf(E.type,E.key,E.props,null,x.mode,b),b.ref=Fc(x,null,E),b.return=x,b;case ja:return E=Xg(E,x.mode,b),E.return=x,E;case li:var C=E._init;return h(x,C(E._payload),b)}if(Xc(E)||Mc(E))return E=Ho(E,x.mode,b,null),E.return=x,E;jh(x,E)}return null}function f(x,E,b,C){var k=E!==null?E.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return k!==null?null:a(x,E,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ch:return b.key===k?l(x,E,b,C):null;case ja:return b.key===k?c(x,E,b,C):null;case li:return k=b._init,f(x,E,k(b._payload),C)}if(Xc(b)||Mc(b))return k!==null?null:d(x,E,b,C,null);jh(x,b)}return null}function g(x,E,b,C,k){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(b)||null,a(E,x,""+C,k);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ch:return x=x.get(C.key===null?b:C.key)||null,l(E,x,C,k);case ja:return x=x.get(C.key===null?b:C.key)||null,c(E,x,C,k);case li:var j=C._init;return g(x,E,b,j(C._payload),k)}if(Xc(C)||Mc(C))return x=x.get(b)||null,d(E,x,C,k,null);jh(E,C)}return null}function w(x,E,b,C){for(var k=null,j=null,R=E,_=E=0,P=null;R!==null&&_<b.length;_++){R.index>_?(P=R,R=null):P=R.sibling;var A=f(x,R,b[_],C);if(A===null){R===null&&(R=P);break}t&&R&&A.alternate===null&&e(x,R),E=i(A,E,_),j===null?k=A:j.sibling=A,j=A,R=P}if(_===b.length)return n(x,R),lt&&bo(x,_),k;if(R===null){for(;_<b.length;_++)R=h(x,b[_],C),R!==null&&(E=i(R,E,_),j===null?k=R:j.sibling=R,j=R);return lt&&bo(x,_),k}for(R=r(x,R);_<b.length;_++)P=g(R,x,_,b[_],C),P!==null&&(t&&P.alternate!==null&&R.delete(P.key===null?_:P.key),E=i(P,E,_),j===null?k=P:j.sibling=P,j=P);return t&&R.forEach(function(D){return e(x,D)}),lt&&bo(x,_),k}function y(x,E,b,C){var k=Mc(b);if(typeof k!="function")throw Error(q(150));if(b=k.call(b),b==null)throw Error(q(151));for(var j=k=null,R=E,_=E=0,P=null,A=b.next();R!==null&&!A.done;_++,A=b.next()){R.index>_?(P=R,R=null):P=R.sibling;var D=f(x,R,A.value,C);if(D===null){R===null&&(R=P);break}t&&R&&D.alternate===null&&e(x,R),E=i(D,E,_),j===null?k=D:j.sibling=D,j=D,R=P}if(A.done)return n(x,R),lt&&bo(x,_),k;if(R===null){for(;!A.done;_++,A=b.next())A=h(x,A.value,C),A!==null&&(E=i(A,E,_),j===null?k=A:j.sibling=A,j=A);return lt&&bo(x,_),k}for(R=r(x,R);!A.done;_++,A=b.next())A=g(R,x,_,A.value,C),A!==null&&(t&&A.alternate!==null&&R.delete(A.key===null?_:A.key),E=i(A,E,_),j===null?k=A:j.sibling=A,j=A);return t&&R.forEach(function(M){return e(x,M)}),lt&&bo(x,_),k}function T(x,E,b,C){if(typeof b=="object"&&b!==null&&b.type===Va&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ch:e:{for(var k=b.key,j=E;j!==null;){if(j.key===k){if(k=b.type,k===Va){if(j.tag===7){n(x,j.sibling),E=s(j,b.props.children),E.return=x,x=E;break e}}else if(j.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===li&&DT(k)===j.type){n(x,j.sibling),E=s(j,b.props),E.ref=Fc(x,j,b),E.return=x,x=E;break e}n(x,j);break}else e(x,j);j=j.sibling}b.type===Va?(E=Ho(b.props.children,x.mode,C,b.key),E.return=x,x=E):(C=Tf(b.type,b.key,b.props,null,x.mode,C),C.ref=Fc(x,E,b),C.return=x,x=C)}return o(x);case ja:e:{for(j=b.key;E!==null;){if(E.key===j)if(E.tag===4&&E.stateNode.containerInfo===b.containerInfo&&E.stateNode.implementation===b.implementation){n(x,E.sibling),E=s(E,b.children||[]),E.return=x,x=E;break e}else{n(x,E);break}else e(x,E);E=E.sibling}E=Xg(b,x.mode,C),E.return=x,x=E}return o(x);case li:return j=b._init,T(x,E,j(b._payload),C)}if(Xc(b))return w(x,E,b,C);if(Mc(b))return y(x,E,b,C);jh(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,E!==null&&E.tag===6?(n(x,E.sibling),E=s(E,b),E.return=x,x=E):(n(x,E),E=Yg(b,x.mode,C),E.return=x,x=E),o(x)):n(x,E)}return T}var Ml=_I(!0),EI=_I(!1),rp=so(null),sp=null,Ha=null,C0=null;function R0(){C0=Ha=sp=null}function P0(t){var e=rp.current;it(rp),t._currentValue=e}function Ev(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ol(t,e){sp=t,C0=Ha=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Dn=!0),t.firstContext=null)}function fr(t){var e=t._currentValue;if(C0!==t)if(t={context:t,memoizedValue:e,next:null},Ha===null){if(sp===null)throw Error(q(308));Ha=t,sp.dependencies={lanes:0,firstContext:t}}else Ha=Ha.next=t;return e}var ko=null;function I0(t){ko===null?ko=[t]:ko.push(t)}function xI(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,I0(e)):(n.next=s.next,s.next=n),e.interleaved=n,Os(t,r)}function Os(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ci=!1;function A0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Cs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Di(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Os(t,n)}return s=r.interleaved,s===null?(e.next=e,I0(r)):(e.next=s.next,s.next=e),r.interleaved=e,Os(t,n)}function yf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,m0(t,n)}}function MT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ip(t,e,n,r){var s=t.updateQueue;ci=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var f=a.lane,g=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,y=a;switch(f=e,g=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){h=w.call(g,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,f=typeof w=="function"?w.call(g,h,f):w,f==null)break e;h=ft({},h,f);break e;case 2:ci=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=h):d=d.next=g,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Zo|=o,t.lanes=o,t.memoizedState=h}}function OT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(q(191,s));s.call(r)}}}var Dd={},Yr=so(Dd),Bu=so(Dd),$u=so(Dd);function Do(t){if(t===Dd)throw Error(q(174));return t}function N0(t,e){switch(Xe($u,e),Xe(Bu,t),Xe(Yr,Dd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=tv(e,t)}it(Yr),Xe(Yr,e)}function Ol(){it(Yr),it(Bu),it($u)}function SI(t){Do($u.current);var e=Do(Yr.current),n=tv(e,t.type);e!==n&&(Xe(Bu,t),Xe(Yr,n))}function k0(t){Bu.current===t&&(it(Yr),it(Bu))}var ut=so(0);function op(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kg=[];function D0(){for(var t=0;t<Kg.length;t++)Kg[t]._workInProgressVersionPrimary=null;Kg.length=0}var vf=Ws.ReactCurrentDispatcher,Wg=Ws.ReactCurrentBatchConfig,Jo=0,ht=null,Ot=null,Bt=null,ap=!1,pu=!1,zu=0,XF=0;function on(){throw Error(q(321))}function M0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Dr(t[n],e[n]))return!1;return!0}function O0(t,e,n,r,s,i){if(Jo=i,ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vf.current=t===null||t.memoizedState===null?tU:nU,t=n(r,s),pu){i=0;do{if(pu=!1,zu=0,25<=i)throw Error(q(301));i+=1,Bt=Ot=null,e.updateQueue=null,vf.current=rU,t=n(r,s)}while(pu)}if(vf.current=lp,e=Ot!==null&&Ot.next!==null,Jo=0,Bt=Ot=ht=null,ap=!1,e)throw Error(q(300));return t}function L0(){var t=zu!==0;return zu=0,t}function Ur(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?ht.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function pr(){if(Ot===null){var t=ht.alternate;t=t!==null?t.memoizedState:null}else t=Ot.next;var e=Bt===null?ht.memoizedState:Bt.next;if(e!==null)Bt=e,Ot=t;else{if(t===null)throw Error(q(310));Ot=t,t={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Bt===null?ht.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}function Ku(t,e){return typeof e=="function"?e(t):e}function Hg(t){var e=pr(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=Ot,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Jo&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ht.lanes|=d,Zo|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Dr(r,e.memoizedState)||(Dn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ht.lanes|=i,Zo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Gg(t){var e=pr(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Dr(i,e.memoizedState)||(Dn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function bI(){}function CI(t,e){var n=ht,r=pr(),s=e(),i=!Dr(r.memoizedState,s);if(i&&(r.memoizedState=s,Dn=!0),r=r.queue,j0(II.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Bt!==null&&Bt.memoizedState.tag&1){if(n.flags|=2048,Wu(9,PI.bind(null,n,r,s,e),void 0,null),$t===null)throw Error(q(349));Jo&30||RI(n,e,s)}return s}function RI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function PI(t,e,n,r){e.value=n,e.getSnapshot=r,AI(e)&&NI(t)}function II(t,e,n){return n(function(){AI(e)&&NI(t)})}function AI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Dr(t,n)}catch{return!0}}function NI(t){var e=Os(t,1);e!==null&&Nr(e,t,1,-1)}function LT(t){var e=Ur();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ku,lastRenderedState:t},e.queue=t,t=t.dispatch=eU.bind(null,ht,t),[e.memoizedState,t]}function Wu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function kI(){return pr().memoizedState}function wf(t,e,n,r){var s=Ur();ht.flags|=t,s.memoizedState=Wu(1|e,n,void 0,r===void 0?null:r)}function im(t,e,n,r){var s=pr();r=r===void 0?null:r;var i=void 0;if(Ot!==null){var o=Ot.memoizedState;if(i=o.destroy,r!==null&&M0(r,o.deps)){s.memoizedState=Wu(e,n,i,r);return}}ht.flags|=t,s.memoizedState=Wu(1|e,n,i,r)}function jT(t,e){return wf(8390656,8,t,e)}function j0(t,e){return im(2048,8,t,e)}function DI(t,e){return im(4,2,t,e)}function MI(t,e){return im(4,4,t,e)}function OI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function LI(t,e,n){return n=n!=null?n.concat([t]):null,im(4,4,OI.bind(null,e,t),n)}function V0(){}function jI(t,e){var n=pr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&M0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function VI(t,e){var n=pr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&M0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function FI(t,e,n){return Jo&21?(Dr(n,e)||(n=KP(),ht.lanes|=n,Zo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Dn=!0),t.memoizedState=n)}function JF(t,e){var n=ze;ze=n!==0&&4>n?n:4,t(!0);var r=Wg.transition;Wg.transition={};try{t(!1),e()}finally{ze=n,Wg.transition=r}}function UI(){return pr().memoizedState}function ZF(t,e,n){var r=Oi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},BI(t))$I(e,n);else if(n=xI(t,e,n,r),n!==null){var s=Cn();Nr(n,t,r,s),zI(n,e,r)}}function eU(t,e,n){var r=Oi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(BI(t))$I(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Dr(a,o)){var l=e.interleaved;l===null?(s.next=s,I0(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=xI(t,e,s,r),n!==null&&(s=Cn(),Nr(n,t,r,s),zI(n,e,r))}}function BI(t){var e=t.alternate;return t===ht||e!==null&&e===ht}function $I(t,e){pu=ap=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function zI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,m0(t,n)}}var lp={readContext:fr,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},tU={readContext:fr,useCallback:function(t,e){return Ur().memoizedState=[t,e===void 0?null:e],t},useContext:fr,useEffect:jT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wf(4194308,4,OI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wf(4194308,4,t,e)},useInsertionEffect:function(t,e){return wf(4,2,t,e)},useMemo:function(t,e){var n=Ur();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ur();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ZF.bind(null,ht,t),[r.memoizedState,t]},useRef:function(t){var e=Ur();return t={current:t},e.memoizedState=t},useState:LT,useDebugValue:V0,useDeferredValue:function(t){return Ur().memoizedState=t},useTransition:function(){var t=LT(!1),e=t[0];return t=JF.bind(null,t[1]),Ur().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ht,s=Ur();if(lt){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),$t===null)throw Error(q(349));Jo&30||RI(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,jT(II.bind(null,r,i,t),[t]),r.flags|=2048,Wu(9,PI.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Ur(),e=$t.identifierPrefix;if(lt){var n=ws,r=vs;n=(r&~(1<<32-Ar(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=zu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=XF++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},nU={readContext:fr,useCallback:jI,useContext:fr,useEffect:j0,useImperativeHandle:LI,useInsertionEffect:DI,useLayoutEffect:MI,useMemo:VI,useReducer:Hg,useRef:kI,useState:function(){return Hg(Ku)},useDebugValue:V0,useDeferredValue:function(t){var e=pr();return FI(e,Ot.memoizedState,t)},useTransition:function(){var t=Hg(Ku)[0],e=pr().memoizedState;return[t,e]},useMutableSource:bI,useSyncExternalStore:CI,useId:UI,unstable_isNewReconciler:!1},rU={readContext:fr,useCallback:jI,useContext:fr,useEffect:j0,useImperativeHandle:LI,useInsertionEffect:DI,useLayoutEffect:MI,useMemo:VI,useReducer:Gg,useRef:kI,useState:function(){return Gg(Ku)},useDebugValue:V0,useDeferredValue:function(t){var e=pr();return Ot===null?e.memoizedState=t:FI(e,Ot.memoizedState,t)},useTransition:function(){var t=Gg(Ku)[0],e=pr().memoizedState;return[t,e]},useMutableSource:bI,useSyncExternalStore:CI,useId:UI,unstable_isNewReconciler:!1};function Tr(t,e){if(t&&t.defaultProps){e=ft({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function xv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ft({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var om={isMounted:function(t){return(t=t._reactInternals)?fa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Cn(),s=Oi(t),i=Cs(r,s);i.payload=e,n!=null&&(i.callback=n),e=Di(t,i,s),e!==null&&(Nr(e,t,s,r),yf(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Cn(),s=Oi(t),i=Cs(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Di(t,i,s),e!==null&&(Nr(e,t,s,r),yf(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Cn(),r=Oi(t),s=Cs(n,r);s.tag=2,e!=null&&(s.callback=e),e=Di(t,s,r),e!==null&&(Nr(e,t,r,n),yf(e,t,r))}};function VT(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!ju(n,r)||!ju(s,i):!0}function KI(t,e,n){var r=!1,s=Wi,i=e.contextType;return typeof i=="object"&&i!==null?i=fr(i):(s=On(e)?Yo:gn.current,r=e.contextTypes,i=(r=r!=null)?kl(t,s):Wi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=om,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function FT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&om.enqueueReplaceState(e,e.state,null)}function Tv(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},A0(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=fr(i):(i=On(e)?Yo:gn.current,s.context=kl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(xv(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&om.enqueueReplaceState(s,s.state,null),ip(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ll(t,e){try{var n="",r=e;do n+=NV(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function qg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Sv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var sU=typeof WeakMap=="function"?WeakMap:Map;function WI(t,e,n){n=Cs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){up||(up=!0,Mv=r),Sv(t,e)},n}function HI(t,e,n){n=Cs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Sv(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Sv(t,e),typeof r!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function UT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new sU;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=vU.bind(null,t,e,n),e.then(t,t))}function BT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $T(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Cs(-1,1),e.tag=2,Di(n,e,1))),n.lanes|=1),t)}var iU=Ws.ReactCurrentOwner,Dn=!1;function bn(t,e,n,r){e.child=t===null?EI(e,null,n,r):Ml(e,t.child,n,r)}function zT(t,e,n,r,s){n=n.render;var i=e.ref;return ol(e,s),r=O0(t,e,n,r,i,s),n=L0(),t!==null&&!Dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ls(t,e,s)):(lt&&n&&T0(e),e.flags|=1,bn(t,e,r,s),e.child)}function KT(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!H0(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,GI(t,e,i,r,s)):(t=Tf(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ju,n(o,r)&&t.ref===e.ref)return Ls(t,e,s)}return e.flags|=1,t=Li(i,r),t.ref=e.ref,t.return=e,e.child=t}function GI(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ju(i,r)&&t.ref===e.ref)if(Dn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Dn=!0);else return e.lanes=t.lanes,Ls(t,e,s)}return bv(t,e,n,r,s)}function qI(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(qa,Un),Un|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Xe(qa,Un),Un|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Xe(qa,Un),Un|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Xe(qa,Un),Un|=r;return bn(t,e,s,n),e.child}function QI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function bv(t,e,n,r,s){var i=On(n)?Yo:gn.current;return i=kl(e,i),ol(e,s),n=O0(t,e,n,r,i,s),r=L0(),t!==null&&!Dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ls(t,e,s)):(lt&&r&&T0(e),e.flags|=1,bn(t,e,n,s),e.child)}function WT(t,e,n,r,s){if(On(n)){var i=!0;ep(e)}else i=!1;if(ol(e,s),e.stateNode===null)_f(t,e),KI(e,n,r),Tv(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=fr(c):(c=On(n)?Yo:gn.current,c=kl(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&FT(e,o,r,c),ci=!1;var f=e.memoizedState;o.state=f,ip(e,r,o,s),l=e.memoizedState,a!==r||f!==l||Mn.current||ci?(typeof d=="function"&&(xv(e,n,d,r),l=e.memoizedState),(a=ci||VT(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,TI(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Tr(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=fr(l):(l=On(n)?Yo:gn.current,l=kl(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&FT(e,o,r,l),ci=!1,f=e.memoizedState,o.state=f,ip(e,r,o,s);var w=e.memoizedState;a!==h||f!==w||Mn.current||ci?(typeof g=="function"&&(xv(e,n,g,r),w=e.memoizedState),(c=ci||VT(e,n,c,r,f,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Cv(t,e,n,r,i,s)}function Cv(t,e,n,r,s,i){QI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&AT(e,n,!1),Ls(t,e,i);r=e.stateNode,iU.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ml(e,t.child,null,i),e.child=Ml(e,null,a,i)):bn(t,e,a,i),e.memoizedState=r.state,s&&AT(e,n,!0),e.child}function YI(t){var e=t.stateNode;e.pendingContext?IT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&IT(t,e.context,!1),N0(t,e.containerInfo)}function HT(t,e,n,r,s){return Dl(),b0(s),e.flags|=256,bn(t,e,n,r),e.child}var Rv={dehydrated:null,treeContext:null,retryLane:0};function Pv(t){return{baseLanes:t,cachePool:null,transitions:null}}function XI(t,e,n){var r=e.pendingProps,s=ut.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Xe(ut,s&1),t===null)return _v(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=cm(o,r,0,null),t=Ho(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Pv(n),e.memoizedState=Rv,t):F0(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return oU(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Li(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Li(a,i):(i=Ho(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Pv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Rv,r}return i=t.child,t=i.sibling,r=Li(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function F0(t,e){return e=cm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Vh(t,e,n,r){return r!==null&&b0(r),Ml(e,t.child,null,n),t=F0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function oU(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=qg(Error(q(422))),Vh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=cm({mode:"visible",children:r.children},s,0,null),i=Ho(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ml(e,t.child,null,o),e.child.memoizedState=Pv(o),e.memoizedState=Rv,i);if(!(e.mode&1))return Vh(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(q(419)),r=qg(i,r,void 0),Vh(t,e,o,r)}if(a=(o&t.childLanes)!==0,Dn||a){if(r=$t,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Os(t,s),Nr(r,t,s,-1))}return W0(),r=qg(Error(q(421))),Vh(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=wU.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,zn=ki(s.nextSibling),Wn=e,lt=!0,Rr=null,t!==null&&(or[ar++]=vs,or[ar++]=ws,or[ar++]=Xo,vs=t.id,ws=t.overflow,Xo=e),e=F0(e,r.children),e.flags|=4096,e)}function GT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ev(t.return,e,n)}function Qg(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function JI(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(bn(t,e,r.children,n),r=ut.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&GT(t,n,e);else if(t.tag===19)GT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Xe(ut,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&op(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Qg(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&op(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Qg(e,!0,n,null,i);break;case"together":Qg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _f(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ls(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Zo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=Li(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Li(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function aU(t,e,n){switch(e.tag){case 3:YI(e),Dl();break;case 5:SI(e);break;case 1:On(e.type)&&ep(e);break;case 4:N0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Xe(rp,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Xe(ut,ut.current&1),e.flags|=128,null):n&e.child.childLanes?XI(t,e,n):(Xe(ut,ut.current&1),t=Ls(t,e,n),t!==null?t.sibling:null);Xe(ut,ut.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return JI(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Xe(ut,ut.current),r)break;return null;case 22:case 23:return e.lanes=0,qI(t,e,n)}return Ls(t,e,n)}var ZI,Iv,e1,t1;ZI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Iv=function(){};e1=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Do(Yr.current);var i=null;switch(n){case"input":s=Xy(t,s),r=Xy(t,r),i=[];break;case"select":s=ft({},s,{value:void 0}),r=ft({},r,{value:void 0}),i=[];break;case"textarea":s=ev(t,s),r=ev(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Jf)}nv(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Au.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Au.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&st("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};t1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Uc(t,e){if(!lt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function an(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function lU(t,e,n){var r=e.pendingProps;switch(S0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(e),null;case 1:return On(e.type)&&Zf(),an(e),null;case 3:return r=e.stateNode,Ol(),it(Mn),it(gn),D0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Lh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rr!==null&&(jv(Rr),Rr=null))),Iv(t,e),an(e),null;case 5:k0(e);var s=Do($u.current);if(n=e.type,t!==null&&e.stateNode!=null)e1(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return an(e),null}if(t=Do(Yr.current),Lh(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Hr]=e,r[Uu]=i,t=(e.mode&1)!==0,n){case"dialog":st("cancel",r),st("close",r);break;case"iframe":case"object":case"embed":st("load",r);break;case"video":case"audio":for(s=0;s<Zc.length;s++)st(Zc[s],r);break;case"source":st("error",r);break;case"img":case"image":case"link":st("error",r),st("load",r);break;case"details":st("toggle",r);break;case"input":nT(r,i),st("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},st("invalid",r);break;case"textarea":sT(r,i),st("invalid",r)}nv(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Oh(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Oh(r.textContent,a,t),s=["children",""+a]):Au.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&st("scroll",r)}switch(n){case"input":Rh(r),rT(r,i,!0);break;case"textarea":Rh(r),iT(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Jf)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=IP(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Hr]=e,t[Uu]=r,ZI(t,e,!1,!1),e.stateNode=t;e:{switch(o=rv(n,r),n){case"dialog":st("cancel",t),st("close",t),s=r;break;case"iframe":case"object":case"embed":st("load",t),s=r;break;case"video":case"audio":for(s=0;s<Zc.length;s++)st(Zc[s],t);s=r;break;case"source":st("error",t),s=r;break;case"img":case"image":case"link":st("error",t),st("load",t),s=r;break;case"details":st("toggle",t),s=r;break;case"input":nT(t,r),s=Xy(t,r),st("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ft({},r,{value:void 0}),st("invalid",t);break;case"textarea":sT(t,r),s=ev(t,r),st("invalid",t);break;default:s=r}nv(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?kP(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&AP(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Nu(t,l):typeof l=="number"&&Nu(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Au.hasOwnProperty(i)?l!=null&&i==="onScroll"&&st("scroll",t):l!=null&&c0(t,i,l,o))}switch(n){case"input":Rh(t),rT(t,r,!1);break;case"textarea":Rh(t),iT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ki(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?nl(t,!!r.multiple,i,!1):r.defaultValue!=null&&nl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Jf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return an(e),null;case 6:if(t&&e.stateNode!=null)t1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=Do($u.current),Do(Yr.current),Lh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Hr]=e,(i=r.nodeValue!==n)&&(t=Wn,t!==null))switch(t.tag){case 3:Oh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Oh(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Hr]=e,e.stateNode=r}return an(e),null;case 13:if(it(ut),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(lt&&zn!==null&&e.mode&1&&!(e.flags&128))wI(),Dl(),e.flags|=98560,i=!1;else if(i=Lh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[Hr]=e}else Dl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;an(e),i=!1}else Rr!==null&&(jv(Rr),Rr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ut.current&1?Vt===0&&(Vt=3):W0())),e.updateQueue!==null&&(e.flags|=4),an(e),null);case 4:return Ol(),Iv(t,e),t===null&&Vu(e.stateNode.containerInfo),an(e),null;case 10:return P0(e.type._context),an(e),null;case 17:return On(e.type)&&Zf(),an(e),null;case 19:if(it(ut),i=e.memoizedState,i===null)return an(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Uc(i,!1);else{if(Vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=op(t),o!==null){for(e.flags|=128,Uc(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Xe(ut,ut.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ct()>jl&&(e.flags|=128,r=!0,Uc(i,!1),e.lanes=4194304)}else{if(!r)if(t=op(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Uc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!lt)return an(e),null}else 2*Ct()-i.renderingStartTime>jl&&n!==1073741824&&(e.flags|=128,r=!0,Uc(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ct(),e.sibling=null,n=ut.current,Xe(ut,r?n&1|2:n&1),e):(an(e),null);case 22:case 23:return K0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Un&1073741824&&(an(e),e.subtreeFlags&6&&(e.flags|=8192)):an(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function cU(t,e){switch(S0(e),e.tag){case 1:return On(e.type)&&Zf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ol(),it(Mn),it(gn),D0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return k0(e),null;case 13:if(it(ut),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));Dl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return it(ut),null;case 4:return Ol(),null;case 10:return P0(e.type._context),null;case 22:case 23:return K0(),null;case 24:return null;default:return null}}var Fh=!1,hn=!1,uU=typeof WeakSet=="function"?WeakSet:Set,te=null;function Ga(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vt(t,e,r)}else n.current=null}function Av(t,e,n){try{n()}catch(r){vt(t,e,r)}}var qT=!1;function dU(t,e){if(fv=Qf,t=oI(),x0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++d===r&&(l=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(pv={focusedElem:t,selectionRange:n},Qf=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,T=w.memoizedState,x=e.stateNode,E=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:Tr(e.type,y),T);x.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(C){vt(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return w=qT,qT=!1,w}function mu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Av(e,n,i)}s=s.next}while(s!==r)}}function am(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Nv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function n1(t){var e=t.alternate;e!==null&&(t.alternate=null,n1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Hr],delete e[Uu],delete e[yv],delete e[GF],delete e[qF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function r1(t){return t.tag===5||t.tag===3||t.tag===4}function QT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||r1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Jf));else if(r!==4&&(t=t.child,t!==null))for(kv(t,e,n),t=t.sibling;t!==null;)kv(t,e,n),t=t.sibling}function Dv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Dv(t,e,n),t=t.sibling;t!==null;)Dv(t,e,n),t=t.sibling}var Kt=null,br=!1;function ei(t,e,n){for(n=n.child;n!==null;)s1(t,e,n),n=n.sibling}function s1(t,e,n){if(Qr&&typeof Qr.onCommitFiberUnmount=="function")try{Qr.onCommitFiberUnmount(Zp,n)}catch{}switch(n.tag){case 5:hn||Ga(n,e);case 6:var r=Kt,s=br;Kt=null,ei(t,e,n),Kt=r,br=s,Kt!==null&&(br?(t=Kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Kt.removeChild(n.stateNode));break;case 18:Kt!==null&&(br?(t=Kt,n=n.stateNode,t.nodeType===8?$g(t.parentNode,n):t.nodeType===1&&$g(t,n),Ou(t)):$g(Kt,n.stateNode));break;case 4:r=Kt,s=br,Kt=n.stateNode.containerInfo,br=!0,ei(t,e,n),Kt=r,br=s;break;case 0:case 11:case 14:case 15:if(!hn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Av(n,e,o),s=s.next}while(s!==r)}ei(t,e,n);break;case 1:if(!hn&&(Ga(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){vt(n,e,a)}ei(t,e,n);break;case 21:ei(t,e,n);break;case 22:n.mode&1?(hn=(r=hn)||n.memoizedState!==null,ei(t,e,n),hn=r):ei(t,e,n);break;default:ei(t,e,n)}}function YT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new uU),e.forEach(function(r){var s=_U.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function xr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Kt=a.stateNode,br=!1;break e;case 3:Kt=a.stateNode.containerInfo,br=!0;break e;case 4:Kt=a.stateNode.containerInfo,br=!0;break e}a=a.return}if(Kt===null)throw Error(q(160));s1(i,o,s),Kt=null,br=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){vt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)i1(e,t),e=e.sibling}function i1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xr(e,t),Fr(t),r&4){try{mu(3,t,t.return),am(3,t)}catch(y){vt(t,t.return,y)}try{mu(5,t,t.return)}catch(y){vt(t,t.return,y)}}break;case 1:xr(e,t),Fr(t),r&512&&n!==null&&Ga(n,n.return);break;case 5:if(xr(e,t),Fr(t),r&512&&n!==null&&Ga(n,n.return),t.flags&32){var s=t.stateNode;try{Nu(s,"")}catch(y){vt(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&RP(s,i),rv(a,o);var c=rv(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?kP(s,h):d==="dangerouslySetInnerHTML"?AP(s,h):d==="children"?Nu(s,h):c0(s,d,h,c)}switch(a){case"input":Jy(s,i);break;case"textarea":PP(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?nl(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?nl(s,!!i.multiple,i.defaultValue,!0):nl(s,!!i.multiple,i.multiple?[]:"",!1))}s[Uu]=i}catch(y){vt(t,t.return,y)}}break;case 6:if(xr(e,t),Fr(t),r&4){if(t.stateNode===null)throw Error(q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){vt(t,t.return,y)}}break;case 3:if(xr(e,t),Fr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ou(e.containerInfo)}catch(y){vt(t,t.return,y)}break;case 4:xr(e,t),Fr(t);break;case 13:xr(e,t),Fr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||($0=Ct())),r&4&&YT(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(hn=(c=hn)||d,xr(e,t),hn=c):xr(e,t),Fr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(te=t,d=t.child;d!==null;){for(h=te=d;te!==null;){switch(f=te,g=f.child,f.tag){case 0:case 11:case 14:case 15:mu(4,f,f.return);break;case 1:Ga(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(y){vt(r,n,y)}}break;case 5:Ga(f,f.return);break;case 22:if(f.memoizedState!==null){JT(h);continue}}g!==null?(g.return=f,te=g):JT(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=NP("display",o))}catch(y){vt(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){vt(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:xr(e,t),Fr(t),r&4&&YT(t);break;case 21:break;default:xr(e,t),Fr(t)}}function Fr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(r1(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Nu(s,""),r.flags&=-33);var i=QT(t);Dv(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=QT(t);kv(t,a,o);break;default:throw Error(q(161))}}catch(l){vt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function hU(t,e,n){te=t,o1(t)}function o1(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var s=te,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Fh;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||hn;a=Fh;var c=hn;if(Fh=o,(hn=l)&&!c)for(te=s;te!==null;)o=te,l=o.child,o.tag===22&&o.memoizedState!==null?ZT(s):l!==null?(l.return=o,te=l):ZT(s);for(;i!==null;)te=i,o1(i),i=i.sibling;te=s,Fh=a,hn=c}XT(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,te=i):XT(t)}}function XT(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:hn||am(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!hn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Tr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&OT(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}OT(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ou(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}hn||e.flags&512&&Nv(e)}catch(f){vt(e,e.return,f)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function JT(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function ZT(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{am(4,e)}catch(l){vt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){vt(e,s,l)}}var i=e.return;try{Nv(e)}catch(l){vt(e,i,l)}break;case 5:var o=e.return;try{Nv(e)}catch(l){vt(e,o,l)}}}catch(l){vt(e,e.return,l)}if(e===t){te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,te=a;break}te=e.return}}var fU=Math.ceil,cp=Ws.ReactCurrentDispatcher,U0=Ws.ReactCurrentOwner,ur=Ws.ReactCurrentBatchConfig,Le=0,$t=null,Mt=null,qt=0,Un=0,qa=so(0),Vt=0,Hu=null,Zo=0,lm=0,B0=0,gu=null,kn=null,$0=0,jl=1/0,ms=null,up=!1,Mv=null,Mi=null,Uh=!1,Ci=null,dp=0,yu=0,Ov=null,Ef=-1,xf=0;function Cn(){return Le&6?Ct():Ef!==-1?Ef:Ef=Ct()}function Oi(t){return t.mode&1?Le&2&&qt!==0?qt&-qt:YF.transition!==null?(xf===0&&(xf=KP()),xf):(t=ze,t!==0||(t=window.event,t=t===void 0?16:XP(t.type)),t):1}function Nr(t,e,n,r){if(50<yu)throw yu=0,Ov=null,Error(q(185));Ad(t,n,r),(!(Le&2)||t!==$t)&&(t===$t&&(!(Le&2)&&(lm|=n),Vt===4&&di(t,qt)),Ln(t,r),n===1&&Le===0&&!(e.mode&1)&&(jl=Ct()+500,sm&&io()))}function Ln(t,e){var n=t.callbackNode;YV(t,e);var r=qf(t,t===$t?qt:0);if(r===0)n!==null&&lT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&lT(n),e===1)t.tag===0?QF(eS.bind(null,t)):gI(eS.bind(null,t)),WF(function(){!(Le&6)&&io()}),n=null;else{switch(WP(r)){case 1:n=p0;break;case 4:n=$P;break;case 16:n=Gf;break;case 536870912:n=zP;break;default:n=Gf}n=p1(n,a1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function a1(t,e){if(Ef=-1,xf=0,Le&6)throw Error(q(327));var n=t.callbackNode;if(al()&&t.callbackNode!==n)return null;var r=qf(t,t===$t?qt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=hp(t,r);else{e=r;var s=Le;Le|=2;var i=c1();($t!==t||qt!==e)&&(ms=null,jl=Ct()+500,Wo(t,e));do try{gU();break}catch(a){l1(t,a)}while(!0);R0(),cp.current=i,Le=s,Mt!==null?e=0:($t=null,qt=0,e=Vt)}if(e!==0){if(e===2&&(s=lv(t),s!==0&&(r=s,e=Lv(t,s))),e===1)throw n=Hu,Wo(t,0),di(t,r),Ln(t,Ct()),n;if(e===6)di(t,r);else{if(s=t.current.alternate,!(r&30)&&!pU(s)&&(e=hp(t,r),e===2&&(i=lv(t),i!==0&&(r=i,e=Lv(t,i))),e===1))throw n=Hu,Wo(t,0),di(t,r),Ln(t,Ct()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:Co(t,kn,ms);break;case 3:if(di(t,r),(r&130023424)===r&&(e=$0+500-Ct(),10<e)){if(qf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Cn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=gv(Co.bind(null,t,kn,ms),e);break}Co(t,kn,ms);break;case 4:if(di(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Ar(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fU(r/1960))-r,10<r){t.timeoutHandle=gv(Co.bind(null,t,kn,ms),r);break}Co(t,kn,ms);break;case 5:Co(t,kn,ms);break;default:throw Error(q(329))}}}return Ln(t,Ct()),t.callbackNode===n?a1.bind(null,t):null}function Lv(t,e){var n=gu;return t.current.memoizedState.isDehydrated&&(Wo(t,e).flags|=256),t=hp(t,e),t!==2&&(e=kn,kn=n,e!==null&&jv(e)),t}function jv(t){kn===null?kn=t:kn.push.apply(kn,t)}function pU(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Dr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function di(t,e){for(e&=~B0,e&=~lm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ar(e),r=1<<n;t[n]=-1,e&=~r}}function eS(t){if(Le&6)throw Error(q(327));al();var e=qf(t,0);if(!(e&1))return Ln(t,Ct()),null;var n=hp(t,e);if(t.tag!==0&&n===2){var r=lv(t);r!==0&&(e=r,n=Lv(t,r))}if(n===1)throw n=Hu,Wo(t,0),di(t,e),Ln(t,Ct()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Co(t,kn,ms),Ln(t,Ct()),null}function z0(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(jl=Ct()+500,sm&&io())}}function ea(t){Ci!==null&&Ci.tag===0&&!(Le&6)&&al();var e=Le;Le|=1;var n=ur.transition,r=ze;try{if(ur.transition=null,ze=1,t)return t()}finally{ze=r,ur.transition=n,Le=e,!(Le&6)&&io()}}function K0(){Un=qa.current,it(qa)}function Wo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,KF(n)),Mt!==null)for(n=Mt.return;n!==null;){var r=n;switch(S0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zf();break;case 3:Ol(),it(Mn),it(gn),D0();break;case 5:k0(r);break;case 4:Ol();break;case 13:it(ut);break;case 19:it(ut);break;case 10:P0(r.type._context);break;case 22:case 23:K0()}n=n.return}if($t=t,Mt=t=Li(t.current,null),qt=Un=e,Vt=0,Hu=null,B0=lm=Zo=0,kn=gu=null,ko!==null){for(e=0;e<ko.length;e++)if(n=ko[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ko=null}return t}function l1(t,e){do{var n=Mt;try{if(R0(),vf.current=lp,ap){for(var r=ht.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ap=!1}if(Jo=0,Bt=Ot=ht=null,pu=!1,zu=0,U0.current=null,n===null||n.return===null){Vt=1,Hu=e,Mt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=qt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=BT(o);if(g!==null){g.flags&=-257,$T(g,o,a,i,e),g.mode&1&&UT(i,c,e),e=g,l=c;var w=e.updateQueue;if(w===null){var y=new Set;y.add(l),e.updateQueue=y}else w.add(l);break e}else{if(!(e&1)){UT(i,c,e),W0();break e}l=Error(q(426))}}else if(lt&&a.mode&1){var T=BT(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),$T(T,o,a,i,e),b0(Ll(l,a));break e}}i=l=Ll(l,a),Vt!==4&&(Vt=2),gu===null?gu=[i]:gu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=WI(i,l,e);MT(i,x);break e;case 1:a=l;var E=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof E.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Mi===null||!Mi.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=HI(i,a,e);MT(i,C);break e}}i=i.return}while(i!==null)}d1(n)}catch(k){e=k,Mt===n&&n!==null&&(Mt=n=n.return);continue}break}while(!0)}function c1(){var t=cp.current;return cp.current=lp,t===null?lp:t}function W0(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),$t===null||!(Zo&268435455)&&!(lm&268435455)||di($t,qt)}function hp(t,e){var n=Le;Le|=2;var r=c1();($t!==t||qt!==e)&&(ms=null,Wo(t,e));do try{mU();break}catch(s){l1(t,s)}while(!0);if(R0(),Le=n,cp.current=r,Mt!==null)throw Error(q(261));return $t=null,qt=0,Vt}function mU(){for(;Mt!==null;)u1(Mt)}function gU(){for(;Mt!==null&&!BV();)u1(Mt)}function u1(t){var e=f1(t.alternate,t,Un);t.memoizedProps=t.pendingProps,e===null?d1(t):Mt=e,U0.current=null}function d1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=cU(n,e),n!==null){n.flags&=32767,Mt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Vt=6,Mt=null;return}}else if(n=lU(n,e,Un),n!==null){Mt=n;return}if(e=e.sibling,e!==null){Mt=e;return}Mt=e=t}while(e!==null);Vt===0&&(Vt=5)}function Co(t,e,n){var r=ze,s=ur.transition;try{ur.transition=null,ze=1,yU(t,e,n,r)}finally{ur.transition=s,ze=r}return null}function yU(t,e,n,r){do al();while(Ci!==null);if(Le&6)throw Error(q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(XV(t,i),t===$t&&(Mt=$t=null,qt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Uh||(Uh=!0,p1(Gf,function(){return al(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ur.transition,ur.transition=null;var o=ze;ze=1;var a=Le;Le|=4,U0.current=null,dU(t,n),i1(n,t),jF(pv),Qf=!!fv,pv=fv=null,t.current=n,hU(n),$V(),Le=a,ze=o,ur.transition=i}else t.current=n;if(Uh&&(Uh=!1,Ci=t,dp=s),i=t.pendingLanes,i===0&&(Mi=null),WV(n.stateNode),Ln(t,Ct()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(up)throw up=!1,t=Mv,Mv=null,t;return dp&1&&t.tag!==0&&al(),i=t.pendingLanes,i&1?t===Ov?yu++:(yu=0,Ov=t):yu=0,io(),null}function al(){if(Ci!==null){var t=WP(dp),e=ur.transition,n=ze;try{if(ur.transition=null,ze=16>t?16:t,Ci===null)var r=!1;else{if(t=Ci,Ci=null,dp=0,Le&6)throw Error(q(331));var s=Le;for(Le|=4,te=t.current;te!==null;){var i=te,o=i.child;if(te.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(te=c;te!==null;){var d=te;switch(d.tag){case 0:case 11:case 15:mu(8,d,i)}var h=d.child;if(h!==null)h.return=d,te=h;else for(;te!==null;){d=te;var f=d.sibling,g=d.return;if(n1(d),d===c){te=null;break}if(f!==null){f.return=g,te=f;break}te=g}}}var w=i.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var T=y.sibling;y.sibling=null,y=T}while(y!==null)}}te=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,te=o;else e:for(;te!==null;){if(i=te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:mu(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,te=x;break e}te=i.return}}var E=t.current;for(te=E;te!==null;){o=te;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,te=b;else e:for(o=E;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:am(9,a)}}catch(k){vt(a,a.return,k)}if(a===o){te=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,te=C;break e}te=a.return}}if(Le=s,io(),Qr&&typeof Qr.onPostCommitFiberRoot=="function")try{Qr.onPostCommitFiberRoot(Zp,t)}catch{}r=!0}return r}finally{ze=n,ur.transition=e}}return!1}function tS(t,e,n){e=Ll(n,e),e=WI(t,e,1),t=Di(t,e,1),e=Cn(),t!==null&&(Ad(t,1,e),Ln(t,e))}function vt(t,e,n){if(t.tag===3)tS(t,t,n);else for(;e!==null;){if(e.tag===3){tS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mi===null||!Mi.has(r))){t=Ll(n,t),t=HI(e,t,1),e=Di(e,t,1),t=Cn(),e!==null&&(Ad(e,1,t),Ln(e,t));break}}e=e.return}}function vU(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Cn(),t.pingedLanes|=t.suspendedLanes&n,$t===t&&(qt&n)===n&&(Vt===4||Vt===3&&(qt&130023424)===qt&&500>Ct()-$0?Wo(t,0):B0|=n),Ln(t,e)}function h1(t,e){e===0&&(t.mode&1?(e=Ah,Ah<<=1,!(Ah&130023424)&&(Ah=4194304)):e=1);var n=Cn();t=Os(t,e),t!==null&&(Ad(t,e,n),Ln(t,n))}function wU(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),h1(t,n)}function _U(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),h1(t,n)}var f1;f1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mn.current)Dn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Dn=!1,aU(t,e,n);Dn=!!(t.flags&131072)}else Dn=!1,lt&&e.flags&1048576&&yI(e,np,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_f(t,e),t=e.pendingProps;var s=kl(e,gn.current);ol(e,n),s=O0(null,e,r,t,s,n);var i=L0();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,On(r)?(i=!0,ep(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,A0(e),s.updater=om,e.stateNode=s,s._reactInternals=e,Tv(e,r,t,n),e=Cv(null,e,r,!0,i,n)):(e.tag=0,lt&&i&&T0(e),bn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_f(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=xU(r),t=Tr(r,t),s){case 0:e=bv(null,e,r,t,n);break e;case 1:e=WT(null,e,r,t,n);break e;case 11:e=zT(null,e,r,t,n);break e;case 14:e=KT(null,e,r,Tr(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Tr(r,s),bv(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Tr(r,s),WT(t,e,r,s,n);case 3:e:{if(YI(e),t===null)throw Error(q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,TI(t,e),ip(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ll(Error(q(423)),e),e=HT(t,e,r,n,s);break e}else if(r!==s){s=Ll(Error(q(424)),e),e=HT(t,e,r,n,s);break e}else for(zn=ki(e.stateNode.containerInfo.firstChild),Wn=e,lt=!0,Rr=null,n=EI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Dl(),r===s){e=Ls(t,e,n);break e}bn(t,e,r,n)}e=e.child}return e;case 5:return SI(e),t===null&&_v(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,mv(r,s)?o=null:i!==null&&mv(r,i)&&(e.flags|=32),QI(t,e),bn(t,e,o,n),e.child;case 6:return t===null&&_v(e),null;case 13:return XI(t,e,n);case 4:return N0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ml(e,null,r,n):bn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Tr(r,s),zT(t,e,r,s,n);case 7:return bn(t,e,e.pendingProps,n),e.child;case 8:return bn(t,e,e.pendingProps.children,n),e.child;case 12:return bn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Xe(rp,r._currentValue),r._currentValue=o,i!==null)if(Dr(i.value,o)){if(i.children===s.children&&!Mn.current){e=Ls(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Cs(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Ev(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ev(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}bn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ol(e,n),s=fr(s),r=r(s),e.flags|=1,bn(t,e,r,n),e.child;case 14:return r=e.type,s=Tr(r,e.pendingProps),s=Tr(r.type,s),KT(t,e,r,s,n);case 15:return GI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Tr(r,s),_f(t,e),e.tag=1,On(r)?(t=!0,ep(e)):t=!1,ol(e,n),KI(e,r,s),Tv(e,r,s,n),Cv(null,e,r,!0,t,n);case 19:return JI(t,e,n);case 22:return qI(t,e,n)}throw Error(q(156,e.tag))};function p1(t,e){return BP(t,e)}function EU(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(t,e,n,r){return new EU(t,e,n,r)}function H0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xU(t){if(typeof t=="function")return H0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===d0)return 11;if(t===h0)return 14}return 2}function Li(t,e){var n=t.alternate;return n===null?(n=cr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Tf(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")H0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Va:return Ho(n.children,s,i,e);case u0:o=8,s|=8;break;case Gy:return t=cr(12,n,e,s|2),t.elementType=Gy,t.lanes=i,t;case qy:return t=cr(13,n,e,s),t.elementType=qy,t.lanes=i,t;case Qy:return t=cr(19,n,e,s),t.elementType=Qy,t.lanes=i,t;case SP:return cm(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xP:o=10;break e;case TP:o=9;break e;case d0:o=11;break e;case h0:o=14;break e;case li:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=cr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ho(t,e,n,r){return t=cr(7,t,r,e),t.lanes=n,t}function cm(t,e,n,r){return t=cr(22,t,r,e),t.elementType=SP,t.lanes=n,t.stateNode={isHidden:!1},t}function Yg(t,e,n){return t=cr(6,t,null,e),t.lanes=n,t}function Xg(t,e,n){return e=cr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function TU(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ng(0),this.expirationTimes=Ng(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ng(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function G0(t,e,n,r,s,i,o,a,l){return t=new TU(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=cr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},A0(i),t}function SU(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ja,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function m1(t){if(!t)return Wi;t=t._reactInternals;e:{if(fa(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(On(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(On(n))return mI(t,n,e)}return e}function g1(t,e,n,r,s,i,o,a,l){return t=G0(n,r,!0,t,s,i,o,a,l),t.context=m1(null),n=t.current,r=Cn(),s=Oi(n),i=Cs(r,s),i.callback=e??null,Di(n,i,s),t.current.lanes=s,Ad(t,s,r),Ln(t,r),t}function um(t,e,n,r){var s=e.current,i=Cn(),o=Oi(s);return n=m1(n),e.context===null?e.context=n:e.pendingContext=n,e=Cs(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Di(s,e,o),t!==null&&(Nr(t,s,o,i),yf(t,s,o)),o}function fp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function q0(t,e){nS(t,e),(t=t.alternate)&&nS(t,e)}function bU(){return null}var y1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Q0(t){this._internalRoot=t}dm.prototype.render=Q0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));um(t,e,null,null)};dm.prototype.unmount=Q0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ea(function(){um(null,t,null,null)}),e[Ms]=null}};function dm(t){this._internalRoot=t}dm.prototype.unstable_scheduleHydration=function(t){if(t){var e=qP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ui.length&&e!==0&&e<ui[n].priority;n++);ui.splice(n,0,t),n===0&&YP(t)}};function Y0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function rS(){}function CU(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=fp(o);i.call(c)}}var o=g1(e,r,t,0,null,!1,!1,"",rS);return t._reactRootContainer=o,t[Ms]=o.current,Vu(t.nodeType===8?t.parentNode:t),ea(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=fp(l);a.call(c)}}var l=G0(t,0,!1,null,null,!1,!1,"",rS);return t._reactRootContainer=l,t[Ms]=l.current,Vu(t.nodeType===8?t.parentNode:t),ea(function(){um(e,l,n,r)}),l}function fm(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=fp(o);a.call(l)}}um(e,o,t,s)}else o=CU(n,e,t,s,r);return fp(o)}HP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Jc(e.pendingLanes);n!==0&&(m0(e,n|1),Ln(e,Ct()),!(Le&6)&&(jl=Ct()+500,io()))}break;case 13:ea(function(){var r=Os(t,1);if(r!==null){var s=Cn();Nr(r,t,1,s)}}),q0(t,1)}};g0=function(t){if(t.tag===13){var e=Os(t,134217728);if(e!==null){var n=Cn();Nr(e,t,134217728,n)}q0(t,134217728)}};GP=function(t){if(t.tag===13){var e=Oi(t),n=Os(t,e);if(n!==null){var r=Cn();Nr(n,t,e,r)}q0(t,e)}};qP=function(){return ze};QP=function(t,e){var n=ze;try{return ze=t,e()}finally{ze=n}};iv=function(t,e,n){switch(e){case"input":if(Jy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=rm(r);if(!s)throw Error(q(90));CP(r),Jy(r,s)}}}break;case"textarea":PP(t,n);break;case"select":e=n.value,e!=null&&nl(t,!!n.multiple,e,!1)}};OP=z0;LP=ea;var RU={usingClientEntryPoint:!1,Events:[kd,$a,rm,DP,MP,z0]},Bc={findFiberByHostInstance:No,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PU={bundleType:Bc.bundleType,version:Bc.version,rendererPackageName:Bc.rendererPackageName,rendererConfig:Bc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ws.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=FP(t),t===null?null:t.stateNode},findFiberByHostInstance:Bc.findFiberByHostInstance||bU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bh.isDisabled&&Bh.supportsFiber)try{Zp=Bh.inject(PU),Qr=Bh}catch{}}Yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RU;Yn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Y0(e))throw Error(q(200));return SU(t,e,null,n)};Yn.createRoot=function(t,e){if(!Y0(t))throw Error(q(299));var n=!1,r="",s=y1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=G0(t,1,!1,null,null,n,!1,r,s),t[Ms]=e.current,Vu(t.nodeType===8?t.parentNode:t),new Q0(e)};Yn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=FP(e),t=t===null?null:t.stateNode,t};Yn.flushSync=function(t){return ea(t)};Yn.hydrate=function(t,e,n){if(!hm(e))throw Error(q(200));return fm(null,t,e,!0,n)};Yn.hydrateRoot=function(t,e,n){if(!Y0(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=y1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=g1(e,null,t,1,n??null,s,!1,i,o),t[Ms]=e.current,Vu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new dm(e)};Yn.render=function(t,e,n){if(!hm(e))throw Error(q(200));return fm(null,t,e,!1,n)};Yn.unmountComponentAtNode=function(t){if(!hm(t))throw Error(q(40));return t._reactRootContainer?(ea(function(){fm(null,null,t,!1,function(){t._reactRootContainer=null,t[Ms]=null})}),!0):!1};Yn.unstable_batchedUpdates=z0;Yn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!hm(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return fm(t,e,n,!1,r)};Yn.version="18.3.1-next-f1338f8080-20240426";function v1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v1)}catch(t){console.error(t)}}v1(),vP.exports=Yn;var pa=vP.exports;const pm=n0(pa),IU=iP({__proto__:null,default:pm},[pa]);var sS=pa;Wy.createRoot=sS.createRoot,Wy.hydrateRoot=sS.hydrateRoot;var iS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},AU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},_1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(f=64)),r.push(n[d],n[h],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(w1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):AU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new NU;const f=i<<2|a>>4;if(r.push(f),c!==64){const g=a<<4&240|c>>2;if(r.push(g),h!==64){const w=c<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class NU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kU=function(t){const e=w1(t);return _1.encodeByteArray(e,!0)},pp=function(t){return kU(t).replace(/\./g,"")},E1=function(t){try{return _1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU=()=>DU().__FIREBASE_DEFAULTS__,OU=()=>{if(typeof process>"u"||typeof iS>"u")return;const t=iS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},LU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&E1(t[1]);return e&&JSON.parse(e)},mm=()=>{try{return MU()||OU()||LU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},x1=t=>{var e,n;return(n=(e=mm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},T1=t=>{const e=x1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},S1=()=>{var t;return(t=mm())===null||t===void 0?void 0:t.config},b1=t=>{var e;return(e=mm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jU=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[pp(JSON.stringify(n)),pp(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function FU(){var t;const e=(t=mm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $U(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zU(){const t=yn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function KU(){return!FU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WU(){try{return typeof indexedDB=="object"}catch{return!1}}function HU(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU="FirebaseError";class as extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=GU,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Md.prototype.create)}}class Md{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?qU(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new as(s,a,r)}}function qU(t,e){return t.replace(QU,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const QU=/\{\$([^}]+)}/g;function YU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(oS(i)&&oS(o)){if(!mp(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function oS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function XU(t,e){const n=new JU(t,e);return n.subscribe.bind(n)}class JU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ZU(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Jg),s.error===void 0&&(s.error=Jg),s.complete===void 0&&(s.complete=Jg);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Jg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(t){return t&&t._delegate?t._delegate:t}class Hi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e4=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new jU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(n4(e))try{this.getOrInitializeService({instanceIdentifier:Ro})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ro){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ro){return this.instances.has(e)}getOptions(e=Ro){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:t4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ro){return this.component?this.component.multipleInstances?e:Ro:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function t4(t){return t===Ro?void 0:t}function n4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new e4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(De||(De={}));const s4={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},i4=De.INFO,o4={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},a4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=o4[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class X0{constructor(e){this.name=e,this._logLevel=i4,this._logHandler=a4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?s4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const l4=(t,e)=>e.some(n=>t instanceof n);let aS,lS;function c4(){return aS||(aS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function u4(){return lS||(lS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const R1=new WeakMap,Vv=new WeakMap,P1=new WeakMap,Zg=new WeakMap,J0=new WeakMap;function d4(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ji(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&R1.set(n,t)}).catch(()=>{}),J0.set(e,t),e}function h4(t){if(Vv.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Vv.set(t,e)}let Fv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||P1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ji(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function f4(t){Fv=t(Fv)}function p4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ey(this),e,...n);return P1.set(r,e.sort?e.sort():[e]),ji(r)}:u4().includes(t)?function(...e){return t.apply(ey(this),e),ji(R1.get(this))}:function(...e){return ji(t.apply(ey(this),e))}}function m4(t){return typeof t=="function"?p4(t):(t instanceof IDBTransaction&&h4(t),l4(t,c4())?new Proxy(t,Fv):t)}function ji(t){if(t instanceof IDBRequest)return d4(t);if(Zg.has(t))return Zg.get(t);const e=m4(t);return e!==t&&(Zg.set(t,e),J0.set(e,t)),e}const ey=t=>J0.get(t);function g4(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ji(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ji(o.result),l.oldVersion,l.newVersion,ji(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const y4=["get","getKey","getAll","getAllKeys","count"],v4=["put","add","delete","clear"],ty=new Map;function cS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ty.get(e))return ty.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=v4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||y4.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return ty.set(e,i),i}f4(t=>({...t,get:(e,n,r)=>cS(e,n)||t.get(e,n,r),has:(e,n)=>!!cS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Uv="@firebase/app",uS="0.10.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=new X0("@firebase/app"),E4="@firebase/app-compat",x4="@firebase/analytics-compat",T4="@firebase/analytics",S4="@firebase/app-check-compat",b4="@firebase/app-check",C4="@firebase/auth",R4="@firebase/auth-compat",P4="@firebase/database",I4="@firebase/database-compat",A4="@firebase/functions",N4="@firebase/functions-compat",k4="@firebase/installations",D4="@firebase/installations-compat",M4="@firebase/messaging",O4="@firebase/messaging-compat",L4="@firebase/performance",j4="@firebase/performance-compat",V4="@firebase/remote-config",F4="@firebase/remote-config-compat",U4="@firebase/storage",B4="@firebase/storage-compat",$4="@firebase/firestore",z4="@firebase/vertexai-preview",K4="@firebase/firestore-compat",W4="firebase",H4="10.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="[DEFAULT]",G4={[Uv]:"fire-core",[E4]:"fire-core-compat",[T4]:"fire-analytics",[x4]:"fire-analytics-compat",[b4]:"fire-app-check",[S4]:"fire-app-check-compat",[C4]:"fire-auth",[R4]:"fire-auth-compat",[P4]:"fire-rtdb",[I4]:"fire-rtdb-compat",[A4]:"fire-fn",[N4]:"fire-fn-compat",[k4]:"fire-iid",[D4]:"fire-iid-compat",[M4]:"fire-fcm",[O4]:"fire-fcm-compat",[L4]:"fire-perf",[j4]:"fire-perf-compat",[V4]:"fire-rc",[F4]:"fire-rc-compat",[U4]:"fire-gcs",[B4]:"fire-gcs-compat",[$4]:"fire-fst",[K4]:"fire-fst-compat",[z4]:"fire-vertex","fire-js":"fire-js",[W4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp=new Map,q4=new Map,$v=new Map;function dS(t,e){try{t.container.addComponent(e)}catch(n){js.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ta(t){const e=t.name;if($v.has(e))return js.debug(`There were multiple attempts to register component ${e}.`),!1;$v.set(e,t);for(const n of gp.values())dS(n,t);for(const n of q4.values())dS(n,t);return!0}function gm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _s(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vi=new Md("app","Firebase",Q4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=H4;function I1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Bv,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Vi.create("bad-app-name",{appName:String(s)});if(n||(n=S1()),!n)throw Vi.create("no-options");const i=gp.get(s);if(i){if(mp(n,i.options)&&mp(r,i.config))return i;throw Vi.create("duplicate-app",{appName:s})}const o=new r4(s);for(const l of $v.values())o.addComponent(l);const a=new Y4(n,r,o);return gp.set(s,a),a}function Z0(t=Bv){const e=gp.get(t);if(!e&&t===Bv&&S1())return I1();if(!e)throw Vi.create("no-app",{appName:t});return e}function Xr(t,e,n){var r;let s=(r=G4[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),js.warn(a.join(" "));return}ta(new Hi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4="firebase-heartbeat-database",J4=1,Gu="firebase-heartbeat-store";let ny=null;function A1(){return ny||(ny=g4(X4,J4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Gu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vi.create("idb-open",{originalErrorMessage:t.message})})),ny}async function Z4(t){try{const n=(await A1()).transaction(Gu),r=await n.objectStore(Gu).get(N1(t));return await n.done,r}catch(e){if(e instanceof as)js.warn(e.message);else{const n=Vi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});js.warn(n.message)}}}async function hS(t,e){try{const r=(await A1()).transaction(Gu,"readwrite");await r.objectStore(Gu).put(e,N1(t)),await r.done}catch(n){if(n instanceof as)js.warn(n.message);else{const r=Vi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});js.warn(r.message)}}}function N1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB=1024,tB=30*24*60*60*1e3;class nB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=fS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=tB}),this._storage.overwrite(this._heartbeatsCache))}catch(r){js.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=fS(),{heartbeatsToSend:r,unsentEntries:s}=rB(this._heartbeatsCache.heartbeats),i=pp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return js.warn(n),""}}}function fS(){return new Date().toISOString().substring(0,10)}function rB(t,e=eB){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),pS(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),pS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class sB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WU()?HU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Z4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return hS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return hS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function pS(t){return pp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iB(t){ta(new Hi("platform-logger",e=>new w4(e),"PRIVATE")),ta(new Hi("heartbeat",e=>new nB(e),"PRIVATE")),Xr(Uv,uS,t),Xr(Uv,uS,"esm2017"),Xr("fire-js","")}iB("");var Gr=function(){return Gr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Gr.apply(this,arguments)};function Ld(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function oB(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function k1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aB=k1,D1=new Md("auth","Firebase",k1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp=new X0("@firebase/auth");function lB(t,...e){yp.logLevel<=De.WARN&&yp.warn(`Auth (${ma}): ${t}`,...e)}function Sf(t,...e){yp.logLevel<=De.ERROR&&yp.error(`Auth (${ma}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(t,...e){throw e_(t,...e)}function Jr(t,...e){return e_(t,...e)}function M1(t,e,n){const r=Object.assign(Object.assign({},aB()),{[e]:n});return new Md("auth","Firebase",r).create(e,{appName:t.name})}function Fi(t){return M1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function e_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return D1.create(t,...e)}function ve(t,e,...n){if(!t)throw e_(e,...n)}function Es(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sf(e),new Error(e)}function Fs(t,e){t||Es(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function cB(){return mS()==="http:"||mS()==="https:"}function mS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cB()||BU()||"connection"in navigator)?navigator.onLine:!0}function dB(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fs(n>e,"Short delay should be less than long delay!"),this.isMobile=VU()||$U()}get(){return uB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(t,e){Fs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fB=new jd(3e4,6e4);function ym(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function nc(t,e,n,r,s={}){return L1(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Od(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return UU()||(c.referrerPolicy="no-referrer"),O1.fetch()(V1(t,t.config.apiHost,n,a),c)})}async function L1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},hB),e);try{const s=new pB(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw $h(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw $h(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw $h(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw $h(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw M1(t,d,c);Vs(t,d)}}catch(s){if(s instanceof as)throw s;Vs(t,"network-request-failed",{message:String(s)})}}async function j1(t,e,n,r,s={}){const i=await nc(t,e,n,r,s);return"mfaPendingCredential"in i&&Vs(t,"multi-factor-auth-required",{_serverResponse:i}),i}function V1(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?t_(t.config,s):`${t.config.apiScheme}://${s}`}class pB{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jr(this.auth,"network-request-failed")),fB.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $h(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Jr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mB(t,e){return nc(t,"POST","/v1/accounts:delete",e)}async function F1(t,e){return nc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gB(t,e=!1){const n=Xt(t),r=await n.getIdToken(e),s=n_(r);ve(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:vu(ry(s.auth_time)),issuedAtTime:vu(ry(s.iat)),expirationTime:vu(ry(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function ry(t){return Number(t)*1e3}function n_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Sf("JWT malformed, contained fewer than 3 sections"),null;try{const s=E1(n);return s?JSON.parse(s):(Sf("Failed to decode base64 JWT payload"),null)}catch(s){return Sf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function gS(t){const e=n_(t);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof as&&yB(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function yB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vu(this.lastLoginAt),this.creationTime=vu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vp(t){var e;const n=t.auth,r=await t.getIdToken(),s=await qu(t,F1(n,{idToken:r}));ve(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?U1(i.providerUserInfo):[],a=_B(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Kv(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function wB(t){const e=Xt(t);await vp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _B(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function U1(t){return t.map(e=>{var{providerId:n}=e,r=Ld(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EB(t,e){const n=await L1(t,{},async()=>{const r=Od({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=V1(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",O1.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xB(t,e){return nc(t,"POST","/v2/accounts:revokeToken",ym(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=gS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await EB(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ll;return r&&(ve(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ve(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ve(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ll,this.toJSON())}_performRefresh(){return Es("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(t,e){ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xs{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Ld(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Kv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await qu(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gB(this,e)}reload(){return wB(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_s(this.auth.app))return Promise.reject(Fi(this.auth));const e=await this.getIdToken();return await qu(this,mB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(c=n.createdAt)!==null&&c!==void 0?c:void 0,E=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:b,emailVerified:C,isAnonymous:k,providerData:j,stsTokenManager:R}=n;ve(b&&R,e,"internal-error");const _=ll.fromJSON(this.name,R);ve(typeof b=="string",e,"internal-error"),ti(h,e.name),ti(f,e.name),ve(typeof C=="boolean",e,"internal-error"),ve(typeof k=="boolean",e,"internal-error"),ti(g,e.name),ti(w,e.name),ti(y,e.name),ti(T,e.name),ti(x,e.name),ti(E,e.name);const P=new xs({uid:b,auth:e,email:f,emailVerified:C,displayName:h,isAnonymous:k,photoURL:w,phoneNumber:g,tenantId:y,stsTokenManager:_,createdAt:x,lastLoginAt:E});return j&&Array.isArray(j)&&(P.providerData=j.map(A=>Object.assign({},A))),T&&(P._redirectEventId=T),P}static async _fromIdTokenResponse(e,n,r=!1){const s=new ll;s.updateFromServerResponse(n);const i=new xs({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await vp(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ve(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?U1(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new ll;a.updateFromIdToken(r);const l=new xs({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Kv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=new Map;function Ts(t){Fs(t instanceof Function,"Expected a class definition");let e=yS.get(t);return e?(Fs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}B1.type="NONE";const vS=B1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(t,e,n){return`firebase:${t}:${e}:${n}`}class cl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=bf(this.userKey,s.apiKey,i),this.fullPersistenceKey=bf("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?xs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new cl(Ts(vS),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Ts(vS);const o=bf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const h=xs._fromJSON(e,d);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new cl(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new cl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(W1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(G1(e))return"Blackberry";if(q1(e))return"Webos";if(z1(e))return"Safari";if((e.includes("chrome/")||K1(e))&&!e.includes("edge/"))return"Chrome";if(H1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $1(t=yn()){return/firefox\//i.test(t)}function z1(t=yn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function K1(t=yn()){return/crios\//i.test(t)}function W1(t=yn()){return/iemobile/i.test(t)}function H1(t=yn()){return/android/i.test(t)}function G1(t=yn()){return/blackberry/i.test(t)}function q1(t=yn()){return/webos/i.test(t)}function r_(t=yn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function TB(t=yn()){var e;return r_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function SB(){return zU()&&document.documentMode===10}function Q1(t=yn()){return r_(t)||H1(t)||q1(t)||G1(t)||/windows phone/i.test(t)||W1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(t,e=[]){let n;switch(t){case"Browser":n=wS(yn());break;case"Worker":n=`${wS(yn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ma}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CB(t,e={}){return nc(t,"GET","/v2/passwordPolicy",ym(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RB=6;class PB{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:RB,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _S(this),this.idTokenSubscription=new _S(this),this.beforeStateQueue=new bB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=D1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ts(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await cl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await F1(this,{idToken:e}),r=await xs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(_s(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_s(this.app))return Promise.reject(Fi(this));const n=e?Xt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _s(this.app)?Promise.reject(Fi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _s(this.app)?Promise.reject(Fi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CB(this),n=new PB(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Md("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await xB(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ts(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await cl.create(this,[Ts(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Y1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&lB(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function vm(t){return Xt(t)}class _S{constructor(e){this.auth=e,this.observer=null,this.addObserver=XU(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AB(t){s_=t}function NB(t){return s_.loadJS(t)}function kB(){return s_.gapiScript}function DB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MB(t,e){const n=gm(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(mp(i,e??{}))return s;Vs(s,"already-initialized")}return n.initialize({options:e})}function OB(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ts);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function LB(t,e,n){const r=vm(t);ve(r._canInitEmulator,r,"emulator-config-failed"),ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=X1(e),{host:o,port:a}=jB(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),VB()}function X1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function jB(t){const e=X1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:ES(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:ES(o)}}}function ES(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function VB(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Es("not implemented")}_getIdTokenResponse(e){return Es("not implemented")}_linkToIdToken(e,n){return Es("not implemented")}_getReauthenticationResolver(e){return Es("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(t,e){return j1(t,"POST","/v1/accounts:signInWithIdp",ym(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FB="http://localhost";class na extends J1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Ld(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new na(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ul(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ul(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ul(e,n)}buildRequest(){const e={requestUri:FB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Od(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd extends Z1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends Vd{constructor(){super("facebook.com")}static credential(e){return na._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hi.credential(e.oauthAccessToken)}catch{return null}}}hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends Vd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return na._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fi.credential(n,r)}catch{return null}}}fi.GOOGLE_SIGN_IN_METHOD="google.com";fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends Vd{constructor(){super("github.com")}static credential(e){return na._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pi.credential(e.oauthAccessToken)}catch{return null}}}pi.GITHUB_SIGN_IN_METHOD="github.com";pi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends Vd{constructor(){super("twitter.com")}static credential(e,n){return na._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return mi.credential(n,r)}catch{return null}}}mi.TWITTER_SIGN_IN_METHOD="twitter.com";mi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UB(t,e){return j1(t,"POST","/v1/accounts:signUp",ym(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await xs._fromIdTokenResponse(e,r,s),o=xS(r);return new Gi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=xS(r);return new Gi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function xS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BB(t){var e;if(_s(t.app))return Promise.reject(Fi(t));const n=vm(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Gi({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await UB(n,{returnSecureToken:!0}),s=await Gi._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp extends as{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,wp.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new wp(e,n,r,s)}}function eA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?wp._fromErrorAndOperation(t,i,e,r):i})}async function $B(t,e,n=!1){const r=await qu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Gi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zB(t,e,n=!1){const{auth:r}=t;if(_s(r.app))return Promise.reject(Fi(r));const s="reauthenticate";try{const i=await qu(t,eA(r,s,e,t),n);ve(i.idToken,r,"internal-error");const o=n_(i.idToken);ve(o,r,"internal-error");const{sub:a}=o;return ve(t.uid===a,r,"user-mismatch"),Gi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Vs(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KB(t,e,n=!1){if(_s(t.app))return Promise.reject(Fi(t));const r="signIn",s=await eA(t,r,e),i=await Gi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function WB(t,e,n,r){return Xt(t).onIdTokenChanged(e,n,r)}function HB(t,e,n){return Xt(t).beforeAuthStateChanged(e,n)}const _p="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_p,"1"),this.storage.removeItem(_p),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB=1e3,qB=10;class nA extends tA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Q1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);SB()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,qB):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},GB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nA.type="LOCAL";const QB=nA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA extends tA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rA.type="SESSION";const sA=rA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new wm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await YB(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=i_("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return window}function JB(t){Zr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(){return typeof Zr().WorkerGlobalScope<"u"&&typeof Zr().importScripts=="function"}async function ZB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function e$(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function t$(){return iA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA="firebaseLocalStorageDb",n$=1,Ep="firebaseLocalStorage",aA="fbase_key";class Fd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _m(t,e){return t.transaction([Ep],e?"readwrite":"readonly").objectStore(Ep)}function r$(){const t=indexedDB.deleteDatabase(oA);return new Fd(t).toPromise()}function Wv(){const t=indexedDB.open(oA,n$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ep,{keyPath:aA})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ep)?e(r):(r.close(),await r$(),e(await Wv()))})})}async function TS(t,e,n){const r=_m(t,!0).put({[aA]:e,value:n});return new Fd(r).toPromise()}async function s$(t,e){const n=_m(t,!1).get(e),r=await new Fd(n).toPromise();return r===void 0?null:r.value}function SS(t,e){const n=_m(t,!0).delete(e);return new Fd(n).toPromise()}const i$=800,o$=3;class lA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>o$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wm._getInstance(t$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await ZB(),!this.activeServiceWorker)return;this.sender=new XB(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||e$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wv();return await TS(e,_p,"1"),await SS(e,_p),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>TS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>s$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>SS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=_m(s,!1).getAll();return new Fd(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),i$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lA.type="LOCAL";const a$=lA;new jd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l$(t,e){return e?Ts(e):(ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_ extends J1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ul(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ul(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function c$(t){return KB(t.auth,new o_(t),t.bypassAuthState)}function u$(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),zB(n,new o_(t),t.bypassAuthState)}async function d$(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),$B(n,new o_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return c$;case"linkViaPopup":case"linkViaRedirect":return d$;case"reauthViaPopup":case"reauthViaRedirect":return u$;default:Vs(this.auth,"internal-error")}}resolve(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h$=new jd(2e3,1e4);class Qa extends cA{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Qa.currentPopupAction&&Qa.currentPopupAction.cancel(),Qa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Fs(this.filter.length===1,"Popup operations only handle one event");const e=i_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,h$.get())};e()}}Qa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f$="pendingRedirect",Cf=new Map;class p$ extends cA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Cf.get(this.auth._key());if(!e){try{const r=await m$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Cf.set(this.auth._key(),e)}return this.bypassAuthState||Cf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function m$(t,e){const n=v$(e),r=y$(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function g$(t,e){Cf.set(t._key(),e)}function y$(t){return Ts(t._redirectPersistence)}function v$(t){return bf(f$,t.config.apiKey,t.name)}async function w$(t,e,n=!1){if(_s(t.app))return Promise.reject(Fi(t));const r=vm(t),s=l$(r,e),o=await new p$(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _$=10*60*1e3;class E${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!x$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!uA(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Jr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_$&&this.cachedEventUids.clear(),this.cachedEventUids.has(bS(e))}saveEventToCache(e){this.cachedEventUids.add(bS(e)),this.lastProcessedEventTime=Date.now()}}function bS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function uA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function x$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T$(t,e={}){return nc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,b$=/^https?/;async function C$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await T$(t);for(const n of e)try{if(R$(n))return}catch{}Vs(t,"unauthorized-domain")}function R$(t){const e=zv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!b$.test(n))return!1;if(S$.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$=new jd(3e4,6e4);function CS(){const t=Zr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function I$(t){return new Promise((e,n)=>{var r,s,i;function o(){CS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CS(),n(Jr(t,"network-request-failed"))},timeout:P$.get()})}if(!((s=(r=Zr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Zr().gapi)===null||i===void 0)&&i.load)o();else{const a=DB("iframefcb");return Zr()[a]=()=>{gapi.load?o():n(Jr(t,"network-request-failed"))},NB(`${kB()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Rf=null,e})}let Rf=null;function A$(t){return Rf=Rf||I$(t),Rf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$=new jd(5e3,15e3),k$="__/auth/iframe",D$="emulator/auth/iframe",M$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},O$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function L$(t){const e=t.config;ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?t_(e,D$):`https://${t.config.authDomain}/${k$}`,r={apiKey:e.apiKey,appName:t.name,v:ma},s=O$.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Od(r).slice(1)}`}async function j$(t){const e=await A$(t),n=Zr().gapi;return ve(n,t,"internal-error"),e.open({where:document.body,url:L$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:M$,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Jr(t,"network-request-failed"),a=Zr().setTimeout(()=>{i(o)},N$.get());function l(){Zr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},F$=500,U$=600,B$="_blank",$$="http://localhost";class RS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function z$(t,e,n,r=F$,s=U$){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},V$),{width:r.toString(),height:s.toString(),top:i,left:o}),c=yn().toLowerCase();n&&(a=K1(c)?B$:n),$1(c)&&(e=e||$$,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[g,w])=>`${f}${g}=${w},`,"");if(TB(c)&&a!=="_self")return K$(e||"",a),new RS(null);const h=window.open(e||"",a,d);ve(h,t,"popup-blocked");try{h.focus()}catch{}return new RS(h)}function K$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W$="__/auth/handler",H$="emulator/auth/handler",G$=encodeURIComponent("fac");async function PS(t,e,n,r,s,i){ve(t.config.authDomain,t,"auth-domain-config-required"),ve(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ma,eventId:s};if(e instanceof Z1){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",YU(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Vd){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${G$}=${encodeURIComponent(l)}`:"";return`${q$(t)}?${Od(a).slice(1)}${c}`}function q$({config:t}){return t.emulator?t_(t,H$):`https://${t.authDomain}/${W$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy="webStorageSupport";class Q${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sA,this._completeRedirectFn=w$,this._overrideRedirectResult=g$}async _openPopup(e,n,r,s){var i;Fs((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await PS(e,n,r,zv(),s);return z$(e,o,i_())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await PS(e,n,r,zv(),s);return JB(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Fs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await j$(e),r=new E$(e);return n.register("authEvent",s=>(ve(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sy,{type:sy},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[sy];o!==void 0&&n(!!o),Vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=C$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Q1()||z1()||r_()}}const Y$=Q$;var IS="@firebase/auth",AS="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Z$(t){ta(new Hi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ve(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Y1(t)},c=new IB(r,s,i,l);return OB(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ta(new Hi("auth-internal",e=>{const n=vm(e.getProvider("auth").getImmediate());return(r=>new X$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(IS,AS,J$(t)),Xr(IS,AS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=5*60,t3=b1("authIdTokenMaxAge")||e3;let NS=null;const n3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>t3)return;const s=n==null?void 0:n.token;NS!==s&&(NS=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function r3(t=Z0()){const e=gm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=MB(t,{popupRedirectResolver:Y$,persistence:[a$,QB,sA]}),r=b1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=n3(i.toString());HB(n,o,()=>o(n.currentUser)),WB(n,a=>o(a))}}const s=x1("auth");return s&&LB(n,`http://${s}`),n}function s3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}AB({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Jr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",s3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Z$("Browser");const Mr=(t,e=!1)=>{};var i3={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"production",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://chatbot-api-0zup.onrender.com",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",BASE_URL:"/admin",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const kS=t=>{let e;const n=new Set,r=(d,h)=>{const f=typeof d=="function"?d(e):d;if(!Object.is(f,e)){const g=e;e=h??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(w=>w(e,g))}},s=()=>e,l={setState:r,getState:s,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(i3?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,s,l);return l},o3=t=>t?kS(t):kS;var dA={exports:{}},hA={},fA={exports:{}},pA={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vl=m;function a3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var l3=typeof Object.is=="function"?Object.is:a3,c3=Vl.useState,u3=Vl.useEffect,d3=Vl.useLayoutEffect,h3=Vl.useDebugValue;function f3(t,e){var n=e(),r=c3({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return d3(function(){s.value=n,s.getSnapshot=e,iy(s)&&i({inst:s})},[t,n,e]),u3(function(){return iy(s)&&i({inst:s}),t(function(){iy(s)&&i({inst:s})})},[t]),h3(n),n}function iy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!l3(t,n)}catch{return!0}}function p3(t,e){return e()}var m3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p3:f3;pA.useSyncExternalStore=Vl.useSyncExternalStore!==void 0?Vl.useSyncExternalStore:m3;fA.exports=pA;var g3=fA.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em=m,y3=g3;function v3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var w3=typeof Object.is=="function"?Object.is:v3,_3=y3.useSyncExternalStore,E3=Em.useRef,x3=Em.useEffect,T3=Em.useMemo,S3=Em.useDebugValue;hA.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=E3(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=T3(function(){function l(g){if(!c){if(c=!0,d=g,g=r(g),s!==void 0&&o.hasValue){var w=o.value;if(s(w,g))return h=w}return h=g}if(w=h,w3(d,g))return w;var y=r(g);return s!==void 0&&s(w,y)?w:(d=g,h=y)}var c=!1,d,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,s]);var a=_3(t,i[0],i[1]);return x3(function(){o.hasValue=!0,o.value=a},[a]),S3(a),a};dA.exports=hA;var b3=dA.exports;const C3=n0(b3);var mA={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"production",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://chatbot-api-0zup.onrender.com",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",BASE_URL:"/admin",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:R3}=Br,{useSyncExternalStoreWithSelector:P3}=C3;let DS=!1;const I3=t=>t;function A3(t,e=I3,n){(mA?"production":void 0)!=="production"&&n&&!DS&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),DS=!0);const r=P3(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return R3(r),r}const MS=t=>{(mA?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?o3(t):t,n=(r,s)=>A3(e,r,s);return Object.assign(n,e),n},ga=t=>t?MS(t):MS;var N3={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"production",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://chatbot-api-0zup.onrender.com",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",BASE_URL:"/admin",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function gA(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const o=l=>l===null?null:JSON.parse(l,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const Qu=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Qu(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Qu(r)(n)}}}},k3=(t,e)=>(n,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:T=>T,version:0,merge:(T,x)=>({...x,...T}),...e},o=!1;const a=new Set,l=new Set;let c;try{c=i.getStorage()}catch{}if(!c)return t((...T)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...T)},r,s);const d=Qu(i.serialize),h=()=>{const T=i.partialize({...r()});let x;const E=d({state:T,version:i.version}).then(b=>c.setItem(i.name,b)).catch(b=>{x=b});if(x)throw x;return E},f=s.setState;s.setState=(T,x)=>{f(T,x),h()};const g=t((...T)=>{n(...T),h()},r,s);let w;const y=()=>{var T;if(!c)return;o=!1,a.forEach(E=>E(r()));const x=((T=i.onRehydrateStorage)==null?void 0:T.call(i,r()))||void 0;return Qu(c.getItem.bind(c))(i.name).then(E=>{if(E)return i.deserialize(E)}).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==i.version){if(i.migrate)return i.migrate(E.state,E.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return E.state}).then(E=>{var b;return w=i.merge(E,(b=r())!=null?b:g),n(w,!0),h()}).then(()=>{x==null||x(w,void 0),o=!0,l.forEach(E=>E(w))}).catch(E=>{x==null||x(void 0,E)})};return s.persist={setOptions:T=>{i={...i,...T},T.getStorage&&(c=T.getStorage())},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:T=>(a.add(T),()=>{a.delete(T)}),onFinishHydration:T=>(l.add(T),()=>{l.delete(T)})},y(),w||g},D3=(t,e)=>(n,r,s)=>{let i={storage:gA(()=>localStorage),partialize:y=>y,version:0,merge:(y,T)=>({...T,...y}),...e},o=!1;const a=new Set,l=new Set;let c=i.storage;if(!c)return t((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...y)},r,s);const d=()=>{const y=i.partialize({...r()});return c.setItem(i.name,{state:y,version:i.version})},h=s.setState;s.setState=(y,T)=>{h(y,T),d()};const f=t((...y)=>{n(...y),d()},r,s);s.getInitialState=()=>f;let g;const w=()=>{var y,T;if(!c)return;o=!1,a.forEach(E=>{var b;return E((b=r())!=null?b:f)});const x=((T=i.onRehydrateStorage)==null?void 0:T.call(i,(y=r())!=null?y:f))||void 0;return Qu(c.getItem.bind(c))(i.name).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==i.version){if(i.migrate)return[!0,i.migrate(E.state,E.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,E.state];return[!1,void 0]}).then(E=>{var b;const[C,k]=E;if(g=i.merge(k,(b=r())!=null?b:f),n(g,!0),C)return d()}).then(()=>{x==null||x(g,void 0),g=r(),o=!0,l.forEach(E=>E(g))}).catch(E=>{x==null||x(void 0,E)})};return s.persist={setOptions:y=>{i={...i,...y},y.storage&&(c=y.storage)},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:y=>(a.add(y),()=>{a.delete(y)}),onFinishHydration:y=>(l.add(y),()=>{l.delete(y)})},i.skipHydration||w(),g||f},M3=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((N3?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),k3(t,e)):D3(t,e),O3=M3,Fl=ga()(O3(t=>({isAuth:!1,accessToken:null,setAccessToken:e=>t({accessToken:e}),login:e=>t({isAuth:!0,accessToken:e}),logout:()=>t({isAuth:!1,accessToken:null})}),{name:"auth-storage",storage:gA(()=>sessionStorage)}));/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ct(){return ct=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ct.apply(this,arguments)}var Dt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Dt||(Dt={}));const OS="popstate";function L3(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Yu("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ra(s)}return V3(e,n,null,t)}function Re(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ul(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function j3(){return Math.random().toString(36).substr(2,8)}function LS(t,e){return{usr:t.state,key:t.key,idx:e}}function Yu(t,e,n,r){return n===void 0&&(n=null),ct({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?oo(e):e,{state:n,key:e&&e.key||r||j3()})}function ra(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function oo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function V3(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Dt.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(ct({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Dt.Pop;let T=d(),x=T==null?null:T-c;c=T,l&&l({action:a,location:y.location,delta:x})}function f(T,x){a=Dt.Push;let E=Yu(y.location,T,x);c=d()+1;let b=LS(E,c),C=y.createHref(E);try{o.pushState(b,"",C)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(C)}i&&l&&l({action:a,location:y.location,delta:1})}function g(T,x){a=Dt.Replace;let E=Yu(y.location,T,x);c=d();let b=LS(E,c),C=y.createHref(E);o.replaceState(b,"",C),i&&l&&l({action:a,location:y.location,delta:0})}function w(T){let x=s.location.origin!=="null"?s.location.origin:s.location.href,E=typeof T=="string"?T:ra(T);return E=E.replace(/ $/,"%20"),Re(x,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,x)}let y={get action(){return a},get location(){return t(s,o)},listen(T){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(OS,h),l=T,()=>{s.removeEventListener(OS,h),l=null}},createHref(T){return e(s,T)},createURL:w,encodeLocation(T){let x=w(T);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:g,go(T){return o.go(T)}};return y}var We;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(We||(We={}));const F3=new Set(["lazy","caseSensitive","path","id","index","children"]);function U3(t){return t.index===!0}function Xu(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((s,i)=>{let o=[...n,String(i)],a=typeof s.id=="string"?s.id:o.join("-");if(Re(s.index!==!0||!s.children,"Cannot specify children on an index route"),Re(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),U3(s)){let l=ct({},s,e(s),{id:a});return r[a]=l,l}else{let l=ct({},s,e(s),{id:a,children:void 0});return r[a]=l,s.children&&(l.children=Xu(s.children,e,o,r)),l}})}function Ao(t,e,n){return n===void 0&&(n="/"),Pf(t,e,n,!1)}function Pf(t,e,n,r){let s=typeof e=="string"?oo(e):e,i=rc(s.pathname||"/",n);if(i==null)return null;let o=yA(t);$3(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Z3(i);a=X3(o[l],c,r)}return a}function B3(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],handle:n.handle}}function yA(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Re(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Rs([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Re(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),yA(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:Q3(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of vA(i.path))s(i,o,l)}),e}function vA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=vA(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function $3(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Y3(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const z3=/^:[\w-]+$/,K3=3,W3=2,H3=1,G3=10,q3=-2,jS=t=>t==="*";function Q3(t,e){let n=t.split("/"),r=n.length;return n.some(jS)&&(r+=q3),e&&(r+=W3),n.filter(s=>!jS(s)).reduce((s,i)=>s+(z3.test(i)?K3:i===""?H3:G3),r)}function Y3(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function X3(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=VS({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=VS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Rs([i,h.pathname]),pathnameBase:nz(Rs([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Rs([i,h.pathnameBase]))}return o}function VS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=J3(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:f,isOptional:g}=d;if(f==="*"){let y=a[h]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const w=a[h];return g&&!w?c[f]=void 0:c[f]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function J3(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ul(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Z3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ul(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function rc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ez(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?oo(t):t;return{pathname:n?n.startsWith("/")?n:tz(n,e):e,search:rz(r),hash:sz(s)}}function tz(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function oy(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xm(t,e){let n=wA(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Tm(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=oo(t):(s=ct({},t),Re(!s.pathname||!s.pathname.includes("?"),oy("?","pathname","search",s)),Re(!s.pathname||!s.pathname.includes("#"),oy("#","pathname","hash",s)),Re(!s.search||!s.search.includes("#"),oy("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=ez(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Rs=t=>t.join("/").replace(/\/\/+/g,"/"),nz=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),rz=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,sz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class xp{constructor(e,n,r,s){s===void 0&&(s=!1),this.status=e,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Ud(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const _A=["post","put","patch","delete"],iz=new Set(_A),oz=["get",..._A],az=new Set(oz),lz=new Set([301,302,303,307,308]),cz=new Set([307,308]),ay={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},uz={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},$c={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},a_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dz=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),EA="remix-router-transitions";function hz(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Re(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let O=t.detectErrorBoundary;s=V=>({hasErrorBoundary:O(V)})}else s=dz;let i={},o=Xu(t.routes,s,void 0,i),a,l=t.basename||"/",c=t.unstable_dataStrategy||vz,d=t.unstable_patchRoutesOnNavigation,h=ct({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,g=new Set,w=1e3,y=new Set,T=null,x=null,E=null,b=t.hydrationData!=null,C=Ao(o,t.history.location,l),k=null;if(C==null&&!d){let O=Sn(404,{pathname:t.history.location.pathname}),{matches:V,route:U}=GS(o);C=V,k={[U.id]:O}}C&&!t.hydrationData&&At(C,o,t.history.location.pathname).active&&(C=null);let j;if(C)if(C.some(O=>O.route.lazy))j=!1;else if(!C.some(O=>O.route.loader))j=!0;else if(h.v7_partialHydration){let O=t.hydrationData?t.hydrationData.loaderData:null,V=t.hydrationData?t.hydrationData.errors:null,U=K=>K.route.loader?typeof K.route.loader=="function"&&K.route.loader.hydrate===!0?!1:O&&O[K.route.id]!==void 0||V&&V[K.route.id]!==void 0:!0;if(V){let K=C.findIndex(J=>V[J.route.id]!==void 0);j=C.slice(0,K+1).every(U)}else j=C.every(U)}else j=t.hydrationData!=null;else if(j=!1,C=[],h.v7_partialHydration){let O=At(null,o,t.history.location.pathname);O.active&&O.matches&&(C=O.matches)}let R,_={historyAction:t.history.action,location:t.history.location,matches:C,initialized:j,navigation:ay,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||k,fetchers:new Map,blockers:new Map},P=Dt.Pop,A=!1,D,M=!1,N=new Map,W=null,pe=!1,le=!1,ie=[],z=new Set,B=new Map,X=0,ue=-1,ge=new Map,Se=new Set,Ze=new Map,It=new Map,He=new Set,Ge=new Map,wn=new Map,en=new Map,_n;function cs(){if(f=t.history.listen(O=>{let{action:V,location:U,delta:K}=O;if(_n){_n(),_n=void 0;return}Ul(wn.size===0||K!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let J=Ta({currentLocation:_.location,nextLocation:U,historyAction:V});if(J&&K!=null){let ce=new Promise(ye=>{_n=ye});t.history.go(K*-1),Vr(J,{state:"blocked",location:U,proceed(){Vr(J,{state:"proceeding",proceed:void 0,reset:void 0,location:U}),ce.then(()=>t.history.go(K))},reset(){let ye=new Map(_.blockers);ye.set(J,$c),mt({blockers:ye})}});return}return gr(V,U)}),n){Dz(e,N);let O=()=>Mz(e,N);e.addEventListener("pagehide",O),W=()=>e.removeEventListener("pagehide",O)}return _.initialized||gr(Dt.Pop,_.location,{initialHydration:!0}),R}function Gs(){f&&f(),W&&W(),g.clear(),D&&D.abort(),_.fetchers.forEach((O,V)=>po(V)),_.blockers.forEach((O,V)=>Tc(V))}function mr(O){return g.add(O),()=>g.delete(O)}function mt(O,V){V===void 0&&(V={}),_=ct({},_,O);let U=[],K=[];h.v7_fetcherPersist&&_.fetchers.forEach((J,ce)=>{J.state==="idle"&&(He.has(ce)?K.push(ce):U.push(ce))}),[...g].forEach(J=>J(_,{deletedFetchers:K,unstable_viewTransitionOpts:V.viewTransitionOpts,unstable_flushSync:V.flushSync===!0})),h.v7_fetcherPersist&&(U.forEach(J=>_.fetchers.delete(J)),K.forEach(J=>po(J)))}function Jn(O,V,U){var K,J;let{flushSync:ce}=U===void 0?{}:U,ye=_.actionData!=null&&_.navigation.formMethod!=null&&Cr(_.navigation.formMethod)&&_.navigation.state==="loading"&&((K=O.state)==null?void 0:K._isRedirect)!==!0,Q;V.actionData?Object.keys(V.actionData).length>0?Q=V.actionData:Q=null:ye?Q=_.actionData:Q=null;let oe=V.loaderData?WS(_.loaderData,V.loaderData,V.matches||[],V.errors):_.loaderData,ne=_.blockers;ne.size>0&&(ne=new Map(ne),ne.forEach((Oe,Ke)=>ne.set(Ke,$c)));let se=A===!0||_.navigation.formMethod!=null&&Cr(_.navigation.formMethod)&&((J=O.state)==null?void 0:J._isRedirect)!==!0;a&&(o=a,a=void 0),pe||P===Dt.Pop||(P===Dt.Push?t.history.push(O,O.state):P===Dt.Replace&&t.history.replace(O,O.state));let Ne;if(P===Dt.Pop){let Oe=N.get(_.location.pathname);Oe&&Oe.has(O.pathname)?Ne={currentLocation:_.location,nextLocation:O}:N.has(O.pathname)&&(Ne={currentLocation:O,nextLocation:_.location})}else if(M){let Oe=N.get(_.location.pathname);Oe?Oe.add(O.pathname):(Oe=new Set([O.pathname]),N.set(_.location.pathname,Oe)),Ne={currentLocation:_.location,nextLocation:O}}mt(ct({},V,{actionData:Q,loaderData:oe,historyAction:P,location:O,initialized:!0,navigation:ay,revalidation:"idle",restoreScrollPosition:bc(O,V.matches||_.matches),preventScrollReset:se,blockers:ne}),{viewTransitionOpts:Ne,flushSync:ce===!0}),P=Dt.Pop,A=!1,M=!1,pe=!1,le=!1,ie=[]}async function ho(O,V){if(typeof O=="number"){t.history.go(O);return}let U=Hv(_.location,_.matches,l,h.v7_prependBasename,O,h.v7_relativeSplatPath,V==null?void 0:V.fromRouteId,V==null?void 0:V.relative),{path:K,submission:J,error:ce}=FS(h.v7_normalizeFormMethod,!1,U,V),ye=_.location,Q=Yu(_.location,K,V&&V.state);Q=ct({},Q,t.history.encodeLocation(Q));let oe=V&&V.replace!=null?V.replace:void 0,ne=Dt.Push;oe===!0?ne=Dt.Replace:oe===!1||J!=null&&Cr(J.formMethod)&&J.formAction===_.location.pathname+_.location.search&&(ne=Dt.Replace);let se=V&&"preventScrollReset"in V?V.preventScrollReset===!0:void 0,Ne=(V&&V.unstable_flushSync)===!0,Oe=Ta({currentLocation:ye,nextLocation:Q,historyAction:ne});if(Oe){Vr(Oe,{state:"blocked",location:Q,proceed(){Vr(Oe,{state:"proceeding",proceed:void 0,reset:void 0,location:Q}),ho(O,V)},reset(){let Ke=new Map(_.blockers);Ke.set(Oe,$c),mt({blockers:Ke})}});return}return await gr(ne,Q,{submission:J,pendingError:ce,preventScrollReset:se,replace:V&&V.replace,enableViewTransition:V&&V.unstable_viewTransition,flushSync:Ne})}function vc(){if(Ea(),mt({revalidation:"loading"}),_.navigation.state!=="submitting"){if(_.navigation.state==="idle"){gr(_.historyAction,_.location,{startUninterruptedRevalidation:!0});return}gr(P||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation,enableViewTransition:M===!0})}}async function gr(O,V,U){D&&D.abort(),D=null,P=O,pe=(U&&U.startUninterruptedRevalidation)===!0,go(_.location,_.matches),A=(U&&U.preventScrollReset)===!0,M=(U&&U.enableViewTransition)===!0;let K=a||o,J=U&&U.overrideNavigation,ce=Ao(K,V,l),ye=(U&&U.flushSync)===!0,Q=At(ce,K,V.pathname);if(Q.active&&Q.matches&&(ce=Q.matches),!ce){let{error:Ie,notFoundMatches:Nt,route:et}=mo(V.pathname);Jn(V,{matches:Nt,loaderData:{},errors:{[et.id]:Ie}},{flushSync:ye});return}if(_.initialized&&!le&&Sz(_.location,V)&&!(U&&U.submission&&Cr(U.submission.formMethod))){Jn(V,{matches:ce},{flushSync:ye});return}D=new AbortController;let oe=Aa(t.history,V,D.signal,U&&U.submission),ne;if(U&&U.pendingError)ne=[Ya(ce).route.id,{type:We.error,error:U.pendingError}];else if(U&&U.submission&&Cr(U.submission.formMethod)){let Ie=await us(oe,V,U.submission,ce,Q.active,{replace:U.replace,flushSync:ye});if(Ie.shortCircuited)return;if(Ie.pendingActionResult){let[Nt,et]=Ie.pendingActionResult;if(Bn(et)&&Ud(et.error)&&et.error.status===404){D=null,Jn(V,{matches:Ie.matches,loaderData:{},errors:{[Nt]:et.error}});return}}ce=Ie.matches||ce,ne=Ie.pendingActionResult,J=ly(V,U.submission),ye=!1,Q.active=!1,oe=Aa(t.history,oe.url,oe.signal)}let{shortCircuited:se,matches:Ne,loaderData:Oe,errors:Ke}=await wc(oe,V,ce,Q.active,J,U&&U.submission,U&&U.fetcherSubmission,U&&U.replace,U&&U.initialHydration===!0,ye,ne);se||(D=null,Jn(V,ct({matches:Ne||ce},HS(ne),{loaderData:Oe,errors:Ke})))}async function us(O,V,U,K,J,ce){ce===void 0&&(ce={}),Ea();let ye=Nz(V,U);if(mt({navigation:ye},{flushSync:ce.flushSync===!0}),J){let ne=await yo(K,V.pathname,O.signal);if(ne.type==="aborted")return{shortCircuited:!0};if(ne.type==="error"){let{boundaryId:se,error:Ne}=er(V.pathname,ne);return{matches:ne.partialMatches,pendingActionResult:[se,{type:We.error,error:Ne}]}}else if(ne.matches)K=ne.matches;else{let{notFoundMatches:se,error:Ne,route:Oe}=mo(V.pathname);return{matches:se,pendingActionResult:[Oe.id,{type:We.error,error:Ne}]}}}let Q,oe=eu(K,V);if(!oe.route.action&&!oe.route.lazy)Q={type:We.error,error:Sn(405,{method:O.method,pathname:V.pathname,routeId:oe.route.id})};else if(Q=(await xt("action",_,O,[oe],K,null))[oe.route.id],O.signal.aborted)return{shortCircuited:!0};if(Mo(Q)){let ne;return ce&&ce.replace!=null?ne=ce.replace:ne=$S(Q.response.headers.get("Location"),new URL(O.url),l)===_.location.pathname+_.location.search,await ot(O,Q,!0,{submission:U,replace:ne}),{shortCircuited:!0}}if(Ri(Q))throw Sn(400,{type:"defer-action"});if(Bn(Q)){let ne=Ya(K,oe.route.id);return(ce&&ce.replace)!==!0&&(P=Dt.Push),{matches:K,pendingActionResult:[ne.route.id,Q]}}return{matches:K,pendingActionResult:[oe.route.id,Q]}}async function wc(O,V,U,K,J,ce,ye,Q,oe,ne,se){let Ne=J||ly(V,ce),Oe=ce||ye||QS(Ne),Ke=!pe&&(!h.v7_partialHydration||!oe);if(K){if(Ke){let Ye=_c(se);mt(ct({navigation:Ne},Ye!==void 0?{actionData:Ye}:{}),{flushSync:ne})}let _e=await yo(U,V.pathname,O.signal);if(_e.type==="aborted")return{shortCircuited:!0};if(_e.type==="error"){let{boundaryId:Ye,error:nn}=er(V.pathname,_e);return{matches:_e.partialMatches,loaderData:{},errors:{[Ye]:nn}}}else if(_e.matches)U=_e.matches;else{let{error:Ye,notFoundMatches:nn,route:tt}=mo(V.pathname);return{matches:nn,loaderData:{},errors:{[tt.id]:Ye}}}}let Ie=a||o,[Nt,et]=US(t.history,_,U,Oe,V,h.v7_partialHydration&&oe===!0,h.v7_skipActionErrorRevalidation,le,ie,z,He,Ze,Se,Ie,l,se);if(Sa(_e=>!(U&&U.some(Ye=>Ye.route.id===_e))||Nt&&Nt.some(Ye=>Ye.route.id===_e)),ue=++X,Nt.length===0&&et.length===0){let _e=uh();return Jn(V,ct({matches:U,loaderData:{},errors:se&&Bn(se[1])?{[se[0]]:se[1].error}:null},HS(se),_e?{fetchers:new Map(_.fetchers)}:{}),{flushSync:ne}),{shortCircuited:!0}}if(Ke){let _e={};if(!K){_e.navigation=Ne;let Ye=_c(se);Ye!==void 0&&(_e.actionData=Ye)}et.length>0&&(_e.fetchers=vg(et)),mt(_e,{flushSync:ne})}et.forEach(_e=>{B.has(_e.key)&&Zn(_e.key),_e.controller&&B.set(_e.key,_e.controller)});let Ys=()=>et.forEach(_e=>Zn(_e.key));D&&D.signal.addEventListener("abort",Ys);let{loaderResults:jn,fetcherResults:tr}=await fo(_,U,Nt,et,O);if(O.signal.aborted)return{shortCircuited:!0};D&&D.signal.removeEventListener("abort",Ys),et.forEach(_e=>B.delete(_e.key));let tn=zh(jn);if(tn)return await ot(O,tn.result,!0,{replace:Q}),{shortCircuited:!0};if(tn=zh(tr),tn)return Se.add(tn.key),await ot(O,tn.result,!0,{replace:Q}),{shortCircuited:!0};let{loaderData:Xs,errors:wr}=KS(_,U,Nt,jn,se,et,tr,Ge);Ge.forEach((_e,Ye)=>{_e.subscribe(nn=>{(nn||_e.done)&&Ge.delete(Ye)})}),h.v7_partialHydration&&oe&&_.errors&&Object.entries(_.errors).filter(_e=>{let[Ye]=_e;return!Nt.some(nn=>nn.route.id===Ye)}).forEach(_e=>{let[Ye,nn]=_e;wr=Object.assign(wr||{},{[Ye]:nn})});let wo=uh(),_o=xa(ue),Eo=wo||_o||et.length>0;return ct({matches:U,loaderData:Xs,errors:wr},Eo?{fetchers:new Map(_.fetchers)}:{})}function _c(O){if(O&&!Bn(O[1]))return{[O[0]]:O[1].data};if(_.actionData)return Object.keys(_.actionData).length===0?null:_.actionData}function vg(O){return O.forEach(V=>{let U=_.fetchers.get(V.key),K=zc(void 0,U?U.data:void 0);_.fetchers.set(V.key,K)}),new Map(_.fetchers)}function Ec(O,V,U,K){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");B.has(O)&&Zn(O);let J=(K&&K.unstable_flushSync)===!0,ce=a||o,ye=Hv(_.location,_.matches,l,h.v7_prependBasename,U,h.v7_relativeSplatPath,V,K==null?void 0:K.relative),Q=Ao(ce,ye,l),oe=At(Q,ce,ye);if(oe.active&&oe.matches&&(Q=oe.matches),!Q){vr(O,V,Sn(404,{pathname:ye}),{flushSync:J});return}let{path:ne,submission:se,error:Ne}=FS(h.v7_normalizeFormMethod,!0,ye,K);if(Ne){vr(O,V,Ne,{flushSync:J});return}let Oe=eu(Q,ne);if(A=(K&&K.preventScrollReset)===!0,se&&Cr(se.formMethod)){xc(O,V,ne,Oe,Q,oe.active,J,se);return}Ze.set(O,{routeId:V,path:ne}),ah(O,V,ne,Oe,Q,oe.active,J,se)}async function xc(O,V,U,K,J,ce,ye,Q){Ea(),Ze.delete(O);function oe(tt){if(!tt.route.action&&!tt.route.lazy){let _r=Sn(405,{method:Q.formMethod,pathname:U,routeId:V});return vr(O,V,_r,{flushSync:ye}),!0}return!1}if(!ce&&oe(K))return;let ne=_.fetchers.get(O);yr(O,kz(Q,ne),{flushSync:ye});let se=new AbortController,Ne=Aa(t.history,U,se.signal,Q);if(ce){let tt=await yo(J,U,Ne.signal);if(tt.type==="aborted")return;if(tt.type==="error"){let{error:_r}=er(U,tt);vr(O,V,_r,{flushSync:ye});return}else if(tt.matches){if(J=tt.matches,K=eu(J,U),oe(K))return}else{vr(O,V,Sn(404,{pathname:U}),{flushSync:ye});return}}B.set(O,se);let Oe=X,Ie=(await xt("action",_,Ne,[K],J,O))[K.route.id];if(Ne.signal.aborted){B.get(O)===se&&B.delete(O);return}if(h.v7_fetcherPersist&&He.has(O)){if(Mo(Ie)||Bn(Ie)){yr(O,si(void 0));return}}else{if(Mo(Ie))if(B.delete(O),ue>Oe){yr(O,si(void 0));return}else return Se.add(O),yr(O,zc(Q)),ot(Ne,Ie,!1,{fetcherSubmission:Q});if(Bn(Ie)){vr(O,V,Ie.error);return}}if(Ri(Ie))throw Sn(400,{type:"defer-action"});let Nt=_.navigation.location||_.location,et=Aa(t.history,Nt,se.signal),Ys=a||o,jn=_.navigation.state!=="idle"?Ao(Ys,_.navigation.location,l):_.matches;Re(jn,"Didn't find any matches after fetcher action");let tr=++X;ge.set(O,tr);let tn=zc(Q,Ie.data);_.fetchers.set(O,tn);let[Xs,wr]=US(t.history,_,jn,Q,Nt,!1,h.v7_skipActionErrorRevalidation,le,ie,z,He,Ze,Se,Ys,l,[K.route.id,Ie]);wr.filter(tt=>tt.key!==O).forEach(tt=>{let _r=tt.key,hh=_.fetchers.get(_r),fh=zc(void 0,hh?hh.data:void 0);_.fetchers.set(_r,fh),B.has(_r)&&Zn(_r),tt.controller&&B.set(_r,tt.controller)}),mt({fetchers:new Map(_.fetchers)});let wo=()=>wr.forEach(tt=>Zn(tt.key));se.signal.addEventListener("abort",wo);let{loaderResults:_o,fetcherResults:Eo}=await fo(_,jn,Xs,wr,et);if(se.signal.aborted)return;se.signal.removeEventListener("abort",wo),ge.delete(O),B.delete(O),wr.forEach(tt=>B.delete(tt.key));let _e=zh(_o);if(_e)return ot(et,_e.result,!1);if(_e=zh(Eo),_e)return Se.add(_e.key),ot(et,_e.result,!1);let{loaderData:Ye,errors:nn}=KS(_,jn,Xs,_o,void 0,wr,Eo,Ge);if(_.fetchers.has(O)){let tt=si(Ie.data);_.fetchers.set(O,tt)}xa(tr),_.navigation.state==="loading"&&tr>ue?(Re(P,"Expected pending action"),D&&D.abort(),Jn(_.navigation.location,{matches:jn,loaderData:Ye,errors:nn,fetchers:new Map(_.fetchers)})):(mt({errors:nn,loaderData:WS(_.loaderData,Ye,jn,nn),fetchers:new Map(_.fetchers)}),le=!1)}async function ah(O,V,U,K,J,ce,ye,Q){let oe=_.fetchers.get(O);yr(O,zc(Q,oe?oe.data:void 0),{flushSync:ye});let ne=new AbortController,se=Aa(t.history,U,ne.signal);if(ce){let Ie=await yo(J,U,se.signal);if(Ie.type==="aborted")return;if(Ie.type==="error"){let{error:Nt}=er(U,Ie);vr(O,V,Nt,{flushSync:ye});return}else if(Ie.matches)J=Ie.matches,K=eu(J,U);else{vr(O,V,Sn(404,{pathname:U}),{flushSync:ye});return}}B.set(O,ne);let Ne=X,Ke=(await xt("loader",_,se,[K],J,O))[K.route.id];if(Ri(Ke)&&(Ke=await l_(Ke,se.signal,!0)||Ke),B.get(O)===ne&&B.delete(O),!se.signal.aborted){if(He.has(O)){yr(O,si(void 0));return}if(Mo(Ke))if(ue>Ne){yr(O,si(void 0));return}else{Se.add(O),await ot(se,Ke,!1);return}if(Bn(Ke)){vr(O,V,Ke.error);return}Re(!Ri(Ke),"Unhandled fetcher deferred data"),yr(O,si(Ke.data))}}async function ot(O,V,U,K){let{submission:J,fetcherSubmission:ce,replace:ye}=K===void 0?{}:K;V.response.headers.has("X-Remix-Revalidate")&&(le=!0);let Q=V.response.headers.get("Location");Re(Q,"Expected a Location header on the redirect Response"),Q=$S(Q,new URL(O.url),l);let oe=Yu(_.location,Q,{_isRedirect:!0});if(n){let Ie=!1;if(V.response.headers.has("X-Remix-Reload-Document"))Ie=!0;else if(a_.test(Q)){const Nt=t.history.createURL(Q);Ie=Nt.origin!==e.location.origin||rc(Nt.pathname,l)==null}if(Ie){ye?e.location.replace(Q):e.location.assign(Q);return}}D=null;let ne=ye===!0||V.response.headers.has("X-Remix-Replace")?Dt.Replace:Dt.Push,{formMethod:se,formAction:Ne,formEncType:Oe}=_.navigation;!J&&!ce&&se&&Ne&&Oe&&(J=QS(_.navigation));let Ke=J||ce;if(cz.has(V.response.status)&&Ke&&Cr(Ke.formMethod))await gr(ne,oe,{submission:ct({},Ke,{formAction:Q}),preventScrollReset:A,enableViewTransition:U?M:void 0});else{let Ie=ly(oe,J);await gr(ne,oe,{overrideNavigation:Ie,fetcherSubmission:ce,preventScrollReset:A,enableViewTransition:U?M:void 0})}}async function xt(O,V,U,K,J,ce){let ye,Q={};try{ye=await wz(c,O,V,U,K,J,ce,i,s)}catch(oe){return K.forEach(ne=>{Q[ne.route.id]={type:We.error,error:oe}}),Q}for(let[oe,ne]of Object.entries(ye))if(Cz(ne)){let se=ne.result;Q[oe]={type:We.redirect,response:xz(se,U,oe,J,l,h.v7_relativeSplatPath)}}else Q[oe]=await Ez(ne);return Q}async function fo(O,V,U,K,J){let ce=O.matches,ye=xt("loader",O,J,U,V,null),Q=Promise.all(K.map(async se=>{if(se.matches&&se.match&&se.controller){let Oe=(await xt("loader",O,Aa(t.history,se.path,se.controller.signal),[se.match],se.matches,se.key))[se.match.route.id];return{[se.key]:Oe}}else return Promise.resolve({[se.key]:{type:We.error,error:Sn(404,{pathname:se.path})}})})),oe=await ye,ne=(await Q).reduce((se,Ne)=>Object.assign(se,Ne),{});return await Promise.all([Iz(V,oe,J.signal,ce,O.loaderData),Az(V,ne,K)]),{loaderResults:oe,fetcherResults:ne}}function Ea(){le=!0,ie.push(...Sa()),Ze.forEach((O,V)=>{B.has(V)&&(z.add(V),Zn(V))})}function yr(O,V,U){U===void 0&&(U={}),_.fetchers.set(O,V),mt({fetchers:new Map(_.fetchers)},{flushSync:(U&&U.flushSync)===!0})}function vr(O,V,U,K){K===void 0&&(K={});let J=Ya(_.matches,V);po(O),mt({errors:{[J.route.id]:U},fetchers:new Map(_.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function qs(O){return h.v7_fetcherPersist&&(It.set(O,(It.get(O)||0)+1),He.has(O)&&He.delete(O)),_.fetchers.get(O)||uz}function po(O){let V=_.fetchers.get(O);B.has(O)&&!(V&&V.state==="loading"&&ge.has(O))&&Zn(O),Ze.delete(O),ge.delete(O),Se.delete(O),He.delete(O),z.delete(O),_.fetchers.delete(O)}function lh(O){if(h.v7_fetcherPersist){let V=(It.get(O)||0)-1;V<=0?(It.delete(O),He.add(O)):It.set(O,V)}else po(O);mt({fetchers:new Map(_.fetchers)})}function Zn(O){let V=B.get(O);Re(V,"Expected fetch controller: "+O),V.abort(),B.delete(O)}function ch(O){for(let V of O){let U=qs(V),K=si(U.data);_.fetchers.set(V,K)}}function uh(){let O=[],V=!1;for(let U of Se){let K=_.fetchers.get(U);Re(K,"Expected fetcher: "+U),K.state==="loading"&&(Se.delete(U),O.push(U),V=!0)}return ch(O),V}function xa(O){let V=[];for(let[U,K]of ge)if(K<O){let J=_.fetchers.get(U);Re(J,"Expected fetcher: "+U),J.state==="loading"&&(Zn(U),ge.delete(U),V.push(U))}return ch(V),V.length>0}function dh(O,V){let U=_.blockers.get(O)||$c;return wn.get(O)!==V&&wn.set(O,V),U}function Tc(O){_.blockers.delete(O),wn.delete(O)}function Vr(O,V){let U=_.blockers.get(O)||$c;Re(U.state==="unblocked"&&V.state==="blocked"||U.state==="blocked"&&V.state==="blocked"||U.state==="blocked"&&V.state==="proceeding"||U.state==="blocked"&&V.state==="unblocked"||U.state==="proceeding"&&V.state==="unblocked","Invalid blocker state transition: "+U.state+" -> "+V.state);let K=new Map(_.blockers);K.set(O,V),mt({blockers:K})}function Ta(O){let{currentLocation:V,nextLocation:U,historyAction:K}=O;if(wn.size===0)return;wn.size>1&&Ul(!1,"A router only supports one blocker at a time");let J=Array.from(wn.entries()),[ce,ye]=J[J.length-1],Q=_.blockers.get(ce);if(!(Q&&Q.state==="proceeding")&&ye({currentLocation:V,nextLocation:U,historyAction:K}))return ce}function mo(O){let V=Sn(404,{pathname:O}),U=a||o,{matches:K,route:J}=GS(U);return Sa(),{notFoundMatches:K,route:J,error:V}}function er(O,V){return{boundaryId:Ya(V.partialMatches).route.id,error:Sn(400,{type:"route-discovery",pathname:O,message:V.error!=null&&"message"in V.error?V.error:String(V.error)})}}function Sa(O){let V=[];return Ge.forEach((U,K)=>{(!O||O(K))&&(U.cancel(),V.push(K),Ge.delete(K))}),V}function ba(O,V,U){if(T=O,E=V,x=U||null,!b&&_.navigation===ay){b=!0;let K=bc(_.location,_.matches);K!=null&&mt({restoreScrollPosition:K})}return()=>{T=null,E=null,x=null}}function Sc(O,V){return x&&x(O,V.map(K=>B3(K,_.loaderData)))||O.key}function go(O,V){if(T&&E){let U=Sc(O,V);T[U]=E()}}function bc(O,V){if(T){let U=Sc(O,V),K=T[U];if(typeof K=="number")return K}return null}function At(O,V,U){if(d){if(y.has(U))return{active:!1,matches:O};if(O){if(Object.keys(O[0].params).length>0)return{active:!0,matches:Pf(V,U,l,!0)}}else return{active:!0,matches:Pf(V,U,l,!0)||[]}}return{active:!1,matches:null}}async function yo(O,V,U){let K=O;for(;;){let J=a==null,ce=a||o;try{await gz(d,V,K,ce,i,s,en,U)}catch(oe){return{type:"error",error:oe,partialMatches:K}}finally{J&&(o=[...o])}if(U.aborted)return{type:"aborted"};let ye=Ao(ce,V,l);if(ye)return Qs(V,y),{type:"success",matches:ye};let Q=Pf(ce,V,l,!0);if(!Q||K.length===Q.length&&K.every((oe,ne)=>oe.route.id===Q[ne].route.id))return Qs(V,y),{type:"success",matches:null};K=Q}}function Qs(O,V){if(V.size>=w){let U=V.values().next().value;V.delete(U)}V.add(O)}function vo(O){i={},a=Xu(O,s,void 0,i)}function wg(O,V){let U=a==null;TA(O,V,a||o,i,s),U&&(o=[...o],mt({}))}return R={get basename(){return l},get future(){return h},get state(){return _},get routes(){return o},get window(){return e},initialize:cs,subscribe:mr,enableScrollRestoration:ba,navigate:ho,fetch:Ec,revalidate:vc,createHref:O=>t.history.createHref(O),encodeLocation:O=>t.history.encodeLocation(O),getFetcher:qs,deleteFetcher:lh,dispose:Gs,getBlocker:dh,deleteBlocker:Tc,patchRoutes:wg,_internalFetchControllers:B,_internalActiveDeferreds:Ge,_internalSetRoutes:vo},R}function fz(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Hv(t,e,n,r,s,i,o,a){let l,c;if(o){l=[];for(let h of e)if(l.push(h),h.route.id===o){c=h;break}}else l=e,c=e[e.length-1];let d=Tm(s||".",xm(l,i),rc(t.pathname,n)||t.pathname,a==="path");return s==null&&(d.search=t.search,d.hash=t.hash),(s==null||s===""||s===".")&&c&&c.route.index&&!c_(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:Rs([n,d.pathname])),ra(d)}function FS(t,e,n,r){if(!r||!fz(r))return{path:n};if(r.formMethod&&!Pz(r.formMethod))return{path:n,error:Sn(405,{method:r.formMethod})};let s=()=>({path:n,error:Sn(400,{type:"invalid-body"})}),i=r.formMethod||"get",o=t?i.toUpperCase():i.toLowerCase(),a=SA(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Cr(o))return s();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((g,w)=>{let[y,T]=w;return""+g+y+"="+T+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!Cr(o))return s();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return s()}}}Re(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=Gv(r.formData),c=r.formData;else if(r.body instanceof FormData)l=Gv(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=zS(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=zS(l)}catch{return s()}let d={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Cr(d.formMethod))return{path:n,submission:d};let h=oo(n);return e&&h.search&&c_(h.search)&&l.append("index",""),h.search="?"+l,{path:ra(h),submission:d}}function pz(t,e){let n=t;if(e){let r=t.findIndex(s=>s.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function US(t,e,n,r,s,i,o,a,l,c,d,h,f,g,w,y){let T=y?Bn(y[1])?y[1].error:y[1].data:void 0,x=t.createURL(e.location),E=t.createURL(s),b=y&&Bn(y[1])?y[0]:void 0,C=b?pz(n,b):n,k=y?y[1].statusCode:void 0,j=o&&k&&k>=400,R=C.filter((P,A)=>{let{route:D}=P;if(D.lazy)return!0;if(D.loader==null)return!1;if(i)return typeof D.loader!="function"||D.loader.hydrate?!0:e.loaderData[D.id]===void 0&&(!e.errors||e.errors[D.id]===void 0);if(mz(e.loaderData,e.matches[A],P)||l.some(W=>W===P.route.id))return!0;let M=e.matches[A],N=P;return BS(P,ct({currentUrl:x,currentParams:M.params,nextUrl:E,nextParams:N.params},r,{actionResult:T,actionStatus:k,defaultShouldRevalidate:j?!1:a||x.pathname+x.search===E.pathname+E.search||x.search!==E.search||xA(M,N)}))}),_=[];return h.forEach((P,A)=>{if(i||!n.some(pe=>pe.route.id===P.routeId)||d.has(A))return;let D=Ao(g,P.path,w);if(!D){_.push({key:A,routeId:P.routeId,path:P.path,matches:null,match:null,controller:null});return}let M=e.fetchers.get(A),N=eu(D,P.path),W=!1;f.has(A)?W=!1:c.has(A)?(c.delete(A),W=!0):M&&M.state!=="idle"&&M.data===void 0?W=a:W=BS(N,ct({currentUrl:x,currentParams:e.matches[e.matches.length-1].params,nextUrl:E,nextParams:n[n.length-1].params},r,{actionResult:T,actionStatus:k,defaultShouldRevalidate:j?!1:a})),W&&_.push({key:A,routeId:P.routeId,path:P.path,matches:D,match:N,controller:new AbortController})}),[R,_]}function mz(t,e,n){let r=!e||n.route.id!==e.route.id,s=t[n.route.id]===void 0;return r||s}function xA(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function BS(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function gz(t,e,n,r,s,i,o,a){let l=[e,...n.map(c=>c.route.id)].join("-");try{let c=o.get(l);c||(c=t({path:e,matches:n,patch:(d,h)=>{a.aborted||TA(d,h,r,s,i)}}),o.set(l,c)),c&&bz(c)&&await c}finally{o.delete(l)}}function TA(t,e,n,r,s){if(t){var i;let o=r[t];Re(o,"No route found to patch children into: routeId = "+t);let a=Xu(e,s,[t,"patch",String(((i=o.children)==null?void 0:i.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=Xu(e,s,["patch",String(n.length||"0")],r);n.push(...o)}}async function yz(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let s=n[t.id];Re(s,"No route found in manifest");let i={};for(let o in r){let l=s[o]!==void 0&&o!=="hasErrorBoundary";Ul(!l,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!F3.has(o)&&(i[o]=r[o])}Object.assign(s,i),Object.assign(s,ct({},e(s),{lazy:void 0}))}async function vz(t){let{matches:e}=t,n=e.filter(s=>s.shouldLoad);return(await Promise.all(n.map(s=>s.resolve()))).reduce((s,i,o)=>Object.assign(s,{[n[o].route.id]:i}),{})}async function wz(t,e,n,r,s,i,o,a,l,c){let d=i.map(g=>g.route.lazy?yz(g.route,l,a):void 0),h=i.map((g,w)=>{let y=d[w],T=s.some(E=>E.route.id===g.route.id);return ct({},g,{shouldLoad:T,resolve:async E=>(E&&r.method==="GET"&&(g.route.lazy||g.route.loader)&&(T=!0),T?_z(e,r,g,y,E,c):Promise.resolve({type:We.data,result:void 0}))})}),f=await t({matches:h,request:r,params:i[0].params,fetcherKey:o,context:c});try{await Promise.all(d)}catch{}return f}async function _z(t,e,n,r,s,i){let o,a,l=c=>{let d,h=new Promise((w,y)=>d=y);a=()=>d(),e.signal.addEventListener("abort",a);let f=w=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:i},...w!==void 0?[w]:[]),g=(async()=>{try{return{type:"data",result:await(s?s(y=>f(y)):f())}}catch(w){return{type:"error",result:w}}})();return Promise.race([g,h])};try{let c=n.route[t];if(r)if(c){let d,[h]=await Promise.all([l(c).catch(f=>{d=f}),r]);if(d!==void 0)throw d;o=h}else if(await r,c=n.route[t],c)o=await l(c);else if(t==="action"){let d=new URL(e.url),h=d.pathname+d.search;throw Sn(405,{method:e.method,pathname:h,routeId:n.route.id})}else return{type:We.data,result:void 0};else if(c)o=await l(c);else{let d=new URL(e.url),h=d.pathname+d.search;throw Sn(404,{pathname:h})}Re(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:We.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function Ez(t){let{result:e,type:n}=t;if(bA(e)){let c;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(d){return{type:We.error,error:d}}return n===We.error?{type:We.error,error:new xp(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:We.data,data:c,statusCode:e.status,headers:e.headers}}if(n===We.error){if(qS(e)){var r;if(e.data instanceof Error){var s;return{type:We.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status}}e=new xp(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:We.error,error:e,statusCode:Ud(e)?e.status:void 0}}if(Rz(e)){var i,o;return{type:We.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(qS(e)){var a,l;return{type:We.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:We.data,data:e}}function xz(t,e,n,r,s,i){let o=t.headers.get("Location");if(Re(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!a_.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=Hv(new URL(e.url),a,s,!0,o,i),t.headers.set("Location",o)}return t}function $S(t,e,n){if(a_.test(t)){let r=t,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),i=rc(s.pathname,n)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return t}function Aa(t,e,n,r){let s=t.createURL(SA(e)).toString(),i={signal:n};if(r&&Cr(r.formMethod)){let{formMethod:o,formEncType:a}=r;i.method=o.toUpperCase(),a==="application/json"?(i.headers=new Headers({"Content-Type":a}),i.body=JSON.stringify(r.json)):a==="text/plain"?i.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?i.body=Gv(r.formData):i.body=r.formData}return new Request(s,i)}function Gv(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function zS(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function Tz(t,e,n,r,s){let i={},o=null,a,l=!1,c={},d=n&&Bn(n[1])?n[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let f=h.route.id,g=e[f];if(Re(!Mo(g),"Cannot handle redirect results in processLoaderData"),Bn(g)){let w=g.error;d!==void 0&&(w=d,d=void 0),o=o||{};{let y=Ya(t,f);o[y.route.id]==null&&(o[y.route.id]=w)}i[f]=void 0,l||(l=!0,a=Ud(g.error)?g.error.status:500),g.headers&&(c[f]=g.headers)}else Ri(g)?(r.set(f,g.deferredData),i[f]=g.deferredData.data,g.statusCode!=null&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(c[f]=g.headers)):(i[f]=g.data,g.statusCode&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(c[f]=g.headers))}),d!==void 0&&n&&(o={[n[0]]:d},i[n[0]]=void 0),{loaderData:i,errors:o,statusCode:a||200,loaderHeaders:c}}function KS(t,e,n,r,s,i,o,a){let{loaderData:l,errors:c}=Tz(e,r,s,a);return i.forEach(d=>{let{key:h,match:f,controller:g}=d,w=o[h];if(Re(w,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(Bn(w)){let y=Ya(t.matches,f==null?void 0:f.route.id);c&&c[y.route.id]||(c=ct({},c,{[y.route.id]:w.error})),t.fetchers.delete(h)}else if(Mo(w))Re(!1,"Unhandled fetcher revalidation redirect");else if(Ri(w))Re(!1,"Unhandled fetcher deferred data");else{let y=si(w.data);t.fetchers.set(h,y)}}),{loaderData:l,errors:c}}function WS(t,e,n,r){let s=ct({},e);for(let i of n){let o=i.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(s[o]=e[o]):t[o]!==void 0&&i.route.loader&&(s[o]=t[o]),r&&r.hasOwnProperty(o))break}return s}function HS(t){return t?Bn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Ya(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function GS(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Sn(t,e){let{pathname:n,routeId:r,method:s,type:i,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):s&&n&&r?l="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",s&&n&&r?l="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(l='Invalid request method "'+s.toUpperCase()+'"')),new xp(t||500,a,new Error(l),!0)}function zh(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,s]=e[n];if(Mo(s))return{key:r,result:s}}}function SA(t){let e=typeof t=="string"?oo(t):t;return ra(ct({},e,{hash:""}))}function Sz(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function bz(t){return typeof t=="object"&&t!=null&&"then"in t}function Cz(t){return bA(t.result)&&lz.has(t.result.status)}function Ri(t){return t.type===We.deferred}function Bn(t){return t.type===We.error}function Mo(t){return(t&&t.type)===We.redirect}function qS(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Rz(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function bA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Pz(t){return az.has(t.toLowerCase())}function Cr(t){return iz.has(t.toLowerCase())}async function Iz(t,e,n,r,s){let i=Object.entries(e);for(let o=0;o<i.length;o++){let[a,l]=i[o],c=t.find(f=>(f==null?void 0:f.route.id)===a);if(!c)continue;let d=r.find(f=>f.route.id===c.route.id),h=d!=null&&!xA(d,c)&&(s&&s[c.route.id])!==void 0;Ri(l)&&h&&await l_(l,n,!1).then(f=>{f&&(e[a]=f)})}}async function Az(t,e,n){for(let r=0;r<n.length;r++){let{key:s,routeId:i,controller:o}=n[r],a=e[s];t.find(c=>(c==null?void 0:c.route.id)===i)&&Ri(a)&&(Re(o,"Expected an AbortController for revalidating fetcher deferred result"),await l_(a,o.signal,!0).then(c=>{c&&(e[s]=c)}))}}async function l_(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:We.data,data:t.deferredData.unwrappedData}}catch(s){return{type:We.error,error:s}}return{type:We.data,data:t.deferredData.data}}}function c_(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function eu(t,e){let n=typeof e=="string"?oo(e).search:e.search;if(t[t.length-1].route.index&&c_(n||""))return t[t.length-1];let r=wA(t);return r[r.length-1]}function QS(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:i,json:o}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function ly(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Nz(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function zc(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function kz(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function si(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Dz(t,e){try{let n=t.sessionStorage.getItem(EA);if(n){let r=JSON.parse(n);for(let[s,i]of Object.entries(r||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function Mz(t,e){if(e.size>0){let n={};for(let[r,s]of e)n[r]=[...s];try{t.sessionStorage.setItem(EA,JSON.stringify(n))}catch(r){Ul(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tp(){return Tp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tp.apply(this,arguments)}const Sm=m.createContext(null),CA=m.createContext(null),ao=m.createContext(null),u_=m.createContext(null),lo=m.createContext({outlet:null,matches:[],isDataRoute:!1}),RA=m.createContext(null);function Oz(t,e){let{relative:n}=e===void 0?{}:e;sc()||Re(!1);let{basename:r,navigator:s}=m.useContext(ao),{hash:i,pathname:o,search:a}=IA(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Rs([r,o])),s.createHref({pathname:l,search:a,hash:i})}function sc(){return m.useContext(u_)!=null}function Bd(){return sc()||Re(!1),m.useContext(u_).location}function PA(t){m.useContext(ao).static||m.useLayoutEffect(t)}function bm(){let{isDataRoute:t}=m.useContext(lo);return t?Hz():Lz()}function Lz(){sc()||Re(!1);let t=m.useContext(Sm),{basename:e,future:n,navigator:r}=m.useContext(ao),{matches:s}=m.useContext(lo),{pathname:i}=Bd(),o=JSON.stringify(xm(s,n.v7_relativeSplatPath)),a=m.useRef(!1);return PA(()=>{a.current=!0}),m.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=Tm(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Rs([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}function IA(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext(ao),{matches:s}=m.useContext(lo),{pathname:i}=Bd(),o=JSON.stringify(xm(s,r.v7_relativeSplatPath));return m.useMemo(()=>Tm(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function jz(t,e,n,r){sc()||Re(!1);let{navigator:s}=m.useContext(ao),{matches:i}=m.useContext(lo),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Bd(),d;d=c;let h=d.pathname||"/",f=h;if(l!=="/"){let y=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=Ao(t,{pathname:f});return $z(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Rs([l,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Rs([l,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r)}function Vz(){let t=kA(),e=Ud(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:s},n):null,null)}const Fz=m.createElement(Vz,null);class Uz extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(lo.Provider,{value:this.props.routeContext},m.createElement(RA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Bz(t){let{routeContext:e,match:n,children:r}=t,s=m.useContext(Sm);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(lo.Provider,{value:e},r)}function $z(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Re(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:g}=n,w=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let g,w=!1,y=null,T=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||Fz,l&&(c<0&&f===0?(Gz("route-fallback"),w=!0,T=null):c===f&&(w=!0,T=h.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,f+1)),E=()=>{let b;return g?b=y:w?b=T:h.route.Component?b=m.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=d,m.createElement(Bz,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?m.createElement(Uz,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:E(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):E()},null)}var AA=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(AA||{}),Sp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Sp||{});function zz(t){let e=m.useContext(Sm);return e||Re(!1),e}function Kz(t){let e=m.useContext(CA);return e||Re(!1),e}function Wz(t){let e=m.useContext(lo);return e||Re(!1),e}function NA(t){let e=Wz(),n=e.matches[e.matches.length-1];return n.route.id||Re(!1),n.route.id}function kA(){var t;let e=m.useContext(RA),n=Kz(Sp.UseRouteError),r=NA(Sp.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Hz(){let{router:t}=zz(AA.UseNavigateStable),e=NA(Sp.UseNavigateStable),n=m.useRef(!1);return PA(()=>{n.current=!0}),m.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Tp({fromRouteId:e},i)))},[t,e])}const YS={};function Gz(t,e,n){YS[t]||(YS[t]=!0)}function DA(t){let{to:e,replace:n,state:r,relative:s}=t;sc()||Re(!1);let{future:i,static:o}=m.useContext(ao),{matches:a}=m.useContext(lo),{pathname:l}=Bd(),c=bm(),d=Tm(e,xm(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return m.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function qz(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Dt.Pop,navigator:i,static:o=!1,future:a}=t;sc()&&Re(!1);let l=e.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:l,navigator:i,static:o,future:Tp({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=oo(r));let{pathname:d="/",search:h="",hash:f="",state:g=null,key:w="default"}=r,y=m.useMemo(()=>{let T=rc(d,l);return T==null?null:{location:{pathname:T,search:h,hash:f,state:g,key:w},navigationType:s}},[l,d,h,f,g,w,s]);return y==null?null:m.createElement(ao.Provider,{value:c},m.createElement(u_.Provider,{children:n,value:y}))}new Promise(()=>{});function Qz(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:m.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:m.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:m.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ju(){return Ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ju.apply(this,arguments)}function Yz(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Xz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Jz(t,e){return t.button===0&&(!e||e==="_self")&&!Xz(t)}const Zz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],e5="6";try{window.__reactRouterVersion=e5}catch{}function t5(t,e){return hz({basename:e==null?void 0:e.basename,future:Ju({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:L3({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||n5(),routes:t,mapRouteProperties:Qz,unstable_dataStrategy:e==null?void 0:e.unstable_dataStrategy,unstable_patchRoutesOnNavigation:e==null?void 0:e.unstable_patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function n5(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Ju({},e,{errors:r5(e.errors)})),e}function r5(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new xp(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let i=new Error(s.message);i.stack="",n[r]=i}}else n[r]=s;return n}const s5=m.createContext({isTransitioning:!1}),i5=m.createContext(new Map),o5="startTransition",XS=gP[o5],a5="flushSync",JS=IU[a5];function l5(t){XS?XS(t):t()}function Kc(t){JS?JS(t):t()}class c5{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function u5(t){let{fallbackElement:e,router:n,future:r}=t,[s,i]=m.useState(n.state),[o,a]=m.useState(),[l,c]=m.useState({isTransitioning:!1}),[d,h]=m.useState(),[f,g]=m.useState(),[w,y]=m.useState(),T=m.useRef(new Map),{v7_startTransition:x}=r||{},E=m.useCallback(_=>{x?l5(_):_()},[x]),b=m.useCallback((_,P)=>{let{deletedFetchers:A,unstable_flushSync:D,unstable_viewTransitionOpts:M}=P;A.forEach(W=>T.current.delete(W)),_.fetchers.forEach((W,pe)=>{W.data!==void 0&&T.current.set(pe,W.data)});let N=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!M||N){D?Kc(()=>i(_)):E(()=>i(_));return}if(D){Kc(()=>{f&&(d&&d.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:M.currentLocation,nextLocation:M.nextLocation})});let W=n.window.document.startViewTransition(()=>{Kc(()=>i(_))});W.finished.finally(()=>{Kc(()=>{h(void 0),g(void 0),a(void 0),c({isTransitioning:!1})})}),Kc(()=>g(W));return}f?(d&&d.resolve(),f.skipTransition(),y({state:_,currentLocation:M.currentLocation,nextLocation:M.nextLocation})):(a(_),c({isTransitioning:!0,flushSync:!1,currentLocation:M.currentLocation,nextLocation:M.nextLocation}))},[n.window,f,d,T,E]);m.useLayoutEffect(()=>n.subscribe(b),[n,b]),m.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new c5)},[l]),m.useEffect(()=>{if(d&&o&&n.window){let _=o,P=d.promise,A=n.window.document.startViewTransition(async()=>{E(()=>i(_)),await P});A.finished.finally(()=>{h(void 0),g(void 0),a(void 0),c({isTransitioning:!1})}),g(A)}},[E,o,d,n.window]),m.useEffect(()=>{d&&o&&s.location.key===o.location.key&&d.resolve()},[d,f,s.location,o]),m.useEffect(()=>{!l.isTransitioning&&w&&(a(w.state),c({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),y(void 0))},[l.isTransitioning,w]),m.useEffect(()=>{},[]);let C=m.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:_=>n.navigate(_),push:(_,P,A)=>n.navigate(_,{state:P,preventScrollReset:A==null?void 0:A.preventScrollReset}),replace:(_,P,A)=>n.navigate(_,{replace:!0,state:P,preventScrollReset:A==null?void 0:A.preventScrollReset})}),[n]),k=n.basename||"/",j=m.useMemo(()=>({router:n,navigator:C,static:!1,basename:k}),[n,C,k]),R=m.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return m.createElement(m.Fragment,null,m.createElement(Sm.Provider,{value:j},m.createElement(CA.Provider,{value:s},m.createElement(i5.Provider,{value:T.current},m.createElement(s5.Provider,{value:l},m.createElement(qz,{basename:k,location:s.location,navigationType:s.historyAction,navigator:C,future:R},s.initialized||n.future.v7_partialHydration?m.createElement(d5,{routes:n.routes,future:n.future,state:s}):e))))),null)}const d5=m.memo(h5);function h5(t){let{routes:e,future:n,state:r}=t;return jz(e,void 0,r,n)}const f5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",p5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,m5=m.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,unstable_viewTransition:h}=e,f=Yz(e,Zz),{basename:g}=m.useContext(ao),w,y=!1;if(typeof c=="string"&&p5.test(c)&&(w=c,f5))try{let b=new URL(window.location.href),C=c.startsWith("//")?new URL(b.protocol+c):new URL(c),k=rc(C.pathname,g);C.origin===b.origin&&k!=null?c=k+C.search+C.hash:y=!0}catch{}let T=Oz(c,{relative:s}),x=g5(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,unstable_viewTransition:h});function E(b){r&&r(b),b.defaultPrevented||x(b)}return m.createElement("a",Ju({},f,{href:w||T,onClick:y||i?r:E,ref:n,target:l}))});var ZS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ZS||(ZS={}));var eb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(eb||(eb={}));function g5(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=bm(),c=Bd(),d=IA(t,{relative:o});return m.useCallback(h=>{if(Jz(h,n)){h.preventDefault();let f=r!==void 0?r:ra(c)===ra(d);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[c,l,d,r,s,n,t,i,o,a])}const y5=()=>{const t=Fl(n=>n.isAuth),e=bm();m.useEffect(()=>{(async()=>{try{const r=r3();await BB(r),Mr("Sign in success")}catch{}})()},[]),m.useEffect(()=>{if(!t)return e("/login")},[t])};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MA=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var w5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>m.createElement("svg",{ref:l,...w5,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:MA("lucide",s),...a},[...o.map(([c,d])=>m.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=(t,e)=>{const n=m.forwardRef(({className:r,...s},i)=>m.createElement(_5,{ref:i,iconNode:e,className:MA(`lucide-${v5(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=Be("Blocks",[["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["path",{d:"M10 21V8a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H3",key:"1fpvtg"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=Be("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=Be("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=Be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5=Be("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=Be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=Be("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=Be("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=Be("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=Be("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=Be("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=Be("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=Be("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=Be("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=Be("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=Be("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=Be("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=Be("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=Be("PanelRight",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=Be("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=Be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=Be("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=Be("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=Be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=Be("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=Be("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=Be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=Be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=Be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=Be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Z(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function B5(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Pm(...t){return e=>t.forEach(n=>B5(n,e))}function Fe(...t){return m.useCallback(Pm(...t),t)}function $5(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=h=>{var x;const{scope:f,children:g,...w}=h,y=((x=f==null?void 0:f[t])==null?void 0:x[l])||a,T=m.useMemo(()=>w,Object.values(w));return p.jsx(y.Provider,{value:T,children:g})};c.displayName=i+"Provider";function d(h,f){var y;const g=((y=f==null?void 0:f[t])==null?void 0:y[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,z5(s,...e)]}function z5(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Pt(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function ic({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=K5({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Pt(n),l=m.useCallback(c=>{if(i){const h=typeof c=="function"?c(t):c;h!==t&&a(h)}else s(c)},[i,t,s,a]);return[o,l]}function K5({defaultProp:t,onChange:e}){const n=m.useState(t),[r]=n,s=m.useRef(r),i=Pt(e);return m.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var sa=m.forwardRef((t,e)=>{const{children:n,...r}=t,s=m.Children.toArray(n),i=s.find(W5);if(i){const o=i.props.children,a=s.map(l=>l===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:l);return p.jsx(qv,{...r,ref:e,children:m.isValidElement(o)?m.cloneElement(o,void 0,a):null})}return p.jsx(qv,{...r,ref:e,children:n})});sa.displayName="Slot";var qv=m.forwardRef((t,e)=>{const{children:n,...r}=t;if(m.isValidElement(n)){const s=G5(n);return m.cloneElement(n,{...H5(r,n.props),ref:e?Pm(e,s):s})}return m.Children.count(n)>1?m.Children.only(null):null});qv.displayName="SlotClone";var h_=({children:t})=>p.jsx(p.Fragment,{children:t});function W5(t){return m.isValidElement(t)&&t.type===h_}function H5(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function G5(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var q5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Te=q5.reduce((t,e)=>{const n=m.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?sa:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function oc(t,e){t&&pa.flushSync(()=>t.dispatchEvent(e))}function ac(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:f,children:g,...w}=h,y=(f==null?void 0:f[t][l])||a,T=m.useMemo(()=>w,Object.values(w));return p.jsx(y.Provider,{value:T,children:g})}function d(h,f){const g=(f==null?void 0:f[t][l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Q5(s,...e)]}function Q5(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function f_(t){const e=t+"CollectionProvider",[n,r]=ac(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:w,children:y}=g,T=Br.useRef(null),x=Br.useRef(new Map).current;return p.jsx(s,{scope:w,itemMap:x,collectionRef:T,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=Br.forwardRef((g,w)=>{const{scope:y,children:T}=g,x=i(a,y),E=Fe(w,x.collectionRef);return p.jsx(sa,{ref:E,children:T})});l.displayName=a;const c=t+"CollectionItemSlot",d="data-radix-collection-item",h=Br.forwardRef((g,w)=>{const{scope:y,children:T,...x}=g,E=Br.useRef(null),b=Fe(w,E),C=i(c,y);return Br.useEffect(()=>(C.itemMap.set(E,{ref:E,...x}),()=>void C.itemMap.delete(E))),p.jsx(sa,{[d]:"",ref:b,children:T})});h.displayName=c;function f(g){const w=i(t+"CollectionConsumer",g);return Br.useCallback(()=>{const T=w.collectionRef.current;if(!T)return[];const x=Array.from(T.querySelectorAll(`[${d}]`));return Array.from(w.itemMap.values()).sort((C,k)=>x.indexOf(C.ref.current)-x.indexOf(k.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},f,r]}function Y5(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=h=>{var x;const{scope:f,children:g,...w}=h,y=((x=f==null?void 0:f[t])==null?void 0:x[l])||a,T=m.useMemo(()=>w,Object.values(w));return p.jsx(y.Provider,{value:T,children:g})};c.displayName=i+"Provider";function d(h,f){var y;const g=((y=f==null?void 0:f[t])==null?void 0:y[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,X5(s,...e)]}function X5(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var J5=m.createContext(void 0);function p_(t){const e=m.useContext(J5);return t||e||"ltr"}function Im(t,e=globalThis==null?void 0:globalThis.document){const n=Pt(t);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Z5="DismissableLayer",Qv="dismissableLayer.update",e9="dismissableLayer.pointerDownOutside",t9="dismissableLayer.focusOutside",tb,BA=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$A=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(BA),[d,h]=m.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=Fe(e,R=>h(R)),y=Array.from(c.layers),[T]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=y.indexOf(T),E=d?y.indexOf(d):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,C=E>=x,k=s9(R=>{const _=R.target,P=[...c.branches].some(A=>A.contains(_));!C||P||(s==null||s(R),o==null||o(R),R.defaultPrevented||a==null||a())},f),j=i9(R=>{const _=R.target;[...c.branches].some(A=>A.contains(_))||(i==null||i(R),o==null||o(R),R.defaultPrevented||a==null||a())},f);return Im(R=>{E===c.layers.size-1&&(r==null||r(R),!R.defaultPrevented&&a&&(R.preventDefault(),a()))},f),m.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(tb=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),nb(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=tb)}},[d,f,n,c]),m.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),nb())},[d,c]),m.useEffect(()=>{const R=()=>g({});return document.addEventListener(Qv,R),()=>document.removeEventListener(Qv,R)},[]),p.jsx(Te.div,{...l,ref:w,style:{pointerEvents:b?C?"auto":"none":void 0,...t.style},onFocusCapture:Z(t.onFocusCapture,j.onFocusCapture),onBlurCapture:Z(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:Z(t.onPointerDownCapture,k.onPointerDownCapture)})});$A.displayName=Z5;var n9="DismissableLayerBranch",r9=m.forwardRef((t,e)=>{const n=m.useContext(BA),r=m.useRef(null),s=Fe(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),p.jsx(Te.div,{...t,ref:s})});r9.displayName=n9;function s9(t,e=globalThis==null?void 0:globalThis.document){const n=Pt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){zA(e9,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function i9(t,e=globalThis==null?void 0:globalThis.document){const n=Pt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&zA(t9,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function nb(){const t=new CustomEvent(Qv);document.dispatchEvent(t)}function zA(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?oc(s,i):s.dispatchEvent(i)}var cy=0;function KA(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??rb()),document.body.insertAdjacentElement("beforeend",t[1]??rb()),cy++,()=>{cy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),cy--}},[])}function rb(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var uy="focusScope.autoFocusOnMount",dy="focusScope.autoFocusOnUnmount",sb={bubbles:!1,cancelable:!0},o9="FocusScope",m_=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=m.useState(null),c=Pt(s),d=Pt(i),h=m.useRef(null),f=Fe(e,y=>l(y)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let y=function(b){if(g.paused||!a)return;const C=b.target;a.contains(C)?h.current=C:ii(h.current,{select:!0})},T=function(b){if(g.paused||!a)return;const C=b.relatedTarget;C!==null&&(a.contains(C)||ii(h.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const k of b)k.removedNodes.length>0&&ii(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",T);const E=new MutationObserver(x);return a&&E.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",T),E.disconnect()}}},[r,a,g.paused]),m.useEffect(()=>{if(a){ob.add(g);const y=document.activeElement;if(!a.contains(y)){const x=new CustomEvent(uy,sb);a.addEventListener(uy,c),a.dispatchEvent(x),x.defaultPrevented||(a9(h9(WA(a)),{select:!0}),document.activeElement===y&&ii(a))}return()=>{a.removeEventListener(uy,c),setTimeout(()=>{const x=new CustomEvent(dy,sb);a.addEventListener(dy,d),a.dispatchEvent(x),x.defaultPrevented||ii(y??document.body,{select:!0}),a.removeEventListener(dy,d),ob.remove(g)},0)}}},[a,c,d,g]);const w=m.useCallback(y=>{if(!n&&!r||g.paused)return;const T=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,x=document.activeElement;if(T&&x){const E=y.currentTarget,[b,C]=l9(E);b&&C?!y.shiftKey&&x===C?(y.preventDefault(),n&&ii(b,{select:!0})):y.shiftKey&&x===b&&(y.preventDefault(),n&&ii(C,{select:!0})):x===E&&y.preventDefault()}},[n,r,g.paused]);return p.jsx(Te.div,{tabIndex:-1,...o,ref:f,onKeyDown:w})});m_.displayName=o9;function a9(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ii(r,{select:e}),document.activeElement!==n)return}function l9(t){const e=WA(t),n=ib(e,t),r=ib(e.reverse(),t);return[n,r]}function WA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ib(t,e){for(const n of t)if(!c9(n,{upTo:e}))return n}function c9(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function u9(t){return t instanceof HTMLInputElement&&"select"in t}function ii(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&u9(t)&&e&&t.select()}}var ob=d9();function d9(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=ab(t,e),t.unshift(e)},remove(e){var n;t=ab(t,e),(n=t[0])==null||n.resume()}}}function ab(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function h9(t){return t.filter(e=>e.tagName!=="A")}var vn=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},f9=gP.useId||(()=>{}),p9=0;function Ui(t){const[e,n]=m.useState(f9());return vn(()=>{t||n(r=>r??String(p9++))},[t]),t||(e?`radix-${e}`:"")}const m9=["top","right","bottom","left"],qi=Math.min,$n=Math.max,Cp=Math.round,Kh=Math.floor,Qi=t=>({x:t,y:t}),g9={left:"right",right:"left",bottom:"top",top:"bottom"},y9={start:"end",end:"start"};function Yv(t,e,n){return $n(t,qi(e,n))}function Us(t,e){return typeof t=="function"?t(e):t}function Bs(t){return t.split("-")[0]}function lc(t){return t.split("-")[1]}function g_(t){return t==="x"?"y":"x"}function y_(t){return t==="y"?"height":"width"}function Yi(t){return["top","bottom"].includes(Bs(t))?"y":"x"}function v_(t){return g_(Yi(t))}function v9(t,e,n){n===void 0&&(n=!1);const r=lc(t),s=v_(t),i=y_(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Rp(o)),[o,Rp(o)]}function w9(t){const e=Rp(t);return[Xv(t),e,Xv(e)]}function Xv(t){return t.replace(/start|end/g,e=>y9[e])}function _9(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function E9(t,e,n,r){const s=lc(t);let i=_9(Bs(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Xv)))),i}function Rp(t){return t.replace(/left|right|bottom|top/g,e=>g9[e])}function x9(t){return{top:0,right:0,bottom:0,left:0,...t}}function HA(t){return typeof t!="number"?x9(t):{top:t,right:t,bottom:t,left:t}}function Pp(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function lb(t,e,n){let{reference:r,floating:s}=t;const i=Yi(e),o=v_(e),a=y_(o),l=Bs(e),c=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-s.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-s.width,y:h};break;default:g={x:r.x,y:r.y}}switch(lc(e)){case"start":g[o]-=f*(n&&c?-1:1);break;case"end":g[o]+=f*(n&&c?-1:1);break}return g}const T9=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=lb(c,r,l),f=r,g={},w=0;for(let y=0;y<a.length;y++){const{name:T,fn:x}=a[y],{x:E,y:b,data:C,reset:k}=await x({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});d=E??d,h=b??h,g={...g,[T]:{...g[T],...C}},k&&w<=50&&(w++,typeof k=="object"&&(k.placement&&(f=k.placement),k.rects&&(c=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):k.rects),{x:d,y:h}=lb(c,f,l)),y=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:g}};async function Zu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:g=0}=Us(e,t),w=HA(g),T=a[f?h==="floating"?"reference":"floating":h],x=Pp(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(T)))==null||n?T:T.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),E=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),C=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},k=Pp(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:b,strategy:l}):E);return{top:(x.top-k.top+w.top)/C.y,bottom:(k.bottom-x.bottom+w.bottom)/C.y,left:(x.left-k.left+w.left)/C.x,right:(k.right-x.right+w.right)/C.x}}const S9=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Us(t,e)||{};if(c==null)return{};const h=HA(d),f={x:n,y:r},g=v_(s),w=y_(g),y=await o.getDimensions(c),T=g==="y",x=T?"top":"left",E=T?"bottom":"right",b=T?"clientHeight":"clientWidth",C=i.reference[w]+i.reference[g]-f[g]-i.floating[w],k=f[g]-i.reference[g],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let R=j?j[b]:0;(!R||!await(o.isElement==null?void 0:o.isElement(j)))&&(R=a.floating[b]||i.floating[w]);const _=C/2-k/2,P=R/2-y[w]/2-1,A=qi(h[x],P),D=qi(h[E],P),M=A,N=R-y[w]-D,W=R/2-y[w]/2+_,pe=Yv(M,W,N),le=!l.arrow&&lc(s)!=null&&W!==pe&&i.reference[w]/2-(W<M?A:D)-y[w]/2<0,ie=le?W<M?W-M:W-N:0;return{[g]:f[g]+ie,data:{[g]:pe,centerOffset:W-pe-ie,...le&&{alignmentOffset:ie}},reset:le}}}),b9=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,...T}=Us(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Bs(s),E=Yi(a),b=Bs(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),k=f||(b||!y?[Rp(a)]:w9(a)),j=w!=="none";!f&&j&&k.push(...E9(a,y,w,C));const R=[a,...k],_=await Zu(e,T),P=[];let A=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&P.push(_[x]),h){const W=v9(s,o,C);P.push(_[W[0]],_[W[1]])}if(A=[...A,{placement:s,overflows:P}],!P.every(W=>W<=0)){var D,M;const W=(((D=i.flip)==null?void 0:D.index)||0)+1,pe=R[W];if(pe)return{data:{index:W,overflows:A},reset:{placement:pe}};let le=(M=A.filter(ie=>ie.overflows[0]<=0).sort((ie,z)=>ie.overflows[1]-z.overflows[1])[0])==null?void 0:M.placement;if(!le)switch(g){case"bestFit":{var N;const ie=(N=A.filter(z=>{if(j){const B=Yi(z.placement);return B===E||B==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(B=>B>0).reduce((B,X)=>B+X,0)]).sort((z,B)=>z[1]-B[1])[0])==null?void 0:N[0];ie&&(le=ie);break}case"initialPlacement":le=a;break}if(s!==le)return{reset:{placement:le}}}return{}}}};function cb(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function ub(t){return m9.some(e=>t[e]>=0)}const C9=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Us(t,e);switch(r){case"referenceHidden":{const i=await Zu(e,{...s,elementContext:"reference"}),o=cb(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:ub(o)}}}case"escaped":{const i=await Zu(e,{...s,altBoundary:!0}),o=cb(i,n.floating);return{data:{escapedOffsets:o,escaped:ub(o)}}}default:return{}}}}};async function R9(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Bs(n),a=lc(n),l=Yi(n)==="y",c=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,h=Us(e,t);let{mainAxis:f,crossAxis:g,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof w=="number"&&(g=a==="end"?w*-1:w),l?{x:g*d,y:f*c}:{x:f*c,y:g*d}}const P9=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await R9(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},I9=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:T=>{let{x,y:E}=T;return{x,y:E}}},...l}=Us(t,e),c={x:n,y:r},d=await Zu(e,l),h=Yi(Bs(s)),f=g_(h);let g=c[f],w=c[h];if(i){const T=f==="y"?"top":"left",x=f==="y"?"bottom":"right",E=g+d[T],b=g-d[x];g=Yv(E,g,b)}if(o){const T=h==="y"?"top":"left",x=h==="y"?"bottom":"right",E=w+d[T],b=w-d[x];w=Yv(E,w,b)}const y=a.fn({...e,[f]:g,[h]:w});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[f]:i,[h]:o}}}}}},A9=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Us(t,e),d={x:n,y:r},h=Yi(s),f=g_(h);let g=d[f],w=d[h];const y=Us(a,e),T=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const b=f==="y"?"height":"width",C=i.reference[f]-i.floating[b]+T.mainAxis,k=i.reference[f]+i.reference[b]-T.mainAxis;g<C?g=C:g>k&&(g=k)}if(c){var x,E;const b=f==="y"?"width":"height",C=["top","left"].includes(Bs(s)),k=i.reference[h]-i.floating[b]+(C&&((x=o.offset)==null?void 0:x[h])||0)+(C?0:T.crossAxis),j=i.reference[h]+i.reference[b]+(C?0:((E=o.offset)==null?void 0:E[h])||0)-(C?T.crossAxis:0);w<k?w=k:w>j&&(w=j)}return{[f]:g,[h]:w}}}},N9=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Us(t,e),d=await Zu(e,c),h=Bs(s),f=lc(s),g=Yi(s)==="y",{width:w,height:y}=i.floating;let T,x;h==="top"||h==="bottom"?(T=h,x=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=h,T=f==="end"?"top":"bottom");const E=y-d.top-d.bottom,b=w-d.left-d.right,C=qi(y-d[T],E),k=qi(w-d[x],b),j=!e.middlewareData.shift;let R=C,_=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(_=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(R=E),j&&!f){const A=$n(d.left,0),D=$n(d.right,0),M=$n(d.top,0),N=$n(d.bottom,0);g?_=w-2*(A!==0||D!==0?A+D:$n(d.left,d.right)):R=y-2*(M!==0||N!==0?M+N:$n(d.top,d.bottom))}await l({...e,availableWidth:_,availableHeight:R});const P=await o.getDimensions(a.floating);return w!==P.width||y!==P.height?{reset:{rects:!0}}:{}}}};function Am(){return typeof window<"u"}function cc(t){return GA(t)?(t.nodeName||"").toLowerCase():"#document"}function Hn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ls(t){var e;return(e=(GA(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function GA(t){return Am()?t instanceof Node||t instanceof Hn(t).Node:!1}function Or(t){return Am()?t instanceof Element||t instanceof Hn(t).Element:!1}function ss(t){return Am()?t instanceof HTMLElement||t instanceof Hn(t).HTMLElement:!1}function db(t){return!Am()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Hn(t).ShadowRoot}function $d(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Lr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function k9(t){return["table","td","th"].includes(cc(t))}function Nm(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function w_(t){const e=__(),n=Or(t)?Lr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function D9(t){let e=Xi(t);for(;ss(e)&&!Bl(e);){if(w_(e))return e;if(Nm(e))return null;e=Xi(e)}return null}function __(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Bl(t){return["html","body","#document"].includes(cc(t))}function Lr(t){return Hn(t).getComputedStyle(t)}function km(t){return Or(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Xi(t){if(cc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||db(t)&&t.host||ls(t);return db(e)?e.host:e}function qA(t){const e=Xi(t);return Bl(e)?t.ownerDocument?t.ownerDocument.body:t.body:ss(e)&&$d(e)?e:qA(e)}function ed(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=qA(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Hn(s);if(i){const a=Jv(o);return e.concat(o,o.visualViewport||[],$d(s)?s:[],a&&n?ed(a):[])}return e.concat(s,ed(s,[],n))}function Jv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function QA(t){const e=Lr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=ss(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Cp(n)!==i||Cp(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function E_(t){return Or(t)?t:t.contextElement}function dl(t){const e=E_(t);if(!ss(e))return Qi(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=QA(e);let o=(i?Cp(n.width):n.width)/r,a=(i?Cp(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const M9=Qi(0);function YA(t){const e=Hn(t);return!__()||!e.visualViewport?M9:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function O9(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Hn(t)?!1:e}function ia(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=E_(t);let o=Qi(1);e&&(r?Or(r)&&(o=dl(r)):o=dl(t));const a=O9(i,n,r)?YA(i):Qi(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const f=Hn(i),g=r&&Or(r)?Hn(r):r;let w=f,y=Jv(w);for(;y&&r&&g!==w;){const T=dl(y),x=y.getBoundingClientRect(),E=Lr(y),b=x.left+(y.clientLeft+parseFloat(E.paddingLeft))*T.x,C=x.top+(y.clientTop+parseFloat(E.paddingTop))*T.y;l*=T.x,c*=T.y,d*=T.x,h*=T.y,l+=b,c+=C,w=Hn(y),y=Jv(w)}}return Pp({width:d,height:h,x:l,y:c})}function L9(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=ls(r),a=e?Nm(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Qi(1);const d=Qi(0),h=ss(r);if((h||!h&&!i)&&((cc(r)!=="body"||$d(o))&&(l=km(r)),ss(r))){const f=ia(r);c=dl(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function j9(t){return Array.from(t.getClientRects())}function Zv(t,e){const n=km(t).scrollLeft;return e?e.left+n:ia(ls(t)).left+n}function V9(t){const e=ls(t),n=km(t),r=t.ownerDocument.body,s=$n(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=$n(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Zv(t);const a=-n.scrollTop;return Lr(r).direction==="rtl"&&(o+=$n(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function F9(t,e){const n=Hn(t),r=ls(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=__();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function U9(t,e){const n=ia(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=ss(t)?dl(t):Qi(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function hb(t,e,n){let r;if(e==="viewport")r=F9(t,n);else if(e==="document")r=V9(ls(t));else if(Or(e))r=U9(e,n);else{const s=YA(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return Pp(r)}function XA(t,e){const n=Xi(t);return n===e||!Or(n)||Bl(n)?!1:Lr(n).position==="fixed"||XA(n,e)}function B9(t,e){const n=e.get(t);if(n)return n;let r=ed(t,[],!1).filter(a=>Or(a)&&cc(a)!=="body"),s=null;const i=Lr(t).position==="fixed";let o=i?Xi(t):t;for(;Or(o)&&!Bl(o);){const a=Lr(o),l=w_(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||$d(o)&&!l&&XA(t,o))?r=r.filter(d=>d!==o):s=a,o=Xi(o)}return e.set(t,r),r}function $9(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Nm(e)?[]:B9(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const h=hb(e,d,s);return c.top=$n(h.top,c.top),c.right=qi(h.right,c.right),c.bottom=qi(h.bottom,c.bottom),c.left=$n(h.left,c.left),c},hb(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function z9(t){const{width:e,height:n}=QA(t);return{width:e,height:n}}function K9(t,e,n){const r=ss(e),s=ls(e),i=n==="fixed",o=ia(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Qi(0);if(r||!r&&!i)if((cc(e)!=="body"||$d(s))&&(a=km(e)),r){const g=ia(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&(l.x=Zv(s));let c=0,d=0;if(s&&!r&&!i){const g=s.getBoundingClientRect();d=g.top+a.scrollTop,c=g.left+a.scrollLeft-Zv(s,g)}const h=o.left+a.scrollLeft-l.x-c,f=o.top+a.scrollTop-l.y-d;return{x:h,y:f,width:o.width,height:o.height}}function hy(t){return Lr(t).position==="static"}function fb(t,e){if(!ss(t)||Lr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ls(t)===n&&(n=n.ownerDocument.body),n}function JA(t,e){const n=Hn(t);if(Nm(t))return n;if(!ss(t)){let s=Xi(t);for(;s&&!Bl(s);){if(Or(s)&&!hy(s))return s;s=Xi(s)}return n}let r=fb(t,e);for(;r&&k9(r)&&hy(r);)r=fb(r,e);return r&&Bl(r)&&hy(r)&&!w_(r)?n:r||D9(t)||n}const W9=async function(t){const e=this.getOffsetParent||JA,n=this.getDimensions,r=await n(t.floating);return{reference:K9(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function H9(t){return Lr(t).direction==="rtl"}const G9={convertOffsetParentRelativeRectToViewportRelativeRect:L9,getDocumentElement:ls,getClippingRect:$9,getOffsetParent:JA,getElementRects:W9,getClientRects:j9,getDimensions:z9,getScale:dl,isElement:Or,isRTL:H9};function q9(t,e){let n=null,r;const s=ls(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:d,width:h,height:f}=t.getBoundingClientRect();if(a||e(),!h||!f)return;const g=Kh(d),w=Kh(s.clientWidth-(c+h)),y=Kh(s.clientHeight-(d+f)),T=Kh(c),E={rootMargin:-g+"px "+-w+"px "+-y+"px "+-T+"px",threshold:$n(0,qi(1,l))||1};let b=!0;function C(k){const j=k[0].intersectionRatio;if(j!==l){if(!b)return o();j?o(!1,j):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(C,{...E,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,E)}n.observe(t)}return o(!0),i}function Q9(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=E_(t),d=s||i?[...c?ed(c):[],...ed(e)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const h=c&&a?q9(c,n):null;let f=-1,g=null;o&&(g=new ResizeObserver(x=>{let[E]=x;E&&E.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let w,y=l?ia(t):null;l&&T();function T(){const x=ia(t);y&&(x.x!==y.x||x.y!==y.y||x.width!==y.width||x.height!==y.height)&&n(),y=x,w=requestAnimationFrame(T)}return n(),()=>{var x;d.forEach(E=>{s&&E.removeEventListener("scroll",n),i&&E.removeEventListener("resize",n)}),h==null||h(),(x=g)==null||x.disconnect(),g=null,l&&cancelAnimationFrame(w)}}const Y9=P9,X9=I9,J9=b9,Z9=N9,e6=C9,pb=S9,t6=A9,n6=(t,e,n)=>{const r=new Map,s={platform:G9,...n},i={...s.platform,_c:r};return T9(t,e,{...s,platform:i})};var If=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Ip(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ip(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Ip(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function ZA(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function mb(t,e){const n=ZA(t);return Math.round(e*n)/n}function fy(t){const e=m.useRef(t);return If(()=>{e.current=t}),e}function r6(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,h]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,g]=m.useState(r);Ip(f,r)||g(r);const[w,y]=m.useState(null),[T,x]=m.useState(null),E=m.useCallback(z=>{z!==j.current&&(j.current=z,y(z))},[]),b=m.useCallback(z=>{z!==R.current&&(R.current=z,x(z))},[]),C=i||w,k=o||T,j=m.useRef(null),R=m.useRef(null),_=m.useRef(d),P=l!=null,A=fy(l),D=fy(s),M=fy(c),N=m.useCallback(()=>{if(!j.current||!R.current)return;const z={placement:e,strategy:n,middleware:f};D.current&&(z.platform=D.current),n6(j.current,R.current,z).then(B=>{const X={...B,isPositioned:M.current!==!1};W.current&&!Ip(_.current,X)&&(_.current=X,pa.flushSync(()=>{h(X)}))})},[f,e,n,D,M]);If(()=>{c===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,h(z=>({...z,isPositioned:!1})))},[c]);const W=m.useRef(!1);If(()=>(W.current=!0,()=>{W.current=!1}),[]),If(()=>{if(C&&(j.current=C),k&&(R.current=k),C&&k){if(A.current)return A.current(C,k,N);N()}},[C,k,N,A,P]);const pe=m.useMemo(()=>({reference:j,floating:R,setReference:E,setFloating:b}),[E,b]),le=m.useMemo(()=>({reference:C,floating:k}),[C,k]),ie=m.useMemo(()=>{const z={position:n,left:0,top:0};if(!le.floating)return z;const B=mb(le.floating,d.x),X=mb(le.floating,d.y);return a?{...z,transform:"translate("+B+"px, "+X+"px)",...ZA(le.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:X}},[n,a,le.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:N,refs:pe,elements:le,floatingStyles:ie}),[d,N,pe,le,ie])}const s6=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?pb({element:r.current,padding:s}).fn(n):{}:r?pb({element:r,padding:s}).fn(n):{}}}},i6=(t,e)=>({...Y9(t),options:[t,e]}),o6=(t,e)=>({...X9(t),options:[t,e]}),a6=(t,e)=>({...t6(t),options:[t,e]}),l6=(t,e)=>({...J9(t),options:[t,e]}),c6=(t,e)=>({...Z9(t),options:[t,e]}),u6=(t,e)=>({...e6(t),options:[t,e]}),d6=(t,e)=>({...s6(t),options:[t,e]});var h6="Arrow",eN=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return p.jsx(Te.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});eN.displayName=h6;var f6=eN;function p6(t){const[e,n]=m.useState(void 0);return vn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var x_="Popper",[tN,Dm]=ac(x_),[m6,nN]=tN(x_),rN=t=>{const{__scopePopper:e,children:n}=t,[r,s]=m.useState(null);return p.jsx(m6,{scope:e,anchor:r,onAnchorChange:s,children:n})};rN.displayName=x_;var sN="PopperAnchor",iN=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=nN(sN,n),o=m.useRef(null),a=Fe(e,o);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:p.jsx(Te.div,{...s,ref:a})});iN.displayName=sN;var T_="PopperContent",[g6,y6]=tN(T_),oN=m.forwardRef((t,e)=>{var Ge,wn,en,_n,cs,Gs;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:g="optimized",onPlaced:w,...y}=t,T=nN(T_,n),[x,E]=m.useState(null),b=Fe(e,mr=>E(mr)),[C,k]=m.useState(null),j=p6(C),R=(j==null?void 0:j.width)??0,_=(j==null?void 0:j.height)??0,P=r+(i!=="center"?"-"+i:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(c)?c:[c],M=D.length>0,N={padding:A,boundary:D.filter(w6),altBoundary:M},{refs:W,floatingStyles:pe,placement:le,isPositioned:ie,middlewareData:z}=r6({strategy:"fixed",placement:P,whileElementsMounted:(...mr)=>Q9(...mr,{animationFrame:g==="always"}),elements:{reference:T.anchor},middleware:[i6({mainAxis:s+_,alignmentAxis:o}),l&&o6({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?a6():void 0,...N}),l&&l6({...N}),c6({...N,apply:({elements:mr,rects:mt,availableWidth:Jn,availableHeight:ho})=>{const{width:vc,height:gr}=mt.reference,us=mr.floating.style;us.setProperty("--radix-popper-available-width",`${Jn}px`),us.setProperty("--radix-popper-available-height",`${ho}px`),us.setProperty("--radix-popper-anchor-width",`${vc}px`),us.setProperty("--radix-popper-anchor-height",`${gr}px`)}}),C&&d6({element:C,padding:a}),_6({arrowWidth:R,arrowHeight:_}),f&&u6({strategy:"referenceHidden",...N})]}),[B,X]=cN(le),ue=Pt(w);vn(()=>{ie&&(ue==null||ue())},[ie,ue]);const ge=(Ge=z.arrow)==null?void 0:Ge.x,Se=(wn=z.arrow)==null?void 0:wn.y,Ze=((en=z.arrow)==null?void 0:en.centerOffset)!==0,[It,He]=m.useState();return vn(()=>{x&&He(window.getComputedStyle(x).zIndex)},[x]),p.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...pe,transform:ie?pe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:It,"--radix-popper-transform-origin":[(_n=z.transformOrigin)==null?void 0:_n.x,(cs=z.transformOrigin)==null?void 0:cs.y].join(" "),...((Gs=z.hide)==null?void 0:Gs.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(g6,{scope:n,placedSide:B,onArrowChange:k,arrowX:ge,arrowY:Se,shouldHideArrow:Ze,children:p.jsx(Te.div,{"data-side":B,"data-align":X,...y,ref:b,style:{...y.style,animation:ie?void 0:"none"}})})})});oN.displayName=T_;var aN="PopperArrow",v6={top:"bottom",right:"left",bottom:"top",left:"right"},lN=m.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=y6(aN,r),o=v6[i.placedSide];return p.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:p.jsx(f6,{...s,ref:n,style:{...s.style,display:"block"}})})});lN.displayName=aN;function w6(t){return t!==null}var _6=t=>({name:"transformOrigin",options:t,fn(e){var T,x,E;const{placement:n,rects:r,middlewareData:s}=e,o=((T=s.arrow)==null?void 0:T.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=cN(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((x=s.arrow)==null?void 0:x.x)??0)+a/2,g=(((E=s.arrow)==null?void 0:E.y)??0)+l/2;let w="",y="";return c==="bottom"?(w=o?h:`${f}px`,y=`${-l}px`):c==="top"?(w=o?h:`${f}px`,y=`${r.floating.height+l}px`):c==="right"?(w=`${-l}px`,y=o?h:`${g}px`):c==="left"&&(w=`${r.floating.width+l}px`,y=o?h:`${g}px`),{data:{x:w,y}}}});function cN(t){const[e,n="center"]=t.split("-");return[e,n]}var uN=rN,dN=iN,hN=oN,fN=lN,E6="Portal",pN=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);vn(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?pm.createPortal(p.jsx(Te.div,{...r,ref:e}),o):null});pN.displayName=E6;function x6(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var zd=t=>{const{present:e,children:n}=t,r=T6(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=Fe(r.ref,S6(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};zd.displayName="Presence";function T6(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=x6(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Wh(r.current);i.current=a==="mounted"?c:"none"},[a]),vn(()=>{const c=r.current,d=s.current;if(d!==t){const f=i.current,g=Wh(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&f!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),vn(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=g=>{const y=Wh(r.current).includes(g.animationName);if(g.target===e&&y&&(l("ANIMATION_END"),!s.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},f=g=>{g.target===e&&(i.current=Wh(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Wh(t){return(t==null?void 0:t.animationName)||"none"}function S6(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var py="rovingFocusGroup.onEntryFocus",b6={bubbles:!1,cancelable:!0},Mm="RovingFocusGroup",[ew,mN,C6]=f_(Mm),[R6,Om]=ac(Mm,[C6]),[P6,I6]=R6(Mm),gN=m.forwardRef((t,e)=>p.jsx(ew.Provider,{scope:t.__scopeRovingFocusGroup,children:p.jsx(ew.Slot,{scope:t.__scopeRovingFocusGroup,children:p.jsx(A6,{...t,ref:e})})}));gN.displayName=Mm;var A6=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...h}=t,f=m.useRef(null),g=Fe(e,f),w=p_(i),[y=null,T]=ic({prop:o,defaultProp:a,onChange:l}),[x,E]=m.useState(!1),b=Pt(c),C=mN(n),k=m.useRef(!1),[j,R]=m.useState(0);return m.useEffect(()=>{const _=f.current;if(_)return _.addEventListener(py,b),()=>_.removeEventListener(py,b)},[b]),p.jsx(P6,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:y,onItemFocus:m.useCallback(_=>T(_),[T]),onItemShiftTab:m.useCallback(()=>E(!0),[]),onFocusableItemAdd:m.useCallback(()=>R(_=>_+1),[]),onFocusableItemRemove:m.useCallback(()=>R(_=>_-1),[]),children:p.jsx(Te.div,{tabIndex:x||j===0?-1:0,"data-orientation":r,...h,ref:g,style:{outline:"none",...t.style},onMouseDown:Z(t.onMouseDown,()=>{k.current=!0}),onFocus:Z(t.onFocus,_=>{const P=!k.current;if(_.target===_.currentTarget&&P&&!x){const A=new CustomEvent(py,b6);if(_.currentTarget.dispatchEvent(A),!A.defaultPrevented){const D=C().filter(le=>le.focusable),M=D.find(le=>le.active),N=D.find(le=>le.id===y),pe=[M,N,...D].filter(Boolean).map(le=>le.ref.current);wN(pe,d)}}k.current=!1}),onBlur:Z(t.onBlur,()=>E(!1))})})}),yN="RovingFocusGroupItem",vN=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Ui(),l=i||a,c=I6(yN,n),d=c.currentTabStopId===l,h=mN(n),{onFocusableItemAdd:f,onFocusableItemRemove:g}=c;return m.useEffect(()=>{if(r)return f(),()=>g()},[r,f,g]),p.jsx(ew.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:p.jsx(Te.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:Z(t.onMouseDown,w=>{r?c.onItemFocus(l):w.preventDefault()}),onFocus:Z(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:Z(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){c.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const y=D6(w,c.orientation,c.dir);if(y!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let x=h().filter(E=>E.focusable).map(E=>E.ref.current);if(y==="last")x.reverse();else if(y==="prev"||y==="next"){y==="prev"&&x.reverse();const E=x.indexOf(w.currentTarget);x=c.loop?M6(x,E+1):x.slice(E+1)}setTimeout(()=>wN(x))}})})})});vN.displayName=yN;var N6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function k6(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function D6(t,e,n){const r=k6(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return N6[r]}function wN(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function M6(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var _N=gN,EN=vN,O6=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Na=new WeakMap,Hh=new WeakMap,Gh={},my=0,xN=function(t){return t&&(t.host||xN(t.parentNode))},L6=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=xN(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},j6=function(t,e,n,r){var s=L6(e,Array.isArray(t)?t:[t]);Gh[n]||(Gh[n]=new WeakMap);var i=Gh[n],o=[],a=new Set,l=new Set(s),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};s.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))d(f);else try{var g=f.getAttribute(r),w=g!==null&&g!=="false",y=(Na.get(f)||0)+1,T=(i.get(f)||0)+1;Na.set(f,y),i.set(f,T),o.push(f),y===1&&w&&Hh.set(f,!0),T===1&&f.setAttribute(n,"true"),w||f.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",f,x)}})};return d(e),a.clear(),my++,function(){o.forEach(function(h){var f=Na.get(h)-1,g=i.get(h)-1;Na.set(h,f),i.set(h,g),f||(Hh.has(h)||h.removeAttribute(r),Hh.delete(h)),g||h.removeAttribute(n)}),my--,my||(Na=new WeakMap,Na=new WeakMap,Hh=new WeakMap,Gh={})}},TN=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=O6(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),j6(r,s,n,"aria-hidden")):function(){return null}},Af="right-scroll-bar-position",Nf="width-before-scroll-bar",V6="with-scroll-bars-hidden",F6="--removed-body-scroll-bar-size";function gy(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function U6(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var B6=typeof window<"u"?m.useLayoutEffect:m.useEffect,gb=new WeakMap;function $6(t,e){var n=U6(null,function(r){return t.forEach(function(s){return gy(s,r)})});return B6(function(){var r=gb.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||gy(a,null)}),i.forEach(function(a){s.has(a)||gy(a,o)})}gb.set(n,t)},[t]),n}function z6(t){return t}function K6(t,e){e===void 0&&(e=z6);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function W6(t){t===void 0&&(t={});var e=K6(null);return e.options=Gr({async:!0,ssr:!1},t),e}var SN=function(t){var e=t.sideCar,n=Ld(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,Gr({},n))};SN.isSideCarExport=!0;function H6(t,e){return t.useMedium(e),SN}var bN=W6(),yy=function(){},Lm=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:yy,onWheelCapture:yy,onTouchMoveCapture:yy}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,g=t.noIsolation,w=t.inert,y=t.allowPinchZoom,T=t.as,x=T===void 0?"div":T,E=t.gapMode,b=Ld(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=f,k=$6([n,e]),j=Gr(Gr({},b),s);return m.createElement(m.Fragment,null,d&&m.createElement(C,{sideCar:bN,removeScrollBar:c,shards:h,noIsolation:g,inert:w,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:E}),o?m.cloneElement(m.Children.only(a),Gr(Gr({},j),{ref:k})):m.createElement(x,Gr({},j,{className:l,ref:k}),a))});Lm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Lm.classNames={fullWidth:Nf,zeroRight:Af};var G6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function q6(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=G6();return e&&t.setAttribute("nonce",e),t}function Q6(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Y6(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var X6=function(){var t=0,e=null;return{add:function(n){t==0&&(e=q6())&&(Q6(e,n),Y6(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},J6=function(){var t=X6();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},CN=function(){var t=J6(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},Z6={left:0,top:0,right:0,gap:0},vy=function(t){return parseInt(t||"",10)||0},eK=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[vy(n),vy(r),vy(s)]},tK=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Z6;var e=eK(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},nK=CN(),hl="data-scroll-locked",rK=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(V6,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(hl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Af,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Nf,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Af," .").concat(Af,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Nf," .").concat(Nf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(hl,`] {
    `).concat(F6,": ").concat(a,`px;
  }
`)},yb=function(){var t=parseInt(document.body.getAttribute(hl)||"0",10);return isFinite(t)?t:0},sK=function(){m.useEffect(function(){return document.body.setAttribute(hl,(yb()+1).toString()),function(){var t=yb()-1;t<=0?document.body.removeAttribute(hl):document.body.setAttribute(hl,t.toString())}},[])},iK=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;sK();var i=m.useMemo(function(){return tK(s)},[s]);return m.createElement(nK,{styles:rK(i,!e,s,n?"":"!important")})},tw=!1;if(typeof window<"u")try{var qh=Object.defineProperty({},"passive",{get:function(){return tw=!0,!0}});window.addEventListener("test",qh,qh),window.removeEventListener("test",qh,qh)}catch{tw=!1}var ka=tw?{passive:!1}:!1,oK=function(t){return t.tagName==="TEXTAREA"},RN=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!oK(t)&&n[e]==="visible")},aK=function(t){return RN(t,"overflowY")},lK=function(t){return RN(t,"overflowX")},vb=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=PN(t,r);if(s){var i=IN(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},cK=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},uK=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},PN=function(t,e){return t==="v"?aK(e):lK(e)},IN=function(t,e){return t==="v"?cK(e):uK(e)},dK=function(t,e){return t==="h"&&e==="rtl"?-1:1},hK=function(t,e,n,r,s){var i=dK(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,h=0,f=0;do{var g=IN(t,a),w=g[0],y=g[1],T=g[2],x=y-T-i*w;(w||x)&&PN(t,a)&&(h+=x,f+=w),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(f)<1||!s))&&(c=!0),c},Qh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},wb=function(t){return[t.deltaX,t.deltaY]},_b=function(t){return t&&"current"in t?t.current:t},fK=function(t,e){return t[0]===e[0]&&t[1]===e[1]},pK=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},mK=0,Da=[];function gK(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(mK++)[0],i=m.useState(CN)[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=oB([t.lockRef.current],(t.shards||[]).map(_b),!0).filter(Boolean);return y.forEach(function(T){return T.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(y,T){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var x=Qh(y),E=n.current,b="deltaX"in y?y.deltaX:E[0]-x[0],C="deltaY"in y?y.deltaY:E[1]-x[1],k,j=y.target,R=Math.abs(b)>Math.abs(C)?"h":"v";if("touches"in y&&R==="h"&&j.type==="range")return!1;var _=vb(R,j);if(!_)return!0;if(_?k=R:(k=R==="v"?"h":"v",_=vb(R,j)),!_)return!1;if(!r.current&&"changedTouches"in y&&(b||C)&&(r.current=k),!k)return!0;var P=r.current||k;return hK(P,T,y,P==="h"?b:C,!0)},[]),l=m.useCallback(function(y){var T=y;if(!(!Da.length||Da[Da.length-1]!==i)){var x="deltaY"in T?wb(T):Qh(T),E=e.current.filter(function(k){return k.name===T.type&&(k.target===T.target||T.target===k.shadowParent)&&fK(k.delta,x)})[0];if(E&&E.should){T.cancelable&&T.preventDefault();return}if(!E){var b=(o.current.shards||[]).map(_b).filter(Boolean).filter(function(k){return k.contains(T.target)}),C=b.length>0?a(T,b[0]):!o.current.noIsolation;C&&T.cancelable&&T.preventDefault()}}},[]),c=m.useCallback(function(y,T,x,E){var b={name:y,delta:T,target:x,should:E,shadowParent:yK(x)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(C){return C!==b})},1)},[]),d=m.useCallback(function(y){n.current=Qh(y),r.current=void 0},[]),h=m.useCallback(function(y){c(y.type,wb(y),y.target,a(y,t.lockRef.current))},[]),f=m.useCallback(function(y){c(y.type,Qh(y),y.target,a(y,t.lockRef.current))},[]);m.useEffect(function(){return Da.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,ka),document.addEventListener("touchmove",l,ka),document.addEventListener("touchstart",d,ka),function(){Da=Da.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,ka),document.removeEventListener("touchmove",l,ka),document.removeEventListener("touchstart",d,ka)}},[]);var g=t.removeScrollBar,w=t.inert;return m.createElement(m.Fragment,null,w?m.createElement(i,{styles:pK(s)}):null,g?m.createElement(iK,{gapMode:t.gapMode}):null)}function yK(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const vK=H6(bN,gK);var S_=m.forwardRef(function(t,e){return m.createElement(Lm,Gr({},t,{ref:e,sideCar:vK}))});S_.classNames=Lm.classNames;var nw=["Enter"," "],wK=["ArrowDown","PageUp","Home"],AN=["ArrowUp","PageDown","End"],_K=[...wK,...AN],EK={ltr:[...nw,"ArrowRight"],rtl:[...nw,"ArrowLeft"]},xK={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Kd="Menu",[td,TK,SK]=f_(Kd),[ya,NN]=Y5(Kd,[SK,Dm,Om]),jm=Dm(),kN=Om(),[bK,va]=ya(Kd),[CK,Wd]=ya(Kd),DN=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=jm(e),[l,c]=m.useState(null),d=m.useRef(!1),h=Pt(i),f=p_(s);return m.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),p.jsx(uN,{...a,children:p.jsx(bK,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:c,children:p.jsx(CK,{scope:e,onClose:m.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:o,children:r})})})};DN.displayName=Kd;var RK="MenuAnchor",b_=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=jm(n);return p.jsx(dN,{...s,...r,ref:e})});b_.displayName=RK;var C_="MenuPortal",[PK,MN]=ya(C_,{forceMount:void 0}),ON=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=va(C_,e);return p.jsx(PK,{scope:e,forceMount:n,children:p.jsx(zd,{present:n||i.open,children:p.jsx(pN,{asChild:!0,container:s,children:r})})})};ON.displayName=C_;var dr="MenuContent",[IK,R_]=ya(dr),LN=m.forwardRef((t,e)=>{const n=MN(dr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=va(dr,t.__scopeMenu),o=Wd(dr,t.__scopeMenu);return p.jsx(td.Provider,{scope:t.__scopeMenu,children:p.jsx(zd,{present:r||i.open,children:p.jsx(td.Slot,{scope:t.__scopeMenu,children:o.modal?p.jsx(AK,{...s,ref:e}):p.jsx(NK,{...s,ref:e})})})})}),AK=m.forwardRef((t,e)=>{const n=va(dr,t.__scopeMenu),r=m.useRef(null),s=Fe(e,r);return m.useEffect(()=>{const i=r.current;if(i)return TN(i)},[]),p.jsx(P_,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Z(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),NK=m.forwardRef((t,e)=>{const n=va(dr,t.__scopeMenu);return p.jsx(P_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),P_=m.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:g,disableOutsideScroll:w,...y}=t,T=va(dr,n),x=Wd(dr,n),E=jm(n),b=kN(n),C=TK(n),[k,j]=m.useState(null),R=m.useRef(null),_=Fe(e,R,T.onContentChange),P=m.useRef(0),A=m.useRef(""),D=m.useRef(0),M=m.useRef(null),N=m.useRef("right"),W=m.useRef(0),pe=w?S_:m.Fragment,le=w?{as:sa,allowPinchZoom:!0}:void 0,ie=B=>{var Ge,wn;const X=A.current+B,ue=C().filter(en=>!en.disabled),ge=document.activeElement,Se=(Ge=ue.find(en=>en.ref.current===ge))==null?void 0:Ge.textValue,Ze=ue.map(en=>en.textValue),It=zK(Ze,X,Se),He=(wn=ue.find(en=>en.textValue===It))==null?void 0:wn.ref.current;(function en(_n){A.current=_n,window.clearTimeout(P.current),_n!==""&&(P.current=window.setTimeout(()=>en(""),1e3))})(X),He&&setTimeout(()=>He.focus())};m.useEffect(()=>()=>window.clearTimeout(P.current),[]),KA();const z=m.useCallback(B=>{var ue,ge;return N.current===((ue=M.current)==null?void 0:ue.side)&&WK(B,(ge=M.current)==null?void 0:ge.area)},[]);return p.jsx(IK,{scope:n,searchRef:A,onItemEnter:m.useCallback(B=>{z(B)&&B.preventDefault()},[z]),onItemLeave:m.useCallback(B=>{var X;z(B)||((X=R.current)==null||X.focus(),j(null))},[z]),onTriggerLeave:m.useCallback(B=>{z(B)&&B.preventDefault()},[z]),pointerGraceTimerRef:D,onPointerGraceIntentChange:m.useCallback(B=>{M.current=B},[]),children:p.jsx(pe,{...le,children:p.jsx(m_,{asChild:!0,trapped:s,onMountAutoFocus:Z(i,B=>{var X;B.preventDefault(),(X=R.current)==null||X.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:p.jsx($A,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:g,children:p.jsx(_N,{asChild:!0,...b,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:k,onCurrentTabStopIdChange:j,onEntryFocus:Z(l,B=>{x.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:p.jsx(hN,{role:"menu","aria-orientation":"vertical","data-state":JN(T.open),"data-radix-menu-content":"",dir:x.dir,...E,...y,ref:_,style:{outline:"none",...y.style},onKeyDown:Z(y.onKeyDown,B=>{const ue=B.target.closest("[data-radix-menu-content]")===B.currentTarget,ge=B.ctrlKey||B.altKey||B.metaKey,Se=B.key.length===1;ue&&(B.key==="Tab"&&B.preventDefault(),!ge&&Se&&ie(B.key));const Ze=R.current;if(B.target!==Ze||!_K.includes(B.key))return;B.preventDefault();const He=C().filter(Ge=>!Ge.disabled).map(Ge=>Ge.ref.current);AN.includes(B.key)&&He.reverse(),BK(He)}),onBlur:Z(t.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(P.current),A.current="")}),onPointerMove:Z(t.onPointerMove,nd(B=>{const X=B.target,ue=W.current!==B.clientX;if(B.currentTarget.contains(X)&&ue){const ge=B.clientX>W.current?"right":"left";N.current=ge,W.current=B.clientX}}))})})})})})})});LN.displayName=dr;var kK="MenuGroup",I_=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx(Te.div,{role:"group",...r,ref:e})});I_.displayName=kK;var DK="MenuLabel",jN=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx(Te.div,{...r,ref:e})});jN.displayName=DK;var Ap="MenuItem",Eb="menu.itemSelect",Vm=m.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=m.useRef(null),o=Wd(Ap,t.__scopeMenu),a=R_(Ap,t.__scopeMenu),l=Fe(e,i),c=m.useRef(!1),d=()=>{const h=i.current;if(!n&&h){const f=new CustomEvent(Eb,{bubbles:!0,cancelable:!0});h.addEventListener(Eb,g=>r==null?void 0:r(g),{once:!0}),oc(h,f),f.defaultPrevented?c.current=!1:o.onClose()}};return p.jsx(VN,{...s,ref:l,disabled:n,onClick:Z(t.onClick,d),onPointerDown:h=>{var f;(f=t.onPointerDown)==null||f.call(t,h),c.current=!0},onPointerUp:Z(t.onPointerUp,h=>{var f;c.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:Z(t.onKeyDown,h=>{const f=a.searchRef.current!=="";n||f&&h.key===" "||nw.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Vm.displayName=Ap;var VN=m.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=R_(Ap,n),a=kN(n),l=m.useRef(null),c=Fe(e,l),[d,h]=m.useState(!1),[f,g]=m.useState("");return m.useEffect(()=>{const w=l.current;w&&g((w.textContent??"").trim())},[i.children]),p.jsx(td.ItemSlot,{scope:n,disabled:r,textValue:s??f,children:p.jsx(EN,{asChild:!0,...a,focusable:!r,children:p.jsx(Te.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:Z(t.onPointerMove,nd(w=>{r?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Z(t.onPointerLeave,nd(w=>o.onItemLeave(w))),onFocus:Z(t.onFocus,()=>h(!0)),onBlur:Z(t.onBlur,()=>h(!1))})})})}),MK="MenuCheckboxItem",FN=m.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return p.jsx(KN,{scope:t.__scopeMenu,checked:n,children:p.jsx(Vm,{role:"menuitemcheckbox","aria-checked":Np(n)?"mixed":n,...s,ref:e,"data-state":N_(n),onSelect:Z(s.onSelect,()=>r==null?void 0:r(Np(n)?!0:!n),{checkForDefaultPrevented:!1})})})});FN.displayName=MK;var UN="MenuRadioGroup",[OK,LK]=ya(UN,{value:void 0,onValueChange:()=>{}}),BN=m.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Pt(r);return p.jsx(OK,{scope:t.__scopeMenu,value:n,onValueChange:i,children:p.jsx(I_,{...s,ref:e})})});BN.displayName=UN;var $N="MenuRadioItem",zN=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=LK($N,t.__scopeMenu),i=n===s.value;return p.jsx(KN,{scope:t.__scopeMenu,checked:i,children:p.jsx(Vm,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":N_(i),onSelect:Z(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});zN.displayName=$N;var A_="MenuItemIndicator",[KN,jK]=ya(A_,{checked:!1}),WN=m.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=jK(A_,n);return p.jsx(zd,{present:r||Np(i.checked)||i.checked===!0,children:p.jsx(Te.span,{...s,ref:e,"data-state":N_(i.checked)})})});WN.displayName=A_;var VK="MenuSeparator",HN=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx(Te.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});HN.displayName=VK;var FK="MenuArrow",GN=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=jm(n);return p.jsx(fN,{...s,...r,ref:e})});GN.displayName=FK;var UK="MenuSub",[use,qN]=ya(UK),tu="MenuSubTrigger",QN=m.forwardRef((t,e)=>{const n=va(tu,t.__scopeMenu),r=Wd(tu,t.__scopeMenu),s=qN(tu,t.__scopeMenu),i=R_(tu,t.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},d=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),p.jsx(b_,{asChild:!0,...c,children:p.jsx(VN,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":JN(n.open),...t,ref:Pm(e,s.onTriggerChange),onClick:h=>{var f;(f=t.onClick)==null||f.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Z(t.onPointerMove,nd(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Z(t.onPointerLeave,nd(h=>{var g,w;d();const f=(g=n.content)==null?void 0:g.getBoundingClientRect();if(f){const y=(w=n.content)==null?void 0:w.dataset.side,T=y==="right",x=T?-5:5,E=f[T?"left":"right"],b=f[T?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+x,y:h.clientY},{x:E,y:f.top},{x:b,y:f.top},{x:b,y:f.bottom},{x:E,y:f.bottom}],side:y}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Z(t.onKeyDown,h=>{var g;const f=i.searchRef.current!=="";t.disabled||f&&h.key===" "||EK[r.dir].includes(h.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),h.preventDefault())})})})});QN.displayName=tu;var YN="MenuSubContent",XN=m.forwardRef((t,e)=>{const n=MN(dr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=va(dr,t.__scopeMenu),o=Wd(dr,t.__scopeMenu),a=qN(YN,t.__scopeMenu),l=m.useRef(null),c=Fe(e,l);return p.jsx(td.Provider,{scope:t.__scopeMenu,children:p.jsx(zd,{present:r||i.open,children:p.jsx(td.Slot,{scope:t.__scopeMenu,children:p.jsx(P_,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Z(t.onFocusOutside,d=>{d.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Z(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Z(t.onKeyDown,d=>{var g;const h=d.currentTarget.contains(d.target),f=xK[o.dir].includes(d.key);h&&f&&(i.onOpenChange(!1),(g=a.trigger)==null||g.focus(),d.preventDefault())})})})})})});XN.displayName=YN;function JN(t){return t?"open":"closed"}function Np(t){return t==="indeterminate"}function N_(t){return Np(t)?"indeterminate":t?"checked":"unchecked"}function BK(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function $K(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function zK(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=$K(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function KK(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function WK(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return KK(n,e)}function nd(t){return e=>e.pointerType==="mouse"?t(e):void 0}var HK=DN,GK=b_,qK=ON,QK=LN,YK=I_,XK=jN,JK=Vm,ZK=FN,eW=BN,tW=zN,nW=WN,rW=HN,sW=GN,iW=QN,oW=XN,k_="DropdownMenu",[aW,dse]=$5(k_,[NN]),In=NN(),[lW,ZN]=aW(k_),D_=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=In(e),c=m.useRef(null),[d=!1,h]=ic({prop:s,defaultProp:i,onChange:o});return p.jsx(lW,{scope:e,triggerId:Ui(),triggerRef:c,contentId:Ui(),open:d,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(f=>!f),[h]),modal:a,children:p.jsx(HK,{...l,open:d,onOpenChange:h,dir:r,modal:a,children:n})})};D_.displayName=k_;var ek="DropdownMenuTrigger",M_=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=ZN(ek,n),o=In(n);return p.jsx(GK,{asChild:!0,...o,children:p.jsx(Te.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Pm(e,i.triggerRef),onPointerDown:Z(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:Z(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});M_.displayName=ek;var cW="DropdownMenuPortal",tk=t=>{const{__scopeDropdownMenu:e,...n}=t,r=In(e);return p.jsx(qK,{...r,...n})};tk.displayName=cW;var nk="DropdownMenuContent",O_=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=ZN(nk,n),i=In(n),o=m.useRef(!1);return p.jsx(QK,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:Z(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:Z(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!s.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});O_.displayName=nk;var uW="DropdownMenuGroup",dW=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=In(n);return p.jsx(YK,{...s,...r,ref:e})});dW.displayName=uW;var hW="DropdownMenuLabel",rk=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=In(n);return p.jsx(XK,{...s,...r,ref:e})});rk.displayName=hW;var fW="DropdownMenuItem",L_=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=In(n);return p.jsx(JK,{...s,...r,ref:e})});L_.displayName=fW;var pW="DropdownMenuCheckboxItem",sk=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=In(n);return p.jsx(ZK,{...s,...r,ref:e})});sk.displayName=pW;var mW="DropdownMenuRadioGroup",gW=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=In(n);return p.jsx(eW,{...s,...r,ref:e})});gW.displayName=mW;var yW="DropdownMenuRadioItem",ik=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=In(n);return p.jsx(tW,{...s,...r,ref:e})});ik.displayName=yW;var vW="DropdownMenuItemIndicator",ok=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=In(n);return p.jsx(nW,{...s,...r,ref:e})});ok.displayName=vW;var wW="DropdownMenuSeparator",ak=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=In(n);return p.jsx(rW,{...s,...r,ref:e})});ak.displayName=wW;var _W="DropdownMenuArrow",EW=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=In(n);return p.jsx(sW,{...s,...r,ref:e})});EW.displayName=_W;var xW="DropdownMenuSubTrigger",lk=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=In(n);return p.jsx(iW,{...s,...r,ref:e})});lk.displayName=xW;var TW="DropdownMenuSubContent",ck=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=In(n);return p.jsx(oW,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ck.displayName=TW;var SW=D_,bW=M_,CW=tk,uk=O_,dk=rk,hk=L_,fk=sk,pk=ik,mk=ok,gk=ak,yk=lk,vk=ck;const RW=({children:t,text:e})=>{const n=Fl(r=>r.logout);return p.jsxs("header",{className:"w-full flex flex-col items-center ",children:[p.jsxs("div",{className:"w-full px-8 h-14 flex items-center justify-between",children:[p.jsx("p",{children:e}),p.jsxs(D_,{children:[p.jsx(M_,{asChild:!0,children:p.jsx("div",{className:"hover:bg-slate-200 rounded-lg p-2 cursor-pointer",children:p.jsx(F5,{})})}),p.jsx(O_,{align:"end",className:"w-[8rem] border border-neutral-300 p-1 rounded-lg",children:p.jsx(L_,{className:"outline-none hover:bg-gray-200 px-2 py-1 rounded-md cursor-pointer",onSelect:()=>n(),children:"Logout"})})]})]}),t]})},PW=({Component:t})=>p.jsx("div",{className:"flex-1 flex justify-center =py-3",children:p.jsx(t,{})}),IW=({headerText:t})=>p.jsx("header",{className:"py-4 text-3xl font-semibold w-full",children:t});function wy(){return Date.now().toString()}const kr=()=>{const t=new Date,e={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};return t.toLocaleDateString("en-US",e)},_y="http://localhost:3001",Fm=async(t,e)=>{const{method:n="GET",headers:r={},body:s}=e,{accessToken:i,setAccessToken:o,logout:a}=Fl.getState(),l={method:n,credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer ${i}`,...r},...s&&{body:JSON.stringify(s)}};try{let c=await fetch(`${_y}${t}`,l);if(c.status===401){Mr("Fetching new access token");const h=await fetch(`${_y}/api/auth/refresh-token`,{method:"POST",credentials:"include"});h.status===404&&a();const{accessToken:f}=await h.json();o(f),l.headers={...l.headers,authorization:`Bearer ${f}`},c=await fetch(`${_y}${t}`,l)}return await c.json()}catch(c){throw console.error("Request failed:",c),c}},wk=(t,e)=>Fm(t,{method:"GET",headers:e}),Hd=(t,e,n)=>Fm(t,{method:"POST",headers:e,body:n}),AW=(t,e,n)=>Fm(t,{method:"PUT",headers:e,body:n}),_k=(t,e,n)=>Fm(t,{method:"DELETE",headers:e,body:n}),NW=async t=>{const e={userQuery:t},{success:n,response:r}=await Hd("/api/chatbot/query-admin",{},e);if(!n)throw new Error(`Sending query to chatbot was unsuccessful: ${r}`);return r},kW=async()=>{const{success:t,response:e}=await Hd("/api/chatbot/train",{});if(!t)throw new Error(`Training model is unsuccessful: ${e}`)},DW=()=>{const[t,e]=m.useState([]),[n,r]=m.useState(""),[s,i]=m.useState(null),[o,a]=m.useState(!1),l=m.useRef(null),c=()=>{var w;(w=l.current)==null||w.scrollIntoView({behavior:"smooth"})};m.useEffect(()=>{c()},[t]);const d=w=>{const y={uuid:wy(),text:w.answer,sender:"bot",response:w};i(y.response),o||a(!0),e(T=>[...T,y])},h=(w,y="bot")=>{const T={uuid:wy(),text:w,sender:y};e(x=>[...x,T])},f=w=>{const y={uuid:wy(),text:w,sender:"user"};e(T=>[...T,y])};return{messageHistory:t,handleSubmitMessage:async w=>{try{if(!w)throw new Error("Message is empty");f(w);const y=await NW(w);d(y)}catch(y){if(y instanceof Error){if(y.message==="Message is empty"){console.error(y.message);return}console.error(y.message),h("An error occured failed to send chat.")}console.error("Unknown error occured: ",y)}},message:n,setMessage:r,endOfMessagesRef:l,selectedResponse:s,setSelectedResponse:i,isInfoPanelOpen:o,setIsInfoPanelOpen:a}};function Ek(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=Ek(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function MW(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=Ek(t))&&(r&&(r+=" "),r+=e);return r}const xb=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,Tb=MW,Gd=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Tb(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],h=i==null?void 0:i[c];if(d===null)return null;const f=xb(d)||xb(h);return s[c][f]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,f]=d;return f===void 0||(c[h]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:f,...g}=d;return Object.entries(g).every(w=>{let[y,T]=w;return Array.isArray(T)?T.includes({...i,...a}[y]):{...i,...a}[y]===T})?[...c,h,f]:c},[]);return Tb(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};function xk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=xk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function OW(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=xk(t))&&(r&&(r+=" "),r+=e);return r}const j_="-",LW=t=>{const e=VW(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(j_);return a[0]===""&&a.length!==1&&a.shift(),Tk(a,e)||jW(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Tk=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Tk(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(j_);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Sb=/^\[(.+)\]$/,jW=t=>{if(Sb.test(t)){const e=Sb.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},VW=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return UW(Object.entries(t.classGroups),n).forEach(([i,o])=>{rw(o,r,i,e)}),r},rw=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:bb(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(FW(s)){rw(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{rw(o,bb(e,i),n,r)})})},bb=(t,e)=>{let n=t;return e.split(j_).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},FW=t=>t.isThemeGetter,UW=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,BW=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Sk="!",$W=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,d=0,h;for(let T=0;T<a.length;T++){let x=a[T];if(c===0){if(x===s&&(r||a.slice(T,T+i)===e)){l.push(a.slice(d,T)),d=T+i;continue}if(x==="/"){h=T;continue}}x==="["?c++:x==="]"&&c--}const f=l.length===0?a:a.substring(d),g=f.startsWith(Sk),w=g?f.substring(1):f,y=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:w,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},zW=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},KW=t=>({cache:BW(t.cacheSize),parseClassName:$W(t),...LW(t)}),WW=/\s+/,HW=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(WW);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:g}=n(c);let w=!!g,y=r(w?f.substring(0,g):f);if(!y){if(!w){a=c+(a.length>0?" "+a:a);continue}if(y=r(f),!y){a=c+(a.length>0?" "+a:a);continue}w=!1}const T=zW(d).join(":"),x=h?T+Sk:T,E=x+y;if(i.includes(E))continue;i.push(E);const b=s(y,w);for(let C=0;C<b.length;++C){const k=b[C];i.push(x+k)}a=c+(a.length>0?" "+a:a)}return a};function GW(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=bk(e))&&(r&&(r+=" "),r+=n);return r}const bk=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=bk(t[r]))&&(n&&(n+=" "),n+=e);return n};function qW(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,h)=>h(d),t());return n=KW(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=HW(l,n);return s(l,d),d}return function(){return i(GW.apply(null,arguments))}}const rt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Ck=/^\[(?:([a-z-]+):)?(.+)\]$/i,QW=/^\d+\/\d+$/,YW=new Set(["px","full","screen"]),XW=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,JW=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ZW=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,eH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fs=t=>fl(t)||YW.has(t)||QW.test(t),ni=t=>uc(t,"length",cH),fl=t=>!!t&&!Number.isNaN(Number(t)),Ey=t=>uc(t,"number",fl),Wc=t=>!!t&&Number.isInteger(Number(t)),nH=t=>t.endsWith("%")&&fl(t.slice(0,-1)),be=t=>Ck.test(t),ri=t=>XW.test(t),rH=new Set(["length","size","percentage"]),sH=t=>uc(t,rH,Rk),iH=t=>uc(t,"position",Rk),oH=new Set(["image","url"]),aH=t=>uc(t,oH,dH),lH=t=>uc(t,"",uH),Hc=()=>!0,uc=(t,e,n)=>{const r=Ck.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},cH=t=>JW.test(t)&&!ZW.test(t),Rk=()=>!1,uH=t=>eH.test(t),dH=t=>tH.test(t),hH=()=>{const t=rt("colors"),e=rt("spacing"),n=rt("blur"),r=rt("brightness"),s=rt("borderColor"),i=rt("borderRadius"),o=rt("borderSpacing"),a=rt("borderWidth"),l=rt("contrast"),c=rt("grayscale"),d=rt("hueRotate"),h=rt("invert"),f=rt("gap"),g=rt("gradientColorStops"),w=rt("gradientColorStopPositions"),y=rt("inset"),T=rt("margin"),x=rt("opacity"),E=rt("padding"),b=rt("saturate"),C=rt("scale"),k=rt("sepia"),j=rt("skew"),R=rt("space"),_=rt("translate"),P=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",be,e],M=()=>[be,e],N=()=>["",fs,ni],W=()=>["auto",fl,be],pe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],le=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",be],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ue=()=>[fl,be];return{cacheSize:500,separator:":",theme:{colors:[Hc],spacing:[fs,ni],blur:["none","",ri,be],brightness:ue(),borderColor:[t],borderRadius:["none","","full",ri,be],borderSpacing:M(),borderWidth:N(),contrast:ue(),grayscale:B(),hueRotate:ue(),invert:B(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[nH,ni],inset:D(),margin:D(),opacity:ue(),padding:M(),saturate:ue(),scale:ue(),sepia:B(),skew:ue(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",be]}],container:["container"],columns:[{columns:[ri]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...pe(),be]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Wc,be]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",be]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",Wc,be]}],"grid-cols":[{"grid-cols":[Hc]}],"col-start-end":[{col:["auto",{span:["full",Wc,be]},be]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[Hc]}],"row-start-end":[{row:["auto",{span:[Wc,be]},be]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",be]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",be]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",be,e]}],"min-w":[{"min-w":[be,e,"min","max","fit"]}],"max-w":[{"max-w":[be,e,"none","full","min","max","fit","prose",{screen:[ri]},ri]}],h:[{h:[be,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[be,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[be,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[be,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ri,ni]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ey]}],"font-family":[{font:[Hc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",be]}],"line-clamp":[{"line-clamp":["none",fl,Ey]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",fs,be]}],"list-image":[{"list-image":["none",be]}],"list-style-type":[{list:["none","disc","decimal",be]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...le(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",fs,ni]}],"underline-offset":[{"underline-offset":["auto",fs,be]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...pe(),iH]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",sH]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},aH]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...le(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:le()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...le()]}],"outline-offset":[{"outline-offset":[fs,be]}],"outline-w":[{outline:[fs,ni]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[fs,ni]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ri,lH]}],"shadow-color":[{shadow:[Hc]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ri,be]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",be]}],duration:[{duration:ue()}],ease:[{ease:["linear","in","out","in-out",be]}],delay:[{delay:ue()}],animate:[{animate:["none","spin","ping","pulse","bounce",be]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Wc,be]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",be]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",be]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",be]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[fs,ni,Ey]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},fH=qW(hH);function de(...t){return fH(OW(t))}const pH=Gd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function V_({className:t,variant:e,...n}){return p.jsx("div",{className:de(pH({variant:e}),t),...n})}var F_="Progress",U_=100,[mH,hse]=ac(F_),[gH,yH]=mH(F_),Pk=m.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=vH,...o}=t;(s||s===0)&&!Cb(s)&&console.error(wH(`${s}`,"Progress"));const a=Cb(s)?s:U_;r!==null&&!Rb(r,a)&&console.error(_H(`${r}`,"Progress"));const l=Rb(r,a)?r:null,c=kp(l)?i(l,a):void 0;return p.jsx(gH,{scope:n,value:l,max:a,children:p.jsx(Te.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":kp(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":Nk(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});Pk.displayName=F_;var Ik="ProgressIndicator",Ak=m.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=yH(Ik,n);return p.jsx(Te.div,{"data-state":Nk(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});Ak.displayName=Ik;function vH(t,e){return`${Math.round(t/e*100)}%`}function Nk(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function kp(t){return typeof t=="number"}function Cb(t){return kp(t)&&!isNaN(t)&&t>0}function Rb(t,e){return kp(t)&&!isNaN(t)&&t<=e&&t>=0}function wH(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${U_}\`.`}function _H(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${U_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var kk=Pk,EH=Ak;const Dk=m.forwardRef(({className:t,value:e,...n},r)=>p.jsx(kk,{ref:r,className:de("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:p.jsx(EH,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Dk.displayName=kk.displayName;const xH=({responseData:t,showPanel:e})=>{var r,s,i;const n=()=>t==null?void 0:t.classifications.slice(0,3).filter(a=>a.intent!=="None"&&a.score>0);return p.jsx("div",{className:`bg-gray-50  transition-all duration-300 ease-in-out overflow-hidden ${e?"w-64 border-l border-neutral-200":"w-0"}`,children:p.jsx("div",{className:"w-64 h-full",children:p.jsxs("div",{className:de(`p-4 h-full flex flex-col transition-opacity duration-300,
            showPanel ? "opacity-100" : "opacity-0"
            }`),children:[p.jsxs("h2",{className:"text-lg font-semibold text-gray-700 mb-4 flex items-center",children:[p.jsx(k5,{className:"w-5 h-5 mr-2"}),"Bot Response Info"]}),t?p.jsxs("div",{className:"space-y-4 flex-grow",children:[p.jsxs("div",{children:[p.jsxs("h3",{className:"flex items-center justify-between space-x-2 text-sm font-medium text-gray-700 mb-1",children:[p.jsx("p",{children:"Confidence Score "}),p.jsxs("div",{className:"flex items-center",children:[p.jsx(L5,{className:"size-4 mr-1 text-yellow-400 fill-yellow-400"}),p.jsx("span",{className:"text-sm font-medium text-gray-600",children:t.score.toFixed(2)})]})]}),p.jsx("div",{className:"flex items-center gap-2",children:p.jsx(Dk,{value:t.score*100,className:"w-full"})})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Detected Intent"}),p.jsx(V_,{variant:"outline",children:t==null?void 0:t.intent})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Other Possible Intents"}),p.jsx("ul",{className:de("list-disc space-y-1",((r=n())==null?void 0:r.length)&&"pl-5"),children:(s=n())!=null&&s.length?(i=n())==null?void 0:i.map((o,a)=>p.jsx("li",{className:"text-sm ",children:p.jsxs("div",{className:"line-clamp-3",children:[p.jsx("span",{children:o.intent}),p.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",o.score.toFixed(2),")"]})]})},a)):p.jsx("span",{className:"text-sm text-muted-foreground",children:"No other intents detected"})})]})]}):p.jsx("div",{className:"text-center text-gray-500",children:"No bot response yet. Start a conversation to see details."})]})})})},Jt=m.forwardRef(({className:t,type:e,...n},r)=>p.jsx("input",{type:e,className:de("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Jt.displayName="Input";const B_=Gd("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Je=m.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?sa:"button";return p.jsx(o,{className:de(B_({variant:e,size:n,className:t})),ref:i,...s})});Je.displayName="Button";const TH=({message:t,setMessage:e,handleSubmit:n})=>{const r=i=>{e(i.target.value)},s=()=>{n(t),e("")};return p.jsxs("div",{className:"w-full h-[5rem] border-t border-t-customBorderColor flex items-center justify-between px-4 space-x-2",children:[p.jsx(Jt,{placeholder:"Type message here",value:t,onChange:r}),p.jsxs(Je,{onClick:s,children:[p.jsx(UA,{className:"size-4 mr-2"}),"Send"]})]})},SH=({message:t,onItemClick:e})=>{const{text:n,sender:r,response:s}=t;return p.jsx("div",{className:de("flex",r==="user"?"justify-end":"justify-start"),onClick:s?()=>e(s):void 0,children:p.jsx("div",{className:de("w-fit rounded-tl-2xl rounded-tr-2xl transition-colors ease-out",r==="user"?"text-white py-1.5 px-3.5 rounded-bl-2xl rounded-br-[4px] bg-blue-500":"py-2.5 px-4 rounded-br-2xl rounded-bl-[2px] bg-gray-100 cursor-pointer",s?"hover:bg-gray-200":""),children:n})})},Mk=({items:t,renderItem:e,listStyle:n})=>p.jsx("div",{className:n,children:t==null?void 0:t.map((r,s)=>p.jsx(m.Fragment,{children:e(r)},s))});function bH(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}function rd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const sw=t=>Array.isArray(t);function Ok(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function sd(t){return typeof t=="string"||Array.isArray(t)}function Pb(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function $_(t,e,n,r){if(typeof e=="function"){const[s,i]=Pb(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=Pb(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Um(t,e,n){const r=t.getProps();return $_(r,e,n!==void 0?n:r.custom,t)}const z_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],K_=["initial",...z_],qd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],co=new Set(qd),Ps=t=>t*1e3,Is=t=>t/1e3,CH={type:"spring",stiffness:500,damping:25,restSpeed:10},RH=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),PH={type:"keyframes",duration:.8},IH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},AH=(t,{keyframes:e})=>e.length>2?PH:co.has(t)?t.startsWith("scale")?RH(e[1]):CH:IH;function NH({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function W_(t,e){return t[e]||t.default||t}const kH={skipAnimations:!1,useManualTiming:!1},DH=t=>t!==null;function Bm(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(DH),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const mn=t=>t;function MH(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){i.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,d=!1,h=!1)=>{const g=h&&r?e:n;return d&&i.add(c),g.has(c)||g.add(c),c},cancel:c=>{n.delete(c),i.delete(c)},process:c=>{if(o=c,r){s=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,s&&(s=!1,l.process(c))}};return l}const Yh=["read","resolveKeyframes","update","preRender","render","postRender"],OH=40;function Lk(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Yh.reduce((x,E)=>(x[E]=MH(i),x),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:h,postRender:f}=o,g=()=>{const x=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(x-s.timestamp,OH),1),s.timestamp=x,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(g))},w=()=>{n=!0,r=!0,s.isProcessing||t(g)};return{schedule:Yh.reduce((x,E)=>{const b=o[E];return x[E]=(C,k=!1,j=!1)=>(n||w(),b.schedule(C,k,j)),x},{}),cancel:x=>{for(let E=0;E<Yh.length;E++)o[Yh[E]].cancel(x)},state:s,steps:o}}const{schedule:$e,cancel:$s,state:Wt,steps:xy}=Lk(typeof requestAnimationFrame<"u"?requestAnimationFrame:mn,!0),jk=t=>/^0[^.\s]+$/u.test(t);function LH(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||jk(t):!0}let iw=mn;const Vk=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Fk=t=>e=>typeof e=="string"&&e.startsWith(t),Uk=Fk("--"),jH=Fk("var(--"),H_=t=>jH(t)?VH.test(t.split("/*")[0].trim()):!1,VH=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,FH=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function UH(t){const e=FH.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function Bk(t,e,n=1){const[r,s]=UH(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return Vk(o)?parseFloat(o):o}return H_(s)?Bk(s,e,n+1):s}const Ji=(t,e,n)=>n>e?e:n<t?t:n,dc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},wu={...dc,transform:t=>Ji(0,1,t)},Xh={...dc,default:1},_u=t=>Math.round(t*1e5)/1e5,G_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,BH=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,$H=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function Qd(t){return typeof t=="string"}function zH(t){return t==null}const Yd=t=>({test:e=>Qd(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),oi=Yd("deg"),es=Yd("%"),me=Yd("px"),KH=Yd("vh"),WH=Yd("vw"),Ib={...es,parse:t=>es.parse(t)/100,transform:t=>es.transform(t*100)},HH=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Ab=t=>t===dc||t===me,Nb=(t,e)=>parseFloat(t.split(", ")[e]),kb=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Nb(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?Nb(i[1],t):0}},GH=new Set(["x","y","z"]),qH=qd.filter(t=>!GH.has(t));function QH(t){const e=[];return qH.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const $l={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:kb(4,13),y:kb(5,14)};$l.translateX=$l.x;$l.translateY=$l.y;const $k=t=>e=>e.test(t),YH={test:t=>t==="auto",parse:t=>t},zk=[dc,me,es,oi,WH,KH,YH],Db=t=>zk.find($k(t)),Go=new Set;let ow=!1,aw=!1;function Kk(){if(aw){const t=Array.from(Go).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=QH(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}aw=!1,ow=!1,Go.forEach(t=>t.complete()),Go.clear()}function Wk(){Go.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(aw=!0)})}function XH(){Wk(),Kk()}class q_{constructor(e,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Go.add(this),ow||(ow=!0,$e.read(Wk),$e.resolveKeyframes(Kk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Go.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Go.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Q_=(t,e)=>n=>!!(Qd(n)&&$H.test(n)&&n.startsWith(t)||e&&!zH(n)&&Object.prototype.hasOwnProperty.call(n,e)),Hk=(t,e,n)=>r=>{if(!Qd(r))return r;const[s,i,o,a]=r.match(G_);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},JH=t=>Ji(0,255,t),Ty={...dc,transform:t=>Math.round(JH(t))},Oo={test:Q_("rgb","red"),parse:Hk("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Ty.transform(t)+", "+Ty.transform(e)+", "+Ty.transform(n)+", "+_u(wu.transform(r))+")"};function ZH(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const lw={test:Q_("#"),parse:ZH,transform:Oo.transform},Xa={test:Q_("hsl","hue"),parse:Hk("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+es.transform(_u(e))+", "+es.transform(_u(n))+", "+_u(wu.transform(r))+")"},un={test:t=>Oo.test(t)||lw.test(t)||Xa.test(t),parse:t=>Oo.test(t)?Oo.parse(t):Xa.test(t)?Xa.parse(t):lw.parse(t),transform:t=>Qd(t)?t:t.hasOwnProperty("red")?Oo.transform(t):Xa.transform(t)};function e8(t){var e,n;return isNaN(t)&&Qd(t)&&(((e=t.match(G_))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(BH))===null||n===void 0?void 0:n.length)||0)>0}const Gk="number",qk="color",t8="var",n8="var(",Mb="${}",r8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function id(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(r8,l=>(un.test(l)?(r.color.push(i),s.push(qk),n.push(un.parse(l))):l.startsWith(n8)?(r.var.push(i),s.push(t8),n.push(l)):(r.number.push(i),s.push(Gk),n.push(parseFloat(l))),++i,Mb)).split(Mb);return{values:n,split:a,indexes:r,types:s}}function Qk(t){return id(t).values}function Yk(t){const{split:e,types:n}=id(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===Gk?i+=_u(s[o]):a===qk?i+=un.transform(s[o]):i+=s[o]}return i}}const s8=t=>typeof t=="number"?0:t;function i8(t){const e=Qk(t);return Yk(t)(e.map(s8))}const Zi={test:e8,parse:Qk,createTransformer:Yk,getAnimatableNone:i8},o8=new Set(["brightness","contrast","saturate","opacity"]);function a8(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(G_)||[];if(!r)return t;const s=n.replace(r,"");let i=o8.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const l8=/\b([a-z-]*)\(.*?\)/gu,cw={...Zi,getAnimatableNone:t=>{const e=t.match(l8);return e?e.map(a8).join(" "):t}},Ob={...dc,transform:Math.round},Y_={borderWidth:me,borderTopWidth:me,borderRightWidth:me,borderBottomWidth:me,borderLeftWidth:me,borderRadius:me,radius:me,borderTopLeftRadius:me,borderTopRightRadius:me,borderBottomRightRadius:me,borderBottomLeftRadius:me,width:me,maxWidth:me,height:me,maxHeight:me,size:me,top:me,right:me,bottom:me,left:me,padding:me,paddingTop:me,paddingRight:me,paddingBottom:me,paddingLeft:me,margin:me,marginTop:me,marginRight:me,marginBottom:me,marginLeft:me,rotate:oi,rotateX:oi,rotateY:oi,rotateZ:oi,scale:Xh,scaleX:Xh,scaleY:Xh,scaleZ:Xh,skew:oi,skewX:oi,skewY:oi,distance:me,translateX:me,translateY:me,translateZ:me,x:me,y:me,z:me,perspective:me,transformPerspective:me,opacity:wu,originX:Ib,originY:Ib,originZ:me,zIndex:Ob,backgroundPositionX:me,backgroundPositionY:me,fillOpacity:wu,strokeOpacity:wu,numOctaves:Ob},c8={...Y_,color:un,backgroundColor:un,outlineColor:un,fill:un,stroke:un,borderColor:un,borderTopColor:un,borderRightColor:un,borderBottomColor:un,borderLeftColor:un,filter:cw,WebkitFilter:cw},X_=t=>c8[t];function Xk(t,e){let n=X_(t);return n!==cw&&(n=Zi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const u8=new Set(["auto","none","0"]);function d8(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!u8.has(i)&&id(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=Xk(n,s)}class Jk extends q_{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),H_(c))){const d=Bk(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!HH.has(r)||e.length!==2)return;const[s,i]=e,o=Db(s),a=Db(i);if(o!==a)if(Ab(o)&&Ab(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)LH(e[s])&&r.push(s);r.length&&d8(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$l[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=$l[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function Zk(t){let e;return()=>(e===void 0&&(e=t()),e)}let kf;function h8(){kf=void 0}const ts={now:()=>(kf===void 0&&ts.set(Wt.isProcessing||kH.useManualTiming?Wt.timestamp:performance.now()),kf),set:t=>{kf=t,queueMicrotask(h8)}},Lb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Zi.test(t)||t==="0")&&!t.startsWith("url("));function f8(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function p8(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=Lb(s,e),a=Lb(i,e);return!o||!a?!1:f8(t)||n==="spring"&&r}const m8=40;class eD{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ts.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>m8?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&XH(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ts.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!p8(e,r,s,i))if(o)this.options.duration=0;else{l==null||l(Bm(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function tD(t,e){return e?t*(1e3/e):0}const g8=5;function nD(t,e,n){const r=Math.max(e-g8,0);return tD(n-t(r),e-r)}const Sy=.001,y8=.01,v8=10,w8=.05,_8=1;function E8({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,o=1-e;o=Ji(w8,_8,o),t=Ji(y8,v8,Is(t)),o<1?(s=c=>{const d=c*o,h=d*t,f=d-n,g=uw(c,o),w=Math.exp(-h);return Sy-f/g*w},i=c=>{const h=c*o*t,f=h*n+n,g=Math.pow(o,2)*Math.pow(c,2)*t,w=Math.exp(-h),y=uw(Math.pow(c,2),o);return(-s(c)+Sy>0?-1:1)*((f-g)*w)/y}):(s=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-Sy+d*h},i=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const a=5/t,l=T8(s,i,a);if(t=Ps(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const x8=12;function T8(t,e,n){let r=n;for(let s=1;s<x8;s++)r=r-t(r)/e(r);return r}function uw(t,e){return t*Math.sqrt(1-e*e)}const S8=["duration","bounce"],b8=["stiffness","damping","mass"];function jb(t,e){return e.some(n=>t[n]!==void 0)}function C8(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!jb(t,b8)&&jb(t,S8)){const n=E8(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function rD({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:c,duration:d,velocity:h,isResolvedFromDuration:f}=C8({...r,velocity:-Is(r.velocity||0)}),g=h||0,w=l/(2*Math.sqrt(a*c)),y=i-s,T=Is(Math.sqrt(a/c)),x=Math.abs(y)<5;n||(n=x?.01:2),e||(e=x?.005:.5);let E;if(w<1){const b=uw(T,w);E=C=>{const k=Math.exp(-w*T*C);return i-k*((g+w*T*y)/b*Math.sin(b*C)+y*Math.cos(b*C))}}else if(w===1)E=b=>i-Math.exp(-T*b)*(y+(g+T*y)*b);else{const b=T*Math.sqrt(w*w-1);E=C=>{const k=Math.exp(-w*T*C),j=Math.min(b*C,300);return i-k*((g+w*T*y)*Math.sinh(j)+b*y*Math.cosh(j))/b}}return{calculatedDuration:f&&d||null,next:b=>{const C=E(b);if(f)o.done=b>=d;else{let k=0;w<1&&(k=b===0?Ps(g):nD(E,b,C));const j=Math.abs(k)<=n,R=Math.abs(i-C)<=e;o.done=j&&R}return o.value=o.done?i:C,o}}}function Vb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},g=_=>a!==void 0&&_<a||l!==void 0&&_>l,w=_=>a===void 0?l:l===void 0||Math.abs(a-_)<Math.abs(l-_)?a:l;let y=n*e;const T=h+y,x=o===void 0?T:o(T);x!==T&&(y=x-h);const E=_=>-y*Math.exp(-_/r),b=_=>x+E(_),C=_=>{const P=E(_),A=b(_);f.done=Math.abs(P)<=c,f.value=f.done?x:A};let k,j;const R=_=>{g(f.value)&&(k=_,j=rD({keyframes:[f.value,w(f.value)],velocity:nD(b,_,f.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return R(0),{calculatedDuration:null,next:_=>{let P=!1;return!j&&k===void 0&&(P=!0,C(_),R(_)),k!==void 0&&_>=k?j.next(_-k):(!P&&C(_),f)}}}const sD=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,R8=1e-7,P8=12;function I8(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=sD(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>R8&&++a<P8);return o}function Xd(t,e,n,r){if(t===e&&n===r)return mn;const s=i=>I8(i,0,1,t,n);return i=>i===0||i===1?i:sD(s(i),e,r)}const A8=Xd(.42,0,1,1),N8=Xd(0,0,.58,1),iD=Xd(.42,0,.58,1),k8=t=>Array.isArray(t)&&typeof t[0]!="number",oD=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,aD=t=>e=>1-t(1-e),J_=t=>1-Math.sin(Math.acos(t)),lD=aD(J_),D8=oD(J_),cD=Xd(.33,1.53,.69,.99),Z_=aD(cD),M8=oD(Z_),O8=t=>(t*=2)<1?.5*Z_(t):.5*(2-Math.pow(2,-10*(t-1))),Fb={linear:mn,easeIn:A8,easeInOut:iD,easeOut:N8,circIn:J_,circInOut:D8,circOut:lD,backIn:Z_,backInOut:M8,backOut:cD,anticipate:O8},Ub=t=>{if(Array.isArray(t)){iw(t.length===4);const[e,n,r,s]=t;return Xd(e,n,r,s)}else if(typeof t=="string")return iw(Fb[t]!==void 0),Fb[t];return t},L8=(t,e)=>n=>e(t(n)),As=(...t)=>t.reduce(L8),od=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},dt=(t,e,n)=>t+(e-t)*n;function by(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function j8({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=by(l,a,t+1/3),i=by(l,a,t),o=by(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Dp(t,e){return n=>n>0?e:t}const Cy=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},V8=[lw,Oo,Xa],F8=t=>V8.find(e=>e.test(t));function Bb(t){const e=F8(t);if(!e)return!1;let n=e.parse(t);return e===Xa&&(n=j8(n)),n}const $b=(t,e)=>{const n=Bb(t),r=Bb(e);if(!n||!r)return Dp(t,e);const s={...n};return i=>(s.red=Cy(n.red,r.red,i),s.green=Cy(n.green,r.green,i),s.blue=Cy(n.blue,r.blue,i),s.alpha=dt(n.alpha,r.alpha,i),Oo.transform(s))},dw=new Set(["none","hidden"]);function U8(t,e){return dw.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function B8(t,e){return n=>dt(t,e,n)}function eE(t){return typeof t=="number"?B8:typeof t=="string"?H_(t)?Dp:un.test(t)?$b:K8:Array.isArray(t)?uD:typeof t=="object"?un.test(t)?$b:$8:Dp}function uD(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>eE(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function $8(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=eE(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function z8(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][s[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const K8=(t,e)=>{const n=Zi.createTransformer(e),r=id(t),s=id(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?dw.has(t)&&!s.values.length||dw.has(e)&&!r.values.length?U8(t,e):As(uD(z8(r,s),s.values),n):Dp(t,e)};function dD(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?dt(t,e,n):eE(t)(t,e)}function W8(t,e,n){const r=[],s=n||dD,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||mn:e;a=As(l,a)}r.push(a)}return r}function H8(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(iw(i===e.length),i===1)return()=>e[0];if(i===2&&t[0]===t[1])return()=>e[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=W8(e,r,s),a=o.length,l=c=>{let d=0;if(a>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const h=od(t[d],t[d+1],c);return o[d](h)};return n?c=>l(Ji(t[0],t[i-1],c)):l}function G8(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=od(0,e,r);t.push(dt(n,1,s))}}function q8(t){const e=[0];return G8(e,t.length-1),e}function Q8(t,e){return t.map(n=>n*e)}function Y8(t,e){return t.map(()=>e||iD).splice(0,t.length-1)}function Mp({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=k8(r)?r.map(Ub):Ub(r),i={done:!1,value:e[0]},o=Q8(n&&n.length===e.length?n:q8(e),t),a=H8(o,e,{ease:Array.isArray(s)?s:Y8(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const zb=2e4;function X8(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<zb;)e+=n,r=t.next(e);return e>=zb?1/0:e}const J8=t=>{const e=({timestamp:n})=>t(n);return{start:()=>$e.update(e,!0),stop:()=>$s(e),now:()=>Wt.isProcessing?Wt.timestamp:ts.now()}},Z8={decay:Vb,inertia:Vb,tween:Mp,keyframes:Mp,spring:rD},e7=t=>t/100;class tE extends eD{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||q_,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=Z8[n]||Mp;let l,c;a!==Mp&&typeof e[0]!="number"&&(l=As(e7,dD(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});i==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=X8(d));const{calculatedDuration:h}=d,f=h+s,g=f*(r+1)-s;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:_}=this.options;return{done:!0,value:_[_.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:f,repeat:g,repeatType:w,repeatDelay:y,onUpdate:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const x=this.currentTime-f*(this.speed>=0?1:-1),E=this.speed>=0?x<0:x>d;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let b=this.currentTime,C=i;if(g){const _=Math.min(this.currentTime,d)/h;let P=Math.floor(_),A=_%1;!A&&_>=1&&(A=1),A===1&&P--,P=Math.min(P,g+1),!!(P%2)&&(w==="reverse"?(A=1-A,y&&(A-=y/h)):w==="mirror"&&(C=o)),b=Ji(0,1,A)*h}const k=E?{done:!1,value:l[0]}:C.next(b);a&&(k.value=a(k.value));let{done:j}=k;!E&&c!==null&&(j=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return R&&s!==void 0&&(k.value=Bm(l,this.options,s)),T&&T(k.value),R&&this.finish(),k}get duration(){const{resolved:e}=this;return e?Is(e.calculatedDuration):0}get time(){return Is(this.currentTime)}set time(e){e=Ps(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Is(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=J8,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const hD=new Set(["opacity","clipPath","filter","transform"]),fD=t=>Array.isArray(t)&&typeof t[0]=="number";function pD(t){return!!(!t||typeof t=="string"&&t in nE||fD(t)||Array.isArray(t)&&t.every(pD))}const nu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,nE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nu([0,.65,.55,1]),circOut:nu([.55,0,1,.45]),backIn:nu([.31,.01,.66,-.59]),backOut:nu([.33,1.53,.69,.99])};function t7(t){return mD(t)||nE.easeOut}function mD(t){if(t)return fD(t)?nu(t):Array.isArray(t)?t.map(t7):nE[t]}function n7(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=mD(a);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const r7=Zk(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Op=10,s7=2e4;function i7(t){return t.type==="spring"||!pD(t.ease)}function o7(t,e){const n=new tE({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<s7;)r=n.sample(i),s.push(r.value),i+=Op;return{times:void 0,keyframes:s,duration:i-Op,ease:"linear"}}class Kb extends eD{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new Jk(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:s=300,times:i,ease:o,type:a,motionValue:l,name:c,startTime:d}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(i7(this.options)){const{onComplete:f,onUpdate:g,motionValue:w,element:y,...T}=this.options,x=o7(e,T);e=x.keyframes,e.length===1&&(e[1]=e[0]),s=x.duration,i=x.times,o=x.ease,a="keyframes"}const h=n7(l.owner.current,c,e,{...this.options,duration:s,times:i,ease:o});return h.startTime=d??this.calcStartTime(),this.pendingTimeline?(h.timeline=this.pendingTimeline,this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:f}=this.options;l.set(Bm(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:s,times:i,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Is(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Is(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ps(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return mn;const{animation:r}=n;r.timeline=e,r.onfinish=null}return mn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:h,element:f,...g}=this.options,w=new tE({...g,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),y=Ps(this.time);c.setWithVelocity(w.sample(y-Op).value,w.sample(y).value,Op)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=e;return r7()&&r&&hD.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}function a7(t,e){let n;const r=()=>{const{currentTime:s}=e,o=(s===null?0:s.value)/100;n!==o&&t(o),n=o};return $e.update(r,!0),()=>$s(r)}const l7=Zk(()=>window.ScrollTimeline!==void 0);class c7{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>{if(l7()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),a7(s=>{r.time=r.duration*s},e)});return()=>{n.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const rE=(t,e,n,r={},s,i,o)=>a=>{const l=W_(r,t)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Ps(c);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:g=>{e.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{a(),l.onComplete&&l.onComplete(),o&&o()},onStop:o,name:t,motionValue:e,element:i?void 0:s};NH(l)||(h={...h,...AH(t,h)}),h.duration&&(h.duration=Ps(h.duration)),h.repeatDelay&&(h.repeatDelay=Ps(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(f=!0)),f&&!i&&e.get()!==void 0){const g=Bm(h.keyframes,l);if(g!==void 0)return $e.update(()=>{h.onUpdate(g),h.onComplete()}),new c7([])}return!i&&Kb.supports(h)?new Kb(h):new tE(h)},u7=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),d7=t=>sw(t)?t[t.length-1]||0:t;function $m(t,e){t.indexOf(e)===-1&&t.push(e)}function zm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class sE{constructor(){this.subscriptions=[]}add(e){return $m(this.subscriptions,e),()=>zm(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Wb=30,h7=t=>!isNaN(parseFloat(t));class gD{constructor(e,n={}){this.version="11.5.6",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=ts.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ts.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=h7(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new sE);const r=this.events[e].add(n);return e==="change"?()=>{r(),$e.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ts.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Wb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Wb);return tD(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ad(t,e){return new gD(t,e)}function f7(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ad(n))}function p7(t,e){const n=Um(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=d7(i[o]);f7(t,o,a)}}const Km=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),m7="framerAppearId",yD="data-"+Km(m7);function vD(t){return t.props[yD]}function wD(t){if(co.has(t))return"transform";if(hD.has(t))return Km(t)}class g7 extends gD{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(e){const n=wD(e);if(!n)return;const r=this.counts.get(n)||0;this.counts.set(n,r+1),r===0&&(this.output.push(n),this.update());let s=!1;return()=>{if(s)return;s=!0;const i=this.counts.get(n)-1;this.counts.set(n,i),i===0&&(zm(this.output,n),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}const pn=t=>!!(t&&t.getVelocity);function y7(t){return!!(pn(t)&&t.add)}function hw(t,e){var n;if(!t.applyWillChange)return;let r=t.getValue("willChange");if(!r&&!(!((n=t.props.style)===null||n===void 0)&&n.willChange)&&(r=new g7("auto"),t.addValue("willChange",r)),y7(r))return r.add(e)}function v7({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function _D(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const h in l){const f=t.getValue(h,(i=t.latestValues[h])!==null&&i!==void 0?i:null),g=l[h];if(g===void 0||d&&v7(d,h))continue;const w={delay:n,...W_(o||{},h)};let y=!1;if(window.MotionHandoffAnimation){const x=vD(t);if(x){const E=window.MotionHandoffAnimation(x,h,$e);E!==null&&(w.startTime=E,y=!0)}}f.start(rE(h,f,g,t.shouldReduceMotion&&co.has(h)?{type:!1}:w,t,y,hw(t,h)));const T=f.animation;T&&c.push(T)}return a&&Promise.all(c).then(()=>{$e.update(()=>{a&&p7(t,a)})}),c}function fw(t,e,n={}){var r;const s=Um(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(_D(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return w7(t,e,d+c,h,f,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,d]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function w7(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(_7).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(fw(c,e,{...i,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function _7(t,e){return t.sortNodePosition(e)}function E7(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>fw(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=fw(t,e,n);else{const s=typeof e=="function"?Um(t,e,n.custom):e;r=Promise.all(_D(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const x7=K_.length;function ED(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ED(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<x7;n++){const r=K_[n],s=t.props[r];(sd(s)||s===!1)&&(e[r]=s)}return e}const T7=[...z_].reverse(),S7=z_.length;function b7(t){return e=>Promise.all(e.map(({animation:n,options:r})=>E7(t,n,r)))}function C7(t){let e=b7(t),n=Hb(),r=!0;const s=l=>(c,d)=>{var h;const f=Um(t,d,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:g,transitionEnd:w,...y}=f;c={...c,...y,...w}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,d=ED(t.parent)||{},h=[],f=new Set;let g={},w=1/0;for(let T=0;T<S7;T++){const x=T7[T],E=n[x],b=c[x]!==void 0?c[x]:d[x],C=sd(b),k=x===l?E.isActive:null;k===!1&&(w=T);let j=b===d[x]&&b!==c[x]&&C;if(j&&r&&t.manuallyAnimateOnMount&&(j=!1),E.protectedKeys={...g},!E.isActive&&k===null||!b&&!E.prevProp||rd(b)||typeof b=="boolean")continue;const R=R7(E.prevProp,b);let _=R||x===l&&E.isActive&&!j&&C||T>w&&C,P=!1;const A=Array.isArray(b)?b:[b];let D=A.reduce(s(x),{});k===!1&&(D={});const{prevResolvedValues:M={}}=E,N={...M,...D},W=ie=>{_=!0,f.has(ie)&&(P=!0,f.delete(ie)),E.needsAnimating[ie]=!0;const z=t.getValue(ie);z&&(z.liveStyle=!1)};for(const ie in N){const z=D[ie],B=M[ie];if(g.hasOwnProperty(ie))continue;let X=!1;sw(z)&&sw(B)?X=!Ok(z,B):X=z!==B,X?z!=null?W(ie):f.add(ie):z!==void 0&&f.has(ie)?W(ie):E.protectedKeys[ie]=!0}E.prevProp=b,E.prevResolvedValues=D,E.isActive&&(g={...g,...D}),r&&t.blockInitialAnimation&&(_=!1),_&&(!(j&&R)||P)&&h.push(...A.map(ie=>({animation:ie,options:{type:x}})))}if(f.size){const T={};f.forEach(x=>{const E=t.getBaseTarget(x),b=t.getValue(x);b&&(b.liveStyle=!0),T[x]=E??null}),h.push({animation:T})}let y=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(h):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var g;return(g=f.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Hb(),r=!0}}}function R7(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Ok(e,t):!1}function So(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Hb(){return{animate:So(!0),whileInView:So(),whileHover:So(),whileTap:So(),whileDrag:So(),whileFocus:So(),exit:So()}}class uo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class P7 extends uo{constructor(e){super(e),e.animationState||(e.animationState=C7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();rd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let I7=0;class A7 extends uo{constructor(){super(...arguments),this.id=I7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const N7={animation:{Feature:P7},exit:{Feature:A7}},xD=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Wm(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const k7=t=>e=>xD(e)&&t(e,Wm(e));function Ss(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ns(t,e,n,r){return Ss(t,e,k7(n),r)}const Gb=(t,e)=>Math.abs(t-e);function D7(t,e){const n=Gb(t.x,e.x),r=Gb(t.y,e.y);return Math.sqrt(n**2+r**2)}class TD{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Py(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=D7(h.offset,{x:0,y:0})>=3;if(!f&&!g)return;const{point:w}=h,{timestamp:y}=Wt;this.history.push({...w,timestamp:y});const{onStart:T,onMove:x}=this.handlers;f||(T&&T(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Ry(f,this.transformPagePoint),$e.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:g,onSessionEnd:w,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Py(h.type==="pointercancel"?this.lastMoveEventInfo:Ry(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,T),w&&w(h,T)},!xD(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Wm(e),a=Ry(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Wt;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,Py(a,this.history)),this.removeListeners=As(Ns(this.contextWindow,"pointermove",this.handlePointerMove),Ns(this.contextWindow,"pointerup",this.handlePointerUp),Ns(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),$s(this.updatePoint)}}function Ry(t,e){return e?{point:e(t.point)}:t}function qb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Py({point:t},e){return{point:t,delta:qb(t,SD(e)),offset:qb(t,M7(e)),velocity:O7(e,.1)}}function M7(t){return t[0]}function SD(t){return t[t.length-1]}function O7(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=SD(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ps(e)));)n--;if(!r)return{x:0,y:0};const i=Is(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function bD(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Qb=bD("dragHorizontal"),Yb=bD("dragVertical");function CD(t){let e=!1;if(t==="y")e=Yb();else if(t==="x")e=Qb();else{const n=Qb(),r=Yb();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function RD(){const t=CD(!0);return t?(t(),!1):!0}function Ja(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const PD=1e-4,L7=1-PD,j7=1+PD,ID=.01,V7=0-ID,F7=0+ID;function Qn(t){return t.max-t.min}function U7(t,e,n){return Math.abs(t-e)<=n}function Xb(t,e,n,r=.5){t.origin=r,t.originPoint=dt(e.min,e.max,t.origin),t.scale=Qn(n)/Qn(e),t.translate=dt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=L7&&t.scale<=j7||isNaN(t.scale))&&(t.scale=1),(t.translate>=V7&&t.translate<=F7||isNaN(t.translate))&&(t.translate=0)}function Eu(t,e,n,r){Xb(t.x,e.x,n.x,r?r.originX:void 0),Xb(t.y,e.y,n.y,r?r.originY:void 0)}function Jb(t,e,n){t.min=n.min+e.min,t.max=t.min+Qn(e)}function B7(t,e,n){Jb(t.x,e.x,n.x),Jb(t.y,e.y,n.y)}function Zb(t,e,n){t.min=e.min-n.min,t.max=t.min+Qn(e)}function xu(t,e,n){Zb(t.x,e.x,n.x),Zb(t.y,e.y,n.y)}function $7(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?dt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?dt(n,t,r.max):Math.min(t,n)),t}function eC(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function z7(t,{top:e,left:n,bottom:r,right:s}){return{x:eC(t.x,n,s),y:eC(t.y,e,r)}}function tC(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function K7(t,e){return{x:tC(t.x,e.x),y:tC(t.y,e.y)}}function W7(t,e){let n=.5;const r=Qn(t),s=Qn(e);return s>r?n=od(e.min,e.max-r,t.min):r>s&&(n=od(t.min,t.max-s,e.min)),Ji(0,1,n)}function H7(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const pw=.35;function G7(t=pw){return t===!1?t=0:t===!0&&(t=pw),{x:nC(t,"left","right"),y:nC(t,"top","bottom")}}function nC(t,e,n){return{min:rC(t,e),max:rC(t,n)}}function rC(t,e){return typeof t=="number"?t:t[e]||0}const sC=()=>({translate:0,scale:1,origin:0,originPoint:0}),Za=()=>({x:sC(),y:sC()}),iC=()=>({min:0,max:0}),Tt=()=>({x:iC(),y:iC()});function rr(t){return[t("x"),t("y")]}function AD({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function q7({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Q7(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Iy(t){return t===void 0||t===1}function mw({scale:t,scaleX:e,scaleY:n}){return!Iy(t)||!Iy(e)||!Iy(n)}function Po(t){return mw(t)||ND(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function ND(t){return oC(t.x)||oC(t.y)}function oC(t){return t&&t!=="0%"}function Lp(t,e,n){const r=t-n,s=e*r;return n+s}function aC(t,e,n,r,s){return s!==void 0&&(t=Lp(t,s,r)),Lp(t,n,r)+e}function gw(t,e=0,n=1,r,s){t.min=aC(t.min,e,n,r,s),t.max=aC(t.max,e,n,r,s)}function kD(t,{x:e,y:n}){gw(t.x,e.translate,e.scale,e.originPoint),gw(t.y,n.translate,n.scale,n.originPoint)}const lC=.999999999999,cC=1.0000000000001;function Y7(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&tl(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,kD(t,o)),r&&Po(i.latestValues)&&tl(t,i.latestValues))}e.x<cC&&e.x>lC&&(e.x=1),e.y<cC&&e.y>lC&&(e.y=1)}function el(t,e){t.min=t.min+e,t.max=t.max+e}function uC(t,e,n,r,s=.5){const i=dt(t.min,t.max,s);gw(t,e,n,i,r)}function tl(t,e){uC(t.x,e.x,e.scaleX,e.scale,e.originX),uC(t.y,e.y,e.scaleY,e.scale,e.originY)}function DD(t,e){return AD(Q7(t.getBoundingClientRect(),e))}function X7(t,e,n){const r=DD(t,n),{scroll:s}=e;return s&&(el(r.x,s.offset.x),el(r.y,s.offset.y)),r}const MD=({current:t})=>t?t.ownerDocument.defaultView:null,J7=new WeakMap;class Z7{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Wm(d,"page").point)},i=(d,h)=>{var f;const{drag:g,dragPropagation:w,onDragStart:y}=this.getProps();if(g&&!w&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=CD(g),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),rr(x=>{let E=this.getAxisMotionValue(x).get()||0;if(es.test(E)){const{projection:b}=this.visualElement;if(b&&b.layout){const C=b.layout.layoutBox[x];C&&(E=Qn(C)*(parseFloat(E)/100))}}this.originPoint[x]=E}),y&&$e.postRender(()=>y(d,h)),(f=this.removeWillChange)===null||f===void 0||f.call(this),this.removeWillChange=hw(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:w,onDrag:y}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:T}=h;if(g&&this.currentDirection===null){this.currentDirection=eG(T),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",h.point,T),this.updateAxis("y",h.point,T),this.visualElement.render(),y&&y(d,h)},a=(d,h)=>this.stop(d,h),l=()=>rr(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new TD(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:MD(this.visualElement)})}stop(e,n){var r;(r=this.removeWillChange)===null||r===void 0||r.call(this);const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&$e.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Jh(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=$7(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Ja(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=z7(s.layoutBox,n):this.constraints=!1,this.elastic=G7(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&rr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=H7(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ja(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=X7(r,s.root,this.visualElement.getTransformPagePoint());let o=K7(s.layout.layoutBox,i);if(n){const a=n(q7(o));this.hasMutatedConstraints=!!a,a&&(o=AD(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=rr(d=>{if(!Jh(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,g=s?40:1e7,w={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,w)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(rE(e,r,0,n,this.visualElement,!1,hw(this.visualElement,e)))}stopAnimation(){rr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){rr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){rr(n=>{const{drag:r}=this.getProps();if(!Jh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-dt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ja(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};rr(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=W7({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),rr(o=>{if(!Jh(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(dt(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;J7.set(this.visualElement,this);const e=this.visualElement.current,n=Ns(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ja(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),$e.read(r);const o=Ss(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(rr(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=pw,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Jh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function eG(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class tG extends uo{constructor(e){super(e),this.removeGroupControls=mn,this.removeListeners=mn,this.controls=new Z7(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||mn}unmount(){this.removeGroupControls(),this.removeListeners()}}const dC=t=>(e,n)=>{t&&$e.postRender(()=>t(e,n))};class nG extends uo{constructor(){super(...arguments),this.removePointerDownListener=mn}onPointerDown(e){this.session=new TD(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:MD(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:dC(e),onStart:dC(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&$e.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Ns(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Hm=m.createContext(null);function rG(){const t=m.useContext(Hm);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=m.useId();m.useEffect(()=>r(s),[]);const i=m.useCallback(()=>n&&n(s),[s,n]);return!e&&n?[!1,i]:[!0]}const iE=m.createContext({}),OD=m.createContext({}),Df={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function hC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Gc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(me.test(t))t=parseFloat(t);else return t;const n=hC(t,e.target.x),r=hC(t,e.target.y);return`${n}% ${r}%`}},sG={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Zi.parse(t);if(s.length>5)return r;const i=Zi.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=dt(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}},jp={};function iG(t){Object.assign(jp,t)}const{schedule:oE,cancel:fse}=Lk(queueMicrotask,!1);class oG extends m.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;iG(aG),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Df.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||$e.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),oE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function LD(t){const[e,n]=rG(),r=m.useContext(iE);return p.jsx(oG,{...t,layoutGroup:r,switchLayoutGroup:m.useContext(OD),isPresent:e,safeToRemove:n})}const aG={borderRadius:{...Gc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gc,borderTopRightRadius:Gc,borderBottomLeftRadius:Gc,borderBottomRightRadius:Gc,boxShadow:sG},jD=["TopLeft","TopRight","BottomLeft","BottomRight"],lG=jD.length,fC=t=>typeof t=="string"?parseFloat(t):t,pC=t=>typeof t=="number"||me.test(t);function cG(t,e,n,r,s,i){s?(t.opacity=dt(0,n.opacity!==void 0?n.opacity:1,uG(r)),t.opacityExit=dt(e.opacity!==void 0?e.opacity:1,0,dG(r))):i&&(t.opacity=dt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<lG;o++){const a=`border${jD[o]}Radius`;let l=mC(e,a),c=mC(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||pC(l)===pC(c)?(t[a]=Math.max(dt(fC(l),fC(c),r),0),(es.test(c)||es.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=dt(e.rotate||0,n.rotate||0,r))}function mC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const uG=VD(0,.5,lD),dG=VD(.5,.95,mn);function VD(t,e,n){return r=>r<t?0:r>e?1:n(od(t,e,r))}function gC(t,e){t.min=e.min,t.max=e.max}function nr(t,e){gC(t.x,e.x),gC(t.y,e.y)}function yC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function vC(t,e,n,r,s){return t-=e,t=Lp(t,1/n,r),s!==void 0&&(t=Lp(t,1/s,r)),t}function hG(t,e=0,n=1,r=.5,s,i=t,o=t){if(es.test(e)&&(e=parseFloat(e),e=dt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=dt(i.min,i.max,r);t===i&&(a-=e),t.min=vC(t.min,e,n,a,s),t.max=vC(t.max,e,n,a,s)}function wC(t,e,[n,r,s],i,o){hG(t,e[n],e[r],e[s],e.scale,i,o)}const fG=["x","scaleX","originX"],pG=["y","scaleY","originY"];function _C(t,e,n,r){wC(t.x,e,fG,n?n.x:void 0,r?r.x:void 0),wC(t.y,e,pG,n?n.y:void 0,r?r.y:void 0)}function EC(t){return t.translate===0&&t.scale===1}function FD(t){return EC(t.x)&&EC(t.y)}function xC(t,e){return t.min===e.min&&t.max===e.max}function mG(t,e){return xC(t.x,e.x)&&xC(t.y,e.y)}function TC(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function UD(t,e){return TC(t.x,e.x)&&TC(t.y,e.y)}function SC(t){return Qn(t.x)/Qn(t.y)}function bC(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class gG{constructor(){this.members=[]}add(e){$m(this.members,e),e.scheduleRender()}remove(e){if(zm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yG(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:f,skewX:g,skewY:w}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),g&&(r+=`skewX(${g}deg) `),w&&(r+=`skewY(${w}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const vG=(t,e)=>t.depth-e.depth;class wG{constructor(){this.children=[],this.isDirty=!1}add(e){$m(this.children,e),this.isDirty=!0}remove(e){zm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(vG),this.isDirty=!1,this.children.forEach(e)}}function Mf(t){const e=pn(t)?t.get():t;return u7(e)?e.toValue():e}function _G(t,e){const n=ts.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&($s(r),t(i-e))};return $e.read(r,!0),()=>$s(r)}function EG(t){return t instanceof SVGElement&&t.tagName!=="svg"}function xG(t,e,n){const r=pn(t)?t:ad(t);return r.start(rE("",r,e,n)),r.animation}const Io={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ru=typeof window<"u"&&window.MotionDebug!==void 0,Ay=["","X","Y","Z"],TG={visibility:"hidden"},CC=1e3;let SG=0;function Ny(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function BD(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=vD(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",$e,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&BD(r)}function $D({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=SG++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ru&&(Io.totalNodes=Io.resolvedTargetDeltas=Io.recalculatedProjection=0),this.nodes.forEach(RG),this.nodes.forEach(kG),this.nodes.forEach(DG),this.nodes.forEach(PG),ru&&window.MotionDebug.record(Io)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new wG)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new sE),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=EG(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=_G(f,250),Df.hasAnimatedSinceResize&&(Df.hasAnimatedSinceResize=!1,this.nodes.forEach(PC))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:g,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||VG,{onLayoutAnimationStart:T,onLayoutAnimationComplete:x}=d.getProps(),E=!this.targetLayout||!UD(this.targetLayout,w)||g,b=!f&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||f&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const C={...W_(y,"layout"),onPlay:T,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else f||PC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,$s(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(MG),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&BD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(RC);return}this.isUpdating||this.nodes.forEach(AG),this.isUpdating=!1,this.nodes.forEach(NG),this.nodes.forEach(bG),this.nodes.forEach(CG),this.clearAllSnapshots();const a=ts.now();Wt.delta=Ji(0,1e3/60,a-Wt.timestamp),Wt.timestamp=a,Wt.isProcessing=!0,xy.update.process(Wt),xy.preRender.process(Wt),xy.render.process(Wt),Wt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,oE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(IG),this.sharedNodes.forEach(OG)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$e.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$e.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!FD(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||Po(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),FG(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Tt();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(UG))){const{scroll:d}=this.root;d&&(el(l.x,d.offset.x),el(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=Tt();if(nr(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&nr(l,o),el(l.x,h.offset.x),el(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=Tt();nr(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&tl(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Po(d.latestValues)&&tl(l,d.latestValues)}return Po(this.latestValues)&&tl(l,this.latestValues),l}removeTransform(o){const a=Tt();nr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Po(c.latestValues))continue;mw(c.latestValues)&&c.updateSnapshot();const d=Tt(),h=c.measurePageBox();nr(d,h),_C(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Po(this.latestValues)&&_C(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Wt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),xu(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),nr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Tt(),this.targetWithTransforms=Tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),B7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):nr(this.target,this.layout.layoutBox),kD(this.target,this.targetDelta)):nr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),xu(this.relativeTargetOrigin,this.target,g.target),nr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ru&&Io.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||mw(this.parent.latestValues)||ND(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Wt.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;nr(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;Y7(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Tt());const{target:w}=a;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(yC(this.prevProjectionDelta.x,this.projectionDelta.x),yC(this.prevProjectionDelta.y,this.projectionDelta.y)),Eu(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!bC(this.projectionDelta.x,this.prevProjectionDelta.x)||!bC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),ru&&Io.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Za(),this.projectionDelta=Za(),this.projectionDeltaWithTransform=Za()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=Za();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Tt(),g=l?l.source:void 0,w=this.layout?this.layout.source:void 0,y=g!==w,T=this.getStack(),x=!T||T.members.length<=1,E=!!(y&&!x&&this.options.crossfade===!0&&!this.path.some(jG));this.animationProgress=0;let b;this.mixTargetDelta=C=>{const k=C/1e3;IC(h.x,o.x,k),IC(h.y,o.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xu(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),LG(this.relativeTarget,this.relativeTargetOrigin,f,k),b&&mG(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Tt()),nr(b,this.relativeTarget)),y&&(this.animationValues=d,cG(d,c,this.latestValues,k,E,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&($s(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$e.update(()=>{Df.hasAnimatedSinceResize=!0,this.currentAnimation=xG(0,CC,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(CC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&zD(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Tt();const h=Qn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Qn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}nr(a,l),tl(a,d),Eu(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new gG),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Ny("z",o,c,this.animationValues);for(let d=0;d<Ay.length;d++)Ny(`rotate${Ay[d]}`,o,c,this.animationValues),Ny(`skew${Ay[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return TG;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Mf(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=Mf(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Po(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=yG(this.projectionDeltaWithTransform,this.treeScale,f),d&&(c.transform=d(f,c.transform));const{x:g,y:w}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${w.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in jp){if(f[y]===void 0)continue;const{correct:T,applyTo:x}=jp[y],E=c.transform==="none"?f[y]:T(f[y],h);if(x){const b=x.length;for(let C=0;C<b;C++)c[x[C]]=E}else c[y]=E}return this.options.layoutId&&(c.pointerEvents=h===this?Mf(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(RC),this.root.sharedNodes.clear()}}}function bG(t){t.updateLayout()}function CG(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?rr(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],g=Qn(f);f.min=r[h].min,f.max=f.min+g}):zD(i,n.layoutBox,r)&&rr(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],g=Qn(r[h]);f.max=f.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+g)});const a=Za();Eu(a,r,n.layoutBox);const l=Za();o?Eu(l,t.applyTransform(s,!0),n.measuredBox):Eu(l,r,n.layoutBox);const c=!FD(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:g}=h;if(f&&g){const w=Tt();xu(w,n.layoutBox,f.layoutBox);const y=Tt();xu(y,r,g.layoutBox),UD(w,y)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=w,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function RG(t){ru&&Io.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function PG(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function IG(t){t.clearSnapshot()}function RC(t){t.clearMeasurements()}function AG(t){t.isLayoutDirty=!1}function NG(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function PC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function kG(t){t.resolveTargetDelta()}function DG(t){t.calcProjection()}function MG(t){t.resetSkewAndRotation()}function OG(t){t.removeLeadSnapshot()}function IC(t,e,n){t.translate=dt(e.translate,0,n),t.scale=dt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function AC(t,e,n,r){t.min=dt(e.min,n.min,r),t.max=dt(e.max,n.max,r)}function LG(t,e,n,r){AC(t.x,e.x,n.x,r),AC(t.y,e.y,n.y,r)}function jG(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const VG={duration:.45,ease:[.4,0,.1,1]},NC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),kC=NC("applewebkit/")&&!NC("chrome/")?Math.round:mn;function DC(t){t.min=kC(t.min),t.max=kC(t.max)}function FG(t){DC(t.x),DC(t.y)}function zD(t,e,n){return t==="position"||t==="preserve-aspect"&&!U7(SC(e),SC(n),.2)}function UG(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const BG=$D({attachResizeListener:(t,e)=>Ss(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ky={current:void 0},KD=$D({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ky.current){const t=new BG({});t.mount(window),t.setOptions({layoutScroll:!0}),ky.current=t}return ky.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),$G={pan:{Feature:nG},drag:{Feature:tG,ProjectionNode:KD,MeasureLayout:LD}};function MC(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",s=(i,o)=>{if(i.pointerType==="touch"||RD())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&$e.postRender(()=>l(i,o))};return Ns(t.current,n,s,{passive:!t.getProps()[r]})}class zG extends uo{mount(){this.unmount=As(MC(this.node,!0),MC(this.node,!1))}unmount(){}}class KG extends uo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=As(Ss(this.node.current,"focus",()=>this.onFocus()),Ss(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const WD=(t,e)=>e?t===e?!0:WD(t,e.parentElement):!1;function Dy(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Wm(n))}class WG extends uo{constructor(){super(...arguments),this.removeStartListeners=mn,this.removeEndListeners=mn,this.removeAccessibleListeners=mn,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Ns(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:h}=this.node.getProps(),f=!h&&!WD(this.node.current,a.target)?d:c;f&&$e.update(()=>f(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=Ns(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=As(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Dy("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&$e.postRender(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=Ss(this.node.current,"keyup",o),Dy("down",(a,l)=>{this.startPress(a,l)})},n=Ss(this.node.current,"keydown",e),r=()=>{this.isPressing&&Dy("cancel",(i,o)=>this.cancelPress(i,o))},s=Ss(this.node.current,"blur",r);this.removeAccessibleListeners=As(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&$e.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!RD()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&$e.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Ns(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Ss(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=As(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const yw=new WeakMap,My=new WeakMap,HG=t=>{const e=yw.get(t.target);e&&e(t)},GG=t=>{t.forEach(HG)};function qG({root:t,...e}){const n=t||document;My.has(n)||My.set(n,{});const r=My.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(GG,{root:t,...e})),r[s]}function QG(t,e,n){const r=qG(e);return yw.set(t,n),r.observe(t),()=>{yw.delete(t),r.unobserve(t)}}const YG={some:0,all:1};class XG extends uo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:YG[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(l)};return QG(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(JG(e,n))&&this.startObserver()}unmount(){}}function JG({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const ZG={inView:{Feature:XG},tap:{Feature:WG},focus:{Feature:KG},hover:{Feature:zG}},eq={layout:{ProjectionNode:KD,MeasureLayout:LD}},aE=m.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Gm=m.createContext({}),lE=typeof window<"u",HD=lE?m.useLayoutEffect:m.useEffect,GD=m.createContext({strict:!1});let OC=!1;function tq(t,e,n,r,s){var i;const{visualElement:o}=m.useContext(Gm),a=m.useContext(GD),l=m.useContext(Hm),c=m.useContext(aE).reducedMotion,d=m.useRef();r=r||a.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const h=d.current,f=m.useContext(OD);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&rq(d.current,n,s,f),m.useInsertionEffect(()=>{h&&h.update(n,l)});const g=n[yD],w=m.useRef(!!g&&!window.MotionHandoffIsComplete&&((i=window.MotionHasOptimisedAnimation)===null||i===void 0?void 0:i.call(window,g)));return HD(()=>{h&&(h.updateFeatures(),oE.render(h.render),w.current&&h.animationState&&h.animationState.animateChanges())}),m.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current=!1,OC||(OC=!0,queueMicrotask(nq)))}),h}function nq(){window.MotionHandoffIsComplete=!0}function rq(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:qD(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Ja(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function qD(t){if(t)return t.options.allowProjection!==!1?t.projection:qD(t.parent)}function sq(t,e,n){return m.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ja(n)&&(n.current=r))},[e])}function qm(t){return rd(t.animate)||K_.some(e=>sd(t[e]))}function QD(t){return!!(qm(t)||t.variants)}function iq(t,e){if(qm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||sd(n)?n:void 0,animate:sd(r)?r:void 0}}return t.inherit!==!1?e:{}}function oq(t){const{initial:e,animate:n}=iq(t,m.useContext(Gm));return m.useMemo(()=>({initial:e,animate:n}),[LC(e),LC(n)])}function LC(t){return Array.isArray(t)?t.join(" "):t}const jC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},zl={};for(const t in jC)zl[t]={isEnabled:e=>jC[t].some(n=>!!e[n])};function aq(t){for(const e in t)zl[e]={...zl[e],...t[e]}}const lq=Symbol.for("motionComponentSymbol");function cq({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&aq(t);function i(a,l){let c;const d={...m.useContext(aE),...a,layoutId:uq(a)},{isStatic:h}=d,f=oq(a),g=r(a,h);if(!h&&lE){dq();const w=hq(d);c=w.MeasureLayout,f.visualElement=tq(s,g,d,e,w.ProjectionNode)}return p.jsxs(Gm.Provider,{value:f,children:[c&&f.visualElement?p.jsx(c,{visualElement:f.visualElement,...d}):null,n(s,a,sq(g,f.visualElement,l),g,h,f.visualElement)]})}const o=m.forwardRef(i);return o[lq]=s,o}function uq({layoutId:t}){const e=m.useContext(iE).id;return e&&t!==void 0?e+"-"+t:t}function dq(t,e){m.useContext(GD).strict}function hq(t){const{drag:e,layout:n}=zl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const fq=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function cE(t){return typeof t!="string"||t.includes("-")?!1:!!(fq.indexOf(t)>-1||/[A-Z]/u.test(t))}function YD(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const XD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function JD(t,e,n,r){YD(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(XD.has(s)?s:Km(s),e.attrs[s])}function ZD(t,{layout:e,layoutId:n}){return co.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!jp[t]||t==="opacity")}function uE(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(pn(s[o])||e.style&&pn(e.style[o])||ZD(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return n&&s&&typeof s.willChange=="string"&&(n.applyWillChange=!1),i}function eM(t,e,n){const r=uE(t,e,n);for(const s in t)if(pn(t[s])||pn(e[s])){const i=qd.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function dE(t){const e=m.useRef(null);return e.current===null&&(e.current=t()),e.current}function pq({applyWillChange:t=!1,scrapeMotionValuesFromProps:e,createRenderState:n,onMount:r},s,i,o,a){const l={latestValues:gq(s,i,o,a?!1:t,e),renderState:n()};return r&&(l.mount=c=>r(s,c,l)),l}const tM=t=>(e,n)=>{const r=m.useContext(Gm),s=m.useContext(Hm),i=()=>pq(t,e,r,s,n);return n?i():dE(i)};function mq(t,e){const n=wD(e);n&&$m(t,n)}function VC(t,e,n){const r=Array.isArray(e)?e:[e];for(let s=0;s<r.length;s++){const i=$_(t,r[s]);if(i){const{transitionEnd:o,transition:a,...l}=i;n(l,o)}}}function gq(t,e,n,r,s){var i;const o={},a=[],l=r&&((i=t.style)===null||i===void 0?void 0:i.willChange)===void 0,c=s(t,{});for(const T in c)o[T]=Mf(c[T]);let{initial:d,animate:h}=t;const f=qm(t),g=QD(t);e&&g&&!f&&t.inherit!==!1&&(d===void 0&&(d=e.initial),h===void 0&&(h=e.animate));let w=n?n.initial===!1:!1;w=w||d===!1;const y=w?h:d;return y&&typeof y!="boolean"&&!rd(y)&&VC(t,y,(T,x)=>{for(const E in T){let b=T[E];if(Array.isArray(b)){const C=w?b.length-1:0;b=b[C]}b!==null&&(o[E]=b)}for(const E in x)o[E]=x[E]}),l&&(h&&d!==!1&&!rd(h)&&VC(t,h,T=>{for(const x in T)mq(a,x)}),a.length&&(o.willChange=a.join(","))),o}const hE=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),nM=()=>({...hE(),attrs:{}}),rM=(t,e)=>e&&typeof t=="number"?e.transform(t):t,yq={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vq=qd.length;function wq(t,e,n){let r="",s=!0;for(let i=0;i<vq;i++){const o=qd[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=rM(a,Y_[o]);if(!l){s=!1;const d=yq[o]||o;r+=`${d}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function fE(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(co.has(l)){o=!0;continue}else if(Uk(l)){s[l]=c;continue}else{const d=rM(c,Y_[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=wq(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${c} ${d}`}}function FC(t,e,n){return typeof t=="string"?t:me.transform(e+n*t)}function _q(t,e,n){const r=FC(e,t.x,t.width),s=FC(n,t.y,t.height);return`${r} ${s}`}const Eq={offset:"stroke-dashoffset",array:"stroke-dasharray"},xq={offset:"strokeDashoffset",array:"strokeDasharray"};function Tq(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?Eq:xq;t[i.offset]=me.transform(-r);const o=me.transform(e),a=me.transform(n);t[i.array]=`${o} ${a}`}function pE(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,h){if(fE(t,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:g,dimensions:w}=t;f.transform&&(w&&(g.transform=f.transform),delete f.transform),w&&(s!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=_q(w,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&Tq(f,o,a,l,!1)}const mE=t=>typeof t=="string"&&t.toLowerCase()==="svg",Sq={useVisualState:tM({scrapeMotionValuesFromProps:eM,createRenderState:nM,onMount:(t,e,{renderState:n,latestValues:r})=>{$e.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),$e.render(()=>{pE(n,r,mE(e.tagName),t.transformTemplate),JD(e,n)})}})},bq={useVisualState:tM({applyWillChange:!0,scrapeMotionValuesFromProps:uE,createRenderState:hE})};function sM(t,e,n){for(const r in e)!pn(e[r])&&!ZD(r,n)&&(t[r]=e[r])}function Cq({transformTemplate:t},e){return m.useMemo(()=>{const n=hE();return fE(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Rq(t,e){const n=t.style||{},r={};return sM(r,n,t),Object.assign(r,Cq(t,e)),r}function Pq(t,e){const n={},r=Rq(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Iq=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Vp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Iq.has(t)}let iM=t=>!Vp(t);function Aq(t){t&&(iM=e=>e.startsWith("on")?!Vp(e):t(e))}try{Aq(require("@emotion/is-prop-valid").default)}catch{}function Nq(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(iM(s)||n===!0&&Vp(s)||!e&&!Vp(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function kq(t,e,n,r){const s=m.useMemo(()=>{const i=nM();return pE(i,e,mE(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};sM(i,t.style,t),s.style={...i,...s.style}}return s}function Dq(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(cE(n)?kq:Pq)(r,i,o,n),c=Nq(r,typeof n=="string",t),d=n!==m.Fragment?{...c,...l,ref:s}:{},{children:h}=r,f=m.useMemo(()=>pn(h)?h.get():h,[h]);return m.createElement(n,{...d,children:f})}}function Mq(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...cE(r)?Sq:bq,preloadedFeatures:t,useRender:Dq(s),createVisualElement:e,Component:r};return cq(o)}}const vw={current:null},oM={current:!1};function Oq(){if(oM.current=!0,!!lE)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>vw.current=t.matches;t.addListener(e),e()}else vw.current=!1}function Lq(t,e,n){for(const r in e){const s=e[r],i=n[r];if(pn(s))t.addValue(r,s);else if(pn(i))t.addValue(r,ad(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,ad(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const UC=new WeakMap,jq=[...zk,un,Zi],Vq=t=>jq.find($k(t)),BC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Fq{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=q_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=ts.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,$e.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=qm(n),this.isVariantNode=QD(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const g=h[f];l[f]!==void 0&&pn(g)&&g.set(l[f],!1)}}mount(e){this.current=e,UC.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),oM.current||Oq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:vw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){UC.delete(this.current),this.projection&&this.projection.unmount(),$s(this.notifyUpdate),$s(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=co.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&$e.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in zl){const n=zl[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<BC.length;r++){const s=BC[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Lq(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ad(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(Vk(s)||jk(s))?s=parseFloat(s):!Vq(s)&&Zi.test(n)&&(s=Xk(e,n)),this.setBaseTarget(e,pn(s)?s.get():s)),pn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=$_(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!pn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new sE),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class aM extends Fq{constructor(){super(...arguments),this.KeyframeResolver=Jk}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function Uq(t){return window.getComputedStyle(t)}class Bq extends aM{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=YD}readValueFromInstance(e,n){if(co.has(n)){const r=X_(n);return r&&r.default||0}else{const r=Uq(e),s=(Uk(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return DD(e,n)}build(e,n,r){fE(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return uE(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class $q extends aM{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(co.has(n)){const r=X_(n);return r&&r.default||0}return n=XD.has(n)?n:Km(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return eM(e,n,r)}build(e,n,r){pE(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){JD(e,n,r,s)}mount(e){this.isSVGTag=mE(e.tagName),super.mount(e)}}const zq=(t,e)=>cE(t)?new $q(e):new Bq(e,{allowProjection:t!==m.Fragment}),Kq=Mq({...N7,...ZG,...$G,...eq},zq),Wq=bH(Kq);class Hq extends m.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Gq({children:t,isPresent:e}){const n=m.useId(),r=m.useRef(null),s=m.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=m.useContext(aE);return m.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=s.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),p.jsx(Hq,{isPresent:e,childRef:r,sizeRef:s,children:m.cloneElement(t,{ref:r})})}const qq=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=dE(Qq),l=m.useId(),c=m.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:d=>{a.set(d,!0);for(const h of a.values())if(!h)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),i?[Math.random()]:[n]);return m.useMemo(()=>{a.forEach((d,h)=>a.set(h,!1))},[n]),m.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=p.jsx(Gq,{isPresent:n,children:t})),p.jsx(Hm.Provider,{value:c,children:t})};function Qq(){return new Map}const Zh=t=>t.key||"";function $C(t){const e=[];return m.Children.forEach(t,n=>{m.isValidElement(n)&&e.push(n)}),e}const Yq=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=m.useMemo(()=>$C(t),[t]),l=a.map(Zh),c=m.useRef(!0),d=m.useRef(a),h=dE(()=>new Map),[f,g]=m.useState(a),[w,y]=m.useState(a);HD(()=>{c.current=!1,d.current=a;for(let E=0;E<w.length;E++){const b=Zh(w[E]);l.includes(b)?h.delete(b):h.get(b)!==!0&&h.set(b,!1)}},[w,l.length,l.join("-")]);const T=[];if(a!==f){let E=[...a];for(let b=0;b<w.length;b++){const C=w[b],k=Zh(C);l.includes(k)||(E.splice(b,0,C),T.push(C))}o==="wait"&&T.length&&(E=T),y($C(E)),g(a);return}const{forceRender:x}=m.useContext(iE);return p.jsx(p.Fragment,{children:w.map(E=>{const b=Zh(E),C=a===w||l.includes(b),k=()=>{if(h.has(b))h.set(b,!0);else return;let j=!0;h.forEach(R=>{R||(j=!1)}),j&&(x==null||x(),y(d.current),s&&s())};return p.jsx(qq,{isPresent:C,initial:!c.current||r?void 0:!1,custom:C?void 0:n,presenceAffectsLayout:i,mode:o,onExitComplete:C?void 0:k,children:E},b)})})},Xq=({messageHistory:t,endOfMessagesRef:e,handleMessageClick:n})=>p.jsxs("div",{className:"flex-1 py-4 overflow-y-auto",children:[p.jsx(Yq,{children:p.jsx(Mk,{items:t,renderItem:r=>p.jsx(Wq.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`mb-4 ${r.sender==="user"?"text-right":"text-left"}`,children:p.jsx(SH,{message:r,onItemClick:n})},r.uuid),listStyle:"px-4 flex flex-col space-y-4"})}),p.jsx("div",{ref:e})]}),Jq=()=>{const{messageHistory:t,handleSubmitMessage:e,message:n,setMessage:r,endOfMessagesRef:s,selectedResponse:i,setSelectedResponse:o,isInfoPanelOpen:a,setIsInfoPanelOpen:l}=DW();return p.jsxs("div",{className:"flex flex-col w-full max-w-4xl h-[44rem] border border-neutral-200 bg-white rounded-md",children:[p.jsxs("header",{className:"w-full h-[4rem] text-xl font-medium flex items-center justify-between px-4 border-b border-customBorderColor",children:["Admin Chat Interface",p.jsx("button",{onClick:()=>l(c=>!c),children:p.jsx("div",{className:"border border-customBorderColor text-zinc-500 p-1.5 rounded-sm hover:bg-zinc-50",children:p.jsx(O5,{})})})]}),p.jsxs("div",{className:"flex-1 flex overflow-y-auto",children:[p.jsxs("section",{className:"flex-1 flex flex-col",children:[p.jsx(Xq,{messageHistory:t,endOfMessagesRef:s,handleMessageClick:o}),p.jsx(TH,{message:n,setMessage:r,handleSubmit:e})]}),p.jsx(xH,{showPanel:a,responseData:i})]})]})},Zq=()=>p.jsxs("div",{className:"flex items-center flex-col w-[84rem] px-20 space-y-6 pb-8",children:[p.jsx(IW,{headerText:"Chatbot"}),p.jsx(Jq,{})]}),eQ=()=>p.jsx("header",{className:"py-4 text-3xl font-semibold w-full",children:"Knowledge"});function tQ(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var gE=t=>{const{present:e,children:n}=t,r=nQ(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=Fe(r.ref,rQ(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};gE.displayName="Presence";function nQ(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=tQ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=ef(r.current);i.current=a==="mounted"?c:"none"},[a]),vn(()=>{const c=r.current,d=s.current;if(d!==t){const f=i.current,g=ef(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&f!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),vn(()=>{if(e){const c=h=>{const g=ef(r.current).includes(h.animationName);h.target===e&&g&&pa.flushSync(()=>l("ANIMATION_END"))},d=h=>{h.target===e&&(i.current=ef(r.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function ef(t){return(t==null?void 0:t.animationName)||"none"}function rQ(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var yE="Tabs",[sQ,mse]=ac(yE,[Om]),lM=Om(),[iQ,vE]=sQ(yE),cM=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,d=p_(a),[h,f]=ic({prop:r,onChange:s,defaultProp:i});return p.jsx(iQ,{scope:n,baseId:Ui(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:l,children:p.jsx(Te.div,{dir:d,"data-orientation":o,...c,ref:e})})});cM.displayName=yE;var uM="TabsList",dM=m.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=vE(uM,n),o=lM(n);return p.jsx(_N,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:p.jsx(Te.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});dM.displayName=uM;var hM="TabsTrigger",fM=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=vE(hM,n),a=lM(n),l=mM(o.baseId,r),c=gM(o.baseId,r),d=r===o.value;return p.jsx(EN,{asChild:!0,...a,focusable:!s,active:d,children:p.jsx(Te.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:Z(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:Z(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:Z(t.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(r)})})})});fM.displayName=hM;var pM="TabsContent",Qm=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=vE(pM,n),l=mM(a.baseId,r),c=gM(a.baseId,r),d=r===a.value,h=m.useRef(d);return m.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),p.jsx(gE,{present:s||d,children:({present:f})=>p.jsx(Te.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});Qm.displayName=pM;function mM(t,e){return`${t}-trigger-${e}`}function gM(t,e){return`${t}-content-${e}`}var oQ=cM,yM=dM,vM=fM,wM=Qm;const aQ=oQ,_M=m.forwardRef(({className:t,...e},n)=>p.jsx(yM,{ref:n,className:de("inline-flex min-h-10 items-center justify-center rounded-tl-md rounded-tr-md bg-muted px-4 py-3 text-muted-foreground",t),...e}));_M.displayName=yM.displayName;const EM=m.forwardRef(({className:t,...e},n)=>p.jsx(vM,{ref:n,className:de("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-2 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));EM.displayName=vM.displayName;const xM=m.forwardRef(({className:t,...e},n)=>p.jsx(wM,{ref:n,className:de("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));xM.displayName=wM.displayName;const lQ=[{tabValue:"knowledgeBase",tabName:"Knowledge Base"},{tabValue:"knowledgeEntry",tabName:"Knowledge Entry"},{tabValue:"entryDetails",tabName:"Entry Details"}],cQ={knowledgeBase:P5,knowledgeEntry:x5,entryDetails:N5},uQ=({tabs:t})=>p.jsx(_M,{className:"grid w-full grid-cols-3 bg-heading",children:t.map(({tabName:e,tabValue:n})=>{const r=cQ[n];return p.jsxs(EM,{value:n,className:"data-[state=active]:bg-primary data-[state=active]:text-white",children:[p.jsx(r,{className:"size-5 mr-2"}),p.jsx("p",{className:"hidden md:block",children:e})]},e)})});var dQ="DismissableLayer",ww="dismissableLayer.update",hQ="dismissableLayer.pointerDownOutside",fQ="dismissableLayer.focusOutside",zC,TM=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),SM=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(TM),[d,h]=m.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=Fe(e,R=>h(R)),y=Array.from(c.layers),[T]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=y.indexOf(T),E=d?y.indexOf(d):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,C=E>=x,k=gQ(R=>{const _=R.target,P=[...c.branches].some(A=>A.contains(_));!C||P||(s==null||s(R),o==null||o(R),R.defaultPrevented||a==null||a())},f),j=yQ(R=>{const _=R.target;[...c.branches].some(A=>A.contains(_))||(i==null||i(R),o==null||o(R),R.defaultPrevented||a==null||a())},f);return Im(R=>{E===c.layers.size-1&&(r==null||r(R),!R.defaultPrevented&&a&&(R.preventDefault(),a()))},f),m.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(zC=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),KC(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=zC)}},[d,f,n,c]),m.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),KC())},[d,c]),m.useEffect(()=>{const R=()=>g({});return document.addEventListener(ww,R),()=>document.removeEventListener(ww,R)},[]),p.jsx(Te.div,{...l,ref:w,style:{pointerEvents:b?C?"auto":"none":void 0,...t.style},onFocusCapture:Z(t.onFocusCapture,j.onFocusCapture),onBlurCapture:Z(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:Z(t.onPointerDownCapture,k.onPointerDownCapture)})});SM.displayName=dQ;var pQ="DismissableLayerBranch",mQ=m.forwardRef((t,e)=>{const n=m.useContext(TM),r=m.useRef(null),s=Fe(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),p.jsx(Te.div,{...t,ref:s})});mQ.displayName=pQ;function gQ(t,e=globalThis==null?void 0:globalThis.document){const n=Pt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){bM(hQ,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function yQ(t,e=globalThis==null?void 0:globalThis.document){const n=Pt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&bM(fQ,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function KC(){const t=new CustomEvent(ww);document.dispatchEvent(t)}function bM(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?oc(s,i):s.dispatchEvent(i)}var vQ="VisuallyHidden",Ym=m.forwardRef((t,e)=>p.jsx(Te.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Ym.displayName=vQ;var wQ=Ym,[Xm,gse]=ac("Tooltip",[Dm]),Jm=Dm(),CM="TooltipProvider",_Q=700,_w="tooltip.open",[EQ,wE]=Xm(CM),RM=t=>{const{__scopeTooltip:e,delayDuration:n=_Q,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=m.useState(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),p.jsx(EQ,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};RM.displayName=CM;var Zm="Tooltip",[xQ,eg]=Xm(Zm),PM=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,l=wE(Zm,t.__scopeTooltip),c=Jm(e),[d,h]=m.useState(null),f=Ui(),g=m.useRef(0),w=o??l.disableHoverableContent,y=a??l.delayDuration,T=m.useRef(!1),[x=!1,E]=ic({prop:r,defaultProp:s,onChange:R=>{R?(l.onOpen(),document.dispatchEvent(new CustomEvent(_w))):l.onClose(),i==null||i(R)}}),b=m.useMemo(()=>x?T.current?"delayed-open":"instant-open":"closed",[x]),C=m.useCallback(()=>{window.clearTimeout(g.current),T.current=!1,E(!0)},[E]),k=m.useCallback(()=>{window.clearTimeout(g.current),E(!1)},[E]),j=m.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{T.current=!0,E(!0)},y)},[y,E]);return m.useEffect(()=>()=>window.clearTimeout(g.current),[]),p.jsx(uN,{...c,children:p.jsx(xQ,{scope:e,contentId:f,open:x,stateAttribute:b,trigger:d,onTriggerChange:h,onTriggerEnter:m.useCallback(()=>{l.isOpenDelayed?j():C()},[l.isOpenDelayed,j,C]),onTriggerLeave:m.useCallback(()=>{w?k():window.clearTimeout(g.current)},[k,w]),onOpen:C,onClose:k,disableHoverableContent:w,children:n})})};PM.displayName=Zm;var Ew="TooltipTrigger",IM=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=eg(Ew,n),i=wE(Ew,n),o=Jm(n),a=m.useRef(null),l=Fe(e,a,s.onTriggerChange),c=m.useRef(!1),d=m.useRef(!1),h=m.useCallback(()=>c.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),p.jsx(dN,{asChild:!0,...o,children:p.jsx(Te.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:Z(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Z(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Z(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Z(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:Z(t.onBlur,s.onClose),onClick:Z(t.onClick,s.onClose)})})});IM.displayName=Ew;var TQ="TooltipPortal",[yse,SQ]=Xm(TQ,{forceMount:void 0}),Kl="TooltipContent",AM=m.forwardRef((t,e)=>{const n=SQ(Kl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=eg(Kl,t.__scopeTooltip);return p.jsx(gE,{present:r||o.open,children:o.disableHoverableContent?p.jsx(NM,{side:s,...i,ref:e}):p.jsx(bQ,{side:s,...i,ref:e})})}),bQ=m.forwardRef((t,e)=>{const n=eg(Kl,t.__scopeTooltip),r=wE(Kl,t.__scopeTooltip),s=m.useRef(null),i=Fe(e,s),[o,a]=m.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:h}=r,f=m.useCallback(()=>{a(null),h(!1)},[h]),g=m.useCallback((w,y)=>{const T=w.currentTarget,x={x:w.clientX,y:w.clientY},E=IQ(x,T.getBoundingClientRect()),b=AQ(x,E),C=NQ(y.getBoundingClientRect()),k=DQ([...b,...C]);a(k),h(!0)},[h]);return m.useEffect(()=>()=>f(),[f]),m.useEffect(()=>{if(l&&d){const w=T=>g(T,d),y=T=>g(T,l);return l.addEventListener("pointerleave",w),d.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",w),d.removeEventListener("pointerleave",y)}}},[l,d,g,f]),m.useEffect(()=>{if(o){const w=y=>{const T=y.target,x={x:y.clientX,y:y.clientY},E=(l==null?void 0:l.contains(T))||(d==null?void 0:d.contains(T)),b=!kQ(x,o);E?f():b&&(f(),c())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,d,o,c,f]),p.jsx(NM,{...t,ref:i})}),[CQ,RQ]=Xm(Zm,{isInside:!1}),NM=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=eg(Kl,n),c=Jm(n),{onClose:d}=l;return m.useEffect(()=>(document.addEventListener(_w,d),()=>document.removeEventListener(_w,d)),[d]),m.useEffect(()=>{if(l.trigger){const h=f=>{const g=f.target;g!=null&&g.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),p.jsx(SM,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:p.jsxs(hN,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(h_,{children:r}),p.jsx(CQ,{scope:n,isInside:!0,children:p.jsx(wQ,{id:l.contentId,role:"tooltip",children:s||r})})]})})});AM.displayName=Kl;var kM="TooltipArrow",PQ=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Jm(n);return RQ(kM,n).isInside?null:p.jsx(fN,{...s,...r,ref:e})});PQ.displayName=kM;function IQ(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function AQ(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function NQ(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function kQ(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function DQ(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),MQ(e)}function MQ(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var OQ=RM,LQ=PM,jQ=IM,DM=AM;const VQ=OQ,FQ=LQ,UQ=jQ,MM=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>p.jsx(DM,{ref:r,sideOffset:e,className:de("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));MM.displayName=DM.displayName;const _E=({label:t,htmlFor:e,tooltip:n})=>p.jsx(VQ,{children:p.jsxs(FQ,{children:[p.jsx(UQ,{asChild:!0,children:p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("label",{htmlFor:e,className:"cursor-pointer font-medium ",children:t}),p.jsx(VA,{className:"size-4 text-[#64748b] cursor-pointer"})]})}),p.jsx(MM,{className:"max-w-xs",children:p.jsx("p",{children:n})})]})}),BQ={entry:"ENTRY",base:"BASE"},$Q="A unique action or purpose the user wants to achieve",zQ="Example phrases the bot associates with the intent during training",KQ="The bot's response to the query",WQ=8,HQ={1:"Base",2:"Entry",3:"Verify"},GQ={1:"Entry",2:"Verify"},OM={base:"This action cannot be undone. This will permanently delete the the knowledge base.",entry:"This action cannot be undone. This will permanently delete the the knowledge entry."},Ue=ga((t,e)=>({formData:{knowledgeBaseName:"",intent:"",documents:[""],answer:"",fileUrl:"",file:null},formDataErrors:{},setFormData:(n,r)=>{t(s=>({formData:{...s.formData,[n]:r}}))},setFile:n=>{t(r=>({formData:{...r.formData,file:n}}))},setFormDataErrors:n=>{t({formDataErrors:n})},setDocuments:(n,r)=>{const s=e().formData.documents;s[r]=n,t(i=>({formData:{...i.formData,documents:s}}))},addDocument:()=>{e().formData.documents.length>=WQ||t(n=>({formData:{...n.formData,documents:[...n.formData.documents,""]}}))},removeDocument:n=>{const r=e().formData.documents;if(r.length===1)throw new Error("Documents cannot be empty");r.splice(n,1),t(s=>({formData:{...s.formData,documents:r}}))},clearFormData:()=>{t(()=>({formData:{knowledgeBaseName:"",intent:"",documents:[""],answer:"",fileUrl:"",file:null},formDataErrors:{knowledgeBaseName:"",intent:"",documents:"",answer:""}}))}})),qQ=()=>{const{intent:t}=Ue(n=>n.formData),e=Ue(n=>n.setFormData);return p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"w-fit",children:p.jsx(_E,{label:"Intent",htmlFor:"intent",tooltip:$Q})}),p.jsx(Jt,{id:"intent",placeholder:"Enter intent",value:t,className:"mt-1",onChange:n=>e("intent",n.target.value)})]})},tg=m.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:de("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));tg.displayName="Card";const LM=m.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:de("flex flex-col space-y-1.5 p-6",t),...e}));LM.displayName="CardHeader";const jM=m.forwardRef(({className:t,...e},n)=>p.jsx("h3",{ref:n,className:de("text-2xl font-semibold leading-none tracking-tight",t),...e}));jM.displayName="CardTitle";const VM=m.forwardRef(({className:t,...e},n)=>p.jsx("p",{ref:n,className:de("text-sm text-muted-foreground",t),...e}));VM.displayName="CardDescription";const ng=m.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:de("p-6 pt-0",t),...e}));ng.displayName="CardContent";const FM=m.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:de("flex items-center p-6 pt-0",t),...e}));FM.displayName="CardFooter";const QQ=()=>{var i;const t=Ue(o=>o.formData),e=Ue(o=>o.setDocuments),n=Ue(o=>o.addDocument),r=Ue(o=>o.removeDocument),s=async o=>{try{if(!t.intent)return;if(t.documents.length===1)return window.alert("Documents cannot be empty");r(o)}catch(a){console.error(a)}};return p.jsxs("div",{children:[p.jsx("div",{className:"w-fit",children:p.jsx(_E,{label:"Document",htmlFor:"document",tooltip:zQ})}),p.jsx("div",{className:"space-y-2 mt-1",children:(i=t.documents)==null?void 0:i.map((o,a)=>p.jsx(tg,{className:"w-full hover:bg-lightGray transition-colors",children:p.jsxs(ng,{className:"p-4 w-full flex items-center justify-between-",children:[p.jsx("div",{className:"flex w-full items-center space-x-4",children:p.jsx("input",{value:o,id:"document",className:"text-sm bg-transparent outline-none w-full py-2",placeholder:"Enter document",onChange:l=>e(l.target.value,a)})}),p.jsx("div",{className:"flex space-x-2",children:p.jsxs(Je,{variant:"ghost",size:"icon",className:"hover:bg-transparent",onClick:async()=>{await s(a)},children:[p.jsx(d_,{className:"size-5 font-bold hover:text-red-600 ease-in",strokeWidth:2}),p.jsx("span",{className:"sr-only",children:"Delete"})]})})]})},a))}),p.jsxs(Je,{variant:"outline",size:"sm",className:"mt-2",onClick:n,disabled:!t.intent,children:[p.jsx(Cm,{className:"w-4 h-4 mr-2"})," Add Document"]})]})},UM=m.forwardRef(({className:t,...e},n)=>p.jsx("textarea",{className:de("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));UM.displayName="Textarea";const YQ=".png,.jpg,.mp4,.pdf",XQ=({fileRef:t,changeFile:e})=>p.jsxs("div",{children:[p.jsx(Jt,{id:"file-upload",type:"file",className:"hidden",ref:t,accept:YQ,onChange:e}),p.jsx(Je,{variant:"ghost",size:"icon",className:"size-8 rounded-full hover:bg-neutral-100 p-1.5",onClick:()=>{var n;return(n=t.current)==null?void 0:n.click()},children:p.jsx(FA,{className:"size-4"})})]}),BM=SW,$M=bW,JQ=m.forwardRef(({className:t,inset:e,children:n,...r},s)=>p.jsxs(yk,{ref:s,className:de("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,p.jsx(OA,{className:"ml-auto h-4 w-4"})]}));JQ.displayName=yk.displayName;const ZQ=m.forwardRef(({className:t,...e},n)=>p.jsx(vk,{ref:n,className:de("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));ZQ.displayName=vk.displayName;const EE=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>p.jsx(CW,{children:p.jsx(uk,{ref:r,sideOffset:e,className:de("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));EE.displayName=uk.displayName;const zM=m.forwardRef(({className:t,inset:e,...n},r)=>p.jsx(hk,{ref:r,className:de("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));zM.displayName=hk.displayName;const eY=m.forwardRef(({className:t,children:e,checked:n,...r},s)=>p.jsxs(fk,{ref:s,className:de("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(mk,{children:p.jsx(S5,{className:"h-4 w-4"})})}),e]}));eY.displayName=fk.displayName;const tY=m.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(pk,{ref:r,className:de("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(mk,{children:p.jsx(R5,{className:"h-2 w-2 fill-current"})})}),e]}));tY.displayName=pk.displayName;const nY=m.forwardRef(({className:t,inset:e,...n},r)=>p.jsx(dk,{ref:r,className:de("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));nY.displayName=dk.displayName;const rY=m.forwardRef(({className:t,...e},n)=>p.jsx(gk,{ref:n,className:de("-mx-1 my-1 h-px bg-muted",t),...e}));rY.displayName=gk.displayName;var sY="Label",KM=m.forwardRef((t,e)=>p.jsx(Te.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));KM.displayName=sY;var WM=KM;const iY=Gd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Bi=m.forwardRef(({className:t,...e},n)=>p.jsx(WM,{ref:n,className:de(iY(),t),...e}));Bi.displayName=WM.displayName;const oY=({isLinkDropdownOpen:t,setIsLinkDropdownOpen:e,onInsertLink:n})=>{const[r,s]=m.useState(""),[i,o]=m.useState(""),a=()=>{e(!1),n(r,i),s(""),o("")};return p.jsxs(BM,{open:t,onOpenChange:e,children:[p.jsx($M,{asChild:!0,children:p.jsx(Je,{variant:"ghost",size:"icon",className:"size-8 rounded-full hover:bg-neutral-100 p-1.5",onClick:()=>e(!0),children:p.jsx(D5,{className:"size-4"})})}),p.jsx(EE,{side:"top",className:"w-56",children:p.jsxs("div",{className:"flex flex-col p-4 space-y-4",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx(Bi,{htmlFor:"link-url",className:"mb-1",children:"URL"}),p.jsx(Jt,{id:"link-url",value:r,onChange:l=>s(l.target.value),className:"col-span-3",placeholder:"Enter link URL"})]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx(Bi,{htmlFor:"link-text",className:"mb-1",children:"Text"}),p.jsx(Jt,{id:"link-text",value:i,onChange:l=>o(l.target.value),className:"col-span-3",placeholder:"Enter link Text"})]}),p.jsx(Je,{onClick:a,children:"Insert Link"})]})})]})},HM=({answer:t,handleTextChange:e,onFileChange:n,fileRef:r,textAreaRef:s,isError:i,isLinkDropDownVisible:o,setIsLinkDropDownVisible:a,onInsertLink:l})=>{const c=d=>{const h=d.target;h.style.height="auto",h.style.height=`${h.scrollHeight}px`,e("answer",h.value)};return m.useEffect(()=>{s.current&&(s.current.style.height="auto",s.current.style.height=`${s.current.scrollHeight}px`)},[s,t]),p.jsxs("div",{className:"relative mb-4 ",children:[p.jsx(UM,{spellCheck:!1,name:"answer",ref:s,placeholder:"Enter the answer",className:de("min-h-[100px] pb-12 overflow-hidden resize-none outline-none focus:outline-none",i&&"border-destructive"),value:t,onChange:c}),p.jsxs("div",{className:"absolute bottom-2 left-2 flex space-x-2",children:[p.jsx(oY,{isLinkDropdownOpen:o,setIsLinkDropdownOpen:a,onInsertLink:l}),p.jsx(XQ,{fileRef:r,changeFile:n})]})]})},aY=t=>Object.entries(t).map(([e,n])=>({id:Date.now().toString(),key:e,value:n})),lY=t=>t<1024?t+" bytes":t<1048576?(t/1024).toFixed(1)+" KB":(t/1048576).toFixed(1)+" MB",GM=t=>{try{const e=decodeURIComponent(t),n=e.lastIndexOf("/")+1,r=e.indexOf("?alt=");return n!==-1&&r!==-1?e.substring(n,r):null}catch(e){return console.error("Failed to extract filename:",e),null}},qM=({file:t,removeFile:e})=>p.jsx("div",{className:"mt-4 p-4 border rounded-md bg-muted",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-2 overflow-hidden",children:[p.jsx(FA,{className:"h-4 w-4 text-muted-foreground"}),p.jsx("div",{className:"font-medium truncate max-w-[250px]",children:t.name}),p.jsxs("div",{className:"text-sm text-center text-muted-foreground w-20",children:["(",lY(t.size),")"]})]}),p.jsx(Je,{variant:"ghost",size:"icon",onClick:e,className:"h-8 w-8 min-w-8",children:p.jsx(Rm,{className:"h-4 w-4"})})]})});var cY="firebase",uY="10.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xr(cY,uY,"app");var WC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qo,QM;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,_){function P(){}P.prototype=_.prototype,R.D=_.prototype,R.prototype=new P,R.prototype.constructor=R,R.C=function(A,D,M){for(var N=Array(arguments.length-2),W=2;W<arguments.length;W++)N[W-2]=arguments[W];return _.prototype[D].apply(A,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(R,_,P){P||(P=0);var A=Array(16);if(typeof _=="string")for(var D=0;16>D;++D)A[D]=_.charCodeAt(P++)|_.charCodeAt(P++)<<8|_.charCodeAt(P++)<<16|_.charCodeAt(P++)<<24;else for(D=0;16>D;++D)A[D]=_[P++]|_[P++]<<8|_[P++]<<16|_[P++]<<24;_=R.g[0],P=R.g[1],D=R.g[2];var M=R.g[3],N=_+(M^P&(D^M))+A[0]+3614090360&4294967295;_=P+(N<<7&4294967295|N>>>25),N=M+(D^_&(P^D))+A[1]+3905402710&4294967295,M=_+(N<<12&4294967295|N>>>20),N=D+(P^M&(_^P))+A[2]+606105819&4294967295,D=M+(N<<17&4294967295|N>>>15),N=P+(_^D&(M^_))+A[3]+3250441966&4294967295,P=D+(N<<22&4294967295|N>>>10),N=_+(M^P&(D^M))+A[4]+4118548399&4294967295,_=P+(N<<7&4294967295|N>>>25),N=M+(D^_&(P^D))+A[5]+1200080426&4294967295,M=_+(N<<12&4294967295|N>>>20),N=D+(P^M&(_^P))+A[6]+2821735955&4294967295,D=M+(N<<17&4294967295|N>>>15),N=P+(_^D&(M^_))+A[7]+4249261313&4294967295,P=D+(N<<22&4294967295|N>>>10),N=_+(M^P&(D^M))+A[8]+1770035416&4294967295,_=P+(N<<7&4294967295|N>>>25),N=M+(D^_&(P^D))+A[9]+2336552879&4294967295,M=_+(N<<12&4294967295|N>>>20),N=D+(P^M&(_^P))+A[10]+4294925233&4294967295,D=M+(N<<17&4294967295|N>>>15),N=P+(_^D&(M^_))+A[11]+2304563134&4294967295,P=D+(N<<22&4294967295|N>>>10),N=_+(M^P&(D^M))+A[12]+1804603682&4294967295,_=P+(N<<7&4294967295|N>>>25),N=M+(D^_&(P^D))+A[13]+4254626195&4294967295,M=_+(N<<12&4294967295|N>>>20),N=D+(P^M&(_^P))+A[14]+2792965006&4294967295,D=M+(N<<17&4294967295|N>>>15),N=P+(_^D&(M^_))+A[15]+1236535329&4294967295,P=D+(N<<22&4294967295|N>>>10),N=_+(D^M&(P^D))+A[1]+4129170786&4294967295,_=P+(N<<5&4294967295|N>>>27),N=M+(P^D&(_^P))+A[6]+3225465664&4294967295,M=_+(N<<9&4294967295|N>>>23),N=D+(_^P&(M^_))+A[11]+643717713&4294967295,D=M+(N<<14&4294967295|N>>>18),N=P+(M^_&(D^M))+A[0]+3921069994&4294967295,P=D+(N<<20&4294967295|N>>>12),N=_+(D^M&(P^D))+A[5]+3593408605&4294967295,_=P+(N<<5&4294967295|N>>>27),N=M+(P^D&(_^P))+A[10]+38016083&4294967295,M=_+(N<<9&4294967295|N>>>23),N=D+(_^P&(M^_))+A[15]+3634488961&4294967295,D=M+(N<<14&4294967295|N>>>18),N=P+(M^_&(D^M))+A[4]+3889429448&4294967295,P=D+(N<<20&4294967295|N>>>12),N=_+(D^M&(P^D))+A[9]+568446438&4294967295,_=P+(N<<5&4294967295|N>>>27),N=M+(P^D&(_^P))+A[14]+3275163606&4294967295,M=_+(N<<9&4294967295|N>>>23),N=D+(_^P&(M^_))+A[3]+4107603335&4294967295,D=M+(N<<14&4294967295|N>>>18),N=P+(M^_&(D^M))+A[8]+1163531501&4294967295,P=D+(N<<20&4294967295|N>>>12),N=_+(D^M&(P^D))+A[13]+2850285829&4294967295,_=P+(N<<5&4294967295|N>>>27),N=M+(P^D&(_^P))+A[2]+4243563512&4294967295,M=_+(N<<9&4294967295|N>>>23),N=D+(_^P&(M^_))+A[7]+1735328473&4294967295,D=M+(N<<14&4294967295|N>>>18),N=P+(M^_&(D^M))+A[12]+2368359562&4294967295,P=D+(N<<20&4294967295|N>>>12),N=_+(P^D^M)+A[5]+4294588738&4294967295,_=P+(N<<4&4294967295|N>>>28),N=M+(_^P^D)+A[8]+2272392833&4294967295,M=_+(N<<11&4294967295|N>>>21),N=D+(M^_^P)+A[11]+1839030562&4294967295,D=M+(N<<16&4294967295|N>>>16),N=P+(D^M^_)+A[14]+4259657740&4294967295,P=D+(N<<23&4294967295|N>>>9),N=_+(P^D^M)+A[1]+2763975236&4294967295,_=P+(N<<4&4294967295|N>>>28),N=M+(_^P^D)+A[4]+1272893353&4294967295,M=_+(N<<11&4294967295|N>>>21),N=D+(M^_^P)+A[7]+4139469664&4294967295,D=M+(N<<16&4294967295|N>>>16),N=P+(D^M^_)+A[10]+3200236656&4294967295,P=D+(N<<23&4294967295|N>>>9),N=_+(P^D^M)+A[13]+681279174&4294967295,_=P+(N<<4&4294967295|N>>>28),N=M+(_^P^D)+A[0]+3936430074&4294967295,M=_+(N<<11&4294967295|N>>>21),N=D+(M^_^P)+A[3]+3572445317&4294967295,D=M+(N<<16&4294967295|N>>>16),N=P+(D^M^_)+A[6]+76029189&4294967295,P=D+(N<<23&4294967295|N>>>9),N=_+(P^D^M)+A[9]+3654602809&4294967295,_=P+(N<<4&4294967295|N>>>28),N=M+(_^P^D)+A[12]+3873151461&4294967295,M=_+(N<<11&4294967295|N>>>21),N=D+(M^_^P)+A[15]+530742520&4294967295,D=M+(N<<16&4294967295|N>>>16),N=P+(D^M^_)+A[2]+3299628645&4294967295,P=D+(N<<23&4294967295|N>>>9),N=_+(D^(P|~M))+A[0]+4096336452&4294967295,_=P+(N<<6&4294967295|N>>>26),N=M+(P^(_|~D))+A[7]+1126891415&4294967295,M=_+(N<<10&4294967295|N>>>22),N=D+(_^(M|~P))+A[14]+2878612391&4294967295,D=M+(N<<15&4294967295|N>>>17),N=P+(M^(D|~_))+A[5]+4237533241&4294967295,P=D+(N<<21&4294967295|N>>>11),N=_+(D^(P|~M))+A[12]+1700485571&4294967295,_=P+(N<<6&4294967295|N>>>26),N=M+(P^(_|~D))+A[3]+2399980690&4294967295,M=_+(N<<10&4294967295|N>>>22),N=D+(_^(M|~P))+A[10]+4293915773&4294967295,D=M+(N<<15&4294967295|N>>>17),N=P+(M^(D|~_))+A[1]+2240044497&4294967295,P=D+(N<<21&4294967295|N>>>11),N=_+(D^(P|~M))+A[8]+1873313359&4294967295,_=P+(N<<6&4294967295|N>>>26),N=M+(P^(_|~D))+A[15]+4264355552&4294967295,M=_+(N<<10&4294967295|N>>>22),N=D+(_^(M|~P))+A[6]+2734768916&4294967295,D=M+(N<<15&4294967295|N>>>17),N=P+(M^(D|~_))+A[13]+1309151649&4294967295,P=D+(N<<21&4294967295|N>>>11),N=_+(D^(P|~M))+A[4]+4149444226&4294967295,_=P+(N<<6&4294967295|N>>>26),N=M+(P^(_|~D))+A[11]+3174756917&4294967295,M=_+(N<<10&4294967295|N>>>22),N=D+(_^(M|~P))+A[2]+718787259&4294967295,D=M+(N<<15&4294967295|N>>>17),N=P+(M^(D|~_))+A[9]+3951481745&4294967295,R.g[0]=R.g[0]+_&4294967295,R.g[1]=R.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+M&4294967295}r.prototype.u=function(R,_){_===void 0&&(_=R.length);for(var P=_-this.blockSize,A=this.B,D=this.h,M=0;M<_;){if(D==0)for(;M<=P;)s(this,R,M),M+=this.blockSize;if(typeof R=="string"){for(;M<_;)if(A[D++]=R.charCodeAt(M++),D==this.blockSize){s(this,A),D=0;break}}else for(;M<_;)if(A[D++]=R[M++],D==this.blockSize){s(this,A),D=0;break}}this.h=D,this.o+=_},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var _=1;_<R.length-8;++_)R[_]=0;var P=8*this.o;for(_=R.length-8;_<R.length;++_)R[_]=P&255,P/=256;for(this.u(R),R=Array(16),_=P=0;4>_;++_)for(var A=0;32>A;A+=8)R[P++]=this.g[_]>>>A&255;return R};function i(R,_){var P=a;return Object.prototype.hasOwnProperty.call(P,R)?P[R]:P[R]=_(R)}function o(R,_){this.h=_;for(var P=[],A=!0,D=R.length-1;0<=D;D--){var M=R[D]|0;A&&M==_||(P[D]=M,A=!1)}this.g=P}var a={};function l(R){return-128<=R&&128>R?i(R,function(_){return new o([_|0],0>_?-1:0)}):new o([R|0],0>R?-1:0)}function c(R){if(isNaN(R)||!isFinite(R))return h;if(0>R)return T(c(-R));for(var _=[],P=1,A=0;R>=P;A++)_[A]=R/P|0,P*=4294967296;return new o(_,0)}function d(R,_){if(R.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(R.charAt(0)=="-")return T(d(R.substring(1),_));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=c(Math.pow(_,8)),A=h,D=0;D<R.length;D+=8){var M=Math.min(8,R.length-D),N=parseInt(R.substring(D,D+M),_);8>M?(M=c(Math.pow(_,M)),A=A.j(M).add(c(N))):(A=A.j(P),A=A.add(c(N)))}return A}var h=l(0),f=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-T(this).m();for(var R=0,_=1,P=0;P<this.g.length;P++){var A=this.i(P);R+=(0<=A?A:4294967296+A)*_,_*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(w(this))return"0";if(y(this))return"-"+T(this).toString(R);for(var _=c(Math.pow(R,6)),P=this,A="";;){var D=C(P,_).g;P=x(P,D.j(_));var M=((0<P.g.length?P.g[0]:P.h)>>>0).toString(R);if(P=D,w(P))return M+A;for(;6>M.length;)M="0"+M;A=M+A}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function w(R){if(R.h!=0)return!1;for(var _=0;_<R.g.length;_++)if(R.g[_]!=0)return!1;return!0}function y(R){return R.h==-1}t.l=function(R){return R=x(this,R),y(R)?-1:w(R)?0:1};function T(R){for(var _=R.g.length,P=[],A=0;A<_;A++)P[A]=~R.g[A];return new o(P,~R.h).add(f)}t.abs=function(){return y(this)?T(this):this},t.add=function(R){for(var _=Math.max(this.g.length,R.g.length),P=[],A=0,D=0;D<=_;D++){var M=A+(this.i(D)&65535)+(R.i(D)&65535),N=(M>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);A=N>>>16,M&=65535,N&=65535,P[D]=N<<16|M}return new o(P,P[P.length-1]&-2147483648?-1:0)};function x(R,_){return R.add(T(_))}t.j=function(R){if(w(this)||w(R))return h;if(y(this))return y(R)?T(this).j(T(R)):T(T(this).j(R));if(y(R))return T(this.j(T(R)));if(0>this.l(g)&&0>R.l(g))return c(this.m()*R.m());for(var _=this.g.length+R.g.length,P=[],A=0;A<2*_;A++)P[A]=0;for(A=0;A<this.g.length;A++)for(var D=0;D<R.g.length;D++){var M=this.i(A)>>>16,N=this.i(A)&65535,W=R.i(D)>>>16,pe=R.i(D)&65535;P[2*A+2*D]+=N*pe,E(P,2*A+2*D),P[2*A+2*D+1]+=M*pe,E(P,2*A+2*D+1),P[2*A+2*D+1]+=N*W,E(P,2*A+2*D+1),P[2*A+2*D+2]+=M*W,E(P,2*A+2*D+2)}for(A=0;A<_;A++)P[A]=P[2*A+1]<<16|P[2*A];for(A=_;A<2*_;A++)P[A]=0;return new o(P,0)};function E(R,_){for(;(R[_]&65535)!=R[_];)R[_+1]+=R[_]>>>16,R[_]&=65535,_++}function b(R,_){this.g=R,this.h=_}function C(R,_){if(w(_))throw Error("division by zero");if(w(R))return new b(h,h);if(y(R))return _=C(T(R),_),new b(T(_.g),T(_.h));if(y(_))return _=C(R,T(_)),new b(T(_.g),_.h);if(30<R.g.length){if(y(R)||y(_))throw Error("slowDivide_ only works with positive integers.");for(var P=f,A=_;0>=A.l(R);)P=k(P),A=k(A);var D=j(P,1),M=j(A,1);for(A=j(A,2),P=j(P,2);!w(A);){var N=M.add(A);0>=N.l(R)&&(D=D.add(P),M=N),A=j(A,1),P=j(P,1)}return _=x(R,D.j(_)),new b(D,_)}for(D=h;0<=R.l(_);){for(P=Math.max(1,Math.floor(R.m()/_.m())),A=Math.ceil(Math.log(P)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),M=c(P),N=M.j(_);y(N)||0<N.l(R);)P-=A,M=c(P),N=M.j(_);w(M)&&(M=f),D=D.add(M),R=x(R,N)}return new b(D,R)}t.A=function(R){return C(this,R).h},t.and=function(R){for(var _=Math.max(this.g.length,R.g.length),P=[],A=0;A<_;A++)P[A]=this.i(A)&R.i(A);return new o(P,this.h&R.h)},t.or=function(R){for(var _=Math.max(this.g.length,R.g.length),P=[],A=0;A<_;A++)P[A]=this.i(A)|R.i(A);return new o(P,this.h|R.h)},t.xor=function(R){for(var _=Math.max(this.g.length,R.g.length),P=[],A=0;A<_;A++)P[A]=this.i(A)^R.i(A);return new o(P,this.h^R.h)};function k(R){for(var _=R.g.length+1,P=[],A=0;A<_;A++)P[A]=R.i(A)<<1|R.i(A-1)>>>31;return new o(P,R.h)}function j(R,_){var P=_>>5;_%=32;for(var A=R.g.length-P,D=[],M=0;M<A;M++)D[M]=0<_?R.i(M+P)>>>_|R.i(M+P+1)<<32-_:R.i(M+P);return new o(D,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,QM=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,qo=o}).apply(typeof WC<"u"?WC:typeof self<"u"?self:typeof window<"u"?window:{});var tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YM,XM,su,JM,Of,xw,ZM,eO,tO;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,v,S){return u==Array.prototype||u==Object.prototype||(u[v]=S.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof tf=="object"&&tf];for(var v=0;v<u.length;++v){var S=u[v];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function s(u,v){if(v)e:{var S=r;u=u.split(".");for(var I=0;I<u.length-1;I++){var F=u[I];if(!(F in S))break e;S=S[F]}u=u[u.length-1],I=S[u],v=v(I),v!=I&&v!=null&&e(S,u,{configurable:!0,writable:!0,value:v})}}function i(u,v){u instanceof String&&(u+="");var S=0,I=!1,F={next:function(){if(!I&&S<u.length){var $=S++;return{value:v($,u[$]),done:!1}}return I=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}s("Array.prototype.values",function(u){return u||function(){return i(this,function(v,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var v=typeof u;return v=v!="object"?v:u?Array.isArray(u)?"array":v:"null",v=="array"||v=="object"&&typeof u.length=="number"}function c(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function d(u,v,S){return u.call.apply(u.bind,arguments)}function h(u,v,S){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,I),u.apply(v,F)}}return function(){return u.apply(v,arguments)}}function f(u,v,S){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function g(u,v){var S=Array.prototype.slice.call(arguments,1);return function(){var I=S.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function w(u,v){function S(){}S.prototype=v.prototype,u.aa=v.prototype,u.prototype=new S,u.prototype.constructor=u,u.Qb=function(I,F,$){for(var Y=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)Y[qe-2]=arguments[qe];return v.prototype[F].apply(I,Y)}}function y(u){const v=u.length;if(0<v){const S=Array(v);for(let I=0;I<v;I++)S[I]=u[I];return S}return[]}function T(u,v){for(let S=1;S<arguments.length;S++){const I=arguments[S];if(l(I)){const F=u.length||0,$=I.length||0;u.length=F+$;for(let Y=0;Y<$;Y++)u[F+Y]=I[Y]}else u.push(I)}}class x{constructor(v,S){this.i=v,this.j=S,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function E(u){return/^[\s\xa0]*$/.test(u)}function b(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function C(u){return C[" "](u),u}C[" "]=function(){};var k=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function j(u,v,S){for(const I in u)v.call(S,u[I],I,u)}function R(u,v){for(const S in u)v.call(void 0,u[S],S,u)}function _(u){const v={};for(const S in u)v[S]=u[S];return v}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(u,v){let S,I;for(let F=1;F<arguments.length;F++){I=arguments[F];for(S in I)u[S]=I[S];for(let $=0;$<P.length;$++)S=P[$],Object.prototype.hasOwnProperty.call(I,S)&&(u[S]=I[S])}}function D(u){var v=1;u=u.split(":");const S=[];for(;0<v&&u.length;)S.push(u.shift()),v--;return u.length&&S.push(u.join(":")),S}function M(u){a.setTimeout(()=>{throw u},0)}function N(){var u=B;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class W{constructor(){this.h=this.g=null}add(v,S){const I=pe.get();I.set(v,S),this.h?this.h.next=I:this.g=I,this.h=I}}var pe=new x(()=>new le,u=>u.reset());class le{constructor(){this.next=this.g=this.h=null}set(v,S){this.h=v,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,z=!1,B=new W,X=()=>{const u=a.Promise.resolve(void 0);ie=()=>{u.then(ue)}};var ue=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(S){M(S)}var v=pe;v.j(u),100>v.h&&(v.h++,u.next=v.g,v.g=u)}z=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Se(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}Se.prototype.h=function(){this.defaultPrevented=!0};var Ze=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const S=()=>{};a.addEventListener("test",S,v),a.removeEventListener("test",S,v)}catch{}return u}();function It(u,v){if(Se.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var S=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget){if(k){e:{try{C(v.nodeName);var F=!0;break e}catch{}F=!1}F||(v=null)}}else S=="mouseover"?v=u.fromElement:S=="mouseout"&&(v=u.toElement);this.relatedTarget=v,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:He[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&It.aa.h.call(this)}}w(It,Se);var He={2:"touch",3:"pen",4:"mouse"};It.prototype.h=function(){It.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ge="closure_listenable_"+(1e6*Math.random()|0),wn=0;function en(u,v,S,I,F){this.listener=u,this.proxy=null,this.src=v,this.type=S,this.capture=!!I,this.ha=F,this.key=++wn,this.da=this.fa=!1}function _n(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function cs(u){this.src=u,this.g={},this.h=0}cs.prototype.add=function(u,v,S,I,F){var $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);var Y=mr(u,v,I,F);return-1<Y?(v=u[Y],S||(v.fa=!1)):(v=new en(v,this.src,$,!!I,F),v.fa=S,u.push(v)),v};function Gs(u,v){var S=v.type;if(S in u.g){var I=u.g[S],F=Array.prototype.indexOf.call(I,v,void 0),$;($=0<=F)&&Array.prototype.splice.call(I,F,1),$&&(_n(v),u.g[S].length==0&&(delete u.g[S],u.h--))}}function mr(u,v,S,I){for(var F=0;F<u.length;++F){var $=u[F];if(!$.da&&$.listener==v&&$.capture==!!S&&$.ha==I)return F}return-1}var mt="closure_lm_"+(1e6*Math.random()|0),Jn={};function ho(u,v,S,I,F){if(Array.isArray(v)){for(var $=0;$<v.length;$++)ho(u,v[$],S,I,F);return null}return S=ah(S),u&&u[Ge]?u.K(v,S,c(I)?!!I.capture:!!I,F):vc(u,v,S,!1,I,F)}function vc(u,v,S,I,F,$){if(!v)throw Error("Invalid event type");var Y=c(F)?!!F.capture:!!F,qe=Ec(u);if(qe||(u[mt]=qe=new cs(u)),S=qe.add(v,S,I,Y,$),S.proxy)return S;if(I=gr(),S.proxy=I,I.src=u,I.listener=S,u.addEventListener)Ze||(F=Y),F===void 0&&(F=!1),u.addEventListener(v.toString(),I,F);else if(u.attachEvent)u.attachEvent(_c(v.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return S}function gr(){function u(S){return v.call(u.src,u.listener,S)}const v=vg;return u}function us(u,v,S,I,F){if(Array.isArray(v))for(var $=0;$<v.length;$++)us(u,v[$],S,I,F);else I=c(I)?!!I.capture:!!I,S=ah(S),u&&u[Ge]?(u=u.i,v=String(v).toString(),v in u.g&&($=u.g[v],S=mr($,S,I,F),-1<S&&(_n($[S]),Array.prototype.splice.call($,S,1),$.length==0&&(delete u.g[v],u.h--)))):u&&(u=Ec(u))&&(v=u.g[v.toString()],u=-1,v&&(u=mr(v,S,I,F)),(S=-1<u?v[u]:null)&&wc(S))}function wc(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[Ge])Gs(v.i,u);else{var S=u.type,I=u.proxy;v.removeEventListener?v.removeEventListener(S,I,u.capture):v.detachEvent?v.detachEvent(_c(S),I):v.addListener&&v.removeListener&&v.removeListener(I),(S=Ec(v))?(Gs(S,u),S.h==0&&(S.src=null,v[mt]=null)):_n(u)}}}function _c(u){return u in Jn?Jn[u]:Jn[u]="on"+u}function vg(u,v){if(u.da)u=!0;else{v=new It(v,this);var S=u.listener,I=u.ha||u.src;u.fa&&wc(u),u=S.call(I,v)}return u}function Ec(u){return u=u[mt],u instanceof cs?u:null}var xc="__closure_events_fn_"+(1e9*Math.random()>>>0);function ah(u){return typeof u=="function"?u:(u[xc]||(u[xc]=function(v){return u.handleEvent(v)}),u[xc])}function ot(){ge.call(this),this.i=new cs(this),this.M=this,this.F=null}w(ot,ge),ot.prototype[Ge]=!0,ot.prototype.removeEventListener=function(u,v,S,I){us(this,u,v,S,I)};function xt(u,v){var S,I=u.F;if(I)for(S=[];I;I=I.F)S.push(I);if(u=u.M,I=v.type||v,typeof v=="string")v=new Se(v,u);else if(v instanceof Se)v.target=v.target||u;else{var F=v;v=new Se(I,u),A(v,F)}if(F=!0,S)for(var $=S.length-1;0<=$;$--){var Y=v.g=S[$];F=fo(Y,I,!0,v)&&F}if(Y=v.g=u,F=fo(Y,I,!0,v)&&F,F=fo(Y,I,!1,v)&&F,S)for($=0;$<S.length;$++)Y=v.g=S[$],F=fo(Y,I,!1,v)&&F}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var u=this.i,v;for(v in u.g){for(var S=u.g[v],I=0;I<S.length;I++)_n(S[I]);delete u.g[v],u.h--}}this.F=null},ot.prototype.K=function(u,v,S,I){return this.i.add(String(u),v,!1,S,I)},ot.prototype.L=function(u,v,S,I){return this.i.add(String(u),v,!0,S,I)};function fo(u,v,S,I){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();for(var F=!0,$=0;$<v.length;++$){var Y=v[$];if(Y&&!Y.da&&Y.capture==S){var qe=Y.listener,zt=Y.ha||Y.src;Y.fa&&Gs(u.i,Y),F=qe.call(zt,I)!==!1&&F}}return F&&!I.defaultPrevented}function Ea(u,v,S){if(typeof u=="function")S&&(u=f(u,S));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:a.setTimeout(u,v||0)}function yr(u){u.g=Ea(()=>{u.g=null,u.i&&(u.i=!1,yr(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class vr extends ge{constructor(v,S){super(),this.m=v,this.l=S,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:yr(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qs(u){ge.call(this),this.h=u,this.g={}}w(qs,ge);var po=[];function lh(u){j(u.g,function(v,S){this.g.hasOwnProperty(S)&&wc(v)},u),u.g={}}qs.prototype.N=function(){qs.aa.N.call(this),lh(this)},qs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zn=a.JSON.stringify,ch=a.JSON.parse,uh=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function xa(){}xa.prototype.h=null;function dh(u){return u.h||(u.h=u.i())}function Tc(){}var Vr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ta(){Se.call(this,"d")}w(Ta,Se);function mo(){Se.call(this,"c")}w(mo,Se);var er={},Sa=null;function ba(){return Sa=Sa||new ot}er.La="serverreachability";function Sc(u){Se.call(this,er.La,u)}w(Sc,Se);function go(u){const v=ba();xt(v,new Sc(v))}er.STAT_EVENT="statevent";function bc(u,v){Se.call(this,er.STAT_EVENT,u),this.stat=v}w(bc,Se);function At(u){const v=ba();xt(v,new bc(v,u))}er.Ma="timingevent";function yo(u,v){Se.call(this,er.Ma,u),this.size=v}w(yo,Se);function Qs(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},v)}function vo(){this.g=!0}vo.prototype.xa=function(){this.g=!1};function wg(u,v,S,I,F,$){u.info(function(){if(u.g)if($)for(var Y="",qe=$.split("&"),zt=0;zt<qe.length;zt++){var je=qe[zt].split("=");if(1<je.length){var rn=je[0];je=je[1];var sn=rn.split("_");Y=2<=sn.length&&sn[1]=="type"?Y+(rn+"="+je+"&"):Y+(rn+"=redacted&")}}else Y=null;else Y=$;return"XMLHTTP REQ ("+I+") [attempt "+F+"]: "+v+`
`+S+`
`+Y})}function O(u,v,S,I,F,$,Y){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+F+"]: "+v+`
`+S+`
`+$+" "+Y})}function V(u,v,S,I){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+K(u,S)+(I?" "+I:"")})}function U(u,v){u.info(function(){return"TIMEOUT: "+v})}vo.prototype.info=function(){};function K(u,v){if(!u.g)return v;if(!v)return null;try{var S=JSON.parse(v);if(S){for(u=0;u<S.length;u++)if(Array.isArray(S[u])){var I=S[u];if(!(2>I.length)){var F=I[1];if(Array.isArray(F)&&!(1>F.length)){var $=F[0];if($!="noop"&&$!="stop"&&$!="close")for(var Y=1;Y<F.length;Y++)F[Y]=""}}}}return Zn(S)}catch{return v}}var J={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ce={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ye;function Q(){}w(Q,xa),Q.prototype.g=function(){return new XMLHttpRequest},Q.prototype.i=function(){return{}},ye=new Q;function oe(u,v,S,I){this.j=u,this.i=v,this.l=S,this.R=I||1,this.U=new qs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ne}function ne(){this.i=null,this.g="",this.h=!1}var se={},Ne={};function Oe(u,v,S){u.L=1,u.v=gh(ds(v)),u.m=S,u.P=!0,Ke(u,null)}function Ke(u,v){u.F=Date.now(),et(u),u.A=ds(u.v);var S=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),Px(S.i,"t",I),u.C=0,S=u.j.J,u.h=new ne,u.g=Hx(u.j,S?v:null,!u.m),0<u.O&&(u.M=new vr(f(u.Y,u,u.g),u.O)),v=u.U,S=u.g,I=u.ca;var F="readystatechange";Array.isArray(F)||(F&&(po[0]=F.toString()),F=po);for(var $=0;$<F.length;$++){var Y=ho(S,F[$],I||v.handleEvent,!1,v.h||v);if(!Y)break;v.g[Y.key]=Y}v=u.H?_(u.H):{},u.m?(u.u||(u.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,v)):(u.u="GET",u.g.ea(u.A,u.u,null,v)),go(),wg(u.i,u.u,u.A,u.l,u.R,u.m)}oe.prototype.ca=function(u){u=u.target;const v=this.M;v&&hs(u)==3?v.j():this.Y(u)},oe.prototype.Y=function(u){try{if(u==this.g)e:{const sn=hs(this.g);var v=this.g.Ba();const Pa=this.g.Z();if(!(3>sn)&&(sn!=3||this.g&&(this.h.h||this.g.oa()||Ox(this.g)))){this.J||sn!=4||v==7||(v==8||0>=Pa?go(3):go(2)),jn(this);var S=this.g.Z();this.X=S;t:if(Ie(this)){var I=Ox(this.g);u="";var F=I.length,$=hs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tn(this),tr(this);var Y="";break t}this.h.i=new a.TextDecoder}for(v=0;v<F;v++)this.h.h=!0,u+=this.h.i.decode(I[v],{stream:!($&&v==F-1)});I.length=0,this.h.g+=u,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=S==200,O(this.i,this.u,this.A,this.l,this.R,sn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,zt=this.g;if((qe=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(qe)){var je=qe;break t}}je=null}if(S=je)V(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xs(this,S);else{this.o=!1,this.s=3,At(12),tn(this),tr(this);break e}}if(this.P){S=!0;let Er;for(;!this.J&&this.C<Y.length;)if(Er=Nt(this,Y),Er==Ne){sn==4&&(this.s=4,At(14),S=!1),V(this.i,this.l,null,"[Incomplete Response]");break}else if(Er==se){this.s=4,At(15),V(this.i,this.l,Y,"[Invalid Chunk]"),S=!1;break}else V(this.i,this.l,Er,null),Xs(this,Er);if(Ie(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),sn!=4||Y.length!=0||this.h.h||(this.s=1,At(16),S=!1),this.o=this.o&&S,!S)V(this.i,this.l,Y,"[Invalid Chunked Response]"),tn(this),tr(this);else if(0<Y.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),Tg(rn),rn.M=!0,At(11))}}else V(this.i,this.l,Y,null),Xs(this,Y);sn==4&&tn(this),this.o&&!this.J&&(sn==4?$x(this.j,this):(this.o=!1,et(this)))}else nV(this.g),S==400&&0<Y.indexOf("Unknown SID")?(this.s=3,At(12)):(this.s=0,At(13)),tn(this),tr(this)}}}catch{}finally{}};function Ie(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Nt(u,v){var S=u.C,I=v.indexOf(`
`,S);return I==-1?Ne:(S=Number(v.substring(S,I)),isNaN(S)?se:(I+=1,I+S>v.length?Ne:(v=v.slice(I,I+S),u.C=I+S,v)))}oe.prototype.cancel=function(){this.J=!0,tn(this)};function et(u){u.S=Date.now()+u.I,Ys(u,u.I)}function Ys(u,v){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Qs(f(u.ba,u),v)}function jn(u){u.B&&(a.clearTimeout(u.B),u.B=null)}oe.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(U(this.i,this.A),this.L!=2&&(go(),At(17)),tn(this),this.s=2,tr(this)):Ys(this,this.S-u)};function tr(u){u.j.G==0||u.J||$x(u.j,u)}function tn(u){jn(u);var v=u.M;v&&typeof v.ma=="function"&&v.ma(),u.M=null,lh(u.U),u.g&&(v=u.g,u.g=null,v.abort(),v.ma())}function Xs(u,v){try{var S=u.j;if(S.G!=0&&(S.g==u||_e(S.h,u))){if(!u.K&&_e(S.h,u)&&S.G==3){try{var I=S.Da.g.parse(v)}catch{I=null}if(Array.isArray(I)&&I.length==3){var F=I;if(F[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<u.F)Eh(S),wh(S);else break e;xg(S),At(18)}}else S.za=F[1],0<S.za-S.T&&37500>F[2]&&S.F&&S.v==0&&!S.C&&(S.C=Qs(f(S.Za,S),6e3));if(1>=Eo(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else To(S,11)}else if((u.K||S.g==u)&&Eh(S),!E(v))for(F=S.Da.g.parse(v),v=0;v<F.length;v++){let je=F[v];if(S.T=je[0],je=je[1],S.G==2)if(je[0]=="c"){S.K=je[1],S.ia=je[2];const rn=je[3];rn!=null&&(S.la=rn,S.j.info("VER="+S.la));const sn=je[4];sn!=null&&(S.Aa=sn,S.j.info("SVER="+S.Aa));const Pa=je[5];Pa!=null&&typeof Pa=="number"&&0<Pa&&(I=1.5*Pa,S.L=I,S.j.info("backChannelRequestTimeoutMs_="+I)),I=S;const Er=u.g;if(Er){const Th=Er.g?Er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Th){var $=I.h;$.g||Th.indexOf("spdy")==-1&&Th.indexOf("quic")==-1&&Th.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Ye($,$.h),$.h=null))}if(I.D){const Sg=Er.g?Er.g.getResponseHeader("X-HTTP-Session-Id"):null;Sg&&(I.ya=Sg,nt(I.I,I.D,Sg))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-u.F,S.j.info("Handshake RTT: "+S.R+"ms")),I=S;var Y=u;if(I.qa=Wx(I,I.J?I.ia:null,I.W),Y.K){nn(I.h,Y);var qe=Y,zt=I.L;zt&&(qe.I=zt),qe.B&&(jn(qe),et(qe)),I.g=Y}else Ux(I);0<S.i.length&&_h(S)}else je[0]!="stop"&&je[0]!="close"||To(S,7);else S.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?To(S,7):Eg(S):je[0]!="noop"&&S.l&&S.l.ta(je),S.v=0)}}go(4)}catch{}}var wr=class{constructor(u,v){this.g=u,this.map=v}};function wo(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _o(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Eo(u){return u.h?1:u.g?u.g.size:0}function _e(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function Ye(u,v){u.g?u.g.add(v):u.h=v}function nn(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}wo.prototype.cancel=function(){if(this.i=tt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function tt(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const S of u.g.values())v=v.concat(S.D);return v}return y(u.i)}function _r(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var v=[],S=u.length,I=0;I<S;I++)v.push(u[I]);return v}v=[],S=0;for(I in u)v[S++]=u[I];return v}function hh(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var v=[];u=u.length;for(var S=0;S<u;S++)v.push(S);return v}v=[],S=0;for(const I in u)v[S++]=I;return v}}}function fh(u,v){if(u.forEach&&typeof u.forEach=="function")u.forEach(v,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,v,void 0);else for(var S=hh(u),I=_r(u),F=I.length,$=0;$<F;$++)v.call(void 0,I[$],S&&S[$],u)}var Tx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zj(u,v){if(u){u=u.split("&");for(var S=0;S<u.length;S++){var I=u[S].indexOf("="),F=null;if(0<=I){var $=u[S].substring(0,I);F=u[S].substring(I+1)}else $=u[S];v($,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function xo(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof xo){this.h=u.h,ph(this,u.j),this.o=u.o,this.g=u.g,mh(this,u.s),this.l=u.l;var v=u.i,S=new Pc;S.i=v.i,v.g&&(S.g=new Map(v.g),S.h=v.h),Sx(this,S),this.m=u.m}else u&&(v=String(u).match(Tx))?(this.h=!1,ph(this,v[1]||"",!0),this.o=Cc(v[2]||""),this.g=Cc(v[3]||"",!0),mh(this,v[4]),this.l=Cc(v[5]||"",!0),Sx(this,v[6]||"",!0),this.m=Cc(v[7]||"")):(this.h=!1,this.i=new Pc(null,this.h))}xo.prototype.toString=function(){var u=[],v=this.j;v&&u.push(Rc(v,bx,!0),":");var S=this.g;return(S||v=="file")&&(u.push("//"),(v=this.o)&&u.push(Rc(v,bx,!0),"@"),u.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&u.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&u.push("/"),u.push(Rc(S,S.charAt(0)=="/"?Hj:Wj,!0))),(S=this.i.toString())&&u.push("?",S),(S=this.m)&&u.push("#",Rc(S,qj)),u.join("")};function ds(u){return new xo(u)}function ph(u,v,S){u.j=S?Cc(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function mh(u,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);u.s=v}else u.s=null}function Sx(u,v,S){v instanceof Pc?(u.i=v,Qj(u.i,u.h)):(S||(v=Rc(v,Gj)),u.i=new Pc(v,u.h))}function nt(u,v,S){u.i.set(v,S)}function gh(u){return nt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Cc(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Rc(u,v,S){return typeof u=="string"?(u=encodeURI(u).replace(v,Kj),S&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Kj(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var bx=/[#\/\?@]/g,Wj=/[#\?:]/g,Hj=/[#\?]/g,Gj=/[#\?@]/g,qj=/#/g;function Pc(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function Js(u){u.g||(u.g=new Map,u.h=0,u.i&&zj(u.i,function(v,S){u.add(decodeURIComponent(v.replace(/\+/g," ")),S)}))}t=Pc.prototype,t.add=function(u,v){Js(this),this.i=null,u=Ca(this,u);var S=this.g.get(u);return S||this.g.set(u,S=[]),S.push(v),this.h+=1,this};function Cx(u,v){Js(u),v=Ca(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function Rx(u,v){return Js(u),v=Ca(u,v),u.g.has(v)}t.forEach=function(u,v){Js(this),this.g.forEach(function(S,I){S.forEach(function(F){u.call(v,F,I,this)},this)},this)},t.na=function(){Js(this);const u=Array.from(this.g.values()),v=Array.from(this.g.keys()),S=[];for(let I=0;I<v.length;I++){const F=u[I];for(let $=0;$<F.length;$++)S.push(v[I])}return S},t.V=function(u){Js(this);let v=[];if(typeof u=="string")Rx(this,u)&&(v=v.concat(this.g.get(Ca(this,u))));else{u=Array.from(this.g.values());for(let S=0;S<u.length;S++)v=v.concat(u[S])}return v},t.set=function(u,v){return Js(this),this.i=null,u=Ca(this,u),Rx(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},t.get=function(u,v){return u?(u=this.V(u),0<u.length?String(u[0]):v):v};function Px(u,v,S){Cx(u,v),0<S.length&&(u.i=null,u.g.set(Ca(u,v),y(S)),u.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(var S=0;S<v.length;S++){var I=v[S];const $=encodeURIComponent(String(I)),Y=this.V(I);for(I=0;I<Y.length;I++){var F=$;Y[I]!==""&&(F+="="+encodeURIComponent(String(Y[I]))),u.push(F)}}return this.i=u.join("&")};function Ca(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function Qj(u,v){v&&!u.j&&(Js(u),u.i=null,u.g.forEach(function(S,I){var F=I.toLowerCase();I!=F&&(Cx(this,I),Px(this,F,S))},u)),u.j=v}function Yj(u,v){const S=new vo;if(a.Image){const I=new Image;I.onload=g(Zs,S,"TestLoadImage: loaded",!0,v,I),I.onerror=g(Zs,S,"TestLoadImage: error",!1,v,I),I.onabort=g(Zs,S,"TestLoadImage: abort",!1,v,I),I.ontimeout=g(Zs,S,"TestLoadImage: timeout",!1,v,I),a.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else v(!1)}function Xj(u,v){const S=new vo,I=new AbortController,F=setTimeout(()=>{I.abort(),Zs(S,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:I.signal}).then($=>{clearTimeout(F),$.ok?Zs(S,"TestPingServer: ok",!0,v):Zs(S,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),Zs(S,"TestPingServer: error",!1,v)})}function Zs(u,v,S,I,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),I(S)}catch{}}function Jj(){this.g=new uh}function Zj(u,v,S){const I=S||"";try{fh(u,function(F,$){let Y=F;c(F)&&(Y=Zn(F)),v.push(I+$+"="+encodeURIComponent(Y))})}catch(F){throw v.push(I+"type="+encodeURIComponent("_badmap")),F}}function Ic(u){this.l=u.Ub||null,this.j=u.eb||!1}w(Ic,xa),Ic.prototype.g=function(){return new yh(this.l,this.j)},Ic.prototype.i=function(u){return function(){return u}}({});function yh(u,v){ot.call(this),this.D=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(yh,ot),t=yh.prototype,t.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=v,this.readyState=1,Nc(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(v.body=u),(this.D||a).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ac(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Nc(this)),this.g&&(this.readyState=3,Nc(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ix(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ix(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?Ac(this):Nc(this),this.readyState==3&&Ix(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Ac(this))},t.Qa=function(u){this.g&&(this.response=u,Ac(this))},t.ga=function(){this.g&&Ac(this)};function Ac(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Nc(u)}t.setRequestHeader=function(u,v){this.u.append(u,v)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var S=v.next();!S.done;)S=S.value,u.push(S[0]+": "+S[1]),S=v.next();return u.join(`\r
`)};function Nc(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(yh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ax(u){let v="";return j(u,function(S,I){v+=I,v+=":",v+=S,v+=`\r
`}),v}function _g(u,v,S){e:{for(I in S){var I=!1;break e}I=!0}I||(S=Ax(S),typeof u=="string"?S!=null&&encodeURIComponent(String(S)):nt(u,v,S))}function gt(u){ot.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(gt,ot);var eV=/^https?$/i,tV=["POST","PUT"];t=gt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,v,S,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ye.g(),this.v=this.o?dh(this.o):dh(ye),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch($){Nx(this,$);return}if(u=S||"",S=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var F in I)S.set(F,I[F]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const $ of I.keys())S.set($,I.get($));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(S.keys()).find($=>$.toLowerCase()=="content-type"),F=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(tV,v,void 0))||I||F||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,Y]of S)this.g.setRequestHeader($,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Mx(this),this.u=!0,this.g.send(u),this.u=!1}catch($){Nx(this,$)}};function Nx(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.m=5,kx(u),vh(u)}function kx(u){u.A||(u.A=!0,xt(u,"complete"),xt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,xt(this,"complete"),xt(this,"abort"),vh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vh(this,!0)),gt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Dx(this):this.bb())},t.bb=function(){Dx(this)};function Dx(u){if(u.h&&typeof o<"u"&&(!u.v[1]||hs(u)!=4||u.Z()!=2)){if(u.u&&hs(u)==4)Ea(u.Ea,0,u);else if(xt(u,"readystatechange"),hs(u)==4){u.h=!1;try{const Y=u.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var S;if(!(S=v)){var I;if(I=Y===0){var F=String(u.D).match(Tx)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),I=!eV.test(F?F.toLowerCase():"")}S=I}if(S)xt(u,"complete"),xt(u,"success");else{u.m=6;try{var $=2<hs(u)?u.g.statusText:""}catch{$=""}u.l=$+" ["+u.Z()+"]",kx(u)}}finally{vh(u)}}}}function vh(u,v){if(u.g){Mx(u);const S=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,v||xt(u,"ready");try{S.onreadystatechange=I}catch{}}}function Mx(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function hs(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<hs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),ch(v)}};function Ox(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function nV(u){const v={};u=(u.g&&2<=hs(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(E(u[I]))continue;var S=D(u[I]);const F=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const $=v[F]||[];v[F]=$,$.push(S)}R(v,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function kc(u,v,S){return S&&S.internalChannelParams&&S.internalChannelParams[u]||v}function Lx(u){this.Aa=0,this.i=[],this.j=new vo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=kc("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=kc("baseRetryDelayMs",5e3,u),this.cb=kc("retryDelaySeedMs",1e4,u),this.Wa=kc("forwardChannelMaxRetries",2,u),this.wa=kc("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new wo(u&&u.concurrentRequestLimit),this.Da=new Jj,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Lx.prototype,t.la=8,t.G=1,t.connect=function(u,v,S,I){At(0),this.W=u,this.H=v||{},S&&I!==void 0&&(this.H.OSID=S,this.H.OAID=I),this.F=this.X,this.I=Wx(this,null,this.W),_h(this)};function Eg(u){if(jx(u),u.G==3){var v=u.U++,S=ds(u.I);if(nt(S,"SID",u.K),nt(S,"RID",v),nt(S,"TYPE","terminate"),Dc(u,S),v=new oe(u,u.j,v),v.L=2,v.v=gh(ds(S)),S=!1,a.navigator&&a.navigator.sendBeacon)try{S=a.navigator.sendBeacon(v.v.toString(),"")}catch{}!S&&a.Image&&(new Image().src=v.v,S=!0),S||(v.g=Hx(v.j,null),v.g.ea(v.v)),v.F=Date.now(),et(v)}Kx(u)}function wh(u){u.g&&(Tg(u),u.g.cancel(),u.g=null)}function jx(u){wh(u),u.u&&(a.clearTimeout(u.u),u.u=null),Eh(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function _h(u){if(!_o(u.h)&&!u.s){u.s=!0;var v=u.Ga;ie||X(),z||(ie(),z=!0),B.add(v,u),u.B=0}}function rV(u,v){return Eo(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=v.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Qs(f(u.Ga,u,v),zx(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const F=new oe(this,this.j,u);let $=this.o;if(this.S&&($?($=_($),A($,this.S)):$=this.S),this.m!==null||this.O||(F.H=$,$=null),this.P)e:{for(var v=0,S=0;S<this.i.length;S++){t:{var I=this.i[S];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(v+=I,4096<v){v=S;break e}if(v===4096||S===this.i.length-1){v=S+1;break e}}v=1e3}else v=1e3;v=Fx(this,F,v),S=ds(this.I),nt(S,"RID",u),nt(S,"CVER",22),this.D&&nt(S,"X-HTTP-Session-Id",this.D),Dc(this,S),$&&(this.O?v="headers="+encodeURIComponent(String(Ax($)))+"&"+v:this.m&&_g(S,this.m,$)),Ye(this.h,F),this.Ua&&nt(S,"TYPE","init"),this.P?(nt(S,"$req",v),nt(S,"SID","null"),F.T=!0,Oe(F,S,null)):Oe(F,S,v),this.G=2}}else this.G==3&&(u?Vx(this,u):this.i.length==0||_o(this.h)||Vx(this))};function Vx(u,v){var S;v?S=v.l:S=u.U++;const I=ds(u.I);nt(I,"SID",u.K),nt(I,"RID",S),nt(I,"AID",u.T),Dc(u,I),u.m&&u.o&&_g(I,u.m,u.o),S=new oe(u,u.j,S,u.B+1),u.m===null&&(S.H=u.o),v&&(u.i=v.D.concat(u.i)),v=Fx(u,S,1e3),S.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ye(u.h,S),Oe(S,I,v)}function Dc(u,v){u.H&&j(u.H,function(S,I){nt(v,I,S)}),u.l&&fh({},function(S,I){nt(v,I,S)})}function Fx(u,v,S){S=Math.min(u.i.length,S);var I=u.l?f(u.l.Na,u.l,u):null;e:{var F=u.i;let $=-1;for(;;){const Y=["count="+S];$==-1?0<S?($=F[0].g,Y.push("ofs="+$)):$=0:Y.push("ofs="+$);let qe=!0;for(let zt=0;zt<S;zt++){let je=F[zt].g;const rn=F[zt].map;if(je-=$,0>je)$=Math.max(0,F[zt].g-100),qe=!1;else try{Zj(rn,Y,"req"+je+"_")}catch{I&&I(rn)}}if(qe){I=Y.join("&");break e}}}return u=u.i.splice(0,S),v.D=u,I}function Ux(u){if(!u.g&&!u.u){u.Y=1;var v=u.Fa;ie||X(),z||(ie(),z=!0),B.add(v,u),u.v=0}}function xg(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Qs(f(u.Fa,u),zx(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Bx(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Qs(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,At(10),wh(this),Bx(this))};function Tg(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Bx(u){u.g=new oe(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var v=ds(u.qa);nt(v,"RID","rpc"),nt(v,"SID",u.K),nt(v,"AID",u.T),nt(v,"CI",u.F?"0":"1"),!u.F&&u.ja&&nt(v,"TO",u.ja),nt(v,"TYPE","xmlhttp"),Dc(u,v),u.m&&u.o&&_g(v,u.m,u.o),u.L&&(u.g.I=u.L);var S=u.g;u=u.ia,S.L=1,S.v=gh(ds(v)),S.m=null,S.P=!0,Ke(S,u)}t.Za=function(){this.C!=null&&(this.C=null,wh(this),xg(this),At(19))};function Eh(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function $x(u,v){var S=null;if(u.g==v){Eh(u),Tg(u),u.g=null;var I=2}else if(_e(u.h,v))S=v.D,nn(u.h,v),I=1;else return;if(u.G!=0){if(v.o)if(I==1){S=v.m?v.m.length:0,v=Date.now()-v.F;var F=u.B;I=ba(),xt(I,new yo(I,S)),_h(u)}else Ux(u);else if(F=v.s,F==3||F==0&&0<v.X||!(I==1&&rV(u,v)||I==2&&xg(u)))switch(S&&0<S.length&&(v=u.h,v.i=v.i.concat(S)),F){case 1:To(u,5);break;case 4:To(u,10);break;case 3:To(u,6);break;default:To(u,2)}}}function zx(u,v){let S=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(S*=2),S*v}function To(u,v){if(u.j.info("Error code "+v),v==2){var S=f(u.fb,u),I=u.Xa;const F=!I;I=new xo(I||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ph(I,"https"),gh(I),F?Yj(I.toString(),S):Xj(I.toString(),S)}else At(2);u.G=0,u.l&&u.l.sa(v),Kx(u),jx(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function Kx(u){if(u.G=0,u.ka=[],u.l){const v=tt(u.h);(v.length!=0||u.i.length!=0)&&(T(u.ka,v),T(u.ka,u.i),u.h.i.length=0,y(u.i),u.i.length=0),u.l.ra()}}function Wx(u,v,S){var I=S instanceof xo?ds(S):new xo(S);if(I.g!="")v&&(I.g=v+"."+I.g),mh(I,I.s);else{var F=a.location;I=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;var $=new xo(null);I&&ph($,I),v&&($.g=v),F&&mh($,F),S&&($.l=S),I=$}return S=u.D,v=u.ya,S&&v&&nt(I,S,v),nt(I,"VER",u.la),Dc(u,I),I}function Hx(u,v,S){if(v&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Ca&&!u.pa?new gt(new Ic({eb:S})):new gt(u.pa),v.Ha(u.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gx(){}t=Gx.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function xh(){}xh.prototype.g=function(u,v){return new Vn(u,v)};function Vn(u,v){ot.call(this),this.g=new Lx(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(u?u["X-WebChannel-Client-Profile"]=v.va:u={"X-WebChannel-Client-Profile":v.va}),this.g.S=u,(u=v&&v.Sb)&&!E(u)&&(this.g.m=u),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!E(v)&&(this.g.D=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new Ra(this)}w(Vn,ot),Vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vn.prototype.close=function(){Eg(this.g)},Vn.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var S={};S.__data__=u,u=S}else this.u&&(S={},S.__data__=Zn(u),u=S);v.i.push(new wr(v.Ya++,u)),v.G==3&&_h(v)},Vn.prototype.N=function(){this.g.l=null,delete this.j,Eg(this.g),delete this.g,Vn.aa.N.call(this)};function qx(u){Ta.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const S in v){u=S;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}w(qx,Ta);function Qx(){mo.call(this),this.status=1}w(Qx,mo);function Ra(u){this.g=u}w(Ra,Gx),Ra.prototype.ua=function(){xt(this.g,"a")},Ra.prototype.ta=function(u){xt(this.g,new qx(u))},Ra.prototype.sa=function(u){xt(this.g,new Qx)},Ra.prototype.ra=function(){xt(this.g,"b")},xh.prototype.createWebChannel=xh.prototype.g,Vn.prototype.send=Vn.prototype.o,Vn.prototype.open=Vn.prototype.m,Vn.prototype.close=Vn.prototype.close,tO=function(){return new xh},eO=function(){return ba()},ZM=er,xw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},J.NO_ERROR=0,J.TIMEOUT=8,J.HTTP_ERROR=6,Of=J,ce.COMPLETE="complete",JM=ce,Tc.EventType=Vr,Vr.OPEN="a",Vr.CLOSE="b",Vr.ERROR="c",Vr.MESSAGE="d",ot.prototype.listen=ot.prototype.K,su=Tc,XM=Ic,gt.prototype.listenOnce=gt.prototype.L,gt.prototype.getLastError=gt.prototype.Ka,gt.prototype.getLastErrorCode=gt.prototype.Ba,gt.prototype.getStatus=gt.prototype.Z,gt.prototype.getResponseJson=gt.prototype.Oa,gt.prototype.getResponseText=gt.prototype.oa,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Ha,YM=gt}).apply(typeof tf<"u"?tf:typeof self<"u"?self:typeof window<"u"?window:{});const HC="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc="10.13.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new X0("@firebase/firestore");function qc(){return oa.logLevel}function re(t,...e){if(oa.logLevel<=De.DEBUG){const n=e.map(xE);oa.debug(`Firestore (${hc}): ${t}`,...n)}}function zs(t,...e){if(oa.logLevel<=De.ERROR){const n=e.map(xE);oa.error(`Firestore (${hc}): ${t}`,...n)}}function Wl(t,...e){if(oa.logLevel<=De.WARN){const n=e.map(xE);oa.warn(`Firestore (${hc}): ${t}`,...n)}}function xE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(t="Unexpected state"){const e=`FIRESTORE (${hc}) INTERNAL ASSERTION FAILED: `+t;throw zs(e),new Error(e)}function Qe(t,e){t||we()}function xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends as{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(dn.UNAUTHENTICATED))}shutdown(){}}class hY{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fY{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new $i;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new $i,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new $i)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string"),new nO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new dn(e)}}class pY{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class mY{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new pY(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gY{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yY{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qe(typeof n.token=="string"),this.R=n.token,new gY(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vY(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=vY(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Ve(t,e){return t<e?-1:t>e?1:0}function Hl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new he(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ft.fromMillis(Date.now())}static fromDate(e){return Ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ft(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new Ft(0,0))}static max(){return new Ee(new Ft(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n,r){n===void 0?n=0:n>e.length&&we(),r===void 0?r=e.length-n:r>e.length-n&&we(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ld.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ld?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class wt extends ld{construct(e,n,r){return new wt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(G.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new wt(n)}static emptyPath(){return new wt([])}}const wY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends ld{construct(e,n,r){return new Gt(e,n,r)}static isValidIdentifier(e){return wY.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Gt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new he(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new he(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new he(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new he(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(n)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(wt.fromString(e))}static fromName(e){return new fe(wt.fromString(e).popFirst(5))}static empty(){return new fe(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new wt(e.slice()))}}function _Y(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ee.fromTimestamp(r===1e9?new Ft(n+1,0):new Ft(n,r));return new eo(s,fe.empty(),e)}function EY(t){return new eo(t.readTime,t.key,-1)}class eo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new eo(Ee.min(),fe.empty(),-1)}static max(){return new eo(Ee.max(),fe.empty(),-1)}}function xY(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(t.documentKey,e.documentKey),n!==0?n:Ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TY="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SY{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jd(t){if(t.code!==G.FAILED_PRECONDITION||t.message!==TY)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(s=>s?H.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new H((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new H((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function bY(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Zd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}TE.oe=-1;function rg(t){return t==null}function Fp(t){return t===0&&1/t==-1/0}function CY(t){return typeof t=="number"&&Number.isInteger(t)&&!Fp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function sO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){this.comparator=e,this.root=n||Ht.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nf(this.root,e,this.comparator,!1)}getReverseIterator(){return new nf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nf(this.root,e,this.comparator,!0)}}class nf{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Ht.RED,this.left=s??Ht.EMPTY,this.right=i??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Ht(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ht.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qC(this.data.getIterator())}getIteratorFrom(e){return new qC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Qt(this.comparator);return n.data=e,n}}class qC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new Ir([])}unionWith(e){let n=new Qt(Gt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ir(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new iO("Invalid base64 string: "+i):i}}(e);return new Zt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const RY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function to(t){if(Qe(!!t),typeof t=="string"){let e=0;const n=RY.exec(t);if(Qe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bt(t.seconds),nanos:bt(t.nanos)}}function bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function aa(t){return typeof t=="string"?Zt.fromBase64String(t):Zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function bE(t){const e=t.mapValue.fields.__previous_value__;return SE(e)?bE(e):e}function cd(t){const e=to(t.mapValue.fields.__local_write_time__.timestampValue);return new Ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PY{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class ud{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ud("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ud&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function la(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?SE(t)?4:AY(t)?9007199254740991:IY(t)?10:11:we()}function is(t,e){if(t===e)return!0;const n=la(t);if(n!==la(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cd(t).isEqual(cd(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=to(s.timestampValue),a=to(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return aa(s.bytesValue).isEqual(aa(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return bt(s.geoPointValue.latitude)===bt(i.geoPointValue.latitude)&&bt(s.geoPointValue.longitude)===bt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return bt(s.integerValue)===bt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=bt(s.doubleValue),a=bt(i.doubleValue);return o===a?Fp(o)===Fp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Hl(t.arrayValue.values||[],e.arrayValue.values||[],is);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(GC(o)!==GC(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!is(o[l],a[l])))return!1;return!0}(t,e);default:return we()}}function dd(t,e){return(t.values||[]).find(n=>is(n,e))!==void 0}function Gl(t,e){if(t===e)return 0;const n=la(t),r=la(e);if(n!==r)return Ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=bt(i.integerValue||i.doubleValue),l=bt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return QC(t.timestampValue,e.timestampValue);case 4:return QC(cd(t),cd(e));case 5:return Ve(t.stringValue,e.stringValue);case 6:return function(i,o){const a=aa(i),l=aa(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Ve(a[c],l[c]);if(d!==0)return d}return Ve(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Ve(bt(i.latitude),bt(o.latitude));return a!==0?a:Ve(bt(i.longitude),bt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return YC(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,d;const h=i.fields||{},f=o.fields||{},g=(a=h.value)===null||a===void 0?void 0:a.arrayValue,w=(l=f.value)===null||l===void 0?void 0:l.arrayValue,y=Ve(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0);return y!==0?y:YC(g,w)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===rf.mapValue&&o===rf.mapValue)return 0;if(i===rf.mapValue)return 1;if(o===rf.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=Ve(l[h],d[h]);if(f!==0)return f;const g=Gl(a[l[h]],c[d[h]]);if(g!==0)return g}return Ve(l.length,d.length)}(t.mapValue,e.mapValue);default:throw we()}}function QC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ve(t,e);const n=to(t),r=to(e),s=Ve(n.seconds,r.seconds);return s!==0?s:Ve(n.nanos,r.nanos)}function YC(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Gl(n[s],r[s]);if(i)return i}return Ve(n.length,r.length)}function ql(t){return Tw(t)}function Tw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=to(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return aa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Tw(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Tw(n.fields[o])}`;return s+"}"}(t.mapValue):we()}function Sw(t){return!!t&&"integerValue"in t}function CE(t){return!!t&&"arrayValue"in t}function XC(t){return!!t&&"nullValue"in t}function JC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lf(t){return!!t&&"mapValue"in t}function IY(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Tu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return fc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Tu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Tu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function AY(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.value=e}static empty(){return new lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Lf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tu(n)}setAll(e){let n=Gt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Tu(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Lf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return is(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Lf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){fc(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new lr(Tu(this.value))}}function oO(t){const e=[];return fc(t.fields,(n,r)=>{const s=new Gt([n]);if(Lf(r)){const i=oO(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Ir(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new fn(e,0,Ee.min(),Ee.min(),Ee.min(),lr.empty(),0)}static newFoundDocument(e,n,r,s){return new fn(e,1,n,Ee.min(),r,s,0)}static newNoDocument(e,n){return new fn(e,2,n,Ee.min(),Ee.min(),lr.empty(),0)}static newUnknownDocument(e,n){return new fn(e,3,n,Ee.min(),Ee.min(),lr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n){this.position=e,this.inclusive=n}}function ZC(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=fe.comparator(fe.fromName(o.referenceValue),n.key):r=Gl(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function eR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!is(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n="asc"){this.field=e,this.dir=n}}function NY(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{}class jt extends aO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new DY(e,n,r):n==="array-contains"?new LY(e,r):n==="in"?new jY(e,r):n==="not-in"?new VY(e,r):n==="array-contains-any"?new FY(e,r):new jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new MY(e,r):new OY(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Gl(n,this.value)):n!==null&&la(this.value)===la(n)&&this.matchesComparison(Gl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class os extends aO{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new os(e,n)}matches(e){return lO(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function lO(t){return t.op==="and"}function cO(t){return kY(t)&&lO(t)}function kY(t){for(const e of t.filters)if(e instanceof os)return!1;return!0}function bw(t){if(t instanceof jt)return t.field.canonicalString()+t.op.toString()+ql(t.value);if(cO(t))return t.filters.map(e=>bw(e)).join(",");{const e=t.filters.map(n=>bw(n)).join(",");return`${t.op}(${e})`}}function uO(t,e){return t instanceof jt?function(r,s){return s instanceof jt&&r.op===s.op&&r.field.isEqual(s.field)&&is(r.value,s.value)}(t,e):t instanceof os?function(r,s){return s instanceof os&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&uO(o,s.filters[a]),!0):!1}(t,e):void we()}function dO(t){return t instanceof jt?function(n){return`${n.field.canonicalString()} ${n.op} ${ql(n.value)}`}(t):t instanceof os?function(n){return n.op.toString()+" {"+n.getFilters().map(dO).join(" ,")+"}"}(t):"Filter"}class DY extends jt{constructor(e,n,r){super(e,n,r),this.key=fe.fromName(r.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class MY extends jt{constructor(e,n){super(e,"in",n),this.keys=hO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class OY extends jt{constructor(e,n){super(e,"not-in",n),this.keys=hO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function hO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>fe.fromName(r.referenceValue))}class LY extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return CE(n)&&dd(n.arrayValue,this.value)}}class jY extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&dd(this.value.arrayValue,n)}}class VY extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(dd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!dd(this.value.arrayValue,n)}}class FY extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!CE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>dd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UY{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function tR(t,e=null,n=[],r=[],s=null,i=null,o=null){return new UY(t,e,n,r,s,i,o)}function RE(t){const e=xe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>bw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),rg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ql(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ql(r)).join(",")),e.ue=n}return e.ue}function PE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!NY(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!uO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!eR(t.startAt,e.startAt)&&eR(t.endAt,e.endAt)}function Cw(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function BY(t,e,n,r,s,i,o,a){return new sg(t,e,n,r,s,i,o,a)}function ig(t){return new sg(t)}function nR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $Y(t){return t.collectionGroup!==null}function Su(t){const e=xe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Qt(Gt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Bp(i,r))}),n.has(Gt.keyField().canonicalString())||e.ce.push(new Bp(Gt.keyField(),r))}return e.ce}function ns(t){const e=xe(t);return e.le||(e.le=zY(e,Su(t))),e.le}function zY(t,e){if(t.limitType==="F")return tR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Bp(s.field,i)});const n=t.endAt?new Up(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Up(t.startAt.position,t.startAt.inclusive):null;return tR(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Rw(t,e,n){return new sg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function og(t,e){return PE(ns(t),ns(e))&&t.limitType===e.limitType}function fO(t){return`${RE(ns(t))}|lt:${t.limitType}`}function Ma(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>dO(s)).join(", ")}]`),rg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ql(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ql(s)).join(",")),`Target(${r})`}(ns(t))}; limitType=${t.limitType})`}function ag(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):fe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Su(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=ZC(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Su(r),s)||r.endAt&&!function(o,a,l){const c=ZC(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Su(r),s))}(t,e)}function KY(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pO(t){return(e,n)=>{let r=!1;for(const s of Su(t)){const i=WY(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function WY(t,e,n){const r=t.field.isKeyField()?fe.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Gl(l,c):we()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){fc(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return sO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HY=new pt(fe.comparator);function Ks(){return HY}const mO=new pt(fe.comparator);function iu(...t){let e=mO;for(const n of t)e=e.insert(n.key,n);return e}function gO(t){let e=mO;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Lo(){return bu()}function yO(){return bu()}function bu(){return new pc(t=>t.toString(),(t,e)=>t.isEqual(e))}const GY=new pt(fe.comparator),qY=new Qt(fe.comparator);function Ae(...t){let e=qY;for(const n of t)e=e.add(n);return e}const QY=new Qt(Ve);function YY(){return QY}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fp(e)?"-0":e}}function vO(t){return{integerValue:""+t}}function XY(t,e){return CY(e)?vO(e):IE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(){this._=void 0}}function JY(t,e,n){return t instanceof $p?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&SE(i)&&(i=bE(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof hd?_O(t,e):t instanceof fd?EO(t,e):function(s,i){const o=wO(s,i),a=rR(o)+rR(s.Pe);return Sw(o)&&Sw(s.Pe)?vO(a):IE(s.serializer,a)}(t,e)}function ZY(t,e,n){return t instanceof hd?_O(t,e):t instanceof fd?EO(t,e):n}function wO(t,e){return t instanceof zp?function(r){return Sw(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class $p extends lg{}class hd extends lg{constructor(e){super(),this.elements=e}}function _O(t,e){const n=xO(e);for(const r of t.elements)n.some(s=>is(s,r))||n.push(r);return{arrayValue:{values:n}}}class fd extends lg{constructor(e){super(),this.elements=e}}function EO(t,e){let n=xO(e);for(const r of t.elements)n=n.filter(s=>!is(s,r));return{arrayValue:{values:n}}}class zp extends lg{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function rR(t){return bt(t.integerValue||t.doubleValue)}function xO(t){return CE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function eX(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof hd&&s instanceof hd||r instanceof fd&&s instanceof fd?Hl(r.elements,s.elements,is):r instanceof zp&&s instanceof zp?is(r.Pe,s.Pe):r instanceof $p&&s instanceof $p}(t.transform,e.transform)}class tX{constructor(e,n){this.version=e,this.transformResults=n}}class ks{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ks}static exists(e){return new ks(void 0,e)}static updateTime(e){return new ks(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let cg=class{};function TO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new bO(t.key,ks.none()):new eh(t.key,t.data,ks.none());{const n=t.data,r=lr.empty();let s=new Qt(Gt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new wa(t.key,r,new Ir(s.toArray()),ks.none())}}function nX(t,e,n){t instanceof eh?function(s,i,o){const a=s.value.clone(),l=iR(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof wa?function(s,i,o){if(!jf(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=iR(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(SO(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Cu(t,e,n,r){return t instanceof eh?function(i,o,a,l){if(!jf(i.precondition,o))return a;const c=i.value.clone(),d=oR(i.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof wa?function(i,o,a,l){if(!jf(i.precondition,o))return a;const c=oR(i.fieldTransforms,l,o),d=o.data;return d.setAll(SO(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return jf(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function rX(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=wO(r.transform,s||null);i!=null&&(n===null&&(n=lr.empty()),n.set(r.field,i))}return n||null}function sR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Hl(r,s,(i,o)=>eX(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class eh extends cg{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class wa extends cg{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function SO(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function iR(t,e,n){const r=new Map;Qe(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,ZY(o,a,n[s]))}return r}function oR(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,JY(i,o,e))}return r}class bO extends cg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sX extends cg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iX{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&nX(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Cu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Cu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=yO();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=TO(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ae())}isEqual(e){return this.batchId===e.batchId&&Hl(this.mutations,e.mutations,(n,r)=>sR(n,r))&&Hl(this.baseMutations,e.baseMutations,(n,r)=>sR(n,r))}}class AE{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Qe(e.mutations.length===r.length);let s=function(){return GY}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new AE(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oX=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aX{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,Me;function lX(t){switch(t){default:return we();case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0}}function CO(t){if(t===void 0)return zs("GRPC error has no .code"),G.UNKNOWN;switch(t){case kt.OK:return G.OK;case kt.CANCELLED:return G.CANCELLED;case kt.UNKNOWN:return G.UNKNOWN;case kt.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case kt.INTERNAL:return G.INTERNAL;case kt.UNAVAILABLE:return G.UNAVAILABLE;case kt.UNAUTHENTICATED:return G.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case kt.NOT_FOUND:return G.NOT_FOUND;case kt.ALREADY_EXISTS:return G.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return G.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case kt.ABORTED:return G.ABORTED;case kt.OUT_OF_RANGE:return G.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return G.UNIMPLEMENTED;case kt.DATA_LOSS:return G.DATA_LOSS;default:return we()}}(Me=kt||(kt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cX(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uX=new qo([4294967295,4294967295],0);function aR(t){const e=cX().encode(t),n=new QM;return n.update(e),new Uint8Array(n.digest())}function lR(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new qo([n,r],0),new qo([s,i],0)]}class NE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ou(`Invalid padding: ${n}`);if(r<0)throw new ou(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ou(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ou(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=qo.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(qo.fromNumber(r)));return s.compare(uX)===1&&(s=new qo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=aR(e),[r,s]=lR(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new NE(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=aR(e),[r,s]=lR(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,th.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ug(Ee.min(),s,new pt(Ve),Ks(),Ae())}}class th{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new th(r,n,Ae(),Ae(),Ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class RO{constructor(e,n){this.targetId=e,this.me=n}}class PO{constructor(e,n,r=Zt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class cR{constructor(){this.fe=0,this.ge=dR(),this.pe=Zt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ae(),n=Ae(),r=Ae();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:we()}}),new th(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=dR()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class dX{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ks(),this.qe=uR(),this.Qe=new pt(Ve)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:we()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(Cw(i))if(r===0){const o=new fe(i.path);this.Ue(n,o,fn.newNoDocument(o,Ee.min()))}else Qe(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=aa(r).toUint8Array()}catch(l){if(l instanceof iO)return Wl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new NE(o,s,i)}catch(l){return Wl(l instanceof ou?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&Cw(a.target)){const l=new fe(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,fn.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=Ae();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new ug(e,n,this.Qe,this.ke,r);return this.ke=Ks(),this.qe=uR(),this.Qe=new pt(Ve),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new cR,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Qt(Ve),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new cR),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function uR(){return new pt(fe.comparator)}function dR(){return new pt(fe.comparator)}const hX={asc:"ASCENDING",desc:"DESCENDING"},fX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pX={and:"AND",or:"OR"};class mX{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pw(t,e){return t.useProto3Json||rg(e)?e:{value:e}}function Kp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gX(t,e){return Kp(t,e.toTimestamp())}function rs(t){return Qe(!!t),Ee.fromTimestamp(function(n){const r=to(n);return new Ft(r.seconds,r.nanos)}(t))}function kE(t,e){return Iw(t,e).canonicalString()}function Iw(t,e){const n=function(s){return new wt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function AO(t){const e=wt.fromString(t);return Qe(OO(e)),e}function Aw(t,e){return kE(t.databaseId,e.path)}function Oy(t,e){const n=AO(e);if(n.get(1)!==t.databaseId.projectId)throw new he(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new fe(kO(n))}function NO(t,e){return kE(t.databaseId,e)}function yX(t){const e=AO(t);return e.length===4?wt.emptyPath():kO(e)}function Nw(t){return new wt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function kO(t){return Qe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function hR(t,e,n){return{name:Aw(t,e),fields:n.value.mapValue.fields}}function vX(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(Qe(d===void 0||typeof d=="string"),Zt.fromBase64String(d||"")):(Qe(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Zt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?G.UNKNOWN:CO(c.code);return new he(d,c.message||"")}(o);n=new PO(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Oy(t,r.document.name),i=rs(r.document.updateTime),o=r.document.createTime?rs(r.document.createTime):Ee.min(),a=new lr({mapValue:{fields:r.document.fields}}),l=fn.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Vf(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Oy(t,r.document),i=r.readTime?rs(r.readTime):Ee.min(),o=fn.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Vf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Oy(t,r.document),i=r.removedTargetIds||[];n=new Vf([],i,s,null)}else{if(!("filter"in e))return we();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new aX(s,i),a=r.targetId;n=new RO(a,o)}}return n}function wX(t,e){let n;if(e instanceof eh)n={update:hR(t,e.key,e.value)};else if(e instanceof bO)n={delete:Aw(t,e.key)};else if(e instanceof wa)n={update:hR(t,e.key,e.data),updateMask:PX(e.fieldMask)};else{if(!(e instanceof sX))return we();n={verify:Aw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof $p)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof hd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof fd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof zp)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw we()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:gX(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:we()}(t,e.precondition)),n}function _X(t,e){return t&&t.length>0?(Qe(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?rs(s.updateTime):rs(i);return o.isEqual(Ee.min())&&(o=rs(i)),new tX(o,s.transformResults||[])}(n,e))):[]}function EX(t,e){return{documents:[NO(t,e.path)]}}function xX(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=NO(t,s);const i=function(c){if(c.length!==0)return MO(os.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(f){return{field:Oa(f.field),direction:bX(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Pw(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function TX(t){let e=yX(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Qe(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const f=DO(h);return f instanceof os&&cO(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(w){return new Bp(La(w.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,rg(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,g=h.values||[];return new Up(g,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,g=h.values||[];return new Up(g,f)}(n.endAt)),BY(e,s,o,i,a,"F",l,c)}function SX(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function DO(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=La(n.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=La(n.unaryFilter.field);return jt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=La(n.unaryFilter.field);return jt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=La(n.unaryFilter.field);return jt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(t):t.fieldFilter!==void 0?function(n){return jt.create(La(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return os.create(n.compositeFilter.filters.map(r=>DO(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return we()}}(n.compositeFilter.op))}(t):we()}function bX(t){return hX[t]}function CX(t){return fX[t]}function RX(t){return pX[t]}function Oa(t){return{fieldPath:t.canonicalString()}}function La(t){return Gt.fromServerFormat(t.fieldPath)}function MO(t){return t instanceof jt?function(n){if(n.op==="=="){if(JC(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NAN"}};if(XC(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(JC(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NOT_NAN"}};if(XC(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oa(n.field),op:CX(n.op),value:n.value}}}(t):t instanceof os?function(n){const r=n.getFilters().map(s=>MO(s));return r.length===1?r[0]:{compositeFilter:{op:RX(n.op),filters:r}}}(t):we()}function PX(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function OO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n,r,s,i=Ee.min(),o=Ee.min(),a=Zt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IX{constructor(e){this.ct=e}}function AX(t){const e=TX({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Rw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NX{constructor(){this.un=new kX}addToCollectionParentIndex(e,n){return this.un.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(eo.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(eo.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class kX{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Qt(wt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Qt(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ql(0)}static kn(){return new Ql(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DX{constructor(){this.changes=new pc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MX{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OX{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Cu(r.mutation,s,Ir.empty(),Ft.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ae()){const s=Lo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=iu();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Lo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ae()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Ks();const o=bu(),a=function(){return bu()}();return n.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof wa)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Cu(d.mutation,c,d.mutation.getFieldMask(),Ft.now())):o.set(c.key,Ir.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new MX(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=bu();let s=new pt((o,a)=>o-a),i=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Ir.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(s.get(a.batchId)||Ae()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=yO();d.forEach(f=>{if(!i.has(f)){const g=TO(n.get(f),r.get(f));g!==null&&h.set(f,g),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return fe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$Y(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):H.resolve(Lo());let a=-1,l=i;return o.next(c=>H.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?H.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Ae())).next(d=>({batchId:a,changes:gO(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next(r=>{let s=iu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=iu();return this.indexManager.getCollectionParents(e,i).next(a=>H.forEach(a,l=>{const c=function(h,f){return new sg(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,fn.newInvalidDocument(d)))});let a=iu();return o.forEach((l,c)=>{const d=i.get(l);d!==void 0&&Cu(d.mutation,c,Ir.empty(),Ft.now()),ag(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LX{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return H.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:rs(s.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:AX(s.bundledQuery),readTime:rs(s.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jX{constructor(){this.overlays=new pt(fe.comparator),this.Ir=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Lo();return H.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const s=Lo(),i=n.length+1,o=new fe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return H.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new pt((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=Lo(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Lo(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return H.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new oX(n,r));let i=this.Ir.get(n);i===void 0&&(i=Ae(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VX{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(){this.Tr=new Qt(Ut.Er),this.dr=new Qt(Ut.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ut(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ut(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new fe(new wt([])),r=new Ut(n,e),s=new Ut(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new fe(new wt([])),r=new Ut(n,e),s=new Ut(n,e+1);let i=Ae();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Ut(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ut{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return fe.comparator(e.key,n.key)||Ve(e.wr,n.wr)}static Ar(e,n){return Ve(e.wr,n.wr)||fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FX{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Qt(Ut.Er)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new iX(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new Ut(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return H.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ut(n,0),s=new Ut(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),H.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qt(Ve);return n.forEach(s=>{const i=new Ut(s,0),o=new Ut(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),H.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;fe.isDocumentKey(i)||(i=i.child(""));const o=new Ut(new fe(i),0);let a=new Qt(Ve);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.wr)),!0)},o),H.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Qe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return H.forEach(n.mutations,s=>{const i=new Ut(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ut(n,0),s=this.br.firstAfterOrEqual(r);return H.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UX{constructor(e){this.Mr=e,this.docs=function(){return new pt(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let r=Ks();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():fn.newInvalidDocument(s))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Ks();const o=n.path,a=new fe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||xY(EY(d),r)<=0||(s.has(d.key)||ag(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return H.resolve(i)}getAllFromCollectionGroup(e,n,r,s){we()}Or(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new BX(this)}getSize(e){return H.resolve(this.size)}}class BX extends DX{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $X{constructor(e){this.persistence=e,this.Nr=new pc(n=>RE(n),PE),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.Lr=0,this.Br=new DE,this.targetCount=0,this.kr=Ql.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),H.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ql(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Kn(n),H.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),H.waitFor(i).next(()=>s)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),H.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zX{constructor(e,n){this.qr={},this.overlays={},this.Qr=new TE(0),this.Kr=!1,this.Kr=!0,this.$r=new VX,this.referenceDelegate=e(this),this.Ur=new $X(this),this.indexManager=new NX,this.remoteDocumentCache=function(s){return new UX(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new IX(n),this.Gr=new LX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new jX,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new FX(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const s=new KX(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return H.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class KX extends SY{constructor(e){super(),this.currentSequenceNumber=e}}class ME{constructor(e){this.persistence=e,this.Jr=new DE,this.Yr=null}static Zr(e){return new ME(e)}get Xr(){if(this.Yr)return this.Yr;throw we()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),H.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Xr,r=>{const s=fe.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,Ee.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return H.or([()=>H.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Ae(),s=Ae();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new OE(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HX{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return KU()?8:bY(yn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new WX;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(qc()<=De.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Ma(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),H.resolve()):(qc()<=De.DEBUG&&re("QueryEngine","Query:",Ma(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(qc()<=De.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Ma(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ns(n))):H.resolve())}Yi(e,n){if(nR(n))return H.resolve(null);let r=ns(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Rw(n,null,"F"),r=ns(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ae(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,Rw(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,s){return nR(n)||s.isEqual(Ee.min())?H.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?H.resolve(null):(qc()<=De.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ma(n)),this.rs(e,o,n,_Y(s,-1)).next(a=>a))})}ts(e,n){let r=new Qt(pO(e));return n.forEach((s,i)=>{ag(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return qc()<=De.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Ma(n)),this.Ji.getDocumentsMatchingQuery(e,n,eo.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GX{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new pt(Ve),this._s=new pc(i=>RE(i),PE),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OX(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function qX(t,e,n,r){return new GX(t,e,n,r)}async function LO(t,e){const n=xe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ae();for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function QX(t,e){const n=xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,f=h.keys();let g=H.resolve();return f.forEach(w=>{g=g.next(()=>d.getEntry(l,w)).next(y=>{const T=c.docVersions.get(w);Qe(T!==null),y.version.compareTo(T)<0&&(h.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),d.addEntry(y)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ae();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function jO(t){const e=xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function YX(t,e){const n=xe(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((d,h)=>{const f=s.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(i,d.addedDocuments,h)));let g=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(Zt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),s=s.insert(h,g),function(y,T,x){return y.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(f,g,d)&&a.push(n.Ur.updateTargetData(i,g))});let l=Ks(),c=Ae();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(XX(i,o,e.documentUpdates).next(d=>{l=d.Ps,c=d.Is})),!r.isEqual(Ee.min())){const d=n.Ur.getLastRemoteSnapshotVersion(i).next(h=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return H.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.os=s,i))}function XX(t,e,n){let r=Ae(),s=Ae();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Ks();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Ee.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):re("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function JX(t,e){const n=xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ZX(t,e){const n=xe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,H.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new Pi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function kw(t,e,n){const r=xe(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Zd(o))throw o;re("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function fR(t,e,n){const r=xe(t);let s=Ee.min(),i=Ae();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=xe(l),f=h._s.get(d);return f!==void 0?H.resolve(h.os.get(f)):h.Ur.getTargetData(c,d)}(r,o,ns(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:Ee.min(),n?i:Ae())).next(a=>(eJ(r,KY(e),a),{documents:a,Ts:i})))}function eJ(t,e,n){let r=t.us.get(e)||Ee.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class pR{constructor(){this.activeTargetIds=YY()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tJ{constructor(){this.so=new pR,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new pR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nJ{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sf=null;function Ly(){return sf===null?sf=function(){return 268435456+Math.round(2147483648*Math.random())}():sf++,"0x"+sf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rJ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sJ{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class iJ extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=Ly(),l=this.xo(n,r.toUriEncodedString());re("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(n,l,c,s).then(d=>(re("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Wl("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",s),d})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=rJ[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Ly();return new Promise((o,a)=>{const l=new YM;l.setWithCredentials(!0),l.listenOnce(JM.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Of.NO_ERROR:const d=l.getResponseJson();re(ln,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case Of.TIMEOUT:re(ln,`RPC '${e}' ${i} timed out`),a(new he(G.DEADLINE_EXCEEDED,"Request time out"));break;case Of.HTTP_ERROR:const h=l.getStatus();if(re(ln,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const w=function(T){const x=T.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(x)>=0?x:G.UNKNOWN}(g.status);a(new he(w,g.message))}else a(new he(G.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new he(G.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{re(ln,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);re(ln,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=Ly(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=tO(),a=eO(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new XM({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");re(ln,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,g=!1;const w=new sJ({Io:T=>{g?re(ln,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(f||(re(ln,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),re(ln,`RPC '${e}' stream ${s} sending:`,T),h.send(T))},To:()=>h.close()}),y=(T,x,E)=>{T.listen(x,b=>{try{E(b)}catch(C){setTimeout(()=>{throw C},0)}})};return y(h,su.EventType.OPEN,()=>{g||(re(ln,`RPC '${e}' stream ${s} transport opened.`),w.yo())}),y(h,su.EventType.CLOSE,()=>{g||(g=!0,re(ln,`RPC '${e}' stream ${s} transport closed`),w.So())}),y(h,su.EventType.ERROR,T=>{g||(g=!0,Wl(ln,`RPC '${e}' stream ${s} transport errored:`,T),w.So(new he(G.UNAVAILABLE,"The operation could not be completed")))}),y(h,su.EventType.MESSAGE,T=>{var x;if(!g){const E=T.data[0];Qe(!!E);const b=E,C=b.error||((x=b[0])===null||x===void 0?void 0:x.error);if(C){re(ln,`RPC '${e}' stream ${s} received error:`,C);const k=C.status;let j=function(P){const A=kt[P];if(A!==void 0)return CO(A)}(k),R=C.message;j===void 0&&(j=G.INTERNAL,R="Unknown error status: "+k+" with message "+C.message),g=!0,w.So(new he(j,R)),h.close()}else re(ln,`RPC '${e}' stream ${s} received:`,E),w.bo(E)}}),y(a,ZM.STAT_EVENT,T=>{T.stat===xw.PROXY?re(ln,`RPC '${e}' stream ${s} detected buffering proxy`):T.stat===xw.NOPROXY&&re(ln,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function jy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(t){return new mX(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&re("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,n,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new VO(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(zs(n.toString()),zs("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new he(G.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oJ extends FO{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=vX(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ee.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ee.min():o.readTime?rs(o.readTime):Ee.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Nw(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Cw(l)?{documents:EX(i,l)}:{query:xX(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=IO(i,o.resumeToken);const c=Pw(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ee.min())>0){a.readTime=Kp(i,o.snapshotVersion.toTimestamp());const c=Pw(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=SX(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Nw(this.serializer),n.removeTarget=e,this.a_(n)}}class aJ extends FO{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=_X(e.writeResults,e.commitTime),r=rs(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Nw(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>wX(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lJ extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new he(G.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,Iw(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new he(G.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Iw(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new he(G.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class cJ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(zs(n),this.D_=!1):re("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uJ{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{_a(this)&&(re("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=xe(l);c.L_.add(4),await nh(c),c.q_.set("Unknown"),c.L_.delete(4),await hg(c)}(this))})}),this.q_=new cJ(r,s)}}async function hg(t){if(_a(t))for(const e of t.B_)await e(!0)}async function nh(t){for(const e of t.B_)await e(!1)}function UO(t,e){const n=xe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),FE(n)?VE(n):mc(n).r_()&&jE(n,e))}function LE(t,e){const n=xe(t),r=mc(n);n.N_.delete(e),r.r_()&&BO(n,e),n.N_.size===0&&(r.r_()?r.o_():_a(n)&&n.q_.set("Unknown"))}function jE(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}mc(t).A_(e)}function BO(t,e){t.Q_.xe(e),mc(t).R_(e)}function VE(t){t.Q_=new dX({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),mc(t).start(),t.q_.v_()}function FE(t){return _a(t)&&!mc(t).n_()&&t.N_.size>0}function _a(t){return xe(t).L_.size===0}function $O(t){t.Q_=void 0}async function dJ(t){t.q_.set("Online")}async function hJ(t){t.N_.forEach((e,n)=>{jE(t,e)})}async function fJ(t,e){$O(t),FE(t)?(t.q_.M_(e),VE(t)):t.q_.set("Unknown")}async function pJ(t,e,n){if(t.q_.set("Online"),e instanceof PO&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Wp(t,r)}else if(e instanceof Vf?t.Q_.Ke(e):e instanceof RO?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ee.min()))try{const r=await jO(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.N_.get(c);d&&i.N_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=i.N_.get(l);if(!d)return;i.N_.set(l,d.withResumeToken(Zt.EMPTY_BYTE_STRING,d.snapshotVersion)),BO(i,l);const h=new Pi(d.target,l,c,d.sequenceNumber);jE(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){re("RemoteStore","Failed to raise snapshot:",r),await Wp(t,r)}}async function Wp(t,e,n){if(!Zd(e))throw e;t.L_.add(1),await nh(t),t.q_.set("Offline"),n||(n=()=>jO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await hg(t)})}function zO(t,e){return e().catch(n=>Wp(t,n,e))}async function fg(t){const e=xe(t),n=no(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;mJ(e);)try{const s=await JX(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,gJ(e,s)}catch(s){await Wp(e,s)}KO(e)&&WO(e)}function mJ(t){return _a(t)&&t.O_.length<10}function gJ(t,e){t.O_.push(e);const n=no(t);n.r_()&&n.V_&&n.m_(e.mutations)}function KO(t){return _a(t)&&!no(t).n_()&&t.O_.length>0}function WO(t){no(t).start()}async function yJ(t){no(t).p_()}async function vJ(t){const e=no(t);for(const n of t.O_)e.m_(n.mutations)}async function wJ(t,e,n){const r=t.O_.shift(),s=AE.from(r,e,n);await zO(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await fg(t)}async function _J(t,e){e&&no(t).V_&&await async function(r,s){if(function(o){return lX(o)&&o!==G.ABORTED}(s.code)){const i=r.O_.shift();no(r).s_(),await zO(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await fg(r)}}(t,e),KO(t)&&WO(t)}async function gR(t,e){const n=xe(t);n.asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials");const r=_a(n);n.L_.add(3),await nh(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await hg(n)}async function EJ(t,e){const n=xe(t);e?(n.L_.delete(2),await hg(n)):e||(n.L_.add(2),await nh(n),n.q_.set("Unknown"))}function mc(t){return t.K_||(t.K_=function(n,r,s){const i=xe(n);return i.w_(),new oJ(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:dJ.bind(null,t),Ro:hJ.bind(null,t),mo:fJ.bind(null,t),d_:pJ.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),FE(t)?VE(t):t.q_.set("Unknown")):(await t.K_.stop(),$O(t))})),t.K_}function no(t){return t.U_||(t.U_=function(n,r,s){const i=xe(n);return i.w_(),new aJ(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:yJ.bind(null,t),mo:_J.bind(null,t),f_:vJ.bind(null,t),g_:wJ.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await fg(t)):(await t.U_.stop(),t.O_.length>0&&(re("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new $i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new UE(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function BE(t,e){if(zs("AsyncQueue",`${e}: ${t}`),Zd(t))return new he(G.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||fe.comparator(n.key,r.key):(n,r)=>fe.comparator(n.key,r.key),this.keyedMap=iu(),this.sortedSet=new pt(this.comparator)}static emptySet(e){return new pl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new pl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(){this.W_=new pt(fe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):we():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Yl{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Yl(e,n,pl.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&og(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xJ{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class TJ{constructor(){this.queries=vR(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=xe(n),i=s.queries;s.queries=vR(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new he(G.ABORTED,"Firestore shutting down"))}}function vR(){return new pc(t=>fO(t),og)}async function HO(t,e){const n=xe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new xJ,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=BE(o,`Initialization of query '${Ma(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&$E(n)}async function GO(t,e){const n=xe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function SJ(t,e){const n=xe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&$E(n)}function bJ(t,e,n){const r=xe(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function $E(t){t.Y_.forEach(e=>{e.next()})}var Dw,wR;(wR=Dw||(Dw={})).ea="default",wR.Cache="cache";class qO{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Yl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Dw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.key=e}}class YO{constructor(e){this.key=e}}class CJ{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ae(),this.mutatedKeys=Ae(),this.Aa=pO(e),this.Ra=new pl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new yR,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const f=s.get(d),g=ag(this.query,h)?h:null,w=!!f&&this.mutatedKeys.has(f.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let T=!1;f&&g?f.data.isEqual(g.data)?w!==y&&(r.track({type:3,doc:g}),T=!0):this.ga(f,g)||(r.track({type:2,doc:g}),T=!0,(l&&this.Aa(g,l)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),T=!0):f&&!g&&(r.track({type:1,doc:f}),T=!0,(l||c)&&(a=!0)),T&&(g?(o=o.add(g),i=y?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(g,w){const y=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return y(g)-y(w)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Yl(this.query,e.Ra,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new yR,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ae(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new YO(r))}),this.da.forEach(r=>{e.has(r)||n.push(new QO(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ae();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Yl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class RJ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class PJ{constructor(e){this.key=e,this.va=!1}}class IJ{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new pc(a=>fO(a),og),this.Ma=new Map,this.xa=new Set,this.Oa=new pt(fe.comparator),this.Na=new Map,this.La=new DE,this.Ba={},this.ka=new Map,this.qa=Ql.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function AJ(t,e,n=!0){const r=nL(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await XO(r,e,n,!0),s}async function NJ(t,e){const n=nL(t);await XO(n,e,!0,!1)}async function XO(t,e,n,r){const s=await ZX(t.localStore,ns(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await kJ(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&UO(t.remoteStore,s),a}async function kJ(t,e,n,r,s){t.Ka=(h,f,g)=>async function(y,T,x,E){let b=T.view.ma(x);b.ns&&(b=await fR(y.localStore,T.query,!1).then(({documents:R})=>T.view.ma(R,b)));const C=E&&E.targetChanges.get(T.targetId),k=E&&E.targetMismatches.get(T.targetId)!=null,j=T.view.applyChanges(b,y.isPrimaryClient,C,k);return ER(y,T.targetId,j.wa),j.snapshot}(t,h,f,g);const i=await fR(t.localStore,e,!0),o=new CJ(e,i.Ts),a=o.ma(i.documents),l=th.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);ER(t,n,c.wa);const d=new RJ(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function DJ(t,e,n){const r=xe(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!og(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await kw(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&LE(r.remoteStore,s.targetId),Mw(r,s.targetId)}).catch(Jd)):(Mw(r,s.targetId),await kw(r.localStore,s.targetId,!0))}async function MJ(t,e){const n=xe(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),LE(n.remoteStore,r.targetId))}async function OJ(t,e,n){const r=$J(t);try{const s=await function(o,a){const l=xe(o),c=Ft.now(),d=a.reduce((g,w)=>g.add(w.key),Ae());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=Ks(),y=Ae();return l.cs.getEntries(g,d).next(T=>{w=T,w.forEach((x,E)=>{E.isValidDocument()||(y=y.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,w)).next(T=>{h=T;const x=[];for(const E of a){const b=rX(E,h.get(E.key).overlayedDocument);b!=null&&x.push(new wa(E.key,b,oO(b.value.mapValue),ks.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,x,a)}).next(T=>{f=T;const x=T.applyToLocalDocumentSet(h,y);return l.documentOverlayCache.saveOverlays(g,T.batchId,x)})}).then(()=>({batchId:f.batchId,changes:gO(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new pt(Ve)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,s.batchId,n),await rh(r,s.changes),await fg(r.remoteStore)}catch(s){const i=BE(s,"Failed to persist write");n.reject(i)}}async function JO(t,e){const n=xe(t);try{const r=await YX(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(Qe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?Qe(o.va):s.removedDocuments.size>0&&(Qe(o.va),o.va=!1))}),await rh(n,r,e)}catch(r){await Jd(r)}}function _R(t,e,n){const r=xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=xe(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const f of h.j_)f.Z_(a)&&(c=!0)}),c&&$E(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function LJ(t,e,n){const r=xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new pt(fe.comparator);o=o.insert(i,fn.newNoDocument(i,Ee.min()));const a=Ae().add(i),l=new ug(Ee.min(),new Map,new pt(Ve),o,a);await JO(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),zE(r)}else await kw(r.localStore,e,!1).then(()=>Mw(r,e,n)).catch(Jd)}async function jJ(t,e){const n=xe(t),r=e.batch.batchId;try{const s=await QX(n.localStore,e);eL(n,r,null),ZO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await rh(n,s)}catch(s){await Jd(s)}}async function VJ(t,e,n){const r=xe(t);try{const s=await function(o,a){const l=xe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Qe(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);eL(r,e,n),ZO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await rh(r,s)}catch(s){await Jd(s)}}function ZO(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function eL(t,e,n){const r=xe(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Mw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||tL(t,r)})}function tL(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(LE(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),zE(t))}function ER(t,e,n){for(const r of n)r instanceof QO?(t.La.addReference(r.key,e),FJ(t,r)):r instanceof YO?(re("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||tL(t,r.key)):we()}function FJ(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(re("SyncEngine","New document in limbo: "+n),t.xa.add(r),zE(t))}function zE(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new fe(wt.fromString(e)),r=t.qa.next();t.Na.set(r,new PJ(n)),t.Oa=t.Oa.insert(n,r),UO(t.remoteStore,new Pi(ns(ig(n.path)),r,"TargetPurposeLimboResolution",TE.oe))}}async function rh(t,e,n){const r=xe(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){s.push(c);const h=OE.Wi(l.targetId,c);i.push(h)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,c){const d=xe(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>H.forEach(c,f=>H.forEach(f.$i,g=>d.persistence.referenceDelegate.addReference(h,f.targetId,g)).next(()=>H.forEach(f.Ui,g=>d.persistence.referenceDelegate.removeReference(h,f.targetId,g)))))}catch(h){if(!Zd(h))throw h;re("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const g=d.os.get(f),w=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(w);d.os=d.os.insert(f,y)}}}(r.localStore,i))}async function UJ(t,e){const n=xe(t);if(!n.currentUser.isEqual(e)){re("SyncEngine","User change. New user:",e.toKey());const r=await LO(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new he(G.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await rh(n,r.hs)}}function BJ(t,e){const n=xe(t),r=n.Na.get(e);if(r&&r.va)return Ae().add(r.key);{let s=Ae();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function nL(t){const e=xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=JO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BJ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LJ.bind(null,e),e.Ca.d_=SJ.bind(null,e.eventManager),e.Ca.$a=bJ.bind(null,e.eventManager),e}function $J(t){const e=xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jJ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VJ.bind(null,e),e}class xR{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=dg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return qX(this.persistence,new HX,e.initialUser,this.serializer)}createPersistence(e){return new zX(ME.Zr,this.serializer)}createSharedClientState(e){return new tJ}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class zJ{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_R(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=UJ.bind(null,this.syncEngine),await EJ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new TJ}()}createDatastore(e){const n=dg(e.databaseInfo.databaseId),r=function(i){return new iJ(i)}(e.databaseInfo);return function(i,o,a,l){return new lJ(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new uJ(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>_R(this.syncEngine,n,0),function(){return mR.D()?new mR:new nJ}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,d){const h=new IJ(s,i,o,a,l,c);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=xe(s);re("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await nh(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):zs("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KJ{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=dn.UNAUTHENTICATED,this.clientId=rO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{re("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(re("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new he(G.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=BE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Vy(t,e){t.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await LO(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function TR(t,e){t.asyncQueue.verifyOperationInProgress();const n=await HJ(t);re("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>gR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>gR(e.remoteStore,s)),t._onlineComponents=e}function WJ(t){return t.name==="FirebaseError"?t.code===G.FAILED_PRECONDITION||t.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function HJ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re("FirestoreClient","Using user provided OfflineComponentProvider");try{await Vy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!WJ(n))throw n;Wl("Error using user provided cache. Falling back to memory cache: "+n),await Vy(t,new xR)}}else re("FirestoreClient","Using default OfflineComponentProvider"),await Vy(t,new xR);return t._offlineComponents}async function sL(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re("FirestoreClient","Using user provided OnlineComponentProvider"),await TR(t,t._uninitializedComponentsProvider._online)):(re("FirestoreClient","Using default OnlineComponentProvider"),await TR(t,new zJ))),t._onlineComponents}function GJ(t){return sL(t).then(e=>e.syncEngine)}async function Ow(t){const e=await sL(t),n=e.eventManager;return n.onListen=AJ.bind(null,e.syncEngine),n.onUnlisten=DJ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NJ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=MJ.bind(null,e.syncEngine),n}function qJ(t,e,n={}){const r=new $i;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new rL({next:f=>{o.enqueueAndForget(()=>GO(i,h));const g=f.docs.has(a);!g&&f.fromCache?c.reject(new he(G.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&l&&l.source==="server"?c.reject(new he(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new qO(ig(a.path),d,{includeMetadataChanges:!0,_a:!0});return HO(i,h)}(await Ow(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QJ(t,e,n){if(!n)throw new he(G.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function YJ(t,e,n,r){if(e===!0&&r===!0)throw new he(G.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function bR(t){if(!fe.isDocumentKey(t))throw new he(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function KE(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":we()}function zi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=KE(t);throw new he(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new he(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new he(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YJ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new he(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new he(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new he(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class WE{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new he(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new he(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CR(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new dY;switch(r.type){case"firstParty":return new mY(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=SR.get(n);r&&(re("ComponentProvider","Removing Datastore"),SR.delete(n),r.terminate())}(this),Promise.resolve()}}function XJ(t,e,n,r={}){var s;const i=(t=zi(t,WE))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Wl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=dn.MOCK_USER;else{a=C1(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new he(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new dn(c)}t._authCredentials=new hY(new nO(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oL=class aL{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new aL(this.firestore,e,this._query)}};class Gn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gn(this.firestore,e,this._key)}}class pd extends oL{constructor(e,n,r){super(e,n,ig(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gn(this.firestore,null,new fe(e))}withConverter(e){return new pd(this.firestore,e,this._path)}}function HE(t,e,...n){if(t=Xt(t),arguments.length===1&&(e=rO.newId()),QJ("doc","path",e),t instanceof WE){const r=wt.fromString(e,...n);return bR(r),new Gn(t,null,new fe(r))}{if(!(t instanceof Gn||t instanceof pd))throw new he(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wt.fromString(e,...n));return bR(r),new Gn(t.firestore,t instanceof pd?t.converter:null,new fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JJ{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new VO(this,"async_queue_retry"),this.Eu=()=>{const n=jy();n&&re("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=jy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=jy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new $i;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Zd(e))throw e;re("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw zs("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const s=UE.createAndSchedule(this,e,n,r,i=>this.Vu(i));return this.lu.push(s),s}du(){this.hu&&we()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}function RR(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class md extends WE{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new JJ}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||lL(this),this._firestoreClient.terminate()}}function ZJ(t,e){const n=typeof t=="object"?t:Z0(),r=typeof t=="string"?t:"(default)",s=gm(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=T1("firestore");i&&XJ(s,...i)}return s}function GE(t){return t._firestoreClient||lL(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function lL(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,d){return new PY(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,iL(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new KJ(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xl(Zt.fromBase64String(e))}catch(n){throw new he(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xl(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eZ=/^__.*__$/;class tZ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wa(e,this.data,this.fieldMask,n,this.fieldTransforms):new eh(e,this.data,n,this.fieldTransforms)}}function uL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class XE{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.yu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new XE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.vu(e),s}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.yu(),s}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Hp(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(uL(this.wu)&&eZ.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class nZ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||dg(e)}Nu(e,n,r,s=!1){return new XE({wu:e,methodName:n,Ou:r,path:Gt.emptyPath(),Du:!1,xu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rZ(t){const e=t._freezeSettings(),n=dg(t._databaseId);return new nZ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sZ(t,e,n,r,s,i={}){const o=t.Nu(i.merge||i.mergeFields?2:0,e,n,s);pL("Data must be an object, but it was:",o,r);const a=hL(r,o);let l,c;if(i.merge)l=new Ir(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const f=iZ(e,h,n);if(!o.contains(f))throw new he(G.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);aZ(d,f)||d.push(f)}l=new Ir(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new tZ(new lr(a),l,c)}function dL(t,e){if(fL(t=Xt(t)))return pL("Unsupported field value:",e,t),hL(t,e);if(t instanceof cL)return function(r,s){if(!uL(s.wu))throw s.Mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=dL(a,s.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return XY(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ft.fromDate(r);return{timestampValue:Kp(s.serializer,i)}}if(r instanceof Ft){const i=new Ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kp(s.serializer,i)}}if(r instanceof QE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xl)return{bytesValue:IO(s.serializer,r._byteString)};if(r instanceof Gn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:kE(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof YE)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return IE(a.serializer,l)})}}}}}}(r,s);throw s.Mu(`Unsupported field value: ${KE(r)}`)}(t,e)}function hL(t,e){const n={};return sO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fc(t,(r,s)=>{const i=dL(s,e.bu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function fL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ft||t instanceof QE||t instanceof Xl||t instanceof Gn||t instanceof cL||t instanceof YE)}function pL(t,e,n){if(!fL(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=KE(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function iZ(t,e,n){if((e=Xt(e))instanceof qE)return e._internalPath;if(typeof e=="string")return mL(t,e);throw Hp("Field path arguments must be of type string or ",t,!1,void 0,n)}const oZ=new RegExp("[~\\*/\\[\\]]");function mL(t,e,n){if(e.search(oZ)>=0)throw Hp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qE(...e.split("."))._internalPath}catch{throw Hp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hp(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new he(G.INVALID_ARGUMENT,a+t+l)}function aZ(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yL("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lZ extends gL{data(){return super.data()}}function yL(t,e){return typeof e=="string"?mL(t,e):e instanceof qE?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cZ(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uZ{convertValue(e,n="none"){switch(la(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(aa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return fc(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>bt(o.doubleValue));return new YE(i)}convertGeoPoint(e){return new QE(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=bE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(cd(e));default:return null}}convertTimestamp(e){const n=to(e);return new Ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=wt.fromString(e);Qe(OO(r));const s=new ud(r.get(1),r.get(3)),i=new fe(r.popFirst(5));return s.isEqual(n)||zs(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dZ(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vL extends gL{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ff(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(yL("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ff extends vL{data(e={}){return super.data(e)}}class hZ{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new au(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ff(this._firestore,this._userDataWriter,r.key,r,new au(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Ff(s._firestore,s._userDataWriter,a.doc.key,a.doc,new au(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Ff(s._firestore,s._userDataWriter,a.doc.key,a.doc,new au(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:fZ(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function fZ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pZ(t){t=zi(t,Gn);const e=zi(t.firestore,md);return qJ(GE(e),t._key).then(n=>_L(e,t,n))}class wL extends uZ{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gn(this.firestore,null,n)}}function mZ(t,e,n){t=zi(t,Gn);const r=zi(t.firestore,md),s=dZ(t.converter,e);return yZ(r,[sZ(rZ(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,ks.none())])}function gZ(t,...e){var n,r,s;t=Xt(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||RR(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(RR(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let l,c,d;if(t instanceof Gn)c=zi(t.firestore,md),d=ig(t._key.path),l={next:h=>{e[o]&&e[o](_L(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=zi(t,oL);c=zi(h.firestore,md),d=h._query;const f=new wL(c);l={next:g=>{e[o]&&e[o](new hZ(c,f,h,g))},error:e[o+1],complete:e[o+2]},cZ(t._query)}return function(f,g,w,y){const T=new rL(y),x=new qO(g,T,w);return f.asyncQueue.enqueueAndForget(async()=>HO(await Ow(f),x)),()=>{T.za(),f.asyncQueue.enqueueAndForget(async()=>GO(await Ow(f),x))}}(GE(c),d,a,l)}function yZ(t,e){return function(r,s){const i=new $i;return r.asyncQueue.enqueueAndForget(async()=>OJ(await GJ(r),s,i)),i.promise}(GE(t),e)}function _L(t,e,n){const r=n.docs.get(e._key),s=new wL(t);return new vL(t,s,e._key,r,new au(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){hc=s})(ma),ta(new Hi("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new md(new fY(r.getProvider("auth-internal")),new yY(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new he(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ud(c.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Xr(HC,"4.7.2",e),Xr(HC,"4.7.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL="firebasestorage.googleapis.com",xL="storageBucket",vZ=2*60*1e3,wZ=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et extends as{constructor(e,n,r=0){super(Fy(e),`Firebase Storage: ${n} (${Fy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Et.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Fy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _t;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_t||(_t={}));function Fy(t){return"storage/"+t}function JE(){const t="An unknown error occurred, please check the error payload for server response.";return new Et(_t.UNKNOWN,t)}function _Z(t){return new Et(_t.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function EZ(t){return new Et(_t.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function xZ(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Et(_t.UNAUTHENTICATED,t)}function TZ(){return new Et(_t.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function SZ(t){return new Et(_t.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function bZ(){return new Et(_t.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function CZ(){return new Et(_t.CANCELED,"User canceled the upload/download.")}function RZ(t){return new Et(_t.INVALID_URL,"Invalid URL '"+t+"'.")}function PZ(t){return new Et(_t.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function IZ(){return new Et(_t.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+xL+"' property when initializing the app?")}function AZ(){return new Et(_t.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function NZ(){return new Et(_t.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function kZ(t){return new Et(_t.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Lw(t){return new Et(_t.INVALID_ARGUMENT,t)}function TL(){return new Et(_t.APP_DELETED,"The Firebase app was deleted.")}function DZ(t){return new Et(_t.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ru(t,e){return new Et(_t.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Qc(t){throw new Et(_t.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Kn.makeFromUrl(e,n)}catch{return new Kn(e,"")}if(r.path==="")return r;throw PZ(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(C){C.path_=decodeURIComponent(C.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${d}/b/${s}/o${f}`,"i"),w={bucket:1,path:3},y=n===EL?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",x=new RegExp(`^https?://${y}/${s}/${T}`,"i"),b=[{regex:a,indices:l,postModify:i},{regex:g,indices:w,postModify:c},{regex:x,indices:{bucket:1,path:2},postModify:c}];for(let C=0;C<b.length;C++){const k=b[C],j=k.regex.exec(e);if(j){const R=j[k.indices.bucket];let _=j[k.indices.path];_||(_=""),r=new Kn(R,_),k.postModify(r);break}}if(r==null)throw RZ(e);return r}}class MZ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OZ(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...T){c||(c=!0,e.apply(null,T))}function h(T){s=setTimeout(()=>{s=null,t(g,l())},T)}function f(){i&&clearTimeout(i)}function g(T,...x){if(c){f();return}if(T){f(),d.call(null,T,...x);return}if(l()||o){f(),d.call(null,T,...x);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,h(b)}let w=!1;function y(T){w||(w=!0,f(),!c&&(s!==null?(T||(a=2),clearTimeout(s),h(0)):T||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,y(!0)},n),y}function LZ(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jZ(t){return t!==void 0}function VZ(t){return typeof t=="object"&&!Array.isArray(t)}function ZE(t){return typeof t=="string"||t instanceof String}function PR(t){return ex()&&t instanceof Blob}function ex(){return typeof Blob<"u"}function IR(t,e,n,r){if(r<e)throw Lw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Lw(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function SL(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Qo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Qo||(Qo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FZ(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UZ{constructor(e,n,r,s,i,o,a,l,c,d,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,w)=>{this.resolve_=g,this.reject_=w,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new of(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Qo.NO_ERROR,l=i.getStatus();if(!a||FZ(l,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===Qo.ABORT;r(!1,new of(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new of(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());jZ(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=JE();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?TL():CZ();o(l)}else{const l=bZ();o(l)}};this.canceled_?n(!1,new of(!1,null,!0)):this.backoffId_=OZ(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&LZ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class of{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function BZ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function $Z(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function zZ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function KZ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function WZ(t,e,n,r,s,i,o=!0){const a=SL(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return zZ(c,e),BZ(c,n),$Z(c,i),KZ(c,r),new UZ(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HZ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function GZ(...t){const e=HZ();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(ex())return new Blob(t);throw new Et(_t.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function qZ(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QZ(t){if(typeof atob>"u")throw kZ("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Uy{constructor(e,n){this.data=e,this.contentType=n||null}}function YZ(t,e){switch(t){case qr.RAW:return new Uy(bL(e));case qr.BASE64:case qr.BASE64URL:return new Uy(CL(t,e));case qr.DATA_URL:return new Uy(JZ(e),ZZ(e))}throw JE()}function bL(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function XZ(t){let e;try{e=decodeURIComponent(t)}catch{throw Ru(qr.DATA_URL,"Malformed data URL.")}return bL(e)}function CL(t,e){switch(t){case qr.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Ru(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case qr.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Ru(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=QZ(e)}catch(s){throw s.message.includes("polyfill")?s:Ru(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class RL{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ru(qr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=eee(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function JZ(t){const e=new RL(t);return e.base64?CL(qr.BASE64,e.rest):XZ(e.rest)}function ZZ(t){return new RL(t).contentType}function eee(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n){let r=0,s="";PR(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(PR(this.data_)){const r=this.data_,s=qZ(r,e,n);return s===null?null:new gi(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new gi(r,!0)}}static getBlob(...e){if(ex()){const n=e.map(r=>r instanceof gi?r.data_:r);return new gi(GZ.apply(null,n))}else{const n=e.map(o=>ZE(o)?YZ(qr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new gi(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t){let e;try{e=JSON.parse(t)}catch{return null}return VZ(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tee(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function nee(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function IL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ree(t,e){return e}class En{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||ree}}let af=null;function see(t){return!ZE(t)||t.length<2?t:IL(t)}function AL(){if(af)return af;const t=[];t.push(new En("bucket")),t.push(new En("generation")),t.push(new En("metageneration")),t.push(new En("name","fullPath",!0));function e(i,o){return see(o)}const n=new En("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new En("size");return s.xform=r,t.push(s),t.push(new En("timeCreated")),t.push(new En("updated")),t.push(new En("md5Hash",null,!0)),t.push(new En("cacheControl",null,!0)),t.push(new En("contentDisposition",null,!0)),t.push(new En("contentEncoding",null,!0)),t.push(new En("contentLanguage",null,!0)),t.push(new En("contentType",null,!0)),t.push(new En("metadata","customMetadata",!0)),af=t,af}function iee(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Kn(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function oee(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return iee(r,t),r}function NL(t,e,n){const r=PL(e);return r===null?null:oee(t,r,n)}function aee(t,e,n,r){const s=PL(e);if(s===null||!ZE(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(c=>{const d=t.bucket,h=t.fullPath,f="/b/"+o(d)+"/o/"+o(h),g=sh(f,n,r),w=SL({alt:"media",token:c});return g+w})[0]}function lee(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class pg{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(t){if(!t)throw JE()}function cee(t,e){function n(r,s){const i=NL(t,s,e);return kL(i!==null),i}return n}function uee(t,e){function n(r,s){const i=NL(t,s,e);return kL(i!==null),aee(i,s,t.host,t._protocol)}return n}function DL(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=TZ():s=xZ():n.getStatus()===402?s=EZ(t.bucket):n.getStatus()===403?s=SZ(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function tx(t){const e=DL(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=_Z(t.path)),i.serverResponse=s.serverResponse,i}return n}function dee(t,e,n){const r=e.fullServerUrl(),s=sh(r,t.host,t._protocol)+"?alt=media",i="GET",o=t.maxOperationRetryTime,a=new pg(s,i,(l,c)=>c,o);return a.errorHandler=tx(e),a}function hee(t,e,n){const r=e.fullServerUrl(),s=sh(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new pg(s,i,uee(t,n),o);return a.errorHandler=tx(e),a}function fee(t,e){const n=e.fullServerUrl(),r=sh(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(l,c){}const a=new pg(r,s,o,i);return a.successCodes=[200,204],a.errorHandler=tx(e),a}function pee(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function mee(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=pee(null,e)),r}function gee(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let C=0;C<2;C++)b=b+Math.random().toString().slice(2);return b}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=mee(e,r,s),d=lee(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",g=gi.getBlob(h,r,f);if(g===null)throw AZ();const w={name:c.fullPath},y=sh(i,t.host,t._protocol),T="POST",x=t.maxUploadRetryTime,E=new pg(y,T,cee(t,n),x);return E.urlParams=w,E.headers=o,E.body=g.uploadData(),E.errorHandler=DL(e),E}class ML{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Qo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Qo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Qo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Qc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Qc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Qc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Qc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Qc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class yee extends ML{initXhr(){this.xhr_.responseType="text"}}function nx(){return new yee}class vee extends ML{initXhr(){this.xhr_.responseType="blob"}}function wee(){return new vee}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n){this._service=e,n instanceof Kn?this._location=n:this._location=Kn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ca(e,n)}get root(){const e=new Kn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return IL(this._location.path)}get storage(){return this._service}get parent(){const e=tee(this._location.path);if(e===null)return null;const n=new Kn(this._location.bucket,e);return new ca(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw DZ(e)}}function _ee(t,e){t._throwIfRoot("getBlob");const n=dee(t.storage,t._location);return t.storage.makeRequestWithTokens(n,wee).then(r=>r)}function Eee(t,e,n){t._throwIfRoot("uploadBytes");const r=gee(t.storage,t._location,AL(),new gi(e,!0),n);return t.storage.makeRequestWithTokens(r,nx).then(s=>({metadata:s,ref:t}))}function xee(t){t._throwIfRoot("getDownloadURL");const e=hee(t.storage,t._location,AL());return t.storage.makeRequestWithTokens(e,nx).then(n=>{if(n===null)throw NZ();return n})}function Tee(t){t._throwIfRoot("deleteObject");const e=fee(t.storage,t._location);return t.storage.makeRequestWithTokens(e,nx)}function See(t,e){const n=nee(t._location.path,e),r=new Kn(t._location.bucket,n);return new ca(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bee(t){return/^[A-Za-z]+:\/\//.test(t)}function Cee(t,e){return new ca(t,e)}function OL(t,e){if(t instanceof rx){const n=t;if(n._bucket==null)throw IZ();const r=new ca(n,n._bucket);return e!=null?OL(r,e):r}else return e!==void 0?See(t,e):t}function Ree(t,e){if(e&&bee(e)){if(t instanceof rx)return Cee(t,e);throw Lw("To use ref(service, url), the first argument must be a Storage instance.")}else return OL(t,e)}function AR(t,e){const n=e==null?void 0:e[xL];return n==null?null:Kn.makeFromBucketSpec(n,t)}function Pee(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:C1(s,t.app.options.projectId))}class rx{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=EL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vZ,this._maxUploadRetryTime=wZ,this._requests=new Set,s!=null?this._bucket=Kn.makeFromBucketSpec(s,this._host):this._bucket=AR(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Kn.makeFromBucketSpec(this._url,e):this._bucket=AR(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){IR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){IR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ca(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new MZ(TL());{const o=WZ(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const NR="@firebase/storage",kR="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL="storage";function Iee(t,e,n){return t=Xt(t),Eee(t,e,n)}function Aee(t){return t=Xt(t),xee(t)}function Nee(t){return t=Xt(t),Tee(t)}function sx(t,e){return t=Xt(t),Ree(t,e)}function kee(t=Z0(),e){t=Xt(t);const r=gm(t,LL).getImmediate({identifier:e}),s=T1("storage");return s&&Dee(r,...s),r}function Dee(t,e,n,r={}){Pee(t,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mee(t,e){return t=Xt(t),_ee(t)}function Oee(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new rx(n,r,s,e,ma)}function Lee(){ta(new Hi(LL,Oee,"PUBLIC").setMultipleInstances(!0)),Xr(NR,kR,""),Xr(NR,kR,"esm2017")}Lee();const jee={apiKey:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",authDomain:"cob-chatbot.firebaseapp.com",projectId:"cob-chatbot",storageBucket:"cob-chatbot.appspot.com",messagingSenderId:"275602489097",appId:"1:275602489097:web:5c490d86e9f69e1314ddd8"},jL=I1(jee),ix=ZJ(jL),ox=kee(jL),jw=async(t,e,n)=>{try{const r=sx(ox,`${e}/${n}`),s=await Iee(r,t);return await Aee(s.ref)}catch(r){r instanceof Error&&Mr(r.message)}},Vee=async t=>{const e=sx(ox,t),n=await Mee(e),r=t.split("/").pop()||"unknown_file";return new File([n],r,{type:n.type})},Fee=async t=>{try{const e=sx(ox,t);await Nee(e),Mr("File deleted successfully!")}catch(e){e instanceof Error&&Mr(e.message)}},Uee=async(t,e,n)=>{try{const r=HE(ix,t,e);await mZ(r,n)}catch(r){r instanceof Error&&Mr(r.message)}},Bee=async(t,e)=>{const n=HE(ix,t,e),r=await pZ(n);return r.exists()?r.data():null},$ee=(t,e,n)=>{try{const r=HE(ix,t,e);return gZ(r,i=>{i.exists()?n(i.data()):(Mr("No such document!"),n(null))})}catch(r){throw r}},VL=t=>{const{file:e}=Ue(f=>f.formData),n=Ue(f=>f.setFormData),r=Ue(f=>f.setFile),[s,i]=m.useState(!1),o=m.useRef(null),a=m.useRef(null);return{file:e,setFile:r,isLinkDialogOpen:s,setIsLinkDialogOpen:i,handleInsertLink:(f,g)=>{const w=a.current;if(w){const y=w.selectionStart,T=w.selectionEnd,x=t.substring(0,y)+`<${g}>{=${f}=}`+t.substring(T);n("answer",x),w.focus(),w.setSelectionRange(y+f.length+4,y+g.length+4)}},handleFileChange:async f=>{f.target.files&&f.target.files[0]&&r(f.target.files[0])},handleRemoveFile:async()=>{e&&(n("fileUrl",null),r(null),o.current&&(o.current.value=""))},fileInputRef:o,answerTextAreaRef:a,getFileData:async f=>{const g=GM(f);if(!g)return;const w=await Vee(`knowledge-files/${g}`);r(w)}}},zee=()=>{const t=Ue(d=>d.formData),e=Ue(d=>d.setFormData),{isLinkDialogOpen:n,setIsLinkDialogOpen:r,handleFileChange:s,handleInsertLink:i,handleRemoveFile:o,fileInputRef:a,answerTextAreaRef:l,getFileData:c}=VL(t.answer);return m.useEffect(()=>{(async()=>{await c(t.fileUrl)})()},[t.fileUrl]),p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"w-fit",children:p.jsx(_E,{label:"Answer",htmlFor:"answer",tooltip:KQ})}),p.jsx(HM,{answer:t.answer,handleTextChange:e,onFileChange:s,fileRef:a,textAreaRef:l,isLinkDropDownVisible:n,setIsLinkDropDownVisible:r,onInsertLink:i}),t.file&&p.jsx(qM,{file:t.file,removeFile:o})]})},FL=t=>{const{knowledgeBaseName:e,...n}=t;return{knowledgeBaseName:e,knowledgeEntry:n}},Kee=async()=>{const{success:t,knowledgeBase:e}=await wk("/api/knowledge/base");if(!t)throw new Error("Failed to fetch knowledge collection");return e},Wee=async t=>{const{success:e,knowledgeEntry:n}=await wk(`/api/knowledge/${t}`);if(!e)throw new Error(`Failed to fetch knowledge base ${t} entry`);return n},Hee=async t=>{const e=FL(t),{success:n,message:r}=await Hd("/api/knowledge",{},e);if(!n)throw new Error(r);return r},Gee=async t=>{const e=FL(t),{success:n,message:r}=await Hd("/api/knowledge/entry",{},e);if(!n)throw new Error(r)},qee=async(t,e)=>{const n={knowledgeEntryIntent:t,knowledgeEntry:e},{success:r,message:s}=await AW("/api/knowledge/entry",{},n);if(!r)throw new Error(s)},Qee=async t=>{const{success:e,message:n}=await _k(`/api/knowledge/${t}`);if(!e)throw new Error(n)},Yee=async t=>{const{success:e,message:n}=await _k(`/api/knowledge/entry/${t}`);if(!e)throw new Error(n)},Rt=ga(t=>({knowledgeCollection:{},knowledgeBaseNameList:null,selectedKnowledgeBaseEntryList:null,selectedKnowledgeBaseName:"",selectedKnowledgeBaseItem:"",selectedKnowledgeEntry:null,selectedKnowledgeEntryIntentItem:"",updateKnowledgeCollection:e=>{t(()=>({knowledgeCollection:e}))},setKnowledgeBaseNameList:e=>{t(()=>({knowledgeBaseNameList:e}))},setSelectedKnowledgeBaseEntryList:e=>{t(()=>({selectedKnowledgeBaseEntryList:e}))},setSelectedKnowledgeBaseName:e=>{t(()=>({selectedKnowledgeBaseName:e}))},setSelectedKnowledgeBaseItem:e=>{t(()=>({selectedKnowledgeBaseItem:e}))},setSelectedKnowledgeEntry:e=>{t(()=>({selectedKnowledgeEntry:e}))},setSelectedKnowledgeEntryIntentItem:e=>t({selectedKnowledgeEntryIntentItem:e})})),Xee="knowledge-files",DR="image",Jee=async t=>{const e=`${Xee}/${t}`;await Fee(e)},Zee=(t,e)=>{const n=new Set([...Object.keys(t),...Object.keys(e)]);return Array.from(n).reduce((r,s)=>{if(t[s]instanceof Array&&e[s]instanceof Array){t[s].forEach((a,l)=>{if(a!==e[s][l]){r[s]||(r[s]=[]);const c={index:l,value:e[s][l]};r[s].push(c)}});const i=t[s].length,o=e[s].length;if(i<o){r.newDocuments=[];for(let a=i;a<o;a++)e[s][a]&&r.newDocuments.push(e[s][a])}return r}return t[s]!==e[s]&&(r[s]=e[s]),r},{})},ete=1,tte=1e6;let By=0;function nte(){return By=(By+1)%Number.MAX_SAFE_INTEGER,By.toString()}const $y=new Map,MR=t=>{if($y.has(t))return;const e=setTimeout(()=>{$y.delete(t),Pu({type:"REMOVE_TOAST",toastId:t})},tte);$y.set(t,e)},rte=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,ete)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?MR(n):t.toasts.forEach(r=>{MR(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Uf=[];let Bf={toasts:[]};function Pu(t){Bf=rte(Bf,t),Uf.forEach(e=>{e(Bf)})}function ste({...t}){const e=nte(),n=s=>Pu({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Pu({type:"DISMISS_TOAST",toastId:e});return Pu({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function UL(){const[t,e]=m.useState(Bf);return m.useEffect(()=>(Uf.push(e),()=>{const n=Uf.indexOf(e);n>-1&&Uf.splice(n,1)}),[t]),{...t,toast:ste,dismiss:n=>Pu({type:"DISMISS_TOAST",toastId:n})}}const gc=()=>{const{toast:t}=UL();return t},ite="knowledge-files",BL=async t=>await jw(t,ite,t.name),ote=()=>{const t=gc(),e=Rt(d=>d.selectedKnowledgeEntry),n=Rt(d=>d.setSelectedKnowledgeEntry),r=Ue(d=>d.setFormData),s=Ue(d=>d.formData),i=Ue(d=>d.setDocuments),o=Ue(d=>d.clearFormData),[a,l]=m.useState(!1);return m.useEffect(()=>{if(!e)return;const{intent:d,documents:h,answer:f,fileUrl:g}=e;return r("intent",d),h.forEach((w,y)=>{i(w,y)}),r("answer",f),r("fileUrl",g),()=>{o()}},[]),{handleSubmitForm:async()=>{if(e)try{l(!0);const{knowledgeBaseName:d,file:h,...f}=s,g=Zee(e,f);if("fileUrl"in g&&g.fileUrl===null){const{fileUrl:T}=e,x=GM(T);if(!x)return Mr("Unable to extract filename from the file url",!0);Jee(x)}let w=null;s.file&&(w=await BL(s.file));const y=w?{...f,fileUrl:w}:{...f};await qee(e.intent,y),n(y),t({title:"Knowledge Entry Updated Successfully",description:kr()})}catch(d){let h=null;d instanceof Error?h=d.message:h="Unexpcted Error while saving knowledge entry",t({title:h,description:kr(),variant:"destructive"})}finally{l(!1)}},selectedKnowledgeEntry:e,isLoading:a}},$L=({heading:t,description:e})=>p.jsx("div",{className:"h-[450px] w-full flex justify-center items-center mt-2 pb-10",children:p.jsxs("section",{className:"flex flex-col justify-center items-center",children:[p.jsx(VA,{className:"w-12 h-12 text-blue-500 mb-4"}),p.jsx("h2",{className:"text-2xl font-semibold mb-2",children:t}),p.jsx("p",{className:"text-gray-600 mb-4",children:e})]})}),ax=()=>p.jsx(M5,{className:"mr-2 size-5 animate-spin"}),ate=()=>{const{handleSubmitForm:t,selectedKnowledgeEntry:e,isLoading:n}=ote();return e?p.jsx(xM,{value:"entryDetails",className:"mt-2",children:p.jsx("div",{className:"h-[450px] w-full overflow-y-auto text-sm scrollbar-slim",children:p.jsxs("div",{className:"space-y-3 px-4 pb-4",children:[p.jsx(qQ,{}),p.jsx(QQ,{}),p.jsx(zee,{}),p.jsx(Je,{variant:"default",disabled:n,onClick:async()=>await t(),className:"w-20",children:n?p.jsx(ax,{}):"Save"})]})})}):p.jsx($L,{heading:"No Knowledge Entry Selected",description:"Select a knowledge entry to view its contents here."})},zL=({editKnowledge:t,deleteKnowledge:e})=>p.jsxs(BM,{children:[p.jsx($M,{asChild:!0,children:p.jsx(jA,{className:"text-zinc-400 size-6 hover:text-zinc-500 transition-colors"})}),p.jsx(EE,{align:"end",className:"w-[8rem] text-sm bg-white border border-neutral-300 p-1 rounded-lg shadow-md",children:p.jsxs(zM,{className:"flex items-center p-1.5 hover:bg-zinc-100 rounded-sm",onClick:n=>{n.stopPropagation(),e()},children:[p.jsx(j5,{className:"mr-2 h-4 w-4"}),p.jsx("p",{children:"Delete"})]})})]}),ih=ga(t=>({isDialogVisible:!1,setIsDialogVisible:e=>t({isDialogVisible:e})})),lte=({intent:t,onItemClick:e})=>{const n=Rt(o=>o.selectedKnowledgeEntry),r=Rt(o=>o.setSelectedKnowledgeEntryIntentItem),s=ih(o=>o.setIsDialogVisible),i=()=>{r(t),s(!0)};return p.jsxs("div",{className:`flex justify-between p-2 rounded-md cursor-pointer ${(n==null?void 0:n.intent)===t?"bg-lightGray":"hover:bg-lightGray-darker"}`,onClick:e,children:[t,p.jsx(Je,{className:"bg-transparent hover:bg-transparent size-8 p-0 h-fit ",children:p.jsx(zL,{editKnowledge:()=>console.log("Editing item: ",t),deleteKnowledge:i})})]})},cte=({knowledgeEntries:t,handleTabChange:e})=>{const n=Rt(s=>s.setSelectedKnowledgeEntry),r=s=>{n(s),e("entryDetails")};return p.jsx("div",{className:"space-y-1",children:t==null?void 0:t.map((s,i)=>p.jsx(lte,{intent:s.intent,onItemClick:()=>r(s)},i))})},Vw=["knowledgeBaseList"],$f=["knowledgeEntry"];var yc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Jl=typeof window>"u"||"Deno"in globalThis;function ir(){}function ute(t,e){return typeof t=="function"?t(e):t}function Fw(t){return typeof t=="number"&&t>=0&&t!==1/0}function KL(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ml(t,e){return typeof t=="function"?t(e):t}function Pr(t,e){return typeof t=="function"?t(e):t}function OR(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==lx(o,e.options))return!1}else if(!gd(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function LR(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(ua(e.options.mutationKey)!==ua(i))return!1}else if(!gd(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function lx(t,e){return((e==null?void 0:e.queryKeyHashFn)||ua)(t)}function ua(t){return JSON.stringify(t,(e,n)=>Uw(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function gd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!gd(t[n],e[n])):!1}function WL(t,e){if(t===e)return t;const n=jR(t)&&jR(e);if(n||Uw(t)&&Uw(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const d=n?c:i[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=WL(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function Gp(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function jR(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Uw(t){if(!VR(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!VR(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function VR(t){return Object.prototype.toString.call(t)==="[object Object]"}function dte(t){return new Promise(e=>{setTimeout(e,t)})}function Bw(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?WL(t,e):e}function hte(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function fte(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var HL=Symbol();function GL(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===HL?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var jo,yi,yl,QR,pte=(QR=class extends yc{constructor(){super();ae(this,jo,void 0);ae(this,yi,void 0);ae(this,yl,void 0);ee(this,yl,e=>{if(!Jl&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){L(this,yi)||this.setEventListener(L(this,yl))}onUnsubscribe(){var e;this.hasListeners()||((e=L(this,yi))==null||e.call(this),ee(this,yi,void 0))}setEventListener(e){var n;ee(this,yl,e),(n=L(this,yi))==null||n.call(this),ee(this,yi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){L(this,jo)!==e&&(ee(this,jo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof L(this,jo)=="boolean"?L(this,jo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},jo=new WeakMap,yi=new WeakMap,yl=new WeakMap,QR),cx=new pte,vl,vi,wl,YR,mte=(YR=class extends yc{constructor(){super();ae(this,vl,!0);ae(this,vi,void 0);ae(this,wl,void 0);ee(this,wl,e=>{if(!Jl&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){L(this,vi)||this.setEventListener(L(this,wl))}onUnsubscribe(){var e;this.hasListeners()||((e=L(this,vi))==null||e.call(this),ee(this,vi,void 0))}setEventListener(e){var n;ee(this,wl,e),(n=L(this,vi))==null||n.call(this),ee(this,vi,e(this.setOnline.bind(this)))}setOnline(e){L(this,vl)!==e&&(ee(this,vl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return L(this,vl)}},vl=new WeakMap,vi=new WeakMap,wl=new WeakMap,YR),qp=new mte;function gte(t){return Math.min(1e3*2**t,3e4)}function qL(t){return(t??"online")==="online"?qp.isOnline():!0}var QL=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function zy(t){return t instanceof QL}function YL(t){let e=!1,n=0,r=!1,s,i,o;const a=new Promise((x,E)=>{i=x,o=E}),l=x=>{var E;r||(w(new QL(x)),(E=t.abort)==null||E.call(t))},c=()=>{e=!0},d=()=>{e=!1},h=()=>cx.isFocused()&&(t.networkMode==="always"||qp.isOnline())&&t.canRun(),f=()=>qL(t.networkMode)&&t.canRun(),g=x=>{var E;r||(r=!0,(E=t.onSuccess)==null||E.call(t,x),s==null||s(),i(x))},w=x=>{var E;r||(r=!0,(E=t.onError)==null||E.call(t,x),s==null||s(),o(x))},y=()=>new Promise(x=>{var E;s=b=>{(r||h())&&x(b)},(E=t.onPause)==null||E.call(t)}).then(()=>{var x;s=void 0,r||(x=t.onContinue)==null||x.call(t)}),T=()=>{if(r)return;let x;const E=n===0?t.initialPromise:void 0;try{x=E??t.fn()}catch(b){x=Promise.reject(b)}Promise.resolve(x).then(g).catch(b=>{var _;if(r)return;const C=t.retry??(Jl?0:3),k=t.retryDelay??gte,j=typeof k=="function"?k(n,b):k,R=C===!0||typeof C=="number"&&n<C||typeof C=="function"&&C(n,b);if(e||!R){w(b);return}n++,(_=t.onFail)==null||_.call(t,n,b),dte(j).then(()=>h()?void 0:y()).then(()=>{e?w(b):T()})})};return{promise:a,cancel:l,continue:()=>(s==null||s(),a),cancelRetry:c,continueRetry:d,canStart:f,start:()=>(f()?T():y().then(T),a)}}function yte(){let t=[],e=0,n=f=>{f()},r=f=>{f()},s=f=>setTimeout(f,0);const i=f=>{s=f},o=f=>{let g;e++;try{g=f()}finally{e--,e||c()}return g},a=f=>{e?t.push(f):s(()=>{n(f)})},l=f=>(...g)=>{a(()=>{f(...g)})},c=()=>{const f=t;t=[],f.length&&s(()=>{r(()=>{f.forEach(g=>{n(g)})})})};return{batch:o,batchCalls:l,schedule:a,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{r=f},setScheduler:i}}var Lt=yte(),Vo,XR,XL=(XR=class{constructor(){ae(this,Vo,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Fw(this.gcTime)&&ee(this,Vo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Jl?1/0:5*60*1e3))}clearGcTimeout(){L(this,Vo)&&(clearTimeout(L(this,Vo)),ee(this,Vo,void 0))}},Vo=new WeakMap,XR),_l,El,sr,cn,yd,Fo,Sr,ps,JR,vte=(JR=class extends XL{constructor(e){super();ae(this,Sr);ae(this,_l,void 0);ae(this,El,void 0);ae(this,sr,void 0);ae(this,cn,void 0);ae(this,yd,void 0);ae(this,Fo,void 0);ee(this,Fo,!1),ee(this,yd,e.defaultOptions),this.setOptions(e.options),this.observers=[],ee(this,sr,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ee(this,_l,wte(this.options)),this.state=e.state??L(this,_l),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=L(this,cn))==null?void 0:e.promise}setOptions(e){this.options={...L(this,yd),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&L(this,sr).remove(this)}setData(e,n){const r=Bw(this.state.data,e,this.options);return Ce(this,Sr,ps).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Ce(this,Sr,ps).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=L(this,cn))==null?void 0:r.promise;return(s=L(this,cn))==null||s.cancel(e),n?n.then(ir).catch(ir):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(L(this,_l))}isActive(){return this.observers.some(e=>Pr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!KL(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=L(this,cn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=L(this,cn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),L(this,sr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(L(this,cn)&&(L(this,Fo)?L(this,cn).cancel({revert:!0}):L(this,cn).cancelRetry()),this.scheduleGc()),L(this,sr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ce(this,Sr,ps).call(this,{type:"invalidate"})}fetch(e,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(L(this,cn))return L(this,cn).continueRetry(),L(this,cn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(ee(this,Fo,!0),r.signal)})},i=()=>{const h=GL(this.options,n),f={queryKey:this.queryKey,meta:this.meta};return s(f),ee(this,Fo,!1),this.options.persister?this.options.persister(h,f,this):h(f)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),ee(this,El,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&Ce(this,Sr,ps).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const a=h=>{var f,g,w,y;zy(h)&&h.silent||Ce(this,Sr,ps).call(this,{type:"error",error:h}),zy(h)||((g=(f=L(this,sr).config).onError)==null||g.call(f,h,this),(y=(w=L(this,sr).config).onSettled)==null||y.call(w,this.state.data,h,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return ee(this,cn,YL({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var f,g,w,y;if(h===void 0){a(new Error(`${this.queryHash} data is undefined`));return}this.setData(h),(g=(f=L(this,sr).config).onSuccess)==null||g.call(f,h,this),(y=(w=L(this,sr).config).onSettled)==null||y.call(w,h,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:a,onFail:(h,f)=>{Ce(this,Sr,ps).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{Ce(this,Sr,ps).call(this,{type:"pause"})},onContinue:()=>{Ce(this,Sr,ps).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),L(this,cn).start()}},_l=new WeakMap,El=new WeakMap,sr=new WeakMap,cn=new WeakMap,yd=new WeakMap,Fo=new WeakMap,Sr=new WeakSet,ps=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...JL(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return zy(s)&&s.revert&&L(this,El)?{...L(this,El),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Lt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),L(this,sr).notify({query:this,type:"updated",action:e})})},JR);function JL(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qL(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function wte(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var $r,ZR,_te=(ZR=class extends yc{constructor(e={}){super();ae(this,$r,void 0);this.config=e,ee(this,$r,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??lx(s,n);let o=this.get(i);return o||(o=new vte({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){L(this,$r).has(e.queryHash)||(L(this,$r).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=L(this,$r).get(e.queryHash);n&&(e.destroy(),n===e&&L(this,$r).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Lt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return L(this,$r).get(e)}getAll(){return[...L(this,$r).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>OR(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>OR(e,r)):n}notify(e){Lt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Lt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Lt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},$r=new WeakMap,ZR),zr,xn,Uo,Kr,ai,eP,Ete=(eP=class extends XL{constructor(e){super();ae(this,Kr);ae(this,zr,void 0);ae(this,xn,void 0);ae(this,Uo,void 0);this.mutationId=e.mutationId,ee(this,xn,e.mutationCache),ee(this,zr,[]),this.state=e.state||ZL(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){L(this,zr).includes(e)||(L(this,zr).push(e),this.clearGcTimeout(),L(this,xn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ee(this,zr,L(this,zr).filter(n=>n!==e)),this.scheduleGc(),L(this,xn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){L(this,zr).length||(this.state.status==="pending"?this.scheduleGc():L(this,xn).remove(this))}continue(){var e;return((e=L(this,Uo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,l,c,d,h,f,g,w,y,T,x,E,b,C,k,j,R;ee(this,Uo,YL({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(_,P)=>{Ce(this,Kr,ai).call(this,{type:"failed",failureCount:_,error:P})},onPause:()=>{Ce(this,Kr,ai).call(this,{type:"pause"})},onContinue:()=>{Ce(this,Kr,ai).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>L(this,xn).canRun(this)}));const n=this.state.status==="pending",r=!L(this,Uo).canStart();try{if(!n){Ce(this,Kr,ai).call(this,{type:"pending",variables:e,isPaused:r}),await((i=(s=L(this,xn).config).onMutate)==null?void 0:i.call(s,e,this));const P=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));P!==this.state.context&&Ce(this,Kr,ai).call(this,{type:"pending",context:P,variables:e,isPaused:r})}const _=await L(this,Uo).start();return await((c=(l=L(this,xn).config).onSuccess)==null?void 0:c.call(l,_,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,_,e,this.state.context)),await((g=(f=L(this,xn).config).onSettled)==null?void 0:g.call(f,_,null,this.state.variables,this.state.context,this)),await((y=(w=this.options).onSettled)==null?void 0:y.call(w,_,null,e,this.state.context)),Ce(this,Kr,ai).call(this,{type:"success",data:_}),_}catch(_){try{throw await((x=(T=L(this,xn).config).onError)==null?void 0:x.call(T,_,e,this.state.context,this)),await((b=(E=this.options).onError)==null?void 0:b.call(E,_,e,this.state.context)),await((k=(C=L(this,xn).config).onSettled)==null?void 0:k.call(C,void 0,_,this.state.variables,this.state.context,this)),await((R=(j=this.options).onSettled)==null?void 0:R.call(j,void 0,_,e,this.state.context)),_}finally{Ce(this,Kr,ai).call(this,{type:"error",error:_})}}finally{L(this,xn).runNext(this)}}},zr=new WeakMap,xn=new WeakMap,Uo=new WeakMap,Kr=new WeakSet,ai=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Lt.batch(()=>{L(this,zr).forEach(r=>{r.onMutationUpdate(e)}),L(this,xn).notify({mutation:this,type:"updated",action:e})})},eP);function ZL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Fn,vd,tP,xte=(tP=class extends yc{constructor(e={}){super();ae(this,Fn,void 0);ae(this,vd,void 0);this.config=e,ee(this,Fn,new Map),ee(this,vd,Date.now())}build(e,n,r){const s=new Ete({mutationCache:this,mutationId:++Sh(this,vd)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=lf(e),r=L(this,Fn).get(n)??[];r.push(e),L(this,Fn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=lf(e);if(L(this,Fn).has(n)){const s=(r=L(this,Fn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?L(this,Fn).delete(n):L(this,Fn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=L(this,Fn).get(lf(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=L(this,Fn).get(lf(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Lt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...L(this,Fn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>LR(n,r))}findAll(e={}){return this.getAll().filter(n=>LR(e,n))}notify(e){Lt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Lt.batch(()=>Promise.all(e.map(n=>n.continue().catch(ir))))}},Fn=new WeakMap,vd=new WeakMap,tP);function lf(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function Tte(t){return{onFetch:(e,n)=>{const r=async()=>{var w,y,T,x,E;const s=e.options,i=(T=(y=(w=e.fetchOptions)==null?void 0:w.meta)==null?void 0:y.fetchMore)==null?void 0:T.direction,o=((x=e.state.data)==null?void 0:x.pages)||[],a=((E=e.state.data)==null?void 0:E.pageParams)||[],l={pages:[],pageParams:[]};let c=!1;const d=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?c=!0:e.signal.addEventListener("abort",()=>{c=!0}),e.signal)})},h=GL(e.options,e.fetchOptions),f=async(b,C,k)=>{if(c)return Promise.reject();if(C==null&&b.pages.length)return Promise.resolve(b);const j={queryKey:e.queryKey,pageParam:C,direction:k?"backward":"forward",meta:e.options.meta};d(j);const R=await h(j),{maxPages:_}=e.options,P=k?fte:hte;return{pages:P(b.pages,R,_),pageParams:P(b.pageParams,C,_)}};let g;if(i&&o.length){const b=i==="backward",C=b?Ste:FR,k={pages:o,pageParams:a},j=C(s,k);g=await f(k,j,b)}else{g=await f(l,a[0]??s.initialPageParam);const b=t??o.length;for(let C=1;C<b;C++){const k=FR(s,g);if(k==null)break;g=await f(g,k)}}return g};e.options.persister?e.fetchFn=()=>{var s,i;return(i=(s=e.options).persister)==null?void 0:i.call(s,r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=r}}}function FR(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Ste(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var yt,wi,_i,xl,Tl,Ei,Sl,bl,nP,bte=(nP=class{constructor(t={}){ae(this,yt,void 0);ae(this,wi,void 0);ae(this,_i,void 0);ae(this,xl,void 0);ae(this,Tl,void 0);ae(this,Ei,void 0);ae(this,Sl,void 0);ae(this,bl,void 0);ee(this,yt,t.queryCache||new _te),ee(this,wi,t.mutationCache||new xte),ee(this,_i,t.defaultOptions||{}),ee(this,xl,new Map),ee(this,Tl,new Map),ee(this,Ei,0)}mount(){Sh(this,Ei)._++,L(this,Ei)===1&&(ee(this,Sl,cx.subscribe(async t=>{t&&(await this.resumePausedMutations(),L(this,yt).onFocus())})),ee(this,bl,qp.subscribe(async t=>{t&&(await this.resumePausedMutations(),L(this,yt).onOnline())})))}unmount(){var t,e;Sh(this,Ei)._--,L(this,Ei)===0&&((t=L(this,Sl))==null||t.call(this),ee(this,Sl,void 0),(e=L(this,bl))==null||e.call(this),ee(this,bl,void 0))}isFetching(t){return L(this,yt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return L(this,wi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=L(this,yt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=L(this,yt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(ml(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return L(this,yt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=L(this,yt).get(r.queryHash),i=s==null?void 0:s.state.data,o=ute(e,i);if(o!==void 0)return L(this,yt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Lt.batch(()=>L(this,yt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=L(this,yt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=L(this,yt);Lt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=L(this,yt),r={type:"active",...t};return Lt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Lt.batch(()=>L(this,yt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(ir).catch(ir)}invalidateQueries(t={},e={}){return Lt.batch(()=>{if(L(this,yt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Lt.batch(()=>L(this,yt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(ir)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(ir)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=L(this,yt).build(this,e);return n.isStaleByTime(ml(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ir).catch(ir)}fetchInfiniteQuery(t){return t.behavior=Tte(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ir).catch(ir)}resumePausedMutations(){return qp.isOnline()?L(this,wi).resumePausedMutations():Promise.resolve()}getQueryCache(){return L(this,yt)}getMutationCache(){return L(this,wi)}getDefaultOptions(){return L(this,_i)}setDefaultOptions(t){ee(this,_i,t)}setQueryDefaults(t,e){L(this,xl).set(ua(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...L(this,xl).values()];let n={};return e.forEach(r=>{gd(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){L(this,Tl).set(ua(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...L(this,Tl).values()];let n={};return e.forEach(r=>{gd(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...L(this,_i).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=lx(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===HL&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...L(this,_i).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){L(this,yt).clear(),L(this,wi).clear()}},yt=new WeakMap,wi=new WeakMap,_i=new WeakMap,xl=new WeakMap,Tl=new WeakMap,Ei=new WeakMap,Sl=new WeakMap,bl=new WeakMap,nP),An,ke,wd,Tn,Bo,Cl,Wr,_d,Rl,Pl,$o,zo,xi,Il,Ko,lu,Ed,$w,xd,zw,Td,Kw,Sd,Ww,bd,Hw,Cd,Gw,Rd,qw,Xp,e2,rP,Cte=(rP=class extends yc{constructor(e,n){super();ae(this,Ko);ae(this,Ed);ae(this,xd);ae(this,Td);ae(this,Sd);ae(this,bd);ae(this,Cd);ae(this,Rd);ae(this,Xp);ae(this,An,void 0);ae(this,ke,void 0);ae(this,wd,void 0);ae(this,Tn,void 0);ae(this,Bo,void 0);ae(this,Cl,void 0);ae(this,Wr,void 0);ae(this,_d,void 0);ae(this,Rl,void 0);ae(this,Pl,void 0);ae(this,$o,void 0);ae(this,zo,void 0);ae(this,xi,void 0);ae(this,Il,new Set);this.options=n,ee(this,An,e),ee(this,Wr,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(L(this,ke).addObserver(this),UR(L(this,ke),this.options)?Ce(this,Ko,lu).call(this):this.updateResult(),Ce(this,Sd,Ww).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Qw(L(this,ke),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Qw(L(this,ke),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ce(this,bd,Hw).call(this),Ce(this,Cd,Gw).call(this),L(this,ke).removeObserver(this)}setOptions(e,n){const r=this.options,s=L(this,ke);if(this.options=L(this,An).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Pr(this.options.enabled,L(this,ke))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ce(this,Rd,qw).call(this),L(this,ke).setOptions(this.options),r._defaulted&&!Gp(this.options,r)&&L(this,An).getQueryCache().notify({type:"observerOptionsUpdated",query:L(this,ke),observer:this});const i=this.hasListeners();i&&BR(L(this,ke),s,this.options,r)&&Ce(this,Ko,lu).call(this),this.updateResult(n),i&&(L(this,ke)!==s||Pr(this.options.enabled,L(this,ke))!==Pr(r.enabled,L(this,ke))||ml(this.options.staleTime,L(this,ke))!==ml(r.staleTime,L(this,ke)))&&Ce(this,Ed,$w).call(this);const o=Ce(this,xd,zw).call(this);i&&(L(this,ke)!==s||Pr(this.options.enabled,L(this,ke))!==Pr(r.enabled,L(this,ke))||o!==L(this,xi))&&Ce(this,Td,Kw).call(this,o)}getOptimisticResult(e){const n=L(this,An).getQueryCache().build(L(this,An),e),r=this.createResult(n,e);return Pte(this,r)&&(ee(this,Tn,r),ee(this,Cl,this.options),ee(this,Bo,L(this,ke).state)),r}getCurrentResult(){return L(this,Tn)}trackResult(e,n){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),e[s])})}),r}trackProp(e){L(this,Il).add(e)}getCurrentQuery(){return L(this,ke)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=L(this,An).defaultQueryOptions(e),r=L(this,An).getQueryCache().build(L(this,An),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Ce(this,Ko,lu).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),L(this,Tn)))}createResult(e,n){var R;const r=L(this,ke),s=this.options,i=L(this,Tn),o=L(this,Bo),a=L(this,Cl),c=e!==r?e.state:L(this,wd),{state:d}=e;let h={...d},f=!1,g;if(n._optimisticResults){const _=this.hasListeners(),P=!_&&UR(e,n),A=_&&BR(e,r,n,s);(P||A)&&(h={...h,...JL(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:w,errorUpdatedAt:y,status:T}=h;if(n.select&&h.data!==void 0)if(i&&h.data===(o==null?void 0:o.data)&&n.select===L(this,_d))g=L(this,Rl);else try{ee(this,_d,n.select),g=n.select(h.data),g=Bw(i==null?void 0:i.data,g,n),ee(this,Rl,g),ee(this,Wr,null)}catch(_){ee(this,Wr,_)}else g=h.data;if(n.placeholderData!==void 0&&g===void 0&&T==="pending"){let _;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))_=i.data;else if(_=typeof n.placeholderData=="function"?n.placeholderData((R=L(this,Pl))==null?void 0:R.state.data,L(this,Pl)):n.placeholderData,n.select&&_!==void 0)try{_=n.select(_),ee(this,Wr,null)}catch(P){ee(this,Wr,P)}_!==void 0&&(T="success",g=Bw(i==null?void 0:i.data,_,n),f=!0)}L(this,Wr)&&(w=L(this,Wr),g=L(this,Rl),y=Date.now(),T="error");const x=h.fetchStatus==="fetching",E=T==="pending",b=T==="error",C=E&&x,k=g!==void 0;return{status:T,fetchStatus:h.fetchStatus,isPending:E,isSuccess:T==="success",isError:b,isInitialLoading:C,isLoading:C,data:g,dataUpdatedAt:h.dataUpdatedAt,error:w,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:x,isRefetching:x&&!E,isLoadingError:b&&!k,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:b&&k,isStale:ux(e,n),refetch:this.refetch}}updateResult(e){const n=L(this,Tn),r=this.createResult(L(this,ke),this.options);if(ee(this,Bo,L(this,ke).state),ee(this,Cl,this.options),L(this,Bo).data!==void 0&&ee(this,Pl,L(this,ke)),Gp(r,n))return;ee(this,Tn,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!L(this,Il).size)return!0;const l=new Set(a??L(this,Il));return this.options.throwOnError&&l.add("error"),Object.keys(L(this,Tn)).some(c=>{const d=c;return L(this,Tn)[d]!==n[d]&&l.has(d)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),Ce(this,Xp,e2).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ce(this,Sd,Ww).call(this)}},An=new WeakMap,ke=new WeakMap,wd=new WeakMap,Tn=new WeakMap,Bo=new WeakMap,Cl=new WeakMap,Wr=new WeakMap,_d=new WeakMap,Rl=new WeakMap,Pl=new WeakMap,$o=new WeakMap,zo=new WeakMap,xi=new WeakMap,Il=new WeakMap,Ko=new WeakSet,lu=function(e){Ce(this,Rd,qw).call(this);let n=L(this,ke).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(ir)),n},Ed=new WeakSet,$w=function(){Ce(this,bd,Hw).call(this);const e=ml(this.options.staleTime,L(this,ke));if(Jl||L(this,Tn).isStale||!Fw(e))return;const r=KL(L(this,Tn).dataUpdatedAt,e)+1;ee(this,$o,setTimeout(()=>{L(this,Tn).isStale||this.updateResult()},r))},xd=new WeakSet,zw=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(L(this,ke)):this.options.refetchInterval)??!1},Td=new WeakSet,Kw=function(e){Ce(this,Cd,Gw).call(this),ee(this,xi,e),!(Jl||Pr(this.options.enabled,L(this,ke))===!1||!Fw(L(this,xi))||L(this,xi)===0)&&ee(this,zo,setInterval(()=>{(this.options.refetchIntervalInBackground||cx.isFocused())&&Ce(this,Ko,lu).call(this)},L(this,xi)))},Sd=new WeakSet,Ww=function(){Ce(this,Ed,$w).call(this),Ce(this,Td,Kw).call(this,Ce(this,xd,zw).call(this))},bd=new WeakSet,Hw=function(){L(this,$o)&&(clearTimeout(L(this,$o)),ee(this,$o,void 0))},Cd=new WeakSet,Gw=function(){L(this,zo)&&(clearInterval(L(this,zo)),ee(this,zo,void 0))},Rd=new WeakSet,qw=function(){const e=L(this,An).getQueryCache().build(L(this,An),this.options);if(e===L(this,ke))return;const n=L(this,ke);ee(this,ke,e),ee(this,wd,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},Xp=new WeakSet,e2=function(e){Lt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(L(this,Tn))}),L(this,An).getQueryCache().notify({query:L(this,ke),type:"observerResultsUpdated"})})},rP);function Rte(t,e){return Pr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function UR(t,e){return Rte(t,e)||t.state.data!==void 0&&Qw(t,e,e.refetchOnMount)}function Qw(t,e,n){if(Pr(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&ux(t,e)}return!1}function BR(t,e,n,r){return(t!==e||Pr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&ux(t,n)}function ux(t,e){return Pr(e.enabled,t)!==!1&&t.isStaleByTime(ml(e.staleTime,t))}function Pte(t,e){return!Gp(t.getCurrentResult(),e)}var Ti,Si,Nn,ys,Al,zf,Pd,Yw,sP,Ite=(sP=class extends yc{constructor(n,r){super();ae(this,Al);ae(this,Pd);ae(this,Ti,void 0);ae(this,Si,void 0);ae(this,Nn,void 0);ae(this,ys,void 0);ee(this,Ti,n),this.setOptions(r),this.bindMethods(),Ce(this,Al,zf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=L(this,Ti).defaultMutationOptions(n),Gp(this.options,r)||L(this,Ti).getMutationCache().notify({type:"observerOptionsUpdated",mutation:L(this,Nn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ua(r.mutationKey)!==ua(this.options.mutationKey)?this.reset():((s=L(this,Nn))==null?void 0:s.state.status)==="pending"&&L(this,Nn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=L(this,Nn))==null||n.removeObserver(this)}onMutationUpdate(n){Ce(this,Al,zf).call(this),Ce(this,Pd,Yw).call(this,n)}getCurrentResult(){return L(this,Si)}reset(){var n;(n=L(this,Nn))==null||n.removeObserver(this),ee(this,Nn,void 0),Ce(this,Al,zf).call(this),Ce(this,Pd,Yw).call(this)}mutate(n,r){var s;return ee(this,ys,r),(s=L(this,Nn))==null||s.removeObserver(this),ee(this,Nn,L(this,Ti).getMutationCache().build(L(this,Ti),this.options)),L(this,Nn).addObserver(this),L(this,Nn).execute(n)}},Ti=new WeakMap,Si=new WeakMap,Nn=new WeakMap,ys=new WeakMap,Al=new WeakSet,zf=function(){var r;const n=((r=L(this,Nn))==null?void 0:r.state)??ZL();ee(this,Si,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Pd=new WeakSet,Yw=function(n){Lt.batch(()=>{var r,s,i,o,a,l,c,d;if(L(this,ys)&&this.hasListeners()){const h=L(this,Si).variables,f=L(this,Si).context;(n==null?void 0:n.type)==="success"?((s=(r=L(this,ys)).onSuccess)==null||s.call(r,n.data,h,f),(o=(i=L(this,ys)).onSettled)==null||o.call(i,n.data,null,h,f)):(n==null?void 0:n.type)==="error"&&((l=(a=L(this,ys)).onError)==null||l.call(a,n.error,h,f),(d=(c=L(this,ys)).onSettled)==null||d.call(c,void 0,n.error,h,f))}this.listeners.forEach(h=>{h(L(this,Si))})})},sP),t2=m.createContext(void 0),oh=t=>{const e=m.useContext(t2);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Ate=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),p.jsx(t2.Provider,{value:t,children:e})),n2=m.createContext(!1),Nte=()=>m.useContext(n2);n2.Provider;function kte(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Dte=m.createContext(kte()),Mte=()=>m.useContext(Dte);function r2(t,e){return typeof t=="function"?t(...e):!!t}function Ote(){}var Lte=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},jte=t=>{m.useEffect(()=>{t.clearReset()},[t])},Vte=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&r2(n,[t.error,r]),Fte=t=>{t.suspense&&(typeof t.staleTime!="number"&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},Ute=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Bte=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function $te(t,e,n){var c,d,h,f;const r=oh(),s=Nte(),i=Mte(),o=r.defaultQueryOptions(t);(d=(c=r.getDefaultOptions().queries)==null?void 0:c._experimental_beforeQuery)==null||d.call(c,o),o._optimisticResults=s?"isRestoring":"optimistic",Fte(o),Lte(o,i),jte(i);const[a]=m.useState(()=>new e(r,o)),l=a.getOptimisticResult(o);if(m.useSyncExternalStore(m.useCallback(g=>{const w=s?()=>{}:a.subscribe(Lt.batchCalls(g));return a.updateResult(),w},[a,s]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),m.useEffect(()=>{a.setOptions(o,{listeners:!1})},[o,a]),Ute(o,l))throw Bte(o,a,i);if(Vte({result:l,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw l.error;return(f=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||f.call(h,o,l),o.notifyOnChangeProps?l:a.trackResult(l)}function s2(t,e){return $te(t,Cte)}function Qp(t,e){const n=oh(),[r]=m.useState(()=>new Ite(n,t));m.useEffect(()=>{r.setOptions(t)},[r,t]);const s=m.useSyncExternalStore(m.useCallback(o=>r.subscribe(Lt.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=m.useCallback((o,a)=>{r.mutate(o,a).catch(Ote)},[r]);if(s.error&&r2(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const i2=({label:t,onButtonClick:e})=>p.jsxs(Je,{variant:"outline",size:"sm",className:"mb-2 hover:bg-gray-100 h-10",onClick:e,children:[p.jsx(Cm,{className:"w-4 h-4 mr-0 md:mr-2"}),p.jsx("p",{className:"hidden md:block",children:t})]});function St({className:t,...e}){return p.jsx("div",{className:de("animate-pulse rounded-md bg-muted",t),...e})}const o2=()=>p.jsxs("div",{className:"h-[450px] w-full px-4 flex flex-col pb-4 mt-2",children:[p.jsxs("div",{className:"flex mb-7 space-x-4",children:[p.jsx(St,{className:"flex-grow h-10 bg-lightGray-darker"}),p.jsx(St,{className:"h-10 w-[42px] md:w-[198.85px] bg-lightGray-darker"})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx(St,{className:"h-[20px] w-[20rem] bg-lightGray-darker"}),p.jsx(St,{className:"h-[20px] w-[10rem] bg-lightGray-darker"})]})]}),hr=ga(t=>({isModalVisible:!1,modalMode:"BASE",openModal:()=>{t(()=>({isModalVisible:!0}))},closeModal:()=>{t(()=>({isModalVisible:!1}))},setMode:e=>{t(()=>({modalMode:e}))}})),zte=()=>{const t=hr(i=>i.openModal),e=hr(i=>i.setMode),n=Ue(i=>i.clearFormData),r=Rt(i=>i.selectedKnowledgeBaseName);return{handleOpenKnowledgeForm:async i=>{if(!r)return window.alert("No Knowledge Base Selected cannot add a knowledge entry");n(),e(i),t()},openModal:t,setMode:e,clearFormData:n}},a2=()=>{const[t,e]=m.useState("");return{filter:t,handleFilterChange:r=>{e(r)}}};function Kte(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=h=>{var x;const{scope:f,children:g,...w}=h,y=((x=f==null?void 0:f[t])==null?void 0:x[l])||a,T=m.useMemo(()=>w,Object.values(w));return p.jsx(y.Provider,{value:T,children:g})};c.displayName=i+"Provider";function d(h,f){var y;const g=((y=f==null?void 0:f[t])==null?void 0:y[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Wte(s,...e)]}function Wte(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Hte(t,e){const n=m.createContext(e),r=i=>{const{children:o,...a}=i,l=m.useMemo(()=>a,Object.values(a));return p.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=m.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Gte(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=h=>{var x;const{scope:f,children:g,...w}=h,y=((x=f==null?void 0:f[t])==null?void 0:x[l])||a,T=m.useMemo(()=>w,Object.values(w));return p.jsx(y.Provider,{value:T,children:g})};c.displayName=i+"Provider";function d(h,f){var y;const g=((y=f==null?void 0:f[t])==null?void 0:y[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,qte(s,...e)]}function qte(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Qte="DismissableLayer",Xw="dismissableLayer.update",Yte="dismissableLayer.pointerDownOutside",Xte="dismissableLayer.focusOutside",$R,l2=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),c2=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(l2),[d,h]=m.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=Fe(e,R=>h(R)),y=Array.from(c.layers),[T]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=y.indexOf(T),E=d?y.indexOf(d):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,C=E>=x,k=ene(R=>{const _=R.target,P=[...c.branches].some(A=>A.contains(_));!C||P||(s==null||s(R),o==null||o(R),R.defaultPrevented||a==null||a())},f),j=tne(R=>{const _=R.target;[...c.branches].some(A=>A.contains(_))||(i==null||i(R),o==null||o(R),R.defaultPrevented||a==null||a())},f);return Im(R=>{E===c.layers.size-1&&(r==null||r(R),!R.defaultPrevented&&a&&(R.preventDefault(),a()))},f),m.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&($R=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),zR(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=$R)}},[d,f,n,c]),m.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),zR())},[d,c]),m.useEffect(()=>{const R=()=>g({});return document.addEventListener(Xw,R),()=>document.removeEventListener(Xw,R)},[]),p.jsx(Te.div,{...l,ref:w,style:{pointerEvents:b?C?"auto":"none":void 0,...t.style},onFocusCapture:Z(t.onFocusCapture,j.onFocusCapture),onBlurCapture:Z(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:Z(t.onPointerDownCapture,k.onPointerDownCapture)})});c2.displayName=Qte;var Jte="DismissableLayerBranch",Zte=m.forwardRef((t,e)=>{const n=m.useContext(l2),r=m.useRef(null),s=Fe(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),p.jsx(Te.div,{...t,ref:s})});Zte.displayName=Jte;function ene(t,e=globalThis==null?void 0:globalThis.document){const n=Pt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){u2(Yte,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function tne(t,e=globalThis==null?void 0:globalThis.document){const n=Pt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&u2(Xte,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function zR(){const t=new CustomEvent(Xw);document.dispatchEvent(t)}function u2(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?oc(s,i):s.dispatchEvent(i)}var nne="Portal",d2=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);vn(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?pm.createPortal(p.jsx(Te.div,{...r,ref:e}),o):null});d2.displayName=nne;function rne(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var mg=t=>{const{present:e,children:n}=t,r=sne(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=Fe(r.ref,ine(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};mg.displayName="Presence";function sne(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=rne(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=cf(r.current);i.current=a==="mounted"?c:"none"},[a]),vn(()=>{const c=r.current,d=s.current;if(d!==t){const f=i.current,g=cf(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&f!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),vn(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=g=>{const y=cf(r.current).includes(g.animationName);if(g.target===e&&y&&(l("ANIMATION_END"),!s.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},f=g=>{g.target===e&&(i.current=cf(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function cf(t){return(t==null?void 0:t.animationName)||"none"}function ine(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var dx="Dialog",[h2,f2]=Gte(dx),[one,jr]=h2(dx),p2=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=m.useRef(null),l=m.useRef(null),[c=!1,d]=ic({prop:r,defaultProp:s,onChange:i});return p.jsx(one,{scope:e,triggerRef:a,contentRef:l,contentId:Ui(),titleId:Ui(),descriptionId:Ui(),open:c,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};p2.displayName=dx;var m2="DialogTrigger",g2=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=jr(m2,n),i=Fe(e,s.triggerRef);return p.jsx(Te.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":px(s.open),...r,ref:i,onClick:Z(t.onClick,s.onOpenToggle)})});g2.displayName=m2;var hx="DialogPortal",[ane,y2]=h2(hx,{forceMount:void 0}),v2=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=jr(hx,e);return p.jsx(ane,{scope:e,forceMount:n,children:m.Children.map(r,o=>p.jsx(mg,{present:n||i.open,children:p.jsx(d2,{asChild:!0,container:s,children:o})}))})};v2.displayName=hx;var Yp="DialogOverlay",w2=m.forwardRef((t,e)=>{const n=y2(Yp,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=jr(Yp,t.__scopeDialog);return i.modal?p.jsx(mg,{present:r||i.open,children:p.jsx(lne,{...s,ref:e})}):null});w2.displayName=Yp;var lne=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=jr(Yp,n);return p.jsx(S_,{as:sa,allowPinchZoom:!0,shards:[s.contentRef],children:p.jsx(Te.div,{"data-state":px(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),da="DialogContent",_2=m.forwardRef((t,e)=>{const n=y2(da,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=jr(da,t.__scopeDialog);return p.jsx(mg,{present:r||i.open,children:i.modal?p.jsx(cne,{...s,ref:e}):p.jsx(une,{...s,ref:e})})});_2.displayName=da;var cne=m.forwardRef((t,e)=>{const n=jr(da,t.__scopeDialog),r=m.useRef(null),s=Fe(e,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return TN(i)},[]),p.jsx(E2,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Z(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Z(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Z(t.onFocusOutside,i=>i.preventDefault())})}),une=m.forwardRef((t,e)=>{const n=jr(da,t.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return p.jsx(E2,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),E2=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=jr(da,n),l=m.useRef(null),c=Fe(e,l);return KA(),p.jsxs(p.Fragment,{children:[p.jsx(m_,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:p.jsx(c2,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":px(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(hne,{titleId:a.titleId}),p.jsx(pne,{contentRef:l,descriptionId:a.descriptionId})]})]})}),fx="DialogTitle",x2=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=jr(fx,n);return p.jsx(Te.h2,{id:s.titleId,...r,ref:e})});x2.displayName=fx;var T2="DialogDescription",S2=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=jr(T2,n);return p.jsx(Te.p,{id:s.descriptionId,...r,ref:e})});S2.displayName=T2;var b2="DialogClose",C2=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=jr(b2,n);return p.jsx(Te.button,{type:"button",...r,ref:e,onClick:Z(t.onClick,()=>s.onOpenChange(!1))})});C2.displayName=b2;function px(t){return t?"open":"closed"}var R2="DialogTitleWarning",[dne,P2]=Hte(R2,{contentName:da,titleName:fx,docsSlug:"dialog"}),hne=({titleId:t})=>{const e=P2(R2),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},fne="DialogDescriptionWarning",pne=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${P2(fne).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},I2=p2,mne=g2,A2=v2,mx=w2,gx=_2,yx=x2,vx=S2,wx=C2,N2="AlertDialog",[gne,Sse]=Kte(N2,[f2]),Hs=f2(),k2=t=>{const{__scopeAlertDialog:e,...n}=t,r=Hs(e);return p.jsx(I2,{...r,...n,modal:!0})};k2.displayName=N2;var yne="AlertDialogTrigger",vne=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Hs(n);return p.jsx(mne,{...s,...r,ref:e})});vne.displayName=yne;var wne="AlertDialogPortal",D2=t=>{const{__scopeAlertDialog:e,...n}=t,r=Hs(e);return p.jsx(A2,{...r,...n})};D2.displayName=wne;var _ne="AlertDialogOverlay",M2=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Hs(n);return p.jsx(mx,{...s,...r,ref:e})});M2.displayName=_ne;var gl="AlertDialogContent",[Ene,xne]=gne(gl),O2=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=Hs(n),o=m.useRef(null),a=Fe(e,o),l=m.useRef(null);return p.jsx(dne,{contentName:gl,titleName:L2,docsSlug:"alert-dialog",children:p.jsx(Ene,{scope:n,cancelRef:l,children:p.jsxs(gx,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:Z(s.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[p.jsx(h_,{children:r}),p.jsx(Sne,{contentRef:o})]})})})});O2.displayName=gl;var L2="AlertDialogTitle",j2=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Hs(n);return p.jsx(yx,{...s,...r,ref:e})});j2.displayName=L2;var V2="AlertDialogDescription",F2=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Hs(n);return p.jsx(vx,{...s,...r,ref:e})});F2.displayName=V2;var Tne="AlertDialogAction",U2=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Hs(n);return p.jsx(wx,{...s,...r,ref:e})});U2.displayName=Tne;var B2="AlertDialogCancel",$2=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=xne(B2,n),i=Hs(n),o=Fe(e,s);return p.jsx(wx,{...i,...r,ref:o})});$2.displayName=B2;var Sne=({contentRef:t})=>{const e=`\`${gl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${gl}\` by passing a \`${V2}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${gl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},bne=k2,Cne=D2,z2=M2,K2=O2,W2=U2,H2=$2,G2=j2,q2=F2;const Rne=bne,Pne=Cne,Q2=m.forwardRef(({className:t,...e},n)=>p.jsx(z2,{className:de("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));Q2.displayName=z2.displayName;const Y2=m.forwardRef(({className:t,...e},n)=>p.jsxs(Pne,{children:[p.jsx(Q2,{}),p.jsx(K2,{ref:n,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Y2.displayName=K2.displayName;const X2=({className:t,...e})=>p.jsx("div",{className:de("flex flex-col space-y-2 text-center sm:text-left",t),...e});X2.displayName="AlertDialogHeader";const J2=({className:t,...e})=>p.jsx("div",{className:de("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});J2.displayName="AlertDialogFooter";const Z2=m.forwardRef(({className:t,...e},n)=>p.jsx(G2,{ref:n,className:de("text-lg font-semibold",t),...e}));Z2.displayName=G2.displayName;const ej=m.forwardRef(({className:t,...e},n)=>p.jsx(q2,{ref:n,className:de("text-sm text-muted-foreground",t),...e}));ej.displayName=q2.displayName;const tj=m.forwardRef(({className:t,...e},n)=>p.jsx(W2,{ref:n,className:de(B_(),t),...e}));tj.displayName=W2.displayName;const nj=m.forwardRef(({className:t,...e},n)=>p.jsx(H2,{ref:n,className:de(B_({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));nj.displayName=H2.displayName;const rj=({onDelete:t,message:e})=>{const{isDialogVisible:n,setIsDialogVisible:r}=ih(o=>o),s=async()=>{r(!1),await t()},i=()=>{r(!1)};return p.jsx(Rne,{open:n,onOpenChange:o=>{r(o),setTimeout(()=>{o||(document.body.style.pointerEvents="")},100)},children:p.jsxs(Y2,{children:[p.jsxs(X2,{children:[p.jsx(Z2,{children:"Are you sure you want to delete?"}),p.jsx(ej,{children:e})]}),p.jsxs(J2,{children:[p.jsx(nj,{onClick:i,children:"Cancel"}),p.jsx(tj,{onClick:s,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})},Ine=({onTabChange:t})=>{const e=Rt(y=>y.selectedKnowledgeBaseName),n=Rt(y=>y.selectedKnowledgeEntryIntentItem),r=Rt(y=>y.setSelectedKnowledgeEntryIntentItem),s=ih(y=>y.isDialogVisible),{handleOpenKnowledgeForm:i}=zte(),o=gc(),a=oh(),{data:l,isLoading:c}=s2({queryFn:()=>Wee(e),queryKey:$f,enabled:!!e}),{mutateAsync:d}=Qp({mutationFn:Yee,onSuccess:()=>{a.invalidateQueries({queryKey:$f}),o({title:`Knowledge Entry with intent ${n} deleted`,description:kr()})},onError:y=>{o({title:y==null?void 0:y.message,description:kr()}),Mr(y.message||"An Unexpected error occured while deleting knowledge base")}}),h=async()=>{if(!n)throw new Error("No knowledge entry intent selected cannot delete");await d(`${e}&${n}`),console.log("Knowledge entry has been removed: ",n),r("")},{filter:f,handleFilterChange:g}=a2(),w=m.useMemo(()=>l==null?void 0:l.filter(y=>y.intent.toLowerCase().includes(f.toLowerCase())),[l,f]);return m.useEffect(()=>()=>{a.resetQueries({queryKey:$f})},[]),c?p.jsx(o2,{}):l?p.jsxs(Qm,{value:"knowledgeEntry",className:"mt-2",children:[p.jsxs("div",{className:"h-[450px] w-full px-4 flex flex-col pb-4 overflow-y-auto scrollbar-slim",children:[p.jsxs("div",{className:"flex mb-2 space-x-4",children:[p.jsx(Jt,{className:"flex-grow outline-none focus:outline-none",placeholder:"Search knowledge base...",onChange:y=>g(y.target.value)}),p.jsx(i2,{label:"Add knowledge entry",onButtonClick:()=>i(BQ.entry)})]}),p.jsx(cte,{knowledgeEntries:w,handleTabChange:t})]}),s&&p.jsx(rj,{onDelete:h,message:OM.entry})]}):p.jsx($L,{heading:"No Knowledge Base Selected",description:"Select a knowledge base category to view its contents here."})},sj=t=>{const[e,n]=m.useState(t);return{currentTab:e,setCurrentTab:n,setActiveTab:s=>{n(s)}}},Ane=({base:t,onItemClick:e})=>{const n=Rt(o=>o.selectedKnowledgeBaseName),r=Rt(o=>o.setSelectedKnowledgeBaseItem),s=ih(o=>o.setIsDialogVisible),i=()=>{r(t),s(!0)};return p.jsxs("div",{className:`flex justify-between p-2 rounded-md cursor-pointer transition-colors ${n===t?"bg-lightGray":"hover:bg-lightGray-darker"}`,onClick:()=>e(t),children:[t,p.jsx(Je,{className:"bg-transparent hover:bg-transparent size-8 p-0 h-fit",children:p.jsx(zL,{editKnowledge:()=>console.log("Editing item: ",t),deleteKnowledge:i})})]})},Nne=({knowledgeBaseNameList:t,handleTabChange:e})=>{const n=Rt(i=>i.setSelectedKnowledgeBaseName),r=Rt(i=>i.selectedKnowledgeBaseName),s=i=>{e("knowledgeEntry"),r!==i&&n(i)};return p.jsx("div",{children:p.jsx(Mk,{listStyle:"space-y-2",items:t,renderItem:i=>p.jsx(Ane,{base:i,onItemClick:s})})})},kne=({onTabChange:t})=>{const e=oh(),n=gc(),r=Rt(C=>C.selectedKnowledgeBaseItem),s=Rt(C=>C.setSelectedKnowledgeBaseItem),i=Rt(C=>C.selectedKnowledgeBaseName),o=Rt(C=>C.setSelectedKnowledgeBaseName),a=Rt(C=>C.setSelectedKnowledgeEntry),{data:l,isLoading:c}=s2({queryFn:()=>Kee(),queryKey:Vw}),{mutateAsync:d}=Qp({mutationFn:Qee,onSuccess:()=>{e.invalidateQueries({queryKey:Vw}),n({title:`Knowledge Base ${r} deleted`,description:kr()})},onError:C=>{n({title:C==null?void 0:C.message,description:kr()}),Mr(C.message||"An Unexpected error occured while deleting knowledge base")}}),{handleFilterChange:h,filter:f}=a2(),g=hr(C=>C.openModal),w=hr(C=>C.setMode),y=Ue(C=>C.clearFormData),T=ih(C=>C.isDialogVisible),x=m.useMemo(()=>l==null?void 0:l.filter(C=>C.toLowerCase().includes(f.toLowerCase())),[l,f]),E=async()=>{if(!r)throw new Error("No knowledge base selected cannot delete");await d(r),s(""),i&&i===r&&(o(""),a(null))},b=C=>{y(),w(C),g()};return c?p.jsx(o2,{}):l?p.jsxs(Qm,{value:"knowledgeBase",className:"mt-2",children:[p.jsxs("div",{className:"h-[450px] w-full px-4 pb-4 flex flex-col overflow-y-auto scrollbar-slim",children:[p.jsxs("div",{className:"flex mb-2 space-x-4",children:[p.jsx(Jt,{className:"flex-grow outline-none focus:outline-none",placeholder:"Search knowledge base...",onChange:C=>h(C.target.value)}),p.jsx(i2,{label:"Add Knowledge Base",onButtonClick:()=>b("BASE")})]}),p.jsx(Nne,{knowledgeBaseNameList:x,handleTabChange:t})]}),T&&p.jsx(rj,{onDelete:E,message:OM.base})]}):p.jsx(p.Fragment,{children:"No knowledge base list found"})},Dne=()=>{const{currentTab:t,setCurrentTab:e,setActiveTab:n}=sj("knowledgeBase");return p.jsxs(aQ,{value:t,onValueChange:r=>e(r),className:"w-full p-0 border-neutral-200 bg-white border shadow-sm text-sm md:text-base rounded-md overflow-hidden box-border",children:[p.jsx(uQ,{tabs:lQ}),t==="knowledgeBase"&&p.jsx(kne,{onTabChange:n}),t==="knowledgeEntry"&&p.jsx(Ine,{onTabChange:n}),t==="entryDetails"&&p.jsx(ate,{})]})},Mne=I2,One=A2,ij=m.forwardRef(({className:t,...e},n)=>p.jsx(mx,{ref:n,className:de("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));ij.displayName=mx.displayName;const oj=m.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(One,{children:[p.jsx(ij,{}),p.jsxs(gx,{ref:r,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,p.jsxs(wx,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[p.jsx(Rm,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));oj.displayName=gx.displayName;const aj=({className:t,...e})=>p.jsx("div",{className:de("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});aj.displayName="DialogHeader";const lj=m.forwardRef(({className:t,...e},n)=>p.jsx(yx,{ref:n,className:de("text-lg font-semibold leading-none tracking-tight",t),...e}));lj.displayName=yx.displayName;const cj=m.forwardRef(({className:t,...e},n)=>p.jsx(vx,{ref:n,className:de("text-sm text-muted-foreground",t),...e}));cj.displayName=vx.displayName;const bs=ga((t,e)=>({currentStep:1,totalStep:3,nextStep:()=>{e().currentStep!==e().totalStep&&t(n=>({currentStep:n.currentStep+1}))},prevStep:()=>{e().currentStep!==1&&t(n=>({currentStep:n.currentStep-1}))},setTotalStep:n=>{if(n==="BASE")return t(()=>({totalStep:3}));t(()=>({totalStep:2}))},resetCurrentStep:()=>{t(()=>({currentStep:1}))}})),Lne=({progressData:t})=>{const e=bs(s=>s.totalStep),n=bs(s=>s.currentStep),r=(n-1)/(e-1)*100;return p.jsxs("div",{className:"mt-4 mb-8",children:[p.jsx("div",{className:"flex justify-between mb-2",children:[...Array(e)].map((s,i)=>p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${n>=i+1?"bg-lightGray text-htext":"bg-lightGray-darker text-muted-foreground"}`,children:i+1}),p.jsx("span",{className:"text-xs mt-1",children:t[i+1]})]},i))}),p.jsx("div",{className:"h-2 bg-muted rounded-full",children:p.jsx("div",{className:"h-full bg-blue-600 rounded-full transition-all duration-300 ease-in-out",style:{width:`${r}%`}})})]})},Iu=({errorMessage:t})=>p.jsxs("div",{className:"flex items-center space-x-1",children:[p.jsx(V5,{className:"text-destructive size-5",strokeWidth:1.5}),p.jsx("div",{className:"text-destructive text-sm",children:t})]}),jne=()=>{const{knowledgeBaseName:t}=Ue(r=>r.formData),{knowledgeBaseName:e}=Ue(r=>r.formDataErrors),n=Ue(r=>r.setFormData);return p.jsx("div",{className:"space-y-1",children:p.jsxs(p.Fragment,{children:[p.jsx("label",{htmlFor:"knowledgeBaseName",className:"block text-sm font-medium",children:"Knowledge Base Name"}),p.jsx(Jt,{name:"knowledgeBaseName",placeholder:"Enter knowledge base name",value:t,className:de(e&&"border-destructive"),onChange:r=>n(r.target.name,r.target.value)}),e&&p.jsx(Iu,{errorMessage:e})]})})},KR=()=>{const{intent:t,documents:e,answer:n}=Ue(C=>C.formData),{intent:r,documents:s,answer:i}=Ue(C=>C.formDataErrors),o=Ue(C=>C.setDocuments),a=Ue(C=>C.removeDocument),l=Ue(C=>C.setFormData),c=Ue(C=>C.addDocument),d=Rt(C=>C.selectedKnowledgeBaseName),h=hr(C=>C.modalMode),{file:f,isLinkDialogOpen:g,setIsLinkDialogOpen:w,handleFileChange:y,handleInsertLink:T,handleRemoveFile:x,fileInputRef:E,answerTextAreaRef:b}=VL(n);return m.useEffect(()=>{h==="ENTRY"&&l("knowledgeBaseName",d)},[]),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"space-y-1.5",children:[p.jsx(Bi,{children:"Intent"}),p.jsx(Jt,{placeholder:"Enter the intent",value:t,className:de(r&&"border-destructive"),onChange:C=>l("intent",C.target.value)}),r&&p.jsx(Iu,{errorMessage:r})]}),p.jsxs("div",{className:"space-y-1.5",children:[p.jsx(Bi,{children:"Documents"}),e.map((C,k)=>p.jsxs("div",{className:"flex space-x-2 relative",children:[p.jsx(Jt,{placeholder:`Enter document ${k+1}`,className:de(s&&"border-destructive"),value:C,onChange:j=>o(j.target.value,k)},k),p.jsxs(Je,{type:"button",variant:"ghost",size:"icon",onClick:()=>a(k),className:"absolute right-2 top-1/2 -translate-y-1/2 hover:bg-transparent",children:[p.jsx(d_,{className:"h-4 w-4 text-gray-500 hover:text-gray-700"}),p.jsx("span",{className:"sr-only",children:"Remove document"})]})]},k)),s&&p.jsx(Iu,{errorMessage:s}),p.jsxs(Je,{variant:"outline",onClick:c,className:"w-full",children:[p.jsx(Cm,{className:"mr-2 h-4 w-4"})," Add Document"]})]}),p.jsxs("div",{className:"space-y-1.5",children:[p.jsx(Bi,{children:"Answer"}),p.jsx(HM,{answer:n,handleTextChange:l,onFileChange:y,fileRef:E,textAreaRef:b,isError:!!i,isLinkDropDownVisible:g,setIsLinkDropDownVisible:w,onInsertLink:T}),i&&p.jsx(Iu,{errorMessage:i})]}),f&&p.jsx(qM,{file:f,removeFile:x})]})},Vne=({file:t})=>p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium",children:"File Details:"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:t.name})]}),WR=()=>{const{knowledgeBaseName:t,intent:e,documents:n,answer:r,file:s}=Ue(i=>i.formData);return p.jsxs("div",{className:"space-y-4 break-words",children:[p.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Review Your Entry"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium",children:"Knowledge Base Name:"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium",children:"Intent:"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:e})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium",children:"Documents:"}),p.jsx("ul",{className:"list-disc pl-5 text-sm text-muted-foreground",children:n.map((i,o)=>p.jsx("li",{children:i},o))})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium",children:"Answer:"}),p.jsx("p",{className:"text-sm text-muted-foreground line-clamp-4",children:r})]}),s&&p.jsx(Vne,{file:s})]})},Fne=()=>{const t=bs(r=>r.currentStep),e=hr(r=>r.modalMode),n=()=>({1:{BASE:p.jsx(jne,{}),ENTRY:p.jsx(KR,{})},2:{BASE:p.jsx(KR,{}),ENTRY:p.jsx(WR,{})},3:{BASE:p.jsx(WR,{})}})[t][e]||p.jsx(p.Fragment,{children:"No Modal Section"});return p.jsx(p.Fragment,{children:n()})},Une=()=>{const t=gc(),e=oh(),n=hr(o=>o.closeModal),{mutateAsync:r}=Qp({mutationFn:o=>Hee(o),onSuccess:()=>{e.invalidateQueries({queryKey:Vw})}}),{mutateAsync:s}=Qp({mutationFn:o=>Gee(o),onSuccess:()=>{e.invalidateQueries({queryKey:$f})}});return{handleSubmitForm:async(o,a)=>{try{let l=null;o.file&&(l=await BL(o.file)),a==="BASE"?(await r(l?{...o,fileUrl:l}:o),t({title:"Knowledge Base saved successfully.",description:kr()})):(await s(l?{...o,fileUrl:l}:o),t({title:"Knowledge Entry saved successfully.",description:kr()}))}catch(l){l instanceof Error&&t({title:l==null?void 0:l.message,description:kr(),variant:"destructive"}),console.error("Unexpected error occured ",l)}finally{n()}}}},Bne=(t,e)=>{const n={};return t===1&&(e.knowledgeBaseName.trim()||(n.knowledgeBaseName="Knowledge Base Name is required")),t===2&&(e.intent.trim()||(n.intent="Intent is required"),e.documents.some(s=>s.trim()==="")&&(n.documents="Document is required"),e.answer.trim()||(n.answer="Answer is required")),{isValid:Object.keys(n).length===0,errors:n}},$ne=()=>{const{handleSubmitForm:t}=Une(),e=hr(c=>c.modalMode),n=Ue(c=>c.formData),r=bs(c=>c.currentStep),s=bs(c=>c.totalStep),i=bs(c=>c.nextStep),o=bs(c=>c.prevStep),a=Ue(c=>c.setFormDataErrors),l=()=>{const{isValid:c,errors:d}=Bne(e==="BASE"?r:r+1,n);if(!c){a(d);return}a({}),i()};return p.jsxs("div",{className:"flex justify-between items-center mt-6",children:[p.jsx(Je,{variant:"outline",size:"icon",children:p.jsx(C5,{className:"h-4 w-4"})}),p.jsxs("div",{children:[r>1&&p.jsxs(Je,{variant:"outline",onClick:o,className:"mr-2",children:[p.jsx(b5,{className:"mr-2 h-4 w-4"})," Back"]}),r<s?p.jsxs(Je,{onClick:l,children:["Next ",p.jsx(OA,{className:"ml-2 h-4 w-4"})]}):p.jsx(Je,{onClick:async()=>{t(n,e)},children:"Save Knowledge Base"})]})]})},zne=()=>{const t=Ue(a=>a.clearFormData),e=hr(a=>a.isModalVisible),n=hr(a=>a.modalMode),r=hr(a=>a.closeModal),s=bs(a=>a.setTotalStep),i=bs(a=>a.resetCurrentStep),o=n==="BASE"?HQ:GQ;return m.useEffect(()=>(s(n),()=>{t(),i()}),[s]),p.jsx(Mne,{open:e,onOpenChange:r,children:p.jsxs(oj,{className:"sm:max-w-[550px] ",children:[p.jsxs(aj,{children:[p.jsx(lj,{className:"text-2xl font-bold",children:"Create New Knowledge Base"}),p.jsx(cj,{children:"Fill in the details to create a new knowledge base."})]}),p.jsx(Lne,{progressData:o}),p.jsx(tg,{children:p.jsx(ng,{className:"pt-6 max-h-[30rem] max-w-[498px] overflow-y-scroll",children:p.jsx(Fne,{})})}),p.jsx($ne,{})]})})},Kne=()=>{const t=hr(r=>r.isModalVisible),e=Rt(r=>r.setSelectedKnowledgeEntry),n=Rt(r=>r.selectedKnowledgeBaseName);return m.useEffect(()=>{n&&e(null)},[n,e]),p.jsxs("div",{className:"flex items-center flex-col w-[84rem] px-20 space-y-6",children:[p.jsx(eQ,{}),p.jsx(Dne,{}),t&&p.jsx(zne,{})]})},at=ga(t=>({botName:"",errors:{botName:""},interactionIcon:null,interactionIconPreview:"",widgetIcon:null,widgetIconPreview:"",metadata:[],setBotName:e=>{t(()=>({botName:e}))},setErrors:(e,n)=>{t(r=>({errors:{...r.errors,[e]:n}}))},setInteractionIcon:e=>{t(()=>({interactionIcon:e}))},setInteractionIconPreview:e=>{t(()=>({interactionIconPreview:e}))},setWidgetIcon:e=>{t(()=>({widgetIcon:e}))},setWidgetIconPreview:e=>{t(()=>({widgetIconPreview:e}))},setMetadata:e=>{t(()=>({metadata:e}))}})),Wne=({inputRef:t})=>{const e=at(o=>o.botName),n=at(o=>o.setBotName),r=at(o=>o.errors),s=at(o=>o.setErrors),i=o=>{n(o),o?s("botName",""):s("botName","Bot name field is required")};return p.jsxs("section",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"botName",className:"block text-sm font-medium text-black/80 mb-1",children:"Bot Name"}),p.jsx(Jt,{ref:t,type:"text",value:e,onChange:o=>i(o.target.value),className:de("w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",r.botName&&"border-destructive")}),r.botName&&p.jsx(Iu,{errorMessage:r.botName})]})},Hne=()=>({handleIconChange:(n,r,s)=>{if(n.target.files&&n.target.files[0]){const i=n.target.files[0];if(i.type==="image/png"||i.type==="image/gif"||i.type==="image/jpeg"){r(i);const o=new FileReader;o.onload=a=>{var l;s((l=a.target)==null?void 0:l.result)},o.readAsDataURL(i)}else alert("Please upload a PNG, JPEG or GIF file."),n.target.value=""}},handleRemoveIcon:(n,r,s)=>{r(null),s(null),n.current&&(n.current.value="")}}),uj=({iconRef:t,setIcon:e,setIconPreview:n,iconPreview:r,acceptedFormat:s})=>{const{handleIconChange:i,handleRemoveIcon:o}=Hne();return p.jsxs("div",{className:"flex items-center ",children:[p.jsx(Jt,{id:"widget-icon-upload",type:"file",className:"hidden",ref:t,accept:s,onChange:a=>i(a,e,n)}),p.jsx(Je,{type:"button",variant:"outline",size:"sm",onClick:()=>{var a;return(a=t.current)==null?void 0:a.click()},children:r?p.jsxs("span",{className:"flex items-center text-sm gap-2",children:[p.jsx(bp,{className:"size-5"}),"Change Icon"]}):p.jsxs("span",{className:"flex items-center text-sm gap-2",children:[p.jsx(bp,{className:"size-5"}),"Upload Icon"]})}),r&&p.jsx(Je,{type:"button",variant:"ghost",size:"sm",className:"ml-2",onClick:()=>o(t,e,n),children:"Remove"})]})},Gne=()=>{const t=at(s=>s.setInteractionIcon),e=at(s=>s.setInteractionIconPreview),n=at(s=>s.interactionIconPreview),r=m.useRef(null);return p.jsxs("section",{className:"space-y-2",children:[p.jsx("label",{className:"block text-sm font-medium text-black/80",children:"Interaction Icon"}),p.jsxs("div",{className:"mt-1 flex items-center h-[4rem] space-x-4",children:[p.jsxs("div",{className:"size-16 rounded-full bg-gray-100 flex items-center justify-center overflow-hidden",children:[n&&p.jsx("img",{src:n,className:"size-full object-cover rounded-full"}),!n&&p.jsx(bp,{className:"w-8 h-8 text-gray-400"})]}),p.jsx(uj,{iconRef:r,setIcon:t,setIconPreview:e,iconPreview:n,acceptedFormat:".png,.jpg"})]}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"PNG or JPG only. Max file size: 2MB."})]})},qne=()=>{const t=at(s=>s.setWidgetIcon),e=at(s=>s.widgetIconPreview),n=at(s=>s.setWidgetIconPreview),r=m.useRef(null);return p.jsxs("section",{className:"space-y-2",children:[p.jsx("label",{className:"block text-sm font-medium text-black/80",children:"Widget Icon"}),p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsxs("div",{className:"size-16 rounded-full bg-gray-100 flex items-center justify-center overflow-hidden",children:[e&&p.jsx("img",{src:e,className:"size-full object-cover rounded-full"}),!e&&p.jsx(bp,{className:"w-8 h-8 text-gray-400"})]}),p.jsx(uj,{iconRef:r,setIcon:t,setIconPreview:n,iconPreview:e,acceptedFormat:".png,.jpg,.gif"})]}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"PNG, JPEG OR GIF only. Max file size: 30MB."})]})},Qne=({botNameInputRef:t})=>p.jsxs("form",{className:"space-y-4",children:[p.jsx(Wne,{inputRef:t}),p.jsx(Gne,{}),p.jsx(qne,{})]}),Yne=({handleCloseChatbox:t})=>{const e=at(r=>r.botName),n=at(r=>r.interactionIconPreview);return p.jsx("section",{children:p.jsxs("div",{className:"bg-white h-[24rem] rounded-lg shadow-lg p-4 max-w-sm mx-auto flex flex-col",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[n?p.jsx("img",{src:n,alt:"interaction-icon-preview",className:"w-11 h-11 object-cover rounded-full"}):p.jsx("div",{className:"w-11 h-11 object-cover rounded-full bg-gray-200"}),p.jsx("span",{className:"text-sm font-medium text-gray-700",children:e||"Chatbot"})]}),p.jsx("div",{className:"cursor-pointer hover:scale-110 transition-transform",onClick:t,children:p.jsx(Rm,{className:"w-5 h-5 text-gray-500"})})]}),p.jsx("div",{className:"flex-1"}),p.jsx("div",{className:" rounded-lg py-3 mb-4",children:p.jsxs("div",{className:"flex items-center",children:[n?p.jsx("img",{src:n,alt:"interaction-icon-preview",className:"w-10 h-10 object-cover rounded-full"}):p.jsx("div",{className:"w-11 h-11 object-cover rounded-full bg-gray-200"}),p.jsx("p",{className:"ml-2 text-sm text-gray-700 bg-gray-100 p-2.5 rounded-xl",children:"Hi! What can I help you with?"})]})}),p.jsxs("div",{className:"flex items-center",children:[p.jsx("input",{disabled:!0,type:"text",placeholder:"Message...",className:"flex-grow h-10 px-3 py-2 text-sm border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),p.jsx("div",{className:"h-10 px-3 py-2 bg-blue-500 text-white rounded-r-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 flex items-center justify-center",children:p.jsx(UA,{className:"w-5 h-5"})})]})]})})},Xne=()=>{const[t,e]=m.useState(!1),n=at(r=>r.widgetIconPreview);return p.jsx("section",{children:p.jsx("div",{className:"border h-[28rem] border-gray-300 rounded-lg p-4 bg-gray-50 mt-4 mb-2",style:{backgroundImage:"radial-gradient(#d1d5db 1px, transparent 1px)",backgroundSize:"20px 20px"},children:p.jsx("div",{className:"h-full flex justify-end items-end",children:t?p.jsx(Yne,{handleCloseChatbox:()=>e(!1)}):p.jsx("div",{className:"size-[14rem] flex items-center justify-center",onClick:()=>e(!0),children:n?p.jsx("img",{src:n,alt:"Widget icon preview",className:"cursor-pointer"}):p.jsx("span",{className:"text-gray-400 cursor-pointer",children:"No icon"})})})})})},Jne=()=>{const t=at(i=>i.metadata),e=at(i=>i.setMetadata),n=()=>{const i={id:Date.now().toString(),key:"",value:""};e([...t,i])},r=(i,o,a)=>{const l=t.map(c=>c.id===i?{...c,[o]:a}:c);e(l)},s=i=>{const o=t.filter((a,l)=>l!==i);e(o)};return p.jsxs("div",{className:"space-y-4",children:[t.map((i,o)=>p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Jt,{placeholder:"Key",value:i.key,onChange:a=>r(i.id,"key",a.target.value),className:"flex-1"}),p.jsx(Jt,{placeholder:"Value",value:i.value,onChange:a=>r(i.id,"value",a.target.value),className:"flex-1"}),p.jsx(Je,{type:"button",variant:"ghost",size:"icon",className:"hover:text-red-600",onClick:()=>s(o),children:p.jsx(d_,{className:"size-5 transition-transform ease-in"})})]},o)),p.jsxs(Je,{type:"button",variant:"outline",size:"sm",onClick:n,className:"mt-2",children:[p.jsx(Cm,{className:"size-5 mr-2"}),"Add Field"]})]})},Zne=async()=>await Bee("profile","botProfile"),ere=async(t,e,n,r=[])=>{try{const s=r.reduce((l,c)=>({...l,[c.key]:c.value}),{}),i=t?await jw(t,DR,"interaction-icon"):null,o=e?await jw(e,DR,"widget-icon"):null;await Uee("profile","botProfile",{interactionIconURL:i,widgetIconUrl:o,botName:n,metadata:s}),Mr("Upload bot profile success")}catch(s){console.log(s)}},tre=()=>{const t=gc(),e=at(T=>T.interactionIcon),n=at(T=>T.setInteractionIconPreview),r=at(T=>T.widgetIcon),s=at(T=>T.setWidgetIconPreview),i=at(T=>T.botName),o=at(T=>T.setBotName),a=at(T=>T.setErrors),l=at(T=>T.metadata),c=at(T=>T.setMetadata),[d,h]=m.useState(!1),[f,g]=m.useState(!0),w=m.useRef(null);return m.useEffect(()=>((async()=>{g(!0);const x=await Zne();if(!x)return;o(x.botName),n(x.interactionIconURL),s(x.widgetIconUrl);const E=aY(x.metadata);c(E),g(!1)})(),()=>{a("botName","")}),[]),{isLoading:d,handleSubmitForm:async()=>{var x;if(!i.trim()){a("botName","Bot name field is required"),(x=w.current)==null||x.scrollIntoView({behavior:"smooth",block:"center"});return}try{h(!0),await ere(e,r,i,l),h(!1),t({title:"Bot profile has been successfully updated",description:kr()})}catch(E){E instanceof Error&&t({title:E.message,description:kr(),variant:"destructive"}),console.error("Unexpected error occured ",E)}},isPageLoading:f,botNameInputRef:w}},nre=()=>p.jsxs("section",{className:"flex-1 flex-col space-y-4",children:[p.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[p.jsx("header",{className:"text-2xl font-medium pb-5 leading-none tracking-tight",children:"Bot Profile"}),p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx(St,{className:"h-4 w-16"}),p.jsx(St,{className:"h-10 w-full mb-3"}),p.jsx(St,{className:"h-4 w-24"}),p.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[p.jsx(St,{className:"size-[64px] rounded-full"}),p.jsx(St,{className:"h-9 w-36"}),p.jsx(St,{className:"h-9 w-36"})]}),p.jsx(St,{className:"h-4 w-24"}),p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsx(St,{className:"size-[64px] rounded-full"}),p.jsx(St,{className:"h-9 w-36"}),p.jsx(St,{className:"h-9 w-36"})]})]})]}),p.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[p.jsx("header",{className:"text-2xl font-medium pb-5",children:"Additional Information"}),p.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[p.jsx(St,{className:"flex-1 h-10"}),p.jsx(St,{className:"flex-1 h-10"}),p.jsx(St,{className:"w-10 h-10"})]}),p.jsx(St,{className:"h-9 w-36"})]}),p.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[p.jsx("header",{className:"text-2xl font-medium pb-5",children:"Preview"}),p.jsx(St,{className:"h-[28rem] w-full mb-2"})]}),p.jsx(St,{className:"bg-blue-200 h-10 w-full"})]}),rre=()=>{const{isLoading:t,handleSubmitForm:e,isPageLoading:n,botNameInputRef:r}=tre();return n?p.jsx(nre,{}):p.jsxs("section",{className:"flex-1 flex-col space-y-4",children:[p.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[p.jsx("header",{className:"text-2xl font-medium pb-5 leading-none tracking-tight",children:"Bot Profile"}),p.jsx(Qne,{botNameInputRef:r})]}),p.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[p.jsx("header",{className:"text-2xl font-medium pb-5",children:"Additional Information"}),p.jsx(Jne,{})]}),p.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[p.jsx("header",{className:"text-2xl font-medium",children:"Preview"}),p.jsx(Xne,{})]}),p.jsx("footer",{className:"mt-4 pb-4",children:p.jsx(Je,{className:"w-full bg-blue-600 hover:bg-blue-700",disabled:t,onClick:e,children:t?p.jsx(ax,{}):"Save changes"})})]})},sre=[{id:"team",icon:p.jsx(U5,{}),label:"Team",comingSoon:!0},{id:"botProfile",icon:p.jsx(T5,{}),label:"Bot Profile",comingSoon:!1},{id:"botModel",icon:p.jsx(E5,{}),label:"Bot Model",comingSoon:!1}],ire=({onTabChange:t,activeTab:e})=>p.jsx("nav",{className:"w-[14rem] px-2 space-y-2 text-htext font-medium",children:sre.map(n=>p.jsxs("div",{className:"relative group",children:[p.jsxs("li",{className:de("flex items-center gap-3 py-3 px-2  cursor-pointer rounded-md transition-colors hover:text-opacity-80",e===n.id?"bg-blue-600 text-white":"hover:bg-slate-100 text-opacity-100"),onClick:()=>t(n.id),children:[n.icon," ",n.label]}),n.comingSoon&&p.jsx(V_,{variant:"secondary",className:"absolute -top-2 right-0 text-[10px] font-normal px-1 py-0.5 bg-blue-100 text-blue-800 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Coming Soon"})]},n.id))}),ore=(t,e,n)=>$ee(t,e,n),are=()=>{const[t,e]=m.useState(!1),[n,r]=m.useState(null),s=gc(),i=async()=>{e(!0),await kW(),e(!1),s({title:"Model Training Complete",description:"Your AI model is fully trained and ready for use. You can now run queries with the latest data."})};return m.useEffect(()=>{const o=ore("profile","model",a=>{const{timeFinishedTraining:l}=a;r(l)});return()=>o()},[]),p.jsxs("section",{className:"flex-1 flex-col space-y-4",children:[p.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[p.jsx("header",{className:"text-2xl font-medium pb-5 leading-none tracking-tight",children:"Bot Model"}),p.jsxs("div",{className:"flex items-center mb-4",children:[p.jsx("p",{className:"font-medium flex-1",children:"Current Version"}),p.jsx("div",{className:"flex-1",children:p.jsx(V_,{variant:"secondary",className:"text-lg",children:"v1.0.0"})})]}),p.jsx("div",{className:"grid grid-cols-2 gap-4",children:p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Trained"}),p.jsx("div",{className:"font-medium",children:n||p.jsx(St,{className:"w-48 h-6"})})]})})]}),p.jsx("footer",{className:"mt-4 pb-4",children:p.jsx(Je,{className:"w-full bg-blue-600 hover:bg-blue-700",disabled:t,onClick:i,children:t?p.jsx(ax,{}):"Train Model"})})]})},lre=()=>p.jsx("section",{className:"flex-1 flex-col space-y-4 relative",children:p.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4 blur-[4px] pointer-events-none select-none",children:[p.jsxs("header",{className:"text-2xl flex items-end font-medium pb-5 leading-none tracking-tight",children:["Team",p.jsx("p",{className:"ml-3 inline-block min-w-6 text-xs font-medium text-zinc-600",children:"1/1"})]}),p.jsxs("div",{children:[p.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[p.jsx("h4",{className:"flex-1",children:"User"}),p.jsx("h4",{className:"w-[14rem]",children:"Member Since"}),p.jsx("h4",{className:"w-[8rem]",children:"Role"}),p.jsx("h4",{className:"w-[6rem]"})]}),p.jsx("hr",{className:"border-customBorderColor"}),p.jsxs("section",{className:"flex items-center w-full py-2 font-medium text-sm",children:[p.jsx("h4",{className:"flex-1",children:"jirehtumbagahan@gmail.com"}),p.jsx("h4",{className:"w-[14rem]",children:"2021-04-21"}),p.jsx("h4",{className:"w-[8rem]",children:"Admin"}),p.jsx("h4",{className:"w-[6rem]",children:p.jsx(jA,{})})]})]})]})}),cre=()=>{const{currentTab:t,setActiveTab:e}=sj("botProfile");return p.jsxs("section",{className:"flex space-x-2",children:[p.jsx(ire,{activeTab:t,onTabChange:e}),t==="team"&&p.jsx(lre,{}),t==="botProfile"&&p.jsx(rre,{}),t==="botModel"&&p.jsx(are,{})]})},ure=()=>p.jsx("header",{className:"py-4 text-3xl font-semibold",children:"Settings"}),dre=()=>p.jsxs("div",{className:"flex flex-col w-[84rem] px-20 space-y-6",children:[p.jsx(ure,{}),p.jsx(cre,{})]}),hre=({id:t,text:e,onChange:n,checked:r})=>p.jsxs(p.Fragment,{children:[p.jsx("input",{type:"radio",id:t,name:"nav-btn",value:e,className:"hidden peer",checked:r,onChange:n}),p.jsx("label",{htmlFor:t,className:"flex-1 flex w-[190px] justify-center items-center py-3 px-4 cursor-pointer uppercase text-sm font-[500]",children:e})]}),fre=({labels:t,selectedTab:e,setSelectedTab:n})=>{const r=s=>{n(s)};return p.jsx("nav",{className:"tabs relative flex after:absolute after:bottom-0 after:pointer-events-none after:border after:border-blue-500",children:t==null?void 0:t.map(s=>p.jsx(hre,{id:s,text:s,checked:e==s,onChange:()=>r(s)},s))})},pre={siteName:"COB-CHATBOT",botName:"AI NLP Assistant"},mre={chatbot:Zq,settings:dre,knowledge:Kne},gre=()=>{const[t,e]=m.useState("chatbot"),n=["chatbot","knowledge","settings"],r=mre[t]||null;return p.jsxs("div",{className:"min-h-[100dvh] flex flex-col bg-[#F8F9FB] scrollbar-slim",children:[p.jsxs(RW,{text:pre.siteName,children:[p.jsx(fre,{labels:n,selectedTab:t,setSelectedTab:e}),p.jsx("hr",{className:"w-full border-neutral-300"})]}),r&&p.jsx(PW,{Component:r})]})};function yre(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=h=>{var x;const{scope:f,children:g,...w}=h,y=((x=f==null?void 0:f[t])==null?void 0:x[l])||a,T=m.useMemo(()=>w,Object.values(w));return p.jsx(y.Provider,{value:T,children:g})};c.displayName=i+"Provider";function d(h,f){var y;const g=((y=f==null?void 0:f[t])==null?void 0:y[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,vre(s,...e)]}function vre(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var wre="DismissableLayer",Jw="dismissableLayer.update",_re="dismissableLayer.pointerDownOutside",Ere="dismissableLayer.focusOutside",HR,dj=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),hj=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(dj),[d,h]=m.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=Fe(e,R=>h(R)),y=Array.from(c.layers),[T]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=y.indexOf(T),E=d?y.indexOf(d):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,C=E>=x,k=Tre(R=>{const _=R.target,P=[...c.branches].some(A=>A.contains(_));!C||P||(s==null||s(R),o==null||o(R),R.defaultPrevented||a==null||a())},f),j=Sre(R=>{const _=R.target;[...c.branches].some(A=>A.contains(_))||(i==null||i(R),o==null||o(R),R.defaultPrevented||a==null||a())},f);return Im(R=>{E===c.layers.size-1&&(r==null||r(R),!R.defaultPrevented&&a&&(R.preventDefault(),a()))},f),m.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(HR=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),GR(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=HR)}},[d,f,n,c]),m.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),GR())},[d,c]),m.useEffect(()=>{const R=()=>g({});return document.addEventListener(Jw,R),()=>document.removeEventListener(Jw,R)},[]),p.jsx(Te.div,{...l,ref:w,style:{pointerEvents:b?C?"auto":"none":void 0,...t.style},onFocusCapture:Z(t.onFocusCapture,j.onFocusCapture),onBlurCapture:Z(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:Z(t.onPointerDownCapture,k.onPointerDownCapture)})});hj.displayName=wre;var xre="DismissableLayerBranch",fj=m.forwardRef((t,e)=>{const n=m.useContext(dj),r=m.useRef(null),s=Fe(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),p.jsx(Te.div,{...t,ref:s})});fj.displayName=xre;function Tre(t,e=globalThis==null?void 0:globalThis.document){const n=Pt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){pj(_re,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Sre(t,e=globalThis==null?void 0:globalThis.document){const n=Pt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&pj(Ere,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function GR(){const t=new CustomEvent(Jw);document.dispatchEvent(t)}function pj(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?oc(s,i):s.dispatchEvent(i)}var bre=hj,Cre=fj,Rre="Portal",mj=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);vn(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?pm.createPortal(p.jsx(Te.div,{...r,ref:e}),o):null});mj.displayName=Rre;function Pre(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var gj=t=>{const{present:e,children:n}=t,r=Ire(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=Fe(r.ref,Are(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};gj.displayName="Presence";function Ire(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=Pre(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=uf(r.current);i.current=a==="mounted"?c:"none"},[a]),vn(()=>{const c=r.current,d=s.current;if(d!==t){const f=i.current,g=uf(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&f!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),vn(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=g=>{const y=uf(r.current).includes(g.animationName);if(g.target===e&&y&&(l("ANIMATION_END"),!s.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},f=g=>{g.target===e&&(i.current=uf(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function uf(t){return(t==null?void 0:t.animationName)||"none"}function Are(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var _x="ToastProvider",[Ex,Nre,kre]=f_("Toast"),[yj,bse]=yre("Toast",[kre]),[Dre,gg]=yj(_x),vj=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=m.useState(null),[c,d]=m.useState(0),h=m.useRef(!1),f=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${_x}\`. Expected non-empty \`string\`.`),p.jsx(Ex.Provider,{scope:e,children:p.jsx(Dre,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>d(g=>g+1),[]),onToastRemove:m.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};vj.displayName=_x;var wj="ToastViewport",Mre=["F8"],Zw="toast.viewportPause",e0="toast.viewportResume",_j=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Mre,label:s="Notifications ({hotkey})",...i}=t,o=gg(wj,n),a=Nre(n),l=m.useRef(null),c=m.useRef(null),d=m.useRef(null),h=m.useRef(null),f=Fe(e,h,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;m.useEffect(()=>{const T=x=>{var b;r.length!==0&&r.every(C=>x[C]||x.code===C)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[r]),m.useEffect(()=>{const T=l.current,x=h.current;if(w&&T&&x){const E=()=>{if(!o.isClosePausedRef.current){const j=new CustomEvent(Zw);x.dispatchEvent(j),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const j=new CustomEvent(e0);x.dispatchEvent(j),o.isClosePausedRef.current=!1}},C=j=>{!T.contains(j.relatedTarget)&&b()},k=()=>{T.contains(document.activeElement)||b()};return T.addEventListener("focusin",E),T.addEventListener("focusout",C),T.addEventListener("pointermove",E),T.addEventListener("pointerleave",k),window.addEventListener("blur",E),window.addEventListener("focus",b),()=>{T.removeEventListener("focusin",E),T.removeEventListener("focusout",C),T.removeEventListener("pointermove",E),T.removeEventListener("pointerleave",k),window.removeEventListener("blur",E),window.removeEventListener("focus",b)}}},[w,o.isClosePausedRef]);const y=m.useCallback(({tabbingDirection:T})=>{const E=a().map(b=>{const C=b.ref.current,k=[C,...Gre(C)];return T==="forwards"?k:k.reverse()});return(T==="forwards"?E.reverse():E).flat()},[a]);return m.useEffect(()=>{const T=h.current;if(T){const x=E=>{var k,j,R;const b=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!b){const _=document.activeElement,P=E.shiftKey;if(E.target===T&&P){(k=c.current)==null||k.focus();return}const M=y({tabbingDirection:P?"backwards":"forwards"}),N=M.findIndex(W=>W===_);Ky(M.slice(N+1))?E.preventDefault():P?(j=c.current)==null||j.focus():(R=d.current)==null||R.focus()}};return T.addEventListener("keydown",x),()=>T.removeEventListener("keydown",x)}},[a,y]),p.jsxs(Cre,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&p.jsx(t0,{ref:c,onFocusFromOutsideViewport:()=>{const T=y({tabbingDirection:"forwards"});Ky(T)}}),p.jsx(Ex.Slot,{scope:n,children:p.jsx(Te.ol,{tabIndex:-1,...i,ref:f})}),w&&p.jsx(t0,{ref:d,onFocusFromOutsideViewport:()=>{const T=y({tabbingDirection:"backwards"});Ky(T)}})]})});_j.displayName=wj;var Ej="ToastFocusProxy",t0=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=gg(Ej,n);return p.jsx(Ym,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});t0.displayName=Ej;var yg="Toast",Ore="toast.swipeStart",Lre="toast.swipeMove",jre="toast.swipeCancel",Vre="toast.swipeEnd",xj=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=ic({prop:r,defaultProp:s,onChange:i});return p.jsx(gj,{present:n||a,children:p.jsx(Bre,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Pt(t.onPause),onResume:Pt(t.onResume),onSwipeStart:Z(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Z(t.onSwipeMove,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Z(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Z(t.onSwipeEnd,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});xj.displayName=yg;var[Fre,Ure]=yj(yg,{onClose(){}}),Bre=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:g,...w}=t,y=gg(yg,n),[T,x]=m.useState(null),E=Fe(e,W=>x(W)),b=m.useRef(null),C=m.useRef(null),k=s||y.duration,j=m.useRef(0),R=m.useRef(k),_=m.useRef(0),{onToastAdd:P,onToastRemove:A}=y,D=Pt(()=>{var pe;(T==null?void 0:T.contains(document.activeElement))&&((pe=y.viewport)==null||pe.focus()),o()}),M=m.useCallback(W=>{!W||W===1/0||(window.clearTimeout(_.current),j.current=new Date().getTime(),_.current=window.setTimeout(D,W))},[D]);m.useEffect(()=>{const W=y.viewport;if(W){const pe=()=>{M(R.current),c==null||c()},le=()=>{const ie=new Date().getTime()-j.current;R.current=R.current-ie,window.clearTimeout(_.current),l==null||l()};return W.addEventListener(Zw,le),W.addEventListener(e0,pe),()=>{W.removeEventListener(Zw,le),W.removeEventListener(e0,pe)}}},[y.viewport,k,l,c,M]),m.useEffect(()=>{i&&!y.isClosePausedRef.current&&M(k)},[i,k,y.isClosePausedRef,M]),m.useEffect(()=>(P(),()=>A()),[P,A]);const N=m.useMemo(()=>T?Ij(T):null,[T]);return y.viewport?p.jsxs(p.Fragment,{children:[N&&p.jsx($re,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),p.jsx(Fre,{scope:n,onClose:D,children:pa.createPortal(p.jsx(Ex.ItemSlot,{scope:n,children:p.jsx(bre,{asChild:!0,onEscapeKeyDown:Z(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||D(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(Te.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...w,ref:E,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Z(t.onKeyDown,W=>{W.key==="Escape"&&(a==null||a(W.nativeEvent),W.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:Z(t.onPointerDown,W=>{W.button===0&&(b.current={x:W.clientX,y:W.clientY})}),onPointerMove:Z(t.onPointerMove,W=>{if(!b.current)return;const pe=W.clientX-b.current.x,le=W.clientY-b.current.y,ie=!!C.current,z=["left","right"].includes(y.swipeDirection),B=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,X=z?B(0,pe):0,ue=z?0:B(0,le),ge=W.pointerType==="touch"?10:2,Se={x:X,y:ue},Ze={originalEvent:W,delta:Se};ie?(C.current=Se,df(Lre,h,Ze,{discrete:!1})):qR(Se,y.swipeDirection,ge)?(C.current=Se,df(Ore,d,Ze,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(pe)>ge||Math.abs(le)>ge)&&(b.current=null)}),onPointerUp:Z(t.onPointerUp,W=>{const pe=C.current,le=W.target;if(le.hasPointerCapture(W.pointerId)&&le.releasePointerCapture(W.pointerId),C.current=null,b.current=null,pe){const ie=W.currentTarget,z={originalEvent:W,delta:pe};qR(pe,y.swipeDirection,y.swipeThreshold)?df(Vre,g,z,{discrete:!0}):df(jre,f,z,{discrete:!0}),ie.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),$re=t=>{const{__scopeToast:e,children:n,...r}=t,s=gg(yg,e),[i,o]=m.useState(!1),[a,l]=m.useState(!1);return Wre(()=>o(!0)),m.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:p.jsx(mj,{asChild:!0,children:p.jsx(Ym,{...r,children:i&&p.jsxs(p.Fragment,{children:[s.label," ",n]})})})},zre="ToastTitle",Tj=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(Te.div,{...r,ref:e})});Tj.displayName=zre;var Kre="ToastDescription",Sj=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(Te.div,{...r,ref:e})});Sj.displayName=Kre;var bj="ToastAction",Cj=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?p.jsx(Pj,{altText:n,asChild:!0,children:p.jsx(xx,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${bj}\`. Expected non-empty \`string\`.`),null)});Cj.displayName=bj;var Rj="ToastClose",xx=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=Ure(Rj,n);return p.jsx(Pj,{asChild:!0,children:p.jsx(Te.button,{type:"button",...r,ref:e,onClick:Z(t.onClick,s.onClose)})})});xx.displayName=Rj;var Pj=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return p.jsx(Te.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function Ij(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Hre(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Ij(r))}}),e}function df(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?oc(s,i):s.dispatchEvent(i)}var qR=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function Wre(t=()=>{}){const e=Pt(t);vn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Hre(t){return t.nodeType===t.ELEMENT_NODE}function Gre(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Ky(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var qre=vj,Aj=_j,Nj=xj,kj=Tj,Dj=Sj,Mj=Cj,Oj=xx;const Qre=qre,Lj=m.forwardRef(({className:t,...e},n)=>p.jsx(Aj,{ref:n,className:de("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Lj.displayName=Aj.displayName;const Yre=Gd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),jj=m.forwardRef(({className:t,variant:e,...n},r)=>p.jsx(Nj,{ref:r,className:de(Yre({variant:e}),t),...n}));jj.displayName=Nj.displayName;const Xre=m.forwardRef(({className:t,...e},n)=>p.jsx(Mj,{ref:n,className:de("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Xre.displayName=Mj.displayName;const Vj=m.forwardRef(({className:t,...e},n)=>p.jsx(Oj,{ref:n,className:de("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:p.jsx(Rm,{className:"h-4 w-4"})}));Vj.displayName=Oj.displayName;const Fj=m.forwardRef(({className:t,...e},n)=>p.jsx(kj,{ref:n,className:de("text-sm font-semibold",t),...e}));Fj.displayName=kj.displayName;const Uj=m.forwardRef(({className:t,...e},n)=>p.jsx(Dj,{ref:n,className:de("text-sm opacity-90",t),...e}));Uj.displayName=Dj.displayName;function Jre(){const{toasts:t}=UL();return p.jsxs(Qre,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return p.jsxs(jj,{...i,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(Fj,{children:n}),r&&p.jsx(Uj,{children:r})]}),s,p.jsx(Vj,{})]},e)}),p.jsx(Lj,{})]})}const Zre=()=>{const t=Fl(n=>n.isAuth),e=new bte;return y5(),t?p.jsx(Ate,{client:e,children:p.jsxs("main",{children:[p.jsx(gre,{}),p.jsx(Jre,{})]})}):p.jsx(DA,{to:"/login"})},ese=Gd("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Bj=m.forwardRef(({className:t,variant:e,...n},r)=>p.jsx("div",{ref:r,role:"alert",className:de(ese({variant:e}),t),...n}));Bj.displayName="Alert";const tse=m.forwardRef(({className:t,...e},n)=>p.jsx("h5",{ref:n,className:de("mb-1 font-medium leading-none tracking-tight",t),...e}));tse.displayName="AlertTitle";const $j=m.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:de("text-sm [&_p]:leading-relaxed",t),...e}));$j.displayName="AlertDescription";const nse=async(t,e)=>{const r=await Hd("/api/auth/login",{},{email:t,password:e});if(!r.success)throw new Error("Error loggin in");return r.accessToken},rse=async(t,e)=>await nse(t,e),sse=()=>{const t=bm(),[e,n]=m.useState(""),[r,s]=m.useState(""),[i,o]=m.useState(""),[a,l]=m.useState(!1),[c,d]=m.useState(!1),h=Fl(y=>y.login),f=Fl(y=>y.isAuth),g=async y=>{y.preventDefault(),o(""),l(!0);try{const T=await rse(e,r);h(T),t("/")}catch{o("Error logging in, Please try again.")}finally{l(!1)}},w=()=>{d(!c)};return f?p.jsx(DA,{to:"/"}):p.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-r from-gray-100 to-gray-200 relative",children:[p.jsx("div",{className:"absolute inset-0 opacity-10 bg-cover bg-center z-0",style:{backgroundImage:"url('/placeholder.svg?height=1080&width=1920')",filter:"blur(3px)"},"aria-hidden":"true"}),p.jsxs(tg,{className:"w-full max-w-md z-10",children:[p.jsxs(LM,{children:[p.jsx(jM,{className:"text-2xl font-bold text-center",children:"Welcome Back"}),p.jsx(VM,{className:"text-center",children:"Please sign in to your account"})]}),p.jsx(ng,{children:p.jsxs("form",{onSubmit:g,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Bi,{htmlFor:"email",children:"Email"}),p.jsx(Jt,{id:"email",type:"email",placeholder:"you@example.com",value:e,onChange:y=>n(y.target.value),required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Bi,{htmlFor:"password",children:"Password"}),p.jsxs("div",{className:"relative",children:[p.jsx(Jt,{id:"password",type:c?"text":"password",value:r,onChange:y=>s(y.target.value),required:!0}),p.jsx(Je,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:w,"aria-label":c?"Hide password":"Show password",children:c?p.jsx(I5,{className:"h-4 w-4 text-gray-500"}):p.jsx(A5,{className:"h-4 w-4 text-gray-500"})})]})]}),i&&p.jsxs(Bj,{variant:"destructive",children:[p.jsx(LA,{className:"h-4 w-4"}),p.jsx($j,{children:i})]}),p.jsx(Je,{type:"submit",className:"w-full",disabled:a,children:a?"Signing In...":"Sign In"})]})}),p.jsxs(FM,{className:"flex flex-col items-center justify-center space-y-2",children:[p.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Powered by cob-chatbot"}),p.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Intelligent conversations, seamless interactions"})]})]})]})};function ise(){var n;const t=kA();let e;return Ud(t)?e=t.statusText||((n=t.data)==null?void 0:n.message)||"An unexpected error occurred.":t instanceof Error?e=t.message:typeof t=="string"?e=t:(console.error(t),e="An unknown error occurred."),p.jsx("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center items-center px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"max-w-md w-full space-y-8 text-center",children:[p.jsx("div",{className:"flex justify-center",children:p.jsx(LA,{className:"h-24 w-24 text-red-600"})}),p.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Oops! Something went wrong"}),p.jsx("p",{className:"mt-2 text-sm text-gray-600",children:e}),p.jsx("div",{className:"mt-5",children:p.jsx(m5,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Go back home"})})]})})}const ose=t5([{path:"/",element:p.jsx(Zre,{}),errorElement:p.jsx(ise,{})},{path:"/login",element:p.jsx(sse,{})}],{basename:"/admin"});Wy.createRoot(document.getElementById("root")).render(p.jsx(Br.StrictMode,{children:p.jsx(u5,{router:ose})}));
