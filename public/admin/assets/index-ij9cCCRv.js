var qy=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var V=(t,e,n)=>(qy(t,e,"read from private field"),n?n.call(t):e.get(t)),be=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},me=(t,e,n,r)=>(qy(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var gp=(t,e,n,r)=>({set _(s){me(t,e,s,n)},get _(){return V(t,e,r)}}),Ye=(t,e,n)=>(qy(t,e,"access private method"),n);function qP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function K_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var GP={exports:{}},lv={},QP={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uf=Symbol.for("react.element"),M$=Symbol.for("react.portal"),O$=Symbol.for("react.fragment"),j$=Symbol.for("react.strict_mode"),L$=Symbol.for("react.profiler"),V$=Symbol.for("react.provider"),F$=Symbol.for("react.context"),U$=Symbol.for("react.forward_ref"),B$=Symbol.for("react.suspense"),$$=Symbol.for("react.memo"),z$=Symbol.for("react.lazy"),nC=Symbol.iterator;function K$(t){return t===null||typeof t!="object"?null:(t=nC&&t[nC]||t["@@iterator"],typeof t=="function"?t:null)}var YP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},XP=Object.assign,JP={};function vu(t,e,n){this.props=t,this.context=e,this.refs=JP,this.updater=n||YP}vu.prototype.isReactComponent={};vu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};vu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ZP(){}ZP.prototype=vu.prototype;function W_(t,e,n){this.props=t,this.context=e,this.refs=JP,this.updater=n||YP}var H_=W_.prototype=new ZP;H_.constructor=W_;XP(H_,vu.prototype);H_.isPureReactComponent=!0;var rC=Array.isArray,eN=Object.prototype.hasOwnProperty,q_={current:null},tN={key:!0,ref:!0,__self:!0,__source:!0};function nN(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)eN.call(e,r)&&!tN.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:uf,type:t,key:i,ref:o,props:s,_owner:q_.current}}function W$(t,e){return{$$typeof:uf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function G_(t){return typeof t=="object"&&t!==null&&t.$$typeof===uf}function H$(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var sC=/\/+/g;function Gy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?H$(""+t.key):e.toString(36)}function om(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case uf:case M$:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Gy(o,0):r,rC(s)?(n="",t!=null&&(n=t.replace(sC,"$&/")+"/"),om(s,e,n,"",function(c){return c})):s!=null&&(G_(s)&&(s=W$(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(sC,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",rC(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Gy(i,a);o+=om(i,e,n,l,s)}else if(l=K$(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Gy(i,a++),o+=om(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function vp(t,e,n){if(t==null)return t;var r=[],s=0;return om(t,r,"","",function(i){return e.call(n,i,s++)}),r}function q$(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var gr={current:null},am={transition:null},G$={ReactCurrentDispatcher:gr,ReactCurrentBatchConfig:am,ReactCurrentOwner:q_};function rN(){throw Error("act(...) is not supported in production builds of React.")}Ze.Children={map:vp,forEach:function(t,e,n){vp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return vp(t,function(){e++}),e},toArray:function(t){return vp(t,function(e){return e})||[]},only:function(t){if(!G_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ze.Component=vu;Ze.Fragment=O$;Ze.Profiler=L$;Ze.PureComponent=W_;Ze.StrictMode=j$;Ze.Suspense=B$;Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G$;Ze.act=rN;Ze.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=XP({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=q_.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)eN.call(e,l)&&!tN.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:uf,type:t.type,key:s,ref:i,props:r,_owner:o}};Ze.createContext=function(t){return t={$$typeof:F$,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:V$,_context:t},t.Consumer=t};Ze.createElement=nN;Ze.createFactory=function(t){var e=nN.bind(null,t);return e.type=t,e};Ze.createRef=function(){return{current:null}};Ze.forwardRef=function(t){return{$$typeof:U$,render:t}};Ze.isValidElement=G_;Ze.lazy=function(t){return{$$typeof:z$,_payload:{_status:-1,_result:t},_init:q$}};Ze.memo=function(t,e){return{$$typeof:$$,type:t,compare:e===void 0?null:e}};Ze.startTransition=function(t){var e=am.transition;am.transition={};try{t()}finally{am.transition=e}};Ze.unstable_act=rN;Ze.useCallback=function(t,e){return gr.current.useCallback(t,e)};Ze.useContext=function(t){return gr.current.useContext(t)};Ze.useDebugValue=function(){};Ze.useDeferredValue=function(t){return gr.current.useDeferredValue(t)};Ze.useEffect=function(t,e){return gr.current.useEffect(t,e)};Ze.useId=function(){return gr.current.useId()};Ze.useImperativeHandle=function(t,e,n){return gr.current.useImperativeHandle(t,e,n)};Ze.useInsertionEffect=function(t,e){return gr.current.useInsertionEffect(t,e)};Ze.useLayoutEffect=function(t,e){return gr.current.useLayoutEffect(t,e)};Ze.useMemo=function(t,e){return gr.current.useMemo(t,e)};Ze.useReducer=function(t,e,n){return gr.current.useReducer(t,e,n)};Ze.useRef=function(t){return gr.current.useRef(t)};Ze.useState=function(t){return gr.current.useState(t)};Ze.useSyncExternalStore=function(t,e,n){return gr.current.useSyncExternalStore(t,e,n)};Ze.useTransition=function(){return gr.current.useTransition()};Ze.version="18.3.1";QP.exports=Ze;var m=QP.exports;const Re=K_(m),sN=qP({__proto__:null,default:Re},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q$=m,Y$=Symbol.for("react.element"),X$=Symbol.for("react.fragment"),J$=Object.prototype.hasOwnProperty,Z$=Q$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ez={key:!0,ref:!0,__self:!0,__source:!0};function iN(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)J$.call(e,r)&&!ez.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Y$,type:t,key:i,ref:o,props:s,_owner:Z$.current}}lv.Fragment=X$;lv.jsx=iN;lv.jsxs=iN;GP.exports=lv;var d=GP.exports,_0={},oN={exports:{}},Yr={},aN={exports:{}},lN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,B){var J=z.length;z.push(B);e:for(;0<J;){var fe=J-1>>>1,he=z[fe];if(0<s(he,B))z[fe]=B,z[J]=he,J=fe;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var B=z[0],J=z.pop();if(J!==B){z[0]=J;e:for(var fe=0,he=z.length,Te=he>>>1;fe<Te;){var We=2*(fe+1)-1,at=z[We],Ne=We+1,ce=z[Ne];if(0>s(at,J))Ne<he&&0>s(ce,at)?(z[fe]=ce,z[Ne]=J,fe=Ne):(z[fe]=at,z[We]=J,fe=We);else if(Ne<he&&0>s(ce,J))z[fe]=ce,z[Ne]=J,fe=Ne;else break e}}return B}function s(z,B){var J=z.sortIndex-B.sortIndex;return J!==0?J:z.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,p=3,g=!1,w=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(z){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=z)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function C(z){if(v=!1,b(z),!w)if(n(l)!==null)w=!0,ne(P);else{var B=n(c);B!==null&&Y(C,B.startTime-z)}}function P(z,B){w=!1,v&&(v=!1,x(E),E=-1),g=!0;var J=p;try{for(b(B),h=n(l);h!==null&&(!(h.expirationTime>B)||z&&!k());){var fe=h.callback;if(typeof fe=="function"){h.callback=null,p=h.priorityLevel;var he=fe(h.expirationTime<=B);B=t.unstable_now(),typeof he=="function"?h.callback=he:h===n(l)&&r(l),b(B)}else r(l);h=n(l)}if(h!==null)var Te=!0;else{var We=n(c);We!==null&&Y(C,We.startTime-B),Te=!1}return Te}finally{h=null,p=J,g=!1}}var O=!1,T=null,E=-1,I=5,R=-1;function k(){return!(t.unstable_now()-R<I)}function M(){if(T!==null){var z=t.unstable_now();R=z;var B=!0;try{B=T(!0,z)}finally{B?N():(O=!1,T=null)}}else O=!1}var N;if(typeof y=="function")N=function(){y(M)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,se=W.port2;W.port1.onmessage=M,N=function(){se.postMessage(null)}}else N=function(){_(M,0)};function ne(z){T=z,O||(O=!0,N())}function Y(z,B){E=_(function(){z(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,ne(P))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var J=p;p=B;try{return z()}finally{p=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,B){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var J=p;p=z;try{return B()}finally{p=J}},t.unstable_scheduleCallback=function(z,B,J){var fe=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?fe+J:fe):J=fe,z){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=J+he,z={id:u++,callback:B,priorityLevel:z,startTime:J,expirationTime:he,sortIndex:-1},J>fe?(z.sortIndex=J,e(c,z),n(l)===null&&z===n(c)&&(v?(x(E),E=-1):v=!0,Y(C,J-fe))):(z.sortIndex=he,e(l,z),w||g||(w=!0,ne(P))),z},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(z){var B=p;return function(){var J=p;p=B;try{return z.apply(this,arguments)}finally{p=J}}}})(lN);aN.exports=lN;var tz=aN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nz=m,qr=tz;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cN=new Set,ah={};function Rl(t,e){Gc(t,e),Gc(t+"Capture",e)}function Gc(t,e){for(ah[t]=e,t=0;t<e.length;t++)cN.add(e[t])}var Ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),E0=Object.prototype.hasOwnProperty,rz=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iC={},oC={};function sz(t){return E0.call(oC,t)?!0:E0.call(iC,t)?!1:rz.test(t)?oC[t]=!0:(iC[t]=!0,!1)}function iz(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function oz(t,e,n,r){if(e===null||typeof e>"u"||iz(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vr(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Kn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Kn[t]=new vr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Kn[e]=new vr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Kn[t]=new vr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Kn[t]=new vr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Kn[t]=new vr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Kn[t]=new vr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Kn[t]=new vr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Kn[t]=new vr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Kn[t]=new vr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Q_=/[\-:]([a-z])/g;function Y_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Q_,Y_);Kn[e]=new vr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Q_,Y_);Kn[e]=new vr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Q_,Y_);Kn[e]=new vr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Kn[t]=new vr(t,1,!1,t.toLowerCase(),null,!1,!1)});Kn.xlinkHref=new vr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Kn[t]=new vr(t,1,!1,t.toLowerCase(),null,!0,!0)});function X_(t,e,n,r){var s=Kn.hasOwnProperty(e)?Kn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(oz(e,n,s,r)&&(n=null),r||s===null?sz(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var no=nz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yp=Symbol.for("react.element"),Jl=Symbol.for("react.portal"),Zl=Symbol.for("react.fragment"),J_=Symbol.for("react.strict_mode"),b0=Symbol.for("react.profiler"),uN=Symbol.for("react.provider"),dN=Symbol.for("react.context"),Z_=Symbol.for("react.forward_ref"),S0=Symbol.for("react.suspense"),T0=Symbol.for("react.suspense_list"),eE=Symbol.for("react.memo"),xo=Symbol.for("react.lazy"),hN=Symbol.for("react.offscreen"),aC=Symbol.iterator;function Zu(t){return t===null||typeof t!="object"?null:(t=aC&&t[aC]||t["@@iterator"],typeof t=="function"?t:null)}var Gt=Object.assign,Qy;function yd(t){if(Qy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Qy=e&&e[1]||""}return`
`+Qy+t}var Yy=!1;function Xy(t,e){if(!t||Yy)return"";Yy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Yy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?yd(t):""}function az(t){switch(t.tag){case 5:return yd(t.type);case 16:return yd("Lazy");case 13:return yd("Suspense");case 19:return yd("SuspenseList");case 0:case 2:case 15:return t=Xy(t.type,!1),t;case 11:return t=Xy(t.type.render,!1),t;case 1:return t=Xy(t.type,!0),t;default:return""}}function C0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zl:return"Fragment";case Jl:return"Portal";case b0:return"Profiler";case J_:return"StrictMode";case S0:return"Suspense";case T0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case dN:return(t.displayName||"Context")+".Consumer";case uN:return(t._context.displayName||"Context")+".Provider";case Z_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case eE:return e=t.displayName||null,e!==null?e:C0(t.type)||"Memo";case xo:e=t._payload,t=t._init;try{return C0(t(e))}catch{}}return null}function lz(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return C0(e);case 8:return e===J_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ra(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cz(t){var e=fN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wp(t){t._valueTracker||(t._valueTracker=cz(t))}function pN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=fN(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Bm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function A0(t,e){var n=e.checked;return Gt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function lC(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ra(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function mN(t,e){e=e.checked,e!=null&&X_(t,"checked",e,!1)}function R0(t,e){mN(t,e);var n=ra(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?I0(t,e.type,n):e.hasOwnProperty("defaultValue")&&I0(t,e.type,ra(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function cC(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function I0(t,e,n){(e!=="number"||Bm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var wd=Array.isArray;function yc(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ra(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function P0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return Gt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function uC(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(te(92));if(wd(n)){if(1<n.length)throw Error(te(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ra(n)}}function gN(t,e){var n=ra(e.value),r=ra(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function dC(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function vN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function N0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?vN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xp,yN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xp=xp||document.createElement("div"),xp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function lh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Dd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uz=["Webkit","ms","Moz","O"];Object.keys(Dd).forEach(function(t){uz.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Dd[e]=Dd[t]})});function wN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Dd.hasOwnProperty(t)&&Dd[t]?(""+e).trim():e+"px"}function xN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=wN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var dz=Gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function D0(t,e){if(e){if(dz[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function k0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var M0=null;function tE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var O0=null,wc=null,xc=null;function hC(t){if(t=ff(t)){if(typeof O0!="function")throw Error(te(280));var e=t.stateNode;e&&(e=fv(e),O0(t.stateNode,t.type,e))}}function _N(t){wc?xc?xc.push(t):xc=[t]:wc=t}function EN(){if(wc){var t=wc,e=xc;if(xc=wc=null,hC(t),e)for(t=0;t<e.length;t++)hC(e[t])}}function bN(t,e){return t(e)}function SN(){}var Jy=!1;function TN(t,e,n){if(Jy)return t(e,n);Jy=!0;try{return bN(t,e,n)}finally{Jy=!1,(wc!==null||xc!==null)&&(SN(),EN())}}function ch(t,e){var n=t.stateNode;if(n===null)return null;var r=fv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(te(231,e,typeof n));return n}var j0=!1;if(Ki)try{var ed={};Object.defineProperty(ed,"passive",{get:function(){j0=!0}}),window.addEventListener("test",ed,ed),window.removeEventListener("test",ed,ed)}catch{j0=!1}function hz(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var kd=!1,$m=null,zm=!1,L0=null,fz={onError:function(t){kd=!0,$m=t}};function pz(t,e,n,r,s,i,o,a,l){kd=!1,$m=null,hz.apply(fz,arguments)}function mz(t,e,n,r,s,i,o,a,l){if(pz.apply(this,arguments),kd){if(kd){var c=$m;kd=!1,$m=null}else throw Error(te(198));zm||(zm=!0,L0=c)}}function Il(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function CN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fC(t){if(Il(t)!==t)throw Error(te(188))}function gz(t){var e=t.alternate;if(!e){if(e=Il(t),e===null)throw Error(te(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return fC(s),t;if(i===r)return fC(s),e;i=i.sibling}throw Error(te(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(te(189))}}if(n.alternate!==r)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?t:e}function AN(t){return t=gz(t),t!==null?RN(t):null}function RN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=RN(t);if(e!==null)return e;t=t.sibling}return null}var IN=qr.unstable_scheduleCallback,pC=qr.unstable_cancelCallback,vz=qr.unstable_shouldYield,yz=qr.unstable_requestPaint,an=qr.unstable_now,wz=qr.unstable_getCurrentPriorityLevel,nE=qr.unstable_ImmediatePriority,PN=qr.unstable_UserBlockingPriority,Km=qr.unstable_NormalPriority,xz=qr.unstable_LowPriority,NN=qr.unstable_IdlePriority,cv=null,ei=null;function _z(t){if(ei&&typeof ei.onCommitFiberRoot=="function")try{ei.onCommitFiberRoot(cv,t,void 0,(t.current.flags&128)===128)}catch{}}var Ms=Math.clz32?Math.clz32:Sz,Ez=Math.log,bz=Math.LN2;function Sz(t){return t>>>=0,t===0?32:31-(Ez(t)/bz|0)|0}var _p=64,Ep=4194304;function xd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=xd(a):(i&=o,i!==0&&(r=xd(i)))}else o=n&~s,o!==0?r=xd(o):i!==0&&(r=xd(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ms(e),s=1<<n,r|=t[n],e&=~s;return r}function Tz(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cz(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Ms(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Tz(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function V0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function DN(){var t=_p;return _p<<=1,!(_p&4194240)&&(_p=64),t}function Zy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function df(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ms(e),t[e]=n}function Az(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Ms(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function rE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ms(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var xt=0;function kN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var MN,sE,ON,jN,LN,F0=!1,bp=[],Wo=null,Ho=null,qo=null,uh=new Map,dh=new Map,bo=[],Rz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mC(t,e){switch(t){case"focusin":case"focusout":Wo=null;break;case"dragenter":case"dragleave":Ho=null;break;case"mouseover":case"mouseout":qo=null;break;case"pointerover":case"pointerout":uh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":dh.delete(e.pointerId)}}function td(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ff(e),e!==null&&sE(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Iz(t,e,n,r,s){switch(e){case"focusin":return Wo=td(Wo,t,e,n,r,s),!0;case"dragenter":return Ho=td(Ho,t,e,n,r,s),!0;case"mouseover":return qo=td(qo,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return uh.set(i,td(uh.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,dh.set(i,td(dh.get(i)||null,t,e,n,r,s)),!0}return!1}function VN(t){var e=Wa(t.target);if(e!==null){var n=Il(e);if(n!==null){if(e=n.tag,e===13){if(e=CN(n),e!==null){t.blockedOn=e,LN(t.priority,function(){ON(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=U0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);M0=r,n.target.dispatchEvent(r),M0=null}else return e=ff(n),e!==null&&sE(e),t.blockedOn=n,!1;e.shift()}return!0}function gC(t,e,n){lm(t)&&n.delete(e)}function Pz(){F0=!1,Wo!==null&&lm(Wo)&&(Wo=null),Ho!==null&&lm(Ho)&&(Ho=null),qo!==null&&lm(qo)&&(qo=null),uh.forEach(gC),dh.forEach(gC)}function nd(t,e){t.blockedOn===e&&(t.blockedOn=null,F0||(F0=!0,qr.unstable_scheduleCallback(qr.unstable_NormalPriority,Pz)))}function hh(t){function e(s){return nd(s,t)}if(0<bp.length){nd(bp[0],t);for(var n=1;n<bp.length;n++){var r=bp[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Wo!==null&&nd(Wo,t),Ho!==null&&nd(Ho,t),qo!==null&&nd(qo,t),uh.forEach(e),dh.forEach(e),n=0;n<bo.length;n++)r=bo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<bo.length&&(n=bo[0],n.blockedOn===null);)VN(n),n.blockedOn===null&&bo.shift()}var _c=no.ReactCurrentBatchConfig,Hm=!0;function Nz(t,e,n,r){var s=xt,i=_c.transition;_c.transition=null;try{xt=1,iE(t,e,n,r)}finally{xt=s,_c.transition=i}}function Dz(t,e,n,r){var s=xt,i=_c.transition;_c.transition=null;try{xt=4,iE(t,e,n,r)}finally{xt=s,_c.transition=i}}function iE(t,e,n,r){if(Hm){var s=U0(t,e,n,r);if(s===null)cw(t,e,r,qm,n),mC(t,r);else if(Iz(s,t,e,n,r))r.stopPropagation();else if(mC(t,r),e&4&&-1<Rz.indexOf(t)){for(;s!==null;){var i=ff(s);if(i!==null&&MN(i),i=U0(t,e,n,r),i===null&&cw(t,e,r,qm,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else cw(t,e,r,null,n)}}var qm=null;function U0(t,e,n,r){if(qm=null,t=tE(r),t=Wa(t),t!==null)if(e=Il(t),e===null)t=null;else if(n=e.tag,n===13){if(t=CN(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qm=t,null}function FN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wz()){case nE:return 1;case PN:return 4;case Km:case xz:return 16;case NN:return 536870912;default:return 16}default:return 16}}var Uo=null,oE=null,cm=null;function UN(){if(cm)return cm;var t,e=oE,n=e.length,r,s="value"in Uo?Uo.value:Uo.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return cm=s.slice(t,1<r?1-r:void 0)}function um(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Sp(){return!0}function vC(){return!1}function Xr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Sp:vC,this.isPropagationStopped=vC,this}return Gt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sp)},persist:function(){},isPersistent:Sp}),e}var yu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aE=Xr(yu),hf=Gt({},yu,{view:0,detail:0}),kz=Xr(hf),ew,tw,rd,uv=Gt({},hf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==rd&&(rd&&t.type==="mousemove"?(ew=t.screenX-rd.screenX,tw=t.screenY-rd.screenY):tw=ew=0,rd=t),ew)},movementY:function(t){return"movementY"in t?t.movementY:tw}}),yC=Xr(uv),Mz=Gt({},uv,{dataTransfer:0}),Oz=Xr(Mz),jz=Gt({},hf,{relatedTarget:0}),nw=Xr(jz),Lz=Gt({},yu,{animationName:0,elapsedTime:0,pseudoElement:0}),Vz=Xr(Lz),Fz=Gt({},yu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Uz=Xr(Fz),Bz=Gt({},yu,{data:0}),wC=Xr(Bz),$z={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wz(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Kz[t])?!!e[t]:!1}function lE(){return Wz}var Hz=Gt({},hf,{key:function(t){if(t.key){var e=$z[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=um(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zz[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lE,charCode:function(t){return t.type==="keypress"?um(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?um(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qz=Xr(Hz),Gz=Gt({},uv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xC=Xr(Gz),Qz=Gt({},hf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lE}),Yz=Xr(Qz),Xz=Gt({},yu,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jz=Xr(Xz),Zz=Gt({},uv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),e5=Xr(Zz),t5=[9,13,27,32],cE=Ki&&"CompositionEvent"in window,Md=null;Ki&&"documentMode"in document&&(Md=document.documentMode);var n5=Ki&&"TextEvent"in window&&!Md,BN=Ki&&(!cE||Md&&8<Md&&11>=Md),_C=" ",EC=!1;function $N(t,e){switch(t){case"keyup":return t5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ec=!1;function r5(t,e){switch(t){case"compositionend":return zN(e);case"keypress":return e.which!==32?null:(EC=!0,_C);case"textInput":return t=e.data,t===_C&&EC?null:t;default:return null}}function s5(t,e){if(ec)return t==="compositionend"||!cE&&$N(t,e)?(t=UN(),cm=oE=Uo=null,ec=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return BN&&e.locale!=="ko"?null:e.data;default:return null}}var i5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!i5[t.type]:e==="textarea"}function KN(t,e,n,r){_N(r),e=Gm(e,"onChange"),0<e.length&&(n=new aE("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Od=null,fh=null;function o5(t){tD(t,0)}function dv(t){var e=rc(t);if(pN(e))return t}function a5(t,e){if(t==="change")return e}var WN=!1;if(Ki){var rw;if(Ki){var sw="oninput"in document;if(!sw){var SC=document.createElement("div");SC.setAttribute("oninput","return;"),sw=typeof SC.oninput=="function"}rw=sw}else rw=!1;WN=rw&&(!document.documentMode||9<document.documentMode)}function TC(){Od&&(Od.detachEvent("onpropertychange",HN),fh=Od=null)}function HN(t){if(t.propertyName==="value"&&dv(fh)){var e=[];KN(e,fh,t,tE(t)),TN(o5,e)}}function l5(t,e,n){t==="focusin"?(TC(),Od=e,fh=n,Od.attachEvent("onpropertychange",HN)):t==="focusout"&&TC()}function c5(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dv(fh)}function u5(t,e){if(t==="click")return dv(e)}function d5(t,e){if(t==="input"||t==="change")return dv(e)}function h5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ls=typeof Object.is=="function"?Object.is:h5;function ph(t,e){if(Ls(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!E0.call(e,s)||!Ls(t[s],e[s]))return!1}return!0}function CC(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function AC(t,e){var n=CC(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=CC(n)}}function qN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?qN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function GN(){for(var t=window,e=Bm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Bm(t.document)}return e}function uE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function f5(t){var e=GN(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&qN(n.ownerDocument.documentElement,n)){if(r!==null&&uE(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=AC(n,i);var o=AC(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var p5=Ki&&"documentMode"in document&&11>=document.documentMode,tc=null,B0=null,jd=null,$0=!1;function RC(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$0||tc==null||tc!==Bm(r)||(r=tc,"selectionStart"in r&&uE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),jd&&ph(jd,r)||(jd=r,r=Gm(B0,"onSelect"),0<r.length&&(e=new aE("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=tc)))}function Tp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var nc={animationend:Tp("Animation","AnimationEnd"),animationiteration:Tp("Animation","AnimationIteration"),animationstart:Tp("Animation","AnimationStart"),transitionend:Tp("Transition","TransitionEnd")},iw={},QN={};Ki&&(QN=document.createElement("div").style,"AnimationEvent"in window||(delete nc.animationend.animation,delete nc.animationiteration.animation,delete nc.animationstart.animation),"TransitionEvent"in window||delete nc.transitionend.transition);function hv(t){if(iw[t])return iw[t];if(!nc[t])return t;var e=nc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in QN)return iw[t]=e[n];return t}var YN=hv("animationend"),XN=hv("animationiteration"),JN=hv("animationstart"),ZN=hv("transitionend"),eD=new Map,IC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ya(t,e){eD.set(t,e),Rl(e,[t])}for(var ow=0;ow<IC.length;ow++){var aw=IC[ow],m5=aw.toLowerCase(),g5=aw[0].toUpperCase()+aw.slice(1);ya(m5,"on"+g5)}ya(YN,"onAnimationEnd");ya(XN,"onAnimationIteration");ya(JN,"onAnimationStart");ya("dblclick","onDoubleClick");ya("focusin","onFocus");ya("focusout","onBlur");ya(ZN,"onTransitionEnd");Gc("onMouseEnter",["mouseout","mouseover"]);Gc("onMouseLeave",["mouseout","mouseover"]);Gc("onPointerEnter",["pointerout","pointerover"]);Gc("onPointerLeave",["pointerout","pointerover"]);Rl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _d="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v5=new Set("cancel close invalid load scroll toggle".split(" ").concat(_d));function PC(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,mz(r,e,void 0,t),t.currentTarget=null}function tD(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;PC(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;PC(s,a,c),i=l}}}if(zm)throw t=L0,zm=!1,L0=null,t}function Ot(t,e){var n=e[q0];n===void 0&&(n=e[q0]=new Set);var r=t+"__bubble";n.has(r)||(nD(e,t,2,!1),n.add(r))}function lw(t,e,n){var r=0;e&&(r|=4),nD(n,t,r,e)}var Cp="_reactListening"+Math.random().toString(36).slice(2);function mh(t){if(!t[Cp]){t[Cp]=!0,cN.forEach(function(n){n!=="selectionchange"&&(v5.has(n)||lw(n,!1,t),lw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Cp]||(e[Cp]=!0,lw("selectionchange",!1,e))}}function nD(t,e,n,r){switch(FN(e)){case 1:var s=Nz;break;case 4:s=Dz;break;default:s=iE}n=s.bind(null,e,n,t),s=void 0,!j0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function cw(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Wa(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}TN(function(){var c=i,u=tE(n),h=[];e:{var p=eD.get(t);if(p!==void 0){var g=aE,w=t;switch(t){case"keypress":if(um(n)===0)break e;case"keydown":case"keyup":g=qz;break;case"focusin":w="focus",g=nw;break;case"focusout":w="blur",g=nw;break;case"beforeblur":case"afterblur":g=nw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=yC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Oz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Yz;break;case YN:case XN:case JN:g=Vz;break;case ZN:g=Jz;break;case"scroll":g=kz;break;case"wheel":g=e5;break;case"copy":case"cut":case"paste":g=Uz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=xC}var v=(e&4)!==0,_=!v&&t==="scroll",x=v?p!==null?p+"Capture":null:p;v=[];for(var y=c,b;y!==null;){b=y;var C=b.stateNode;if(b.tag===5&&C!==null&&(b=C,x!==null&&(C=ch(y,x),C!=null&&v.push(gh(y,C,b)))),_)break;y=y.return}0<v.length&&(p=new g(p,w,null,n,u),h.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==M0&&(w=n.relatedTarget||n.fromElement)&&(Wa(w)||w[Wi]))break e;if((g||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=c,w=w?Wa(w):null,w!==null&&(_=Il(w),w!==_||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=c),g!==w)){if(v=yC,C="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=xC,C="onPointerLeave",x="onPointerEnter",y="pointer"),_=g==null?p:rc(g),b=w==null?p:rc(w),p=new v(C,y+"leave",g,n,u),p.target=_,p.relatedTarget=b,C=null,Wa(u)===c&&(v=new v(x,y+"enter",w,n,u),v.target=b,v.relatedTarget=_,C=v),_=C,g&&w)t:{for(v=g,x=w,y=0,b=v;b;b=Kl(b))y++;for(b=0,C=x;C;C=Kl(C))b++;for(;0<y-b;)v=Kl(v),y--;for(;0<b-y;)x=Kl(x),b--;for(;y--;){if(v===x||x!==null&&v===x.alternate)break t;v=Kl(v),x=Kl(x)}v=null}else v=null;g!==null&&NC(h,p,g,v,!1),w!==null&&_!==null&&NC(h,_,w,v,!0)}}e:{if(p=c?rc(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var P=a5;else if(bC(p))if(WN)P=d5;else{P=c5;var O=l5}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=u5);if(P&&(P=P(t,c))){KN(h,P,n,u);break e}O&&O(t,p,c),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&I0(p,"number",p.value)}switch(O=c?rc(c):window,t){case"focusin":(bC(O)||O.contentEditable==="true")&&(tc=O,B0=c,jd=null);break;case"focusout":jd=B0=tc=null;break;case"mousedown":$0=!0;break;case"contextmenu":case"mouseup":case"dragend":$0=!1,RC(h,n,u);break;case"selectionchange":if(p5)break;case"keydown":case"keyup":RC(h,n,u)}var T;if(cE)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ec?$N(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(BN&&n.locale!=="ko"&&(ec||E!=="onCompositionStart"?E==="onCompositionEnd"&&ec&&(T=UN()):(Uo=u,oE="value"in Uo?Uo.value:Uo.textContent,ec=!0)),O=Gm(c,E),0<O.length&&(E=new wC(E,t,null,n,u),h.push({event:E,listeners:O}),T?E.data=T:(T=zN(n),T!==null&&(E.data=T)))),(T=n5?r5(t,n):s5(t,n))&&(c=Gm(c,"onBeforeInput"),0<c.length&&(u=new wC("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=T))}tD(h,e)})}function gh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gm(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ch(t,n),i!=null&&r.unshift(gh(t,i,s)),i=ch(t,e),i!=null&&r.push(gh(t,i,s))),t=t.return}return r}function Kl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function NC(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=ch(n,i),l!=null&&o.unshift(gh(n,l,a))):s||(l=ch(n,i),l!=null&&o.push(gh(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var y5=/\r\n?/g,w5=/\u0000|\uFFFD/g;function DC(t){return(typeof t=="string"?t:""+t).replace(y5,`
`).replace(w5,"")}function Ap(t,e,n){if(e=DC(e),DC(t)!==e&&n)throw Error(te(425))}function Qm(){}var z0=null,K0=null;function W0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var H0=typeof setTimeout=="function"?setTimeout:void 0,x5=typeof clearTimeout=="function"?clearTimeout:void 0,kC=typeof Promise=="function"?Promise:void 0,_5=typeof queueMicrotask=="function"?queueMicrotask:typeof kC<"u"?function(t){return kC.resolve(null).then(t).catch(E5)}:H0;function E5(t){setTimeout(function(){throw t})}function uw(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),hh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);hh(e)}function Go(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function MC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var wu=Math.random().toString(36).slice(2),Qs="__reactFiber$"+wu,vh="__reactProps$"+wu,Wi="__reactContainer$"+wu,q0="__reactEvents$"+wu,b5="__reactListeners$"+wu,S5="__reactHandles$"+wu;function Wa(t){var e=t[Qs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wi]||n[Qs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=MC(t);t!==null;){if(n=t[Qs])return n;t=MC(t)}return e}t=n,n=t.parentNode}return null}function ff(t){return t=t[Qs]||t[Wi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function rc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function fv(t){return t[vh]||null}var G0=[],sc=-1;function wa(t){return{current:t}}function jt(t){0>sc||(t.current=G0[sc],G0[sc]=null,sc--)}function It(t,e){sc++,G0[sc]=t.current,t.current=e}var sa={},or=wa(sa),Ir=wa(!1),hl=sa;function Qc(t,e){var n=t.type.contextTypes;if(!n)return sa;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Pr(t){return t=t.childContextTypes,t!=null}function Ym(){jt(Ir),jt(or)}function OC(t,e,n){if(or.current!==sa)throw Error(te(168));It(or,e),It(Ir,n)}function rD(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(te(108,lz(t)||"Unknown",s));return Gt({},n,r)}function Xm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||sa,hl=or.current,It(or,t),It(Ir,Ir.current),!0}function jC(t,e,n){var r=t.stateNode;if(!r)throw Error(te(169));n?(t=rD(t,e,hl),r.__reactInternalMemoizedMergedChildContext=t,jt(Ir),jt(or),It(or,t)):jt(Ir),It(Ir,n)}var bi=null,pv=!1,dw=!1;function sD(t){bi===null?bi=[t]:bi.push(t)}function T5(t){pv=!0,sD(t)}function xa(){if(!dw&&bi!==null){dw=!0;var t=0,e=xt;try{var n=bi;for(xt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}bi=null,pv=!1}catch(s){throw bi!==null&&(bi=bi.slice(t+1)),IN(nE,xa),s}finally{xt=e,dw=!1}}return null}var ic=[],oc=0,Jm=null,Zm=0,cs=[],us=0,fl=null,Ti=1,Ci="";function Fa(t,e){ic[oc++]=Zm,ic[oc++]=Jm,Jm=t,Zm=e}function iD(t,e,n){cs[us++]=Ti,cs[us++]=Ci,cs[us++]=fl,fl=t;var r=Ti;t=Ci;var s=32-Ms(r)-1;r&=~(1<<s),n+=1;var i=32-Ms(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ti=1<<32-Ms(e)+s|n<<s|r,Ci=i+t}else Ti=1<<i|n<<s|r,Ci=t}function dE(t){t.return!==null&&(Fa(t,1),iD(t,1,0))}function hE(t){for(;t===Jm;)Jm=ic[--oc],ic[oc]=null,Zm=ic[--oc],ic[oc]=null;for(;t===fl;)fl=cs[--us],cs[us]=null,Ci=cs[--us],cs[us]=null,Ti=cs[--us],cs[us]=null}var Wr=null,zr=null,Ut=!1,Is=null;function oD(t,e){var n=hs(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function LC(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wr=t,zr=Go(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wr=t,zr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fl!==null?{id:Ti,overflow:Ci}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=hs(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Wr=t,zr=null,!0):!1;default:return!1}}function Q0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Y0(t){if(Ut){var e=zr;if(e){var n=e;if(!LC(t,e)){if(Q0(t))throw Error(te(418));e=Go(n.nextSibling);var r=Wr;e&&LC(t,e)?oD(r,n):(t.flags=t.flags&-4097|2,Ut=!1,Wr=t)}}else{if(Q0(t))throw Error(te(418));t.flags=t.flags&-4097|2,Ut=!1,Wr=t}}}function VC(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wr=t}function Rp(t){if(t!==Wr)return!1;if(!Ut)return VC(t),Ut=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!W0(t.type,t.memoizedProps)),e&&(e=zr)){if(Q0(t))throw aD(),Error(te(418));for(;e;)oD(t,e),e=Go(e.nextSibling)}if(VC(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){zr=Go(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}zr=null}}else zr=Wr?Go(t.stateNode.nextSibling):null;return!0}function aD(){for(var t=zr;t;)t=Go(t.nextSibling)}function Yc(){zr=Wr=null,Ut=!1}function fE(t){Is===null?Is=[t]:Is.push(t)}var C5=no.ReactCurrentBatchConfig;function sd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var r=n.stateNode}if(!r)throw Error(te(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,t))}return t}function Ip(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function FC(t){var e=t._init;return e(t._payload)}function lD(t){function e(x,y){if(t){var b=x.deletions;b===null?(x.deletions=[y],x.flags|=16):b.push(y)}}function n(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function s(x,y){return x=Jo(x,y),x.index=0,x.sibling=null,x}function i(x,y,b){return x.index=b,t?(b=x.alternate,b!==null?(b=b.index,b<y?(x.flags|=2,y):b):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,y,b,C){return y===null||y.tag!==6?(y=yw(b,x.mode,C),y.return=x,y):(y=s(y,b),y.return=x,y)}function l(x,y,b,C){var P=b.type;return P===Zl?u(x,y,b.props.children,C,b.key):y!==null&&(y.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===xo&&FC(P)===y.type)?(C=s(y,b.props),C.ref=sd(x,y,b),C.return=x,C):(C=vm(b.type,b.key,b.props,null,x.mode,C),C.ref=sd(x,y,b),C.return=x,C)}function c(x,y,b,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=ww(b,x.mode,C),y.return=x,y):(y=s(y,b.children||[]),y.return=x,y)}function u(x,y,b,C,P){return y===null||y.tag!==7?(y=ll(b,x.mode,C,P),y.return=x,y):(y=s(y,b),y.return=x,y)}function h(x,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=yw(""+y,x.mode,b),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case yp:return b=vm(y.type,y.key,y.props,null,x.mode,b),b.ref=sd(x,null,y),b.return=x,b;case Jl:return y=ww(y,x.mode,b),y.return=x,y;case xo:var C=y._init;return h(x,C(y._payload),b)}if(wd(y)||Zu(y))return y=ll(y,x.mode,b,null),y.return=x,y;Ip(x,y)}return null}function p(x,y,b,C){var P=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return P!==null?null:a(x,y,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case yp:return b.key===P?l(x,y,b,C):null;case Jl:return b.key===P?c(x,y,b,C):null;case xo:return P=b._init,p(x,y,P(b._payload),C)}if(wd(b)||Zu(b))return P!==null?null:u(x,y,b,C,null);Ip(x,b)}return null}function g(x,y,b,C,P){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(b)||null,a(y,x,""+C,P);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case yp:return x=x.get(C.key===null?b:C.key)||null,l(y,x,C,P);case Jl:return x=x.get(C.key===null?b:C.key)||null,c(y,x,C,P);case xo:var O=C._init;return g(x,y,b,O(C._payload),P)}if(wd(C)||Zu(C))return x=x.get(b)||null,u(y,x,C,P,null);Ip(y,C)}return null}function w(x,y,b,C){for(var P=null,O=null,T=y,E=y=0,I=null;T!==null&&E<b.length;E++){T.index>E?(I=T,T=null):I=T.sibling;var R=p(x,T,b[E],C);if(R===null){T===null&&(T=I);break}t&&T&&R.alternate===null&&e(x,T),y=i(R,y,E),O===null?P=R:O.sibling=R,O=R,T=I}if(E===b.length)return n(x,T),Ut&&Fa(x,E),P;if(T===null){for(;E<b.length;E++)T=h(x,b[E],C),T!==null&&(y=i(T,y,E),O===null?P=T:O.sibling=T,O=T);return Ut&&Fa(x,E),P}for(T=r(x,T);E<b.length;E++)I=g(T,x,E,b[E],C),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?E:I.key),y=i(I,y,E),O===null?P=I:O.sibling=I,O=I);return t&&T.forEach(function(k){return e(x,k)}),Ut&&Fa(x,E),P}function v(x,y,b,C){var P=Zu(b);if(typeof P!="function")throw Error(te(150));if(b=P.call(b),b==null)throw Error(te(151));for(var O=P=null,T=y,E=y=0,I=null,R=b.next();T!==null&&!R.done;E++,R=b.next()){T.index>E?(I=T,T=null):I=T.sibling;var k=p(x,T,R.value,C);if(k===null){T===null&&(T=I);break}t&&T&&k.alternate===null&&e(x,T),y=i(k,y,E),O===null?P=k:O.sibling=k,O=k,T=I}if(R.done)return n(x,T),Ut&&Fa(x,E),P;if(T===null){for(;!R.done;E++,R=b.next())R=h(x,R.value,C),R!==null&&(y=i(R,y,E),O===null?P=R:O.sibling=R,O=R);return Ut&&Fa(x,E),P}for(T=r(x,T);!R.done;E++,R=b.next())R=g(T,x,E,R.value,C),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?E:R.key),y=i(R,y,E),O===null?P=R:O.sibling=R,O=R);return t&&T.forEach(function(M){return e(x,M)}),Ut&&Fa(x,E),P}function _(x,y,b,C){if(typeof b=="object"&&b!==null&&b.type===Zl&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case yp:e:{for(var P=b.key,O=y;O!==null;){if(O.key===P){if(P=b.type,P===Zl){if(O.tag===7){n(x,O.sibling),y=s(O,b.props.children),y.return=x,x=y;break e}}else if(O.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===xo&&FC(P)===O.type){n(x,O.sibling),y=s(O,b.props),y.ref=sd(x,O,b),y.return=x,x=y;break e}n(x,O);break}else e(x,O);O=O.sibling}b.type===Zl?(y=ll(b.props.children,x.mode,C,b.key),y.return=x,x=y):(C=vm(b.type,b.key,b.props,null,x.mode,C),C.ref=sd(x,y,b),C.return=x,x=C)}return o(x);case Jl:e:{for(O=b.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(x,y.sibling),y=s(y,b.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else e(x,y);y=y.sibling}y=ww(b,x.mode,C),y.return=x,x=y}return o(x);case xo:return O=b._init,_(x,y,O(b._payload),C)}if(wd(b))return w(x,y,b,C);if(Zu(b))return v(x,y,b,C);Ip(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(x,y.sibling),y=s(y,b),y.return=x,x=y):(n(x,y),y=yw(b,x.mode,C),y.return=x,x=y),o(x)):n(x,y)}return _}var Xc=lD(!0),cD=lD(!1),eg=wa(null),tg=null,ac=null,pE=null;function mE(){pE=ac=tg=null}function gE(t){var e=eg.current;jt(eg),t._currentValue=e}function X0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ec(t,e){tg=t,pE=ac=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Cr=!0),t.firstContext=null)}function gs(t){var e=t._currentValue;if(pE!==t)if(t={context:t,memoizedValue:e,next:null},ac===null){if(tg===null)throw Error(te(308));ac=t,tg.dependencies={lanes:0,firstContext:t}}else ac=ac.next=t;return e}var Ha=null;function vE(t){Ha===null?Ha=[t]:Ha.push(t)}function uD(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,vE(e)):(n.next=s.next,s.next=n),e.interleaved=n,Hi(t,r)}function Hi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _o=!1;function yE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ct&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Hi(t,n)}return s=r.interleaved,s===null?(e.next=e,vE(r)):(e.next=s.next,s.next=e),r.interleaved=e,Hi(t,n)}function dm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rE(t,n)}}function UC(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ng(t,e,n,r){var s=t.updateQueue;_o=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,u=c=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,v=a;switch(p=e,g=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){h=w.call(g,h,p);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,p=typeof w=="function"?w.call(g,h,p):w,p==null)break e;h=Gt({},h,p);break e;case 2:_o=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=g,l=h):u=u.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(u===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ml|=o,t.lanes=o,t.memoizedState=h}}function BC(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(te(191,s));s.call(r)}}}var pf={},ti=wa(pf),yh=wa(pf),wh=wa(pf);function qa(t){if(t===pf)throw Error(te(174));return t}function wE(t,e){switch(It(wh,e),It(yh,t),It(ti,pf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:N0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=N0(e,t)}jt(ti),It(ti,e)}function Jc(){jt(ti),jt(yh),jt(wh)}function hD(t){qa(wh.current);var e=qa(ti.current),n=N0(e,t.type);e!==n&&(It(yh,t),It(ti,n))}function xE(t){yh.current===t&&(jt(ti),jt(yh))}var Kt=wa(0);function rg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hw=[];function _E(){for(var t=0;t<hw.length;t++)hw[t]._workInProgressVersionPrimary=null;hw.length=0}var hm=no.ReactCurrentDispatcher,fw=no.ReactCurrentBatchConfig,pl=0,qt=null,xn=null,Nn=null,sg=!1,Ld=!1,xh=0,A5=0;function Yn(){throw Error(te(321))}function EE(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ls(t[n],e[n]))return!1;return!0}function bE(t,e,n,r,s,i){if(pl=i,qt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hm.current=t===null||t.memoizedState===null?N5:D5,t=n(r,s),Ld){i=0;do{if(Ld=!1,xh=0,25<=i)throw Error(te(301));i+=1,Nn=xn=null,e.updateQueue=null,hm.current=k5,t=n(r,s)}while(Ld)}if(hm.current=ig,e=xn!==null&&xn.next!==null,pl=0,Nn=xn=qt=null,sg=!1,e)throw Error(te(300));return t}function SE(){var t=xh!==0;return xh=0,t}function Ks(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?qt.memoizedState=Nn=t:Nn=Nn.next=t,Nn}function vs(){if(xn===null){var t=qt.alternate;t=t!==null?t.memoizedState:null}else t=xn.next;var e=Nn===null?qt.memoizedState:Nn.next;if(e!==null)Nn=e,xn=t;else{if(t===null)throw Error(te(310));xn=t,t={memoizedState:xn.memoizedState,baseState:xn.baseState,baseQueue:xn.baseQueue,queue:xn.queue,next:null},Nn===null?qt.memoizedState=Nn=t:Nn=Nn.next=t}return Nn}function _h(t,e){return typeof e=="function"?e(t):e}function pw(t){var e=vs(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=xn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((pl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,qt.lanes|=u,ml|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Ls(r,e.memoizedState)||(Cr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,qt.lanes|=i,ml|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function mw(t){var e=vs(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Ls(i,e.memoizedState)||(Cr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function fD(){}function pD(t,e){var n=qt,r=vs(),s=e(),i=!Ls(r.memoizedState,s);if(i&&(r.memoizedState=s,Cr=!0),r=r.queue,TE(vD.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Nn!==null&&Nn.memoizedState.tag&1){if(n.flags|=2048,Eh(9,gD.bind(null,n,r,s,e),void 0,null),kn===null)throw Error(te(349));pl&30||mD(n,e,s)}return s}function mD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=qt.updateQueue,e===null?(e={lastEffect:null,stores:null},qt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function gD(t,e,n,r){e.value=n,e.getSnapshot=r,yD(e)&&wD(t)}function vD(t,e,n){return n(function(){yD(e)&&wD(t)})}function yD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ls(t,n)}catch{return!0}}function wD(t){var e=Hi(t,1);e!==null&&Os(e,t,1,-1)}function $C(t){var e=Ks();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_h,lastRenderedState:t},e.queue=t,t=t.dispatch=P5.bind(null,qt,t),[e.memoizedState,t]}function Eh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=qt.updateQueue,e===null?(e={lastEffect:null,stores:null},qt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function xD(){return vs().memoizedState}function fm(t,e,n,r){var s=Ks();qt.flags|=t,s.memoizedState=Eh(1|e,n,void 0,r===void 0?null:r)}function mv(t,e,n,r){var s=vs();r=r===void 0?null:r;var i=void 0;if(xn!==null){var o=xn.memoizedState;if(i=o.destroy,r!==null&&EE(r,o.deps)){s.memoizedState=Eh(e,n,i,r);return}}qt.flags|=t,s.memoizedState=Eh(1|e,n,i,r)}function zC(t,e){return fm(8390656,8,t,e)}function TE(t,e){return mv(2048,8,t,e)}function _D(t,e){return mv(4,2,t,e)}function ED(t,e){return mv(4,4,t,e)}function bD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function SD(t,e,n){return n=n!=null?n.concat([t]):null,mv(4,4,bD.bind(null,e,t),n)}function CE(){}function TD(t,e){var n=vs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&EE(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function CD(t,e){var n=vs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&EE(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function AD(t,e,n){return pl&21?(Ls(n,e)||(n=DN(),qt.lanes|=n,ml|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Cr=!0),t.memoizedState=n)}function R5(t,e){var n=xt;xt=n!==0&&4>n?n:4,t(!0);var r=fw.transition;fw.transition={};try{t(!1),e()}finally{xt=n,fw.transition=r}}function RD(){return vs().memoizedState}function I5(t,e,n){var r=Xo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ID(t))PD(e,n);else if(n=uD(t,e,n,r),n!==null){var s=mr();Os(n,t,r,s),ND(n,e,r)}}function P5(t,e,n){var r=Xo(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ID(t))PD(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Ls(a,o)){var l=e.interleaved;l===null?(s.next=s,vE(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=uD(t,e,s,r),n!==null&&(s=mr(),Os(n,t,r,s),ND(n,e,r))}}function ID(t){var e=t.alternate;return t===qt||e!==null&&e===qt}function PD(t,e){Ld=sg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ND(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rE(t,n)}}var ig={readContext:gs,useCallback:Yn,useContext:Yn,useEffect:Yn,useImperativeHandle:Yn,useInsertionEffect:Yn,useLayoutEffect:Yn,useMemo:Yn,useReducer:Yn,useRef:Yn,useState:Yn,useDebugValue:Yn,useDeferredValue:Yn,useTransition:Yn,useMutableSource:Yn,useSyncExternalStore:Yn,useId:Yn,unstable_isNewReconciler:!1},N5={readContext:gs,useCallback:function(t,e){return Ks().memoizedState=[t,e===void 0?null:e],t},useContext:gs,useEffect:zC,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,fm(4194308,4,bD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return fm(4194308,4,t,e)},useInsertionEffect:function(t,e){return fm(4,2,t,e)},useMemo:function(t,e){var n=Ks();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ks();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=I5.bind(null,qt,t),[r.memoizedState,t]},useRef:function(t){var e=Ks();return t={current:t},e.memoizedState=t},useState:$C,useDebugValue:CE,useDeferredValue:function(t){return Ks().memoizedState=t},useTransition:function(){var t=$C(!1),e=t[0];return t=R5.bind(null,t[1]),Ks().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=qt,s=Ks();if(Ut){if(n===void 0)throw Error(te(407));n=n()}else{if(n=e(),kn===null)throw Error(te(349));pl&30||mD(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,zC(vD.bind(null,r,i,t),[t]),r.flags|=2048,Eh(9,gD.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Ks(),e=kn.identifierPrefix;if(Ut){var n=Ci,r=Ti;n=(r&~(1<<32-Ms(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=xh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=A5++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},D5={readContext:gs,useCallback:TD,useContext:gs,useEffect:TE,useImperativeHandle:SD,useInsertionEffect:_D,useLayoutEffect:ED,useMemo:CD,useReducer:pw,useRef:xD,useState:function(){return pw(_h)},useDebugValue:CE,useDeferredValue:function(t){var e=vs();return AD(e,xn.memoizedState,t)},useTransition:function(){var t=pw(_h)[0],e=vs().memoizedState;return[t,e]},useMutableSource:fD,useSyncExternalStore:pD,useId:RD,unstable_isNewReconciler:!1},k5={readContext:gs,useCallback:TD,useContext:gs,useEffect:TE,useImperativeHandle:SD,useInsertionEffect:_D,useLayoutEffect:ED,useMemo:CD,useReducer:mw,useRef:xD,useState:function(){return mw(_h)},useDebugValue:CE,useDeferredValue:function(t){var e=vs();return xn===null?e.memoizedState=t:AD(e,xn.memoizedState,t)},useTransition:function(){var t=mw(_h)[0],e=vs().memoizedState;return[t,e]},useMutableSource:fD,useSyncExternalStore:pD,useId:RD,unstable_isNewReconciler:!1};function Ts(t,e){if(t&&t.defaultProps){e=Gt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function J0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Gt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gv={isMounted:function(t){return(t=t._reactInternals)?Il(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=mr(),s=Xo(t),i=Mi(r,s);i.payload=e,n!=null&&(i.callback=n),e=Qo(t,i,s),e!==null&&(Os(e,t,s,r),dm(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=mr(),s=Xo(t),i=Mi(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Qo(t,i,s),e!==null&&(Os(e,t,s,r),dm(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=mr(),r=Xo(t),s=Mi(n,r);s.tag=2,e!=null&&(s.callback=e),e=Qo(t,s,r),e!==null&&(Os(e,t,r,n),dm(e,t,r))}};function KC(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!ph(n,r)||!ph(s,i):!0}function DD(t,e,n){var r=!1,s=sa,i=e.contextType;return typeof i=="object"&&i!==null?i=gs(i):(s=Pr(e)?hl:or.current,r=e.contextTypes,i=(r=r!=null)?Qc(t,s):sa),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function WC(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&gv.enqueueReplaceState(e,e.state,null)}function Z0(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},yE(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=gs(i):(i=Pr(e)?hl:or.current,s.context=Qc(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(J0(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&gv.enqueueReplaceState(s,s.state,null),ng(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Zc(t,e){try{var n="",r=e;do n+=az(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function gw(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ex(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var M5=typeof WeakMap=="function"?WeakMap:Map;function kD(t,e,n){n=Mi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ag||(ag=!0,ux=r),ex(t,e)},n}function MD(t,e,n){n=Mi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ex(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ex(t,e),typeof r!="function"&&(Yo===null?Yo=new Set([this]):Yo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function HC(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new M5;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=G5.bind(null,t,e,n),e.then(t,t))}function qC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function GC(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Mi(-1,1),e.tag=2,Qo(n,e,1))),n.lanes|=1),t)}var O5=no.ReactCurrentOwner,Cr=!1;function fr(t,e,n,r){e.child=t===null?cD(e,null,n,r):Xc(e,t.child,n,r)}function QC(t,e,n,r,s){n=n.render;var i=e.ref;return Ec(e,s),r=bE(t,e,n,r,i,s),n=SE(),t!==null&&!Cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,qi(t,e,s)):(Ut&&n&&dE(e),e.flags|=1,fr(t,e,r,s),e.child)}function YC(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!ME(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,OD(t,e,i,r,s)):(t=vm(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ph,n(o,r)&&t.ref===e.ref)return qi(t,e,s)}return e.flags|=1,t=Jo(i,r),t.ref=e.ref,t.return=e,e.child=t}function OD(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ph(i,r)&&t.ref===e.ref)if(Cr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Cr=!0);else return e.lanes=t.lanes,qi(t,e,s)}return tx(t,e,n,r,s)}function jD(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},It(cc,Ur),Ur|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,It(cc,Ur),Ur|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,It(cc,Ur),Ur|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,It(cc,Ur),Ur|=r;return fr(t,e,s,n),e.child}function LD(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function tx(t,e,n,r,s){var i=Pr(n)?hl:or.current;return i=Qc(e,i),Ec(e,s),n=bE(t,e,n,r,i,s),r=SE(),t!==null&&!Cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,qi(t,e,s)):(Ut&&r&&dE(e),e.flags|=1,fr(t,e,n,s),e.child)}function XC(t,e,n,r,s){if(Pr(n)){var i=!0;Xm(e)}else i=!1;if(Ec(e,s),e.stateNode===null)pm(t,e),DD(e,n,r),Z0(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=gs(c):(c=Pr(n)?hl:or.current,c=Qc(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&WC(e,o,r,c),_o=!1;var p=e.memoizedState;o.state=p,ng(e,r,o,s),l=e.memoizedState,a!==r||p!==l||Ir.current||_o?(typeof u=="function"&&(J0(e,n,u,r),l=e.memoizedState),(a=_o||KC(e,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,dD(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ts(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=gs(l):(l=Pr(n)?hl:or.current,l=Qc(e,l));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&WC(e,o,r,l),_o=!1,p=e.memoizedState,o.state=p,ng(e,r,o,s);var w=e.memoizedState;a!==h||p!==w||Ir.current||_o?(typeof g=="function"&&(J0(e,n,g,r),w=e.memoizedState),(c=_o||KC(e,n,c,r,p,w,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return nx(t,e,n,r,i,s)}function nx(t,e,n,r,s,i){LD(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&jC(e,n,!1),qi(t,e,i);r=e.stateNode,O5.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Xc(e,t.child,null,i),e.child=Xc(e,null,a,i)):fr(t,e,a,i),e.memoizedState=r.state,s&&jC(e,n,!0),e.child}function VD(t){var e=t.stateNode;e.pendingContext?OC(t,e.pendingContext,e.pendingContext!==e.context):e.context&&OC(t,e.context,!1),wE(t,e.containerInfo)}function JC(t,e,n,r,s){return Yc(),fE(s),e.flags|=256,fr(t,e,n,r),e.child}var rx={dehydrated:null,treeContext:null,retryLane:0};function sx(t){return{baseLanes:t,cachePool:null,transitions:null}}function FD(t,e,n){var r=e.pendingProps,s=Kt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),It(Kt,s&1),t===null)return Y0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=wv(o,r,0,null),t=ll(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=sx(n),e.memoizedState=rx,t):AE(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return j5(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Jo(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Jo(a,i):(i=ll(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?sx(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=rx,r}return i=t.child,t=i.sibling,r=Jo(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function AE(t,e){return e=wv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pp(t,e,n,r){return r!==null&&fE(r),Xc(e,t.child,null,n),t=AE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function j5(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=gw(Error(te(422))),Pp(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=wv({mode:"visible",children:r.children},s,0,null),i=ll(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Xc(e,t.child,null,o),e.child.memoizedState=sx(o),e.memoizedState=rx,i);if(!(e.mode&1))return Pp(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(te(419)),r=gw(i,r,void 0),Pp(t,e,o,r)}if(a=(o&t.childLanes)!==0,Cr||a){if(r=kn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Hi(t,s),Os(r,t,s,-1))}return kE(),r=gw(Error(te(421))),Pp(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Q5.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,zr=Go(s.nextSibling),Wr=e,Ut=!0,Is=null,t!==null&&(cs[us++]=Ti,cs[us++]=Ci,cs[us++]=fl,Ti=t.id,Ci=t.overflow,fl=e),e=AE(e,r.children),e.flags|=4096,e)}function ZC(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),X0(t.return,e,n)}function vw(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function UD(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(fr(t,e,r.children,n),r=Kt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ZC(t,n,e);else if(t.tag===19)ZC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(It(Kt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&rg(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),vw(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&rg(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}vw(e,!0,n,null,i);break;case"together":vw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ml|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,n=Jo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Jo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function L5(t,e,n){switch(e.tag){case 3:VD(e),Yc();break;case 5:hD(e);break;case 1:Pr(e.type)&&Xm(e);break;case 4:wE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;It(eg,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(It(Kt,Kt.current&1),e.flags|=128,null):n&e.child.childLanes?FD(t,e,n):(It(Kt,Kt.current&1),t=qi(t,e,n),t!==null?t.sibling:null);It(Kt,Kt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return UD(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),It(Kt,Kt.current),r)break;return null;case 22:case 23:return e.lanes=0,jD(t,e,n)}return qi(t,e,n)}var BD,ix,$D,zD;BD=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ix=function(){};$D=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,qa(ti.current);var i=null;switch(n){case"input":s=A0(t,s),r=A0(t,r),i=[];break;case"select":s=Gt({},s,{value:void 0}),r=Gt({},r,{value:void 0}),i=[];break;case"textarea":s=P0(t,s),r=P0(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Qm)}D0(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ah.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ah.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ot("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};zD=function(t,e,n,r){n!==r&&(e.flags|=4)};function id(t,e){if(!Ut)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function V5(t,e,n){var r=e.pendingProps;switch(hE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xn(e),null;case 1:return Pr(e.type)&&Ym(),Xn(e),null;case 3:return r=e.stateNode,Jc(),jt(Ir),jt(or),_E(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Rp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Is!==null&&(fx(Is),Is=null))),ix(t,e),Xn(e),null;case 5:xE(e);var s=qa(wh.current);if(n=e.type,t!==null&&e.stateNode!=null)$D(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(te(166));return Xn(e),null}if(t=qa(ti.current),Rp(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Qs]=e,r[vh]=i,t=(e.mode&1)!==0,n){case"dialog":Ot("cancel",r),Ot("close",r);break;case"iframe":case"object":case"embed":Ot("load",r);break;case"video":case"audio":for(s=0;s<_d.length;s++)Ot(_d[s],r);break;case"source":Ot("error",r);break;case"img":case"image":case"link":Ot("error",r),Ot("load",r);break;case"details":Ot("toggle",r);break;case"input":lC(r,i),Ot("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ot("invalid",r);break;case"textarea":uC(r,i),Ot("invalid",r)}D0(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ap(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ap(r.textContent,a,t),s=["children",""+a]):ah.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ot("scroll",r)}switch(n){case"input":wp(r),cC(r,i,!0);break;case"textarea":wp(r),dC(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Qm)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=vN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Qs]=e,t[vh]=r,BD(t,e,!1,!1),e.stateNode=t;e:{switch(o=k0(n,r),n){case"dialog":Ot("cancel",t),Ot("close",t),s=r;break;case"iframe":case"object":case"embed":Ot("load",t),s=r;break;case"video":case"audio":for(s=0;s<_d.length;s++)Ot(_d[s],t);s=r;break;case"source":Ot("error",t),s=r;break;case"img":case"image":case"link":Ot("error",t),Ot("load",t),s=r;break;case"details":Ot("toggle",t),s=r;break;case"input":lC(t,r),s=A0(t,r),Ot("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Gt({},r,{value:void 0}),Ot("invalid",t);break;case"textarea":uC(t,r),s=P0(t,r),Ot("invalid",t);break;default:s=r}D0(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?xN(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&yN(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&lh(t,l):typeof l=="number"&&lh(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ah.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ot("scroll",t):l!=null&&X_(t,i,l,o))}switch(n){case"input":wp(t),cC(t,r,!1);break;case"textarea":wp(t),dC(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ra(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?yc(t,!!r.multiple,i,!1):r.defaultValue!=null&&yc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Qm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xn(e),null;case 6:if(t&&e.stateNode!=null)zD(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(te(166));if(n=qa(wh.current),qa(ti.current),Rp(e)){if(r=e.stateNode,n=e.memoizedProps,r[Qs]=e,(i=r.nodeValue!==n)&&(t=Wr,t!==null))switch(t.tag){case 3:Ap(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ap(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qs]=e,e.stateNode=r}return Xn(e),null;case 13:if(jt(Kt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ut&&zr!==null&&e.mode&1&&!(e.flags&128))aD(),Yc(),e.flags|=98560,i=!1;else if(i=Rp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(te(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(te(317));i[Qs]=e}else Yc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xn(e),i=!1}else Is!==null&&(fx(Is),Is=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Kt.current&1?Sn===0&&(Sn=3):kE())),e.updateQueue!==null&&(e.flags|=4),Xn(e),null);case 4:return Jc(),ix(t,e),t===null&&mh(e.stateNode.containerInfo),Xn(e),null;case 10:return gE(e.type._context),Xn(e),null;case 17:return Pr(e.type)&&Ym(),Xn(e),null;case 19:if(jt(Kt),i=e.memoizedState,i===null)return Xn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)id(i,!1);else{if(Sn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=rg(t),o!==null){for(e.flags|=128,id(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return It(Kt,Kt.current&1|2),e.child}t=t.sibling}i.tail!==null&&an()>eu&&(e.flags|=128,r=!0,id(i,!1),e.lanes=4194304)}else{if(!r)if(t=rg(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),id(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ut)return Xn(e),null}else 2*an()-i.renderingStartTime>eu&&n!==1073741824&&(e.flags|=128,r=!0,id(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=an(),e.sibling=null,n=Kt.current,It(Kt,r?n&1|2:n&1),e):(Xn(e),null);case 22:case 23:return DE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ur&1073741824&&(Xn(e),e.subtreeFlags&6&&(e.flags|=8192)):Xn(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function F5(t,e){switch(hE(e),e.tag){case 1:return Pr(e.type)&&Ym(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Jc(),jt(Ir),jt(or),_E(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xE(e),null;case 13:if(jt(Kt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));Yc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return jt(Kt),null;case 4:return Jc(),null;case 10:return gE(e.type._context),null;case 22:case 23:return DE(),null;case 24:return null;default:return null}}var Np=!1,nr=!1,U5=typeof WeakSet=="function"?WeakSet:Set,ge=null;function lc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Zt(t,e,r)}else n.current=null}function ox(t,e,n){try{n()}catch(r){Zt(t,e,r)}}var eA=!1;function B5(t,e){if(z0=Hm,t=GN(),uE(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,p=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++u===r&&(l=o),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(K0={focusedElem:t,selectionRange:n},Hm=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){e=ge;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,_=w.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:Ts(e.type,v),_);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(C){Zt(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}return w=eA,eA=!1,w}function Vd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ox(e,n,i)}s=s.next}while(s!==r)}}function vv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ax(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function KD(t){var e=t.alternate;e!==null&&(t.alternate=null,KD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Qs],delete e[vh],delete e[q0],delete e[b5],delete e[S5])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function WD(t){return t.tag===5||t.tag===3||t.tag===4}function tA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||WD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qm));else if(r!==4&&(t=t.child,t!==null))for(lx(t,e,n),t=t.sibling;t!==null;)lx(t,e,n),t=t.sibling}function cx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(cx(t,e,n),t=t.sibling;t!==null;)cx(t,e,n),t=t.sibling}var Vn=null,As=!1;function ho(t,e,n){for(n=n.child;n!==null;)HD(t,e,n),n=n.sibling}function HD(t,e,n){if(ei&&typeof ei.onCommitFiberUnmount=="function")try{ei.onCommitFiberUnmount(cv,n)}catch{}switch(n.tag){case 5:nr||lc(n,e);case 6:var r=Vn,s=As;Vn=null,ho(t,e,n),Vn=r,As=s,Vn!==null&&(As?(t=Vn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Vn.removeChild(n.stateNode));break;case 18:Vn!==null&&(As?(t=Vn,n=n.stateNode,t.nodeType===8?uw(t.parentNode,n):t.nodeType===1&&uw(t,n),hh(t)):uw(Vn,n.stateNode));break;case 4:r=Vn,s=As,Vn=n.stateNode.containerInfo,As=!0,ho(t,e,n),Vn=r,As=s;break;case 0:case 11:case 14:case 15:if(!nr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ox(n,e,o),s=s.next}while(s!==r)}ho(t,e,n);break;case 1:if(!nr&&(lc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Zt(n,e,a)}ho(t,e,n);break;case 21:ho(t,e,n);break;case 22:n.mode&1?(nr=(r=nr)||n.memoizedState!==null,ho(t,e,n),nr=r):ho(t,e,n);break;default:ho(t,e,n)}}function nA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new U5),e.forEach(function(r){var s=Y5.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function bs(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Vn=a.stateNode,As=!1;break e;case 3:Vn=a.stateNode.containerInfo,As=!0;break e;case 4:Vn=a.stateNode.containerInfo,As=!0;break e}a=a.return}if(Vn===null)throw Error(te(160));HD(i,o,s),Vn=null,As=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Zt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qD(e,t),e=e.sibling}function qD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(bs(e,t),zs(t),r&4){try{Vd(3,t,t.return),vv(3,t)}catch(v){Zt(t,t.return,v)}try{Vd(5,t,t.return)}catch(v){Zt(t,t.return,v)}}break;case 1:bs(e,t),zs(t),r&512&&n!==null&&lc(n,n.return);break;case 5:if(bs(e,t),zs(t),r&512&&n!==null&&lc(n,n.return),t.flags&32){var s=t.stateNode;try{lh(s,"")}catch(v){Zt(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&mN(s,i),k0(a,o);var c=k0(a,i);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?xN(s,h):u==="dangerouslySetInnerHTML"?yN(s,h):u==="children"?lh(s,h):X_(s,u,h,c)}switch(a){case"input":R0(s,i);break;case"textarea":gN(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?yc(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?yc(s,!!i.multiple,i.defaultValue,!0):yc(s,!!i.multiple,i.multiple?[]:"",!1))}s[vh]=i}catch(v){Zt(t,t.return,v)}}break;case 6:if(bs(e,t),zs(t),r&4){if(t.stateNode===null)throw Error(te(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){Zt(t,t.return,v)}}break;case 3:if(bs(e,t),zs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hh(e.containerInfo)}catch(v){Zt(t,t.return,v)}break;case 4:bs(e,t),zs(t);break;case 13:bs(e,t),zs(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(PE=an())),r&4&&nA(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(nr=(c=nr)||u,bs(e,t),nr=c):bs(e,t),zs(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ge=t,u=t.child;u!==null;){for(h=ge=u;ge!==null;){switch(p=ge,g=p.child,p.tag){case 0:case 11:case 14:case 15:Vd(4,p,p.return);break;case 1:lc(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(v){Zt(r,n,v)}}break;case 5:lc(p,p.return);break;case 22:if(p.memoizedState!==null){sA(h);continue}}g!==null?(g.return=p,ge=g):sA(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=wN("display",o))}catch(v){Zt(t,t.return,v)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){Zt(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:bs(e,t),zs(t),r&4&&nA(t);break;case 21:break;default:bs(e,t),zs(t)}}function zs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(WD(n)){var r=n;break e}n=n.return}throw Error(te(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(lh(s,""),r.flags&=-33);var i=tA(t);cx(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=tA(t);lx(t,a,o);break;default:throw Error(te(161))}}catch(l){Zt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $5(t,e,n){ge=t,GD(t)}function GD(t,e,n){for(var r=(t.mode&1)!==0;ge!==null;){var s=ge,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Np;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||nr;a=Np;var c=nr;if(Np=o,(nr=l)&&!c)for(ge=s;ge!==null;)o=ge,l=o.child,o.tag===22&&o.memoizedState!==null?iA(s):l!==null?(l.return=o,ge=l):iA(s);for(;i!==null;)ge=i,GD(i),i=i.sibling;ge=s,Np=a,nr=c}rA(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ge=i):rA(t)}}function rA(t){for(;ge!==null;){var e=ge;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nr||vv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!nr)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ts(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&BC(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}BC(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&hh(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}nr||e.flags&512&&ax(e)}catch(p){Zt(e,e.return,p)}}if(e===t){ge=null;break}if(n=e.sibling,n!==null){n.return=e.return,ge=n;break}ge=e.return}}function sA(t){for(;ge!==null;){var e=ge;if(e===t){ge=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ge=n;break}ge=e.return}}function iA(t){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{vv(4,e)}catch(l){Zt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Zt(e,s,l)}}var i=e.return;try{ax(e)}catch(l){Zt(e,i,l)}break;case 5:var o=e.return;try{ax(e)}catch(l){Zt(e,o,l)}}}catch(l){Zt(e,e.return,l)}if(e===t){ge=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ge=a;break}ge=e.return}}var z5=Math.ceil,og=no.ReactCurrentDispatcher,RE=no.ReactCurrentOwner,fs=no.ReactCurrentBatchConfig,ct=0,kn=null,fn=null,$n=0,Ur=0,cc=wa(0),Sn=0,bh=null,ml=0,yv=0,IE=0,Fd=null,Tr=null,PE=0,eu=1/0,Ei=null,ag=!1,ux=null,Yo=null,Dp=!1,Bo=null,lg=0,Ud=0,dx=null,mm=-1,gm=0;function mr(){return ct&6?an():mm!==-1?mm:mm=an()}function Xo(t){return t.mode&1?ct&2&&$n!==0?$n&-$n:C5.transition!==null?(gm===0&&(gm=DN()),gm):(t=xt,t!==0||(t=window.event,t=t===void 0?16:FN(t.type)),t):1}function Os(t,e,n,r){if(50<Ud)throw Ud=0,dx=null,Error(te(185));df(t,n,r),(!(ct&2)||t!==kn)&&(t===kn&&(!(ct&2)&&(yv|=n),Sn===4&&So(t,$n)),Nr(t,r),n===1&&ct===0&&!(e.mode&1)&&(eu=an()+500,pv&&xa()))}function Nr(t,e){var n=t.callbackNode;Cz(t,e);var r=Wm(t,t===kn?$n:0);if(r===0)n!==null&&pC(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&pC(n),e===1)t.tag===0?T5(oA.bind(null,t)):sD(oA.bind(null,t)),_5(function(){!(ct&6)&&xa()}),n=null;else{switch(kN(r)){case 1:n=nE;break;case 4:n=PN;break;case 16:n=Km;break;case 536870912:n=NN;break;default:n=Km}n=nk(n,QD.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function QD(t,e){if(mm=-1,gm=0,ct&6)throw Error(te(327));var n=t.callbackNode;if(bc()&&t.callbackNode!==n)return null;var r=Wm(t,t===kn?$n:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=cg(t,r);else{e=r;var s=ct;ct|=2;var i=XD();(kn!==t||$n!==e)&&(Ei=null,eu=an()+500,al(t,e));do try{H5();break}catch(a){YD(t,a)}while(!0);mE(),og.current=i,ct=s,fn!==null?e=0:(kn=null,$n=0,e=Sn)}if(e!==0){if(e===2&&(s=V0(t),s!==0&&(r=s,e=hx(t,s))),e===1)throw n=bh,al(t,0),So(t,r),Nr(t,an()),n;if(e===6)So(t,r);else{if(s=t.current.alternate,!(r&30)&&!K5(s)&&(e=cg(t,r),e===2&&(i=V0(t),i!==0&&(r=i,e=hx(t,i))),e===1))throw n=bh,al(t,0),So(t,r),Nr(t,an()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(te(345));case 2:Ua(t,Tr,Ei);break;case 3:if(So(t,r),(r&130023424)===r&&(e=PE+500-an(),10<e)){if(Wm(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){mr(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=H0(Ua.bind(null,t,Tr,Ei),e);break}Ua(t,Tr,Ei);break;case 4:if(So(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Ms(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=an()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*z5(r/1960))-r,10<r){t.timeoutHandle=H0(Ua.bind(null,t,Tr,Ei),r);break}Ua(t,Tr,Ei);break;case 5:Ua(t,Tr,Ei);break;default:throw Error(te(329))}}}return Nr(t,an()),t.callbackNode===n?QD.bind(null,t):null}function hx(t,e){var n=Fd;return t.current.memoizedState.isDehydrated&&(al(t,e).flags|=256),t=cg(t,e),t!==2&&(e=Tr,Tr=n,e!==null&&fx(e)),t}function fx(t){Tr===null?Tr=t:Tr.push.apply(Tr,t)}function K5(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ls(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function So(t,e){for(e&=~IE,e&=~yv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ms(e),r=1<<n;t[n]=-1,e&=~r}}function oA(t){if(ct&6)throw Error(te(327));bc();var e=Wm(t,0);if(!(e&1))return Nr(t,an()),null;var n=cg(t,e);if(t.tag!==0&&n===2){var r=V0(t);r!==0&&(e=r,n=hx(t,r))}if(n===1)throw n=bh,al(t,0),So(t,e),Nr(t,an()),n;if(n===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ua(t,Tr,Ei),Nr(t,an()),null}function NE(t,e){var n=ct;ct|=1;try{return t(e)}finally{ct=n,ct===0&&(eu=an()+500,pv&&xa())}}function gl(t){Bo!==null&&Bo.tag===0&&!(ct&6)&&bc();var e=ct;ct|=1;var n=fs.transition,r=xt;try{if(fs.transition=null,xt=1,t)return t()}finally{xt=r,fs.transition=n,ct=e,!(ct&6)&&xa()}}function DE(){Ur=cc.current,jt(cc)}function al(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,x5(n)),fn!==null)for(n=fn.return;n!==null;){var r=n;switch(hE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ym();break;case 3:Jc(),jt(Ir),jt(or),_E();break;case 5:xE(r);break;case 4:Jc();break;case 13:jt(Kt);break;case 19:jt(Kt);break;case 10:gE(r.type._context);break;case 22:case 23:DE()}n=n.return}if(kn=t,fn=t=Jo(t.current,null),$n=Ur=e,Sn=0,bh=null,IE=yv=ml=0,Tr=Fd=null,Ha!==null){for(e=0;e<Ha.length;e++)if(n=Ha[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ha=null}return t}function YD(t,e){do{var n=fn;try{if(mE(),hm.current=ig,sg){for(var r=qt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}sg=!1}if(pl=0,Nn=xn=qt=null,Ld=!1,xh=0,RE.current=null,n===null||n.return===null){Sn=1,bh=e,fn=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=$n,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=qC(o);if(g!==null){g.flags&=-257,GC(g,o,a,i,e),g.mode&1&&HC(i,c,e),e=g,l=c;var w=e.updateQueue;if(w===null){var v=new Set;v.add(l),e.updateQueue=v}else w.add(l);break e}else{if(!(e&1)){HC(i,c,e),kE();break e}l=Error(te(426))}}else if(Ut&&a.mode&1){var _=qC(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),GC(_,o,a,i,e),fE(Zc(l,a));break e}}i=l=Zc(l,a),Sn!==4&&(Sn=2),Fd===null?Fd=[i]:Fd.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=kD(i,l,e);UC(i,x);break e;case 1:a=l;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Yo===null||!Yo.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=MD(i,a,e);UC(i,C);break e}}i=i.return}while(i!==null)}ZD(n)}catch(P){e=P,fn===n&&n!==null&&(fn=n=n.return);continue}break}while(!0)}function XD(){var t=og.current;return og.current=ig,t===null?ig:t}function kE(){(Sn===0||Sn===3||Sn===2)&&(Sn=4),kn===null||!(ml&268435455)&&!(yv&268435455)||So(kn,$n)}function cg(t,e){var n=ct;ct|=2;var r=XD();(kn!==t||$n!==e)&&(Ei=null,al(t,e));do try{W5();break}catch(s){YD(t,s)}while(!0);if(mE(),ct=n,og.current=r,fn!==null)throw Error(te(261));return kn=null,$n=0,Sn}function W5(){for(;fn!==null;)JD(fn)}function H5(){for(;fn!==null&&!vz();)JD(fn)}function JD(t){var e=tk(t.alternate,t,Ur);t.memoizedProps=t.pendingProps,e===null?ZD(t):fn=e,RE.current=null}function ZD(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=F5(n,e),n!==null){n.flags&=32767,fn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Sn=6,fn=null;return}}else if(n=V5(n,e,Ur),n!==null){fn=n;return}if(e=e.sibling,e!==null){fn=e;return}fn=e=t}while(e!==null);Sn===0&&(Sn=5)}function Ua(t,e,n){var r=xt,s=fs.transition;try{fs.transition=null,xt=1,q5(t,e,n,r)}finally{fs.transition=s,xt=r}return null}function q5(t,e,n,r){do bc();while(Bo!==null);if(ct&6)throw Error(te(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Az(t,i),t===kn&&(fn=kn=null,$n=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Dp||(Dp=!0,nk(Km,function(){return bc(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=fs.transition,fs.transition=null;var o=xt;xt=1;var a=ct;ct|=4,RE.current=null,B5(t,n),qD(n,t),f5(K0),Hm=!!z0,K0=z0=null,t.current=n,$5(n),yz(),ct=a,xt=o,fs.transition=i}else t.current=n;if(Dp&&(Dp=!1,Bo=t,lg=s),i=t.pendingLanes,i===0&&(Yo=null),_z(n.stateNode),Nr(t,an()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ag)throw ag=!1,t=ux,ux=null,t;return lg&1&&t.tag!==0&&bc(),i=t.pendingLanes,i&1?t===dx?Ud++:(Ud=0,dx=t):Ud=0,xa(),null}function bc(){if(Bo!==null){var t=kN(lg),e=fs.transition,n=xt;try{if(fs.transition=null,xt=16>t?16:t,Bo===null)var r=!1;else{if(t=Bo,Bo=null,lg=0,ct&6)throw Error(te(331));var s=ct;for(ct|=4,ge=t.current;ge!==null;){var i=ge,o=i.child;if(ge.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ge=c;ge!==null;){var u=ge;switch(u.tag){case 0:case 11:case 15:Vd(8,u,i)}var h=u.child;if(h!==null)h.return=u,ge=h;else for(;ge!==null;){u=ge;var p=u.sibling,g=u.return;if(KD(u),u===c){ge=null;break}if(p!==null){p.return=g,ge=p;break}ge=g}}}var w=i.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}ge=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ge=o;else e:for(;ge!==null;){if(i=ge,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Vd(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,ge=x;break e}ge=i.return}}var y=t.current;for(ge=y;ge!==null;){o=ge;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ge=b;else e:for(o=y;ge!==null;){if(a=ge,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:vv(9,a)}}catch(P){Zt(a,a.return,P)}if(a===o){ge=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,ge=C;break e}ge=a.return}}if(ct=s,xa(),ei&&typeof ei.onPostCommitFiberRoot=="function")try{ei.onPostCommitFiberRoot(cv,t)}catch{}r=!0}return r}finally{xt=n,fs.transition=e}}return!1}function aA(t,e,n){e=Zc(n,e),e=kD(t,e,1),t=Qo(t,e,1),e=mr(),t!==null&&(df(t,1,e),Nr(t,e))}function Zt(t,e,n){if(t.tag===3)aA(t,t,n);else for(;e!==null;){if(e.tag===3){aA(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yo===null||!Yo.has(r))){t=Zc(n,t),t=MD(e,t,1),e=Qo(e,t,1),t=mr(),e!==null&&(df(e,1,t),Nr(e,t));break}}e=e.return}}function G5(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=mr(),t.pingedLanes|=t.suspendedLanes&n,kn===t&&($n&n)===n&&(Sn===4||Sn===3&&($n&130023424)===$n&&500>an()-PE?al(t,0):IE|=n),Nr(t,e)}function ek(t,e){e===0&&(t.mode&1?(e=Ep,Ep<<=1,!(Ep&130023424)&&(Ep=4194304)):e=1);var n=mr();t=Hi(t,e),t!==null&&(df(t,e,n),Nr(t,n))}function Q5(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ek(t,n)}function Y5(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(te(314))}r!==null&&r.delete(e),ek(t,n)}var tk;tk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ir.current)Cr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Cr=!1,L5(t,e,n);Cr=!!(t.flags&131072)}else Cr=!1,Ut&&e.flags&1048576&&iD(e,Zm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;pm(t,e),t=e.pendingProps;var s=Qc(e,or.current);Ec(e,n),s=bE(null,e,r,t,s,n);var i=SE();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pr(r)?(i=!0,Xm(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,yE(e),s.updater=gv,e.stateNode=s,s._reactInternals=e,Z0(e,r,t,n),e=nx(null,e,r,!0,i,n)):(e.tag=0,Ut&&i&&dE(e),fr(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(pm(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=J5(r),t=Ts(r,t),s){case 0:e=tx(null,e,r,t,n);break e;case 1:e=XC(null,e,r,t,n);break e;case 11:e=QC(null,e,r,t,n);break e;case 14:e=YC(null,e,r,Ts(r.type,t),n);break e}throw Error(te(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ts(r,s),tx(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ts(r,s),XC(t,e,r,s,n);case 3:e:{if(VD(e),t===null)throw Error(te(387));r=e.pendingProps,i=e.memoizedState,s=i.element,dD(t,e),ng(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Zc(Error(te(423)),e),e=JC(t,e,r,n,s);break e}else if(r!==s){s=Zc(Error(te(424)),e),e=JC(t,e,r,n,s);break e}else for(zr=Go(e.stateNode.containerInfo.firstChild),Wr=e,Ut=!0,Is=null,n=cD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yc(),r===s){e=qi(t,e,n);break e}fr(t,e,r,n)}e=e.child}return e;case 5:return hD(e),t===null&&Y0(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,W0(r,s)?o=null:i!==null&&W0(r,i)&&(e.flags|=32),LD(t,e),fr(t,e,o,n),e.child;case 6:return t===null&&Y0(e),null;case 13:return FD(t,e,n);case 4:return wE(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Xc(e,null,r,n):fr(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ts(r,s),QC(t,e,r,s,n);case 7:return fr(t,e,e.pendingProps,n),e.child;case 8:return fr(t,e,e.pendingProps.children,n),e.child;case 12:return fr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,It(eg,r._currentValue),r._currentValue=o,i!==null)if(Ls(i.value,o)){if(i.children===s.children&&!Ir.current){e=qi(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Mi(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),X0(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(te(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),X0(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}fr(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ec(e,n),s=gs(s),r=r(s),e.flags|=1,fr(t,e,r,n),e.child;case 14:return r=e.type,s=Ts(r,e.pendingProps),s=Ts(r.type,s),YC(t,e,r,s,n);case 15:return OD(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ts(r,s),pm(t,e),e.tag=1,Pr(r)?(t=!0,Xm(e)):t=!1,Ec(e,n),DD(e,r,s),Z0(e,r,s,n),nx(null,e,r,!0,t,n);case 19:return UD(t,e,n);case 22:return jD(t,e,n)}throw Error(te(156,e.tag))};function nk(t,e){return IN(t,e)}function X5(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hs(t,e,n,r){return new X5(t,e,n,r)}function ME(t){return t=t.prototype,!(!t||!t.isReactComponent)}function J5(t){if(typeof t=="function")return ME(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Z_)return 11;if(t===eE)return 14}return 2}function Jo(t,e){var n=t.alternate;return n===null?(n=hs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function vm(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")ME(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Zl:return ll(n.children,s,i,e);case J_:o=8,s|=8;break;case b0:return t=hs(12,n,e,s|2),t.elementType=b0,t.lanes=i,t;case S0:return t=hs(13,n,e,s),t.elementType=S0,t.lanes=i,t;case T0:return t=hs(19,n,e,s),t.elementType=T0,t.lanes=i,t;case hN:return wv(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case uN:o=10;break e;case dN:o=9;break e;case Z_:o=11;break e;case eE:o=14;break e;case xo:o=16,r=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=hs(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ll(t,e,n,r){return t=hs(7,t,r,e),t.lanes=n,t}function wv(t,e,n,r){return t=hs(22,t,r,e),t.elementType=hN,t.lanes=n,t.stateNode={isHidden:!1},t}function yw(t,e,n){return t=hs(6,t,null,e),t.lanes=n,t}function ww(t,e,n){return e=hs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Z5(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zy(0),this.expirationTimes=Zy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zy(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function OE(t,e,n,r,s,i,o,a,l){return t=new Z5(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=hs(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yE(i),t}function e3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function rk(t){if(!t)return sa;t=t._reactInternals;e:{if(Il(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var n=t.type;if(Pr(n))return rD(t,n,e)}return e}function sk(t,e,n,r,s,i,o,a,l){return t=OE(n,r,!0,t,s,i,o,a,l),t.context=rk(null),n=t.current,r=mr(),s=Xo(n),i=Mi(r,s),i.callback=e??null,Qo(n,i,s),t.current.lanes=s,df(t,s,r),Nr(t,r),t}function xv(t,e,n,r){var s=e.current,i=mr(),o=Xo(s);return n=rk(n),e.context===null?e.context=n:e.pendingContext=n,e=Mi(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Qo(s,e,o),t!==null&&(Os(t,s,o,i),dm(t,s,o)),o}function ug(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jE(t,e){lA(t,e),(t=t.alternate)&&lA(t,e)}function t3(){return null}var ik=typeof reportError=="function"?reportError:function(t){console.error(t)};function LE(t){this._internalRoot=t}_v.prototype.render=LE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));xv(t,e,null,null)};_v.prototype.unmount=LE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;gl(function(){xv(null,t,null,null)}),e[Wi]=null}};function _v(t){this._internalRoot=t}_v.prototype.unstable_scheduleHydration=function(t){if(t){var e=jN();t={blockedOn:null,target:t,priority:e};for(var n=0;n<bo.length&&e!==0&&e<bo[n].priority;n++);bo.splice(n,0,t),n===0&&VN(t)}};function VE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ev(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function cA(){}function n3(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=ug(o);i.call(c)}}var o=sk(e,r,t,0,null,!1,!1,"",cA);return t._reactRootContainer=o,t[Wi]=o.current,mh(t.nodeType===8?t.parentNode:t),gl(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=ug(l);a.call(c)}}var l=OE(t,0,!1,null,null,!1,!1,"",cA);return t._reactRootContainer=l,t[Wi]=l.current,mh(t.nodeType===8?t.parentNode:t),gl(function(){xv(e,l,n,r)}),l}function bv(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=ug(o);a.call(l)}}xv(e,o,t,s)}else o=n3(n,e,t,s,r);return ug(o)}MN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=xd(e.pendingLanes);n!==0&&(rE(e,n|1),Nr(e,an()),!(ct&6)&&(eu=an()+500,xa()))}break;case 13:gl(function(){var r=Hi(t,1);if(r!==null){var s=mr();Os(r,t,1,s)}}),jE(t,1)}};sE=function(t){if(t.tag===13){var e=Hi(t,134217728);if(e!==null){var n=mr();Os(e,t,134217728,n)}jE(t,134217728)}};ON=function(t){if(t.tag===13){var e=Xo(t),n=Hi(t,e);if(n!==null){var r=mr();Os(n,t,e,r)}jE(t,e)}};jN=function(){return xt};LN=function(t,e){var n=xt;try{return xt=t,e()}finally{xt=n}};O0=function(t,e,n){switch(e){case"input":if(R0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=fv(r);if(!s)throw Error(te(90));pN(r),R0(r,s)}}}break;case"textarea":gN(t,n);break;case"select":e=n.value,e!=null&&yc(t,!!n.multiple,e,!1)}};bN=NE;SN=gl;var r3={usingClientEntryPoint:!1,Events:[ff,rc,fv,_N,EN,NE]},od={findFiberByHostInstance:Wa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},s3={bundleType:od.bundleType,version:od.version,rendererPackageName:od.rendererPackageName,rendererConfig:od.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:no.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=AN(t),t===null?null:t.stateNode},findFiberByHostInstance:od.findFiberByHostInstance||t3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kp.isDisabled&&kp.supportsFiber)try{cv=kp.inject(s3),ei=kp}catch{}}Yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r3;Yr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!VE(e))throw Error(te(200));return e3(t,e,null,n)};Yr.createRoot=function(t,e){if(!VE(t))throw Error(te(299));var n=!1,r="",s=ik;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=OE(t,1,!1,null,null,n,!1,r,s),t[Wi]=e.current,mh(t.nodeType===8?t.parentNode:t),new LE(e)};Yr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=AN(e),t=t===null?null:t.stateNode,t};Yr.flushSync=function(t){return gl(t)};Yr.hydrate=function(t,e,n){if(!Ev(e))throw Error(te(200));return bv(null,t,e,!0,n)};Yr.hydrateRoot=function(t,e,n){if(!VE(t))throw Error(te(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=ik;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=sk(e,null,t,1,n??null,s,!1,i,o),t[Wi]=e.current,mh(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new _v(e)};Yr.render=function(t,e,n){if(!Ev(e))throw Error(te(200));return bv(null,t,e,!1,n)};Yr.unmountComponentAtNode=function(t){if(!Ev(t))throw Error(te(40));return t._reactRootContainer?(gl(function(){bv(null,null,t,!1,function(){t._reactRootContainer=null,t[Wi]=null})}),!0):!1};Yr.unstable_batchedUpdates=NE;Yr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ev(n))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return bv(t,e,n,!1,r)};Yr.version="18.3.1-next-f1338f8080-20240426";function ok(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ok)}catch(t){console.error(t)}}ok(),oN.exports=Yr;var Ar=oN.exports;const mf=K_(Ar),i3=qP({__proto__:null,default:mf},[Ar]);var uA=Ar;_0.createRoot=uA.createRoot,_0.hydrateRoot=uA.hydrateRoot;var dA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},o3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},lk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(n[u],n[h],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ak(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):o3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new a3;const p=i<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),h!==64){const w=c<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class a3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l3=function(t){const e=ak(t);return lk.encodeByteArray(e,!0)},dg=function(t){return l3(t).replace(/\./g,"")},ck=function(t){try{return lk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=()=>c3().__FIREBASE_DEFAULTS__,d3=()=>{if(typeof process>"u"||typeof dA>"u")return;const t=dA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},h3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ck(t[1]);return e&&JSON.parse(e)},Sv=()=>{try{return u3()||d3()||h3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},uk=t=>{var e,n;return(n=(e=Sv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},dk=t=>{const e=uk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},hk=()=>{var t;return(t=Sv())===null||t===void 0?void 0:t.config},fk=t=>{var e;return(e=Sv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f3=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[dg(JSON.stringify(n)),dg(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function p3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ar())}function m3(){var t;const e=(t=Sv())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function g3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function v3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function y3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function w3(){const t=ar();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function x3(){return!m3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _3(){try{return typeof indexedDB=="object"}catch{return!1}}function E3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3="FirebaseError";class ys extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=b3,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gf.prototype.create)}}class gf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?S3(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ys(s,a,r)}}function S3(t,e){return t.replace(T3,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const T3=/\{\$([^}]+)}/g;function C3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function hg(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(hA(i)&&hA(o)){if(!hg(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function hA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function A3(t,e){const n=new R3(t,e);return n.subscribe.bind(n)}class R3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");I3(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=xw),s.error===void 0&&(s.error=xw),s.complete===void 0&&(s.complete=xw);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function I3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xw(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(t){return t&&t._delegate?t._delegate:t}class ia{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P3=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new f3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(D3(e))try{this.getOrInitializeService({instanceIdentifier:Ba})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ba){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ba){return this.instances.has(e)}getOptions(e=Ba){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:N3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ba){return this.component?this.component.multipleInstances?e:Ba:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function N3(t){return t===Ba?void 0:t}function D3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new P3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(st||(st={}));const M3={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},O3=st.INFO,j3={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},L3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=j3[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class FE{constructor(e){this.name=e,this._logLevel=O3,this._logHandler=L3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?M3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}}const V3=(t,e)=>e.some(n=>t instanceof n);let fA,pA;function F3(){return fA||(fA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function U3(){return pA||(pA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mk=new WeakMap,px=new WeakMap,gk=new WeakMap,_w=new WeakMap,UE=new WeakMap;function B3(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Zo(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&mk.set(n,t)}).catch(()=>{}),UE.set(e,t),e}function $3(t){if(px.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});px.set(t,e)}let mx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return px.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function z3(t){mx=t(mx)}function K3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ew(this),e,...n);return gk.set(r,e.sort?e.sort():[e]),Zo(r)}:U3().includes(t)?function(...e){return t.apply(Ew(this),e),Zo(mk.get(this))}:function(...e){return Zo(t.apply(Ew(this),e))}}function W3(t){return typeof t=="function"?K3(t):(t instanceof IDBTransaction&&$3(t),V3(t,F3())?new Proxy(t,mx):t)}function Zo(t){if(t instanceof IDBRequest)return B3(t);if(_w.has(t))return _w.get(t);const e=W3(t);return e!==t&&(_w.set(t,e),UE.set(e,t)),e}const Ew=t=>UE.get(t);function H3(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Zo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Zo(o.result),l.oldVersion,l.newVersion,Zo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const q3=["get","getKey","getAll","getAllKeys","count"],G3=["put","add","delete","clear"],bw=new Map;function mA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bw.get(e))return bw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=G3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||q3.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return bw.set(e,i),i}z3(t=>({...t,get:(e,n,r)=>mA(e,n)||t.get(e,n,r),has:(e,n)=>!!mA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Y3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Y3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gx="@firebase/app",gA="0.10.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new FE("@firebase/app"),X3="@firebase/app-compat",J3="@firebase/analytics-compat",Z3="@firebase/analytics",e6="@firebase/app-check-compat",t6="@firebase/app-check",n6="@firebase/auth",r6="@firebase/auth-compat",s6="@firebase/database",i6="@firebase/database-compat",o6="@firebase/functions",a6="@firebase/functions-compat",l6="@firebase/installations",c6="@firebase/installations-compat",u6="@firebase/messaging",d6="@firebase/messaging-compat",h6="@firebase/performance",f6="@firebase/performance-compat",p6="@firebase/remote-config",m6="@firebase/remote-config-compat",g6="@firebase/storage",v6="@firebase/storage-compat",y6="@firebase/firestore",w6="@firebase/vertexai-preview",x6="@firebase/firestore-compat",_6="firebase",E6="10.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx="[DEFAULT]",b6={[gx]:"fire-core",[X3]:"fire-core-compat",[Z3]:"fire-analytics",[J3]:"fire-analytics-compat",[t6]:"fire-app-check",[e6]:"fire-app-check-compat",[n6]:"fire-auth",[r6]:"fire-auth-compat",[s6]:"fire-rtdb",[i6]:"fire-rtdb-compat",[o6]:"fire-fn",[a6]:"fire-fn-compat",[l6]:"fire-iid",[c6]:"fire-iid-compat",[u6]:"fire-fcm",[d6]:"fire-fcm-compat",[h6]:"fire-perf",[f6]:"fire-perf-compat",[p6]:"fire-rc",[m6]:"fire-rc-compat",[g6]:"fire-gcs",[v6]:"fire-gcs-compat",[y6]:"fire-fst",[x6]:"fire-fst-compat",[w6]:"fire-vertex","fire-js":"fire-js",[_6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg=new Map,S6=new Map,yx=new Map;function vA(t,e){try{t.container.addComponent(e)}catch(n){Gi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vl(t){const e=t.name;if(yx.has(e))return Gi.debug(`There were multiple attempts to register component ${e}.`),!1;yx.set(e,t);for(const n of fg.values())vA(n,t);for(const n of S6.values())vA(n,t);return!0}function Tv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ai(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ea=new gf("app","Firebase",T6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ea.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=E6;function vk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:vx,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ea.create("bad-app-name",{appName:String(s)});if(n||(n=hk()),!n)throw ea.create("no-options");const i=fg.get(s);if(i){if(hg(n,i.options)&&hg(r,i.config))return i;throw ea.create("duplicate-app",{appName:s})}const o=new k3(s);for(const l of yx.values())o.addComponent(l);const a=new C6(n,r,o);return fg.set(s,a),a}function BE(t=vx){const e=fg.get(t);if(!e&&t===vx&&hk())return vk();if(!e)throw ea.create("no-app",{appName:t});return e}function ni(t,e,n){var r;let s=(r=b6[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gi.warn(a.join(" "));return}vl(new ia(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6="firebase-heartbeat-database",R6=1,Sh="firebase-heartbeat-store";let Sw=null;function yk(){return Sw||(Sw=H3(A6,R6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Sh)}catch(n){console.warn(n)}}}}).catch(t=>{throw ea.create("idb-open",{originalErrorMessage:t.message})})),Sw}async function I6(t){try{const n=(await yk()).transaction(Sh),r=await n.objectStore(Sh).get(wk(t));return await n.done,r}catch(e){if(e instanceof ys)Gi.warn(e.message);else{const n=ea.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gi.warn(n.message)}}}async function yA(t,e){try{const r=(await yk()).transaction(Sh,"readwrite");await r.objectStore(Sh).put(e,wk(t)),await r.done}catch(n){if(n instanceof ys)Gi.warn(n.message);else{const r=ea.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gi.warn(r.message)}}}function wk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6=1024,N6=30*24*60*60*1e3;class D6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new M6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=wA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=N6}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Gi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=wA(),{heartbeatsToSend:r,unsentEntries:s}=k6(this._heartbeatsCache.heartbeats),i=dg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Gi.warn(n),""}}}function wA(){return new Date().toISOString().substring(0,10)}function k6(t,e=P6){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),xA(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),xA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class M6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _3()?E3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await I6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return yA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return yA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function xA(t){return dg(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(t){vl(new ia("platform-logger",e=>new Q3(e),"PRIVATE")),vl(new ia("heartbeat",e=>new D6(e),"PRIVATE")),ni(gx,gA,t),ni(gx,gA,"esm2017"),ni("fire-js","")}O6("");var Ys=function(){return Ys=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ys.apply(this,arguments)};function yf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function j6(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function xk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const L6=xk,_k=new gf("auth","Firebase",xk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg=new FE("@firebase/auth");function V6(t,...e){pg.logLevel<=st.WARN&&pg.warn(`Auth (${Pl}): ${t}`,...e)}function ym(t,...e){pg.logLevel<=st.ERROR&&pg.error(`Auth (${Pl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(t,...e){throw $E(t,...e)}function ri(t,...e){return $E(t,...e)}function Ek(t,e,n){const r=Object.assign(Object.assign({},L6()),{[e]:n});return new gf("auth","Firebase",r).create(e,{appName:t.name})}function ta(t){return Ek(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $E(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return _k.create(t,...e)}function Le(t,e,...n){if(!t)throw $E(e,...n)}function Ri(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ym(e),new Error(e)}function Yi(t,e){t||Ri(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function F6(){return _A()==="http:"||_A()==="https:"}function _A(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(F6()||v3()||"connection"in navigator)?navigator.onLine:!0}function B6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yi(n>e,"Short delay should be less than long delay!"),this.isMobile=p3()||y3()}get(){return U6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(t,e){Yi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6=new wf(3e4,6e4);function Cv(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function xu(t,e,n,r,s={}){return Sk(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=vf(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return g3()||(c.referrerPolicy="no-referrer"),bk.fetch()(Ck(t,t.config.apiHost,n,a),c)})}async function Sk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},$6),e);try{const s=new K6(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Mp(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mp(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Mp(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Mp(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Ek(t,u,c);Qi(t,u)}}catch(s){if(s instanceof ys)throw s;Qi(t,"network-request-failed",{message:String(s)})}}async function Tk(t,e,n,r,s={}){const i=await xu(t,e,n,r,s);return"mfaPendingCredential"in i&&Qi(t,"multi-factor-auth-required",{_serverResponse:i}),i}function Ck(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?zE(t.config,s):`${t.config.apiScheme}://${s}`}class K6{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ri(this.auth,"network-request-failed")),z6.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=ri(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W6(t,e){return xu(t,"POST","/v1/accounts:delete",e)}async function Ak(t,e){return xu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function H6(t,e=!1){const n=An(t),r=await n.getIdToken(e),s=KE(r);Le(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Bd(Tw(s.auth_time)),issuedAtTime:Bd(Tw(s.iat)),expirationTime:Bd(Tw(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Tw(t){return Number(t)*1e3}function KE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ym("JWT malformed, contained fewer than 3 sections"),null;try{const s=ck(n);return s?JSON.parse(s):(ym("Failed to decode base64 JWT payload"),null)}catch(s){return ym("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function EA(t){const e=KE(t);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Th(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ys&&q6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function q6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bd(this.lastLoginAt),this.creationTime=Bd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mg(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Th(t,Ak(n,{idToken:r}));Le(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Rk(i.providerUserInfo):[],a=Y6(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new xx(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function Q6(t){const e=An(t);await mg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Y6(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Rk(t){return t.map(e=>{var{providerId:n}=e,r=yf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X6(t,e){const n=await Sk(t,{},async()=>{const r=vf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=Ck(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",bk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function J6(t,e){return xu(t,"POST","/v2/accounts:revokeToken",Cv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):EA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const n=EA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await X6(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Sc;return r&&(Le(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Le(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Le(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sc,this.toJSON())}_performRefresh(){return Ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(t,e){Le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ii{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=yf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new G6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new xx(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Th(this,this.stsTokenManager.getToken(this.auth,e));return Le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return H6(this,e)}reload(){return Q6(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ii(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await mg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ai(this.auth.app))return Promise.reject(ta(this.auth));const e=await this.getIdToken();return await Th(this,W6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:b,emailVerified:C,isAnonymous:P,providerData:O,stsTokenManager:T}=n;Le(b&&T,e,"internal-error");const E=Sc.fromJSON(this.name,T);Le(typeof b=="string",e,"internal-error"),fo(h,e.name),fo(p,e.name),Le(typeof C=="boolean",e,"internal-error"),Le(typeof P=="boolean",e,"internal-error"),fo(g,e.name),fo(w,e.name),fo(v,e.name),fo(_,e.name),fo(x,e.name),fo(y,e.name);const I=new Ii({uid:b,auth:e,email:p,emailVerified:C,displayName:h,isAnonymous:P,photoURL:w,phoneNumber:g,tenantId:v,stsTokenManager:E,createdAt:x,lastLoginAt:y});return O&&Array.isArray(O)&&(I.providerData=O.map(R=>Object.assign({},R))),_&&(I._redirectEventId=_),I}static async _fromIdTokenResponse(e,n,r=!1){const s=new Sc;s.updateFromServerResponse(n);const i=new Ii({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await mg(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Le(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Rk(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Sc;a.updateFromIdToken(r);const l=new Ii({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new xx(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=new Map;function Pi(t){Yi(t instanceof Function,"Expected a class definition");let e=bA.get(t);return e?(Yi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ik.type="NONE";const SA=Ik;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(t,e,n){return`firebase:${t}:${e}:${n}`}class Tc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=wm(this.userKey,s.apiKey,i),this.fullPersistenceKey=wm("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ii._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Tc(Pi(SA),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Pi(SA);const o=wm(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=Ii._fromJSON(e,u);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Tc(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Tc(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Pk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ok(e))return"Blackberry";if(jk(e))return"Webos";if(Nk(e))return"Safari";if((e.includes("chrome/")||Dk(e))&&!e.includes("edge/"))return"Chrome";if(Mk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Pk(t=ar()){return/firefox\//i.test(t)}function Nk(t=ar()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Dk(t=ar()){return/crios\//i.test(t)}function kk(t=ar()){return/iemobile/i.test(t)}function Mk(t=ar()){return/android/i.test(t)}function Ok(t=ar()){return/blackberry/i.test(t)}function jk(t=ar()){return/webos/i.test(t)}function WE(t=ar()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Z6(t=ar()){var e;return WE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function e9(){return w3()&&document.documentMode===10}function Lk(t=ar()){return WE(t)||Mk(t)||jk(t)||Ok(t)||/windows phone/i.test(t)||kk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(t,e=[]){let n;switch(t){case"Browser":n=TA(ar());break;case"Worker":n=`${TA(ar())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Pl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n9(t,e={}){return xu(t,"GET","/v2/passwordPolicy",Cv(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9=6;class s9{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:r9,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CA(this),this.idTokenSubscription=new CA(this),this.beforeStateQueue=new t9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_k,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pi(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Tc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ak(this,{idToken:e}),r=await Ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ai(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await mg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=B6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ai(this.app))return Promise.reject(ta(this));const n=e?An(e):null;return n&&Le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ai(this.app)?Promise.reject(ta(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ai(this.app)?Promise.reject(ta(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await n9(this),n=new s9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new gf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await J6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Pi(e)||this._popupRedirectResolver;Le(n,this,"argument-error"),this.redirectPersistenceManager=await Tc.create(this,[Pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Vk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&V6(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Av(t){return An(t)}class CA{constructor(e){this.auth=e,this.observer=null,this.addObserver=A3(n=>this.observer=n)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function o9(t){HE=t}function a9(t){return HE.loadJS(t)}function l9(){return HE.gapiScript}function c9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(t,e){const n=Tv(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(hg(i,e??{}))return s;Qi(s,"already-initialized")}return n.initialize({options:e})}function d9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Pi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function h9(t,e,n){const r=Av(t);Le(r._canInitEmulator,r,"emulator-config-failed"),Le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=Fk(e),{host:o,port:a}=f9(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),p9()}function Fk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function f9(t){const e=Fk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:AA(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:AA(o)}}}function AA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function p9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ri("not implemented")}_getIdTokenResponse(e){return Ri("not implemented")}_linkToIdToken(e,n){return Ri("not implemented")}_getReauthenticationResolver(e){return Ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cc(t,e){return Tk(t,"POST","/v1/accounts:signInWithIdp",Cv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9="http://localhost";class yl extends Uk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new yl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=yf(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new yl(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Cc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Cc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Cc(e,n)}buildRequest(){const e={requestUri:m9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf extends Bk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends xf{constructor(){super("facebook.com")}static credential(e){return yl._fromParams({providerId:To.PROVIDER_ID,signInMethod:To.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return To.credentialFromTaggedObject(e)}static credentialFromError(e){return To.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return To.credential(e.oauthAccessToken)}catch{return null}}}To.FACEBOOK_SIGN_IN_METHOD="facebook.com";To.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co extends xf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return yl._fromParams({providerId:Co.PROVIDER_ID,signInMethod:Co.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Co.credentialFromTaggedObject(e)}static credentialFromError(e){return Co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Co.credential(n,r)}catch{return null}}}Co.GOOGLE_SIGN_IN_METHOD="google.com";Co.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends xf{constructor(){super("github.com")}static credential(e){return yl._fromParams({providerId:Ao.PROVIDER_ID,signInMethod:Ao.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ao.credentialFromTaggedObject(e)}static credentialFromError(e){return Ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ao.credential(e.oauthAccessToken)}catch{return null}}}Ao.GITHUB_SIGN_IN_METHOD="github.com";Ao.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro extends xf{constructor(){super("twitter.com")}static credential(e,n){return yl._fromParams({providerId:Ro.PROVIDER_ID,signInMethod:Ro.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ro.credentialFromTaggedObject(e)}static credentialFromError(e){return Ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ro.credential(n,r)}catch{return null}}}Ro.TWITTER_SIGN_IN_METHOD="twitter.com";Ro.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g9(t,e){return Tk(t,"POST","/v1/accounts:signUp",Cv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Ii._fromIdTokenResponse(e,r,s),o=RA(r);return new oa({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=RA(r);return new oa({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function RA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v9(t){var e;if(Ai(t.app))return Promise.reject(ta(t));const n=Av(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new oa({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await g9(n,{returnSecureToken:!0}),s=await oa._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg extends ys{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,gg.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new gg(e,n,r,s)}}function $k(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?gg._fromErrorAndOperation(t,i,e,r):i})}async function y9(t,e,n=!1){const r=await Th(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return oa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w9(t,e,n=!1){const{auth:r}=t;if(Ai(r.app))return Promise.reject(ta(r));const s="reauthenticate";try{const i=await Th(t,$k(r,s,e,t),n);Le(i.idToken,r,"internal-error");const o=KE(i.idToken);Le(o,r,"internal-error");const{sub:a}=o;return Le(t.uid===a,r,"user-mismatch"),oa._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Qi(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x9(t,e,n=!1){if(Ai(t.app))return Promise.reject(ta(t));const r="signIn",s=await $k(t,r,e),i=await oa._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function _9(t,e,n,r){return An(t).onIdTokenChanged(e,n,r)}function E9(t,e,n){return An(t).beforeAuthStateChanged(e,n)}const vg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vg,"1"),this.storage.removeItem(vg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9=1e3,S9=10;class Kk extends zk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Lk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);e9()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,S9):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},b9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Kk.type="LOCAL";const T9=Kk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk extends zk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Wk.type="SESSION";const Hk=Wk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Rv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await C9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=qE("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(){return window}function R9(t){si().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(){return typeof si().WorkerGlobalScope<"u"&&typeof si().importScripts=="function"}async function I9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function P9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function N9(){return qk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk="firebaseLocalStorageDb",D9=1,yg="firebaseLocalStorage",Qk="fbase_key";class _f{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Iv(t,e){return t.transaction([yg],e?"readwrite":"readonly").objectStore(yg)}function k9(){const t=indexedDB.deleteDatabase(Gk);return new _f(t).toPromise()}function _x(){const t=indexedDB.open(Gk,D9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(yg,{keyPath:Qk})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(yg)?e(r):(r.close(),await k9(),e(await _x()))})})}async function IA(t,e,n){const r=Iv(t,!0).put({[Qk]:e,value:n});return new _f(r).toPromise()}async function M9(t,e){const n=Iv(t,!1).get(e),r=await new _f(n).toPromise();return r===void 0?null:r.value}function PA(t,e){const n=Iv(t,!0).delete(e);return new _f(n).toPromise()}const O9=800,j9=3;class Yk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _x(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>j9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rv._getInstance(N9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await I9(),!this.activeServiceWorker)return;this.sender=new A9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||P9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _x();return await IA(e,vg,"1"),await PA(e,vg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>IA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>M9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>PA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Iv(s,!1).getAll();return new _f(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),O9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Yk.type="LOCAL";const L9=Yk;new wf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V9(t,e){return e?Pi(e):(Le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE extends Uk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Cc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Cc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function F9(t){return x9(t.auth,new GE(t),t.bypassAuthState)}function U9(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),w9(n,new GE(t),t.bypassAuthState)}async function B9(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),y9(n,new GE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return F9;case"linkViaPopup":case"linkViaRedirect":return B9;case"reauthViaPopup":case"reauthViaRedirect":return U9;default:Qi(this.auth,"internal-error")}}resolve(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9=new wf(2e3,1e4);class uc extends Xk{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,uc.currentPopupAction&&uc.currentPopupAction.cancel(),uc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){Yi(this.filter.length===1,"Popup operations only handle one event");const e=qE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$9.get())};e()}}uc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9="pendingRedirect",xm=new Map;class K9 extends Xk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=xm.get(this.auth._key());if(!e){try{const r=await W9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}xm.set(this.auth._key(),e)}return this.bypassAuthState||xm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function W9(t,e){const n=G9(e),r=q9(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function H9(t,e){xm.set(t._key(),e)}function q9(t){return Pi(t._redirectPersistence)}function G9(t){return wm(z9,t.config.apiKey,t.name)}async function Q9(t,e,n=!1){if(Ai(t.app))return Promise.reject(ta(t));const r=Av(t),s=V9(r,e),o=await new K9(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9=10*60*1e3;class X9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!J9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Jk(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ri(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Y9&&this.cachedEventUids.clear(),this.cachedEventUids.has(NA(e))}saveEventToCache(e){this.cachedEventUids.add(NA(e)),this.lastProcessedEventTime=Date.now()}}function NA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Jk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function J9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z9(t,e={}){return xu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eK=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tK=/^https?/;async function nK(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Z9(t);for(const n of e)try{if(rK(n))return}catch{}Qi(t,"unauthorized-domain")}function rK(t){const e=wx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!tK.test(n))return!1;if(eK.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sK=new wf(3e4,6e4);function DA(){const t=si().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function iK(t){return new Promise((e,n)=>{var r,s,i;function o(){DA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{DA(),n(ri(t,"network-request-failed"))},timeout:sK.get()})}if(!((s=(r=si().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=si().gapi)===null||i===void 0)&&i.load)o();else{const a=c9("iframefcb");return si()[a]=()=>{gapi.load?o():n(ri(t,"network-request-failed"))},a9(`${l9()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw _m=null,e})}let _m=null;function oK(t){return _m=_m||iK(t),_m}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aK=new wf(5e3,15e3),lK="__/auth/iframe",cK="emulator/auth/iframe",uK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hK(t){const e=t.config;Le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zE(e,cK):`https://${t.config.authDomain}/${lK}`,r={apiKey:e.apiKey,appName:t.name,v:Pl},s=dK.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${vf(r).slice(1)}`}async function fK(t){const e=await oK(t),n=si().gapi;return Le(n,t,"internal-error"),e.open({where:document.body,url:hK(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uK,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=ri(t,"network-request-failed"),a=si().setTimeout(()=>{i(o)},aK.get());function l(){si().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mK=500,gK=600,vK="_blank",yK="http://localhost";class kA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wK(t,e,n,r=mK,s=gK){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},pK),{width:r.toString(),height:s.toString(),top:i,left:o}),c=ar().toLowerCase();n&&(a=Dk(c)?vK:n),Pk(c)&&(e=e||yK,l.scrollbars="yes");const u=Object.entries(l).reduce((p,[g,w])=>`${p}${g}=${w},`,"");if(Z6(c)&&a!=="_self")return xK(e||"",a),new kA(null);const h=window.open(e||"",a,u);Le(h,t,"popup-blocked");try{h.focus()}catch{}return new kA(h)}function xK(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _K="__/auth/handler",EK="emulator/auth/handler",bK=encodeURIComponent("fac");async function MA(t,e,n,r,s,i){Le(t.config.authDomain,t,"auth-domain-config-required"),Le(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Pl,eventId:s};if(e instanceof Bk){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",C3(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))o[u]=h}if(e instanceof xf){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${bK}=${encodeURIComponent(l)}`:"";return`${SK(t)}?${vf(a).slice(1)}${c}`}function SK({config:t}){return t.emulator?zE(t,EK):`https://${t.authDomain}/${_K}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="webStorageSupport";class TK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hk,this._completeRedirectFn=Q9,this._overrideRedirectResult=H9}async _openPopup(e,n,r,s){var i;Yi((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await MA(e,n,r,wx(),s);return wK(e,o,qE())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await MA(e,n,r,wx(),s);return R9(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Yi(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await fK(e),r=new X9(e);return n.register("authEvent",s=>(Le(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Cw,{type:Cw},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Cw];o!==void 0&&n(!!o),Qi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nK(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Lk()||Nk()||WE()}}const CK=TK;var OA="@firebase/auth",jA="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AK{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RK(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IK(t){vl(new ia("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Le(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vk(t)},c=new i9(r,s,i,l);return d9(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),vl(new ia("auth-internal",e=>{const n=Av(e.getProvider("auth").getImmediate());return(r=>new AK(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ni(OA,jA,RK(t)),ni(OA,jA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PK=5*60,NK=fk("authIdTokenMaxAge")||PK;let LA=null;const DK=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>NK)return;const s=n==null?void 0:n.token;LA!==s&&(LA=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function kK(t=BE()){const e=Tv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=u9(t,{popupRedirectResolver:CK,persistence:[L9,T9,Hk]}),r=fk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=DK(i.toString());E9(n,o,()=>o(n.currentUser)),_9(n,a=>o(a))}}const s=uk("auth");return s&&h9(n,`http://${s}`),n}function MK(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}o9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=ri("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",MK().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IK("Browser");const pt=(t,e=!1)=>{};var OK={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"production",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://cob-chatbot.onrender.com",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",VITE_FIREBASE_MEASUREMENT_ID:"G-65F7KP2KRQ",VITE_SUPER_ADMIN_ID:"672ca434f2191d3bb7606f0d",BASE_URL:"/admin",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const VA=t=>{let e;const n=new Set,r=(u,h)=>{const p=typeof u=="function"?u(e):u;if(!Object.is(p,e)){const g=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(w=>w(e,g))}},s=()=>e,l={setState:r,getState:s,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(OK?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,s,l);return l},jK=t=>t?VA(t):VA;var Zk={exports:{}},eM={},tM={exports:{}},nM={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tu=m;function LK(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var VK=typeof Object.is=="function"?Object.is:LK,FK=tu.useState,UK=tu.useEffect,BK=tu.useLayoutEffect,$K=tu.useDebugValue;function zK(t,e){var n=e(),r=FK({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return BK(function(){s.value=n,s.getSnapshot=e,Aw(s)&&i({inst:s})},[t,n,e]),UK(function(){return Aw(s)&&i({inst:s}),t(function(){Aw(s)&&i({inst:s})})},[t]),$K(n),n}function Aw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!VK(t,n)}catch{return!0}}function KK(t,e){return e()}var WK=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?KK:zK;nM.useSyncExternalStore=tu.useSyncExternalStore!==void 0?tu.useSyncExternalStore:WK;tM.exports=nM;var HK=tM.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv=m,qK=HK;function GK(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var QK=typeof Object.is=="function"?Object.is:GK,YK=qK.useSyncExternalStore,XK=Pv.useRef,JK=Pv.useEffect,ZK=Pv.useMemo,eW=Pv.useDebugValue;eM.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=XK(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=ZK(function(){function l(g){if(!c){if(c=!0,u=g,g=r(g),s!==void 0&&o.hasValue){var w=o.value;if(s(w,g))return h=w}return h=g}if(w=h,QK(u,g))return w;var v=r(g);return s!==void 0&&s(w,v)?w:(u=g,h=v)}var c=!1,u,h,p=n===void 0?null:n;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,n,r,s]);var a=YK(t,i[0],i[1]);return JK(function(){o.hasValue=!0,o.value=a},[a]),eW(a),a};Zk.exports=eM;var tW=Zk.exports;const nW=K_(tW);var rM={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"production",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://cob-chatbot.onrender.com",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",VITE_FIREBASE_MEASUREMENT_ID:"G-65F7KP2KRQ",VITE_SUPER_ADMIN_ID:"672ca434f2191d3bb7606f0d",BASE_URL:"/admin",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:rW}=Re,{useSyncExternalStoreWithSelector:sW}=nW;let FA=!1;const iW=t=>t;function oW(t,e=iW,n){(rM?"production":void 0)!=="production"&&n&&!FA&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),FA=!0);const r=sW(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return rW(r),r}const UA=t=>{(rM?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?jK(t):t,n=(r,s)=>oW(e,r,s);return Object.assign(n,e),n},ro=t=>t?UA(t):UA;var aW={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"production",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://cob-chatbot.onrender.com",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",VITE_FIREBASE_MEASUREMENT_ID:"G-65F7KP2KRQ",VITE_SUPER_ADMIN_ID:"672ca434f2191d3bb7606f0d",BASE_URL:"/admin",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function QE(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const o=l=>l===null?null:JSON.parse(l,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const Ch=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Ch(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Ch(r)(n)}}}},lW=(t,e)=>(n,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:_=>_,version:0,merge:(_,x)=>({...x,..._}),...e},o=!1;const a=new Set,l=new Set;let c;try{c=i.getStorage()}catch{}if(!c)return t((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(..._)},r,s);const u=Ch(i.serialize),h=()=>{const _=i.partialize({...r()});let x;const y=u({state:_,version:i.version}).then(b=>c.setItem(i.name,b)).catch(b=>{x=b});if(x)throw x;return y},p=s.setState;s.setState=(_,x)=>{p(_,x),h()};const g=t((..._)=>{n(..._),h()},r,s);let w;const v=()=>{var _;if(!c)return;o=!1,a.forEach(y=>y(r()));const x=((_=i.onRehydrateStorage)==null?void 0:_.call(i,r()))||void 0;return Ch(c.getItem.bind(c))(i.name).then(y=>{if(y)return i.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return i.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var b;return w=i.merge(y,(b=r())!=null?b:g),n(w,!0),h()}).then(()=>{x==null||x(w,void 0),o=!0,l.forEach(y=>y(w))}).catch(y=>{x==null||x(void 0,y)})};return s.persist={setOptions:_=>{i={...i,..._},_.getStorage&&(c=_.getStorage())},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:_=>(a.add(_),()=>{a.delete(_)}),onFinishHydration:_=>(l.add(_),()=>{l.delete(_)})},v(),w||g},cW=(t,e)=>(n,r,s)=>{let i={storage:QE(()=>localStorage),partialize:v=>v,version:0,merge:(v,_)=>({..._,...v}),...e},o=!1;const a=new Set,l=new Set;let c=i.storage;if(!c)return t((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...v)},r,s);const u=()=>{const v=i.partialize({...r()});return c.setItem(i.name,{state:v,version:i.version})},h=s.setState;s.setState=(v,_)=>{h(v,_),u()};const p=t((...v)=>{n(...v),u()},r,s);s.getInitialState=()=>p;let g;const w=()=>{var v,_;if(!c)return;o=!1,a.forEach(y=>{var b;return y((b=r())!=null?b:p)});const x=((_=i.onRehydrateStorage)==null?void 0:_.call(i,(v=r())!=null?v:p))||void 0;return Ch(c.getItem.bind(c))(i.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return[!0,i.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var b;const[C,P]=y;if(g=i.merge(P,(b=r())!=null?b:p),n(g,!0),C)return u()}).then(()=>{x==null||x(g,void 0),g=r(),o=!0,l.forEach(y=>y(g))}).catch(y=>{x==null||x(void 0,y)})};return s.persist={setOptions:v=>{i={...i,...v},v.storage&&(c=v.storage)},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:v=>(a.add(v),()=>{a.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},i.skipHydration||w(),g||p},uW=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((aW?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),lW(t,e)):cW(t,e),sM=uW,ut=ro()(sM(t=>({admin:null,isAuth:!1,accessToken:null,setAccessToken:e=>t({accessToken:e}),login:(e,n)=>t({isAuth:!0,accessToken:e,admin:n}),logout:()=>t({isAuth:!1,accessToken:null,admin:null})}),{name:"auth-storage",storage:QE(()=>localStorage)}));/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zt(){return zt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zt.apply(this,arguments)}var hn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(hn||(hn={}));const BA="popstate";function dW(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Ah("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:wl(s)}return fW(e,n,null,t)}function Je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function nu(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hW(){return Math.random().toString(36).substr(2,8)}function $A(t,e){return{usr:t.state,key:t.key,idx:e}}function Ah(t,e,n,r){return n===void 0&&(n=null),zt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?_a(e):e,{state:n,key:e&&e.key||r||hW()})}function wl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function _a(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function fW(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=hn.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(zt({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=hn.Pop;let _=u(),x=_==null?null:_-c;c=_,l&&l({action:a,location:v.location,delta:x})}function p(_,x){a=hn.Push;let y=Ah(v.location,_,x);c=u()+1;let b=$A(y,c),C=v.createHref(y);try{o.pushState(b,"",C)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(C)}i&&l&&l({action:a,location:v.location,delta:1})}function g(_,x){a=hn.Replace;let y=Ah(v.location,_,x);c=u();let b=$A(y,c),C=v.createHref(y);o.replaceState(b,"",C),i&&l&&l({action:a,location:v.location,delta:0})}function w(_){let x=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof _=="string"?_:wl(_);return y=y.replace(/ $/,"%20"),Je(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let v={get action(){return a},get location(){return t(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(BA,h),l=_,()=>{s.removeEventListener(BA,h),l=null}},createHref(_){return e(s,_)},createURL:w,encodeLocation(_){let x=w(_);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:g,go(_){return o.go(_)}};return v}var Et;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Et||(Et={}));const pW=new Set(["lazy","caseSensitive","path","id","index","children"]);function mW(t){return t.index===!0}function Rh(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((s,i)=>{let o=[...n,String(i)],a=typeof s.id=="string"?s.id:o.join("-");if(Je(s.index!==!0||!s.children,"Cannot specify children on an index route"),Je(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),mW(s)){let l=zt({},s,e(s),{id:a});return r[a]=l,l}else{let l=zt({},s,e(s),{id:a,children:void 0});return r[a]=l,s.children&&(l.children=Rh(s.children,e,o,r)),l}})}function Ka(t,e,n){return n===void 0&&(n="/"),Em(t,e,n,!1)}function Em(t,e,n,r){let s=typeof e=="string"?_a(e):e,i=_u(s.pathname||"/",n);if(i==null)return null;let o=iM(t);vW(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=RW(i);a=CW(o[l],c,r)}return a}function gW(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],handle:n.handle}}function iM(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Je(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Oi([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(Je(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),iM(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:SW(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of oM(i.path))s(i,o,l)}),e}function oM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=oM(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function vW(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:TW(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const yW=/^:[\w-]+$/,wW=3,xW=2,_W=1,EW=10,bW=-2,zA=t=>t==="*";function SW(t,e){let n=t.split("/"),r=n.length;return n.some(zA)&&(r+=bW),e&&(r+=xW),n.filter(s=>!zA(s)).reduce((s,i)=>s+(yW.test(i)?wW:i===""?_W:EW),r)}function TW(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function CW(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=KA({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=KA({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Oi([i,h.pathname]),pathnameBase:NW(Oi([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Oi([i,h.pathnameBase]))}return o}function KA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=AW(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:p,isOptional:g}=u;if(p==="*"){let v=a[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const w=a[h];return g&&!w?c[p]=void 0:c[p]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function AW(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),nu(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function RW(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nu(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function _u(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function IW(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?_a(t):t;return{pathname:n?n.startsWith("/")?n:PW(n,e):e,search:DW(r),hash:kW(s)}}function PW(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Rw(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function aM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Nv(t,e){let n=aM(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Dv(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=_a(t):(s=zt({},t),Je(!s.pathname||!s.pathname.includes("?"),Rw("?","pathname","search",s)),Je(!s.pathname||!s.pathname.includes("#"),Rw("#","pathname","hash",s)),Je(!s.search||!s.search.includes("#"),Rw("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=IW(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Oi=t=>t.join("/").replace(/\/\/+/g,"/"),NW=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),DW=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kW=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class wg{constructor(e,n,r,s){s===void 0&&(s=!1),this.status=e,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Ef(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const lM=["post","put","patch","delete"],MW=new Set(lM),OW=["get",...lM],jW=new Set(OW),LW=new Set([301,302,303,307,308]),VW=new Set([307,308]),Iw={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},FW={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ad={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},YE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,UW=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),cM="remix-router-transitions";function BW(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Je(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let L=t.detectErrorBoundary;s=F=>({hasErrorBoundary:L(F)})}else s=UW;let i={},o=Rh(t.routes,s,void 0,i),a,l=t.basename||"/",c=t.unstable_dataStrategy||qW,u=t.unstable_patchRoutesOnNavigation,h=zt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),p=null,g=new Set,w=1e3,v=new Set,_=null,x=null,y=null,b=t.hydrationData!=null,C=Ka(o,t.history.location,l),P=null;if(C==null&&!u){let L=hr(404,{pathname:t.history.location.pathname}),{matches:F,route:K}=ZA(o);C=F,P={[K.id]:L}}C&&!t.hydrationData&&dt(C,o,t.history.location.pathname).active&&(C=null);let O;if(C)if(C.some(L=>L.route.lazy))O=!1;else if(!C.some(L=>L.route.loader))O=!0;else if(h.v7_partialHydration){let L=t.hydrationData?t.hydrationData.loaderData:null,F=t.hydrationData?t.hydrationData.errors:null,K=G=>G.route.loader?typeof G.route.loader=="function"&&G.route.loader.hydrate===!0?!1:L&&L[G.route.id]!==void 0||F&&F[G.route.id]!==void 0:!0;if(F){let G=C.findIndex(de=>F[de.route.id]!==void 0);O=C.slice(0,G+1).every(K)}else O=C.every(K)}else O=t.hydrationData!=null;else if(O=!1,C=[],h.v7_partialHydration){let L=dt(null,o,t.history.location.pathname);L.active&&L.matches&&(C=L.matches)}let T,E={historyAction:t.history.action,location:t.history.location,matches:C,initialized:O,navigation:Iw,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||P,fetchers:new Map,blockers:new Map},I=hn.Pop,R=!1,k,M=!1,N=new Map,W=null,se=!1,ne=!1,Y=[],z=new Set,B=new Map,J=0,fe=-1,he=new Map,Te=new Set,We=new Map,at=new Map,Ne=new Set,ce=new Map,Pe=new Map,He=new Map,pe;function $e(){if(p=t.history.listen(L=>{let{action:F,location:K,delta:G}=L;if(pe){pe(),pe=void 0;return}nu(Pe.size===0||G!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let de=$t({currentLocation:E.location,nextLocation:K,historyAction:F});if(de&&G!=null){let Ce=new Promise(Me=>{pe=Me});t.history.go(G*-1),Zr(de,{state:"blocked",location:K,proceed(){Zr(de,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),Ce.then(()=>t.history.go(G))},reset(){let Me=new Map(E.blockers);Me.set(de,ad),qe({blockers:Me})}});return}return j(F,K)}),n){lH(e,N);let L=()=>cH(e,N);e.addEventListener("pagehide",L),W=()=>e.removeEventListener("pagehide",L)}return E.initialized||j(hn.Pop,E.location,{initialHydration:!0}),T}function Oe(){p&&p(),W&&W(),g.clear(),k&&k.abort(),E.fetchers.forEach((L,F)=>Jr(F)),E.blockers.forEach((L,F)=>Da(F))}function yt(L){return g.add(L),()=>g.delete(L)}function qe(L,F){F===void 0&&(F={}),E=zt({},E,L);let K=[],G=[];h.v7_fetcherPersist&&E.fetchers.forEach((de,Ce)=>{de.state==="idle"&&(Ne.has(Ce)?G.push(Ce):K.push(Ce))}),[...g].forEach(de=>de(E,{deletedFetchers:G,unstable_viewTransitionOpts:F.viewTransitionOpts,unstable_flushSync:F.flushSync===!0})),h.v7_fetcherPersist&&(K.forEach(de=>E.fetchers.delete(de)),G.forEach(de=>Jr(de)))}function Vt(L,F,K){var G,de;let{flushSync:Ce}=K===void 0?{}:K,Me=E.actionData!=null&&E.navigation.formMethod!=null&&Rs(E.navigation.formMethod)&&E.navigation.state==="loading"&&((G=L.state)==null?void 0:G._isRedirect)!==!0,oe;F.actionData?Object.keys(F.actionData).length>0?oe=F.actionData:oe=null:Me?oe=E.actionData:oe=null;let Ee=F.loaderData?XA(E.loaderData,F.loaderData,F.matches||[],F.errors):E.loaderData,ye=E.blockers;ye.size>0&&(ye=new Map(ye),ye.forEach((lt,_t)=>ye.set(_t,ad)));let xe=R===!0||E.navigation.formMethod!=null&&Rs(E.navigation.formMethod)&&((de=L.state)==null?void 0:de._isRedirect)!==!0;a&&(o=a,a=void 0),se||I===hn.Pop||(I===hn.Push?t.history.push(L,L.state):I===hn.Replace&&t.history.replace(L,L.state));let nt;if(I===hn.Pop){let lt=N.get(E.location.pathname);lt&&lt.has(L.pathname)?nt={currentLocation:E.location,nextLocation:L}:N.has(L.pathname)&&(nt={currentLocation:L,nextLocation:E.location})}else if(M){let lt=N.get(E.location.pathname);lt?lt.add(L.pathname):(lt=new Set([L.pathname]),N.set(E.location.pathname,lt)),nt={currentLocation:E.location,nextLocation:L}}qe(zt({},F,{actionData:oe,loaderData:Ee,historyAction:I,location:L,initialized:!0,navigation:Iw,revalidation:"idle",restoreScrollPosition:es(L,F.matches||E.matches),preventScrollReset:xe,blockers:ye}),{viewTransitionOpts:nt,flushSync:Ce===!0}),I=hn.Pop,R=!1,M=!1,se=!1,ne=!1,Y=[]}async function mn(L,F){if(typeof L=="number"){t.history.go(L);return}let K=Ex(E.location,E.matches,l,h.v7_prependBasename,L,h.v7_relativeSplatPath,F==null?void 0:F.fromRouteId,F==null?void 0:F.relative),{path:G,submission:de,error:Ce}=WA(h.v7_normalizeFormMethod,!1,K,F),Me=E.location,oe=Ah(E.location,G,F&&F.state);oe=zt({},oe,t.history.encodeLocation(oe));let Ee=F&&F.replace!=null?F.replace:void 0,ye=hn.Push;Ee===!0?ye=hn.Replace:Ee===!1||de!=null&&Rs(de.formMethod)&&de.formAction===E.location.pathname+E.location.search&&(ye=hn.Replace);let xe=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,nt=(F&&F.unstable_flushSync)===!0,lt=$t({currentLocation:Me,nextLocation:oe,historyAction:ye});if(lt){Zr(lt,{state:"blocked",location:oe,proceed(){Zr(lt,{state:"proceeding",proceed:void 0,reset:void 0,location:oe}),mn(L,F)},reset(){let _t=new Map(E.blockers);_t.set(lt,ad),qe({blockers:_t})}});return}return await j(ye,oe,{submission:de,pendingError:Ce,preventScrollReset:xe,replace:F&&F.replace,enableViewTransition:F&&F.unstable_viewTransition,flushSync:nt})}function Mr(){if(wr(),qe({revalidation:"loading"}),E.navigation.state!=="submitting"){if(E.navigation.state==="idle"){j(E.historyAction,E.location,{startUninterruptedRevalidation:!0});return}j(I||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation,enableViewTransition:M===!0})}}async function j(L,F,K){k&&k.abort(),k=null,I=L,se=(K&&K.startUninterruptedRevalidation)===!0,In(E.location,E.matches),R=(K&&K.preventScrollReset)===!0,M=(K&&K.enableViewTransition)===!0;let G=a||o,de=K&&K.overrideNavigation,Ce=Ka(G,F,l),Me=(K&&K.flushSync)===!0,oe=dt(Ce,G,F.pathname);if(oe.active&&oe.matches&&(Ce=oe.matches),!Ce){let{error:et,notFoundMatches:un,route:Nt}=rn(F.pathname);Vt(F,{matches:un,loaderData:{},errors:{[Nt.id]:et}},{flushSync:Me});return}if(E.initialized&&!ne&&ZW(E.location,F)&&!(K&&K.submission&&Rs(K.submission.formMethod))){Vt(F,{matches:Ce},{flushSync:Me});return}k=new AbortController;let Ee=Wl(t.history,F,k.signal,K&&K.submission),ye;if(K&&K.pendingError)ye=[dc(Ce).route.id,{type:Et.error,error:K.pendingError}];else if(K&&K.submission&&Rs(K.submission.formMethod)){let et=await $(Ee,F,K.submission,Ce,oe.active,{replace:K.replace,flushSync:Me});if(et.shortCircuited)return;if(et.pendingActionResult){let[un,Nt]=et.pendingActionResult;if(Br(Nt)&&Ef(Nt.error)&&Nt.error.status===404){k=null,Vt(F,{matches:et.matches,loaderData:{},errors:{[un]:Nt.error}});return}}Ce=et.matches||Ce,ye=et.pendingActionResult,de=Pw(F,K.submission),Me=!1,oe.active=!1,Ee=Wl(t.history,Ee.url,Ee.signal)}let{shortCircuited:xe,matches:nt,loaderData:lt,errors:_t}=await H(Ee,F,Ce,oe.active,de,K&&K.submission,K&&K.fetcherSubmission,K&&K.replace,K&&K.initialHydration===!0,Me,ye);xe||(k=null,Vt(F,zt({matches:nt||Ce},JA(ye),{loaderData:lt,errors:_t})))}async function $(L,F,K,G,de,Ce){Ce===void 0&&(Ce={}),wr();let Me=oH(F,K);if(qe({navigation:Me},{flushSync:Ce.flushSync===!0}),de){let ye=await jr(G,F.pathname,L.signal);if(ye.type==="aborted")return{shortCircuited:!0};if(ye.type==="error"){let{boundaryId:xe,error:nt}=At(F.pathname,ye);return{matches:ye.partialMatches,pendingActionResult:[xe,{type:Et.error,error:nt}]}}else if(ye.matches)G=ye.matches;else{let{notFoundMatches:xe,error:nt,route:lt}=rn(F.pathname);return{matches:xe,pendingActionResult:[lt.id,{type:Et.error,error:nt}]}}}let oe,Ee=Ed(G,F);if(!Ee.route.action&&!Ee.route.lazy)oe={type:Et.error,error:hr(405,{method:L.method,pathname:F.pathname,routeId:Ee.route.id})};else if(oe=(await je("action",E,L,[Ee],G,null))[Ee.route.id],L.signal.aborted)return{shortCircuited:!0};if(Ga(oe)){let ye;return Ce&&Ce.replace!=null?ye=Ce.replace:ye=GA(oe.response.headers.get("Location"),new URL(L.url),l)===E.location.pathname+E.location.search,await Be(L,oe,!0,{submission:K,replace:ye}),{shortCircuited:!0}}if($o(oe))throw hr(400,{type:"defer-action"});if(Br(oe)){let ye=dc(G,Ee.route.id);return(Ce&&Ce.replace)!==!0&&(I=hn.Push),{matches:G,pendingActionResult:[ye.route.id,oe]}}return{matches:G,pendingActionResult:[Ee.route.id,oe]}}async function H(L,F,K,G,de,Ce,Me,oe,Ee,ye,xe){let nt=de||Pw(F,Ce),lt=Ce||Me||tR(nt),_t=!se&&(!h.v7_partialHydration||!Ee);if(G){if(_t){let Rt=ie(xe);qe(zt({navigation:nt},Rt!==void 0?{actionData:Rt}:{}),{flushSync:ye})}let ze=await jr(K,F.pathname,L.signal);if(ze.type==="aborted")return{shortCircuited:!0};if(ze.type==="error"){let{boundaryId:Rt,error:qn}=At(F.pathname,ze);return{matches:ze.partialMatches,loaderData:{},errors:{[Rt]:qn}}}else if(ze.matches)K=ze.matches;else{let{error:Rt,notFoundMatches:qn,route:Dt}=rn(F.pathname);return{matches:qn,loaderData:{},errors:{[Dt.id]:Rt}}}}let et=a||o,[un,Nt]=HA(t.history,E,K,lt,F,h.v7_partialHydration&&Ee===!0,h.v7_skipActionErrorRevalidation,ne,Y,z,Ne,We,Te,et,l,xe);if(lr(ze=>!(K&&K.some(Rt=>Rt.route.id===ze))||un&&un.some(Rt=>Rt.route.id===ze)),fe=++J,un.length===0&&Nt.length===0){let ze=Fl();return Vt(F,zt({matches:K,loaderData:{},errors:xe&&Br(xe[1])?{[xe[0]]:xe[1].error}:null},JA(xe),ze?{fetchers:new Map(E.fetchers)}:{}),{flushSync:ye}),{shortCircuited:!0}}if(_t){let ze={};if(!G){ze.navigation=nt;let Rt=ie(xe);Rt!==void 0&&(ze.actionData=Rt)}Nt.length>0&&(ze.fetchers=re(Nt)),qe(ze,{flushSync:ye})}Nt.forEach(ze=>{B.has(ze.key)&&gn(ze.key),ze.controller&&B.set(ze.key,ze.controller)});let ao=()=>Nt.forEach(ze=>gn(ze.key));k&&k.signal.addEventListener("abort",ao);let{loaderResults:Lr,fetcherResults:ns}=await Yt(E,K,un,Nt,L);if(L.signal.aborted)return{shortCircuited:!0};k&&k.signal.removeEventListener("abort",ao),Nt.forEach(ze=>B.delete(ze.key));let Hn=Op(Lr);if(Hn)return await Be(L,Hn.result,!0,{replace:oe}),{shortCircuited:!0};if(Hn=Op(ns),Hn)return Te.add(Hn.key),await Be(L,Hn.result,!0,{replace:oe}),{shortCircuited:!0};let{loaderData:lo,errors:xs}=YA(E,K,un,Lr,xe,Nt,ns,ce);ce.forEach((ze,Rt)=>{ze.subscribe(qn=>{(qn||ze.done)&&ce.delete(Rt)})}),h.v7_partialHydration&&Ee&&E.errors&&Object.entries(E.errors).filter(ze=>{let[Rt]=ze;return!un.some(qn=>qn.route.id===Rt)}).forEach(ze=>{let[Rt,qn]=ze;xs=Object.assign(xs||{},{[Rt]:qn})});let ka=Fl(),Ma=gi(fe),Oa=ka||Ma||Nt.length>0;return zt({matches:K,loaderData:lo,errors:xs},Oa?{fetchers:new Map(E.fetchers)}:{})}function ie(L){if(L&&!Br(L[1]))return{[L[0]]:L[1].data};if(E.actionData)return Object.keys(E.actionData).length===0?null:E.actionData}function re(L){return L.forEach(F=>{let K=E.fetchers.get(F.key),G=ld(void 0,K?K.data:void 0);E.fetchers.set(F.key,G)}),new Map(E.fetchers)}function ee(L,F,K,G){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");B.has(L)&&gn(L);let de=(G&&G.unstable_flushSync)===!0,Ce=a||o,Me=Ex(E.location,E.matches,l,h.v7_prependBasename,K,h.v7_relativeSplatPath,F,G==null?void 0:G.relative),oe=Ka(Ce,Me,l),Ee=dt(oe,Ce,Me);if(Ee.active&&Ee.matches&&(oe=Ee.matches),!oe){Ft(L,F,hr(404,{pathname:Me}),{flushSync:de});return}let{path:ye,submission:xe,error:nt}=WA(h.v7_normalizeFormMethod,!0,Me,G);if(nt){Ft(L,F,nt,{flushSync:de});return}let lt=Ed(oe,ye);if(R=(G&&G.preventScrollReset)===!0,xe&&Rs(xe.formMethod)){_e(L,F,ye,lt,oe,Ee.active,de,xe);return}We.set(L,{routeId:F,path:ye}),Ue(L,F,ye,lt,oe,Ee.active,de,xe)}async function _e(L,F,K,G,de,Ce,Me,oe){wr(),We.delete(L);function Ee(Dt){if(!Dt.route.action&&!Dt.route.lazy){let _s=hr(405,{method:oe.formMethod,pathname:K,routeId:F});return Ft(L,F,_s,{flushSync:Me}),!0}return!1}if(!Ce&&Ee(G))return;let ye=E.fetchers.get(L);Rn(L,aH(oe,ye),{flushSync:Me});let xe=new AbortController,nt=Wl(t.history,K,xe.signal,oe);if(Ce){let Dt=await jr(de,K,nt.signal);if(Dt.type==="aborted")return;if(Dt.type==="error"){let{error:_s}=At(K,Dt);Ft(L,F,_s,{flushSync:Me});return}else if(Dt.matches){if(de=Dt.matches,G=Ed(de,K),Ee(G))return}else{Ft(L,F,hr(404,{pathname:K}),{flushSync:Me});return}}B.set(L,xe);let lt=J,et=(await je("action",E,nt,[G],de,L))[G.route.id];if(nt.signal.aborted){B.get(L)===xe&&B.delete(L);return}if(h.v7_fetcherPersist&&Ne.has(L)){if(Ga(et)||Br(et)){Rn(L,go(void 0));return}}else{if(Ga(et))if(B.delete(L),fe>lt){Rn(L,go(void 0));return}else return Te.add(L),Rn(L,ld(oe)),Be(nt,et,!1,{fetcherSubmission:oe});if(Br(et)){Ft(L,F,et.error);return}}if($o(et))throw hr(400,{type:"defer-action"});let un=E.navigation.location||E.location,Nt=Wl(t.history,un,xe.signal),ao=a||o,Lr=E.navigation.state!=="idle"?Ka(ao,E.navigation.location,l):E.matches;Je(Lr,"Didn't find any matches after fetcher action");let ns=++J;he.set(L,ns);let Hn=ld(oe,et.data);E.fetchers.set(L,Hn);let[lo,xs]=HA(t.history,E,Lr,oe,un,!1,h.v7_skipActionErrorRevalidation,ne,Y,z,Ne,We,Te,ao,l,[G.route.id,et]);xs.filter(Dt=>Dt.key!==L).forEach(Dt=>{let _s=Dt.key,sp=E.fetchers.get(_s),ip=ld(void 0,sp?sp.data:void 0);E.fetchers.set(_s,ip),B.has(_s)&&gn(_s),Dt.controller&&B.set(_s,Dt.controller)}),qe({fetchers:new Map(E.fetchers)});let ka=()=>xs.forEach(Dt=>gn(Dt.key));xe.signal.addEventListener("abort",ka);let{loaderResults:Ma,fetcherResults:Oa}=await Yt(E,Lr,lo,xs,Nt);if(xe.signal.aborted)return;xe.signal.removeEventListener("abort",ka),he.delete(L),B.delete(L),xs.forEach(Dt=>B.delete(Dt.key));let ze=Op(Ma);if(ze)return Be(Nt,ze.result,!1);if(ze=Op(Oa),ze)return Te.add(ze.key),Be(Nt,ze.result,!1);let{loaderData:Rt,errors:qn}=YA(E,Lr,lo,Ma,void 0,xs,Oa,ce);if(E.fetchers.has(L)){let Dt=go(et.data);E.fetchers.set(L,Dt)}gi(ns),E.navigation.state==="loading"&&ns>fe?(Je(I,"Expected pending action"),k&&k.abort(),Vt(E.navigation.location,{matches:Lr,loaderData:Rt,errors:qn,fetchers:new Map(E.fetchers)})):(qe({errors:qn,loaderData:XA(E.loaderData,Rt,Lr,qn),fetchers:new Map(E.fetchers)}),ne=!1)}async function Ue(L,F,K,G,de,Ce,Me,oe){let Ee=E.fetchers.get(L);Rn(L,ld(oe,Ee?Ee.data:void 0),{flushSync:Me});let ye=new AbortController,xe=Wl(t.history,K,ye.signal);if(Ce){let et=await jr(de,K,xe.signal);if(et.type==="aborted")return;if(et.type==="error"){let{error:un}=At(K,et);Ft(L,F,un,{flushSync:Me});return}else if(et.matches)de=et.matches,G=Ed(de,K);else{Ft(L,F,hr(404,{pathname:K}),{flushSync:Me});return}}B.set(L,ye);let nt=J,_t=(await je("loader",E,xe,[G],de,L))[G.route.id];if($o(_t)&&(_t=await XE(_t,xe.signal,!0)||_t),B.get(L)===ye&&B.delete(L),!xe.signal.aborted){if(Ne.has(L)){Rn(L,go(void 0));return}if(Ga(_t))if(fe>nt){Rn(L,go(void 0));return}else{Te.add(L),await Be(xe,_t,!1);return}if(Br(_t)){Ft(L,F,_t.error);return}Je(!$o(_t),"Unhandled fetcher deferred data"),Rn(L,go(_t.data))}}async function Be(L,F,K,G){let{submission:de,fetcherSubmission:Ce,replace:Me}=G===void 0?{}:G;F.response.headers.has("X-Remix-Revalidate")&&(ne=!0);let oe=F.response.headers.get("Location");Je(oe,"Expected a Location header on the redirect Response"),oe=GA(oe,new URL(L.url),l);let Ee=Ah(E.location,oe,{_isRedirect:!0});if(n){let et=!1;if(F.response.headers.has("X-Remix-Reload-Document"))et=!0;else if(YE.test(oe)){const un=t.history.createURL(oe);et=un.origin!==e.location.origin||_u(un.pathname,l)==null}if(et){Me?e.location.replace(oe):e.location.assign(oe);return}}k=null;let ye=Me===!0||F.response.headers.has("X-Remix-Replace")?hn.Replace:hn.Push,{formMethod:xe,formAction:nt,formEncType:lt}=E.navigation;!de&&!Ce&&xe&&nt&&lt&&(de=tR(E.navigation));let _t=de||Ce;if(VW.has(F.response.status)&&_t&&Rs(_t.formMethod))await j(ye,Ee,{submission:zt({},_t,{formAction:oe}),preventScrollReset:R,enableViewTransition:K?M:void 0});else{let et=Pw(Ee,de);await j(ye,Ee,{overrideNavigation:et,fetcherSubmission:Ce,preventScrollReset:R,enableViewTransition:K?M:void 0})}}async function je(L,F,K,G,de,Ce){let Me,oe={};try{Me=await GW(c,L,F,K,G,de,Ce,i,s)}catch(Ee){return G.forEach(ye=>{oe[ye.route.id]={type:Et.error,error:Ee}}),oe}for(let[Ee,ye]of Object.entries(Me))if(tH(ye)){let xe=ye.result;oe[Ee]={type:Et.redirect,response:XW(xe,K,Ee,de,l,h.v7_relativeSplatPath)}}else oe[Ee]=await YW(ye);return oe}async function Yt(L,F,K,G,de){let Ce=L.matches,Me=je("loader",L,de,K,F,null),oe=Promise.all(G.map(async xe=>{if(xe.matches&&xe.match&&xe.controller){let lt=(await je("loader",L,Wl(t.history,xe.path,xe.controller.signal),[xe.match],xe.matches,xe.key))[xe.match.route.id];return{[xe.key]:lt}}else return Promise.resolve({[xe.key]:{type:Et.error,error:hr(404,{pathname:xe.path})}})})),Ee=await Me,ye=(await oe).reduce((xe,nt)=>Object.assign(xe,nt),{});return await Promise.all([sH(F,Ee,de.signal,Ce,L.loaderData),iH(F,ye,G)]),{loaderResults:Ee,fetcherResults:ye}}function wr(){ne=!0,Y.push(...lr()),We.forEach((L,F)=>{B.has(F)&&(z.add(F),gn(F))})}function Rn(L,F,K){K===void 0&&(K={}),E.fetchers.set(L,F),qe({fetchers:new Map(E.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function Ft(L,F,K,G){G===void 0&&(G={});let de=dc(E.matches,F);Jr(L),qe({errors:{[de.route.id]:K},fetchers:new Map(E.fetchers)},{flushSync:(G&&G.flushSync)===!0})}function Or(L){return h.v7_fetcherPersist&&(at.set(L,(at.get(L)||0)+1),Ne.has(L)&&Ne.delete(L)),E.fetchers.get(L)||FW}function Jr(L){let F=E.fetchers.get(L);B.has(L)&&!(F&&F.state==="loading"&&he.has(L))&&gn(L),We.delete(L),he.delete(L),Te.delete(L),Ne.delete(L),z.delete(L),E.fetchers.delete(L)}function io(L){if(h.v7_fetcherPersist){let F=(at.get(L)||0)-1;F<=0?(at.delete(L),Ne.add(L)):at.set(L,F)}else Jr(L);qe({fetchers:new Map(E.fetchers)})}function gn(L){let F=B.get(L);Je(F,"Expected fetch controller: "+L),F.abort(),B.delete(L)}function Na(L){for(let F of L){let K=Or(F),G=go(K.data);E.fetchers.set(F,G)}}function Fl(){let L=[],F=!1;for(let K of Te){let G=E.fetchers.get(K);Je(G,"Expected fetcher: "+K),G.state==="loading"&&(Te.delete(K),L.push(K),F=!0)}return Na(L),F}function gi(L){let F=[];for(let[K,G]of he)if(G<L){let de=E.fetchers.get(K);Je(de,"Expected fetcher: "+K),de.state==="loading"&&(gn(K),he.delete(K),F.push(K))}return Na(F),F.length>0}function Ul(L,F){let K=E.blockers.get(L)||ad;return Pe.get(L)!==F&&Pe.set(L,F),K}function Da(L){E.blockers.delete(L),Pe.delete(L)}function Zr(L,F){let K=E.blockers.get(L)||ad;Je(K.state==="unblocked"&&F.state==="blocked"||K.state==="blocked"&&F.state==="blocked"||K.state==="blocked"&&F.state==="proceeding"||K.state==="blocked"&&F.state==="unblocked"||K.state==="proceeding"&&F.state==="unblocked","Invalid blocker state transition: "+K.state+" -> "+F.state);let G=new Map(E.blockers);G.set(L,F),qe({blockers:G})}function $t(L){let{currentLocation:F,nextLocation:K,historyAction:G}=L;if(Pe.size===0)return;Pe.size>1&&nu(!1,"A router only supports one blocker at a time");let de=Array.from(Pe.entries()),[Ce,Me]=de[de.length-1],oe=E.blockers.get(Ce);if(!(oe&&oe.state==="proceeding")&&Me({currentLocation:F,nextLocation:K,historyAction:G}))return Ce}function rn(L){let F=hr(404,{pathname:L}),K=a||o,{matches:G,route:de}=ZA(K);return lr(),{notFoundMatches:G,route:de,error:F}}function At(L,F){return{boundaryId:dc(F.partialMatches).route.id,error:hr(400,{type:"route-discovery",pathname:L,message:F.error!=null&&"message"in F.error?F.error:String(F.error)})}}function lr(L){let F=[];return ce.forEach((K,G)=>{(!L||L(G))&&(K.cancel(),F.push(G),ce.delete(G))}),F}function vn(L,F,K){if(_=L,y=F,x=K||null,!b&&E.navigation===Iw){b=!0;let G=es(E.location,E.matches);G!=null&&qe({restoreScrollPosition:G})}return()=>{_=null,y=null,x=null}}function yn(L,F){return x&&x(L,F.map(G=>gW(G,E.loaderData)))||L.key}function In(L,F){if(_&&y){let K=yn(L,F);_[K]=y()}}function es(L,F){if(_){let K=yn(L,F),G=_[K];if(typeof G=="number")return G}return null}function dt(L,F,K){if(u){if(v.has(K))return{active:!1,matches:L};if(L){if(Object.keys(L[0].params).length>0)return{active:!0,matches:Em(F,K,l,!0)}}else return{active:!0,matches:Em(F,K,l,!0)||[]}}return{active:!1,matches:null}}async function jr(L,F,K){let G=L;for(;;){let de=a==null,Ce=a||o;try{await WW(u,F,G,Ce,i,s,He,K)}catch(Ee){return{type:"error",error:Ee,partialMatches:G}}finally{de&&(o=[...o])}if(K.aborted)return{type:"aborted"};let Me=Ka(Ce,F,l);if(Me)return xr(F,v),{type:"success",matches:Me};let oe=Em(Ce,F,l,!0);if(!oe||G.length===oe.length&&G.every((Ee,ye)=>Ee.route.id===oe[ye].route.id))return xr(F,v),{type:"success",matches:null};G=oe}}function xr(L,F){if(F.size>=w){let K=F.values().next().value;F.delete(K)}F.add(L)}function ts(L){i={},a=Rh(L,s,void 0,i)}function oo(L,F){let K=a==null;dM(L,F,a||o,i,s),K&&(o=[...o],qe({}))}return T={get basename(){return l},get future(){return h},get state(){return E},get routes(){return o},get window(){return e},initialize:$e,subscribe:yt,enableScrollRestoration:vn,navigate:mn,fetch:ee,revalidate:Mr,createHref:L=>t.history.createHref(L),encodeLocation:L=>t.history.encodeLocation(L),getFetcher:Or,deleteFetcher:io,dispose:Oe,getBlocker:Ul,deleteBlocker:Da,patchRoutes:oo,_internalFetchControllers:B,_internalActiveDeferreds:ce,_internalSetRoutes:ts},T}function $W(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Ex(t,e,n,r,s,i,o,a){let l,c;if(o){l=[];for(let h of e)if(l.push(h),h.route.id===o){c=h;break}}else l=e,c=e[e.length-1];let u=Dv(s||".",Nv(l,i),_u(t.pathname,n)||t.pathname,a==="path");return s==null&&(u.search=t.search,u.hash=t.hash),(s==null||s===""||s===".")&&c&&c.route.index&&!JE(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:Oi([n,u.pathname])),wl(u)}function WA(t,e,n,r){if(!r||!$W(r))return{path:n};if(r.formMethod&&!rH(r.formMethod))return{path:n,error:hr(405,{method:r.formMethod})};let s=()=>({path:n,error:hr(400,{type:"invalid-body"})}),i=r.formMethod||"get",o=t?i.toUpperCase():i.toLowerCase(),a=hM(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Rs(o))return s();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((g,w)=>{let[v,_]=w;return""+g+v+"="+_+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!Rs(o))return s();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return s()}}}Je(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=bx(r.formData),c=r.formData;else if(r.body instanceof FormData)l=bx(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=QA(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=QA(l)}catch{return s()}let u={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Rs(u.formMethod))return{path:n,submission:u};let h=_a(n);return e&&h.search&&JE(h.search)&&l.append("index",""),h.search="?"+l,{path:wl(h),submission:u}}function zW(t,e){let n=t;if(e){let r=t.findIndex(s=>s.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function HA(t,e,n,r,s,i,o,a,l,c,u,h,p,g,w,v){let _=v?Br(v[1])?v[1].error:v[1].data:void 0,x=t.createURL(e.location),y=t.createURL(s),b=v&&Br(v[1])?v[0]:void 0,C=b?zW(n,b):n,P=v?v[1].statusCode:void 0,O=o&&P&&P>=400,T=C.filter((I,R)=>{let{route:k}=I;if(k.lazy)return!0;if(k.loader==null)return!1;if(i)return typeof k.loader!="function"||k.loader.hydrate?!0:e.loaderData[k.id]===void 0&&(!e.errors||e.errors[k.id]===void 0);if(KW(e.loaderData,e.matches[R],I)||l.some(W=>W===I.route.id))return!0;let M=e.matches[R],N=I;return qA(I,zt({currentUrl:x,currentParams:M.params,nextUrl:y,nextParams:N.params},r,{actionResult:_,actionStatus:P,defaultShouldRevalidate:O?!1:a||x.pathname+x.search===y.pathname+y.search||x.search!==y.search||uM(M,N)}))}),E=[];return h.forEach((I,R)=>{if(i||!n.some(se=>se.route.id===I.routeId)||u.has(R))return;let k=Ka(g,I.path,w);if(!k){E.push({key:R,routeId:I.routeId,path:I.path,matches:null,match:null,controller:null});return}let M=e.fetchers.get(R),N=Ed(k,I.path),W=!1;p.has(R)?W=!1:c.has(R)?(c.delete(R),W=!0):M&&M.state!=="idle"&&M.data===void 0?W=a:W=qA(N,zt({currentUrl:x,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:_,actionStatus:P,defaultShouldRevalidate:O?!1:a})),W&&E.push({key:R,routeId:I.routeId,path:I.path,matches:k,match:N,controller:new AbortController})}),[T,E]}function KW(t,e,n){let r=!e||n.route.id!==e.route.id,s=t[n.route.id]===void 0;return r||s}function uM(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function qA(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function WW(t,e,n,r,s,i,o,a){let l=[e,...n.map(c=>c.route.id)].join("-");try{let c=o.get(l);c||(c=t({path:e,matches:n,patch:(u,h)=>{a.aborted||dM(u,h,r,s,i)}}),o.set(l,c)),c&&eH(c)&&await c}finally{o.delete(l)}}function dM(t,e,n,r,s){if(t){var i;let o=r[t];Je(o,"No route found to patch children into: routeId = "+t);let a=Rh(e,s,[t,"patch",String(((i=o.children)==null?void 0:i.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=Rh(e,s,["patch",String(n.length||"0")],r);n.push(...o)}}async function HW(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let s=n[t.id];Je(s,"No route found in manifest");let i={};for(let o in r){let l=s[o]!==void 0&&o!=="hasErrorBoundary";nu(!l,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!pW.has(o)&&(i[o]=r[o])}Object.assign(s,i),Object.assign(s,zt({},e(s),{lazy:void 0}))}async function qW(t){let{matches:e}=t,n=e.filter(s=>s.shouldLoad);return(await Promise.all(n.map(s=>s.resolve()))).reduce((s,i,o)=>Object.assign(s,{[n[o].route.id]:i}),{})}async function GW(t,e,n,r,s,i,o,a,l,c){let u=i.map(g=>g.route.lazy?HW(g.route,l,a):void 0),h=i.map((g,w)=>{let v=u[w],_=s.some(y=>y.route.id===g.route.id);return zt({},g,{shouldLoad:_,resolve:async y=>(y&&r.method==="GET"&&(g.route.lazy||g.route.loader)&&(_=!0),_?QW(e,r,g,v,y,c):Promise.resolve({type:Et.data,result:void 0}))})}),p=await t({matches:h,request:r,params:i[0].params,fetcherKey:o,context:c});try{await Promise.all(u)}catch{}return p}async function QW(t,e,n,r,s,i){let o,a,l=c=>{let u,h=new Promise((w,v)=>u=v);a=()=>u(),e.signal.addEventListener("abort",a);let p=w=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:i},...w!==void 0?[w]:[]),g=(async()=>{try{return{type:"data",result:await(s?s(v=>p(v)):p())}}catch(w){return{type:"error",result:w}}})();return Promise.race([g,h])};try{let c=n.route[t];if(r)if(c){let u,[h]=await Promise.all([l(c).catch(p=>{u=p}),r]);if(u!==void 0)throw u;o=h}else if(await r,c=n.route[t],c)o=await l(c);else if(t==="action"){let u=new URL(e.url),h=u.pathname+u.search;throw hr(405,{method:e.method,pathname:h,routeId:n.route.id})}else return{type:Et.data,result:void 0};else if(c)o=await l(c);else{let u=new URL(e.url),h=u.pathname+u.search;throw hr(404,{pathname:h})}Je(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Et.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function YW(t){let{result:e,type:n}=t;if(fM(e)){let c;try{let u=e.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(u){return{type:Et.error,error:u}}return n===Et.error?{type:Et.error,error:new wg(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:Et.data,data:c,statusCode:e.status,headers:e.headers}}if(n===Et.error){if(eR(e)){var r;if(e.data instanceof Error){var s;return{type:Et.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status}}e=new wg(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Et.error,error:e,statusCode:Ef(e)?e.status:void 0}}if(nH(e)){var i,o;return{type:Et.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(eR(e)){var a,l;return{type:Et.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Et.data,data:e}}function XW(t,e,n,r,s,i){let o=t.headers.get("Location");if(Je(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!YE.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=Ex(new URL(e.url),a,s,!0,o,i),t.headers.set("Location",o)}return t}function GA(t,e,n){if(YE.test(t)){let r=t,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),i=_u(s.pathname,n)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return t}function Wl(t,e,n,r){let s=t.createURL(hM(e)).toString(),i={signal:n};if(r&&Rs(r.formMethod)){let{formMethod:o,formEncType:a}=r;i.method=o.toUpperCase(),a==="application/json"?(i.headers=new Headers({"Content-Type":a}),i.body=JSON.stringify(r.json)):a==="text/plain"?i.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?i.body=bx(r.formData):i.body=r.formData}return new Request(s,i)}function bx(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function QA(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function JW(t,e,n,r,s){let i={},o=null,a,l=!1,c={},u=n&&Br(n[1])?n[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let p=h.route.id,g=e[p];if(Je(!Ga(g),"Cannot handle redirect results in processLoaderData"),Br(g)){let w=g.error;u!==void 0&&(w=u,u=void 0),o=o||{};{let v=dc(t,p);o[v.route.id]==null&&(o[v.route.id]=w)}i[p]=void 0,l||(l=!0,a=Ef(g.error)?g.error.status:500),g.headers&&(c[p]=g.headers)}else $o(g)?(r.set(p,g.deferredData),i[p]=g.deferredData.data,g.statusCode!=null&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(c[p]=g.headers)):(i[p]=g.data,g.statusCode&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(c[p]=g.headers))}),u!==void 0&&n&&(o={[n[0]]:u},i[n[0]]=void 0),{loaderData:i,errors:o,statusCode:a||200,loaderHeaders:c}}function YA(t,e,n,r,s,i,o,a){let{loaderData:l,errors:c}=JW(e,r,s,a);return i.forEach(u=>{let{key:h,match:p,controller:g}=u,w=o[h];if(Je(w,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(Br(w)){let v=dc(t.matches,p==null?void 0:p.route.id);c&&c[v.route.id]||(c=zt({},c,{[v.route.id]:w.error})),t.fetchers.delete(h)}else if(Ga(w))Je(!1,"Unhandled fetcher revalidation redirect");else if($o(w))Je(!1,"Unhandled fetcher deferred data");else{let v=go(w.data);t.fetchers.set(h,v)}}),{loaderData:l,errors:c}}function XA(t,e,n,r){let s=zt({},e);for(let i of n){let o=i.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(s[o]=e[o]):t[o]!==void 0&&i.route.loader&&(s[o]=t[o]),r&&r.hasOwnProperty(o))break}return s}function JA(t){return t?Br(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function dc(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function ZA(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function hr(t,e){let{pathname:n,routeId:r,method:s,type:i,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):s&&n&&r?l="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",s&&n&&r?l="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(l='Invalid request method "'+s.toUpperCase()+'"')),new wg(t||500,a,new Error(l),!0)}function Op(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,s]=e[n];if(Ga(s))return{key:r,result:s}}}function hM(t){let e=typeof t=="string"?_a(t):t;return wl(zt({},e,{hash:""}))}function ZW(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function eH(t){return typeof t=="object"&&t!=null&&"then"in t}function tH(t){return fM(t.result)&&LW.has(t.result.status)}function $o(t){return t.type===Et.deferred}function Br(t){return t.type===Et.error}function Ga(t){return(t&&t.type)===Et.redirect}function eR(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function nH(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function fM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function rH(t){return jW.has(t.toLowerCase())}function Rs(t){return MW.has(t.toLowerCase())}async function sH(t,e,n,r,s){let i=Object.entries(e);for(let o=0;o<i.length;o++){let[a,l]=i[o],c=t.find(p=>(p==null?void 0:p.route.id)===a);if(!c)continue;let u=r.find(p=>p.route.id===c.route.id),h=u!=null&&!uM(u,c)&&(s&&s[c.route.id])!==void 0;$o(l)&&h&&await XE(l,n,!1).then(p=>{p&&(e[a]=p)})}}async function iH(t,e,n){for(let r=0;r<n.length;r++){let{key:s,routeId:i,controller:o}=n[r],a=e[s];t.find(c=>(c==null?void 0:c.route.id)===i)&&$o(a)&&(Je(o,"Expected an AbortController for revalidating fetcher deferred result"),await XE(a,o.signal,!0).then(c=>{c&&(e[s]=c)}))}}async function XE(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Et.data,data:t.deferredData.unwrappedData}}catch(s){return{type:Et.error,error:s}}return{type:Et.data,data:t.deferredData.data}}}function JE(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Ed(t,e){let n=typeof e=="string"?_a(e).search:e.search;if(t[t.length-1].route.index&&JE(n||""))return t[t.length-1];let r=aM(t);return r[r.length-1]}function tR(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:i,json:o}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Pw(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function oH(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ld(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function aH(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function go(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function lH(t,e){try{let n=t.sessionStorage.getItem(cM);if(n){let r=JSON.parse(n);for(let[s,i]of Object.entries(r||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function cH(t,e){if(e.size>0){let n={};for(let[r,s]of e)n[r]=[...s];try{t.sessionStorage.setItem(cM,JSON.stringify(n))}catch(r){nu(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xg(){return xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xg.apply(this,arguments)}const kv=m.createContext(null),pM=m.createContext(null),Ea=m.createContext(null),ZE=m.createContext(null),ba=m.createContext({outlet:null,matches:[],isDataRoute:!1}),mM=m.createContext(null);function uH(t,e){let{relative:n}=e===void 0?{}:e;Eu()||Je(!1);let{basename:r,navigator:s}=m.useContext(Ea),{hash:i,pathname:o,search:a}=vM(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Oi([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Eu(){return m.useContext(ZE)!=null}function bf(){return Eu()||Je(!1),m.useContext(ZE).location}function gM(t){m.useContext(Ea).static||m.useLayoutEffect(t)}function Sf(){let{isDataRoute:t}=m.useContext(ba);return t?_H():dH()}function dH(){Eu()||Je(!1);let t=m.useContext(kv),{basename:e,future:n,navigator:r}=m.useContext(Ea),{matches:s}=m.useContext(ba),{pathname:i}=bf(),o=JSON.stringify(Nv(s,n.v7_relativeSplatPath)),a=m.useRef(!1);return gM(()=>{a.current=!0}),m.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=Dv(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Oi([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,i,t])}function vM(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext(Ea),{matches:s}=m.useContext(ba),{pathname:i}=bf(),o=JSON.stringify(Nv(s,r.v7_relativeSplatPath));return m.useMemo(()=>Dv(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function hH(t,e,n,r){Eu()||Je(!1);let{navigator:s}=m.useContext(Ea),{matches:i}=m.useContext(ba),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=bf(),u;u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=Ka(t,{pathname:p});return vH(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:Oi([l,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Oi([l,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n,r)}function fH(){let t=xM(),e=Ef(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:s},n):null,null)}const pH=m.createElement(fH,null);class mH extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(ba.Provider,{value:this.props.routeContext},m.createElement(mM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gH(t){let{routeContext:e,match:n,children:r}=t,s=m.useContext(kv);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(ba.Provider,{value:e},r)}function vH(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||Je(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:p,errors:g}=n,w=h.route.loader&&p[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,p)=>{let g,w=!1,v=null,_=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||pH,l&&(c<0&&p===0?(EH("route-fallback"),w=!0,_=null):c===p&&(w=!0,_=h.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,p+1)),y=()=>{let b;return g?b=v:w?b=_:h.route.Component?b=m.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=u,m.createElement(gH,{match:h,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?m.createElement(mH,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var yM=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(yM||{}),_g=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(_g||{});function yH(t){let e=m.useContext(kv);return e||Je(!1),e}function wH(t){let e=m.useContext(pM);return e||Je(!1),e}function xH(t){let e=m.useContext(ba);return e||Je(!1),e}function wM(t){let e=xH(),n=e.matches[e.matches.length-1];return n.route.id||Je(!1),n.route.id}function xM(){var t;let e=m.useContext(mM),n=wH(_g.UseRouteError),r=wM(_g.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function _H(){let{router:t}=yH(yM.UseNavigateStable),e=wM(_g.UseNavigateStable),n=m.useRef(!1);return gM(()=>{n.current=!0}),m.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,xg({fromRouteId:e},i)))},[t,e])}const nR={};function EH(t,e,n){nR[t]||(nR[t]=!0)}function _M(t){let{to:e,replace:n,state:r,relative:s}=t;Eu()||Je(!1);let{future:i,static:o}=m.useContext(Ea),{matches:a}=m.useContext(ba),{pathname:l}=bf(),c=Sf(),u=Dv(e,Nv(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(u);return m.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function bH(t){let{basename:e="/",children:n=null,location:r,navigationType:s=hn.Pop,navigator:i,static:o=!1,future:a}=t;Eu()&&Je(!1);let l=e.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:l,navigator:i,static:o,future:xg({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=_a(r));let{pathname:u="/",search:h="",hash:p="",state:g=null,key:w="default"}=r,v=m.useMemo(()=>{let _=_u(u,l);return _==null?null:{location:{pathname:_,search:h,hash:p,state:g,key:w},navigationType:s}},[l,u,h,p,g,w,s]);return v==null?null:m.createElement(Ea.Provider,{value:c},m.createElement(ZE.Provider,{children:n,value:v}))}new Promise(()=>{});function SH(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:m.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:m.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:m.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ih(){return Ih=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ih.apply(this,arguments)}function TH(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function CH(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function AH(t,e){return t.button===0&&(!e||e==="_self")&&!CH(t)}const RH=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],IH="6";try{window.__reactRouterVersion=IH}catch{}function PH(t,e){return BW({basename:e==null?void 0:e.basename,future:Ih({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:dW({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||NH(),routes:t,mapRouteProperties:SH,unstable_dataStrategy:e==null?void 0:e.unstable_dataStrategy,unstable_patchRoutesOnNavigation:e==null?void 0:e.unstable_patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function NH(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Ih({},e,{errors:DH(e.errors)})),e}function DH(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new wg(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let i=new Error(s.message);i.stack="",n[r]=i}}else n[r]=s;return n}const kH=m.createContext({isTransitioning:!1}),MH=m.createContext(new Map),OH="startTransition",rR=sN[OH],jH="flushSync",sR=i3[jH];function LH(t){rR?rR(t):t()}function cd(t){sR?sR(t):t()}class VH{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function FH(t){let{fallbackElement:e,router:n,future:r}=t,[s,i]=m.useState(n.state),[o,a]=m.useState(),[l,c]=m.useState({isTransitioning:!1}),[u,h]=m.useState(),[p,g]=m.useState(),[w,v]=m.useState(),_=m.useRef(new Map),{v7_startTransition:x}=r||{},y=m.useCallback(E=>{x?LH(E):E()},[x]),b=m.useCallback((E,I)=>{let{deletedFetchers:R,unstable_flushSync:k,unstable_viewTransitionOpts:M}=I;R.forEach(W=>_.current.delete(W)),E.fetchers.forEach((W,se)=>{W.data!==void 0&&_.current.set(se,W.data)});let N=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!M||N){k?cd(()=>i(E)):y(()=>i(E));return}if(k){cd(()=>{p&&(u&&u.resolve(),p.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:M.currentLocation,nextLocation:M.nextLocation})});let W=n.window.document.startViewTransition(()=>{cd(()=>i(E))});W.finished.finally(()=>{cd(()=>{h(void 0),g(void 0),a(void 0),c({isTransitioning:!1})})}),cd(()=>g(W));return}p?(u&&u.resolve(),p.skipTransition(),v({state:E,currentLocation:M.currentLocation,nextLocation:M.nextLocation})):(a(E),c({isTransitioning:!0,flushSync:!1,currentLocation:M.currentLocation,nextLocation:M.nextLocation}))},[n.window,p,u,_,y]);m.useLayoutEffect(()=>n.subscribe(b),[n,b]),m.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new VH)},[l]),m.useEffect(()=>{if(u&&o&&n.window){let E=o,I=u.promise,R=n.window.document.startViewTransition(async()=>{y(()=>i(E)),await I});R.finished.finally(()=>{h(void 0),g(void 0),a(void 0),c({isTransitioning:!1})}),g(R)}},[y,o,u,n.window]),m.useEffect(()=>{u&&o&&s.location.key===o.location.key&&u.resolve()},[u,p,s.location,o]),m.useEffect(()=>{!l.isTransitioning&&w&&(a(w.state),c({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),v(void 0))},[l.isTransitioning,w]),m.useEffect(()=>{},[]);let C=m.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:E=>n.navigate(E),push:(E,I,R)=>n.navigate(E,{state:I,preventScrollReset:R==null?void 0:R.preventScrollReset}),replace:(E,I,R)=>n.navigate(E,{replace:!0,state:I,preventScrollReset:R==null?void 0:R.preventScrollReset})}),[n]),P=n.basename||"/",O=m.useMemo(()=>({router:n,navigator:C,static:!1,basename:P}),[n,C,P]),T=m.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return m.createElement(m.Fragment,null,m.createElement(kv.Provider,{value:O},m.createElement(pM.Provider,{value:s},m.createElement(MH.Provider,{value:_.current},m.createElement(kH.Provider,{value:l},m.createElement(bH,{basename:P,location:s.location,navigationType:s.historyAction,navigator:C,future:T},s.initialized||n.future.v7_partialHydration?m.createElement(UH,{routes:n.routes,future:n.future,state:s}):e))))),null)}const UH=m.memo(BH);function BH(t){let{routes:e,future:n,state:r}=t;return hH(e,void 0,r,n)}const $H=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KH=m.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:h}=e,p=TH(e,RH),{basename:g}=m.useContext(Ea),w,v=!1;if(typeof c=="string"&&zH.test(c)&&(w=c,$H))try{let b=new URL(window.location.href),C=c.startsWith("//")?new URL(b.protocol+c):new URL(c),P=_u(C.pathname,g);C.origin===b.origin&&P!=null?c=P+C.search+C.hash:v=!0}catch{}let _=uH(c,{relative:s}),x=WH(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,unstable_viewTransition:h});function y(b){r&&r(b),b.defaultPrevented||x(b)}return m.createElement("a",Ih({},p,{href:w||_,onClick:v||i?r:y,ref:n,target:l}))});var iR;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(iR||(iR={}));var oR;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(oR||(oR={}));function WH(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Sf(),c=bf(),u=vM(t,{relative:o});return m.useCallback(h=>{if(AH(h,n)){h.preventDefault();let p=r!==void 0?r:wl(c)===wl(u);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[c,l,u,r,s,n,t,i,o,a])}const HH=()=>{const t=ut(n=>n.isAuth),e=Sf();m.useEffect(()=>{(async()=>{try{const r=kK();await v9(r),pt("Sign in success")}catch{}})()},[]),m.useEffect(()=>{if(!t)return e("/login")},[t])};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),EM=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>m.createElement("svg",{ref:l,...GH,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:EM("lucide",s),...a},[...o.map(([c,u])=>m.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=(t,e)=>{const n=m.forwardRef(({className:r,...s},i)=>m.createElement(QH,{ref:i,iconNode:e,className:EM(`lucide-${qH(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=Ge("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=Ge("Blocks",[["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["path",{d:"M10 21V8a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H3",key:"1fpvtg"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=Ge("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=Ge("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=Ge("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=Ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=Ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=Ge("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=Ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=Ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=Ge("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=Ge("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=Ge("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=Ge("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=Ge("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=Ge("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=Ge("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=Ge("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=Ge("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=Ge("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i8=Ge("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=Ge("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=Ge("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=Ge("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=Ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=Ge("MessageSquareCode",[["path",{d:"M10 7.5 8 10l2 2.5",key:"xb17xw"}],["path",{d:"m14 7.5 2 2.5-2 2.5",key:"5rap1v"}],["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d8=Ge("MessageSquareMore",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M16 10h.01",key:"1m94wz"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=Ge("MessageSquareText",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M13 8H7",key:"14i4kc"}],["path",{d:"M17 12H7",key:"16if0g"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=Ge("PanelRight",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=Ge("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=Ge("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=Ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=Ge("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=Ge("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=Ge("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=Ge("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=Ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=Ge("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=Ge("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=Ge("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=Ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=Ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=Ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Z(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function w8(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function jv(...t){return e=>t.forEach(n=>w8(n,e))}function ke(...t){return m.useCallback(jv(...t),t)}function x8(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=h=>{var x;const{scope:p,children:g,...w}=h,v=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,_=m.useMemo(()=>w,Object.values(w));return d.jsx(v.Provider,{value:_,children:g})};c.displayName=i+"Provider";function u(h,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,_8(s,...e)]}function _8(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function mt(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function aa({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=E8({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=mt(n),l=m.useCallback(c=>{if(i){const h=typeof c=="function"?c(t):c;h!==t&&a(h)}else s(c)},[i,t,s,a]);return[o,l]}function E8({defaultProp:t,onChange:e}){const n=m.useState(t),[r]=n,s=m.useRef(r),i=mt(e);return m.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var la=m.forwardRef((t,e)=>{const{children:n,...r}=t,s=m.Children.toArray(n),i=s.find(b8);if(i){const o=i.props.children,a=s.map(l=>l===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:l);return d.jsx(Sx,{...r,ref:e,children:m.isValidElement(o)?m.cloneElement(o,void 0,a):null})}return d.jsx(Sx,{...r,ref:e,children:n})});la.displayName="Slot";var Sx=m.forwardRef((t,e)=>{const{children:n,...r}=t;if(m.isValidElement(n)){const s=T8(n);return m.cloneElement(n,{...S8(r,n.props),ref:e?jv(e,s):s})}return m.Children.count(n)>1?m.Children.only(null):null});Sx.displayName="SlotClone";var rb=({children:t})=>d.jsx(d.Fragment,{children:t});function b8(t){return m.isValidElement(t)&&t.type===rb}function S8(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function T8(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var C8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ve=C8.reduce((t,e)=>{const n=m.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?la:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Nl(t,e){t&&Ar.flushSync(()=>t.dispatchEvent(e))}function Dl(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:p,children:g,...w}=h,v=(p==null?void 0:p[t][l])||a,_=m.useMemo(()=>w,Object.values(w));return d.jsx(v.Provider,{value:_,children:g})}function u(h,p){const g=(p==null?void 0:p[t][l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,A8(s,...e)]}function A8(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Lv(t){const e=t+"CollectionProvider",[n,r]=Dl(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:w,children:v}=g,_=Re.useRef(null),x=Re.useRef(new Map).current;return d.jsx(s,{scope:w,itemMap:x,collectionRef:_,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=Re.forwardRef((g,w)=>{const{scope:v,children:_}=g,x=i(a,v),y=ke(w,x.collectionRef);return d.jsx(la,{ref:y,children:_})});l.displayName=a;const c=t+"CollectionItemSlot",u="data-radix-collection-item",h=Re.forwardRef((g,w)=>{const{scope:v,children:_,...x}=g,y=Re.useRef(null),b=ke(w,y),C=i(c,v);return Re.useEffect(()=>(C.itemMap.set(y,{ref:y,...x}),()=>void C.itemMap.delete(y))),d.jsx(la,{[u]:"",ref:b,children:_})});h.displayName=c;function p(g){const w=i(t+"CollectionConsumer",g);return Re.useCallback(()=>{const _=w.collectionRef.current;if(!_)return[];const x=Array.from(_.querySelectorAll(`[${u}]`));return Array.from(w.itemMap.values()).sort((C,P)=>x.indexOf(C.ref.current)-x.indexOf(P.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},p,r]}function R8(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=h=>{var x;const{scope:p,children:g,...w}=h,v=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,_=m.useMemo(()=>w,Object.values(w));return d.jsx(v.Provider,{value:_,children:g})};c.displayName=i+"Provider";function u(h,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,I8(s,...e)]}function I8(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var P8=m.createContext(void 0);function Cf(t){const e=m.useContext(P8);return t||e||"ltr"}function Af(t,e=globalThis==null?void 0:globalThis.document){const n=mt(t);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var N8="DismissableLayer",Tx="dismissableLayer.update",D8="dismissableLayer.pointerDownOutside",k8="dismissableLayer.focusOutside",lR,MM=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),OM=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(MM),[u,h]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=ke(e,T=>h(T)),v=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(_),y=u?v.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,C=y>=x,P=j8(T=>{const E=T.target,I=[...c.branches].some(R=>R.contains(E));!C||I||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},p),O=L8(T=>{const E=T.target;[...c.branches].some(R=>R.contains(E))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},p);return Af(T=>{y===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(lR=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),cR(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=lR)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),cR())},[u,c]),m.useEffect(()=>{const T=()=>g({});return document.addEventListener(Tx,T),()=>document.removeEventListener(Tx,T)},[]),d.jsx(ve.div,{...l,ref:w,style:{pointerEvents:b?C?"auto":"none":void 0,...t.style},onFocusCapture:Z(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Z(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Z(t.onPointerDownCapture,P.onPointerDownCapture)})});OM.displayName=N8;var M8="DismissableLayerBranch",O8=m.forwardRef((t,e)=>{const n=m.useContext(MM),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(ve.div,{...t,ref:s})});O8.displayName=M8;function j8(t,e=globalThis==null?void 0:globalThis.document){const n=mt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){jM(D8,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function L8(t,e=globalThis==null?void 0:globalThis.document){const n=mt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&jM(k8,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function cR(){const t=new CustomEvent(Tx);document.dispatchEvent(t)}function jM(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Nl(s,i):s.dispatchEvent(i)}var Nw=0;function sb(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??uR()),document.body.insertAdjacentElement("beforeend",t[1]??uR()),Nw++,()=>{Nw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Nw--}},[])}function uR(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Dw="focusScope.autoFocusOnMount",kw="focusScope.autoFocusOnUnmount",dR={bubbles:!1,cancelable:!0},V8="FocusScope",Vv=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=m.useState(null),c=mt(s),u=mt(i),h=m.useRef(null),p=ke(e,v=>l(v)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let v=function(b){if(g.paused||!a)return;const C=b.target;a.contains(C)?h.current=C:vo(h.current,{select:!0})},_=function(b){if(g.paused||!a)return;const C=b.relatedTarget;C!==null&&(a.contains(C)||vo(h.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const P of b)P.removedNodes.length>0&&vo(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",_);const y=new MutationObserver(x);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",_),y.disconnect()}}},[r,a,g.paused]),m.useEffect(()=>{if(a){fR.add(g);const v=document.activeElement;if(!a.contains(v)){const x=new CustomEvent(Dw,dR);a.addEventListener(Dw,c),a.dispatchEvent(x),x.defaultPrevented||(F8(K8(LM(a)),{select:!0}),document.activeElement===v&&vo(a))}return()=>{a.removeEventListener(Dw,c),setTimeout(()=>{const x=new CustomEvent(kw,dR);a.addEventListener(kw,u),a.dispatchEvent(x),x.defaultPrevented||vo(v??document.body,{select:!0}),a.removeEventListener(kw,u),fR.remove(g)},0)}}},[a,c,u,g]);const w=m.useCallback(v=>{if(!n&&!r||g.paused)return;const _=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(_&&x){const y=v.currentTarget,[b,C]=U8(y);b&&C?!v.shiftKey&&x===C?(v.preventDefault(),n&&vo(b,{select:!0})):v.shiftKey&&x===b&&(v.preventDefault(),n&&vo(C,{select:!0})):x===y&&v.preventDefault()}},[n,r,g.paused]);return d.jsx(ve.div,{tabIndex:-1,...o,ref:p,onKeyDown:w})});Vv.displayName=V8;function F8(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(vo(r,{select:e}),document.activeElement!==n)return}function U8(t){const e=LM(t),n=hR(e,t),r=hR(e.reverse(),t);return[n,r]}function LM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function hR(t,e){for(const n of t)if(!B8(n,{upTo:e}))return n}function B8(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function $8(t){return t instanceof HTMLInputElement&&"select"in t}function vo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&$8(t)&&e&&t.select()}}var fR=z8();function z8(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=pR(t,e),t.unshift(e)},remove(e){var n;t=pR(t,e),(n=t[0])==null||n.resume()}}}function pR(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function K8(t){return t.filter(e=>e.tagName!=="A")}var Pt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},W8=sN.useId||(()=>{}),H8=0;function js(t){const[e,n]=m.useState(W8());return Pt(()=>{t||n(r=>r??String(H8++))},[t]),t||(e?`radix-${e}`:"")}const q8=["top","right","bottom","left"],ca=Math.min,$r=Math.max,Eg=Math.round,jp=Math.floor,ua=t=>({x:t,y:t}),G8={left:"right",right:"left",bottom:"top",top:"bottom"},Q8={start:"end",end:"start"};function Cx(t,e,n){return $r(t,ca(e,n))}function Xi(t,e){return typeof t=="function"?t(e):t}function Ji(t){return t.split("-")[0]}function Tu(t){return t.split("-")[1]}function ib(t){return t==="x"?"y":"x"}function ob(t){return t==="y"?"height":"width"}function da(t){return["top","bottom"].includes(Ji(t))?"y":"x"}function ab(t){return ib(da(t))}function Y8(t,e,n){n===void 0&&(n=!1);const r=Tu(t),s=ab(t),i=ob(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=bg(o)),[o,bg(o)]}function X8(t){const e=bg(t);return[Ax(t),e,Ax(e)]}function Ax(t){return t.replace(/start|end/g,e=>Q8[e])}function J8(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function Z8(t,e,n,r){const s=Tu(t);let i=J8(Ji(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Ax)))),i}function bg(t){return t.replace(/left|right|bottom|top/g,e=>G8[e])}function e7(t){return{top:0,right:0,bottom:0,left:0,...t}}function VM(t){return typeof t!="number"?e7(t):{top:t,right:t,bottom:t,left:t}}function Sg(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function mR(t,e,n){let{reference:r,floating:s}=t;const i=da(e),o=ab(e),a=ob(o),l=Ji(e),c=i==="y",u=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:u,y:r.y-s.height};break;case"bottom":g={x:u,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-s.width,y:h};break;default:g={x:r.x,y:r.y}}switch(Tu(e)){case"start":g[o]-=p*(n&&c?-1:1);break;case"end":g[o]+=p*(n&&c?-1:1);break}return g}const t7=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:h}=mR(c,r,l),p=r,g={},w=0;for(let v=0;v<a.length;v++){const{name:_,fn:x}=a[v],{x:y,y:b,data:C,reset:P}=await x({x:u,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});u=y??u,h=b??h,g={...g,[_]:{...g[_],...C}},P&&w<=50&&(w++,typeof P=="object"&&(P.placement&&(p=P.placement),P.rects&&(c=P.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):P.rects),{x:u,y:h}=mR(c,p,l)),v=-1)}return{x:u,y:h,placement:p,strategy:s,middlewareData:g}};async function Ph(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:p=!1,padding:g=0}=Xi(e,t),w=VM(g),_=a[p?h==="floating"?"reference":"floating":h],x=Sg(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),C=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},P=Sg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:b,strategy:l}):y);return{top:(x.top-P.top+w.top)/C.y,bottom:(P.bottom-x.bottom+w.bottom)/C.y,left:(x.left-P.left+w.left)/C.x,right:(P.right-x.right+w.right)/C.x}}const n7=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Xi(t,e)||{};if(c==null)return{};const h=VM(u),p={x:n,y:r},g=ab(s),w=ob(g),v=await o.getDimensions(c),_=g==="y",x=_?"top":"left",y=_?"bottom":"right",b=_?"clientHeight":"clientWidth",C=i.reference[w]+i.reference[g]-p[g]-i.floating[w],P=p[g]-i.reference[g],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let T=O?O[b]:0;(!T||!await(o.isElement==null?void 0:o.isElement(O)))&&(T=a.floating[b]||i.floating[w]);const E=C/2-P/2,I=T/2-v[w]/2-1,R=ca(h[x],I),k=ca(h[y],I),M=R,N=T-v[w]-k,W=T/2-v[w]/2+E,se=Cx(M,W,N),ne=!l.arrow&&Tu(s)!=null&&W!==se&&i.reference[w]/2-(W<M?R:k)-v[w]/2<0,Y=ne?W<M?W-M:W-N:0;return{[g]:p[g]+Y,data:{[g]:se,centerOffset:W-se-Y,...ne&&{alignmentOffset:Y}},reset:ne}}}),r7=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,..._}=Xi(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Ji(s),y=da(a),b=Ji(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),P=p||(b||!v?[bg(a)]:X8(a)),O=w!=="none";!p&&O&&P.push(...Z8(a,v,w,C));const T=[a,...P],E=await Ph(e,_),I=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&I.push(E[x]),h){const W=Y8(s,o,C);I.push(E[W[0]],E[W[1]])}if(R=[...R,{placement:s,overflows:I}],!I.every(W=>W<=0)){var k,M;const W=(((k=i.flip)==null?void 0:k.index)||0)+1,se=T[W];if(se)return{data:{index:W,overflows:R},reset:{placement:se}};let ne=(M=R.filter(Y=>Y.overflows[0]<=0).sort((Y,z)=>Y.overflows[1]-z.overflows[1])[0])==null?void 0:M.placement;if(!ne)switch(g){case"bestFit":{var N;const Y=(N=R.filter(z=>{if(O){const B=da(z.placement);return B===y||B==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(B=>B>0).reduce((B,J)=>B+J,0)]).sort((z,B)=>z[1]-B[1])[0])==null?void 0:N[0];Y&&(ne=Y);break}case"initialPlacement":ne=a;break}if(s!==ne)return{reset:{placement:ne}}}return{}}}};function gR(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function vR(t){return q8.some(e=>t[e]>=0)}const s7=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Xi(t,e);switch(r){case"referenceHidden":{const i=await Ph(e,{...s,elementContext:"reference"}),o=gR(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:vR(o)}}}case"escaped":{const i=await Ph(e,{...s,altBoundary:!0}),o=gR(i,n.floating);return{data:{escapedOffsets:o,escaped:vR(o)}}}default:return{}}}}};async function i7(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Ji(n),a=Tu(n),l=da(n)==="y",c=["left","top"].includes(o)?-1:1,u=i&&l?-1:1,h=Xi(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof w=="number"&&(g=a==="end"?w*-1:w),l?{x:g*u,y:p*c}:{x:p*c,y:g*u}}const o7=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await i7(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},a7=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x,y}=_;return{x,y}}},...l}=Xi(t,e),c={x:n,y:r},u=await Ph(e,l),h=da(Ji(s)),p=ib(h);let g=c[p],w=c[h];if(i){const _=p==="y"?"top":"left",x=p==="y"?"bottom":"right",y=g+u[_],b=g-u[x];g=Cx(y,g,b)}if(o){const _=h==="y"?"top":"left",x=h==="y"?"bottom":"right",y=w+u[_],b=w-u[x];w=Cx(y,w,b)}const v=a.fn({...e,[p]:g,[h]:w});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[p]:i,[h]:o}}}}}},l7=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Xi(t,e),u={x:n,y:r},h=da(s),p=ib(h);let g=u[p],w=u[h];const v=Xi(a,e),_=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const b=p==="y"?"height":"width",C=i.reference[p]-i.floating[b]+_.mainAxis,P=i.reference[p]+i.reference[b]-_.mainAxis;g<C?g=C:g>P&&(g=P)}if(c){var x,y;const b=p==="y"?"width":"height",C=["top","left"].includes(Ji(s)),P=i.reference[h]-i.floating[b]+(C&&((x=o.offset)==null?void 0:x[h])||0)+(C?0:_.crossAxis),O=i.reference[h]+i.reference[b]+(C?0:((y=o.offset)==null?void 0:y[h])||0)-(C?_.crossAxis:0);w<P?w=P:w>O&&(w=O)}return{[p]:g,[h]:w}}}},c7=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Xi(t,e),u=await Ph(e,c),h=Ji(s),p=Tu(s),g=da(s)==="y",{width:w,height:v}=i.floating;let _,x;h==="top"||h==="bottom"?(_=h,x=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=h,_=p==="end"?"top":"bottom");const y=v-u.top-u.bottom,b=w-u.left-u.right,C=ca(v-u[_],y),P=ca(w-u[x],b),O=!e.middlewareData.shift;let T=C,E=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(E=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=y),O&&!p){const R=$r(u.left,0),k=$r(u.right,0),M=$r(u.top,0),N=$r(u.bottom,0);g?E=w-2*(R!==0||k!==0?R+k:$r(u.left,u.right)):T=v-2*(M!==0||N!==0?M+N:$r(u.top,u.bottom))}await l({...e,availableWidth:E,availableHeight:T});const I=await o.getDimensions(a.floating);return w!==I.width||v!==I.height?{reset:{rects:!0}}:{}}}};function Fv(){return typeof window<"u"}function Cu(t){return FM(t)?(t.nodeName||"").toLowerCase():"#document"}function Hr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function fi(t){var e;return(e=(FM(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function FM(t){return Fv()?t instanceof Node||t instanceof Hr(t).Node:!1}function Vs(t){return Fv()?t instanceof Element||t instanceof Hr(t).Element:!1}function ci(t){return Fv()?t instanceof HTMLElement||t instanceof Hr(t).HTMLElement:!1}function yR(t){return!Fv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Hr(t).ShadowRoot}function Rf(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Fs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function u7(t){return["table","td","th"].includes(Cu(t))}function Uv(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function lb(t){const e=cb(),n=Vs(t)?Fs(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function d7(t){let e=ha(t);for(;ci(e)&&!ru(e);){if(lb(e))return e;if(Uv(e))return null;e=ha(e)}return null}function cb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ru(t){return["html","body","#document"].includes(Cu(t))}function Fs(t){return Hr(t).getComputedStyle(t)}function Bv(t){return Vs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ha(t){if(Cu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||yR(t)&&t.host||fi(t);return yR(e)?e.host:e}function UM(t){const e=ha(t);return ru(e)?t.ownerDocument?t.ownerDocument.body:t.body:ci(e)&&Rf(e)?e:UM(e)}function Nh(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=UM(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Hr(s);if(i){const a=Rx(o);return e.concat(o,o.visualViewport||[],Rf(s)?s:[],a&&n?Nh(a):[])}return e.concat(s,Nh(s,[],n))}function Rx(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function BM(t){const e=Fs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=ci(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Eg(n)!==i||Eg(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function ub(t){return Vs(t)?t:t.contextElement}function Ac(t){const e=ub(t);if(!ci(e))return ua(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=BM(e);let o=(i?Eg(n.width):n.width)/r,a=(i?Eg(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const h7=ua(0);function $M(t){const e=Hr(t);return!cb()||!e.visualViewport?h7:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function f7(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Hr(t)?!1:e}function xl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=ub(t);let o=ua(1);e&&(r?Vs(r)&&(o=Ac(r)):o=Ac(t));const a=f7(i,n,r)?$M(i):ua(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,h=s.height/o.y;if(i){const p=Hr(i),g=r&&Vs(r)?Hr(r):r;let w=p,v=Rx(w);for(;v&&r&&g!==w;){const _=Ac(v),x=v.getBoundingClientRect(),y=Fs(v),b=x.left+(v.clientLeft+parseFloat(y.paddingLeft))*_.x,C=x.top+(v.clientTop+parseFloat(y.paddingTop))*_.y;l*=_.x,c*=_.y,u*=_.x,h*=_.y,l+=b,c+=C,w=Hr(v),v=Rx(w)}}return Sg({width:u,height:h,x:l,y:c})}function p7(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=fi(r),a=e?Uv(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=ua(1);const u=ua(0),h=ci(r);if((h||!h&&!i)&&((Cu(r)!=="body"||Rf(o))&&(l=Bv(r)),ci(r))){const p=xl(r);c=Ac(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function m7(t){return Array.from(t.getClientRects())}function Ix(t,e){const n=Bv(t).scrollLeft;return e?e.left+n:xl(fi(t)).left+n}function g7(t){const e=fi(t),n=Bv(t),r=t.ownerDocument.body,s=$r(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=$r(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Ix(t);const a=-n.scrollTop;return Fs(r).direction==="rtl"&&(o+=$r(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function v7(t,e){const n=Hr(t),r=fi(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=cb();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function y7(t,e){const n=xl(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=ci(t)?Ac(t):ua(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function wR(t,e,n){let r;if(e==="viewport")r=v7(t,n);else if(e==="document")r=g7(fi(t));else if(Vs(e))r=y7(e,n);else{const s=$M(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return Sg(r)}function zM(t,e){const n=ha(t);return n===e||!Vs(n)||ru(n)?!1:Fs(n).position==="fixed"||zM(n,e)}function w7(t,e){const n=e.get(t);if(n)return n;let r=Nh(t,[],!1).filter(a=>Vs(a)&&Cu(a)!=="body"),s=null;const i=Fs(t).position==="fixed";let o=i?ha(t):t;for(;Vs(o)&&!ru(o);){const a=Fs(o),l=lb(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Rf(o)&&!l&&zM(t,o))?r=r.filter(u=>u!==o):s=a,o=ha(o)}return e.set(t,r),r}function x7(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Uv(e)?[]:w7(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const h=wR(e,u,s);return c.top=$r(h.top,c.top),c.right=ca(h.right,c.right),c.bottom=ca(h.bottom,c.bottom),c.left=$r(h.left,c.left),c},wR(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function _7(t){const{width:e,height:n}=BM(t);return{width:e,height:n}}function E7(t,e,n){const r=ci(e),s=fi(e),i=n==="fixed",o=xl(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=ua(0);if(r||!r&&!i)if((Cu(e)!=="body"||Rf(s))&&(a=Bv(e)),r){const g=xl(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&(l.x=Ix(s));let c=0,u=0;if(s&&!r&&!i){const g=s.getBoundingClientRect();u=g.top+a.scrollTop,c=g.left+a.scrollLeft-Ix(s,g)}const h=o.left+a.scrollLeft-l.x-c,p=o.top+a.scrollTop-l.y-u;return{x:h,y:p,width:o.width,height:o.height}}function Mw(t){return Fs(t).position==="static"}function xR(t,e){if(!ci(t)||Fs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return fi(t)===n&&(n=n.ownerDocument.body),n}function KM(t,e){const n=Hr(t);if(Uv(t))return n;if(!ci(t)){let s=ha(t);for(;s&&!ru(s);){if(Vs(s)&&!Mw(s))return s;s=ha(s)}return n}let r=xR(t,e);for(;r&&u7(r)&&Mw(r);)r=xR(r,e);return r&&ru(r)&&Mw(r)&&!lb(r)?n:r||d7(t)||n}const b7=async function(t){const e=this.getOffsetParent||KM,n=this.getDimensions,r=await n(t.floating);return{reference:E7(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function S7(t){return Fs(t).direction==="rtl"}const T7={convertOffsetParentRelativeRectToViewportRelativeRect:p7,getDocumentElement:fi,getClippingRect:x7,getOffsetParent:KM,getElementRects:b7,getClientRects:m7,getDimensions:_7,getScale:Ac,isElement:Vs,isRTL:S7};function C7(t,e){let n=null,r;const s=fi(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:u,width:h,height:p}=t.getBoundingClientRect();if(a||e(),!h||!p)return;const g=jp(u),w=jp(s.clientWidth-(c+h)),v=jp(s.clientHeight-(u+p)),_=jp(c),y={rootMargin:-g+"px "+-w+"px "+-v+"px "+-_+"px",threshold:$r(0,ca(1,l))||1};let b=!0;function C(P){const O=P[0].intersectionRatio;if(O!==l){if(!b)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(C,{...y,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,y)}n.observe(t)}return o(!0),i}function A7(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=ub(t),u=s||i?[...c?Nh(c):[],...Nh(e)]:[];u.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const h=c&&a?C7(c,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(x=>{let[y]=x;y&&y.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let w,v=l?xl(t):null;l&&_();function _(){const x=xl(t);v&&(x.x!==v.x||x.y!==v.y||x.width!==v.width||x.height!==v.height)&&n(),v=x,w=requestAnimationFrame(_)}return n(),()=>{var x;u.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),h==null||h(),(x=g)==null||x.disconnect(),g=null,l&&cancelAnimationFrame(w)}}const R7=o7,I7=a7,P7=r7,N7=c7,D7=s7,_R=n7,k7=l7,M7=(t,e,n)=>{const r=new Map,s={platform:T7,...n},i={...s.platform,_c:r};return t7(t,e,{...s,platform:i})};var bm=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Tg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Tg(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Tg(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function WM(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ER(t,e){const n=WM(t);return Math.round(e*n)/n}function Ow(t){const e=m.useRef(t);return bm(()=>{e.current=t}),e}function O7(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,h]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=m.useState(r);Tg(p,r)||g(r);const[w,v]=m.useState(null),[_,x]=m.useState(null),y=m.useCallback(z=>{z!==O.current&&(O.current=z,v(z))},[]),b=m.useCallback(z=>{z!==T.current&&(T.current=z,x(z))},[]),C=i||w,P=o||_,O=m.useRef(null),T=m.useRef(null),E=m.useRef(u),I=l!=null,R=Ow(l),k=Ow(s),M=Ow(c),N=m.useCallback(()=>{if(!O.current||!T.current)return;const z={placement:e,strategy:n,middleware:p};k.current&&(z.platform=k.current),M7(O.current,T.current,z).then(B=>{const J={...B,isPositioned:M.current!==!1};W.current&&!Tg(E.current,J)&&(E.current=J,Ar.flushSync(()=>{h(J)}))})},[p,e,n,k,M]);bm(()=>{c===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h(z=>({...z,isPositioned:!1})))},[c]);const W=m.useRef(!1);bm(()=>(W.current=!0,()=>{W.current=!1}),[]),bm(()=>{if(C&&(O.current=C),P&&(T.current=P),C&&P){if(R.current)return R.current(C,P,N);N()}},[C,P,N,R,I]);const se=m.useMemo(()=>({reference:O,floating:T,setReference:y,setFloating:b}),[y,b]),ne=m.useMemo(()=>({reference:C,floating:P}),[C,P]),Y=m.useMemo(()=>{const z={position:n,left:0,top:0};if(!ne.floating)return z;const B=ER(ne.floating,u.x),J=ER(ne.floating,u.y);return a?{...z,transform:"translate("+B+"px, "+J+"px)",...WM(ne.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:J}},[n,a,ne.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:N,refs:se,elements:ne,floatingStyles:Y}),[u,N,se,ne,Y])}const j7=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?_R({element:r.current,padding:s}).fn(n):{}:r?_R({element:r,padding:s}).fn(n):{}}}},L7=(t,e)=>({...R7(t),options:[t,e]}),V7=(t,e)=>({...I7(t),options:[t,e]}),F7=(t,e)=>({...k7(t),options:[t,e]}),U7=(t,e)=>({...P7(t),options:[t,e]}),B7=(t,e)=>({...N7(t),options:[t,e]}),$7=(t,e)=>({...D7(t),options:[t,e]}),z7=(t,e)=>({...j7(t),options:[t,e]});var K7="Arrow",HM=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return d.jsx(ve.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});HM.displayName=K7;var W7=HM;function H7(t){const[e,n]=m.useState(void 0);return Pt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var db="Popper",[qM,Au]=Dl(db),[q7,GM]=qM(db),QM=t=>{const{__scopePopper:e,children:n}=t,[r,s]=m.useState(null);return d.jsx(q7,{scope:e,anchor:r,onAnchorChange:s,children:n})};QM.displayName=db;var YM="PopperAnchor",XM=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=GM(YM,n),o=m.useRef(null),a=ke(e,o);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:d.jsx(ve.div,{...s,ref:a})});XM.displayName=YM;var hb="PopperContent",[G7,Q7]=qM(hb),JM=m.forwardRef((t,e)=>{var ce,Pe,He,pe,$e,Oe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:w,...v}=t,_=GM(hb,n),[x,y]=m.useState(null),b=ke(e,yt=>y(yt)),[C,P]=m.useState(null),O=H7(C),T=(O==null?void 0:O.width)??0,E=(O==null?void 0:O.height)??0,I=r+(i!=="center"?"-"+i:""),R=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},k=Array.isArray(c)?c:[c],M=k.length>0,N={padding:R,boundary:k.filter(X7),altBoundary:M},{refs:W,floatingStyles:se,placement:ne,isPositioned:Y,middlewareData:z}=O7({strategy:"fixed",placement:I,whileElementsMounted:(...yt)=>A7(...yt,{animationFrame:g==="always"}),elements:{reference:_.anchor},middleware:[L7({mainAxis:s+E,alignmentAxis:o}),l&&V7({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?F7():void 0,...N}),l&&U7({...N}),B7({...N,apply:({elements:yt,rects:qe,availableWidth:Vt,availableHeight:mn})=>{const{width:Mr,height:j}=qe.reference,$=yt.floating.style;$.setProperty("--radix-popper-available-width",`${Vt}px`),$.setProperty("--radix-popper-available-height",`${mn}px`),$.setProperty("--radix-popper-anchor-width",`${Mr}px`),$.setProperty("--radix-popper-anchor-height",`${j}px`)}}),C&&z7({element:C,padding:a}),J7({arrowWidth:T,arrowHeight:E}),p&&$7({strategy:"referenceHidden",...N})]}),[B,J]=tO(ne),fe=mt(w);Pt(()=>{Y&&(fe==null||fe())},[Y,fe]);const he=(ce=z.arrow)==null?void 0:ce.x,Te=(Pe=z.arrow)==null?void 0:Pe.y,We=((He=z.arrow)==null?void 0:He.centerOffset)!==0,[at,Ne]=m.useState();return Pt(()=>{x&&Ne(window.getComputedStyle(x).zIndex)},[x]),d.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:Y?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:at,"--radix-popper-transform-origin":[(pe=z.transformOrigin)==null?void 0:pe.x,($e=z.transformOrigin)==null?void 0:$e.y].join(" "),...((Oe=z.hide)==null?void 0:Oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(G7,{scope:n,placedSide:B,onArrowChange:P,arrowX:he,arrowY:Te,shouldHideArrow:We,children:d.jsx(ve.div,{"data-side":B,"data-align":J,...v,ref:b,style:{...v.style,animation:Y?void 0:"none"}})})})});JM.displayName=hb;var ZM="PopperArrow",Y7={top:"bottom",right:"left",bottom:"top",left:"right"},eO=m.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=Q7(ZM,r),o=Y7[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(W7,{...s,ref:n,style:{...s.style,display:"block"}})})});eO.displayName=ZM;function X7(t){return t!==null}var J7=t=>({name:"transformOrigin",options:t,fn(e){var _,x,y;const{placement:n,rects:r,middlewareData:s}=e,o=((_=s.arrow)==null?void 0:_.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=tO(n),h={start:"0%",center:"50%",end:"100%"}[u],p=(((x=s.arrow)==null?void 0:x.x)??0)+a/2,g=(((y=s.arrow)==null?void 0:y.y)??0)+l/2;let w="",v="";return c==="bottom"?(w=o?h:`${p}px`,v=`${-l}px`):c==="top"?(w=o?h:`${p}px`,v=`${r.floating.height+l}px`):c==="right"?(w=`${-l}px`,v=o?h:`${g}px`):c==="left"&&(w=`${r.floating.width+l}px`,v=o?h:`${g}px`),{data:{x:w,y:v}}}});function tO(t){const[e,n="center"]=t.split("-");return[e,n]}var fb=QM,pb=XM,mb=JM,gb=eO,Z7="Portal",nO=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Pt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?mf.createPortal(d.jsx(ve.div,{...r,ref:e}),o):null});nO.displayName=Z7;function eq(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var If=t=>{const{present:e,children:n}=t,r=tq(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=ke(r.ref,nq(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};If.displayName="Presence";function tq(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=eq(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Lp(r.current);i.current=a==="mounted"?c:"none"},[a]),Pt(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=Lp(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Pt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=g=>{const v=Lp(r.current).includes(g.animationName);if(g.target===e&&v&&(l("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},p=g=>{g.target===e&&(i.current=Lp(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Lp(t){return(t==null?void 0:t.animationName)||"none"}function nq(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var jw="rovingFocusGroup.onEntryFocus",rq={bubbles:!1,cancelable:!0},$v="RovingFocusGroup",[Px,rO,sq]=Lv($v),[iq,zv]=Dl($v,[sq]),[oq,aq]=iq($v),sO=m.forwardRef((t,e)=>d.jsx(Px.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(Px.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(lq,{...t,ref:e})})}));sO.displayName=$v;var lq=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...h}=t,p=m.useRef(null),g=ke(e,p),w=Cf(i),[v=null,_]=aa({prop:o,defaultProp:a,onChange:l}),[x,y]=m.useState(!1),b=mt(c),C=rO(n),P=m.useRef(!1),[O,T]=m.useState(0);return m.useEffect(()=>{const E=p.current;if(E)return E.addEventListener(jw,b),()=>E.removeEventListener(jw,b)},[b]),d.jsx(oq,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:v,onItemFocus:m.useCallback(E=>_(E),[_]),onItemShiftTab:m.useCallback(()=>y(!0),[]),onFocusableItemAdd:m.useCallback(()=>T(E=>E+1),[]),onFocusableItemRemove:m.useCallback(()=>T(E=>E-1),[]),children:d.jsx(ve.div,{tabIndex:x||O===0?-1:0,"data-orientation":r,...h,ref:g,style:{outline:"none",...t.style},onMouseDown:Z(t.onMouseDown,()=>{P.current=!0}),onFocus:Z(t.onFocus,E=>{const I=!P.current;if(E.target===E.currentTarget&&I&&!x){const R=new CustomEvent(jw,rq);if(E.currentTarget.dispatchEvent(R),!R.defaultPrevented){const k=C().filter(ne=>ne.focusable),M=k.find(ne=>ne.active),N=k.find(ne=>ne.id===v),se=[M,N,...k].filter(Boolean).map(ne=>ne.ref.current);aO(se,u)}}P.current=!1}),onBlur:Z(t.onBlur,()=>y(!1))})})}),iO="RovingFocusGroupItem",oO=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=js(),l=i||a,c=aq(iO,n),u=c.currentTabStopId===l,h=rO(n),{onFocusableItemAdd:p,onFocusableItemRemove:g}=c;return m.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),d.jsx(Px.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:d.jsx(ve.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:Z(t.onMouseDown,w=>{r?c.onItemFocus(l):w.preventDefault()}),onFocus:Z(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:Z(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){c.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const v=dq(w,c.orientation,c.dir);if(v!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let x=h().filter(y=>y.focusable).map(y=>y.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const y=x.indexOf(w.currentTarget);x=c.loop?hq(x,y+1):x.slice(y+1)}setTimeout(()=>aO(x))}})})})});oO.displayName=iO;var cq={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function uq(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function dq(t,e,n){const r=uq(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return cq[r]}function aO(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function hq(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var lO=sO,cO=oO,fq=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Hl=new WeakMap,Vp=new WeakMap,Fp={},Lw=0,uO=function(t){return t&&(t.host||uO(t.parentNode))},pq=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=uO(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},mq=function(t,e,n,r){var s=pq(e,Array.isArray(t)?t:[t]);Fp[n]||(Fp[n]=new WeakMap);var i=Fp[n],o=[],a=new Set,l=new Set(s),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};s.forEach(c);var u=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))u(p);else try{var g=p.getAttribute(r),w=g!==null&&g!=="false",v=(Hl.get(p)||0)+1,_=(i.get(p)||0)+1;Hl.set(p,v),i.set(p,_),o.push(p),v===1&&w&&Vp.set(p,!0),_===1&&p.setAttribute(n,"true"),w||p.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",p,x)}})};return u(e),a.clear(),Lw++,function(){o.forEach(function(h){var p=Hl.get(h)-1,g=i.get(h)-1;Hl.set(h,p),i.set(h,g),p||(Vp.has(h)||h.removeAttribute(r),Vp.delete(h)),g||h.removeAttribute(n)}),Lw--,Lw||(Hl=new WeakMap,Hl=new WeakMap,Vp=new WeakMap,Fp={})}},vb=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=fq(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),mq(r,s,n,"aria-hidden")):function(){return null}},Sm="right-scroll-bar-position",Tm="width-before-scroll-bar",gq="with-scroll-bars-hidden",vq="--removed-body-scroll-bar-size";function Vw(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function yq(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var wq=typeof window<"u"?m.useLayoutEffect:m.useEffect,bR=new WeakMap;function xq(t,e){var n=yq(null,function(r){return t.forEach(function(s){return Vw(s,r)})});return wq(function(){var r=bR.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Vw(a,null)}),i.forEach(function(a){s.has(a)||Vw(a,o)})}bR.set(n,t)},[t]),n}function _q(t){return t}function Eq(t,e){e===void 0&&(e=_q);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var u=o;o=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return s}function bq(t){t===void 0&&(t={});var e=Eq(null);return e.options=Ys({async:!0,ssr:!1},t),e}var dO=function(t){var e=t.sideCar,n=yf(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,Ys({},n))};dO.isSideCarExport=!0;function Sq(t,e){return t.useMedium(e),dO}var hO=bq(),Fw=function(){},Kv=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:Fw,onWheelCapture:Fw,onTouchMoveCapture:Fw}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,h=t.shards,p=t.sideCar,g=t.noIsolation,w=t.inert,v=t.allowPinchZoom,_=t.as,x=_===void 0?"div":_,y=t.gapMode,b=yf(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=p,P=xq([n,e]),O=Ys(Ys({},b),s);return m.createElement(m.Fragment,null,u&&m.createElement(C,{sideCar:hO,removeScrollBar:c,shards:h,noIsolation:g,inert:w,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:y}),o?m.cloneElement(m.Children.only(a),Ys(Ys({},O),{ref:P})):m.createElement(x,Ys({},O,{className:l,ref:P}),a))});Kv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Kv.classNames={fullWidth:Tm,zeroRight:Sm};var Tq=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Cq(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Tq();return e&&t.setAttribute("nonce",e),t}function Aq(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Rq(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Iq=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Cq())&&(Aq(e,n),Rq(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Pq=function(){var t=Iq();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},fO=function(){var t=Pq(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},Nq={left:0,top:0,right:0,gap:0},Uw=function(t){return parseInt(t||"",10)||0},Dq=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Uw(n),Uw(r),Uw(s)]},kq=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Nq;var e=Dq(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Mq=fO(),Rc="data-scroll-locked",Oq=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(gq,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Rc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Sm,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Tm,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Sm," .").concat(Sm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Tm," .").concat(Tm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Rc,`] {
    `).concat(vq,": ").concat(a,`px;
  }
`)},SR=function(){var t=parseInt(document.body.getAttribute(Rc)||"0",10);return isFinite(t)?t:0},jq=function(){m.useEffect(function(){return document.body.setAttribute(Rc,(SR()+1).toString()),function(){var t=SR()-1;t<=0?document.body.removeAttribute(Rc):document.body.setAttribute(Rc,t.toString())}},[])},Lq=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;jq();var i=m.useMemo(function(){return kq(s)},[s]);return m.createElement(Mq,{styles:Oq(i,!e,s,n?"":"!important")})},Nx=!1;if(typeof window<"u")try{var Up=Object.defineProperty({},"passive",{get:function(){return Nx=!0,!0}});window.addEventListener("test",Up,Up),window.removeEventListener("test",Up,Up)}catch{Nx=!1}var ql=Nx?{passive:!1}:!1,Vq=function(t){return t.tagName==="TEXTAREA"},pO=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Vq(t)&&n[e]==="visible")},Fq=function(t){return pO(t,"overflowY")},Uq=function(t){return pO(t,"overflowX")},TR=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=mO(t,r);if(s){var i=gO(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Bq=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},$q=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},mO=function(t,e){return t==="v"?Fq(e):Uq(e)},gO=function(t,e){return t==="v"?Bq(e):$q(e)},zq=function(t,e){return t==="h"&&e==="rtl"?-1:1},Kq=function(t,e,n,r,s){var i=zq(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,u=o>0,h=0,p=0;do{var g=gO(t,a),w=g[0],v=g[1],_=g[2],x=v-_-i*w;(w||x)&&mO(t,a)&&(h+=x,p+=w),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(h)<1||!s)||!u&&(Math.abs(p)<1||!s))&&(c=!0),c},Bp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},CR=function(t){return[t.deltaX,t.deltaY]},AR=function(t){return t&&"current"in t?t.current:t},Wq=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Hq=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},qq=0,Gl=[];function Gq(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(qq++)[0],i=m.useState(fO)[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=j6([t.lockRef.current],(t.shards||[]).map(AR),!0).filter(Boolean);return v.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(v,_){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var x=Bp(v),y=n.current,b="deltaX"in v?v.deltaX:y[0]-x[0],C="deltaY"in v?v.deltaY:y[1]-x[1],P,O=v.target,T=Math.abs(b)>Math.abs(C)?"h":"v";if("touches"in v&&T==="h"&&O.type==="range")return!1;var E=TR(T,O);if(!E)return!0;if(E?P=T:(P=T==="v"?"h":"v",E=TR(T,O)),!E)return!1;if(!r.current&&"changedTouches"in v&&(b||C)&&(r.current=P),!P)return!0;var I=r.current||P;return Kq(I,_,v,I==="h"?b:C,!0)},[]),l=m.useCallback(function(v){var _=v;if(!(!Gl.length||Gl[Gl.length-1]!==i)){var x="deltaY"in _?CR(_):Bp(_),y=e.current.filter(function(P){return P.name===_.type&&(P.target===_.target||_.target===P.shadowParent)&&Wq(P.delta,x)})[0];if(y&&y.should){_.cancelable&&_.preventDefault();return}if(!y){var b=(o.current.shards||[]).map(AR).filter(Boolean).filter(function(P){return P.contains(_.target)}),C=b.length>0?a(_,b[0]):!o.current.noIsolation;C&&_.cancelable&&_.preventDefault()}}},[]),c=m.useCallback(function(v,_,x,y){var b={name:v,delta:_,target:x,should:y,shadowParent:Qq(x)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(C){return C!==b})},1)},[]),u=m.useCallback(function(v){n.current=Bp(v),r.current=void 0},[]),h=m.useCallback(function(v){c(v.type,CR(v),v.target,a(v,t.lockRef.current))},[]),p=m.useCallback(function(v){c(v.type,Bp(v),v.target,a(v,t.lockRef.current))},[]);m.useEffect(function(){return Gl.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,ql),document.addEventListener("touchmove",l,ql),document.addEventListener("touchstart",u,ql),function(){Gl=Gl.filter(function(v){return v!==i}),document.removeEventListener("wheel",l,ql),document.removeEventListener("touchmove",l,ql),document.removeEventListener("touchstart",u,ql)}},[]);var g=t.removeScrollBar,w=t.inert;return m.createElement(m.Fragment,null,w?m.createElement(i,{styles:Hq(s)}):null,g?m.createElement(Lq,{gapMode:t.gapMode}):null)}function Qq(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Yq=Sq(hO,Gq);var Wv=m.forwardRef(function(t,e){return m.createElement(Kv,Ys({},t,{ref:e,sideCar:Yq}))});Wv.classNames=Kv.classNames;var Dx=["Enter"," "],Xq=["ArrowDown","PageUp","Home"],vO=["ArrowUp","PageDown","End"],Jq=[...Xq,...vO],Zq={ltr:[...Dx,"ArrowRight"],rtl:[...Dx,"ArrowLeft"]},eG={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Pf="Menu",[Dh,tG,nG]=Lv(Pf),[kl,yO]=R8(Pf,[nG,Au,zv]),Hv=Au(),wO=zv(),[rG,Ml]=kl(Pf),[sG,Nf]=kl(Pf),xO=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=Hv(e),[l,c]=m.useState(null),u=m.useRef(!1),h=mt(i),p=Cf(s);return m.useEffect(()=>{const g=()=>{u.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>u.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),d.jsx(fb,{...a,children:d.jsx(rG,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:c,children:d.jsx(sG,{scope:e,onClose:m.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:p,modal:o,children:r})})})};xO.displayName=Pf;var iG="MenuAnchor",yb=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Hv(n);return d.jsx(pb,{...s,...r,ref:e})});yb.displayName=iG;var wb="MenuPortal",[oG,_O]=kl(wb,{forceMount:void 0}),EO=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Ml(wb,e);return d.jsx(oG,{scope:e,forceMount:n,children:d.jsx(If,{present:n||i.open,children:d.jsx(nO,{asChild:!0,container:s,children:r})})})};EO.displayName=wb;var ps="MenuContent",[aG,xb]=kl(ps),bO=m.forwardRef((t,e)=>{const n=_O(ps,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Ml(ps,t.__scopeMenu),o=Nf(ps,t.__scopeMenu);return d.jsx(Dh.Provider,{scope:t.__scopeMenu,children:d.jsx(If,{present:r||i.open,children:d.jsx(Dh.Slot,{scope:t.__scopeMenu,children:o.modal?d.jsx(lG,{...s,ref:e}):d.jsx(cG,{...s,ref:e})})})})}),lG=m.forwardRef((t,e)=>{const n=Ml(ps,t.__scopeMenu),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return vb(i)},[]),d.jsx(_b,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Z(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),cG=m.forwardRef((t,e)=>{const n=Ml(ps,t.__scopeMenu);return d.jsx(_b,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),_b=m.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:p,onDismiss:g,disableOutsideScroll:w,...v}=t,_=Ml(ps,n),x=Nf(ps,n),y=Hv(n),b=wO(n),C=tG(n),[P,O]=m.useState(null),T=m.useRef(null),E=ke(e,T,_.onContentChange),I=m.useRef(0),R=m.useRef(""),k=m.useRef(0),M=m.useRef(null),N=m.useRef("right"),W=m.useRef(0),se=w?Wv:m.Fragment,ne=w?{as:la,allowPinchZoom:!0}:void 0,Y=B=>{var ce,Pe;const J=R.current+B,fe=C().filter(He=>!He.disabled),he=document.activeElement,Te=(ce=fe.find(He=>He.ref.current===he))==null?void 0:ce.textValue,We=fe.map(He=>He.textValue),at=_G(We,J,Te),Ne=(Pe=fe.find(He=>He.textValue===at))==null?void 0:Pe.ref.current;(function He(pe){R.current=pe,window.clearTimeout(I.current),pe!==""&&(I.current=window.setTimeout(()=>He(""),1e3))})(J),Ne&&setTimeout(()=>Ne.focus())};m.useEffect(()=>()=>window.clearTimeout(I.current),[]),sb();const z=m.useCallback(B=>{var fe,he;return N.current===((fe=M.current)==null?void 0:fe.side)&&bG(B,(he=M.current)==null?void 0:he.area)},[]);return d.jsx(aG,{scope:n,searchRef:R,onItemEnter:m.useCallback(B=>{z(B)&&B.preventDefault()},[z]),onItemLeave:m.useCallback(B=>{var J;z(B)||((J=T.current)==null||J.focus(),O(null))},[z]),onTriggerLeave:m.useCallback(B=>{z(B)&&B.preventDefault()},[z]),pointerGraceTimerRef:k,onPointerGraceIntentChange:m.useCallback(B=>{M.current=B},[]),children:d.jsx(se,{...ne,children:d.jsx(Vv,{asChild:!0,trapped:s,onMountAutoFocus:Z(i,B=>{var J;B.preventDefault(),(J=T.current)==null||J.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:d.jsx(OM,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:p,onDismiss:g,children:d.jsx(lO,{asChild:!0,...b,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:P,onCurrentTabStopIdChange:O,onEntryFocus:Z(l,B=>{x.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:d.jsx(mb,{role:"menu","aria-orientation":"vertical","data-state":FO(_.open),"data-radix-menu-content":"",dir:x.dir,...y,...v,ref:E,style:{outline:"none",...v.style},onKeyDown:Z(v.onKeyDown,B=>{const fe=B.target.closest("[data-radix-menu-content]")===B.currentTarget,he=B.ctrlKey||B.altKey||B.metaKey,Te=B.key.length===1;fe&&(B.key==="Tab"&&B.preventDefault(),!he&&Te&&Y(B.key));const We=T.current;if(B.target!==We||!Jq.includes(B.key))return;B.preventDefault();const Ne=C().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);vO.includes(B.key)&&Ne.reverse(),wG(Ne)}),onBlur:Z(t.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(I.current),R.current="")}),onPointerMove:Z(t.onPointerMove,kh(B=>{const J=B.target,fe=W.current!==B.clientX;if(B.currentTarget.contains(J)&&fe){const he=B.clientX>W.current?"right":"left";N.current=he,W.current=B.clientX}}))})})})})})})});bO.displayName=ps;var uG="MenuGroup",Eb=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return d.jsx(ve.div,{role:"group",...r,ref:e})});Eb.displayName=uG;var dG="MenuLabel",SO=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return d.jsx(ve.div,{...r,ref:e})});SO.displayName=dG;var Cg="MenuItem",RR="menu.itemSelect",qv=m.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=m.useRef(null),o=Nf(Cg,t.__scopeMenu),a=xb(Cg,t.__scopeMenu),l=ke(e,i),c=m.useRef(!1),u=()=>{const h=i.current;if(!n&&h){const p=new CustomEvent(RR,{bubbles:!0,cancelable:!0});h.addEventListener(RR,g=>r==null?void 0:r(g),{once:!0}),Nl(h,p),p.defaultPrevented?c.current=!1:o.onClose()}};return d.jsx(TO,{...s,ref:l,disabled:n,onClick:Z(t.onClick,u),onPointerDown:h=>{var p;(p=t.onPointerDown)==null||p.call(t,h),c.current=!0},onPointerUp:Z(t.onPointerUp,h=>{var p;c.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:Z(t.onKeyDown,h=>{const p=a.searchRef.current!=="";n||p&&h.key===" "||Dx.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});qv.displayName=Cg;var TO=m.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=xb(Cg,n),a=wO(n),l=m.useRef(null),c=ke(e,l),[u,h]=m.useState(!1),[p,g]=m.useState("");return m.useEffect(()=>{const w=l.current;w&&g((w.textContent??"").trim())},[i.children]),d.jsx(Dh.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:d.jsx(cO,{asChild:!0,...a,focusable:!r,children:d.jsx(ve.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:Z(t.onPointerMove,kh(w=>{r?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Z(t.onPointerLeave,kh(w=>o.onItemLeave(w))),onFocus:Z(t.onFocus,()=>h(!0)),onBlur:Z(t.onBlur,()=>h(!1))})})})}),hG="MenuCheckboxItem",CO=m.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return d.jsx(NO,{scope:t.__scopeMenu,checked:n,children:d.jsx(qv,{role:"menuitemcheckbox","aria-checked":Ag(n)?"mixed":n,...s,ref:e,"data-state":Sb(n),onSelect:Z(s.onSelect,()=>r==null?void 0:r(Ag(n)?!0:!n),{checkForDefaultPrevented:!1})})})});CO.displayName=hG;var AO="MenuRadioGroup",[fG,pG]=kl(AO,{value:void 0,onValueChange:()=>{}}),RO=m.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=mt(r);return d.jsx(fG,{scope:t.__scopeMenu,value:n,onValueChange:i,children:d.jsx(Eb,{...s,ref:e})})});RO.displayName=AO;var IO="MenuRadioItem",PO=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=pG(IO,t.__scopeMenu),i=n===s.value;return d.jsx(NO,{scope:t.__scopeMenu,checked:i,children:d.jsx(qv,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":Sb(i),onSelect:Z(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});PO.displayName=IO;var bb="MenuItemIndicator",[NO,mG]=kl(bb,{checked:!1}),DO=m.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=mG(bb,n);return d.jsx(If,{present:r||Ag(i.checked)||i.checked===!0,children:d.jsx(ve.span,{...s,ref:e,"data-state":Sb(i.checked)})})});DO.displayName=bb;var gG="MenuSeparator",kO=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return d.jsx(ve.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});kO.displayName=gG;var vG="MenuArrow",MO=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Hv(n);return d.jsx(gb,{...s,...r,ref:e})});MO.displayName=vG;var yG="MenuSub",[Lfe,OO]=kl(yG),bd="MenuSubTrigger",jO=m.forwardRef((t,e)=>{const n=Ml(bd,t.__scopeMenu),r=Nf(bd,t.__scopeMenu),s=OO(bd,t.__scopeMenu),i=xb(bd,t.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},u=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>u,[u]),m.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),d.jsx(yb,{asChild:!0,...c,children:d.jsx(TO,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":FO(n.open),...t,ref:jv(e,s.onTriggerChange),onClick:h=>{var p;(p=t.onClick)==null||p.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Z(t.onPointerMove,kh(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:Z(t.onPointerLeave,kh(h=>{var g,w;u();const p=(g=n.content)==null?void 0:g.getBoundingClientRect();if(p){const v=(w=n.content)==null?void 0:w.dataset.side,_=v==="right",x=_?-5:5,y=p[_?"left":"right"],b=p[_?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+x,y:h.clientY},{x:y,y:p.top},{x:b,y:p.top},{x:b,y:p.bottom},{x:y,y:p.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Z(t.onKeyDown,h=>{var g;const p=i.searchRef.current!=="";t.disabled||p&&h.key===" "||Zq[r.dir].includes(h.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),h.preventDefault())})})})});jO.displayName=bd;var LO="MenuSubContent",VO=m.forwardRef((t,e)=>{const n=_O(ps,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Ml(ps,t.__scopeMenu),o=Nf(ps,t.__scopeMenu),a=OO(LO,t.__scopeMenu),l=m.useRef(null),c=ke(e,l);return d.jsx(Dh.Provider,{scope:t.__scopeMenu,children:d.jsx(If,{present:r||i.open,children:d.jsx(Dh.Slot,{scope:t.__scopeMenu,children:d.jsx(_b,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Z(t.onFocusOutside,u=>{u.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Z(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:Z(t.onKeyDown,u=>{var g;const h=u.currentTarget.contains(u.target),p=eG[o.dir].includes(u.key);h&&p&&(i.onOpenChange(!1),(g=a.trigger)==null||g.focus(),u.preventDefault())})})})})})});VO.displayName=LO;function FO(t){return t?"open":"closed"}function Ag(t){return t==="indeterminate"}function Sb(t){return Ag(t)?"indeterminate":t?"checked":"unchecked"}function wG(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function xG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function _G(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=xG(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function EG(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(s=!s)}return s}function bG(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return EG(n,e)}function kh(t){return e=>e.pointerType==="mouse"?t(e):void 0}var SG=xO,TG=yb,CG=EO,AG=bO,RG=Eb,IG=SO,PG=qv,NG=CO,DG=RO,kG=PO,MG=DO,OG=kO,jG=MO,LG=jO,VG=VO,Tb="DropdownMenu",[FG,Vfe]=x8(Tb,[yO]),yr=yO(),[UG,UO]=FG(Tb),BO=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=yr(e),c=m.useRef(null),[u=!1,h]=aa({prop:s,defaultProp:i,onChange:o});return d.jsx(UG,{scope:e,triggerId:js(),triggerRef:c,contentId:js(),open:u,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(p=>!p),[h]),modal:a,children:d.jsx(SG,{...l,open:u,onOpenChange:h,dir:r,modal:a,children:n})})};BO.displayName=Tb;var $O="DropdownMenuTrigger",zO=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=UO($O,n),o=yr(n);return d.jsx(TG,{asChild:!0,...o,children:d.jsx(ve.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:jv(e,i.triggerRef),onPointerDown:Z(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:Z(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});zO.displayName=$O;var BG="DropdownMenuPortal",KO=t=>{const{__scopeDropdownMenu:e,...n}=t,r=yr(e);return d.jsx(CG,{...r,...n})};KO.displayName=BG;var WO="DropdownMenuContent",HO=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=UO(WO,n),i=yr(n),o=m.useRef(!1);return d.jsx(AG,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:Z(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:Z(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!s.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});HO.displayName=WO;var $G="DropdownMenuGroup",zG=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(RG,{...s,...r,ref:e})});zG.displayName=$G;var KG="DropdownMenuLabel",qO=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(IG,{...s,...r,ref:e})});qO.displayName=KG;var WG="DropdownMenuItem",GO=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(PG,{...s,...r,ref:e})});GO.displayName=WG;var HG="DropdownMenuCheckboxItem",QO=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(NG,{...s,...r,ref:e})});QO.displayName=HG;var qG="DropdownMenuRadioGroup",GG=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(DG,{...s,...r,ref:e})});GG.displayName=qG;var QG="DropdownMenuRadioItem",YO=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(kG,{...s,...r,ref:e})});YO.displayName=QG;var YG="DropdownMenuItemIndicator",XO=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(MG,{...s,...r,ref:e})});XO.displayName=YG;var XG="DropdownMenuSeparator",JO=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(OG,{...s,...r,ref:e})});JO.displayName=XG;var JG="DropdownMenuArrow",ZG=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(jG,{...s,...r,ref:e})});ZG.displayName=JG;var eQ="DropdownMenuSubTrigger",ZO=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(LG,{...s,...r,ref:e})});ZO.displayName=eQ;var tQ="DropdownMenuSubContent",ej=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(VG,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ej.displayName=tQ;var nQ=BO,rQ=zO,sQ=KO,tj=HO,nj=qO,rj=GO,sj=QO,ij=YO,oj=XO,aj=JO,lj=ZO,cj=ej;function uj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=uj(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function iQ(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=uj(t))&&(r&&(r+=" "),r+=e);return r}const Cb="-",oQ=t=>{const e=lQ(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Cb);return a[0]===""&&a.length!==1&&a.shift(),dj(a,e)||aQ(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},dj=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?dj(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Cb);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},IR=/^\[(.+)\]$/,aQ=t=>{if(IR.test(t)){const e=IR.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},lQ=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return uQ(Object.entries(t.classGroups),n).forEach(([i,o])=>{kx(o,r,i,e)}),r},kx=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:PR(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(cQ(s)){kx(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{kx(o,PR(e,i),n,r)})})},PR=(t,e)=>{let n=t;return e.split(Cb).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},cQ=t=>t.isThemeGetter,uQ=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,dQ=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},hj="!",hQ=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,u=0,h;for(let _=0;_<a.length;_++){let x=a[_];if(c===0){if(x===s&&(r||a.slice(_,_+i)===e)){l.push(a.slice(u,_)),u=_+i;continue}if(x==="/"){h=_;continue}}x==="["?c++:x==="]"&&c--}const p=l.length===0?a:a.substring(u),g=p.startsWith(hj),w=g?p.substring(1):p,v=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:w,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},fQ=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},pQ=t=>({cache:dQ(t.cacheSize),parseClassName:hQ(t),...oQ(t)}),mQ=/\s+/,gQ=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(mQ);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:g}=n(c);let w=!!g,v=r(w?p.substring(0,g):p);if(!v){if(!w){a=c+(a.length>0?" "+a:a);continue}if(v=r(p),!v){a=c+(a.length>0?" "+a:a);continue}w=!1}const _=fQ(u).join(":"),x=h?_+hj:_,y=x+v;if(i.includes(y))continue;i.push(y);const b=s(v,w);for(let C=0;C<b.length;++C){const P=b[C];i.push(x+P)}a=c+(a.length>0?" "+a:a)}return a};function vQ(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=fj(e))&&(r&&(r+=" "),r+=n);return r}const fj=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=fj(t[r]))&&(n&&(n+=" "),n+=e);return n};function yQ(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((u,h)=>h(u),t());return n=pQ(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=gQ(l,n);return s(l,u),u}return function(){return i(vQ.apply(null,arguments))}}const Mt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},pj=/^\[(?:([a-z-]+):)?(.+)\]$/i,wQ=/^\d+\/\d+$/,xQ=new Set(["px","full","screen"]),_Q=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,EQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bQ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,SQ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,TQ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,wi=t=>Ic(t)||xQ.has(t)||wQ.test(t),po=t=>Ru(t,"length",kQ),Ic=t=>!!t&&!Number.isNaN(Number(t)),Bw=t=>Ru(t,"number",Ic),ud=t=>!!t&&Number.isInteger(Number(t)),CQ=t=>t.endsWith("%")&&Ic(t.slice(0,-1)),Qe=t=>pj.test(t),mo=t=>_Q.test(t),AQ=new Set(["length","size","percentage"]),RQ=t=>Ru(t,AQ,mj),IQ=t=>Ru(t,"position",mj),PQ=new Set(["image","url"]),NQ=t=>Ru(t,PQ,OQ),DQ=t=>Ru(t,"",MQ),dd=()=>!0,Ru=(t,e,n)=>{const r=pj.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},kQ=t=>EQ.test(t)&&!bQ.test(t),mj=()=>!1,MQ=t=>SQ.test(t),OQ=t=>TQ.test(t),jQ=()=>{const t=Mt("colors"),e=Mt("spacing"),n=Mt("blur"),r=Mt("brightness"),s=Mt("borderColor"),i=Mt("borderRadius"),o=Mt("borderSpacing"),a=Mt("borderWidth"),l=Mt("contrast"),c=Mt("grayscale"),u=Mt("hueRotate"),h=Mt("invert"),p=Mt("gap"),g=Mt("gradientColorStops"),w=Mt("gradientColorStopPositions"),v=Mt("inset"),_=Mt("margin"),x=Mt("opacity"),y=Mt("padding"),b=Mt("saturate"),C=Mt("scale"),P=Mt("sepia"),O=Mt("skew"),T=Mt("space"),E=Mt("translate"),I=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",Qe,e],M=()=>[Qe,e],N=()=>["",wi,po],W=()=>["auto",Ic,Qe],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",Qe],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],fe=()=>[Ic,Qe];return{cacheSize:500,separator:":",theme:{colors:[dd],spacing:[wi,po],blur:["none","",mo,Qe],brightness:fe(),borderColor:[t],borderRadius:["none","","full",mo,Qe],borderSpacing:M(),borderWidth:N(),contrast:fe(),grayscale:B(),hueRotate:fe(),invert:B(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[CQ,po],inset:k(),margin:k(),opacity:fe(),padding:M(),saturate:fe(),scale:fe(),sepia:B(),skew:fe(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Qe]}],container:["container"],columns:[{columns:[mo]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),Qe]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ud,Qe]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Qe]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",ud,Qe]}],"grid-cols":[{"grid-cols":[dd]}],"col-start-end":[{col:["auto",{span:["full",ud,Qe]},Qe]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[dd]}],"row-start-end":[{row:["auto",{span:[ud,Qe]},Qe]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Qe]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Qe,e]}],"min-w":[{"min-w":[Qe,e,"min","max","fit"]}],"max-w":[{"max-w":[Qe,e,"none","full","min","max","fit","prose",{screen:[mo]},mo]}],h:[{h:[Qe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Qe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Qe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Qe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",mo,po]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Bw]}],"font-family":[{font:[dd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Qe]}],"line-clamp":[{"line-clamp":["none",Ic,Bw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",wi,Qe]}],"list-image":[{"list-image":["none",Qe]}],"list-style-type":[{list:["none","disc","decimal",Qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",wi,po]}],"underline-offset":[{"underline-offset":["auto",wi,Qe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),IQ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",RQ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},NQ]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:ne()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[wi,Qe]}],"outline-w":[{outline:[wi,po]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[wi,po]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",mo,DQ]}],"shadow-color":[{shadow:[dd]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",mo,Qe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Qe]}],duration:[{duration:fe()}],ease:[{ease:["linear","in","out","in-out",Qe]}],delay:[{delay:fe()}],animate:[{animate:["none","spin","ping","pulse","bounce",Qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[ud,Qe]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Qe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[wi,po,Bw]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},LQ=yQ(jQ);function ue(...t){return LQ(iQ(t))}const Df=nQ,kf=rQ,VQ=m.forwardRef(({className:t,inset:e,children:n,...r},s)=>d.jsxs(lj,{ref:s,className:ue("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,d.jsx(SM,{className:"ml-auto h-4 w-4"})]}));VQ.displayName=lj.displayName;const FQ=m.forwardRef(({className:t,...e},n)=>d.jsx(cj,{ref:n,className:ue("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));FQ.displayName=cj.displayName;const Iu=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx(sQ,{children:d.jsx(tj,{ref:r,sideOffset:e,className:ue("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Iu.displayName=tj.displayName;const Xs=m.forwardRef(({className:t,inset:e,...n},r)=>d.jsx(rj,{ref:r,className:ue("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Xs.displayName=rj.displayName;const UQ=m.forwardRef(({className:t,children:e,checked:n,...r},s)=>d.jsxs(sj,{ref:s,className:ue("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(oj,{children:d.jsx(eb,{className:"h-4 w-4"})})}),e]}));UQ.displayName=sj.displayName;const BQ=m.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(ij,{ref:r,className:ue("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(oj,{children:d.jsx(r8,{className:"h-2 w-2 fill-current"})})}),e]}));BQ.displayName=ij.displayName;const gj=m.forwardRef(({className:t,inset:e,...n},r)=>d.jsx(nj,{ref:r,className:ue("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));gj.displayName=nj.displayName;const Ab=m.forwardRef(({className:t,...e},n)=>d.jsx(aj,{ref:n,className:ue("-mx-1 my-1 h-px bg-muted",t),...e}));Ab.displayName=aj.displayName;const $Q=t=>Object.entries(t).map(([e,n])=>({id:Date.now().toString(),key:e,value:n})),zQ=t=>t<1024?t+" bytes":t<1048576?(t/1024).toFixed(1)+" KB":(t/1048576).toFixed(1)+" MB",Mh=t=>{try{const e=decodeURIComponent(t),n=e.lastIndexOf("/")+1,r=e.indexOf("?alt=");return n!==-1&&r!==-1?e.substring(n,r):null}catch(e){return console.error("Failed to extract filename:",e),null}},Rb=t=>t&&t.charAt(0).toUpperCase()+t.slice(1),$d=t=>t/(1024*1024);function vj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=vj(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function KQ(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=vj(t))&&(r&&(r+=" "),r+=e);return r}const NR=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,DR=KQ,Mf=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return DR(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const u=n==null?void 0:n[c],h=i==null?void 0:i[c];if(u===null)return null;const p=NR(u)||NR(h);return s[c][p]}),a=n&&Object.entries(n).reduce((c,u)=>{let[h,p]=u;return p===void 0||(c[h]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:h,className:p,...g}=u;return Object.entries(g).every(w=>{let[v,_]=w;return Array.isArray(_)?_.includes({...i,...a}[v]):{...i,...a}[v]===_})?[...c,h,p]:c},[]);return DR(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},WQ=Mf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Of({className:t,variant:e,...n}){return d.jsx("div",{className:ue(WQ({variant:e}),t),...n})}const HQ=({text:t,children:e})=>{const n=Sf(),r=ut(o=>o.admin),s=ut(o=>o.logout),i=o=>{switch(o){case"admin":return d.jsx(p8,{className:"mr-2 h-4 w-4"});case"editor":return d.jsx(m8,{className:"mr-2 h-4 w-4"});case"viewer":return d.jsx(nb,{className:"mr-2 h-4 w-4"})}};return r?d.jsxs("header",{className:"w-full flex flex-col items-center ",children:[d.jsxs("div",{className:"w-full px-8 h-14 flex items-center justify-between",children:[d.jsx("p",{children:t}),d.jsxs(Df,{children:[d.jsx(kf,{asChild:!0,children:d.jsx("div",{className:"hover:bg-slate-200 rounded-lg p-2 cursor-pointer",children:d.jsx(v8,{})})}),d.jsxs(Iu,{align:"end",className:"w-64 bg-white border border-neutral-300 p-1 rounded-lg shadow-md",children:[d.jsx(gj,{className:"font-normal",children:d.jsxs("div",{className:"flex flex-col space-y-1",children:[d.jsx("p",{className:"text-sm font-medium truncate leading-tight",title:r.email,children:r.email}),d.jsxs("div",{className:"flex items-center pt-1",children:[i(r.role),d.jsx(Of,{variant:"secondary",className:ue("flex w-16 items-center justify-center pointer-events-none select-none",r.role==="admin"&&"bg-red-200 text-red-800",r.role==="editor"&&"bg-blue-200 text-blue-800",r.role==="viewer"&&"bg-green-200 text-green-800"),children:Rb(r.role)})]})]})}),d.jsx(Ab,{}),d.jsxs(Xs,{onClick:s,className:"flex items-center focus:bg-red-400 focus:text-white rounded-md cursor-pointer",children:[d.jsx(c8,{className:"mr-2 h-4 w-4"}),d.jsx("span",{className:"py-2 font-medium",children:"Log Out"})]})]})]})]}),e]}):(n("/login"),null)},qQ=({Component:t})=>d.jsx("div",{className:"flex-1 flex justify-center =py-3",children:d.jsx(t,{})}),GQ=({headerText:t})=>d.jsx("header",{className:"py-4 text-3xl font-semibold w-full",children:t});function $w(){return Date.now().toString()}const ot=()=>{const t=new Date,e={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};return t.toLocaleDateString("en-US",e)},QQ=t=>{const e=new Date(t),r=new Date().getTime()-e.getTime(),s=Math.floor(r/(1e3*60)),i=Math.floor(s/60),o=Math.floor(i/24);return o>0?`${o}d`:i>0?`${i}h`:`${s}m`},zw="https://cob-chatbot.onrender.com",Gv=async(t,e)=>{const{method:n="GET",headers:r={},body:s}=e,{accessToken:i,setAccessToken:o,logout:a}=ut.getState(),l={method:n,credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer ${i}`,...r},...s&&{body:JSON.stringify(s)}};try{let c=await fetch(`${zw}${t}`,l);if(c.status===401){pt("Fetching new access token");const h=await fetch(`${zw}/api/auth/refresh-token`,{method:"POST",credentials:"include"});(h.status===404||h.status===401)&&a();const{accessToken:p}=await h.json();o(p),l.headers={...l.headers,authorization:`Bearer ${p}`},c=await fetch(`${zw}${t}`,l)}if(c.status===429){const h=await c.text();throw pt(`Too many requests: ${h}`),new Error(h)}return await c.json()}catch(c){throw c}},jf=(t,e)=>Gv(t,{method:"GET",headers:e}),Sa=(t,e,n)=>Gv(t,{method:"POST",headers:e,body:n}),Qv=(t,e,n)=>Gv(t,{method:"PUT",headers:e,body:n}),Lf=(t,e,n)=>Gv(t,{method:"DELETE",headers:e,body:n}),YQ=async t=>{const e={userQuery:t},{success:n,response:r}=await Sa("/api/chatbot/query-admin",{},e);if(!n)throw new Error(`Sending query to chatbot was unsuccessful: ${r}`);return r},XQ=async()=>{const{success:t,response:e}=await Sa("/api/chatbot/train",{});if(!t)throw new Error(`Training model is unsuccessful: ${e}`)},yj=()=>e=>new Promise(n=>{setTimeout(n,e)}),ji=ro()(sM((t,e)=>({currentSelectedTabInSettingsTab:"team",currentSelectedTabInArchiveTab:"knowledgeBases",currentSelectedKnowledgeTab:"knowledgeBase",messageCollection:[],setCurrentSelectedTabInSettingsTab:n=>t({currentSelectedTabInSettingsTab:n}),setCurrentSelectedTabInArchiveTab:n=>t({currentSelectedTabInArchiveTab:n}),setCurrentSelectedKnowledgeTab:n=>t({currentSelectedKnowledgeTab:n}),setMessageHistory:(n,r)=>{const s=e().messageCollection,i=s.map(o=>o.email===n?{...o,history:[...o.history,r]}:o);s.some(o=>o.email===n)||i.push({email:n,history:[r]}),t({messageCollection:i})},clearMessageHistory:n=>{const s=e().messageCollection.filter(i=>i.email!==n);t({messageCollection:s})}}),{name:"auth-storage",storage:QE(()=>sessionStorage)})),JQ=()=>{const t=yj(),e=ut(C=>C.admin),n=ji(C=>C.messageCollection),r=ji(C=>C.clearMessageHistory),s=ji(C=>C.setMessageHistory),i=m.useMemo(()=>{const C=n.find(P=>P.email===(e==null?void 0:e.email));return(C==null?void 0:C.history)||[]},[n,e==null?void 0:e.email]),[o,a]=m.useState(null),[l,c]=m.useState(!1),u=m.useRef(null),h=()=>{var C;(C=u.current)==null||C.scrollIntoView({behavior:"smooth"})};m.useEffect(()=>{h()},[n]);const p=()=>{r(e==null?void 0:e.email)},g=C=>C.replace(/\[=[^\]]+=\]/g,"").trim(),w=C=>{var O;const P=/\[\=([^\]]+)\=\]/;if(P.test(C)){const T=C.match(P);if(T){const E=(O=Mh(T[1]))==null?void 0:O.split(".")[1];return{type:"file",source:T[1],fileType:E??"unknown"}}}},v=C=>{const P={uuid:$w(),text:C,sender:"user"};s(e==null?void 0:e.email,P)},_=C=>{a(C),!l&&c(!0)},x=C=>{const P={uuid:$w(),text:C.answer,sender:"bot",response:C};a(C),l||c(!0),s(e==null?void 0:e.email,P)},y=(C,P)=>{const O={uuid:$w(),sender:"bot",fileData:{source:C,type:P}};s(e==null?void 0:e.email,O)};return{relevantMessageHistory:i,handleClearAdminMessageHistory:p,handleSubmitMessage:async C=>{try{if(!C)throw new Error("Message is empty");v(C);const P=await YQ(C),O=w(P.answer);if(!O){x(P);return}const T=g(P.answer),E={...P,answer:T};x(E),await t(1e3),O.type==="file"&&y(O.source,O.fileType)}catch(P){if(P instanceof Error){pt(P.message,!0);return}console.error("Unknown error occured: ",P)}},endOfMessagesRef:u,selectedResponse:o,handleMessageClick:_,isInfoPanelOpen:l,setIsInfoPanelOpen:c}};var Ib="Progress",Pb=100,[ZQ,Ffe]=Dl(Ib),[eY,tY]=ZQ(Ib),wj=m.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=nY,...o}=t;(s||s===0)&&!kR(s)&&console.error(rY(`${s}`,"Progress"));const a=kR(s)?s:Pb;r!==null&&!MR(r,a)&&console.error(sY(`${r}`,"Progress"));const l=MR(r,a)?r:null,c=Rg(l)?i(l,a):void 0;return d.jsx(eY,{scope:n,value:l,max:a,children:d.jsx(ve.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Rg(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":Ej(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});wj.displayName=Ib;var xj="ProgressIndicator",_j=m.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=tY(xj,n);return d.jsx(ve.div,{"data-state":Ej(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});_j.displayName=xj;function nY(t,e){return`${Math.round(t/e*100)}%`}function Ej(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Rg(t){return typeof t=="number"}function kR(t){return Rg(t)&&!isNaN(t)&&t>0}function MR(t,e){return Rg(t)&&!isNaN(t)&&t<=e&&t>=0}function rY(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Pb}\`.`}function sY(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Pb} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var bj=wj,iY=_j;const Sj=m.forwardRef(({className:t,value:e,...n},r)=>d.jsx(bj,{ref:r,className:ue("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:d.jsx(iY,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Sj.displayName=bj.displayName;const oY=({responseData:t,showPanel:e})=>{var r,s,i;const n=()=>t==null?void 0:t.classifications.slice(0,3).filter(a=>a.intent!=="None"&&a.score>0);return d.jsx("div",{className:`bg-gray-50  transition-all duration-300 ease-in-out overflow-hidden ${e?"w-64 border-l border-neutral-200":"w-0"}`,children:d.jsx("div",{className:"w-64 h-full",children:d.jsxs("div",{className:ue(`p-4 h-full flex flex-col transition-opacity duration-300,
            showPanel ? "opacity-100" : "opacity-0"
            }`),children:[d.jsxs("h2",{className:"text-lg font-semibold text-gray-700 mb-4 flex items-center",children:[d.jsx(i8,{className:"w-5 h-5 mr-2"}),"Bot Response Info"]}),t?d.jsxs("div",{className:"space-y-4 flex-grow",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"flex items-center justify-between space-x-2 text-sm font-medium text-gray-700 mb-1",children:[d.jsx("p",{children:"Confidence Score "}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(DM,{className:"size-4 mr-1 text-yellow-400 fill-yellow-400"}),d.jsx("span",{className:"text-sm font-medium text-gray-600",children:`${(Number(t.score.toFixed(2))*100).toFixed(0)}%`})]})]}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsx(Sj,{value:t.score*100,className:"w-full"})})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Detected Intent"}),d.jsx(Of,{className:"max-w-[100%]",variant:"outline",children:d.jsx("p",{className:"truncate",children:t==null?void 0:t.intent})})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Other Possible Intents"}),d.jsx("ul",{className:ue("list-disc space-y-1",((r=n())==null?void 0:r.length)&&"pl-5"),children:(s=n())!=null&&s.length?(i=n())==null?void 0:i.map((o,a)=>d.jsx("li",{className:"text-sm ",children:d.jsxs("div",{className:"line-clamp-3",children:[d.jsx("span",{style:{whiteSpace:"normal",overflowWrap:"break-word"},children:o.intent}),d.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",o.score.toFixed(2),")"]})]})},a)):d.jsx("span",{className:"text-sm text-muted-foreground",children:"No other intents detected"})})]})]}):d.jsx("div",{className:"text-center text-gray-500",children:"No bot response yet. Start a conversation to see details."})]})})})},Lt=m.forwardRef(({className:t,type:e,...n},r)=>d.jsx("input",{type:e,className:ue("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Lt.displayName="Input";const Nb=Mf("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Xe=m.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?la:"button";return d.jsx(o,{className:ue(Nb({variant:e,size:n,className:t})),ref:i,...s})});Xe.displayName="Button";const aY=({onSendMessage:t})=>{const[e,n]=m.useState(""),[r,s]=m.useState([]),[i,o]=m.useState(-1),a=h=>{s(p=>{const g=[...p,h];return g.length>3?g.slice(1):g})},l=h=>{n(h.target.value),o(-1)},c=async()=>{const h=e;a(h),n(""),await t(h)},u=async h=>{h.key==="Enter"&&e.trim()!==""&&await c(),h.key==="ArrowUp"&&(i>0?(o(i-1),n(r[i-1])):i===-1&&r.length>0&&(o(r.length-1),n(r[r.length-1]))),h.key==="ArrowDown"&&(i<r.length-1?(o(i+1),n(r[i+1])):(o(-1),n("")))};return d.jsxs("div",{className:"w-full h-[5rem] border-t border-t-customBorderColor flex items-center justify-between px-4 space-x-2",children:[d.jsx(Lt,{placeholder:"Type message here",value:e,onChange:l,onKeyDown:u}),d.jsxs(Xe,{onClick:async()=>await c(),children:[d.jsx(NM,{className:"size-4 mr-2"}),"Send"]})]})},lY=["png","jpg","jpeg","jfif"],cY=["mp4"],uY=["pdf"],dY=({message:t,onItemClick:e})=>{const n=r=>/{=([^{}]+)=}/.test(r);if("fileData"in t){const{source:r,type:s}=t.fileData,i=o=>{if(lY.includes(o))return d.jsx("img",{className:"w-72 rounded-2xl",src:r});if(cY.includes(o))return d.jsx("video",{width:"288",height:"360",className:"rounded-2xl",controls:!0,children:d.jsx("source",{src:r,type:"video/mp4"})});if(uY.includes(o))return d.jsxs("div",{className:"flex space-x-1.5 items-center w-fit rounded-tl-2xl rounded-tr-2xl py-2.5 px-4 text-blue-600 rounded-br-2xl rounded-bl-[2px] bg-gray-100 cursor-pointer",children:[d.jsx(RM,{className:"size-5"}),d.jsx("a",{href:r,target:"_blank",className:"hover:underline underline-offset-2",children:Mh(r)??"click here"})]})};return d.jsx(d.Fragment,{children:i(s)})}if(n(t.text)){const{response:r}=t,s=t.text.replace(/<(.+?)>\{=(.+?)=\}/g,(i,o,a)=>`<a class="font-semibold text-primary dark:text-secondary hover:underline" href="${a}" target="_blank" rel="noopener noreferrer">${o}</a>`);return d.jsx("div",{className:"max-w-[80%] w-fit rounded-tl-2xl rounded-tr-2xl transition-colors ease-out whitespace-pre-wrap leading-relaxed py-2.5 px-4 rounded-br-2xl rounded-bl-[2px] bg-gray-100 cursor-pointer",dangerouslySetInnerHTML:{__html:s},onClick:r?()=>e(r):void 0})}if("text"in t&&"sender"in t||"response"in t){const{text:r,sender:s,response:i}=t;return d.jsx("div",{className:ue("flex",s==="user"?"justify-end":"justify-start"),onClick:i?()=>e(i):void 0,children:d.jsx("div",{className:ue("max-w-[80%] rounded-tl-2xl rounded-tr-2xl transition-colors ease-out whitespace-pre-wrap leading-relaxed",s==="user"?"text-white py-1.5 px-3.5 rounded-bl-2xl rounded-br-[4px] bg-blue-500":"py-2.5 px-4 rounded-br-2xl rounded-bl-[2px] bg-gray-100 cursor-pointer",i?"hover:bg-gray-200":""),children:r})})}return null},Pu=({items:t,renderItem:e,listStyle:n})=>d.jsx("div",{className:n,children:t==null?void 0:t.map((r,s)=>d.jsx(m.Fragment,{children:e(r)},s))});function hY(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}function Oh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Mx=t=>Array.isArray(t);function Tj(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function jh(t){return typeof t=="string"||Array.isArray(t)}function OR(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Db(t,e,n,r){if(typeof e=="function"){const[s,i]=OR(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=OR(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Yv(t,e,n){const r=t.getProps();return Db(r,e,n!==void 0?n:r.custom,t)}const kb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Mb=["initial",...kb],Vf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ta=new Set(Vf),Li=t=>t*1e3,Vi=t=>t/1e3,fY={type:"spring",stiffness:500,damping:25,restSpeed:10},pY=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),mY={type:"keyframes",duration:.8},gY={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},vY=(t,{keyframes:e})=>e.length>2?mY:Ta.has(t)?t.startsWith("scale")?pY(e[1]):fY:gY;function yY({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function Ob(t,e){return t[e]||t.default||t}const wY={skipAnimations:!1,useManualTiming:!1},xY=t=>t!==null;function Xv(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(xY),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const ir=t=>t;function _Y(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){i.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,u=!1,h=!1)=>{const g=h&&r?e:n;return u&&i.add(c),g.has(c)||g.add(c),c},cancel:c=>{n.delete(c),i.delete(c)},process:c=>{if(o=c,r){s=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,s&&(s=!1,l.process(c))}};return l}const $p=["read","resolveKeyframes","update","preRender","render","postRender"],EY=40;function Cj(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=$p.reduce((x,y)=>(x[y]=_Y(i),x),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:h,postRender:p}=o,g=()=>{const x=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(x-s.timestamp,EY),1),s.timestamp=x,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),u.process(s),h.process(s),p.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(g))},w=()=>{n=!0,r=!0,s.isProcessing||t(g)};return{schedule:$p.reduce((x,y)=>{const b=o[y];return x[y]=(C,P=!1,O=!1)=>(n||w(),b.schedule(C,P,O)),x},{}),cancel:x=>{for(let y=0;y<$p.length;y++)o[$p[y]].cancel(x)},state:s,steps:o}}const{schedule:wt,cancel:Zi,state:Fn,steps:Kw}=Cj(typeof requestAnimationFrame<"u"?requestAnimationFrame:ir,!0),Aj=t=>/^0[^.\s]+$/u.test(t);function bY(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Aj(t):!0}let Ox=ir;const Rj=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Ij=t=>e=>typeof e=="string"&&e.startsWith(t),Pj=Ij("--"),SY=Ij("var(--"),jb=t=>SY(t)?TY.test(t.split("/*")[0].trim()):!1,TY=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,CY=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function AY(t){const e=CY.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function Nj(t,e,n=1){const[r,s]=AY(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return Rj(o)?parseFloat(o):o}return jb(s)?Nj(s,e,n+1):s}const fa=(t,e,n)=>n>e?e:n<t?t:n,Nu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},zd={...Nu,transform:t=>fa(0,1,t)},zp={...Nu,default:1},Kd=t=>Math.round(t*1e5)/1e5,Lb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,RY=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,IY=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function Ff(t){return typeof t=="string"}function PY(t){return t==null}const Uf=t=>({test:e=>Ff(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),yo=Uf("deg"),ii=Uf("%"),De=Uf("px"),NY=Uf("vh"),DY=Uf("vw"),jR={...ii,parse:t=>ii.parse(t)/100,transform:t=>ii.transform(t*100)},kY=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),LR=t=>t===Nu||t===De,VR=(t,e)=>parseFloat(t.split(", ")[e]),FR=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return VR(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?VR(i[1],t):0}},MY=new Set(["x","y","z"]),OY=Vf.filter(t=>!MY.has(t));function jY(t){const e=[];return OY.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const su={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:FR(4,13),y:FR(5,14)};su.translateX=su.x;su.translateY=su.y;const Dj=t=>e=>e.test(t),LY={test:t=>t==="auto",parse:t=>t},kj=[Nu,De,ii,yo,DY,NY,LY],UR=t=>kj.find(Dj(t)),cl=new Set;let jx=!1,Lx=!1;function Mj(){if(Lx){const t=Array.from(cl).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=jY(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Lx=!1,jx=!1,cl.forEach(t=>t.complete()),cl.clear()}function Oj(){cl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Lx=!0)})}function VY(){Oj(),Mj()}class Vb{constructor(e,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(cl.add(this),jx||(jx=!0,wt.read(Oj),wt.resolveKeyframes(Mj))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),cl.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,cl.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Fb=(t,e)=>n=>!!(Ff(n)&&IY.test(n)&&n.startsWith(t)||e&&!PY(n)&&Object.prototype.hasOwnProperty.call(n,e)),jj=(t,e,n)=>r=>{if(!Ff(r))return r;const[s,i,o,a]=r.match(Lb);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},FY=t=>fa(0,255,t),Ww={...Nu,transform:t=>Math.round(FY(t))},Qa={test:Fb("rgb","red"),parse:jj("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Ww.transform(t)+", "+Ww.transform(e)+", "+Ww.transform(n)+", "+Kd(zd.transform(r))+")"};function UY(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Vx={test:Fb("#"),parse:UY,transform:Qa.transform},hc={test:Fb("hsl","hue"),parse:jj("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ii.transform(Kd(e))+", "+ii.transform(Kd(n))+", "+Kd(zd.transform(r))+")"},er={test:t=>Qa.test(t)||Vx.test(t)||hc.test(t),parse:t=>Qa.test(t)?Qa.parse(t):hc.test(t)?hc.parse(t):Vx.parse(t),transform:t=>Ff(t)?t:t.hasOwnProperty("red")?Qa.transform(t):hc.transform(t)};function BY(t){var e,n;return isNaN(t)&&Ff(t)&&(((e=t.match(Lb))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(RY))===null||n===void 0?void 0:n.length)||0)>0}const Lj="number",Vj="color",$Y="var",zY="var(",BR="${}",KY=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Lh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(KY,l=>(er.test(l)?(r.color.push(i),s.push(Vj),n.push(er.parse(l))):l.startsWith(zY)?(r.var.push(i),s.push($Y),n.push(l)):(r.number.push(i),s.push(Lj),n.push(parseFloat(l))),++i,BR)).split(BR);return{values:n,split:a,indexes:r,types:s}}function Fj(t){return Lh(t).values}function Uj(t){const{split:e,types:n}=Lh(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===Lj?i+=Kd(s[o]):a===Vj?i+=er.transform(s[o]):i+=s[o]}return i}}const WY=t=>typeof t=="number"?0:t;function HY(t){const e=Fj(t);return Uj(t)(e.map(WY))}const pa={test:BY,parse:Fj,createTransformer:Uj,getAnimatableNone:HY},qY=new Set(["brightness","contrast","saturate","opacity"]);function GY(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Lb)||[];if(!r)return t;const s=n.replace(r,"");let i=qY.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const QY=/\b([a-z-]*)\(.*?\)/gu,Fx={...pa,getAnimatableNone:t=>{const e=t.match(QY);return e?e.map(GY).join(" "):t}},$R={...Nu,transform:Math.round},Ub={borderWidth:De,borderTopWidth:De,borderRightWidth:De,borderBottomWidth:De,borderLeftWidth:De,borderRadius:De,radius:De,borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomRightRadius:De,borderBottomLeftRadius:De,width:De,maxWidth:De,height:De,maxHeight:De,size:De,top:De,right:De,bottom:De,left:De,padding:De,paddingTop:De,paddingRight:De,paddingBottom:De,paddingLeft:De,margin:De,marginTop:De,marginRight:De,marginBottom:De,marginLeft:De,rotate:yo,rotateX:yo,rotateY:yo,rotateZ:yo,scale:zp,scaleX:zp,scaleY:zp,scaleZ:zp,skew:yo,skewX:yo,skewY:yo,distance:De,translateX:De,translateY:De,translateZ:De,x:De,y:De,z:De,perspective:De,transformPerspective:De,opacity:zd,originX:jR,originY:jR,originZ:De,zIndex:$R,backgroundPositionX:De,backgroundPositionY:De,fillOpacity:zd,strokeOpacity:zd,numOctaves:$R},YY={...Ub,color:er,backgroundColor:er,outlineColor:er,fill:er,stroke:er,borderColor:er,borderTopColor:er,borderRightColor:er,borderBottomColor:er,borderLeftColor:er,filter:Fx,WebkitFilter:Fx},Bb=t=>YY[t];function Bj(t,e){let n=Bb(t);return n!==Fx&&(n=pa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const XY=new Set(["auto","none","0"]);function JY(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!XY.has(i)&&Lh(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=Bj(n,s)}class $j extends Vb{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),jb(c))){const u=Nj(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!kY.has(r)||e.length!==2)return;const[s,i]=e,o=UR(s),a=UR(i);if(o!==a)if(LR(o)&&LR(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)bY(e[s])&&r.push(s);r.length&&JY(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=su[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=su[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function zj(t){let e;return()=>(e===void 0&&(e=t()),e)}let Cm;function ZY(){Cm=void 0}const oi={now:()=>(Cm===void 0&&oi.set(Fn.isProcessing||wY.useManualTiming?Fn.timestamp:performance.now()),Cm),set:t=>{Cm=t,queueMicrotask(ZY)}},zR=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(pa.test(t)||t==="0")&&!t.startsWith("url("));function eX(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function tX(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=zR(s,e),a=zR(i,e);return!o||!a?!1:eX(t)||n==="spring"&&r}const nX=40;class Kj{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=oi.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>nX?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&VY(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=oi.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!tX(e,r,s,i))if(o)this.options.duration=0;else{l==null||l(Xv(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function Wj(t,e){return e?t*(1e3/e):0}const rX=5;function Hj(t,e,n){const r=Math.max(e-rX,0);return Wj(n-t(r),e-r)}const Hw=.001,sX=.01,iX=10,oX=.05,aX=1;function lX({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,o=1-e;o=fa(oX,aX,o),t=fa(sX,iX,Vi(t)),o<1?(s=c=>{const u=c*o,h=u*t,p=u-n,g=Ux(c,o),w=Math.exp(-h);return Hw-p/g*w},i=c=>{const h=c*o*t,p=h*n+n,g=Math.pow(o,2)*Math.pow(c,2)*t,w=Math.exp(-h),v=Ux(Math.pow(c,2),o);return(-s(c)+Hw>0?-1:1)*((p-g)*w)/v}):(s=c=>{const u=Math.exp(-c*t),h=(c-n)*t+1;return-Hw+u*h},i=c=>{const u=Math.exp(-c*t),h=(n-c)*(t*t);return u*h});const a=5/t,l=uX(s,i,a);if(t=Li(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const cX=12;function uX(t,e,n){let r=n;for(let s=1;s<cX;s++)r=r-t(r)/e(r);return r}function Ux(t,e){return t*Math.sqrt(1-e*e)}const dX=["duration","bounce"],hX=["stiffness","damping","mass"];function KR(t,e){return e.some(n=>t[n]!==void 0)}function fX(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!KR(t,hX)&&KR(t,dX)){const n=lX(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function qj({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:c,duration:u,velocity:h,isResolvedFromDuration:p}=fX({...r,velocity:-Vi(r.velocity||0)}),g=h||0,w=l/(2*Math.sqrt(a*c)),v=i-s,_=Vi(Math.sqrt(a/c)),x=Math.abs(v)<5;n||(n=x?.01:2),e||(e=x?.005:.5);let y;if(w<1){const b=Ux(_,w);y=C=>{const P=Math.exp(-w*_*C);return i-P*((g+w*_*v)/b*Math.sin(b*C)+v*Math.cos(b*C))}}else if(w===1)y=b=>i-Math.exp(-_*b)*(v+(g+_*v)*b);else{const b=_*Math.sqrt(w*w-1);y=C=>{const P=Math.exp(-w*_*C),O=Math.min(b*C,300);return i-P*((g+w*_*v)*Math.sinh(O)+b*v*Math.cosh(O))/b}}return{calculatedDuration:p&&u||null,next:b=>{const C=y(b);if(p)o.done=b>=u;else{let P=0;w<1&&(P=b===0?Li(g):Hj(y,b,C));const O=Math.abs(P)<=n,T=Math.abs(i-C)<=e;o.done=O&&T}return o.value=o.done?i:C,o}}}function WR({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const h=t[0],p={done:!1,value:h},g=E=>a!==void 0&&E<a||l!==void 0&&E>l,w=E=>a===void 0?l:l===void 0||Math.abs(a-E)<Math.abs(l-E)?a:l;let v=n*e;const _=h+v,x=o===void 0?_:o(_);x!==_&&(v=x-h);const y=E=>-v*Math.exp(-E/r),b=E=>x+y(E),C=E=>{const I=y(E),R=b(E);p.done=Math.abs(I)<=c,p.value=p.done?x:R};let P,O;const T=E=>{g(p.value)&&(P=E,O=qj({keyframes:[p.value,w(p.value)],velocity:Hj(b,E,p.value),damping:s,stiffness:i,restDelta:c,restSpeed:u}))};return T(0),{calculatedDuration:null,next:E=>{let I=!1;return!O&&P===void 0&&(I=!0,C(E),T(E)),P!==void 0&&E>=P?O.next(E-P):(!I&&C(E),p)}}}const Gj=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,pX=1e-7,mX=12;function gX(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=Gj(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>pX&&++a<mX);return o}function Bf(t,e,n,r){if(t===e&&n===r)return ir;const s=i=>gX(i,0,1,t,n);return i=>i===0||i===1?i:Gj(s(i),e,r)}const vX=Bf(.42,0,1,1),yX=Bf(0,0,.58,1),Qj=Bf(.42,0,.58,1),wX=t=>Array.isArray(t)&&typeof t[0]!="number",Yj=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Xj=t=>e=>1-t(1-e),$b=t=>1-Math.sin(Math.acos(t)),Jj=Xj($b),xX=Yj($b),Zj=Bf(.33,1.53,.69,.99),zb=Xj(Zj),_X=Yj(zb),EX=t=>(t*=2)<1?.5*zb(t):.5*(2-Math.pow(2,-10*(t-1))),HR={linear:ir,easeIn:vX,easeInOut:Qj,easeOut:yX,circIn:$b,circInOut:xX,circOut:Jj,backIn:zb,backInOut:_X,backOut:Zj,anticipate:EX},qR=t=>{if(Array.isArray(t)){Ox(t.length===4);const[e,n,r,s]=t;return Bf(e,n,r,s)}else if(typeof t=="string")return Ox(HR[t]!==void 0),HR[t];return t},bX=(t,e)=>n=>e(t(n)),Fi=(...t)=>t.reduce(bX),Vh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Wt=(t,e,n)=>t+(e-t)*n;function qw(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function SX({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=qw(l,a,t+1/3),i=qw(l,a,t),o=qw(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Ig(t,e){return n=>n>0?e:t}const Gw=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},TX=[Vx,Qa,hc],CX=t=>TX.find(e=>e.test(t));function GR(t){const e=CX(t);if(!e)return!1;let n=e.parse(t);return e===hc&&(n=SX(n)),n}const QR=(t,e)=>{const n=GR(t),r=GR(e);if(!n||!r)return Ig(t,e);const s={...n};return i=>(s.red=Gw(n.red,r.red,i),s.green=Gw(n.green,r.green,i),s.blue=Gw(n.blue,r.blue,i),s.alpha=Wt(n.alpha,r.alpha,i),Qa.transform(s))},Bx=new Set(["none","hidden"]);function AX(t,e){return Bx.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function RX(t,e){return n=>Wt(t,e,n)}function Kb(t){return typeof t=="number"?RX:typeof t=="string"?jb(t)?Ig:er.test(t)?QR:NX:Array.isArray(t)?eL:typeof t=="object"?er.test(t)?QR:IX:Ig}function eL(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>Kb(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function IX(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Kb(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function PX(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][s[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const NX=(t,e)=>{const n=pa.createTransformer(e),r=Lh(t),s=Lh(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Bx.has(t)&&!s.values.length||Bx.has(e)&&!r.values.length?AX(t,e):Fi(eL(PX(r,s),s.values),n):Ig(t,e)};function tL(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Wt(t,e,n):Kb(t)(t,e)}function DX(t,e,n){const r=[],s=n||tL,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||ir:e;a=Fi(l,a)}r.push(a)}return r}function kX(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Ox(i===e.length),i===1)return()=>e[0];if(i===2&&t[0]===t[1])return()=>e[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=DX(e,r,s),a=o.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const h=Vh(t[u],t[u+1],c);return o[u](h)};return n?c=>l(fa(t[0],t[i-1],c)):l}function MX(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Vh(0,e,r);t.push(Wt(n,1,s))}}function OX(t){const e=[0];return MX(e,t.length-1),e}function jX(t,e){return t.map(n=>n*e)}function LX(t,e){return t.map(()=>e||Qj).splice(0,t.length-1)}function Pg({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=wX(r)?r.map(qR):qR(r),i={done:!1,value:e[0]},o=jX(n&&n.length===e.length?n:OX(e),t),a=kX(o,e,{ease:Array.isArray(s)?s:LX(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const YR=2e4;function VX(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<YR;)e+=n,r=t.next(e);return e>=YR?1/0:e}const FX=t=>{const e=({timestamp:n})=>t(n);return{start:()=>wt.update(e,!0),stop:()=>Zi(e),now:()=>Fn.isProcessing?Fn.timestamp:oi.now()}},UX={decay:WR,inertia:WR,tween:Pg,keyframes:Pg,spring:qj},BX=t=>t/100;class Wb extends Kj{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||Vb,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=UX[n]||Pg;let l,c;a!==Pg&&typeof e[0]!="number"&&(l=Fi(BX,tL(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});i==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=VX(u));const{calculatedDuration:h}=u,p=h+s,g=p*(r+1)-s;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:p,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:p,repeat:g,repeatType:w,repeatDelay:v,onUpdate:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const x=this.currentTime-p*(this.speed>=0?1:-1),y=this.speed>=0?x<0:x>u;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let b=this.currentTime,C=i;if(g){const E=Math.min(this.currentTime,u)/h;let I=Math.floor(E),R=E%1;!R&&E>=1&&(R=1),R===1&&I--,I=Math.min(I,g+1),!!(I%2)&&(w==="reverse"?(R=1-R,v&&(R-=v/h)):w==="mirror"&&(C=o)),b=fa(0,1,R)*h}const P=y?{done:!1,value:l[0]}:C.next(b);a&&(P.value=a(P.value));let{done:O}=P;!y&&c!==null&&(O=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return T&&s!==void 0&&(P.value=Xv(l,this.options,s)),_&&_(P.value),T&&this.finish(),P}get duration(){const{resolved:e}=this;return e?Vi(e.calculatedDuration):0}get time(){return Vi(this.currentTime)}set time(e){e=Li(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Vi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=FX,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const nL=new Set(["opacity","clipPath","filter","transform"]),rL=t=>Array.isArray(t)&&typeof t[0]=="number";function sL(t){return!!(!t||typeof t=="string"&&t in Hb||rL(t)||Array.isArray(t)&&t.every(sL))}const Sd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Hb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sd([0,.65,.55,1]),circOut:Sd([.55,0,1,.45]),backIn:Sd([.31,.01,.66,-.59]),backOut:Sd([.33,1.53,.69,.99])};function $X(t){return iL(t)||Hb.easeOut}function iL(t){if(t)return rL(t)?Sd(t):Array.isArray(t)?t.map($X):Hb[t]}function zX(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=iL(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const KX=zj(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ng=10,WX=2e4;function HX(t){return t.type==="spring"||!sL(t.ease)}function qX(t,e){const n=new Wb({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<WX;)r=n.sample(i),s.push(r.value),i+=Ng;return{times:void 0,keyframes:s,duration:i-Ng,ease:"linear"}}class XR extends Kj{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new $j(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:s=300,times:i,ease:o,type:a,motionValue:l,name:c,startTime:u}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(HX(this.options)){const{onComplete:p,onUpdate:g,motionValue:w,element:v,..._}=this.options,x=qX(e,_);e=x.keyframes,e.length===1&&(e[1]=e[0]),s=x.duration,i=x.times,o=x.ease,a="keyframes"}const h=zX(l.owner.current,c,e,{...this.options,duration:s,times:i,ease:o});return h.startTime=u??this.calcStartTime(),this.pendingTimeline?(h.timeline=this.pendingTimeline,this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:p}=this.options;l.set(Xv(e,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:s,times:i,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Vi(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Vi(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Li(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return ir;const{animation:r}=n;r.timeline=e,r.onfinish=null}return ir}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:h,element:p,...g}=this.options,w=new Wb({...g,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),v=Li(this.time);c.setWithVelocity(w.sample(v-Ng).value,w.sample(v).value,Ng)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=e;return KX()&&r&&nL.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}function GX(t,e){let n;const r=()=>{const{currentTime:s}=e,o=(s===null?0:s.value)/100;n!==o&&t(o),n=o};return wt.update(r,!0),()=>Zi(r)}const QX=zj(()=>window.ScrollTimeline!==void 0);class YX{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>{if(QX()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),GX(s=>{r.time=r.duration*s},e)});return()=>{n.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const qb=(t,e,n,r={},s,i,o)=>a=>{const l=Ob(r,t)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Li(c);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:g=>{e.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{a(),l.onComplete&&l.onComplete(),o&&o()},onStop:o,name:t,motionValue:e,element:i?void 0:s};yY(l)||(h={...h,...vY(t,h)}),h.duration&&(h.duration=Li(h.duration)),h.repeatDelay&&(h.repeatDelay=Li(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let p=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(p=!0)),p&&!i&&e.get()!==void 0){const g=Xv(h.keyframes,l);if(g!==void 0)return wt.update(()=>{h.onUpdate(g),h.onComplete()}),new YX([])}return!i&&XR.supports(h)?new XR(h):new Wb(h)},XX=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),JX=t=>Mx(t)?t[t.length-1]||0:t;function Jv(t,e){t.indexOf(e)===-1&&t.push(e)}function Zv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Gb{constructor(){this.subscriptions=[]}add(e){return Jv(this.subscriptions,e),()=>Zv(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const JR=30,ZX=t=>!isNaN(parseFloat(t));class oL{constructor(e,n={}){this.version="11.5.6",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=oi.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=oi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=ZX(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Gb);const r=this.events[e].add(n);return e==="change"?()=>{r(),wt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=oi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>JR)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,JR);return Wj(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fh(t,e){return new oL(t,e)}function eJ(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Fh(n))}function tJ(t,e){const n=Yv(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=JX(i[o]);eJ(t,o,a)}}const ey=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),nJ="framerAppearId",aL="data-"+ey(nJ);function lL(t){return t.props[aL]}function cL(t){if(Ta.has(t))return"transform";if(nL.has(t))return ey(t)}class rJ extends oL{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(e){const n=cL(e);if(!n)return;const r=this.counts.get(n)||0;this.counts.set(n,r+1),r===0&&(this.output.push(n),this.update());let s=!1;return()=>{if(s)return;s=!0;const i=this.counts.get(n)-1;this.counts.set(n,i),i===0&&(Zv(this.output,n),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}const sr=t=>!!(t&&t.getVelocity);function sJ(t){return!!(sr(t)&&t.add)}function $x(t,e){var n;if(!t.applyWillChange)return;let r=t.getValue("willChange");if(!r&&!(!((n=t.props.style)===null||n===void 0)&&n.willChange)&&(r=new rJ("auto"),t.addValue("willChange",r)),sJ(r))return r.add(e)}function iJ({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function uL(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const h in l){const p=t.getValue(h,(i=t.latestValues[h])!==null&&i!==void 0?i:null),g=l[h];if(g===void 0||u&&iJ(u,h))continue;const w={delay:n,...Ob(o||{},h)};let v=!1;if(window.MotionHandoffAnimation){const x=lL(t);if(x){const y=window.MotionHandoffAnimation(x,h,wt);y!==null&&(w.startTime=y,v=!0)}}p.start(qb(h,p,g,t.shouldReduceMotion&&Ta.has(h)?{type:!1}:w,t,v,$x(t,h)));const _=p.animation;_&&c.push(_)}return a&&Promise.all(c).then(()=>{wt.update(()=>{a&&tJ(t,a)})}),c}function zx(t,e,n={}){var r;const s=Yv(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(uL(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:p}=i;return oJ(t,e,u+c,h,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function oJ(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(aJ).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(zx(c,e,{...i,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function aJ(t,e){return t.sortNodePosition(e)}function lJ(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>zx(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=zx(t,e,n);else{const s=typeof e=="function"?Yv(t,e,n.custom):e;r=Promise.all(uL(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const cJ=Mb.length;function dL(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?dL(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<cJ;n++){const r=Mb[n],s=t.props[r];(jh(s)||s===!1)&&(e[r]=s)}return e}const uJ=[...kb].reverse(),dJ=kb.length;function hJ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>lJ(t,n,r)))}function fJ(t){let e=hJ(t),n=ZR(),r=!0;const s=l=>(c,u)=>{var h;const p=Yv(t,u,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(p){const{transition:g,transitionEnd:w,...v}=p;c={...c,...v,...w}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,u=dL(t.parent)||{},h=[],p=new Set;let g={},w=1/0;for(let _=0;_<dJ;_++){const x=uJ[_],y=n[x],b=c[x]!==void 0?c[x]:u[x],C=jh(b),P=x===l?y.isActive:null;P===!1&&(w=_);let O=b===u[x]&&b!==c[x]&&C;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),y.protectedKeys={...g},!y.isActive&&P===null||!b&&!y.prevProp||Oh(b)||typeof b=="boolean")continue;const T=pJ(y.prevProp,b);let E=T||x===l&&y.isActive&&!O&&C||_>w&&C,I=!1;const R=Array.isArray(b)?b:[b];let k=R.reduce(s(x),{});P===!1&&(k={});const{prevResolvedValues:M={}}=y,N={...M,...k},W=Y=>{E=!0,p.has(Y)&&(I=!0,p.delete(Y)),y.needsAnimating[Y]=!0;const z=t.getValue(Y);z&&(z.liveStyle=!1)};for(const Y in N){const z=k[Y],B=M[Y];if(g.hasOwnProperty(Y))continue;let J=!1;Mx(z)&&Mx(B)?J=!Tj(z,B):J=z!==B,J?z!=null?W(Y):p.add(Y):z!==void 0&&p.has(Y)?W(Y):y.protectedKeys[Y]=!0}y.prevProp=b,y.prevResolvedValues=k,y.isActive&&(g={...g,...k}),r&&t.blockInitialAnimation&&(E=!1),E&&(!(O&&T)||I)&&h.push(...R.map(Y=>({animation:Y,options:{type:x}})))}if(p.size){const _={};p.forEach(x=>{const y=t.getBaseTarget(x),b=t.getValue(x);b&&(b.liveStyle=!0),_[x]=y??null}),h.push({animation:_})}let v=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(h):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=ZR(),r=!0}}}function pJ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Tj(e,t):!1}function Va(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ZR(){return{animate:Va(!0),whileInView:Va(),whileHover:Va(),whileTap:Va(),whileDrag:Va(),whileFocus:Va(),exit:Va()}}class Ca{constructor(e){this.isMounted=!1,this.node=e}update(){}}class mJ extends Ca{constructor(e){super(e),e.animationState||(e.animationState=fJ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Oh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let gJ=0;class vJ extends Ca{constructor(){super(...arguments),this.id=gJ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const yJ={animation:{Feature:mJ},exit:{Feature:vJ}},hL=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function ty(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const wJ=t=>e=>hL(e)&&t(e,ty(e));function Ni(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ui(t,e,n,r){return Ni(t,e,wJ(n),r)}const e1=(t,e)=>Math.abs(t-e);function xJ(t,e){const n=e1(t.x,e.x),r=e1(t.y,e.y);return Math.sqrt(n**2+r**2)}class fL{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Yw(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=xJ(h.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:w}=h,{timestamp:v}=Fn;this.history.push({...w,timestamp:v});const{onStart:_,onMove:x}=this.handlers;p||(_&&_(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Qw(p,this.transformPagePoint),wt.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:g,onSessionEnd:w,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Yw(h.type==="pointercancel"?this.lastMoveEventInfo:Qw(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,_),w&&w(h,_)},!hL(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=ty(e),a=Qw(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Fn;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,Yw(a,this.history)),this.removeListeners=Fi(Ui(this.contextWindow,"pointermove",this.handlePointerMove),Ui(this.contextWindow,"pointerup",this.handlePointerUp),Ui(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Zi(this.updatePoint)}}function Qw(t,e){return e?{point:e(t.point)}:t}function t1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Yw({point:t},e){return{point:t,delta:t1(t,pL(e)),offset:t1(t,_J(e)),velocity:EJ(e,.1)}}function _J(t){return t[0]}function pL(t){return t[t.length-1]}function EJ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=pL(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Li(e)));)n--;if(!r)return{x:0,y:0};const i=Vi(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function mL(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const n1=mL("dragHorizontal"),r1=mL("dragVertical");function gL(t){let e=!1;if(t==="y")e=r1();else if(t==="x")e=n1();else{const n=n1(),r=r1();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function vL(){const t=gL(!0);return t?(t(),!1):!0}function fc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const yL=1e-4,bJ=1-yL,SJ=1+yL,wL=.01,TJ=0-wL,CJ=0+wL;function Gr(t){return t.max-t.min}function AJ(t,e,n){return Math.abs(t-e)<=n}function s1(t,e,n,r=.5){t.origin=r,t.originPoint=Wt(e.min,e.max,t.origin),t.scale=Gr(n)/Gr(e),t.translate=Wt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=bJ&&t.scale<=SJ||isNaN(t.scale))&&(t.scale=1),(t.translate>=TJ&&t.translate<=CJ||isNaN(t.translate))&&(t.translate=0)}function Wd(t,e,n,r){s1(t.x,e.x,n.x,r?r.originX:void 0),s1(t.y,e.y,n.y,r?r.originY:void 0)}function i1(t,e,n){t.min=n.min+e.min,t.max=t.min+Gr(e)}function RJ(t,e,n){i1(t.x,e.x,n.x),i1(t.y,e.y,n.y)}function o1(t,e,n){t.min=e.min-n.min,t.max=t.min+Gr(e)}function Hd(t,e,n){o1(t.x,e.x,n.x),o1(t.y,e.y,n.y)}function IJ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Wt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Wt(n,t,r.max):Math.min(t,n)),t}function a1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function PJ(t,{top:e,left:n,bottom:r,right:s}){return{x:a1(t.x,n,s),y:a1(t.y,e,r)}}function l1(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function NJ(t,e){return{x:l1(t.x,e.x),y:l1(t.y,e.y)}}function DJ(t,e){let n=.5;const r=Gr(t),s=Gr(e);return s>r?n=Vh(e.min,e.max-r,t.min):r>s&&(n=Vh(t.min,t.max-s,e.min)),fa(0,1,n)}function kJ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Kx=.35;function MJ(t=Kx){return t===!1?t=0:t===!0&&(t=Kx),{x:c1(t,"left","right"),y:c1(t,"top","bottom")}}function c1(t,e,n){return{min:u1(t,e),max:u1(t,n)}}function u1(t,e){return typeof t=="number"?t:t[e]||0}const d1=()=>({translate:0,scale:1,origin:0,originPoint:0}),pc=()=>({x:d1(),y:d1()}),h1=()=>({min:0,max:0}),sn=()=>({x:h1(),y:h1()});function ss(t){return[t("x"),t("y")]}function xL({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function OJ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function jJ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Xw(t){return t===void 0||t===1}function Wx({scale:t,scaleX:e,scaleY:n}){return!Xw(t)||!Xw(e)||!Xw(n)}function $a(t){return Wx(t)||_L(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function _L(t){return f1(t.x)||f1(t.y)}function f1(t){return t&&t!=="0%"}function Dg(t,e,n){const r=t-n,s=e*r;return n+s}function p1(t,e,n,r,s){return s!==void 0&&(t=Dg(t,s,r)),Dg(t,n,r)+e}function Hx(t,e=0,n=1,r,s){t.min=p1(t.min,e,n,r,s),t.max=p1(t.max,e,n,r,s)}function EL(t,{x:e,y:n}){Hx(t.x,e.translate,e.scale,e.originPoint),Hx(t.y,n.translate,n.scale,n.originPoint)}const m1=.999999999999,g1=1.0000000000001;function LJ(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&gc(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,EL(t,o)),r&&$a(i.latestValues)&&gc(t,i.latestValues))}e.x<g1&&e.x>m1&&(e.x=1),e.y<g1&&e.y>m1&&(e.y=1)}function mc(t,e){t.min=t.min+e,t.max=t.max+e}function v1(t,e,n,r,s=.5){const i=Wt(t.min,t.max,s);Hx(t,e,n,i,r)}function gc(t,e){v1(t.x,e.x,e.scaleX,e.scale,e.originX),v1(t.y,e.y,e.scaleY,e.scale,e.originY)}function bL(t,e){return xL(jJ(t.getBoundingClientRect(),e))}function VJ(t,e,n){const r=bL(t,n),{scroll:s}=e;return s&&(mc(r.x,s.offset.x),mc(r.y,s.offset.y)),r}const SL=({current:t})=>t?t.ownerDocument.defaultView:null,FJ=new WeakMap;class UJ{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=sn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ty(u,"page").point)},i=(u,h)=>{var p;const{drag:g,dragPropagation:w,onDragStart:v}=this.getProps();if(g&&!w&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=gL(g),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ss(x=>{let y=this.getAxisMotionValue(x).get()||0;if(ii.test(y)){const{projection:b}=this.visualElement;if(b&&b.layout){const C=b.layout.layoutBox[x];C&&(y=Gr(C)*(parseFloat(y)/100))}}this.originPoint[x]=y}),v&&wt.postRender(()=>v(u,h)),(p=this.removeWillChange)===null||p===void 0||p.call(this),this.removeWillChange=$x(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:w,onDrag:v}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:_}=h;if(g&&this.currentDirection===null){this.currentDirection=BJ(_),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",h.point,_),this.updateAxis("y",h.point,_),this.visualElement.render(),v&&v(u,h)},a=(u,h)=>this.stop(u,h),l=()=>ss(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new fL(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:SL(this.visualElement)})}stop(e,n){var r;(r=this.removeWillChange)===null||r===void 0||r.call(this);const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&wt.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Kp(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=IJ(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&fc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=PJ(s.layoutBox,n):this.constraints=!1,this.elastic=MJ(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ss(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=kJ(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!fc(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=VJ(r,s.root,this.visualElement.getTransformPagePoint());let o=NJ(s.layout.layoutBox,i);if(n){const a=n(OJ(o));this.hasMutatedConstraints=!!a,a&&(o=xL(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=ss(u=>{if(!Kp(u,n,this.currentDirection))return;let h=l&&l[u]||{};o&&(h={min:0,max:0});const p=s?200:1e6,g=s?40:1e7,w={type:"inertia",velocity:r?e[u]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,w)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(qb(e,r,0,n,this.visualElement,!1,$x(this.visualElement,e)))}stopAnimation(){ss(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ss(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ss(n=>{const{drag:r}=this.getProps();if(!Kp(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Wt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!fc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ss(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=DJ({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ss(o=>{if(!Kp(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Wt(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;FJ.set(this.visualElement,this);const e=this.visualElement.current,n=Ui(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();fc(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),wt.read(r);const o=Ni(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ss(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Kx,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Kp(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function BJ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class $J extends Ca{constructor(e){super(e),this.removeGroupControls=ir,this.removeListeners=ir,this.controls=new UJ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ir}unmount(){this.removeGroupControls(),this.removeListeners()}}const y1=t=>(e,n)=>{t&&wt.postRender(()=>t(e,n))};class zJ extends Ca{constructor(){super(...arguments),this.removePointerDownListener=ir}onPointerDown(e){this.session=new fL(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:SL(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:y1(e),onStart:y1(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&wt.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Ui(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ny=m.createContext(null);function KJ(){const t=m.useContext(ny);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=m.useId();m.useEffect(()=>r(s),[]);const i=m.useCallback(()=>n&&n(s),[s,n]);return!e&&n?[!1,i]:[!0]}const Qb=m.createContext({}),TL=m.createContext({}),Am={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function w1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const hd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(De.test(t))t=parseFloat(t);else return t;const n=w1(t,e.target.x),r=w1(t,e.target.y);return`${n}% ${r}%`}},WJ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=pa.parse(t);if(s.length>5)return r;const i=pa.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=Wt(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}},kg={};function HJ(t){Object.assign(kg,t)}const{schedule:Yb,cancel:Ufe}=Cj(queueMicrotask,!1);class qJ extends m.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;HJ(GJ),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Am.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||wt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Yb.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function CL(t){const[e,n]=KJ(),r=m.useContext(Qb);return d.jsx(qJ,{...t,layoutGroup:r,switchLayoutGroup:m.useContext(TL),isPresent:e,safeToRemove:n})}const GJ={borderRadius:{...hd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hd,borderTopRightRadius:hd,borderBottomLeftRadius:hd,borderBottomRightRadius:hd,boxShadow:WJ},AL=["TopLeft","TopRight","BottomLeft","BottomRight"],QJ=AL.length,x1=t=>typeof t=="string"?parseFloat(t):t,_1=t=>typeof t=="number"||De.test(t);function YJ(t,e,n,r,s,i){s?(t.opacity=Wt(0,n.opacity!==void 0?n.opacity:1,XJ(r)),t.opacityExit=Wt(e.opacity!==void 0?e.opacity:1,0,JJ(r))):i&&(t.opacity=Wt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<QJ;o++){const a=`border${AL[o]}Radius`;let l=E1(e,a),c=E1(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||_1(l)===_1(c)?(t[a]=Math.max(Wt(x1(l),x1(c),r),0),(ii.test(c)||ii.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Wt(e.rotate||0,n.rotate||0,r))}function E1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const XJ=RL(0,.5,Jj),JJ=RL(.5,.95,ir);function RL(t,e,n){return r=>r<t?0:r>e?1:n(Vh(t,e,r))}function b1(t,e){t.min=e.min,t.max=e.max}function rs(t,e){b1(t.x,e.x),b1(t.y,e.y)}function S1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function T1(t,e,n,r,s){return t-=e,t=Dg(t,1/n,r),s!==void 0&&(t=Dg(t,1/s,r)),t}function ZJ(t,e=0,n=1,r=.5,s,i=t,o=t){if(ii.test(e)&&(e=parseFloat(e),e=Wt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Wt(i.min,i.max,r);t===i&&(a-=e),t.min=T1(t.min,e,n,a,s),t.max=T1(t.max,e,n,a,s)}function C1(t,e,[n,r,s],i,o){ZJ(t,e[n],e[r],e[s],e.scale,i,o)}const eZ=["x","scaleX","originX"],tZ=["y","scaleY","originY"];function A1(t,e,n,r){C1(t.x,e,eZ,n?n.x:void 0,r?r.x:void 0),C1(t.y,e,tZ,n?n.y:void 0,r?r.y:void 0)}function R1(t){return t.translate===0&&t.scale===1}function IL(t){return R1(t.x)&&R1(t.y)}function I1(t,e){return t.min===e.min&&t.max===e.max}function nZ(t,e){return I1(t.x,e.x)&&I1(t.y,e.y)}function P1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function PL(t,e){return P1(t.x,e.x)&&P1(t.y,e.y)}function N1(t){return Gr(t.x)/Gr(t.y)}function D1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class rZ{constructor(){this.members=[]}add(e){Jv(this.members,e),e.scheduleRender()}remove(e){if(Zv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function sZ(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:h,rotateY:p,skewX:g,skewY:w}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),p&&(r+=`rotateY(${p}deg) `),g&&(r+=`skewX(${g}deg) `),w&&(r+=`skewY(${w}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const iZ=(t,e)=>t.depth-e.depth;class oZ{constructor(){this.children=[],this.isDirty=!1}add(e){Jv(this.children,e),this.isDirty=!0}remove(e){Zv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(iZ),this.isDirty=!1,this.children.forEach(e)}}function Rm(t){const e=sr(t)?t.get():t;return XX(e)?e.toValue():e}function aZ(t,e){const n=oi.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Zi(r),t(i-e))};return wt.read(r,!0),()=>Zi(r)}function lZ(t){return t instanceof SVGElement&&t.tagName!=="svg"}function cZ(t,e,n){const r=sr(t)?t:Fh(t);return r.start(qb("",r,e,n)),r.animation}const za={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Td=typeof window<"u"&&window.MotionDebug!==void 0,Jw=["","X","Y","Z"],uZ={visibility:"hidden"},k1=1e3;let dZ=0;function Zw(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function NL(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=lL(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",wt,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&NL(r)}function DL({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=dZ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Td&&(za.totalNodes=za.resolvedTargetDeltas=za.recalculatedProjection=0),this.nodes.forEach(pZ),this.nodes.forEach(wZ),this.nodes.forEach(xZ),this.nodes.forEach(mZ),Td&&window.MotionDebug.record(za)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new oZ)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Gb),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=lZ(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=aZ(p,250),Am.hasAnimatedSinceResize&&(Am.hasAnimatedSinceResize=!1,this.nodes.forEach(O1))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:g,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||TZ,{onLayoutAnimationStart:_,onLayoutAnimationComplete:x}=u.getProps(),y=!this.targetLayout||!PL(this.targetLayout,w)||g,b=!p&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||p&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const C={...Ob(v,"layout"),onPlay:_,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else p||O1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Zi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(_Z),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&NL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(M1);return}this.isUpdating||this.nodes.forEach(vZ),this.isUpdating=!1,this.nodes.forEach(yZ),this.nodes.forEach(hZ),this.nodes.forEach(fZ),this.clearAllSnapshots();const a=oi.now();Fn.delta=fa(0,1e3/60,a-Fn.timestamp),Fn.timestamp=a,Fn.isProcessing=!0,Kw.update.process(Fn),Kw.preRender.process(Fn),Kw.render.process(Fn),Fn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Yb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(gZ),this.sharedNodes.forEach(EZ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,wt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){wt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=sn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!IL(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||$a(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),CZ(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return sn();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(AZ))){const{scroll:u}=this.root;u&&(mc(l.x,u.offset.x),mc(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=sn();if(rs(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:h,options:p}=u;u!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&rs(l,o),mc(l.x,h.offset.x),mc(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=sn();rs(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&gc(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),$a(u.latestValues)&&gc(l,u.latestValues)}return $a(this.latestValues)&&gc(l,this.latestValues),l}removeTransform(o){const a=sn();rs(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!$a(c.latestValues))continue;Wx(c.latestValues)&&c.updateSnapshot();const u=sn(),h=c.measurePageBox();rs(u,h),A1(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return $a(this.latestValues)&&A1(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=Fn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sn(),this.relativeTargetOrigin=sn(),Hd(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),rs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=sn(),this.targetWithTransforms=sn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),RJ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):rs(this.target,this.layout.layoutBox),EL(this.target,this.targetDelta)):rs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sn(),this.relativeTargetOrigin=sn(),Hd(this.relativeTargetOrigin,this.target,g.target),rs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Td&&za.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Wx(this.parent.latestValues)||_L(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Fn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;rs(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;LJ(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=sn());const{target:w}=a;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(S1(this.prevProjectionDelta.x,this.projectionDelta.x),S1(this.prevProjectionDelta.y,this.projectionDelta.y)),Wd(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!D1(this.projectionDelta.x,this.prevProjectionDelta.x)||!D1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),Td&&za.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=pc(),this.projectionDelta=pc(),this.projectionDeltaWithTransform=pc()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},h=pc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=sn(),g=l?l.source:void 0,w=this.layout?this.layout.source:void 0,v=g!==w,_=this.getStack(),x=!_||_.members.length<=1,y=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(SZ));this.animationProgress=0;let b;this.mixTargetDelta=C=>{const P=C/1e3;j1(h.x,o.x,P),j1(h.y,o.y,P),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hd(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),bZ(this.relativeTarget,this.relativeTargetOrigin,p,P),b&&nZ(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=sn()),rs(b,this.relativeTarget)),v&&(this.animationValues=u,YJ(u,c,this.latestValues,P,y,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Zi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wt.update(()=>{Am.hasAnimatedSinceResize=!0,this.currentAnimation=cZ(0,k1,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(k1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&kL(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||sn();const h=Gr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=Gr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}rs(a,l),gc(a,u),Wd(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new rZ),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Zw("z",o,c,this.animationValues);for(let u=0;u<Jw.length;u++)Zw(`rotate${Jw[u]}`,o,c,this.animationValues),Zw(`skew${Jw[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return uZ;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Rm(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Rm(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!$a(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=sZ(this.projectionDeltaWithTransform,this.treeScale,p),u&&(c.transform=u(p,c.transform));const{x:g,y:w}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${w.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in kg){if(p[v]===void 0)continue;const{correct:_,applyTo:x}=kg[v],y=c.transform==="none"?p[v]:_(p[v],h);if(x){const b=x.length;for(let C=0;C<b;C++)c[x[C]]=y}else c[v]=y}return this.options.layoutId&&(c.pointerEvents=h===this?Rm(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(M1),this.root.sharedNodes.clear()}}}function hZ(t){t.updateLayout()}function fZ(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?ss(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],g=Gr(p);p.min=r[h].min,p.max=p.min+g}):kL(i,n.layoutBox,r)&&ss(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],g=Gr(r[h]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+g)});const a=pc();Wd(a,r,n.layoutBox);const l=pc();o?Wd(l,t.applyTransform(s,!0),n.measuredBox):Wd(l,r,n.layoutBox);const c=!IL(a);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:g}=h;if(p&&g){const w=sn();Hd(w,n.layoutBox,p.layoutBox);const v=sn();Hd(v,r,g.layoutBox),PL(w,v)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=w,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function pZ(t){Td&&za.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function mZ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function gZ(t){t.clearSnapshot()}function M1(t){t.clearMeasurements()}function vZ(t){t.isLayoutDirty=!1}function yZ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function O1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function wZ(t){t.resolveTargetDelta()}function xZ(t){t.calcProjection()}function _Z(t){t.resetSkewAndRotation()}function EZ(t){t.removeLeadSnapshot()}function j1(t,e,n){t.translate=Wt(e.translate,0,n),t.scale=Wt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function L1(t,e,n,r){t.min=Wt(e.min,n.min,r),t.max=Wt(e.max,n.max,r)}function bZ(t,e,n,r){L1(t.x,e.x,n.x,r),L1(t.y,e.y,n.y,r)}function SZ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const TZ={duration:.45,ease:[.4,0,.1,1]},V1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),F1=V1("applewebkit/")&&!V1("chrome/")?Math.round:ir;function U1(t){t.min=F1(t.min),t.max=F1(t.max)}function CZ(t){U1(t.x),U1(t.y)}function kL(t,e,n){return t==="position"||t==="preserve-aspect"&&!AJ(N1(e),N1(n),.2)}function AZ(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const RZ=DL({attachResizeListener:(t,e)=>Ni(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),e0={current:void 0},ML=DL({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!e0.current){const t=new RZ({});t.mount(window),t.setOptions({layoutScroll:!0}),e0.current=t}return e0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),IZ={pan:{Feature:zJ},drag:{Feature:$J,ProjectionNode:ML,MeasureLayout:CL}};function B1(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",s=(i,o)=>{if(i.pointerType==="touch"||vL())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&wt.postRender(()=>l(i,o))};return Ui(t.current,n,s,{passive:!t.getProps()[r]})}class PZ extends Ca{mount(){this.unmount=Fi(B1(this.node,!0),B1(this.node,!1))}unmount(){}}class NZ extends Ca{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fi(Ni(this.node.current,"focus",()=>this.onFocus()),Ni(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const OL=(t,e)=>e?t===e?!0:OL(t,e.parentElement):!1;function t0(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,ty(n))}class DZ extends Ca{constructor(){super(...arguments),this.removeStartListeners=ir,this.removeEndListeners=ir,this.removeAccessibleListeners=ir,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Ui(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:h}=this.node.getProps(),p=!h&&!OL(this.node.current,a.target)?u:c;p&&wt.update(()=>p(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=Ui(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Fi(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||t0("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&wt.postRender(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=Ni(this.node.current,"keyup",o),t0("down",(a,l)=>{this.startPress(a,l)})},n=Ni(this.node.current,"keydown",e),r=()=>{this.isPressing&&t0("cancel",(i,o)=>this.cancelPress(i,o))},s=Ni(this.node.current,"blur",r);this.removeAccessibleListeners=Fi(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&wt.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!vL()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&wt.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Ui(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Ni(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Fi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const qx=new WeakMap,n0=new WeakMap,kZ=t=>{const e=qx.get(t.target);e&&e(t)},MZ=t=>{t.forEach(kZ)};function OZ({root:t,...e}){const n=t||document;n0.has(n)||n0.set(n,{});const r=n0.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(MZ,{root:t,...e})),r[s]}function jZ(t,e,n){const r=OZ(e);return qx.set(t,n),r.observe(t),()=>{qx.delete(t),r.unobserve(t)}}const LZ={some:0,all:1};class VZ extends Ca{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:LZ[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),p=c?u:h;p&&p(l)};return jZ(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(FZ(e,n))&&this.startObserver()}unmount(){}}function FZ({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const UZ={inView:{Feature:VZ},tap:{Feature:DZ},focus:{Feature:NZ},hover:{Feature:PZ}},BZ={layout:{ProjectionNode:ML,MeasureLayout:CL}},Xb=m.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),ry=m.createContext({}),Jb=typeof window<"u",jL=Jb?m.useLayoutEffect:m.useEffect,LL=m.createContext({strict:!1});let $1=!1;function $Z(t,e,n,r,s){var i;const{visualElement:o}=m.useContext(ry),a=m.useContext(LL),l=m.useContext(ny),c=m.useContext(Xb).reducedMotion,u=m.useRef();r=r||a.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const h=u.current,p=m.useContext(TL);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&KZ(u.current,n,s,p),m.useInsertionEffect(()=>{h&&h.update(n,l)});const g=n[aL],w=m.useRef(!!g&&!window.MotionHandoffIsComplete&&((i=window.MotionHasOptimisedAnimation)===null||i===void 0?void 0:i.call(window,g)));return jL(()=>{h&&(h.updateFeatures(),Yb.render(h.render),w.current&&h.animationState&&h.animationState.animateChanges())}),m.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current=!1,$1||($1=!0,queueMicrotask(zZ)))}),h}function zZ(){window.MotionHandoffIsComplete=!0}function KZ(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:VL(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&fc(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function VL(t){if(t)return t.options.allowProjection!==!1?t.projection:VL(t.parent)}function WZ(t,e,n){return m.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):fc(n)&&(n.current=r))},[e])}function sy(t){return Oh(t.animate)||Mb.some(e=>jh(t[e]))}function FL(t){return!!(sy(t)||t.variants)}function HZ(t,e){if(sy(t)){const{initial:n,animate:r}=t;return{initial:n===!1||jh(n)?n:void 0,animate:jh(r)?r:void 0}}return t.inherit!==!1?e:{}}function qZ(t){const{initial:e,animate:n}=HZ(t,m.useContext(ry));return m.useMemo(()=>({initial:e,animate:n}),[z1(e),z1(n)])}function z1(t){return Array.isArray(t)?t.join(" "):t}const K1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},iu={};for(const t in K1)iu[t]={isEnabled:e=>K1[t].some(n=>!!e[n])};function GZ(t){for(const e in t)iu[e]={...iu[e],...t[e]}}const QZ=Symbol.for("motionComponentSymbol");function YZ({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&GZ(t);function i(a,l){let c;const u={...m.useContext(Xb),...a,layoutId:XZ(a)},{isStatic:h}=u,p=qZ(a),g=r(a,h);if(!h&&Jb){JZ();const w=ZZ(u);c=w.MeasureLayout,p.visualElement=$Z(s,g,u,e,w.ProjectionNode)}return d.jsxs(ry.Provider,{value:p,children:[c&&p.visualElement?d.jsx(c,{visualElement:p.visualElement,...u}):null,n(s,a,WZ(g,p.visualElement,l),g,h,p.visualElement)]})}const o=m.forwardRef(i);return o[QZ]=s,o}function XZ({layoutId:t}){const e=m.useContext(Qb).id;return e&&t!==void 0?e+"-"+t:t}function JZ(t,e){m.useContext(LL).strict}function ZZ(t){const{drag:e,layout:n}=iu;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const eee=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Zb(t){return typeof t!="string"||t.includes("-")?!1:!!(eee.indexOf(t)>-1||/[A-Z]/u.test(t))}function UL(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const BL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function $L(t,e,n,r){UL(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(BL.has(s)?s:ey(s),e.attrs[s])}function zL(t,{layout:e,layoutId:n}){return Ta.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!kg[t]||t==="opacity")}function eS(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(sr(s[o])||e.style&&sr(e.style[o])||zL(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return n&&s&&typeof s.willChange=="string"&&(n.applyWillChange=!1),i}function KL(t,e,n){const r=eS(t,e,n);for(const s in t)if(sr(t[s])||sr(e[s])){const i=Vf.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function tS(t){const e=m.useRef(null);return e.current===null&&(e.current=t()),e.current}function tee({applyWillChange:t=!1,scrapeMotionValuesFromProps:e,createRenderState:n,onMount:r},s,i,o,a){const l={latestValues:ree(s,i,o,a?!1:t,e),renderState:n()};return r&&(l.mount=c=>r(s,c,l)),l}const WL=t=>(e,n)=>{const r=m.useContext(ry),s=m.useContext(ny),i=()=>tee(t,e,r,s,n);return n?i():tS(i)};function nee(t,e){const n=cL(e);n&&Jv(t,n)}function W1(t,e,n){const r=Array.isArray(e)?e:[e];for(let s=0;s<r.length;s++){const i=Db(t,r[s]);if(i){const{transitionEnd:o,transition:a,...l}=i;n(l,o)}}}function ree(t,e,n,r,s){var i;const o={},a=[],l=r&&((i=t.style)===null||i===void 0?void 0:i.willChange)===void 0,c=s(t,{});for(const _ in c)o[_]=Rm(c[_]);let{initial:u,animate:h}=t;const p=sy(t),g=FL(t);e&&g&&!p&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let w=n?n.initial===!1:!1;w=w||u===!1;const v=w?h:u;return v&&typeof v!="boolean"&&!Oh(v)&&W1(t,v,(_,x)=>{for(const y in _){let b=_[y];if(Array.isArray(b)){const C=w?b.length-1:0;b=b[C]}b!==null&&(o[y]=b)}for(const y in x)o[y]=x[y]}),l&&(h&&u!==!1&&!Oh(h)&&W1(t,h,_=>{for(const x in _)nee(a,x)}),a.length&&(o.willChange=a.join(","))),o}const nS=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),HL=()=>({...nS(),attrs:{}}),qL=(t,e)=>e&&typeof t=="number"?e.transform(t):t,see={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iee=Vf.length;function oee(t,e,n){let r="",s=!0;for(let i=0;i<iee;i++){const o=Vf[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=qL(a,Ub[o]);if(!l){s=!1;const u=see[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function rS(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Ta.has(l)){o=!0;continue}else if(Pj(l)){s[l]=c;continue}else{const u=qL(c,Ub[l]);l.startsWith("origin")?(a=!0,i[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=oee(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;r.transformOrigin=`${l} ${c} ${u}`}}function H1(t,e,n){return typeof t=="string"?t:De.transform(e+n*t)}function aee(t,e,n){const r=H1(e,t.x,t.width),s=H1(n,t.y,t.height);return`${r} ${s}`}const lee={offset:"stroke-dashoffset",array:"stroke-dasharray"},cee={offset:"strokeDashoffset",array:"strokeDasharray"};function uee(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?lee:cee;t[i.offset]=De.transform(-r);const o=De.transform(e),a=De.transform(n);t[i.array]=`${o} ${a}`}function sS(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,h){if(rS(t,c,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g,dimensions:w}=t;p.transform&&(w&&(g.transform=p.transform),delete p.transform),w&&(s!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=aee(w,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&uee(p,o,a,l,!1)}const iS=t=>typeof t=="string"&&t.toLowerCase()==="svg",dee={useVisualState:WL({scrapeMotionValuesFromProps:KL,createRenderState:HL,onMount:(t,e,{renderState:n,latestValues:r})=>{wt.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),wt.render(()=>{sS(n,r,iS(e.tagName),t.transformTemplate),$L(e,n)})}})},hee={useVisualState:WL({applyWillChange:!0,scrapeMotionValuesFromProps:eS,createRenderState:nS})};function GL(t,e,n){for(const r in e)!sr(e[r])&&!zL(r,n)&&(t[r]=e[r])}function fee({transformTemplate:t},e){return m.useMemo(()=>{const n=nS();return rS(n,e,t),Object.assign({},n.vars,n.style)},[e])}function pee(t,e){const n=t.style||{},r={};return GL(r,n,t),Object.assign(r,fee(t,e)),r}function mee(t,e){const n={},r=pee(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const gee=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Mg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||gee.has(t)}let QL=t=>!Mg(t);function vee(t){t&&(QL=e=>e.startsWith("on")?!Mg(e):t(e))}try{vee(require("@emotion/is-prop-valid").default)}catch{}function yee(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(QL(s)||n===!0&&Mg(s)||!e&&!Mg(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function wee(t,e,n,r){const s=m.useMemo(()=>{const i=HL();return sS(i,e,iS(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};GL(i,t.style,t),s.style={...i,...s.style}}return s}function xee(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(Zb(n)?wee:mee)(r,i,o,n),c=yee(r,typeof n=="string",t),u=n!==m.Fragment?{...c,...l,ref:s}:{},{children:h}=r,p=m.useMemo(()=>sr(h)?h.get():h,[h]);return m.createElement(n,{...u,children:p})}}function _ee(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...Zb(r)?dee:hee,preloadedFeatures:t,useRender:xee(s),createVisualElement:e,Component:r};return YZ(o)}}const Gx={current:null},YL={current:!1};function Eee(){if(YL.current=!0,!!Jb)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Gx.current=t.matches;t.addListener(e),e()}else Gx.current=!1}function bee(t,e,n){for(const r in e){const s=e[r],i=n[r];if(sr(s))t.addValue(r,s);else if(sr(i))t.addValue(r,Fh(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Fh(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const q1=new WeakMap,See=[...kj,er,pa],Tee=t=>See.find(Dj(t)),G1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Cee{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Vb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=oi.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,wt.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=sy(n),this.isVariantNode=FL(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const g=h[p];l[p]!==void 0&&sr(g)&&g.set(l[p],!1)}}mount(e){this.current=e,q1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),YL.current||Eee(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Gx.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){q1.delete(this.current),this.projection&&this.projection.unmount(),Zi(this.notifyUpdate),Zi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ta.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&wt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in iu){const n=iu[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):sn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<G1.length;r++){const s=G1[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=bee(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Fh(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(Rj(s)||Aj(s))?s=parseFloat(s):!Tee(s)&&pa.test(n)&&(s=Bj(e,n)),this.setBaseTarget(e,sr(s)?s.get():s)),sr(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=Db(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!sr(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Gb),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class XL extends Cee{constructor(){super(...arguments),this.KeyframeResolver=$j}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function Aee(t){return window.getComputedStyle(t)}class Ree extends XL{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=UL}readValueFromInstance(e,n){if(Ta.has(n)){const r=Bb(n);return r&&r.default||0}else{const r=Aee(e),s=(Pj(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return bL(e,n)}build(e,n,r){rS(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return eS(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;sr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Iee extends XL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=sn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ta.has(n)){const r=Bb(n);return r&&r.default||0}return n=BL.has(n)?n:ey(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return KL(e,n,r)}build(e,n,r){sS(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){$L(e,n,r,s)}mount(e){this.isSVGTag=iS(e.tagName),super.mount(e)}}const Pee=(t,e)=>Zb(t)?new Iee(e):new Ree(e,{allowProjection:t!==m.Fragment}),Nee=_ee({...yJ,...UZ,...IZ,...BZ},Pee),Dee=hY(Nee);class kee extends m.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Mee({children:t,isPresent:e}){const n=m.useId(),r=m.useRef(null),s=m.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=m.useContext(Xb);return m.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=s.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return i&&(u.nonce=i),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),d.jsx(kee,{isPresent:e,childRef:r,sizeRef:s,children:m.cloneElement(t,{ref:r})})}const Oee=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=tS(jee),l=m.useId(),c=m.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:u=>{a.set(u,!0);for(const h of a.values())if(!h)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),i?[Math.random()]:[n]);return m.useMemo(()=>{a.forEach((u,h)=>a.set(h,!1))},[n]),m.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=d.jsx(Mee,{isPresent:n,children:t})),d.jsx(ny.Provider,{value:c,children:t})};function jee(){return new Map}const Wp=t=>t.key||"";function Q1(t){const e=[];return m.Children.forEach(t,n=>{m.isValidElement(n)&&e.push(n)}),e}const Lee=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=m.useMemo(()=>Q1(t),[t]),l=a.map(Wp),c=m.useRef(!0),u=m.useRef(a),h=tS(()=>new Map),[p,g]=m.useState(a),[w,v]=m.useState(a);jL(()=>{c.current=!1,u.current=a;for(let y=0;y<w.length;y++){const b=Wp(w[y]);l.includes(b)?h.delete(b):h.get(b)!==!0&&h.set(b,!1)}},[w,l.length,l.join("-")]);const _=[];if(a!==p){let y=[...a];for(let b=0;b<w.length;b++){const C=w[b],P=Wp(C);l.includes(P)||(y.splice(b,0,C),_.push(C))}o==="wait"&&_.length&&(y=_),v(Q1(y)),g(a);return}const{forceRender:x}=m.useContext(Qb);return d.jsx(d.Fragment,{children:w.map(y=>{const b=Wp(y),C=a===w||l.includes(b),P=()=>{if(h.has(b))h.set(b,!0);else return;let O=!0;h.forEach(T=>{T||(O=!1)}),O&&(x==null||x(),v(u.current),s&&s())};return d.jsx(Oee,{isPresent:C,initial:!c.current||r?void 0:!1,custom:C?void 0:n,presenceAffectsLayout:i,mode:o,onExitComplete:C?void 0:P,children:y},b)})})},Vee=({messageHistory:t,endOfMessagesRef:e,handleMessageClick:n})=>d.jsxs("div",{className:"flex-1 py-4 overflow-y-auto",children:[d.jsx(Lee,{children:d.jsx(Pu,{items:t,renderItem:r=>d.jsx(Dee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`mb-4 ${r.sender==="user"?"text-right":"text-left"}`,children:d.jsx(dY,{message:r,onItemClick:n})},r.uuid),listStyle:"px-4 flex flex-col space-y-4"})}),d.jsx("div",{ref:e})]}),Fee=()=>{const{relevantMessageHistory:t,handleClearAdminMessageHistory:e,handleSubmitMessage:n,endOfMessagesRef:r,selectedResponse:s,handleMessageClick:i,isInfoPanelOpen:o,setIsInfoPanelOpen:a}=JQ();return d.jsxs("div",{className:"flex flex-col w-full max-w-4xl h-[44rem] border border-neutral-200 bg-white rounded-md",children:[d.jsxs("header",{className:"w-full h-[4rem] text-xl font-medium flex items-center justify-between px-4 border-b border-customBorderColor",children:["Admin Chat Interface",d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs(Xe,{size:"sm",variant:"outline",className:"space-x-1 rounded-md",onClick:e,children:[d.jsx(Su,{className:"size-4 text-zinc-500"}),d.jsx("p",{className:"text-sm text-zinc-500",children:"Clear Chat"})]}),d.jsx("button",{onClick:()=>a(l=>!l),children:d.jsx("div",{className:"text-zinc-500 p-1.5 rounded-md hover:bg-zinc-100",children:d.jsx(f8,{})})})]})]}),d.jsxs("div",{className:"flex-1 flex overflow-y-auto",children:[d.jsxs("section",{className:"flex-1 flex flex-col",children:[d.jsx(Vee,{messageHistory:t,endOfMessagesRef:r,handleMessageClick:i}),d.jsx(aY,{onSendMessage:n})]}),d.jsx(oY,{showPanel:o,responseData:s})]})]})},Uee=()=>d.jsxs("div",{className:"flex items-center flex-col w-[84rem] px-20 space-y-6 pb-8",children:[d.jsx(GQ,{headerText:"Chatbot"}),d.jsx(Fee,{})]}),Bee=()=>d.jsx("header",{className:"py-4 text-3xl font-semibold w-full",children:"Knowledge"});function $ee(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var Ol=t=>{const{present:e,children:n}=t,r=zee(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=ke(r.ref,Kee(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};Ol.displayName="Presence";function zee(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=$ee(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Hp(r.current);i.current=a==="mounted"?c:"none"},[a]),Pt(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=Hp(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Pt(()=>{if(e){const c=h=>{const g=Hp(r.current).includes(h.animationName);h.target===e&&g&&Ar.flushSync(()=>l("ANIMATION_END"))},u=h=>{h.target===e&&(i.current=Hp(r.current))};return e.addEventListener("animationstart",u),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",u),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Hp(t){return(t==null?void 0:t.animationName)||"none"}function Kee(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var oS="Tabs",[Wee,$fe]=Dl(oS,[zv]),JL=zv(),[Hee,aS]=Wee(oS),ZL=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=Cf(a),[h,p]=aa({prop:r,onChange:s,defaultProp:i});return d.jsx(Hee,{scope:n,baseId:js(),value:h,onValueChange:p,orientation:o,dir:u,activationMode:l,children:d.jsx(ve.div,{dir:u,"data-orientation":o,...c,ref:e})})});ZL.displayName=oS;var e2="TabsList",t2=m.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=aS(e2,n),o=JL(n);return d.jsx(lO,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:d.jsx(ve.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});t2.displayName=e2;var n2="TabsTrigger",r2=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=aS(n2,n),a=JL(n),l=i2(o.baseId,r),c=o2(o.baseId,r),u=r===o.value;return d.jsx(cO,{asChild:!0,...a,focusable:!s,active:u,children:d.jsx(ve.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:Z(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:Z(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:Z(t.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!s&&h&&o.onValueChange(r)})})})});r2.displayName=n2;var s2="TabsContent",iy=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=aS(s2,n),l=i2(a.baseId,r),c=o2(a.baseId,r),u=r===a.value,h=m.useRef(u);return m.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),d.jsx(Ol,{present:s||u,children:({present:p})=>d.jsx(ve.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:p&&i})})});iy.displayName=s2;function i2(t,e){return`${t}-trigger-${e}`}function o2(t,e){return`${t}-content-${e}`}var qee=ZL,a2=t2,l2=r2,c2=iy;const u2=qee,lS=m.forwardRef(({className:t,...e},n)=>d.jsx(a2,{ref:n,className:ue("inline-flex min-h-10 items-center justify-center rounded-tl-md rounded-tr-md bg-muted text-muted-foreground",t),...e}));lS.displayName=a2.displayName;const Og=m.forwardRef(({className:t,...e},n)=>d.jsx(l2,{ref:n,className:ue("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-2 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Og.displayName=l2.displayName;const d2=m.forwardRef(({className:t,...e},n)=>d.jsx(c2,{ref:n,className:ue("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));d2.displayName=c2.displayName;const Gee=[{tabValue:"knowledgeBase",tabName:"Knowledge Base"},{tabValue:"knowledgeEntry",tabName:"Knowledge Entry"},{tabValue:"entryDetails",tabName:"Entry Details"}],Qee={knowledgeBase:CM,knowledgeEntry:XH,entryDetails:RM},Yee=({tabs:t})=>d.jsx(lS,{className:"grid w-full grid-cols-3 bg-heading px-4 py-3",children:t.map(({tabName:e,tabValue:n})=>{const r=Qee[n];return d.jsxs(Og,{value:n,className:"data-[state=active]:bg-primary data-[state=active]:text-white",children:[d.jsx(r,{className:"size-5 mr-2"}),d.jsx("p",{className:"hidden md:block",children:e})]},e)})});var Xee="DismissableLayer",Qx="dismissableLayer.update",Jee="dismissableLayer.pointerDownOutside",Zee="dismissableLayer.focusOutside",Y1,h2=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),f2=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(h2),[u,h]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=ke(e,T=>h(T)),v=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(_),y=u?v.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,C=y>=x,P=nte(T=>{const E=T.target,I=[...c.branches].some(R=>R.contains(E));!C||I||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},p),O=rte(T=>{const E=T.target;[...c.branches].some(R=>R.contains(E))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},p);return Af(T=>{y===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Y1=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),X1(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Y1)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),X1())},[u,c]),m.useEffect(()=>{const T=()=>g({});return document.addEventListener(Qx,T),()=>document.removeEventListener(Qx,T)},[]),d.jsx(ve.div,{...l,ref:w,style:{pointerEvents:b?C?"auto":"none":void 0,...t.style},onFocusCapture:Z(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Z(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Z(t.onPointerDownCapture,P.onPointerDownCapture)})});f2.displayName=Xee;var ete="DismissableLayerBranch",tte=m.forwardRef((t,e)=>{const n=m.useContext(h2),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(ve.div,{...t,ref:s})});tte.displayName=ete;function nte(t,e=globalThis==null?void 0:globalThis.document){const n=mt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){p2(Jee,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function rte(t,e=globalThis==null?void 0:globalThis.document){const n=mt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&p2(Zee,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function X1(){const t=new CustomEvent(Qx);document.dispatchEvent(t)}function p2(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Nl(s,i):s.dispatchEvent(i)}var ste="VisuallyHidden",$f=m.forwardRef((t,e)=>d.jsx(ve.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));$f.displayName=ste;var ite=$f,[oy,zfe]=Dl("Tooltip",[Au]),ay=Au(),m2="TooltipProvider",ote=700,Yx="tooltip.open",[ate,cS]=oy(m2),g2=t=>{const{__scopeTooltip:e,delayDuration:n=ote,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=m.useState(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),d.jsx(ate,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};g2.displayName=m2;var ly="Tooltip",[lte,cy]=oy(ly),v2=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,l=cS(ly,t.__scopeTooltip),c=ay(e),[u,h]=m.useState(null),p=js(),g=m.useRef(0),w=o??l.disableHoverableContent,v=a??l.delayDuration,_=m.useRef(!1),[x=!1,y]=aa({prop:r,defaultProp:s,onChange:T=>{T?(l.onOpen(),document.dispatchEvent(new CustomEvent(Yx))):l.onClose(),i==null||i(T)}}),b=m.useMemo(()=>x?_.current?"delayed-open":"instant-open":"closed",[x]),C=m.useCallback(()=>{window.clearTimeout(g.current),_.current=!1,y(!0)},[y]),P=m.useCallback(()=>{window.clearTimeout(g.current),y(!1)},[y]),O=m.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{_.current=!0,y(!0)},v)},[v,y]);return m.useEffect(()=>()=>window.clearTimeout(g.current),[]),d.jsx(fb,{...c,children:d.jsx(lte,{scope:e,contentId:p,open:x,stateAttribute:b,trigger:u,onTriggerChange:h,onTriggerEnter:m.useCallback(()=>{l.isOpenDelayed?O():C()},[l.isOpenDelayed,O,C]),onTriggerLeave:m.useCallback(()=>{w?P():window.clearTimeout(g.current)},[P,w]),onOpen:C,onClose:P,disableHoverableContent:w,children:n})})};v2.displayName=ly;var Xx="TooltipTrigger",y2=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=cy(Xx,n),i=cS(Xx,n),o=ay(n),a=m.useRef(null),l=ke(e,a,s.onTriggerChange),c=m.useRef(!1),u=m.useRef(!1),h=m.useCallback(()=>c.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),d.jsx(pb,{asChild:!0,...o,children:d.jsx(ve.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:Z(t.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:Z(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:Z(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Z(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:Z(t.onBlur,s.onClose),onClick:Z(t.onClick,s.onClose)})})});y2.displayName=Xx;var cte="TooltipPortal",[Kfe,ute]=oy(cte,{forceMount:void 0}),ou="TooltipContent",w2=m.forwardRef((t,e)=>{const n=ute(ou,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=cy(ou,t.__scopeTooltip);return d.jsx(Ol,{present:r||o.open,children:o.disableHoverableContent?d.jsx(x2,{side:s,...i,ref:e}):d.jsx(dte,{side:s,...i,ref:e})})}),dte=m.forwardRef((t,e)=>{const n=cy(ou,t.__scopeTooltip),r=cS(ou,t.__scopeTooltip),s=m.useRef(null),i=ke(e,s),[o,a]=m.useState(null),{trigger:l,onClose:c}=n,u=s.current,{onPointerInTransitChange:h}=r,p=m.useCallback(()=>{a(null),h(!1)},[h]),g=m.useCallback((w,v)=>{const _=w.currentTarget,x={x:w.clientX,y:w.clientY},y=mte(x,_.getBoundingClientRect()),b=gte(x,y),C=vte(v.getBoundingClientRect()),P=wte([...b,...C]);a(P),h(!0)},[h]);return m.useEffect(()=>()=>p(),[p]),m.useEffect(()=>{if(l&&u){const w=_=>g(_,u),v=_=>g(_,l);return l.addEventListener("pointerleave",w),u.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",w),u.removeEventListener("pointerleave",v)}}},[l,u,g,p]),m.useEffect(()=>{if(o){const w=v=>{const _=v.target,x={x:v.clientX,y:v.clientY},y=(l==null?void 0:l.contains(_))||(u==null?void 0:u.contains(_)),b=!yte(x,o);y?p():b&&(p(),c())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,u,o,c,p]),d.jsx(x2,{...t,ref:i})}),[hte,fte]=oy(ly,{isInside:!1}),x2=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=cy(ou,n),c=ay(n),{onClose:u}=l;return m.useEffect(()=>(document.addEventListener(Yx,u),()=>document.removeEventListener(Yx,u)),[u]),m.useEffect(()=>{if(l.trigger){const h=p=>{const g=p.target;g!=null&&g.contains(l.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,u]),d.jsx(f2,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:d.jsxs(mb,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(rb,{children:r}),d.jsx(hte,{scope:n,isInside:!0,children:d.jsx(ite,{id:l.contentId,role:"tooltip",children:s||r})})]})})});w2.displayName=ou;var _2="TooltipArrow",pte=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=ay(n);return fte(_2,n).isInside?null:d.jsx(gb,{...s,...r,ref:e})});pte.displayName=_2;function mte(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function gte(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function vte(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function yte(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(s=!s)}return s}function wte(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),xte(e)}function xte(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var _te=g2,Ete=v2,bte=y2,E2=w2;const Ste=_te,Tte=Ete,Cte=bte,b2=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx(E2,{ref:r,sideOffset:e,className:ue("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));b2.displayName=E2.displayName;const uy=({tooltip:t,children:e})=>d.jsx(Ste,{children:d.jsxs(Tte,{children:[d.jsx(Cte,{asChild:!0,children:e}),d.jsx(b2,{className:"max-w-xs",children:d.jsx("p",{className:"text-zinc-800",children:t})})]})}),Ate={entry:"ENTRY",base:"BASE"},Rte="Must be a unique text that represents the action or goal of the entry.",Ite="Sample queries to help the bot understand intent.",Pte="The bot's reply to the user's query.",zo={passwordIncorrect:"Admin password is incorrect",passwordSameAsOld:"New password must be different from the old one"},Nte=8,Dte=5,S2=5,T2=15,jg=100,J1=5*1024*1024,Z1=50*1024*1024,eI=5*1024*1024,tI=2*1024*1024,nI=6*1024*1024,vt=ro((t,e)=>({formData:{knowledgeBaseName:"",intent:"",documents:[""],answer:"",fileUrl:"",file:null},formDataErrors:{},setFormData:(n,r)=>{t(s=>({formData:{...s.formData,[n]:r}}))},setFile:n=>{t(r=>({formData:{...r.formData,file:n}}))},setFormDataErrors:n=>{t({formDataErrors:n})},setDocuments:(n,r)=>{const s=e().formData.documents;s[r]=n,t(i=>({formData:{...i.formData,documents:s}}))},addDocument:()=>{e().formData.documents.length>=Nte||t(n=>({formData:{...n.formData,documents:[...n.formData.documents,""]}}))},removeDocument:n=>{const r=e().formData.documents;if(r.length===1)throw new Error("Documents cannot be empty");r.splice(n,1),t(s=>({formData:{...s.formData,documents:r}}))},clearFormData:()=>{t(()=>({formData:{knowledgeBaseName:"",intent:"",documents:[""],answer:"",fileUrl:"",file:null},formDataErrors:{knowledgeBaseName:"",intent:"",documents:"",answer:""}}))}})),kte=()=>{const{intent:t}=vt(r=>r.formData),e=vt(r=>r.setFormData),n=ut(r=>r.admin);return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-fit",children:d.jsx(uy,{tooltip:Rte,children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("label",{htmlFor:"intent",className:"cursor-pointer font-medium ",children:"Intent"}),d.jsx(Ov,{className:"size-4 text-[#64748b] cursor-pointer"})]})})}),d.jsx(Lt,{id:"intent",placeholder:"Enter intent",value:t,className:"mt-1",readOnly:(n==null?void 0:n.role)==="viewer",onChange:r=>e("intent",r.target.value),maxLength:jg})]})},ln=m.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ue("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ln.displayName="Card";const Mn=m.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ue("flex flex-col space-y-1.5 p-6",t),...e}));Mn.displayName="CardHeader";const On=m.forwardRef(({className:t,...e},n)=>d.jsx("h3",{ref:n,className:ue("text-2xl font-semibold leading-none tracking-tight",t),...e}));On.displayName="CardTitle";const pi=m.forwardRef(({className:t,...e},n)=>d.jsx("p",{ref:n,className:ue("text-sm text-muted-foreground",t),...e}));pi.displayName="CardDescription";const pn=m.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ue("p-6 pt-0",t),...e}));pn.displayName="CardContent";const C2=m.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ue("flex items-center p-6 pt-0",t),...e}));C2.displayName="CardFooter";const Mte=()=>{var o;const t=vt(a=>a.formData),e=vt(a=>a.setDocuments),n=vt(a=>a.addDocument),r=vt(a=>a.removeDocument),s=ut(a=>a.admin),i=async a=>{try{if(!t.intent)return;if(t.documents.length===1)return window.alert("Documents cannot be empty");r(a)}catch(l){console.error(l)}};return d.jsxs("div",{children:[d.jsx("div",{className:"w-fit",children:d.jsx(uy,{tooltip:Ite,children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("label",{className:"cursor-pointer font-medium ",children:"Document"}),d.jsx(Ov,{className:"size-4 text-[#64748b] cursor-pointer"})]})})}),d.jsx("div",{className:"space-y-2 mt-1",children:(o=t.documents)==null?void 0:o.map((a,l)=>d.jsx(ln,{className:"w-full hover:bg-lightGray transition-colors",children:d.jsxs(pn,{className:"p-4 w-full flex items-center justify-between-",children:[d.jsx("div",{className:"flex w-full items-center space-x-4",children:d.jsx(Lt,{value:a,id:"document",className:"text-sm bg-transparent outline-none w-full py-2 border-0",placeholder:"Enter document",readOnly:(s==null?void 0:s.role)==="viewer",onChange:c=>e(c.target.value,l)})}),d.jsx("div",{className:"flex space-x-2",children:(s==null?void 0:s.role)!=="viewer"&&d.jsxs(Xe,{variant:"ghost",size:"icon",className:"hover:bg-transparent",onClick:async()=>{await i(l)},children:[d.jsx(Su,{className:"size-5 font-bold hover:text-red-600 ease-in",strokeWidth:2}),d.jsx("span",{className:"sr-only",children:"Delete"})]})})]})},l))}),(s==null?void 0:s.role)!=="viewer"&&d.jsxs(Xe,{variant:"outline",size:"sm",className:"mt-2",onClick:n,disabled:!t.intent,children:[d.jsx(bu,{className:"w-4 h-4 mr-2"})," Add Document"]})]})},A2=m.forwardRef(({className:t,...e},n)=>d.jsx("textarea",{className:ue("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));A2.displayName="Textarea";const Ote=".png,.jpg,.mp4,.pdf",jte=({fileRef:t,changeFile:e})=>d.jsxs("div",{children:[d.jsx(Lt,{id:"file-upload",type:"file",className:"hidden",ref:t,accept:Ote,onChange:e}),d.jsx(Xe,{variant:"ghost",size:"icon",className:"size-8 rounded-full hover:bg-neutral-100 p-1.5",onClick:()=>{var n;return(n=t.current)==null?void 0:n.click()},children:d.jsx(IM,{className:"size-4"})})]});var Lte="Label",R2=m.forwardRef((t,e)=>d.jsx(ve.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));R2.displayName=Lte;var I2=R2;const Vte=Mf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Tn=m.forwardRef(({className:t,...e},n)=>d.jsx(I2,{ref:n,className:ue(Vte(),t),...e}));Tn.displayName=I2.displayName;const Fte=({isLinkDropdownOpen:t,setIsLinkDropdownOpen:e,onInsertLink:n})=>{const[r,s]=m.useState(""),[i,o]=m.useState(""),a=()=>{e(!1),n(r,i),s(""),o("")};return d.jsxs(Df,{open:t,onOpenChange:e,children:[d.jsx(kf,{asChild:!0,children:d.jsx(Xe,{variant:"ghost",size:"icon",className:"size-8 rounded-full hover:bg-neutral-100 p-1.5",onClick:()=>e(!0),children:d.jsx(o8,{className:"size-4"})})}),d.jsx(Iu,{side:"top",className:"w-56",children:d.jsxs("form",{onSubmit:l=>{l.preventDefault(),a()},className:"flex flex-col p-4 space-y-4",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx(Tn,{htmlFor:"link-url",className:"mb-1",children:"URL"}),d.jsx(Lt,{id:"link-url",value:r,onChange:l=>s(l.target.value),className:"col-span-3",placeholder:"Enter link URL",required:!0})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx(Tn,{htmlFor:"link-text",className:"mb-1",children:"Text"}),d.jsx(Lt,{id:"link-text",value:i,onChange:l=>o(l.target.value),className:"col-span-3",placeholder:"Enter link Text",required:!0})]}),d.jsx(Xe,{type:"submit",children:"Insert Link"})]})})]})},P2=({answer:t,handleTextChange:e,onFileChange:n,fileRef:r,textAreaRef:s,isError:i,isLinkDropDownVisible:o,setIsLinkDropDownVisible:a,onInsertLink:l,tabIndex:c})=>{const u=ut(p=>p.admin),h=p=>{const g=p.target;g.style.height="auto",g.style.height=`${g.scrollHeight}px`,e("answer",g.value)};return m.useEffect(()=>{s.current&&(s.current.style.height="auto",s.current.style.height=`${s.current.scrollHeight}px`)},[s,t]),d.jsxs("div",{className:"relative mb-4 ",children:[d.jsx(A2,{spellCheck:!1,name:"answer",ref:s,placeholder:"Enter the answer",className:ue("min-h-[100px] pb-12 overflow-hidden resize-none outline-none focus:outline-none",i&&"border-destructive"),readOnly:(u==null?void 0:u.role)==="viewer",value:t,onChange:h,tabIndex:c??0}),(u==null?void 0:u.role)!=="viewer"&&d.jsxs("div",{className:"absolute bottom-2 left-2 flex space-x-2",children:[d.jsx(Fte,{isLinkDropdownOpen:o,setIsLinkDropdownOpen:a,onInsertLink:l}),d.jsx(jte,{fileRef:r,changeFile:n})]})]})},N2=({file:t,removeFile:e})=>{const n=ut(r=>r.admin);return d.jsx("div",{className:"mt-4 p-4 border rounded-md bg-muted",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-2 py-2 overflow-hidden",children:[d.jsx(IM,{className:"h-4 w-4 text-muted-foreground"}),d.jsx("div",{className:"font-medium truncate max-w-[250px]",children:t.name}),d.jsxs("div",{className:"text-sm text-center text-muted-foreground w-20",children:["(",zQ(t.size),")"]})]}),(n==null?void 0:n.role)!=="viewer"&&d.jsx(Xe,{variant:"ghost",size:"icon",onClick:e,className:"h-8 w-8 min-w-8",children:d.jsx(Tf,{className:"h-4 w-4"})})]})})};function Se({className:t,...e}){return d.jsx("div",{className:ue("animate-pulse rounded-md bg-muted",t),...e})}var Ute="firebase",Bte="10.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ni(Ute,Bte,"app");var rI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ul,D2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,E){function I(){}I.prototype=E.prototype,T.D=E.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(R,k,M){for(var N=Array(arguments.length-2),W=2;W<arguments.length;W++)N[W-2]=arguments[W];return E.prototype[k].apply(R,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,E,I){I||(I=0);var R=Array(16);if(typeof E=="string")for(var k=0;16>k;++k)R[k]=E.charCodeAt(I++)|E.charCodeAt(I++)<<8|E.charCodeAt(I++)<<16|E.charCodeAt(I++)<<24;else for(k=0;16>k;++k)R[k]=E[I++]|E[I++]<<8|E[I++]<<16|E[I++]<<24;E=T.g[0],I=T.g[1],k=T.g[2];var M=T.g[3],N=E+(M^I&(k^M))+R[0]+3614090360&4294967295;E=I+(N<<7&4294967295|N>>>25),N=M+(k^E&(I^k))+R[1]+3905402710&4294967295,M=E+(N<<12&4294967295|N>>>20),N=k+(I^M&(E^I))+R[2]+606105819&4294967295,k=M+(N<<17&4294967295|N>>>15),N=I+(E^k&(M^E))+R[3]+3250441966&4294967295,I=k+(N<<22&4294967295|N>>>10),N=E+(M^I&(k^M))+R[4]+4118548399&4294967295,E=I+(N<<7&4294967295|N>>>25),N=M+(k^E&(I^k))+R[5]+1200080426&4294967295,M=E+(N<<12&4294967295|N>>>20),N=k+(I^M&(E^I))+R[6]+2821735955&4294967295,k=M+(N<<17&4294967295|N>>>15),N=I+(E^k&(M^E))+R[7]+4249261313&4294967295,I=k+(N<<22&4294967295|N>>>10),N=E+(M^I&(k^M))+R[8]+1770035416&4294967295,E=I+(N<<7&4294967295|N>>>25),N=M+(k^E&(I^k))+R[9]+2336552879&4294967295,M=E+(N<<12&4294967295|N>>>20),N=k+(I^M&(E^I))+R[10]+4294925233&4294967295,k=M+(N<<17&4294967295|N>>>15),N=I+(E^k&(M^E))+R[11]+2304563134&4294967295,I=k+(N<<22&4294967295|N>>>10),N=E+(M^I&(k^M))+R[12]+1804603682&4294967295,E=I+(N<<7&4294967295|N>>>25),N=M+(k^E&(I^k))+R[13]+4254626195&4294967295,M=E+(N<<12&4294967295|N>>>20),N=k+(I^M&(E^I))+R[14]+2792965006&4294967295,k=M+(N<<17&4294967295|N>>>15),N=I+(E^k&(M^E))+R[15]+1236535329&4294967295,I=k+(N<<22&4294967295|N>>>10),N=E+(k^M&(I^k))+R[1]+4129170786&4294967295,E=I+(N<<5&4294967295|N>>>27),N=M+(I^k&(E^I))+R[6]+3225465664&4294967295,M=E+(N<<9&4294967295|N>>>23),N=k+(E^I&(M^E))+R[11]+643717713&4294967295,k=M+(N<<14&4294967295|N>>>18),N=I+(M^E&(k^M))+R[0]+3921069994&4294967295,I=k+(N<<20&4294967295|N>>>12),N=E+(k^M&(I^k))+R[5]+3593408605&4294967295,E=I+(N<<5&4294967295|N>>>27),N=M+(I^k&(E^I))+R[10]+38016083&4294967295,M=E+(N<<9&4294967295|N>>>23),N=k+(E^I&(M^E))+R[15]+3634488961&4294967295,k=M+(N<<14&4294967295|N>>>18),N=I+(M^E&(k^M))+R[4]+3889429448&4294967295,I=k+(N<<20&4294967295|N>>>12),N=E+(k^M&(I^k))+R[9]+568446438&4294967295,E=I+(N<<5&4294967295|N>>>27),N=M+(I^k&(E^I))+R[14]+3275163606&4294967295,M=E+(N<<9&4294967295|N>>>23),N=k+(E^I&(M^E))+R[3]+4107603335&4294967295,k=M+(N<<14&4294967295|N>>>18),N=I+(M^E&(k^M))+R[8]+1163531501&4294967295,I=k+(N<<20&4294967295|N>>>12),N=E+(k^M&(I^k))+R[13]+2850285829&4294967295,E=I+(N<<5&4294967295|N>>>27),N=M+(I^k&(E^I))+R[2]+4243563512&4294967295,M=E+(N<<9&4294967295|N>>>23),N=k+(E^I&(M^E))+R[7]+1735328473&4294967295,k=M+(N<<14&4294967295|N>>>18),N=I+(M^E&(k^M))+R[12]+2368359562&4294967295,I=k+(N<<20&4294967295|N>>>12),N=E+(I^k^M)+R[5]+4294588738&4294967295,E=I+(N<<4&4294967295|N>>>28),N=M+(E^I^k)+R[8]+2272392833&4294967295,M=E+(N<<11&4294967295|N>>>21),N=k+(M^E^I)+R[11]+1839030562&4294967295,k=M+(N<<16&4294967295|N>>>16),N=I+(k^M^E)+R[14]+4259657740&4294967295,I=k+(N<<23&4294967295|N>>>9),N=E+(I^k^M)+R[1]+2763975236&4294967295,E=I+(N<<4&4294967295|N>>>28),N=M+(E^I^k)+R[4]+1272893353&4294967295,M=E+(N<<11&4294967295|N>>>21),N=k+(M^E^I)+R[7]+4139469664&4294967295,k=M+(N<<16&4294967295|N>>>16),N=I+(k^M^E)+R[10]+3200236656&4294967295,I=k+(N<<23&4294967295|N>>>9),N=E+(I^k^M)+R[13]+681279174&4294967295,E=I+(N<<4&4294967295|N>>>28),N=M+(E^I^k)+R[0]+3936430074&4294967295,M=E+(N<<11&4294967295|N>>>21),N=k+(M^E^I)+R[3]+3572445317&4294967295,k=M+(N<<16&4294967295|N>>>16),N=I+(k^M^E)+R[6]+76029189&4294967295,I=k+(N<<23&4294967295|N>>>9),N=E+(I^k^M)+R[9]+3654602809&4294967295,E=I+(N<<4&4294967295|N>>>28),N=M+(E^I^k)+R[12]+3873151461&4294967295,M=E+(N<<11&4294967295|N>>>21),N=k+(M^E^I)+R[15]+530742520&4294967295,k=M+(N<<16&4294967295|N>>>16),N=I+(k^M^E)+R[2]+3299628645&4294967295,I=k+(N<<23&4294967295|N>>>9),N=E+(k^(I|~M))+R[0]+4096336452&4294967295,E=I+(N<<6&4294967295|N>>>26),N=M+(I^(E|~k))+R[7]+1126891415&4294967295,M=E+(N<<10&4294967295|N>>>22),N=k+(E^(M|~I))+R[14]+2878612391&4294967295,k=M+(N<<15&4294967295|N>>>17),N=I+(M^(k|~E))+R[5]+4237533241&4294967295,I=k+(N<<21&4294967295|N>>>11),N=E+(k^(I|~M))+R[12]+1700485571&4294967295,E=I+(N<<6&4294967295|N>>>26),N=M+(I^(E|~k))+R[3]+2399980690&4294967295,M=E+(N<<10&4294967295|N>>>22),N=k+(E^(M|~I))+R[10]+4293915773&4294967295,k=M+(N<<15&4294967295|N>>>17),N=I+(M^(k|~E))+R[1]+2240044497&4294967295,I=k+(N<<21&4294967295|N>>>11),N=E+(k^(I|~M))+R[8]+1873313359&4294967295,E=I+(N<<6&4294967295|N>>>26),N=M+(I^(E|~k))+R[15]+4264355552&4294967295,M=E+(N<<10&4294967295|N>>>22),N=k+(E^(M|~I))+R[6]+2734768916&4294967295,k=M+(N<<15&4294967295|N>>>17),N=I+(M^(k|~E))+R[13]+1309151649&4294967295,I=k+(N<<21&4294967295|N>>>11),N=E+(k^(I|~M))+R[4]+4149444226&4294967295,E=I+(N<<6&4294967295|N>>>26),N=M+(I^(E|~k))+R[11]+3174756917&4294967295,M=E+(N<<10&4294967295|N>>>22),N=k+(E^(M|~I))+R[2]+718787259&4294967295,k=M+(N<<15&4294967295|N>>>17),N=I+(M^(k|~E))+R[9]+3951481745&4294967295,T.g[0]=T.g[0]+E&4294967295,T.g[1]=T.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,T.g[2]=T.g[2]+k&4294967295,T.g[3]=T.g[3]+M&4294967295}r.prototype.u=function(T,E){E===void 0&&(E=T.length);for(var I=E-this.blockSize,R=this.B,k=this.h,M=0;M<E;){if(k==0)for(;M<=I;)s(this,T,M),M+=this.blockSize;if(typeof T=="string"){for(;M<E;)if(R[k++]=T.charCodeAt(M++),k==this.blockSize){s(this,R),k=0;break}}else for(;M<E;)if(R[k++]=T[M++],k==this.blockSize){s(this,R),k=0;break}}this.h=k,this.o+=E},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var E=1;E<T.length-8;++E)T[E]=0;var I=8*this.o;for(E=T.length-8;E<T.length;++E)T[E]=I&255,I/=256;for(this.u(T),T=Array(16),E=I=0;4>E;++E)for(var R=0;32>R;R+=8)T[I++]=this.g[E]>>>R&255;return T};function i(T,E){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=E(T)}function o(T,E){this.h=E;for(var I=[],R=!0,k=T.length-1;0<=k;k--){var M=T[k]|0;R&&M==E||(I[k]=M,R=!1)}this.g=I}var a={};function l(T){return-128<=T&&128>T?i(T,function(E){return new o([E|0],0>E?-1:0)}):new o([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return h;if(0>T)return _(c(-T));for(var E=[],I=1,R=0;T>=I;R++)E[R]=T/I|0,I*=4294967296;return new o(E,0)}function u(T,E){if(T.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(T.charAt(0)=="-")return _(u(T.substring(1),E));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(E,8)),R=h,k=0;k<T.length;k+=8){var M=Math.min(8,T.length-k),N=parseInt(T.substring(k,k+M),E);8>M?(M=c(Math.pow(E,M)),R=R.j(M).add(c(N))):(R=R.j(I),R=R.add(c(N)))}return R}var h=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-_(this).m();for(var T=0,E=1,I=0;I<this.g.length;I++){var R=this.i(I);T+=(0<=R?R:4294967296+R)*E,E*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(w(this))return"0";if(v(this))return"-"+_(this).toString(T);for(var E=c(Math.pow(T,6)),I=this,R="";;){var k=C(I,E).g;I=x(I,k.j(E));var M=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=k,w(I))return M+R;for(;6>M.length;)M="0"+M;R=M+R}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function w(T){if(T.h!=0)return!1;for(var E=0;E<T.g.length;E++)if(T.g[E]!=0)return!1;return!0}function v(T){return T.h==-1}t.l=function(T){return T=x(this,T),v(T)?-1:w(T)?0:1};function _(T){for(var E=T.g.length,I=[],R=0;R<E;R++)I[R]=~T.g[R];return new o(I,~T.h).add(p)}t.abs=function(){return v(this)?_(this):this},t.add=function(T){for(var E=Math.max(this.g.length,T.g.length),I=[],R=0,k=0;k<=E;k++){var M=R+(this.i(k)&65535)+(T.i(k)&65535),N=(M>>>16)+(this.i(k)>>>16)+(T.i(k)>>>16);R=N>>>16,M&=65535,N&=65535,I[k]=N<<16|M}return new o(I,I[I.length-1]&-2147483648?-1:0)};function x(T,E){return T.add(_(E))}t.j=function(T){if(w(this)||w(T))return h;if(v(this))return v(T)?_(this).j(_(T)):_(_(this).j(T));if(v(T))return _(this.j(_(T)));if(0>this.l(g)&&0>T.l(g))return c(this.m()*T.m());for(var E=this.g.length+T.g.length,I=[],R=0;R<2*E;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(var k=0;k<T.g.length;k++){var M=this.i(R)>>>16,N=this.i(R)&65535,W=T.i(k)>>>16,se=T.i(k)&65535;I[2*R+2*k]+=N*se,y(I,2*R+2*k),I[2*R+2*k+1]+=M*se,y(I,2*R+2*k+1),I[2*R+2*k+1]+=N*W,y(I,2*R+2*k+1),I[2*R+2*k+2]+=M*W,y(I,2*R+2*k+2)}for(R=0;R<E;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=E;R<2*E;R++)I[R]=0;return new o(I,0)};function y(T,E){for(;(T[E]&65535)!=T[E];)T[E+1]+=T[E]>>>16,T[E]&=65535,E++}function b(T,E){this.g=T,this.h=E}function C(T,E){if(w(E))throw Error("division by zero");if(w(T))return new b(h,h);if(v(T))return E=C(_(T),E),new b(_(E.g),_(E.h));if(v(E))return E=C(T,_(E)),new b(_(E.g),E.h);if(30<T.g.length){if(v(T)||v(E))throw Error("slowDivide_ only works with positive integers.");for(var I=p,R=E;0>=R.l(T);)I=P(I),R=P(R);var k=O(I,1),M=O(R,1);for(R=O(R,2),I=O(I,2);!w(R);){var N=M.add(R);0>=N.l(T)&&(k=k.add(I),M=N),R=O(R,1),I=O(I,1)}return E=x(T,k.j(E)),new b(k,E)}for(k=h;0<=T.l(E);){for(I=Math.max(1,Math.floor(T.m()/E.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),M=c(I),N=M.j(E);v(N)||0<N.l(T);)I-=R,M=c(I),N=M.j(E);w(M)&&(M=p),k=k.add(M),T=x(T,N)}return new b(k,T)}t.A=function(T){return C(this,T).h},t.and=function(T){for(var E=Math.max(this.g.length,T.g.length),I=[],R=0;R<E;R++)I[R]=this.i(R)&T.i(R);return new o(I,this.h&T.h)},t.or=function(T){for(var E=Math.max(this.g.length,T.g.length),I=[],R=0;R<E;R++)I[R]=this.i(R)|T.i(R);return new o(I,this.h|T.h)},t.xor=function(T){for(var E=Math.max(this.g.length,T.g.length),I=[],R=0;R<E;R++)I[R]=this.i(R)^T.i(R);return new o(I,this.h^T.h)};function P(T){for(var E=T.g.length+1,I=[],R=0;R<E;R++)I[R]=T.i(R)<<1|T.i(R-1)>>>31;return new o(I,T.h)}function O(T,E){var I=E>>5;E%=32;for(var R=T.g.length-I,k=[],M=0;M<R;M++)k[M]=0<E?T.i(M+I)>>>E|T.i(M+I+1)<<32-E:T.i(M+I);return new o(k,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,D2=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,ul=o}).apply(typeof rI<"u"?rI:typeof self<"u"?self:typeof window<"u"?window:{});var qp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var k2,M2,Cd,O2,Im,Jx,j2,L2,V2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,S,A){return f==Array.prototype||f==Object.prototype||(f[S]=A.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof qp=="object"&&qp];for(var S=0;S<f.length;++S){var A=f[S];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function s(f,S){if(S)e:{var A=r;f=f.split(".");for(var D=0;D<f.length-1;D++){var U=f[D];if(!(U in A))break e;A=A[U]}f=f[f.length-1],D=A[f],S=S(D),S!=D&&S!=null&&e(A,f,{configurable:!0,writable:!0,value:S})}}function i(f,S){f instanceof String&&(f+="");var A=0,D=!1,U={next:function(){if(!D&&A<f.length){var q=A++;return{value:S(q,f[q]),done:!1}}return D=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}s("Array.prototype.values",function(f){return f||function(){return i(this,function(S,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(f){var S=typeof f;return S=S!="object"?S:f?Array.isArray(f)?"array":S:"null",S=="array"||S=="object"&&typeof f.length=="number"}function c(f){var S=typeof f;return S=="object"&&f!=null||S=="function"}function u(f,S,A){return f.call.apply(f.bind,arguments)}function h(f,S,A){if(!f)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,D),f.apply(S,U)}}return function(){return f.apply(S,arguments)}}function p(f,S,A){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,p.apply(null,arguments)}function g(f,S){var A=Array.prototype.slice.call(arguments,1);return function(){var D=A.slice();return D.push.apply(D,arguments),f.apply(this,D)}}function w(f,S){function A(){}A.prototype=S.prototype,f.aa=S.prototype,f.prototype=new A,f.prototype.constructor=f,f.Qb=function(D,U,q){for(var ae=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)ae[Tt-2]=arguments[Tt];return S.prototype[U].apply(D,ae)}}function v(f){const S=f.length;if(0<S){const A=Array(S);for(let D=0;D<S;D++)A[D]=f[D];return A}return[]}function _(f,S){for(let A=1;A<arguments.length;A++){const D=arguments[A];if(l(D)){const U=f.length||0,q=D.length||0;f.length=U+q;for(let ae=0;ae<q;ae++)f[U+ae]=D[ae]}else f.push(D)}}class x{constructor(S,A){this.i=S,this.j=A,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function y(f){return/^[\s\xa0]*$/.test(f)}function b(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function C(f){return C[" "](f),f}C[" "]=function(){};var P=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function O(f,S,A){for(const D in f)S.call(A,f[D],D,f)}function T(f,S){for(const A in f)S.call(void 0,f[A],A,f)}function E(f){const S={};for(const A in f)S[A]=f[A];return S}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(f,S){let A,D;for(let U=1;U<arguments.length;U++){D=arguments[U];for(A in D)f[A]=D[A];for(let q=0;q<I.length;q++)A=I[q],Object.prototype.hasOwnProperty.call(D,A)&&(f[A]=D[A])}}function k(f){var S=1;f=f.split(":");const A=[];for(;0<S&&f.length;)A.push(f.shift()),S--;return f.length&&A.push(f.join(":")),A}function M(f){a.setTimeout(()=>{throw f},0)}function N(){var f=B;let S=null;return f.g&&(S=f.g,f.g=f.g.next,f.g||(f.h=null),S.next=null),S}class W{constructor(){this.h=this.g=null}add(S,A){const D=se.get();D.set(S,A),this.h?this.h.next=D:this.g=D,this.h=D}}var se=new x(()=>new ne,f=>f.reset());class ne{constructor(){this.next=this.g=this.h=null}set(S,A){this.h=S,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,z=!1,B=new W,J=()=>{const f=a.Promise.resolve(void 0);Y=()=>{f.then(fe)}};var fe=()=>{for(var f;f=N();){try{f.h.call(f.g)}catch(A){M(A)}var S=se;S.j(f),100>S.h&&(S.h++,f.next=S.g,S.g=f)}z=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Te(f,S){this.type=f,this.g=this.target=S,this.defaultPrevented=!1}Te.prototype.h=function(){this.defaultPrevented=!0};var We=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,S=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const A=()=>{};a.addEventListener("test",A,S),a.removeEventListener("test",A,S)}catch{}return f}();function at(f,S){if(Te.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var A=this.type=f.type,D=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=S,S=f.relatedTarget){if(P){e:{try{C(S.nodeName);var U=!0;break e}catch{}U=!1}U||(S=null)}}else A=="mouseover"?S=f.fromElement:A=="mouseout"&&(S=f.toElement);this.relatedTarget=S,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ne[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&at.aa.h.call(this)}}w(at,Te);var Ne={2:"touch",3:"pen",4:"mouse"};at.prototype.h=function(){at.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),Pe=0;function He(f,S,A,D,U){this.listener=f,this.proxy=null,this.src=S,this.type=A,this.capture=!!D,this.ha=U,this.key=++Pe,this.da=this.fa=!1}function pe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function $e(f){this.src=f,this.g={},this.h=0}$e.prototype.add=function(f,S,A,D,U){var q=f.toString();f=this.g[q],f||(f=this.g[q]=[],this.h++);var ae=yt(f,S,D,U);return-1<ae?(S=f[ae],A||(S.fa=!1)):(S=new He(S,this.src,q,!!D,U),S.fa=A,f.push(S)),S};function Oe(f,S){var A=S.type;if(A in f.g){var D=f.g[A],U=Array.prototype.indexOf.call(D,S,void 0),q;(q=0<=U)&&Array.prototype.splice.call(D,U,1),q&&(pe(S),f.g[A].length==0&&(delete f.g[A],f.h--))}}function yt(f,S,A,D){for(var U=0;U<f.length;++U){var q=f[U];if(!q.da&&q.listener==S&&q.capture==!!A&&q.ha==D)return U}return-1}var qe="closure_lm_"+(1e6*Math.random()|0),Vt={};function mn(f,S,A,D,U){if(Array.isArray(S)){for(var q=0;q<S.length;q++)mn(f,S[q],A,D,U);return null}return A=Ue(A),f&&f[ce]?f.K(S,A,c(D)?!!D.capture:!!D,U):Mr(f,S,A,!1,D,U)}function Mr(f,S,A,D,U,q){if(!S)throw Error("Invalid event type");var ae=c(U)?!!U.capture:!!U,Tt=ee(f);if(Tt||(f[qe]=Tt=new $e(f)),A=Tt.add(S,A,D,ae,q),A.proxy)return A;if(D=j(),A.proxy=D,D.src=f,D.listener=A,f.addEventListener)We||(U=ae),U===void 0&&(U=!1),f.addEventListener(S.toString(),D,U);else if(f.attachEvent)f.attachEvent(ie(S.toString()),D);else if(f.addListener&&f.removeListener)f.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return A}function j(){function f(A){return S.call(f.src,f.listener,A)}const S=re;return f}function $(f,S,A,D,U){if(Array.isArray(S))for(var q=0;q<S.length;q++)$(f,S[q],A,D,U);else D=c(D)?!!D.capture:!!D,A=Ue(A),f&&f[ce]?(f=f.i,S=String(S).toString(),S in f.g&&(q=f.g[S],A=yt(q,A,D,U),-1<A&&(pe(q[A]),Array.prototype.splice.call(q,A,1),q.length==0&&(delete f.g[S],f.h--)))):f&&(f=ee(f))&&(S=f.g[S.toString()],f=-1,S&&(f=yt(S,A,D,U)),(A=-1<f?S[f]:null)&&H(A))}function H(f){if(typeof f!="number"&&f&&!f.da){var S=f.src;if(S&&S[ce])Oe(S.i,f);else{var A=f.type,D=f.proxy;S.removeEventListener?S.removeEventListener(A,D,f.capture):S.detachEvent?S.detachEvent(ie(A),D):S.addListener&&S.removeListener&&S.removeListener(D),(A=ee(S))?(Oe(A,f),A.h==0&&(A.src=null,S[qe]=null)):pe(f)}}}function ie(f){return f in Vt?Vt[f]:Vt[f]="on"+f}function re(f,S){if(f.da)f=!0;else{S=new at(S,this);var A=f.listener,D=f.ha||f.src;f.fa&&H(f),f=A.call(D,S)}return f}function ee(f){return f=f[qe],f instanceof $e?f:null}var _e="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ue(f){return typeof f=="function"?f:(f[_e]||(f[_e]=function(S){return f.handleEvent(S)}),f[_e])}function Be(){he.call(this),this.i=new $e(this),this.M=this,this.F=null}w(Be,he),Be.prototype[ce]=!0,Be.prototype.removeEventListener=function(f,S,A,D){$(this,f,S,A,D)};function je(f,S){var A,D=f.F;if(D)for(A=[];D;D=D.F)A.push(D);if(f=f.M,D=S.type||S,typeof S=="string")S=new Te(S,f);else if(S instanceof Te)S.target=S.target||f;else{var U=S;S=new Te(D,f),R(S,U)}if(U=!0,A)for(var q=A.length-1;0<=q;q--){var ae=S.g=A[q];U=Yt(ae,D,!0,S)&&U}if(ae=S.g=f,U=Yt(ae,D,!0,S)&&U,U=Yt(ae,D,!1,S)&&U,A)for(q=0;q<A.length;q++)ae=S.g=A[q],U=Yt(ae,D,!1,S)&&U}Be.prototype.N=function(){if(Be.aa.N.call(this),this.i){var f=this.i,S;for(S in f.g){for(var A=f.g[S],D=0;D<A.length;D++)pe(A[D]);delete f.g[S],f.h--}}this.F=null},Be.prototype.K=function(f,S,A,D){return this.i.add(String(f),S,!1,A,D)},Be.prototype.L=function(f,S,A,D){return this.i.add(String(f),S,!0,A,D)};function Yt(f,S,A,D){if(S=f.i.g[String(S)],!S)return!0;S=S.concat();for(var U=!0,q=0;q<S.length;++q){var ae=S[q];if(ae&&!ae.da&&ae.capture==A){var Tt=ae.listener,jn=ae.ha||ae.src;ae.fa&&Oe(f.i,ae),U=Tt.call(jn,D)!==!1&&U}}return U&&!D.defaultPrevented}function wr(f,S,A){if(typeof f=="function")A&&(f=p(f,A));else if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:a.setTimeout(f,S||0)}function Rn(f){f.g=wr(()=>{f.g=null,f.i&&(f.i=!1,Rn(f))},f.l);const S=f.h;f.h=null,f.m.apply(null,S)}class Ft extends he{constructor(S,A){super(),this.m=S,this.l=A,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Rn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Or(f){he.call(this),this.h=f,this.g={}}w(Or,he);var Jr=[];function io(f){O(f.g,function(S,A){this.g.hasOwnProperty(A)&&H(S)},f),f.g={}}Or.prototype.N=function(){Or.aa.N.call(this),io(this)},Or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gn=a.JSON.stringify,Na=a.JSON.parse,Fl=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function gi(){}gi.prototype.h=null;function Ul(f){return f.h||(f.h=f.i())}function Da(){}var Zr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $t(){Te.call(this,"d")}w($t,Te);function rn(){Te.call(this,"c")}w(rn,Te);var At={},lr=null;function vn(){return lr=lr||new Be}At.La="serverreachability";function yn(f){Te.call(this,At.La,f)}w(yn,Te);function In(f){const S=vn();je(S,new yn(S))}At.STAT_EVENT="statevent";function es(f,S){Te.call(this,At.STAT_EVENT,f),this.stat=S}w(es,Te);function dt(f){const S=vn();je(S,new es(S,f))}At.Ma="timingevent";function jr(f,S){Te.call(this,At.Ma,f),this.size=S}w(jr,Te);function xr(f,S){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},S)}function ts(){this.g=!0}ts.prototype.xa=function(){this.g=!1};function oo(f,S,A,D,U,q){f.info(function(){if(f.g)if(q)for(var ae="",Tt=q.split("&"),jn=0;jn<Tt.length;jn++){var ht=Tt[jn].split("=");if(1<ht.length){var Gn=ht[0];ht=ht[1];var Qn=Gn.split("_");ae=2<=Qn.length&&Qn[1]=="type"?ae+(Gn+"="+ht+"&"):ae+(Gn+"=redacted&")}}else ae=null;else ae=q;return"XMLHTTP REQ ("+D+") [attempt "+U+"]: "+S+`
`+A+`
`+ae})}function L(f,S,A,D,U,q,ae){f.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+U+"]: "+S+`
`+A+`
`+q+" "+ae})}function F(f,S,A,D){f.info(function(){return"XMLHTTP TEXT ("+S+"): "+G(f,A)+(D?" "+D:"")})}function K(f,S){f.info(function(){return"TIMEOUT: "+S})}ts.prototype.info=function(){};function G(f,S){if(!f.g)return S;if(!S)return null;try{var A=JSON.parse(S);if(A){for(f=0;f<A.length;f++)if(Array.isArray(A[f])){var D=A[f];if(!(2>D.length)){var U=D[1];if(Array.isArray(U)&&!(1>U.length)){var q=U[0];if(q!="noop"&&q!="stop"&&q!="close")for(var ae=1;ae<U.length;ae++)U[ae]=""}}}}return gn(A)}catch{return S}}var de={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ce={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Me;function oe(){}w(oe,gi),oe.prototype.g=function(){return new XMLHttpRequest},oe.prototype.i=function(){return{}},Me=new oe;function Ee(f,S,A,D){this.j=f,this.i=S,this.l=A,this.R=D||1,this.U=new Or(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ye}function ye(){this.i=null,this.g="",this.h=!1}var xe={},nt={};function lt(f,S,A){f.L=1,f.v=lp(vi(S)),f.m=A,f.P=!0,_t(f,null)}function _t(f,S){f.F=Date.now(),Nt(f),f.A=vi(f.v);var A=f.A,D=f.R;Array.isArray(D)||(D=[String(D)]),MT(A.i,"t",D),f.C=0,A=f.j.J,f.h=new ye,f.g=JT(f.j,A?S:null,!f.m),0<f.O&&(f.M=new Ft(p(f.Y,f,f.g),f.O)),S=f.U,A=f.g,D=f.ca;var U="readystatechange";Array.isArray(U)||(U&&(Jr[0]=U.toString()),U=Jr);for(var q=0;q<U.length;q++){var ae=mn(A,U[q],D||S.handleEvent,!1,S.h||S);if(!ae)break;S.g[ae.key]=ae}S=f.H?E(f.H):{},f.m?(f.u||(f.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,S)):(f.u="GET",f.g.ea(f.A,f.u,null,S)),In(),oo(f.i,f.u,f.A,f.l,f.R,f.m)}Ee.prototype.ca=function(f){f=f.target;const S=this.M;S&&yi(f)==3?S.j():this.Y(f)},Ee.prototype.Y=function(f){try{if(f==this.g)e:{const Qn=yi(this.g);var S=this.g.Ba();const zl=this.g.Z();if(!(3>Qn)&&(Qn!=3||this.g&&(this.h.h||this.g.oa()||BT(this.g)))){this.J||Qn!=4||S==7||(S==8||0>=zl?In(3):In(2)),Lr(this);var A=this.g.Z();this.X=A;t:if(et(this)){var D=BT(this.g);f="";var U=D.length,q=yi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hn(this),ns(this);var ae="";break t}this.h.i=new a.TextDecoder}for(S=0;S<U;S++)this.h.h=!0,f+=this.h.i.decode(D[S],{stream:!(q&&S==U-1)});D.length=0,this.h.g+=f,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=A==200,L(this.i,this.u,this.A,this.l,this.R,Qn,A),this.o){if(this.T&&!this.K){t:{if(this.g){var Tt,jn=this.g;if((Tt=jn.g?jn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Tt)){var ht=Tt;break t}}ht=null}if(A=ht)F(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lo(this,A);else{this.o=!1,this.s=3,dt(12),Hn(this),ns(this);break e}}if(this.P){A=!0;let Es;for(;!this.J&&this.C<ae.length;)if(Es=un(this,ae),Es==nt){Qn==4&&(this.s=4,dt(14),A=!1),F(this.i,this.l,null,"[Incomplete Response]");break}else if(Es==xe){this.s=4,dt(15),F(this.i,this.l,ae,"[Invalid Chunk]"),A=!1;break}else F(this.i,this.l,Es,null),lo(this,Es);if(et(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qn!=4||ae.length!=0||this.h.h||(this.s=1,dt(16),A=!1),this.o=this.o&&A,!A)F(this.i,this.l,ae,"[Invalid Chunked Response]"),Hn(this),ns(this);else if(0<ae.length&&!this.W){this.W=!0;var Gn=this.j;Gn.g==this&&Gn.ba&&!Gn.M&&(Gn.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Wy(Gn),Gn.M=!0,dt(11))}}else F(this.i,this.l,ae,null),lo(this,ae);Qn==4&&Hn(this),this.o&&!this.J&&(Qn==4?GT(this.j,this):(this.o=!1,Nt(this)))}else D$(this.g),A==400&&0<ae.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Hn(this),ns(this)}}}catch{}finally{}};function et(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function un(f,S){var A=f.C,D=S.indexOf(`
`,A);return D==-1?nt:(A=Number(S.substring(A,D)),isNaN(A)?xe:(D+=1,D+A>S.length?nt:(S=S.slice(D,D+A),f.C=D+A,S)))}Ee.prototype.cancel=function(){this.J=!0,Hn(this)};function Nt(f){f.S=Date.now()+f.I,ao(f,f.I)}function ao(f,S){if(f.B!=null)throw Error("WatchDog timer not null");f.B=xr(p(f.ba,f),S)}function Lr(f){f.B&&(a.clearTimeout(f.B),f.B=null)}Ee.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(K(this.i,this.A),this.L!=2&&(In(),dt(17)),Hn(this),this.s=2,ns(this)):ao(this,this.S-f)};function ns(f){f.j.G==0||f.J||GT(f.j,f)}function Hn(f){Lr(f);var S=f.M;S&&typeof S.ma=="function"&&S.ma(),f.M=null,io(f.U),f.g&&(S=f.g,f.g=null,S.abort(),S.ma())}function lo(f,S){try{var A=f.j;if(A.G!=0&&(A.g==f||ze(A.h,f))){if(!f.K&&ze(A.h,f)&&A.G==3){try{var D=A.Da.g.parse(S)}catch{D=null}if(Array.isArray(D)&&D.length==3){var U=D;if(U[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<f.F)fp(A),dp(A);else break e;Ky(A),dt(18)}}else A.za=U[1],0<A.za-A.T&&37500>U[2]&&A.F&&A.v==0&&!A.C&&(A.C=xr(p(A.Za,A),6e3));if(1>=Oa(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else La(A,11)}else if((f.K||A.g==f)&&fp(A),!y(S))for(U=A.Da.g.parse(S),S=0;S<U.length;S++){let ht=U[S];if(A.T=ht[0],ht=ht[1],A.G==2)if(ht[0]=="c"){A.K=ht[1],A.ia=ht[2];const Gn=ht[3];Gn!=null&&(A.la=Gn,A.j.info("VER="+A.la));const Qn=ht[4];Qn!=null&&(A.Aa=Qn,A.j.info("SVER="+A.Aa));const zl=ht[5];zl!=null&&typeof zl=="number"&&0<zl&&(D=1.5*zl,A.L=D,A.j.info("backChannelRequestTimeoutMs_="+D)),D=A;const Es=f.g;if(Es){const mp=Es.g?Es.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mp){var q=D.h;q.g||mp.indexOf("spdy")==-1&&mp.indexOf("quic")==-1&&mp.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Rt(q,q.h),q.h=null))}if(D.D){const Hy=Es.g?Es.g.getResponseHeader("X-HTTP-Session-Id"):null;Hy&&(D.ya=Hy,kt(D.I,D.D,Hy))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-f.F,A.j.info("Handshake RTT: "+A.R+"ms")),D=A;var ae=f;if(D.qa=XT(D,D.J?D.ia:null,D.W),ae.K){qn(D.h,ae);var Tt=ae,jn=D.L;jn&&(Tt.I=jn),Tt.B&&(Lr(Tt),Nt(Tt)),D.g=ae}else HT(D);0<A.i.length&&hp(A)}else ht[0]!="stop"&&ht[0]!="close"||La(A,7);else A.G==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?La(A,7):zy(A):ht[0]!="noop"&&A.l&&A.l.ta(ht),A.v=0)}}In(4)}catch{}}var xs=class{constructor(f,S){this.g=f,this.map=S}};function ka(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ma(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Oa(f){return f.h?1:f.g?f.g.size:0}function ze(f,S){return f.h?f.h==S:f.g?f.g.has(S):!1}function Rt(f,S){f.g?f.g.add(S):f.h=S}function qn(f,S){f.h&&f.h==S?f.h=null:f.g&&f.g.has(S)&&f.g.delete(S)}ka.prototype.cancel=function(){if(this.i=Dt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Dt(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let S=f.i;for(const A of f.g.values())S=S.concat(A.D);return S}return v(f.i)}function _s(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var S=[],A=f.length,D=0;D<A;D++)S.push(f[D]);return S}S=[],A=0;for(D in f)S[A++]=f[D];return S}function sp(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var S=[];f=f.length;for(var A=0;A<f;A++)S.push(A);return S}S=[],A=0;for(const D in f)S[A++]=D;return S}}}function ip(f,S){if(f.forEach&&typeof f.forEach=="function")f.forEach(S,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,S,void 0);else for(var A=sp(f),D=_s(f),U=D.length,q=0;q<U;q++)S.call(void 0,D[q],A&&A[q],f)}var IT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function w$(f,S){if(f){f=f.split("&");for(var A=0;A<f.length;A++){var D=f[A].indexOf("="),U=null;if(0<=D){var q=f[A].substring(0,D);U=f[A].substring(D+1)}else q=f[A];S(q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function ja(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof ja){this.h=f.h,op(this,f.j),this.o=f.o,this.g=f.g,ap(this,f.s),this.l=f.l;var S=f.i,A=new qu;A.i=S.i,S.g&&(A.g=new Map(S.g),A.h=S.h),PT(this,A),this.m=f.m}else f&&(S=String(f).match(IT))?(this.h=!1,op(this,S[1]||"",!0),this.o=Wu(S[2]||""),this.g=Wu(S[3]||"",!0),ap(this,S[4]),this.l=Wu(S[5]||"",!0),PT(this,S[6]||"",!0),this.m=Wu(S[7]||"")):(this.h=!1,this.i=new qu(null,this.h))}ja.prototype.toString=function(){var f=[],S=this.j;S&&f.push(Hu(S,NT,!0),":");var A=this.g;return(A||S=="file")&&(f.push("//"),(S=this.o)&&f.push(Hu(S,NT,!0),"@"),f.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&f.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&f.push("/"),f.push(Hu(A,A.charAt(0)=="/"?E$:_$,!0))),(A=this.i.toString())&&f.push("?",A),(A=this.m)&&f.push("#",Hu(A,S$)),f.join("")};function vi(f){return new ja(f)}function op(f,S,A){f.j=A?Wu(S,!0):S,f.j&&(f.j=f.j.replace(/:$/,""))}function ap(f,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);f.s=S}else f.s=null}function PT(f,S,A){S instanceof qu?(f.i=S,T$(f.i,f.h)):(A||(S=Hu(S,b$)),f.i=new qu(S,f.h))}function kt(f,S,A){f.i.set(S,A)}function lp(f){return kt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Wu(f,S){return f?S?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Hu(f,S,A){return typeof f=="string"?(f=encodeURI(f).replace(S,x$),A&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function x$(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var NT=/[#\/\?@]/g,_$=/[#\?:]/g,E$=/[#\?]/g,b$=/[#\?@]/g,S$=/#/g;function qu(f,S){this.h=this.g=null,this.i=f||null,this.j=!!S}function co(f){f.g||(f.g=new Map,f.h=0,f.i&&w$(f.i,function(S,A){f.add(decodeURIComponent(S.replace(/\+/g," ")),A)}))}t=qu.prototype,t.add=function(f,S){co(this),this.i=null,f=Bl(this,f);var A=this.g.get(f);return A||this.g.set(f,A=[]),A.push(S),this.h+=1,this};function DT(f,S){co(f),S=Bl(f,S),f.g.has(S)&&(f.i=null,f.h-=f.g.get(S).length,f.g.delete(S))}function kT(f,S){return co(f),S=Bl(f,S),f.g.has(S)}t.forEach=function(f,S){co(this),this.g.forEach(function(A,D){A.forEach(function(U){f.call(S,U,D,this)},this)},this)},t.na=function(){co(this);const f=Array.from(this.g.values()),S=Array.from(this.g.keys()),A=[];for(let D=0;D<S.length;D++){const U=f[D];for(let q=0;q<U.length;q++)A.push(S[D])}return A},t.V=function(f){co(this);let S=[];if(typeof f=="string")kT(this,f)&&(S=S.concat(this.g.get(Bl(this,f))));else{f=Array.from(this.g.values());for(let A=0;A<f.length;A++)S=S.concat(f[A])}return S},t.set=function(f,S){return co(this),this.i=null,f=Bl(this,f),kT(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[S]),this.h+=1,this},t.get=function(f,S){return f?(f=this.V(f),0<f.length?String(f[0]):S):S};function MT(f,S,A){DT(f,S),0<A.length&&(f.i=null,f.g.set(Bl(f,S),v(A)),f.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],S=Array.from(this.g.keys());for(var A=0;A<S.length;A++){var D=S[A];const q=encodeURIComponent(String(D)),ae=this.V(D);for(D=0;D<ae.length;D++){var U=q;ae[D]!==""&&(U+="="+encodeURIComponent(String(ae[D]))),f.push(U)}}return this.i=f.join("&")};function Bl(f,S){return S=String(S),f.j&&(S=S.toLowerCase()),S}function T$(f,S){S&&!f.j&&(co(f),f.i=null,f.g.forEach(function(A,D){var U=D.toLowerCase();D!=U&&(DT(this,D),MT(this,U,A))},f)),f.j=S}function C$(f,S){const A=new ts;if(a.Image){const D=new Image;D.onload=g(uo,A,"TestLoadImage: loaded",!0,S,D),D.onerror=g(uo,A,"TestLoadImage: error",!1,S,D),D.onabort=g(uo,A,"TestLoadImage: abort",!1,S,D),D.ontimeout=g(uo,A,"TestLoadImage: timeout",!1,S,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=f}else S(!1)}function A$(f,S){const A=new ts,D=new AbortController,U=setTimeout(()=>{D.abort(),uo(A,"TestPingServer: timeout",!1,S)},1e4);fetch(f,{signal:D.signal}).then(q=>{clearTimeout(U),q.ok?uo(A,"TestPingServer: ok",!0,S):uo(A,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(U),uo(A,"TestPingServer: error",!1,S)})}function uo(f,S,A,D,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),D(A)}catch{}}function R$(){this.g=new Fl}function I$(f,S,A){const D=A||"";try{ip(f,function(U,q){let ae=U;c(U)&&(ae=gn(U)),S.push(D+q+"="+encodeURIComponent(ae))})}catch(U){throw S.push(D+"type="+encodeURIComponent("_badmap")),U}}function Gu(f){this.l=f.Ub||null,this.j=f.eb||!1}w(Gu,gi),Gu.prototype.g=function(){return new cp(this.l,this.j)},Gu.prototype.i=function(f){return function(){return f}}({});function cp(f,S){Be.call(this),this.D=f,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(cp,Be),t=cp.prototype,t.open=function(f,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=S,this.readyState=1,Yu(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(S.body=f),(this.D||a).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qu(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Yu(this)),this.g&&(this.readyState=3,Yu(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;OT(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function OT(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var S=f.value?f.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!f.done}))&&(this.response=this.responseText+=S)}f.done?Qu(this):Yu(this),this.readyState==3&&OT(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Qu(this))},t.Qa=function(f){this.g&&(this.response=f,Qu(this))},t.ga=function(){this.g&&Qu(this)};function Qu(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Yu(f)}t.setRequestHeader=function(f,S){this.u.append(f,S)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],S=this.h.entries();for(var A=S.next();!A.done;)A=A.value,f.push(A[0]+": "+A[1]),A=S.next();return f.join(`\r
`)};function Yu(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(cp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function jT(f){let S="";return O(f,function(A,D){S+=D,S+=":",S+=A,S+=`\r
`}),S}function $y(f,S,A){e:{for(D in A){var D=!1;break e}D=!0}D||(A=jT(A),typeof f=="string"?A!=null&&encodeURIComponent(String(A)):kt(f,S,A))}function Xt(f){Be.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Xt,Be);var P$=/^https?$/i,N$=["POST","PUT"];t=Xt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,S,A,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);S=S?S.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Me.g(),this.v=this.o?Ul(this.o):Ul(Me),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(S,String(f),!0),this.B=!1}catch(q){LT(this,q);return}if(f=A||"",A=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var U in D)A.set(U,D[U]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const q of D.keys())A.set(q,D.get(q));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(A.keys()).find(q=>q.toLowerCase()=="content-type"),U=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(N$,S,void 0))||D||U||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ae]of A)this.g.setRequestHeader(q,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{UT(this),this.u=!0,this.g.send(f),this.u=!1}catch(q){LT(this,q)}};function LT(f,S){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=S,f.m=5,VT(f),up(f)}function VT(f){f.A||(f.A=!0,je(f,"complete"),je(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,je(this,"complete"),je(this,"abort"),up(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),up(this,!0)),Xt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?FT(this):this.bb())},t.bb=function(){FT(this)};function FT(f){if(f.h&&typeof o<"u"&&(!f.v[1]||yi(f)!=4||f.Z()!=2)){if(f.u&&yi(f)==4)wr(f.Ea,0,f);else if(je(f,"readystatechange"),yi(f)==4){f.h=!1;try{const ae=f.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var A;if(!(A=S)){var D;if(D=ae===0){var U=String(f.D).match(IT)[1]||null;!U&&a.self&&a.self.location&&(U=a.self.location.protocol.slice(0,-1)),D=!P$.test(U?U.toLowerCase():"")}A=D}if(A)je(f,"complete"),je(f,"success");else{f.m=6;try{var q=2<yi(f)?f.g.statusText:""}catch{q=""}f.l=q+" ["+f.Z()+"]",VT(f)}}finally{up(f)}}}}function up(f,S){if(f.g){UT(f);const A=f.g,D=f.v[0]?()=>{}:null;f.g=null,f.v=null,S||je(f,"ready");try{A.onreadystatechange=D}catch{}}}function UT(f){f.I&&(a.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function yi(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<yi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var S=this.g.responseText;return f&&S.indexOf(f)==0&&(S=S.substring(f.length)),Na(S)}};function BT(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function D$(f){const S={};f=(f.g&&2<=yi(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<f.length;D++){if(y(f[D]))continue;var A=k(f[D]);const U=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const q=S[U]||[];S[U]=q,q.push(A)}T(S,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xu(f,S,A){return A&&A.internalChannelParams&&A.internalChannelParams[f]||S}function $T(f){this.Aa=0,this.i=[],this.j=new ts,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xu("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xu("baseRetryDelayMs",5e3,f),this.cb=Xu("retryDelaySeedMs",1e4,f),this.Wa=Xu("forwardChannelMaxRetries",2,f),this.wa=Xu("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ka(f&&f.concurrentRequestLimit),this.Da=new R$,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=$T.prototype,t.la=8,t.G=1,t.connect=function(f,S,A,D){dt(0),this.W=f,this.H=S||{},A&&D!==void 0&&(this.H.OSID=A,this.H.OAID=D),this.F=this.X,this.I=XT(this,null,this.W),hp(this)};function zy(f){if(zT(f),f.G==3){var S=f.U++,A=vi(f.I);if(kt(A,"SID",f.K),kt(A,"RID",S),kt(A,"TYPE","terminate"),Ju(f,A),S=new Ee(f,f.j,S),S.L=2,S.v=lp(vi(A)),A=!1,a.navigator&&a.navigator.sendBeacon)try{A=a.navigator.sendBeacon(S.v.toString(),"")}catch{}!A&&a.Image&&(new Image().src=S.v,A=!0),A||(S.g=JT(S.j,null),S.g.ea(S.v)),S.F=Date.now(),Nt(S)}YT(f)}function dp(f){f.g&&(Wy(f),f.g.cancel(),f.g=null)}function zT(f){dp(f),f.u&&(a.clearTimeout(f.u),f.u=null),fp(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&a.clearTimeout(f.s),f.s=null)}function hp(f){if(!Ma(f.h)&&!f.s){f.s=!0;var S=f.Ga;Y||J(),z||(Y(),z=!0),B.add(S,f),f.B=0}}function k$(f,S){return Oa(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=S.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=xr(p(f.Ga,f,S),QT(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const U=new Ee(this,this.j,f);let q=this.o;if(this.S&&(q?(q=E(q),R(q,this.S)):q=this.S),this.m!==null||this.O||(U.H=q,q=null),this.P)e:{for(var S=0,A=0;A<this.i.length;A++){t:{var D=this.i[A];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(S+=D,4096<S){S=A;break e}if(S===4096||A===this.i.length-1){S=A+1;break e}}S=1e3}else S=1e3;S=WT(this,U,S),A=vi(this.I),kt(A,"RID",f),kt(A,"CVER",22),this.D&&kt(A,"X-HTTP-Session-Id",this.D),Ju(this,A),q&&(this.O?S="headers="+encodeURIComponent(String(jT(q)))+"&"+S:this.m&&$y(A,this.m,q)),Rt(this.h,U),this.Ua&&kt(A,"TYPE","init"),this.P?(kt(A,"$req",S),kt(A,"SID","null"),U.T=!0,lt(U,A,null)):lt(U,A,S),this.G=2}}else this.G==3&&(f?KT(this,f):this.i.length==0||Ma(this.h)||KT(this))};function KT(f,S){var A;S?A=S.l:A=f.U++;const D=vi(f.I);kt(D,"SID",f.K),kt(D,"RID",A),kt(D,"AID",f.T),Ju(f,D),f.m&&f.o&&$y(D,f.m,f.o),A=new Ee(f,f.j,A,f.B+1),f.m===null&&(A.H=f.o),S&&(f.i=S.D.concat(f.i)),S=WT(f,A,1e3),A.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Rt(f.h,A),lt(A,D,S)}function Ju(f,S){f.H&&O(f.H,function(A,D){kt(S,D,A)}),f.l&&ip({},function(A,D){kt(S,D,A)})}function WT(f,S,A){A=Math.min(f.i.length,A);var D=f.l?p(f.l.Na,f.l,f):null;e:{var U=f.i;let q=-1;for(;;){const ae=["count="+A];q==-1?0<A?(q=U[0].g,ae.push("ofs="+q)):q=0:ae.push("ofs="+q);let Tt=!0;for(let jn=0;jn<A;jn++){let ht=U[jn].g;const Gn=U[jn].map;if(ht-=q,0>ht)q=Math.max(0,U[jn].g-100),Tt=!1;else try{I$(Gn,ae,"req"+ht+"_")}catch{D&&D(Gn)}}if(Tt){D=ae.join("&");break e}}}return f=f.i.splice(0,A),S.D=f,D}function HT(f){if(!f.g&&!f.u){f.Y=1;var S=f.Fa;Y||J(),z||(Y(),z=!0),B.add(S,f),f.v=0}}function Ky(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=xr(p(f.Fa,f),QT(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,qT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=xr(p(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),dp(this),qT(this))};function Wy(f){f.A!=null&&(a.clearTimeout(f.A),f.A=null)}function qT(f){f.g=new Ee(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var S=vi(f.qa);kt(S,"RID","rpc"),kt(S,"SID",f.K),kt(S,"AID",f.T),kt(S,"CI",f.F?"0":"1"),!f.F&&f.ja&&kt(S,"TO",f.ja),kt(S,"TYPE","xmlhttp"),Ju(f,S),f.m&&f.o&&$y(S,f.m,f.o),f.L&&(f.g.I=f.L);var A=f.g;f=f.ia,A.L=1,A.v=lp(vi(S)),A.m=null,A.P=!0,_t(A,f)}t.Za=function(){this.C!=null&&(this.C=null,dp(this),Ky(this),dt(19))};function fp(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function GT(f,S){var A=null;if(f.g==S){fp(f),Wy(f),f.g=null;var D=2}else if(ze(f.h,S))A=S.D,qn(f.h,S),D=1;else return;if(f.G!=0){if(S.o)if(D==1){A=S.m?S.m.length:0,S=Date.now()-S.F;var U=f.B;D=vn(),je(D,new jr(D,A)),hp(f)}else HT(f);else if(U=S.s,U==3||U==0&&0<S.X||!(D==1&&k$(f,S)||D==2&&Ky(f)))switch(A&&0<A.length&&(S=f.h,S.i=S.i.concat(A)),U){case 1:La(f,5);break;case 4:La(f,10);break;case 3:La(f,6);break;default:La(f,2)}}}function QT(f,S){let A=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(A*=2),A*S}function La(f,S){if(f.j.info("Error code "+S),S==2){var A=p(f.fb,f),D=f.Xa;const U=!D;D=new ja(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||op(D,"https"),lp(D),U?C$(D.toString(),A):A$(D.toString(),A)}else dt(2);f.G=0,f.l&&f.l.sa(S),YT(f),zT(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function YT(f){if(f.G=0,f.ka=[],f.l){const S=Dt(f.h);(S.length!=0||f.i.length!=0)&&(_(f.ka,S),_(f.ka,f.i),f.h.i.length=0,v(f.i),f.i.length=0),f.l.ra()}}function XT(f,S,A){var D=A instanceof ja?vi(A):new ja(A);if(D.g!="")S&&(D.g=S+"."+D.g),ap(D,D.s);else{var U=a.location;D=U.protocol,S=S?S+"."+U.hostname:U.hostname,U=+U.port;var q=new ja(null);D&&op(q,D),S&&(q.g=S),U&&ap(q,U),A&&(q.l=A),D=q}return A=f.D,S=f.ya,A&&S&&kt(D,A,S),kt(D,"VER",f.la),Ju(f,D),D}function JT(f,S,A){if(S&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=f.Ca&&!f.pa?new Xt(new Gu({eb:A})):new Xt(f.pa),S.Ha(f.J),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ZT(){}t=ZT.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function pp(){}pp.prototype.g=function(f,S){return new Vr(f,S)};function Vr(f,S){Be.call(this),this.g=new $T(S),this.l=f,this.h=S&&S.messageUrlParams||null,f=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(f?f["X-WebChannel-Content-Type"]=S.messageContentType:f={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(f?f["X-WebChannel-Client-Profile"]=S.va:f={"X-WebChannel-Client-Profile":S.va}),this.g.S=f,(f=S&&S.Sb)&&!y(f)&&(this.g.m=f),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!y(S)&&(this.g.D=S,f=this.h,f!==null&&S in f&&(f=this.h,S in f&&delete f[S])),this.j=new $l(this)}w(Vr,Be),Vr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vr.prototype.close=function(){zy(this.g)},Vr.prototype.o=function(f){var S=this.g;if(typeof f=="string"){var A={};A.__data__=f,f=A}else this.u&&(A={},A.__data__=gn(f),f=A);S.i.push(new xs(S.Ya++,f)),S.G==3&&hp(S)},Vr.prototype.N=function(){this.g.l=null,delete this.j,zy(this.g),delete this.g,Vr.aa.N.call(this)};function eC(f){$t.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var S=f.__sm__;if(S){e:{for(const A in S){f=A;break e}f=void 0}(this.i=f)&&(f=this.i,S=S!==null&&f in S?S[f]:void 0),this.data=S}else this.data=f}w(eC,$t);function tC(){rn.call(this),this.status=1}w(tC,rn);function $l(f){this.g=f}w($l,ZT),$l.prototype.ua=function(){je(this.g,"a")},$l.prototype.ta=function(f){je(this.g,new eC(f))},$l.prototype.sa=function(f){je(this.g,new tC)},$l.prototype.ra=function(){je(this.g,"b")},pp.prototype.createWebChannel=pp.prototype.g,Vr.prototype.send=Vr.prototype.o,Vr.prototype.open=Vr.prototype.m,Vr.prototype.close=Vr.prototype.close,V2=function(){return new pp},L2=function(){return vn()},j2=At,Jx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},de.NO_ERROR=0,de.TIMEOUT=8,de.HTTP_ERROR=6,Im=de,Ce.COMPLETE="complete",O2=Ce,Da.EventType=Zr,Zr.OPEN="a",Zr.CLOSE="b",Zr.ERROR="c",Zr.MESSAGE="d",Be.prototype.listen=Be.prototype.K,Cd=Da,M2=Gu,Xt.prototype.listenOnce=Xt.prototype.L,Xt.prototype.getLastError=Xt.prototype.Ka,Xt.prototype.getLastErrorCode=Xt.prototype.Ba,Xt.prototype.getStatus=Xt.prototype.Z,Xt.prototype.getResponseJson=Xt.prototype.Oa,Xt.prototype.getResponseText=Xt.prototype.oa,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Ha,k2=Xt}).apply(typeof qp<"u"?qp:typeof self<"u"?self:typeof window<"u"?window:{});const sI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tr.UNAUTHENTICATED=new tr(null),tr.GOOGLE_CREDENTIALS=new tr("google-credentials-uid"),tr.FIRST_PARTY=new tr("first-party-uid"),tr.MOCK_USER=new tr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Du="10.13.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=new FE("@firebase/firestore");function fd(){return _l.logLevel}function we(t,...e){if(_l.logLevel<=st.DEBUG){const n=e.map(uS);_l.debug(`Firestore (${Du}): ${t}`,...n)}}function eo(t,...e){if(_l.logLevel<=st.ERROR){const n=e.map(uS);_l.error(`Firestore (${Du}): ${t}`,...n)}}function au(t,...e){if(_l.logLevel<=st.WARN){const n=e.map(uS);_l.warn(`Firestore (${Du}): ${t}`,...n)}}function uS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(t="Unexpected state"){const e=`FIRESTORE (${Du}) INTERNAL ASSERTION FAILED: `+t;throw eo(e),new Error(e)}function St(t,e){t||Ve()}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends ys{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $te{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tr.UNAUTHENTICATED))}shutdown(){}}class zte{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Kte{constructor(e){this.t=e,this.currentUser=tr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Bi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Bi,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Bi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(St(typeof r.accessToken=="string"),new F2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return St(e===null||typeof e=="string"),new tr(e)}}class Wte{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=tr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Hte{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Wte(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(tr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qte{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Gte{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,we("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(St(typeof n.token=="string"),this.R=n.token,new qte(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qte(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=Qte(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function ft(t,e){return t<e?-1:t>e?1:0}function lu(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ae(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Cn.fromMillis(Date.now())}static fromDate(e){return Cn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Cn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ft(this.nanoseconds,e.nanoseconds):ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new Cn(0,0))}static max(){return new Ke(new Cn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ve(),r===void 0?r=e.length-n:r>e.length-n&&Ve(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Uh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Uh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Bt extends Uh{construct(e,n,r){return new Bt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Bt(n)}static emptyPath(){return new Bt([])}}const Yte=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bn extends Uh{construct(e,n,r){return new Bn(e,n,r)}static isValidIdentifier(e){return Yte.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Bn(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Ae(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Ae(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ae(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Ae(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bn(n)}static emptyPath(){return new Bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Bt.fromString(e))}static fromName(e){return new Ie(Bt.fromString(e).popFirst(5))}static empty(){return new Ie(Bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Bt(e.slice()))}}function Xte(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ke.fromTimestamp(r===1e9?new Cn(n+1,0):new Cn(n,r));return new ma(s,Ie.empty(),e)}function Jte(t){return new ma(t.readTime,t.key,-1)}class ma{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ma(Ke.min(),Ie.empty(),-1)}static max(){return new ma(Ke.max(),Ie.empty(),-1)}}function Zte(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:ft(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ene="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tne{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zf(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==ene)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(s=>s?Q.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new Q((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function nne(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Kf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}dS.oe=-1;function dy(t){return t==null}function Lg(t){return t===0&&1/t==-1/0}function rne(t){return typeof t=="number"&&Number.isInteger(t)&&!Lg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ku(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function sne(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function B2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n){this.comparator=e,this.root=n||Un.EMPTY}insert(e,n){return new Qt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Un.BLACK,null,null))}remove(e){return new Qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gp(this.root,e,this.comparator,!0)}}class Gp{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Un{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Un.RED,this.left=s??Un.EMPTY,this.right=i??Un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Un(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Un.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ve();const e=this.left.check();if(e!==this.right.check())throw Ve();return e+(this.isRed()?0:1)}}Un.EMPTY=null,Un.RED=!0,Un.BLACK=!1;Un.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve()}get value(){throw Ve()}get color(){throw Ve()}get left(){throw Ve()}get right(){throw Ve()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.comparator=e,this.data=new Qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new oI(this.data.getIterator())}getIteratorFrom(e){return new oI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof zn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new zn(this.comparator);return n.data=e,n}}class oI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this.fields=e,e.sort(Bn.comparator)}static empty(){return new Ds([])}unionWith(e){let n=new zn(Bn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ds(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return lu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new $2("Invalid base64 string: "+i):i}}(e);return new Wn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Wn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wn.EMPTY_BYTE_STRING=new Wn("");const ine=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ga(t){if(St(!!t),typeof t=="string"){let e=0;const n=ine.exec(t);if(St(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:on(t.seconds),nanos:on(t.nanos)}}function on(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function El(t){return typeof t=="string"?Wn.fromBase64String(t):Wn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function fS(t){const e=t.mapValue.fields.__previous_value__;return hS(e)?fS(e):e}function Bh(t){const e=ga(t.mapValue.fields.__local_write_time__.timestampValue);return new Cn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class one{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class $h{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new $h("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $h&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function bl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hS(t)?4:lne(t)?9007199254740991:ane(t)?10:11:Ve()}function ui(t,e){if(t===e)return!0;const n=bl(t);if(n!==bl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bh(t).isEqual(Bh(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ga(s.timestampValue),a=ga(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return El(s.bytesValue).isEqual(El(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return on(s.geoPointValue.latitude)===on(i.geoPointValue.latitude)&&on(s.geoPointValue.longitude)===on(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return on(s.integerValue)===on(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=on(s.doubleValue),a=on(i.doubleValue);return o===a?Lg(o)===Lg(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return lu(t.arrayValue.values||[],e.arrayValue.values||[],ui);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(iI(o)!==iI(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ui(o[l],a[l])))return!1;return!0}(t,e);default:return Ve()}}function zh(t,e){return(t.values||[]).find(n=>ui(n,e))!==void 0}function cu(t,e){if(t===e)return 0;const n=bl(t),r=bl(e);if(n!==r)return ft(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ft(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=on(i.integerValue||i.doubleValue),l=on(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return aI(t.timestampValue,e.timestampValue);case 4:return aI(Bh(t),Bh(e));case 5:return ft(t.stringValue,e.stringValue);case 6:return function(i,o){const a=El(i),l=El(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=ft(a[c],l[c]);if(u!==0)return u}return ft(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ft(on(i.latitude),on(o.latitude));return a!==0?a:ft(on(i.longitude),on(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return lI(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,u;const h=i.fields||{},p=o.fields||{},g=(a=h.value)===null||a===void 0?void 0:a.arrayValue,w=(l=p.value)===null||l===void 0?void 0:l.arrayValue,v=ft(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((u=w==null?void 0:w.values)===null||u===void 0?void 0:u.length)||0);return v!==0?v:lI(g,w)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Qp.mapValue&&o===Qp.mapValue)return 0;if(i===Qp.mapValue)return 1;if(o===Qp.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const p=ft(l[h],u[h]);if(p!==0)return p;const g=cu(a[l[h]],c[u[h]]);if(g!==0)return g}return ft(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Ve()}}function aI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ft(t,e);const n=ga(t),r=ga(e),s=ft(n.seconds,r.seconds);return s!==0?s:ft(n.nanos,r.nanos)}function lI(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=cu(n[s],r[s]);if(i)return i}return ft(n.length,r.length)}function uu(t){return Zx(t)}function Zx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ga(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return El(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Zx(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Zx(n.fields[o])}`;return s+"}"}(t.mapValue):Ve()}function e_(t){return!!t&&"integerValue"in t}function pS(t){return!!t&&"arrayValue"in t}function cI(t){return!!t&&"nullValue"in t}function uI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pm(t){return!!t&&"mapValue"in t}function ane(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function qd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ku(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=qd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function lne(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.value=e}static empty(){return new ds({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Pm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qd(n)}setAll(e){let n=Bn.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=qd(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Pm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ui(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Pm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ku(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new ds(qd(this.value))}}function z2(t){const e=[];return ku(t.fields,(n,r)=>{const s=new Bn([n]);if(Pm(r)){const i=z2(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Ds(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new rr(e,0,Ke.min(),Ke.min(),Ke.min(),ds.empty(),0)}static newFoundDocument(e,n,r,s){return new rr(e,1,n,Ke.min(),r,s,0)}static newNoDocument(e,n){return new rr(e,2,n,Ke.min(),Ke.min(),ds.empty(),0)}static newUnknownDocument(e,n){return new rr(e,3,n,Ke.min(),Ke.min(),ds.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ds.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ds.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n){this.position=e,this.inclusive=n}}function dI(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Ie.comparator(Ie.fromName(o.referenceValue),n.key):r=cu(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function hI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ui(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n="asc"){this.field=e,this.dir=n}}function cne(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{}class bn extends K2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new dne(e,n,r):n==="array-contains"?new pne(e,r):n==="in"?new mne(e,r):n==="not-in"?new gne(e,r):n==="array-contains-any"?new vne(e,r):new bn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new hne(e,r):new fne(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(cu(n,this.value)):n!==null&&bl(this.value)===bl(n)&&this.matchesComparison(cu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends K2{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new di(e,n)}matches(e){return W2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function W2(t){return t.op==="and"}function H2(t){return une(t)&&W2(t)}function une(t){for(const e of t.filters)if(e instanceof di)return!1;return!0}function t_(t){if(t instanceof bn)return t.field.canonicalString()+t.op.toString()+uu(t.value);if(H2(t))return t.filters.map(e=>t_(e)).join(",");{const e=t.filters.map(n=>t_(n)).join(",");return`${t.op}(${e})`}}function q2(t,e){return t instanceof bn?function(r,s){return s instanceof bn&&r.op===s.op&&r.field.isEqual(s.field)&&ui(r.value,s.value)}(t,e):t instanceof di?function(r,s){return s instanceof di&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&q2(o,s.filters[a]),!0):!1}(t,e):void Ve()}function G2(t){return t instanceof bn?function(n){return`${n.field.canonicalString()} ${n.op} ${uu(n.value)}`}(t):t instanceof di?function(n){return n.op.toString()+" {"+n.getFilters().map(G2).join(" ,")+"}"}(t):"Filter"}class dne extends bn{constructor(e,n,r){super(e,n,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class hne extends bn{constructor(e,n){super(e,"in",n),this.keys=Q2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class fne extends bn{constructor(e,n){super(e,"not-in",n),this.keys=Q2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Q2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ie.fromName(r.referenceValue))}class pne extends bn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pS(n)&&zh(n.arrayValue,this.value)}}class mne extends bn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zh(this.value.arrayValue,n)}}class gne extends bn{constructor(e,n){super(e,"not-in",n)}matches(e){if(zh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!zh(this.value.arrayValue,n)}}class vne extends bn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>zh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yne{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function fI(t,e=null,n=[],r=[],s=null,i=null,o=null){return new yne(t,e,n,r,s,i,o)}function mS(t){const e=Fe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>t_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),dy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>uu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>uu(r)).join(",")),e.ue=n}return e.ue}function gS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!cne(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!q2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!hI(t.startAt,e.startAt)&&hI(t.endAt,e.endAt)}function n_(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function wne(t,e,n,r,s,i,o,a){return new hy(t,e,n,r,s,i,o,a)}function fy(t){return new hy(t)}function pI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xne(t){return t.collectionGroup!==null}function Gd(t){const e=Fe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new zn(Bn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Fg(i,r))}),n.has(Bn.keyField().canonicalString())||e.ce.push(new Fg(Bn.keyField(),r))}return e.ce}function ai(t){const e=Fe(t);return e.le||(e.le=Y2(e,Gd(t))),e.le}function _ne(t){const e=Fe(t);return e.he||(e.he=Y2(e,t.explicitOrderBy)),e.he}function Y2(t,e){if(t.limitType==="F")return fI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Fg(s.field,i)});const n=t.endAt?new Vg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vg(t.startAt.position,t.startAt.inclusive):null;return fI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function r_(t,e,n){return new hy(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function py(t,e){return gS(ai(t),ai(e))&&t.limitType===e.limitType}function X2(t){return`${mS(ai(t))}|lt:${t.limitType}`}function Yl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>G2(s)).join(", ")}]`),dy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>uu(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>uu(s)).join(",")),`Target(${r})`}(ai(t))}; limitType=${t.limitType})`}function my(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Ie.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Gd(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=dI(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Gd(r),s)||r.endAt&&!function(o,a,l){const c=dI(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Gd(r),s))}(t,e)}function Ene(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function J2(t){return(e,n)=>{let r=!1;for(const s of Gd(t)){const i=bne(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function bne(t,e,n){const r=t.field.isKeyField()?Ie.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?cu(l,c):Ve()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ku(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return B2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sne=new Qt(Ie.comparator);function to(){return Sne}const Z2=new Qt(Ie.comparator);function Ad(...t){let e=Z2;for(const n of t)e=e.insert(n.key,n);return e}function eV(t){let e=Z2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ya(){return Qd()}function tV(){return Qd()}function Qd(){return new Mu(t=>t.toString(),(t,e)=>t.isEqual(e))}const Tne=new Qt(Ie.comparator),Cne=new zn(Ie.comparator);function tt(...t){let e=Cne;for(const n of t)e=e.add(n);return e}const Ane=new zn(ft);function Rne(){return Ane}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lg(e)?"-0":e}}function nV(t){return{integerValue:""+t}}function Ine(t,e){return rne(e)?nV(e):vS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(){this._=void 0}}function Pne(t,e,n){return t instanceof Ug?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&hS(i)&&(i=fS(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Kh?sV(t,e):t instanceof Wh?iV(t,e):function(s,i){const o=rV(s,i),a=mI(o)+mI(s.Pe);return e_(o)&&e_(s.Pe)?nV(a):vS(s.serializer,a)}(t,e)}function Nne(t,e,n){return t instanceof Kh?sV(t,e):t instanceof Wh?iV(t,e):n}function rV(t,e){return t instanceof Bg?function(r){return e_(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Ug extends gy{}class Kh extends gy{constructor(e){super(),this.elements=e}}function sV(t,e){const n=oV(e);for(const r of t.elements)n.some(s=>ui(s,r))||n.push(r);return{arrayValue:{values:n}}}class Wh extends gy{constructor(e){super(),this.elements=e}}function iV(t,e){let n=oV(e);for(const r of t.elements)n=n.filter(s=>!ui(s,r));return{arrayValue:{values:n}}}class Bg extends gy{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function mI(t){return on(t.integerValue||t.doubleValue)}function oV(t){return pS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Dne(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Kh&&s instanceof Kh||r instanceof Wh&&s instanceof Wh?lu(r.elements,s.elements,ui):r instanceof Bg&&s instanceof Bg?ui(r.Pe,s.Pe):r instanceof Ug&&s instanceof Ug}(t.transform,e.transform)}class kne{constructor(e,n){this.version=e,this.transformResults=n}}class $i{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $i}static exists(e){return new $i(void 0,e)}static updateTime(e){return new $i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let vy=class{};function aV(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new cV(t.key,$i.none()):new Wf(t.key,t.data,$i.none());{const n=t.data,r=ds.empty();let s=new zn(Bn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new jl(t.key,r,new Ds(s.toArray()),$i.none())}}function Mne(t,e,n){t instanceof Wf?function(s,i,o){const a=s.value.clone(),l=vI(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof jl?function(s,i,o){if(!Nm(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=vI(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(lV(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Yd(t,e,n,r){return t instanceof Wf?function(i,o,a,l){if(!Nm(i.precondition,o))return a;const c=i.value.clone(),u=yI(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof jl?function(i,o,a,l){if(!Nm(i.precondition,o))return a;const c=yI(i.fieldTransforms,l,o),u=o.data;return u.setAll(lV(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return Nm(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function One(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=rV(r.transform,s||null);i!=null&&(n===null&&(n=ds.empty()),n.set(r.field,i))}return n||null}function gI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&lu(r,s,(i,o)=>Dne(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wf extends vy{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class jl extends vy{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function lV(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function vI(t,e,n){const r=new Map;St(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,Nne(o,a,n[s]))}return r}function yI(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,Pne(i,o,e))}return r}class cV extends vy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jne extends vy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lne{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&Mne(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Yd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Yd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=tV();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=aV(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),tt())}isEqual(e){return this.batchId===e.batchId&&lu(this.mutations,e.mutations,(n,r)=>gI(n,r))&&lu(this.baseMutations,e.baseMutations,(n,r)=>gI(n,r))}}class yS{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){St(e.mutations.length===r.length);let s=function(){return Tne}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new yS(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vne=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fne{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Une{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn,it;function Bne(t){switch(t){default:return Ve();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function uV(t){if(t===void 0)return eo("GRPC error has no .code"),X.UNKNOWN;switch(t){case dn.OK:return X.OK;case dn.CANCELLED:return X.CANCELLED;case dn.UNKNOWN:return X.UNKNOWN;case dn.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case dn.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case dn.INTERNAL:return X.INTERNAL;case dn.UNAVAILABLE:return X.UNAVAILABLE;case dn.UNAUTHENTICATED:return X.UNAUTHENTICATED;case dn.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case dn.NOT_FOUND:return X.NOT_FOUND;case dn.ALREADY_EXISTS:return X.ALREADY_EXISTS;case dn.PERMISSION_DENIED:return X.PERMISSION_DENIED;case dn.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case dn.ABORTED:return X.ABORTED;case dn.OUT_OF_RANGE:return X.OUT_OF_RANGE;case dn.UNIMPLEMENTED:return X.UNIMPLEMENTED;case dn.DATA_LOSS:return X.DATA_LOSS;default:return Ve()}}(it=dn||(dn={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ne(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zne=new ul([4294967295,4294967295],0);function wI(t){const e=$ne().encode(t),n=new D2;return n.update(e),new Uint8Array(n.digest())}function xI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ul([n,r],0),new ul([s,i],0)]}class wS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Rd(`Invalid padding: ${n}`);if(r<0)throw new Rd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Rd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Rd(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ul.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(ul.fromNumber(r)));return s.compare(zne)===1&&(s=new ul([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=wI(e),[r,s]=xI(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new wS(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=wI(e),[r,s]=xI(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Rd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Hf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new yy(Ke.min(),s,new Qt(ft),to(),tt())}}class Hf{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Hf(r,n,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class dV{constructor(e,n){this.targetId=e,this.me=n}}class hV{constructor(e,n,r=Wn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class _I{constructor(){this.fe=0,this.ge=bI(),this.pe=Wn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=tt(),n=tt(),r=tt();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ve()}}),new Hf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=bI()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,St(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Kne{constructor(e){this.Le=e,this.Be=new Map,this.ke=to(),this.qe=EI(),this.Qe=new Qt(ft)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(n_(i))if(r===0){const o=new Ie(i.path);this.Ue(n,o,rr.newNoDocument(o,Ke.min()))}else St(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=El(r).toUint8Array()}catch(l){if(l instanceof $2)return au("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new wS(o,s,i)}catch(l){return au(l instanceof Rd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&n_(a.target)){const l=new Ie(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,rr.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=tt();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new yy(e,n,this.Qe,this.ke,r);return this.ke=to(),this.qe=EI(),this.Qe=new Qt(ft),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new _I,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new zn(ft),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new _I),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function EI(){return new Qt(Ie.comparator)}function bI(){return new Qt(Ie.comparator)}const Wne={asc:"ASCENDING",desc:"DESCENDING"},Hne={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qne={and:"AND",or:"OR"};class Gne{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function s_(t,e){return t.useProto3Json||dy(e)?e:{value:e}}function $g(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fV(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Qne(t,e){return $g(t,e.toTimestamp())}function li(t){return St(!!t),Ke.fromTimestamp(function(n){const r=ga(n);return new Cn(r.seconds,r.nanos)}(t))}function xS(t,e){return i_(t,e).canonicalString()}function i_(t,e){const n=function(s){return new Bt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function pV(t){const e=Bt.fromString(t);return St(xV(e)),e}function o_(t,e){return xS(t.databaseId,e.path)}function r0(t,e){const n=pV(e);if(n.get(1)!==t.databaseId.projectId)throw new Ae(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ae(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(gV(n))}function mV(t,e){return xS(t.databaseId,e)}function Yne(t){const e=pV(t);return e.length===4?Bt.emptyPath():gV(e)}function a_(t){return new Bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gV(t){return St(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function SI(t,e,n){return{name:o_(t,e),fields:n.value.mapValue.fields}}function Xne(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(St(u===void 0||typeof u=="string"),Wn.fromBase64String(u||"")):(St(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Wn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?X.UNKNOWN:uV(c.code);return new Ae(u,c.message||"")}(o);n=new hV(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=r0(t,r.document.name),i=li(r.document.updateTime),o=r.document.createTime?li(r.document.createTime):Ke.min(),a=new ds({mapValue:{fields:r.document.fields}}),l=rr.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Dm(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=r0(t,r.document),i=r.readTime?li(r.readTime):Ke.min(),o=rr.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Dm([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=r0(t,r.document),i=r.removedTargetIds||[];n=new Dm([],i,s,null)}else{if(!("filter"in e))return Ve();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new Une(s,i),a=r.targetId;n=new dV(a,o)}}return n}function Jne(t,e){let n;if(e instanceof Wf)n={update:SI(t,e.key,e.value)};else if(e instanceof cV)n={delete:o_(t,e.key)};else if(e instanceof jl)n={update:SI(t,e.key,e.data),updateMask:are(e.fieldMask)};else{if(!(e instanceof jne))return Ve();n={verify:o_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Ug)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Kh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Wh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Bg)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Ve()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:Qne(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ve()}(t,e.precondition)),n}function Zne(t,e){return t&&t.length>0?(St(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?li(s.updateTime):li(i);return o.isEqual(Ke.min())&&(o=li(i)),new kne(o,s.transformResults||[])}(n,e))):[]}function ere(t,e){return{documents:[mV(t,e.path)]}}function vV(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=mV(t,s);const i=function(c){if(c.length!==0)return wV(di.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(u=>function(p){return{field:Io(p.field),direction:sre(p.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=s_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function tre(t,e,n,r){const{_t:s,parent:i}=vV(t,e),o={},a=[];let l=0;return n.forEach(c=>{const u="aggregate_"+l++;o[u]=c.alias,c.aggregateType==="count"?a.push({alias:u,count:{}}):c.aggregateType==="avg"?a.push({alias:u,avg:{field:Io(c.fieldPath)}}):c.aggregateType==="sum"&&a.push({alias:u,sum:{field:Io(c.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:a,structuredQuery:s.structuredQuery},parent:s.parent},ut:o,parent:i}}function nre(t){let e=Yne(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){St(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(h){const p=yV(h);return p instanceof di&&H2(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(w){return new Fg(Xl(w.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,dy(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,g=h.values||[];return new Vg(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const p=!h.before,g=h.values||[];return new Vg(g,p)}(n.endAt)),wne(e,s,o,i,a,"F",l,c)}function rre(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yV(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xl(n.unaryFilter.field);return bn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Xl(n.unaryFilter.field);return bn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Xl(n.unaryFilter.field);return bn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Xl(n.unaryFilter.field);return bn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ve()}}(t):t.fieldFilter!==void 0?function(n){return bn.create(Xl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return di.create(n.compositeFilter.filters.map(r=>yV(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ve()}}(n.compositeFilter.op))}(t):Ve()}function sre(t){return Wne[t]}function ire(t){return Hne[t]}function ore(t){return qne[t]}function Io(t){return{fieldPath:t.canonicalString()}}function Xl(t){return Bn.fromServerFormat(t.fieldPath)}function wV(t){return t instanceof bn?function(n){if(n.op==="=="){if(uI(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NAN"}};if(cI(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(uI(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NOT_NAN"}};if(cI(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Io(n.field),op:ire(n.op),value:n.value}}}(t):t instanceof di?function(n){const r=n.getFilters().map(s=>wV(s));return r.length===1?r[0]:{compositeFilter:{op:ore(n.op),filters:r}}}(t):Ve()}function are(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function xV(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n,r,s,i=Ke.min(),o=Ke.min(),a=Wn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ko(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ko(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lre{constructor(e){this.ct=e}}function cre(t){const e=nre({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?r_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ure{constructor(){this.un=new dre}addToCollectionParentIndex(e,n){return this.un.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(ma.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(ma.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class dre{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new zn(Bt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new zn(Bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new du(0)}static kn(){return new du(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hre{constructor(){this.changes=new Mu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fre{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pre{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Yd(r.mutation,s,Ds.empty(),Cn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,tt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=tt()){const s=Ya();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Ad();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ya();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,tt()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=to();const o=Qd(),a=function(){return Qd()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof jl)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Yd(u.mutation,c,u.mutation.getFieldMask(),Cn.now())):o.set(c.key,Ds.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new fre(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Qd();let s=new Qt((o,a)=>o-a),i=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Ds.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(s.get(a.batchId)||tt()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=tV();u.forEach(p=>{if(!i.has(p)){const g=aV(n.get(p),r.get(p));g!==null&&h.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return Q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xne(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Q.resolve(Ya());let a=-1,l=i;return o.next(c=>Q.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?Q.resolve():this.remoteDocumentCache.getEntry(e,u).next(p=>{l=l.insert(u,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,tt())).next(u=>({batchId:a,changes:eV(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next(r=>{let s=Ad();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Ad();return this.indexManager.getCollectionParents(e,i).next(a=>Q.forEach(a,l=>{const c=function(h,p){return new hy(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(u=>{u.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,rr.newInvalidDocument(u)))});let a=Ad();return o.forEach((l,c)=>{const u=i.get(l);u!==void 0&&Yd(u.mutation,c,Ds.empty(),Cn.now()),my(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mre{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:li(s.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:cre(s.bundledQuery),readTime:li(s.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gre{constructor(){this.overlays=new Qt(Ie.comparator),this.Ir=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ya();return Q.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const s=Ya(),i=n.length+1,o=new Ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Qt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=Ya(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Ya(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return Q.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Vne(n,r));let i=this.Ir.get(n);i===void 0&&(i=tt(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vre{constructor(){this.sessionToken=Wn.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.Tr=new zn(Pn.Er),this.dr=new zn(Pn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Pn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Pn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Ie(new Bt([])),r=new Pn(n,e),s=new Pn(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ie(new Bt([])),r=new Pn(n,e),s=new Pn(n,e+1);let i=tt();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Pn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ie.comparator(e.key,n.key)||ft(e.wr,n.wr)}static Ar(e,n){return ft(e.wr,n.wr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yre{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new zn(Pn.Er)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Lne(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new Pn(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return Q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pn(n,0),s=new Pn(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),Q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new zn(ft);return n.forEach(s=>{const i=new Pn(s,0),o=new Pn(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),Q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Ie.isDocumentKey(i)||(i=i.child(""));const o=new Pn(new Ie(i),0);let a=new zn(ft);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.wr)),!0)},o),Q.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){St(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Q.forEach(n.mutations,s=>{const i=new Pn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Pn(n,0),s=this.br.firstAfterOrEqual(r);return Q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wre{constructor(e){this.Mr=e,this.docs=function(){return new Qt(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():rr.newInvalidDocument(n))}getEntries(e,n){let r=to();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():rr.newInvalidDocument(s))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=to();const o=n.path,a=new Ie(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Zte(Jte(u),r)<=0||(s.has(u.key)||my(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return Q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ve()}Or(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new xre(this)}getSize(e){return Q.resolve(this.size)}}class xre extends hre{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _re{constructor(e){this.persistence=e,this.Nr=new Mu(n=>mS(n),gS),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.Lr=0,this.Br=new _S,this.targetCount=0,this.kr=du.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new du(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Kn(n),Q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),Q.waitFor(i).next(()=>s)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),Q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ere{constructor(e,n){this.qr={},this.overlays={},this.Qr=new dS(0),this.Kr=!1,this.Kr=!0,this.$r=new vre,this.referenceDelegate=e(this),this.Ur=new _re(this),this.indexManager=new ure,this.remoteDocumentCache=function(s){return new wre(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new lre(n),this.Gr=new mre(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new gre,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new yre(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const s=new bre(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return Q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class bre extends tne{constructor(e){super(),this.currentSequenceNumber=e}}class ES{constructor(e){this.persistence=e,this.Jr=new _S,this.Yr=null}static Zr(e){return new ES(e)}get Xr(){if(this.Yr)return this.Yr;throw Ve()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Xr,r=>{const s=Ie.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,Ke.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Q.or([()=>Q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=tt(),s=tt();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new bS(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sre{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tre{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return x3()?8:nne(ar())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Sre;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(fd()<=st.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Yl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Q.resolve()):(fd()<=st.DEBUG&&we("QueryEngine","Query:",Yl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(fd()<=st.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Yl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ai(n))):Q.resolve())}Yi(e,n){if(pI(n))return Q.resolve(null);let r=ai(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=r_(n,null,"F"),r=ai(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=tt(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,r_(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,s){return pI(n)||s.isEqual(Ke.min())?Q.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?Q.resolve(null):(fd()<=st.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Yl(n)),this.rs(e,o,n,Xte(s,-1)).next(a=>a))})}ts(e,n){let r=new zn(J2(e));return n.forEach((s,i)=>{my(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return fd()<=st.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Yl(n)),this.Ji.getDocumentsMatchingQuery(e,n,ma.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cre{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Qt(ft),this._s=new Mu(i=>mS(i),gS),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pre(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Are(t,e,n,r){return new Cre(t,e,n,r)}async function _V(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=tt();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function Rre(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,p=h.keys();let g=Q.resolve();return p.forEach(w=>{g=g.next(()=>u.getEntry(l,w)).next(v=>{const _=c.docVersions.get(w);St(_!==null),v.version.compareTo(_)<0&&(h.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),u.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=tt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function EV(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Ire(t,e){const n=Fe(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((u,h)=>{const p=s.get(h);if(!p)return;a.push(n.Ur.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(i,u.addedDocuments,h)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(Wn.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,r)),s=s.insert(h,g),function(v,_,x){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,g,u)&&a.push(n.Ur.updateTargetData(i,g))});let l=to(),c=tt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(Pre(i,o,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual(Ke.min())){const u=n.Ur.getLastRemoteSnapshotVersion(i).next(h=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return Q.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.os=s,i))}function Pre(t,e,n){let r=tt(),s=tt();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=to();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Ke.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):we("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function Nre(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Dre(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,Q.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new Ko(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function l_(t,e,n){const r=Fe(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Kf(o))throw o;we("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function TI(t,e,n){const r=Fe(t);let s=Ke.min(),i=tt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=Fe(l),p=h._s.get(u);return p!==void 0?Q.resolve(h.os.get(p)):h.Ur.getTargetData(c,u)}(r,o,ai(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:Ke.min(),n?i:tt())).next(a=>(kre(r,Ene(e),a),{documents:a,Ts:i})))}function kre(t,e,n){let r=t.us.get(e)||Ke.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class CI{constructor(){this.activeTargetIds=Rne()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Mre{constructor(){this.so=new CI,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new CI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ore{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){we("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){we("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yp=null;function s0(){return Yp===null?Yp=function(){return 268435456+Math.round(2147483648*Math.random())}():Yp++,"0x"+Yp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jre={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lre{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jn="WebChannelConnection";class Vre extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=s0(),l=this.xo(n,r.toUriEncodedString());we("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(n,l,c,s).then(u=>(we("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw au("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Du}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=jre[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=s0();return new Promise((o,a)=>{const l=new k2;l.setWithCredentials(!0),l.listenOnce(O2.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Im.NO_ERROR:const u=l.getResponseJson();we(Jn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case Im.TIMEOUT:we(Jn,`RPC '${e}' ${i} timed out`),a(new Ae(X.DEADLINE_EXCEEDED,"Request time out"));break;case Im.HTTP_ERROR:const h=l.getStatus();if(we(Jn,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const w=function(_){const x=_.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(x)>=0?x:X.UNKNOWN}(g.status);a(new Ae(w,g.message))}else a(new Ae(X.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Ae(X.UNAVAILABLE,"Connection failed."));break;default:Ve()}}finally{we(Jn,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);we(Jn,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=s0(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=V2(),a=L2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new M2({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");we(Jn,`Creating RPC '${e}' stream ${s}: ${u}`,l);const h=o.createWebChannel(u,l);let p=!1,g=!1;const w=new Lre({Io:_=>{g?we(Jn,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(p||(we(Jn,`Opening RPC '${e}' stream ${s} transport.`),h.open(),p=!0),we(Jn,`RPC '${e}' stream ${s} sending:`,_),h.send(_))},To:()=>h.close()}),v=(_,x,y)=>{_.listen(x,b=>{try{y(b)}catch(C){setTimeout(()=>{throw C},0)}})};return v(h,Cd.EventType.OPEN,()=>{g||(we(Jn,`RPC '${e}' stream ${s} transport opened.`),w.yo())}),v(h,Cd.EventType.CLOSE,()=>{g||(g=!0,we(Jn,`RPC '${e}' stream ${s} transport closed`),w.So())}),v(h,Cd.EventType.ERROR,_=>{g||(g=!0,au(Jn,`RPC '${e}' stream ${s} transport errored:`,_),w.So(new Ae(X.UNAVAILABLE,"The operation could not be completed")))}),v(h,Cd.EventType.MESSAGE,_=>{var x;if(!g){const y=_.data[0];St(!!y);const b=y,C=b.error||((x=b[0])===null||x===void 0?void 0:x.error);if(C){we(Jn,`RPC '${e}' stream ${s} received error:`,C);const P=C.status;let O=function(I){const R=dn[I];if(R!==void 0)return uV(R)}(P),T=C.message;O===void 0&&(O=X.INTERNAL,T="Unknown error status: "+P+" with message "+C.message),g=!0,w.So(new Ae(O,T)),h.close()}else we(Jn,`RPC '${e}' stream ${s} received:`,y),w.bo(y)}}),v(a,j2.STAT_EVENT,_=>{_.stat===Jx.PROXY?we(Jn,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===Jx.NOPROXY&&we(Jn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function i0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(t){return new Gne(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&we("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e,n,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new bV(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(eo(n.toString()),eo("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new Ae(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return we("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(we("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fre extends SV{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Xne(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ke.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ke.min():o.readTime?li(o.readTime):Ke.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=a_(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=n_(l)?{documents:ere(i,l)}:{query:vV(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=fV(i,o.resumeToken);const c=s_(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ke.min())>0){a.readTime=$g(i,o.snapshotVersion.toTimestamp());const c=s_(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=rre(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=a_(this.serializer),n.removeTarget=e,this.a_(n)}}class Ure extends SV{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return St(!!e.streamToken),this.lastStreamToken=e.streamToken,St(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){St(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Zne(e.writeResults,e.commitTime),r=li(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=a_(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Jne(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bre extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new Ae(X.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,i_(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ae(X.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,i_(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ae(X.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class $re{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(eo(n),this.D_=!1):we("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zre{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ll(this)&&(we("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Fe(l);c.L_.add(4),await qf(c),c.q_.set("Unknown"),c.L_.delete(4),await xy(c)}(this))})}),this.q_=new $re(r,s)}}async function xy(t){if(Ll(t))for(const e of t.B_)await e(!0)}async function qf(t){for(const e of t.B_)await e(!1)}function TV(t,e){const n=Fe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),AS(n)?CS(n):Ou(n).r_()&&TS(n,e))}function SS(t,e){const n=Fe(t),r=Ou(n);n.N_.delete(e),r.r_()&&CV(n,e),n.N_.size===0&&(r.r_()?r.o_():Ll(n)&&n.q_.set("Unknown"))}function TS(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ou(t).A_(e)}function CV(t,e){t.Q_.xe(e),Ou(t).R_(e)}function CS(t){t.Q_=new Kne({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ou(t).start(),t.q_.v_()}function AS(t){return Ll(t)&&!Ou(t).n_()&&t.N_.size>0}function Ll(t){return Fe(t).L_.size===0}function AV(t){t.Q_=void 0}async function Kre(t){t.q_.set("Online")}async function Wre(t){t.N_.forEach((e,n)=>{TS(t,e)})}async function Hre(t,e){AV(t),AS(t)?(t.q_.M_(e),CS(t)):t.q_.set("Unknown")}async function qre(t,e,n){if(t.q_.set("Online"),e instanceof hV&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){we("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zg(t,r)}else if(e instanceof Dm?t.Q_.Ke(e):e instanceof dV?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ke.min()))try{const r=await EV(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.N_.get(c);u&&i.N_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.N_.get(l);if(!u)return;i.N_.set(l,u.withResumeToken(Wn.EMPTY_BYTE_STRING,u.snapshotVersion)),CV(i,l);const h=new Ko(u.target,l,c,u.sequenceNumber);TS(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){we("RemoteStore","Failed to raise snapshot:",r),await zg(t,r)}}async function zg(t,e,n){if(!Kf(e))throw e;t.L_.add(1),await qf(t),t.q_.set("Offline"),n||(n=()=>EV(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{we("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await xy(t)})}function RV(t,e){return e().catch(n=>zg(t,n,e))}async function _y(t){const e=Fe(t),n=va(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Gre(e);)try{const s=await Nre(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,Qre(e,s)}catch(s){await zg(e,s)}IV(e)&&PV(e)}function Gre(t){return Ll(t)&&t.O_.length<10}function Qre(t,e){t.O_.push(e);const n=va(t);n.r_()&&n.V_&&n.m_(e.mutations)}function IV(t){return Ll(t)&&!va(t).n_()&&t.O_.length>0}function PV(t){va(t).start()}async function Yre(t){va(t).p_()}async function Xre(t){const e=va(t);for(const n of t.O_)e.m_(n.mutations)}async function Jre(t,e,n){const r=t.O_.shift(),s=yS.from(r,e,n);await RV(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await _y(t)}async function Zre(t,e){e&&va(t).V_&&await async function(r,s){if(function(o){return Bne(o)&&o!==X.ABORTED}(s.code)){const i=r.O_.shift();va(r).s_(),await RV(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await _y(r)}}(t,e),IV(t)&&PV(t)}async function RI(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),we("RemoteStore","RemoteStore received new credentials");const r=Ll(n);n.L_.add(3),await qf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await xy(n)}async function ese(t,e){const n=Fe(t);e?(n.L_.delete(2),await xy(n)):e||(n.L_.add(2),await qf(n),n.q_.set("Unknown"))}function Ou(t){return t.K_||(t.K_=function(n,r,s){const i=Fe(n);return i.w_(),new Fre(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:Kre.bind(null,t),Ro:Wre.bind(null,t),mo:Hre.bind(null,t),d_:qre.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),AS(t)?CS(t):t.q_.set("Unknown")):(await t.K_.stop(),AV(t))})),t.K_}function va(t){return t.U_||(t.U_=function(n,r,s){const i=Fe(n);return i.w_(),new Ure(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Yre.bind(null,t),mo:Zre.bind(null,t),f_:Xre.bind(null,t),g_:Jre.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await _y(t)):(await t.U_.stop(),t.O_.length>0&&(we("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new RS(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function IS(t,e){if(eo("AsyncQueue",`${e}: ${t}`),Kf(t))return new Ae(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ie.comparator(n.key,r.key):(n,r)=>Ie.comparator(n.key,r.key),this.keyedMap=Ad(),this.sortedSet=new Qt(this.comparator)}static emptySet(e){return new Pc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Pc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Pc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(){this.W_=new Qt(Ie.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ve():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class hu{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new hu(e,n,Pc.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&py(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tse{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class nse{constructor(){this.queries=PI(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Fe(n),i=s.queries;s.queries=PI(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Ae(X.ABORTED,"Firestore shutting down"))}}function PI(){return new Mu(t=>X2(t),py)}async function NV(t,e){const n=Fe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new tse,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=IS(o,`Initialization of query '${Yl(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&PS(n)}async function DV(t,e){const n=Fe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function rse(t,e){const n=Fe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&PS(n)}function sse(t,e,n){const r=Fe(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function PS(t){t.Y_.forEach(e=>{e.next()})}var c_,NI;(NI=c_||(c_={})).ea="default",NI.Cache="cache";class kV{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new hu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=hu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==c_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e){this.key=e}}class OV{constructor(e){this.key=e}}class ise{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=tt(),this.mutatedKeys=tt(),this.Aa=J2(e),this.Ra=new Pc(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new II,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,h)=>{const p=s.get(u),g=my(this.query,h)?h:null,w=!!p&&this.mutatedKeys.has(p.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let _=!1;p&&g?p.data.isEqual(g.data)?w!==v&&(r.track({type:3,doc:g}),_=!0):this.ga(p,g)||(r.track({type:2,doc:g}),_=!0,(l&&this.Aa(g,l)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),_=!0):p&&!g&&(r.track({type:1,doc:p}),_=!0,(l||c)&&(a=!0)),_&&(g?(o=o.add(g),i=v?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,h)=>function(g,w){const v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve()}};return v(g)-v(w)}(u.type,h.type)||this.Aa(u.doc,h.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new hu(this.query,e.Ra,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new II,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=tt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new OV(r))}),this.da.forEach(r=>{e.has(r)||n.push(new MV(r))}),n}ba(e){this.Ta=e.Ts,this.da=tt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return hu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class ose{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ase{constructor(e){this.key=e,this.va=!1}}class lse{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Mu(a=>X2(a),py),this.Ma=new Map,this.xa=new Set,this.Oa=new Qt(Ie.comparator),this.Na=new Map,this.La=new _S,this.Ba={},this.ka=new Map,this.qa=du.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function cse(t,e,n=!0){const r=BV(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await jV(r,e,n,!0),s}async function use(t,e){const n=BV(t);await jV(n,e,!0,!1)}async function jV(t,e,n,r){const s=await Dre(t.localStore,ai(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await dse(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&TV(t.remoteStore,s),a}async function dse(t,e,n,r,s){t.Ka=(h,p,g)=>async function(v,_,x,y){let b=_.view.ma(x);b.ns&&(b=await TI(v.localStore,_.query,!1).then(({documents:T})=>_.view.ma(T,b)));const C=y&&y.targetChanges.get(_.targetId),P=y&&y.targetMismatches.get(_.targetId)!=null,O=_.view.applyChanges(b,v.isPrimaryClient,C,P);return kI(v,_.targetId,O.wa),O.snapshot}(t,h,p,g);const i=await TI(t.localStore,e,!0),o=new ise(e,i.Ts),a=o.ma(i.documents),l=Hf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);kI(t,n,c.wa);const u=new ose(e,n,o);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function hse(t,e,n){const r=Fe(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!py(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await l_(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&SS(r.remoteStore,s.targetId),u_(r,s.targetId)}).catch(zf)):(u_(r,s.targetId),await l_(r.localStore,s.targetId,!0))}async function fse(t,e){const n=Fe(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),SS(n.remoteStore,r.targetId))}async function pse(t,e,n){const r=_se(t);try{const s=await function(o,a){const l=Fe(o),c=Cn.now(),u=a.reduce((g,w)=>g.add(w.key),tt());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=to(),v=tt();return l.cs.getEntries(g,u).next(_=>{w=_,w.forEach((x,y)=>{y.isValidDocument()||(v=v.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,w)).next(_=>{h=_;const x=[];for(const y of a){const b=One(y,h.get(y.key).overlayedDocument);b!=null&&x.push(new jl(y.key,b,z2(b.value.mapValue),$i.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,x,a)}).next(_=>{p=_;const x=_.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(g,_.batchId,x)})}).then(()=>({batchId:p.batchId,changes:eV(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Qt(ft)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,s.batchId,n),await Gf(r,s.changes),await _y(r.remoteStore)}catch(s){const i=IS(s,"Failed to persist write");n.reject(i)}}async function LV(t,e){const n=Fe(t);try{const r=await Ire(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(St(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?St(o.va):s.removedDocuments.size>0&&(St(o.va),o.va=!1))}),await Gf(n,r,e)}catch(r){await zf(r)}}function DI(t,e,n){const r=Fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Fe(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const p of h.j_)p.Z_(a)&&(c=!0)}),c&&PS(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function mse(t,e,n){const r=Fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new Qt(Ie.comparator);o=o.insert(i,rr.newNoDocument(i,Ke.min()));const a=tt().add(i),l=new yy(Ke.min(),new Map,new Qt(ft),o,a);await LV(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),NS(r)}else await l_(r.localStore,e,!1).then(()=>u_(r,e,n)).catch(zf)}async function gse(t,e){const n=Fe(t),r=e.batch.batchId;try{const s=await Rre(n.localStore,e);FV(n,r,null),VV(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gf(n,s)}catch(s){await zf(s)}}async function vse(t,e,n){const r=Fe(t);try{const s=await function(o,a){const l=Fe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(St(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);FV(r,e,n),VV(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Gf(r,s)}catch(s){await zf(s)}}function VV(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function FV(t,e,n){const r=Fe(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function u_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||UV(t,r)})}function UV(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(SS(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),NS(t))}function kI(t,e,n){for(const r of n)r instanceof MV?(t.La.addReference(r.key,e),yse(t,r)):r instanceof OV?(we("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||UV(t,r.key)):Ve()}function yse(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(we("SyncEngine","New document in limbo: "+n),t.xa.add(r),NS(t))}function NS(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ie(Bt.fromString(e)),r=t.qa.next();t.Na.set(r,new ase(n)),t.Oa=t.Oa.insert(n,r),TV(t.remoteStore,new Ko(ai(fy(n.path)),r,"TargetPurposeLimboResolution",dS.oe))}}async function Gf(t,e,n){const r=Fe(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){s.push(c);const h=bS.Wi(l.targetId,c);i.push(h)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,c){const u=Fe(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Q.forEach(c,p=>Q.forEach(p.$i,g=>u.persistence.referenceDelegate.addReference(h,p.targetId,g)).next(()=>Q.forEach(p.Ui,g=>u.persistence.referenceDelegate.removeReference(h,p.targetId,g)))))}catch(h){if(!Kf(h))throw h;we("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const g=u.os.get(p),w=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(w);u.os=u.os.insert(p,v)}}}(r.localStore,i))}async function wse(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){we("SyncEngine","User change. New user:",e.toKey());const r=await _V(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new Ae(X.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gf(n,r.hs)}}function xse(t,e){const n=Fe(t),r=n.Na.get(e);if(r&&r.va)return tt().add(r.key);{let s=tt();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function BV(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=LV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xse.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mse.bind(null,e),e.Ca.d_=rse.bind(null,e.eventManager),e.Ca.$a=sse.bind(null,e.eventManager),e}function _se(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gse.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vse.bind(null,e),e}class MI{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=wy(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Are(this.persistence,new Tre,e.initialUser,this.serializer)}createPersistence(e){return new Ere(ES.Zr,this.serializer)}createSharedClientState(e){return new Mre}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Ese{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>DI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wse.bind(null,this.syncEngine),await ese(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new nse}()}createDatastore(e){const n=wy(e.databaseInfo.databaseId),r=function(i){return new Vre(i)}(e.databaseInfo);return function(i,o,a,l){return new Bre(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new zre(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>DI(this.syncEngine,n,0),function(){return AI.D()?new AI:new Ore}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,u){const h=new lse(s,i,o,a,l,c);return u&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Fe(s);we("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await qf(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):eo("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bse{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=tr.UNAUTHENTICATED,this.clientId=U2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{we("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(we("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ae(X.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=IS(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function o0(t,e){t.asyncQueue.verifyOperationInProgress(),we("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await _V(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function OI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Tse(t);we("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>RI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>RI(e.remoteStore,s)),t._onlineComponents=e}function Sse(t){return t.name==="FirebaseError"?t.code===X.FAILED_PRECONDITION||t.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Tse(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we("FirestoreClient","Using user provided OfflineComponentProvider");try{await o0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Sse(n))throw n;au("Error using user provided cache. Falling back to memory cache: "+n),await o0(t,new MI)}}else we("FirestoreClient","Using default OfflineComponentProvider"),await o0(t,new MI);return t._offlineComponents}async function DS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we("FirestoreClient","Using user provided OnlineComponentProvider"),await OI(t,t._uninitializedComponentsProvider._online)):(we("FirestoreClient","Using default OnlineComponentProvider"),await OI(t,new Ese))),t._onlineComponents}function Cse(t){return DS(t).then(e=>e.syncEngine)}function Ase(t){return DS(t).then(e=>e.datastore)}async function d_(t){const e=await DS(t),n=e.eventManager;return n.onListen=cse.bind(null,e.syncEngine),n.onUnlisten=hse.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=use.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=fse.bind(null,e.syncEngine),n}function Rse(t,e,n={}){const r=new Bi;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new $V({next:p=>{o.enqueueAndForget(()=>DV(i,h));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new Ae(X.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?c.reject(new Ae(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new kV(fy(a.path),u,{includeMetadataChanges:!0,_a:!0});return NV(i,h)}(await d_(t),t.asyncQueue,e,n,r)),r.promise}function Ise(t,e,n){const r=new Bi;return t.asyncQueue.enqueueAndForget(async()=>{try{const s=await Ase(t);r.resolve(async function(o,a,l){var c;const u=Fe(o),{request:h,ut:p,parent:g}=tre(u.serializer,_ne(a),l);u.connection.Fo||delete h.parent;const w=(await u.Lo("RunAggregationQuery",u.serializer.databaseId,g,h,1)).filter(_=>!!_.result);St(w.length===1);const v=(c=w[0].result)===null||c===void 0?void 0:c.aggregateFields;return Object.keys(v).reduce((_,x)=>(_[p[x]]=v[x],_),{})}(s,e,n))}catch(s){r.reject(s)}}),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zV(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(t,e,n){if(!n)throw new Ae(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Pse(t,e,n,r){if(e===!0&&r===!0)throw new Ae(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function LI(t){if(!Ie.isDocumentKey(t))throw new Ae(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function VI(t){if(Ie.isDocumentKey(t))throw new Ae(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kS(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve()}function zi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ae(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kS(t);throw new Ae(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ae(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Pse("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zV((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ey{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ae(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Ae(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $te;switch(r.type){case"firstParty":return new Hte(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ae(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=jI.get(n);r&&(we("ComponentProvider","Removing Datastore"),jI.delete(n),r.terminate())}(this),Promise.resolve()}}function Nse(t,e,n,r={}){var s;const i=(t=zi(t,Ey))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&au("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=tr.MOCK_USER;else{a=pk(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Ae(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new tr(c)}t._authCredentials=new zte(new F2(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WV=class HV{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new HV(this.firestore,e,this._query)}};class Dr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new na(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dr(this.firestore,e,this._key)}}class na extends WV{constructor(e,n,r){super(e,n,fy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dr(this.firestore,null,new Ie(e))}withConverter(e){return new na(this.firestore,e,this._path)}}function Dse(t,e,...n){if(t=An(t),KV("collection","path",e),t instanceof Ey){const r=Bt.fromString(e,...n);return VI(r),new na(t,null,r)}{if(!(t instanceof Dr||t instanceof na))throw new Ae(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Bt.fromString(e,...n));return VI(r),new na(t.firestore,null,r)}}function MS(t,e,...n){if(t=An(t),arguments.length===1&&(e=U2.newId()),KV("doc","path",e),t instanceof Ey){const r=Bt.fromString(e,...n);return LI(r),new Dr(t,null,new Ie(r))}{if(!(t instanceof Dr||t instanceof na))throw new Ae(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Bt.fromString(e,...n));return LI(r),new Dr(t.firestore,t instanceof na?t.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kse{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new bV(this,"async_queue_retry"),this.Eu=()=>{const n=i0();n&&we("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=i0();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=i0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new Bi;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Kf(e))throw e;we("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw eo("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const s=RS.createAndSchedule(this,e,n,r,i=>this.Vu(i));return this.lu.push(s),s}du(){this.hu&&Ve()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}function UI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class fu extends Ey{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new kse}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||qV(this),this._firestoreClient.terminate()}}function Mse(t,e){const n=typeof t=="object"?t:BE(),r=typeof t=="string"?t:"(default)",s=Tv(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=dk("firestore");i&&Nse(s,...i)}return s}function by(t){return t._firestoreClient||qV(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function qV(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,u){return new one(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,zV(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new bse(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ose{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class jse{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pu(Wn.fromBase64String(e))}catch(n){throw new Ae(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pu(Wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ft(this._lat,e._lat)||ft(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lse=/^__.*__$/;class Vse{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new jl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wf(e,this.data,n,this.fieldTransforms)}}function QV(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve()}}class VS{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.yu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new VS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.vu(e),s}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.yu(),s}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Kg(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(QV(this.wu)&&Lse.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class Fse{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||wy(e)}Nu(e,n,r,s=!1){return new VS({wu:e,methodName:n,Ou:r,path:Bn.emptyPath(),Du:!1,xu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Use(t){const e=t._freezeSettings(),n=wy(t._databaseId);return new Fse(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Bse(t,e,n,r,s,i={}){const o=t.Nu(i.merge||i.mergeFields?2:0,e,n,s);ZV("Data must be an object, but it was:",o,r);const a=XV(r,o);let l,c;if(i.merge)l=new Ds(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const p=eF(e,h,n);if(!o.contains(p))throw new Ae(X.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);zse(u,p)||u.push(p)}l=new Ds(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new Vse(new ds(a),l,c)}function YV(t,e){if(JV(t=An(t)))return ZV("Unsupported field value:",e,t),XV(t,e);if(t instanceof GV)return function(r,s){if(!QV(s.wu))throw s.Mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=YV(a,s.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=An(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Ine(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Cn.fromDate(r);return{timestampValue:$g(s.serializer,i)}}if(r instanceof Cn){const i=new Cn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$g(s.serializer,i)}}if(r instanceof jS)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pu)return{bytesValue:fV(s.serializer,r._byteString)};if(r instanceof Dr){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:xS(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof LS)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return vS(a.serializer,l)})}}}}}}(r,s);throw s.Mu(`Unsupported field value: ${kS(r)}`)}(t,e)}function XV(t,e){const n={};return B2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ku(t,(r,s)=>{const i=YV(s,e.bu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function JV(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Cn||t instanceof jS||t instanceof pu||t instanceof Dr||t instanceof GV||t instanceof LS)}function ZV(t,e,n){if(!JV(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=kS(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function eF(t,e,n){if((e=An(e))instanceof OS)return e._internalPath;if(typeof e=="string")return tF(t,e);throw Kg("Field path arguments must be of type string or ",t,!1,void 0,n)}const $se=new RegExp("[~\\*/\\[\\]]");function tF(t,e,n){if(e.search($se)>=0)throw Kg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new OS(...e.split("."))._internalPath}catch{throw Kg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Kg(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Ae(X.INVALID_ARGUMENT,a+t+l)}function zse(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Dr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Kse(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rF("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Kse extends nF{data(){return super.data()}}function rF(t,e){return typeof e=="string"?tF(t,e):e instanceof OS?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wse(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ae(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hse{convertValue(e,n="none"){switch(bl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return on(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(El(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ku(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>on(o.doubleValue));return new LS(i)}convertGeoPoint(e){return new jS(on(e.latitude),on(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=fS(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bh(e));default:return null}}convertTimestamp(e){const n=ga(e);return new Cn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Bt.fromString(e);St(xV(r));const s=new $h(r.get(1),r.get(3)),i=new Ie(r.popFirst(5));return s.isEqual(n)||eo(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qse(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function Gse(t){return new Ose("avg",eF("average",t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sF extends nF{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new km(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(rF("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class km extends sF{data(e={}){return super.data(e)}}class Qse{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Id(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new km(this._firestore,this._userDataWriter,r.key,r,new Id(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new km(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Id(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new km(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Id(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Yse(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Yse(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xse(t){t=zi(t,Dr);const e=zi(t.firestore,fu);return Rse(by(e),t._key).then(n=>iF(e,t,n))}class FS extends Hse{constructor(e){super(),this.firestore=e}convertBytes(e){return new pu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dr(this.firestore,null,n)}}function Jse(t,e,n){t=zi(t,Dr);const r=zi(t.firestore,fu),s=qse(t.converter,e,n);return eie(r,[Bse(Use(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,$i.none())])}function Zse(t,...e){var n,r,s;t=An(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||UI(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(UI(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let l,c,u;if(t instanceof Dr)c=zi(t.firestore,fu),u=fy(t._key.path),l={next:h=>{e[o]&&e[o](iF(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=zi(t,WV);c=zi(h.firestore,fu),u=h._query;const p=new FS(c);l={next:g=>{e[o]&&e[o](new Qse(c,p,h,g))},error:e[o+1],complete:e[o+2]},Wse(t._query)}return function(p,g,w,v){const _=new $V(v),x=new kV(g,_,w);return p.asyncQueue.enqueueAndForget(async()=>NV(await d_(p),x)),()=>{_.za(),p.asyncQueue.enqueueAndForget(async()=>DV(await d_(p),x))}}(by(c),u,a,l)}function eie(t,e){return function(r,s){const i=new Bi;return r.asyncQueue.enqueueAndForget(async()=>pse(await Cse(r),s,i)),i.promise}(by(t),e)}function iF(t,e,n){const r=n.docs.get(e._key),s=new FS(t);return new sF(t,s,e._key,r,new Id(n.hasPendingWrites,n.fromCache),e.converter)}function tie(t,e){const n=zi(t.firestore,fu),r=by(n),s=sne(e,(i,o)=>new Fne(o,i.aggregateType,i._internalFieldPath));return Ise(r,t._query,s).then(i=>function(a,l,c){const u=new FS(a);return new jse(l,u,c)}(n,t,i))}(function(e,n=!0){(function(s){Du=s})(Pl),vl(new ia("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new fu(new Kte(r.getProvider("auth-internal")),new Gte(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ae(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $h(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),ni(sI,"4.7.2",e),ni(sI,"4.7.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF="firebasestorage.googleapis.com",aF="storageBucket",nie=2*60*1e3,rie=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn extends ys{constructor(e,n,r=0){super(a0(e),`Firebase Storage: ${n} (${a0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,nn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return a0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var tn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(tn||(tn={}));function a0(t){return"storage/"+t}function US(){const t="An unknown error occurred, please check the error payload for server response.";return new nn(tn.UNKNOWN,t)}function sie(t){return new nn(tn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function iie(t){return new nn(tn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function oie(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new nn(tn.UNAUTHENTICATED,t)}function aie(){return new nn(tn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function lie(t){return new nn(tn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function cie(){return new nn(tn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uie(){return new nn(tn.CANCELED,"User canceled the upload/download.")}function die(t){return new nn(tn.INVALID_URL,"Invalid URL '"+t+"'.")}function hie(t){return new nn(tn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function fie(){return new nn(tn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+aF+"' property when initializing the app?")}function pie(){return new nn(tn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function mie(){return new nn(tn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function gie(t){return new nn(tn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function h_(t){return new nn(tn.INVALID_ARGUMENT,t)}function lF(){return new nn(tn.APP_DELETED,"The Firebase app was deleted.")}function vie(t){return new nn(tn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Xd(t,e){return new nn(tn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function pd(t){throw new nn(tn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Kr.makeFromUrl(e,n)}catch{return new Kr(e,"")}if(r.path==="")return r;throw hie(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(C){C.path_=decodeURIComponent(C.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${u}/b/${s}/o${p}`,"i"),w={bucket:1,path:3},v=n===oF?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",x=new RegExp(`^https?://${v}/${s}/${_}`,"i"),b=[{regex:a,indices:l,postModify:i},{regex:g,indices:w,postModify:c},{regex:x,indices:{bucket:1,path:2},postModify:c}];for(let C=0;C<b.length;C++){const P=b[C],O=P.regex.exec(e);if(O){const T=O[P.indices.bucket];let E=O[P.indices.path];E||(E=""),r=new Kr(T,E),P.postModify(r);break}}if(r==null)throw die(e);return r}}class yie{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wie(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(..._){c||(c=!0,e.apply(null,_))}function h(_){s=setTimeout(()=>{s=null,t(g,l())},_)}function p(){i&&clearTimeout(i)}function g(_,...x){if(c){p();return}if(_){p(),u.call(null,_,...x);return}if(l()||o){p(),u.call(null,_,...x);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,h(b)}let w=!1;function v(_){w||(w=!0,p(),!c&&(s!==null?(_||(a=2),clearTimeout(s),h(0)):_||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,v(!0)},n),v}function xie(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ie(t){return t!==void 0}function Eie(t){return typeof t=="object"&&!Array.isArray(t)}function BS(t){return typeof t=="string"||t instanceof String}function BI(t){return $S()&&t instanceof Blob}function $S(){return typeof Blob<"u"}function $I(t,e,n,r){if(r<e)throw h_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw h_(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function cF(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var dl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(dl||(dl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bie(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sie{constructor(e,n,r,s,i,o,a,l,c,u,h,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,w)=>{this.resolve_=g,this.reject_=w,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Xp(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===dl.NO_ERROR,l=i.getStatus();if(!a||bie(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===dl.ABORT;r(!1,new Xp(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Xp(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());_ie(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=US();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?lF():uie();o(l)}else{const l=cie();o(l)}};this.canceled_?n(!1,new Xp(!1,null,!0)):this.backoffId_=wie(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&xie(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Xp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Tie(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Cie(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Aie(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Rie(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Iie(t,e,n,r,s,i,o=!0){const a=cF(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return Aie(c,e),Tie(c,n),Cie(c,i),Rie(c,r),new Sie(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pie(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Nie(...t){const e=Pie();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if($S())return new Blob(t);throw new nn(tn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Die(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kie(t){if(typeof atob>"u")throw gie("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class l0{constructor(e,n){this.data=e,this.contentType=n||null}}function Mie(t,e){switch(t){case Js.RAW:return new l0(uF(e));case Js.BASE64:case Js.BASE64URL:return new l0(dF(t,e));case Js.DATA_URL:return new l0(jie(e),Lie(e))}throw US()}function uF(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Oie(t){let e;try{e=decodeURIComponent(t)}catch{throw Xd(Js.DATA_URL,"Malformed data URL.")}return uF(e)}function dF(t,e){switch(t){case Js.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Xd(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Js.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Xd(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=kie(e)}catch(s){throw s.message.includes("polyfill")?s:Xd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class hF{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Xd(Js.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Vie(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function jie(t){const e=new hF(t);return e.base64?dF(Js.BASE64,e.rest):Oie(e.rest)}function Lie(t){return new hF(t).contentType}function Vie(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,n){let r=0,s="";BI(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(BI(this.data_)){const r=this.data_,s=Die(r,e,n);return s===null?null:new Po(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Po(r,!0)}}static getBlob(...e){if($S()){const n=e.map(r=>r instanceof Po?r.data_:r);return new Po(Nie.apply(null,n))}else{const n=e.map(o=>BS(o)?Mie(Js.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new Po(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(t){let e;try{e=JSON.parse(t)}catch{return null}return Eie(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fie(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Uie(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function pF(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bie(t,e){return e}class cr{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||Bie}}let Jp=null;function $ie(t){return!BS(t)||t.length<2?t:pF(t)}function zS(){if(Jp)return Jp;const t=[];t.push(new cr("bucket")),t.push(new cr("generation")),t.push(new cr("metageneration")),t.push(new cr("name","fullPath",!0));function e(i,o){return $ie(o)}const n=new cr("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new cr("size");return s.xform=r,t.push(s),t.push(new cr("timeCreated")),t.push(new cr("updated")),t.push(new cr("md5Hash",null,!0)),t.push(new cr("cacheControl",null,!0)),t.push(new cr("contentDisposition",null,!0)),t.push(new cr("contentEncoding",null,!0)),t.push(new cr("contentLanguage",null,!0)),t.push(new cr("contentType",null,!0)),t.push(new cr("metadata","customMetadata",!0)),Jp=t,Jp}function zie(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Kr(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function Kie(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return zie(r,t),r}function mF(t,e,n){const r=fF(e);return r===null?null:Kie(t,r,n)}function Wie(t,e,n,r){const s=fF(e);if(s===null||!BS(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(c=>{const u=t.bucket,h=t.fullPath,p="/b/"+o(u)+"/o/"+o(h),g=ju(p,n,r),w=cF({alt:"media",token:c});return g+w})[0]}function Hie(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class Qf{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gF(t){if(!t)throw US()}function vF(t,e){function n(r,s){const i=mF(t,s,e);return gF(i!==null),i}return n}function qie(t,e){function n(r,s){const i=mF(t,s,e);return gF(i!==null),Wie(i,s,t.host,t._protocol)}return n}function yF(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=aie():s=oie():n.getStatus()===402?s=iie(t.bucket):n.getStatus()===403?s=lie(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function Sy(t){const e=yF(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=sie(t.path)),i.serverResponse=s.serverResponse,i}return n}function Gie(t,e,n){const r=e.fullServerUrl(),s=ju(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new Qf(s,i,vF(t,n),o);return a.errorHandler=Sy(e),a}function Qie(t,e,n){const r=e.fullServerUrl(),s=ju(r,t.host,t._protocol)+"?alt=media",i="GET",o=t.maxOperationRetryTime,a=new Qf(s,i,(l,c)=>c,o);return a.errorHandler=Sy(e),a}function Yie(t,e,n){const r=e.fullServerUrl(),s=ju(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new Qf(s,i,qie(t,n),o);return a.errorHandler=Sy(e),a}function Xie(t,e){const n=e.fullServerUrl(),r=ju(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(l,c){}const a=new Qf(r,s,o,i);return a.successCodes=[200,204],a.errorHandler=Sy(e),a}function Jie(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Zie(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Jie(null,e)),r}function eoe(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let C=0;C<2;C++)b=b+Math.random().toString().slice(2);return b}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=Zie(e,r,s),u=Hie(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,p=`\r
--`+l+"--",g=Po.getBlob(h,r,p);if(g===null)throw pie();const w={name:c.fullPath},v=ju(i,t.host,t._protocol),_="POST",x=t.maxUploadRetryTime,y=new Qf(v,_,vF(t,n),x);return y.urlParams=w,y.headers=o,y.body=g.uploadData(),y.errorHandler=yF(e),y}class wF{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=dl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=dl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=dl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw pd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw pd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw pd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class toe extends wF{initXhr(){this.xhr_.responseType="text"}}function Ty(){return new toe}class noe extends wF{initXhr(){this.xhr_.responseType="blob"}}function roe(){return new noe}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n){this._service=e,n instanceof Kr?this._location=n:this._location=Kr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Sl(e,n)}get root(){const e=new Kr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pF(this._location.path)}get storage(){return this._service}get parent(){const e=Fie(this._location.path);if(e===null)return null;const n=new Kr(this._location.bucket,e);return new Sl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw vie(e)}}function soe(t,e){t._throwIfRoot("getBlob");const n=Qie(t.storage,t._location);return t.storage.makeRequestWithTokens(n,roe).then(r=>r)}function ioe(t,e,n){t._throwIfRoot("uploadBytes");const r=eoe(t.storage,t._location,zS(),new Po(e,!0),n);return t.storage.makeRequestWithTokens(r,Ty).then(s=>({metadata:s,ref:t}))}function ooe(t){t._throwIfRoot("getMetadata");const e=Gie(t.storage,t._location,zS());return t.storage.makeRequestWithTokens(e,Ty)}function aoe(t){t._throwIfRoot("getDownloadURL");const e=Yie(t.storage,t._location,zS());return t.storage.makeRequestWithTokens(e,Ty).then(n=>{if(n===null)throw mie();return n})}function loe(t){t._throwIfRoot("deleteObject");const e=Xie(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Ty)}function coe(t,e){const n=Uie(t._location.path,e),r=new Kr(t._location.bucket,n);return new Sl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uoe(t){return/^[A-Za-z]+:\/\//.test(t)}function doe(t,e){return new Sl(t,e)}function xF(t,e){if(t instanceof KS){const n=t;if(n._bucket==null)throw fie();const r=new Sl(n,n._bucket);return e!=null?xF(r,e):r}else return e!==void 0?coe(t,e):t}function hoe(t,e){if(e&&uoe(e)){if(t instanceof KS)return doe(t,e);throw h_("To use ref(service, url), the first argument must be a Storage instance.")}else return xF(t,e)}function zI(t,e){const n=e==null?void 0:e[aF];return n==null?null:Kr.makeFromBucketSpec(n,t)}function foe(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:pk(s,t.app.options.projectId))}class KS{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=oF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nie,this._maxUploadRetryTime=rie,this._requests=new Set,s!=null?this._bucket=Kr.makeFromBucketSpec(s,this._host):this._bucket=zI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Kr.makeFromBucketSpec(this._url,e):this._bucket=zI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){$I("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){$I("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Sl(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new yie(lF());{const o=Iie(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const KI="@firebase/storage",WI="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _F="storage";function poe(t,e,n){return t=An(t),ioe(t,e,n)}function moe(t){return t=An(t),ooe(t)}function goe(t){return t=An(t),aoe(t)}function voe(t){return t=An(t),loe(t)}function Cy(t,e){return t=An(t),hoe(t,e)}function yoe(t=BE(),e){t=An(t);const r=Tv(t,_F).getImmediate({identifier:e}),s=dk("storage");return s&&woe(r,...s),r}function woe(t,e,n,r={}){foe(t,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xoe(t,e){return t=An(t),soe(t)}function _oe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new KS(n,r,s,e,Pl)}function Eoe(){vl(new ia(_F,_oe,"PUBLIC").setMultipleInstances(!0)),ni(KI,WI,""),ni(KI,WI,"esm2017")}Eoe();const boe={apiKey:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",authDomain:"cob-chatbot.firebaseapp.com",projectId:"cob-chatbot",storageBucket:"cob-chatbot.appspot.com",messagingSenderId:"275602489097",appId:"1:275602489097:web:5c490d86e9f69e1314ddd8",measurementId:"G-65F7KP2KRQ"},EF=vk(boe),Ay=Mse(EF),Ry=yoe(EF),f_=async(t,e,n)=>{const r=Cy(Ry,`${e}/${n}`),s=await poe(r,t);if(!s.metadata||s.metadata.fullPath!==r.fullPath)throw new Error(`Error uploading file ${t.name}, metadata does not exist or path does not match`);return await goe(s.ref)},bF=async t=>{const e=Cy(Ry,t),n=await xoe(e),r=t.split("/").pop()||"unknown_file";return new File([n],r,{type:n.type})},Soe=async(t,e)=>{const n=Cy(Ry,`${t}/${e}`);return await moe(n)},Toe=async t=>{try{const e=Cy(Ry,t);await voe(e),pt("File deleted successfully!")}catch(e){e instanceof Error&&pt(e.message)}},SF=async(t,e,n,r=!1)=>{try{const s=MS(Ay,t,e);await Jse(s,n,{merge:r})}catch(s){s instanceof Error&&pt(s.message)}},TF=async(t,e)=>{const n=MS(Ay,t,e),r=await Xse(n);if(r.exists())return r.data();throw new Error("Document does not exist")},Coe=(t,e,n)=>{try{const r=MS(Ay,t,e);return Zse(r,i=>{i.exists()?n(i.data()):(pt("No such document!"),n(null))})}catch(r){throw r}},Aoe=async()=>{var t;try{const e=Dse(Ay,"users"),r=(t=(await tie(e,{averageRating:Gse("rating")})).data().averageRating)==null?void 0:t.toFixed(2);if(!r)throw new Error("Failed to retrieve average rating from users collection");return r}catch(e){return console.error(e),null}},Roe=1,Ioe=1e6;let c0=0;function Poe(){return c0=(c0+1)%Number.MAX_SAFE_INTEGER,c0.toString()}const u0=new Map,HI=t=>{if(u0.has(t))return;const e=setTimeout(()=>{u0.delete(t),Jd({type:"REMOVE_TOAST",toastId:t})},Ioe);u0.set(t,e)},Noe=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Roe)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?HI(n):t.toasts.forEach(r=>{HI(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Mm=[];let Om={toasts:[]};function Jd(t){Om=Noe(Om,t),Mm.forEach(e=>{e(Om)})}function Doe({...t}){const e=Poe(),n=s=>Jd({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Jd({type:"DISMISS_TOAST",toastId:e});return Jd({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function CF(){const[t,e]=m.useState(Om);return m.useEffect(()=>(Mm.push(e),()=>{const n=Mm.indexOf(e);n>-1&&Mm.splice(n,1)}),[t]),{...t,toast:Doe,dismiss:n=>Jd({type:"DISMISS_TOAST",toastId:n})}}const Bs=()=>{const{toast:t}=CF();return t},qI={objectNotFound:{code:"storage/object-not-found",getMessage:t=>`File ${t} does not exist in the storage`}},koe=t=>{const e=/\/([^/]+)' does not exist/,n=t.match(e);return n?n[1]:null},AF=t=>{const e=Bs(),{file:n}=vt(v=>v.formData),r=vt(v=>v.setFormData),s=vt(v=>v.setFile),[i,o]=m.useState(!1),[a,l]=m.useState(!1),c=m.useRef(null),u=m.useRef(null);return{file:n,setFile:s,isLinkDialogOpen:a,setIsLinkDialogOpen:l,handleInsertLink:(v,_)=>{const x=u.current;if(x){const y=x.selectionStart,b=x.selectionEnd,C=t.substring(0,y)+`<${_}>{=${v}=}`+t.substring(b);r("answer",C),x.focus(),x.setSelectionRange(y+v.length+4,y+_.length+4)}},handleFileChange:async v=>{if(v.target.files&&v.target.files[0]){const _={type:v.target.files[0].type,size:v.target.files[0].size},x={"image/jpeg":"Image","video/mp4":"Video","application/pdf":"Document"};if(_.type==="image/jpeg"&&_.size>J1){e({title:`${x[_.type]} size exceeds the maximum limit of ${$d(J1)} MB`,variant:"destructive"});return}if(_.type==="video/mp4"&&_.size>Z1){e({title:`${x[_.type]} size exceeds the maximum limit of ${$d(Z1)} MB`,variant:"destructive"});return}if(_.type==="application/pdf"&&_.size>eI){e({title:`${x[_.type]} size exceeds the maximum limit of ${$d(eI)} MB`,variant:"destructive"});return}s(v.target.files[0])}},handleRemoveFile:async()=>{n&&(r("fileUrl",null),s(null),c.current&&(c.current.value=""))},fileInputRef:c,answerTextAreaRef:u,getFileData:async v=>{try{o(!0);const _=Mh(v);if(!_)return;const x=await bF(`knowledge-files/${_}`);s(x)}catch(_){if(_ instanceof ys){pt(_.message??"A firebase error occured while fetching file data",!0);const x=koe(_.message);_.code===qI.objectNotFound.code&&e({title:"Knowledge file not found",description:qI.objectNotFound.getMessage(x??"Unknown"),variant:"destructive"});return}if(_ instanceof Error){pt(_.message??"An error occured while fetching file data",!0),e({title:"Failed to fetch file data",description:_.message,variant:"destructive"});return}console.error(_)}finally{o(!1)}},isFetchingFileData:i}},Moe=()=>{const t=vt(h=>h.formData),e=vt(h=>h.setFormData),{isLinkDialogOpen:n,setIsLinkDialogOpen:r,handleFileChange:s,handleInsertLink:i,handleRemoveFile:o,fileInputRef:a,answerTextAreaRef:l,getFileData:c,isFetchingFileData:u}=AF(t.answer);return m.useEffect(()=>{(async()=>{await c(t.fileUrl)})()},[t.fileUrl]),d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-fit",children:d.jsx(uy,{tooltip:Pte,children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("label",{className:"cursor-pointer font-medium ",children:"Answer"}),d.jsx(Ov,{className:"size-4 text-[#64748b] cursor-pointer"})]})})}),d.jsx(P2,{answer:t.answer,handleTextChange:e,onFileChange:s,fileRef:a,textAreaRef:l,isLinkDropDownVisible:n,setIsLinkDropDownVisible:r,onInsertLink:i}),u?d.jsx(Se,{className:"w-full h-[70px]"}):t.file?d.jsx(N2,{file:t.file,removeFile:o}):null]})},Ooe=t=>{const{knowledgeBaseName:e,...n}=t;return{knowledgeBaseName:e,knowledgeEntry:n}},joe=async()=>{const{success:t,knowledgeBase:e}=await jf("/api/knowledge/base");if(!t)throw new Error("Failed to fetch knowledge collection");return e},Loe=async t=>{const{success:e,knowledgeEntry:n}=await jf(`/api/knowledge/${t}`);if(!e)throw new Error(`Failed to fetch knowledge base ${t} entry`);return n},Voe=async t=>{const{knowledgeBaseName:e,...n}=t,r={knowledgeBaseName:e,knowledgeEntries:[{...n}]},{success:s,message:i}=await Sa("/api/knowledge",{},r);if(!s)throw new Error(i);return i},Foe=async t=>{const e=Ooe(t),{success:n,message:r}=await Sa("/api/knowledge/entry",{},e);if(!n)throw new Error(r)},Uoe=async(t,e)=>{const n={knowledgeEntryIntent:t,knowledgeEntry:e},{success:r,message:s}=await Qv("/api/knowledge/entry",{},n);if(!r)throw new Error(s)},Boe=async t=>{const{knowledgeBaseName:e,newKnowledgeBaseName:n}=t,r={knowledgeBaseName:e,newKnowledgeBaseName:n},{success:s,message:i}=await Qv("/api/knowledge/base",{},r);if(!s)throw new Error(i);return i},$oe=async t=>{const{success:e,message:n}=await Lf(`/api/knowledge/${t}`);if(!e)throw new Error(n)},zoe=async t=>{const{success:e,message:n}=await Lf(`/api/knowledge/entry/${t}`);if(!e)throw new Error(n);return n},Ht=ro(t=>({knowledgeCollection:{},knowledgeBaseNameList:null,selectedKnowledgeBaseEntryList:null,selectedKnowledgeBaseName:"",selectedKnowledgeBaseItem:"",selectedKnowledgeEntry:null,selectedKnowledgeEntryIntentItem:"",selectedKnowledgeBaseArchiveItem:{id:null,name:null},selectedKnowledgeEntryArchiveItem:{id:null,name:null},updateKnowledgeCollection:e=>{t(()=>({knowledgeCollection:e}))},setKnowledgeBaseNameList:e=>{t(()=>({knowledgeBaseNameList:e}))},setSelectedKnowledgeBaseEntryList:e=>{t(()=>({selectedKnowledgeBaseEntryList:e}))},setSelectedKnowledgeBaseName:e=>{t(()=>({selectedKnowledgeBaseName:e}))},setSelectedKnowledgeBaseItem:e=>{t(()=>({selectedKnowledgeBaseItem:e}))},setSelectedKnowledgeEntry:e=>{t(()=>({selectedKnowledgeEntry:e}))},setSelectedKnowledgeEntryIntentItem:e=>t({selectedKnowledgeEntryIntentItem:e}),setSelectedKnowledgeBaseArchiveItem:e=>t({selectedKnowledgeBaseArchiveItem:e}),setSelectedKnowledgeEntryArchiveItem:e=>t({selectedKnowledgeEntryArchiveItem:e})})),Koe="knowledge-files",GI="image",Woe=async t=>{const e=`${Koe}/${t}`;await Toe(e)},Hoe=(t,e)=>{const n=new Set([...Object.keys(t),...Object.keys(e)]);return Array.from(n).reduce((r,s)=>{if(t[s]instanceof Array&&e[s]instanceof Array){t[s].forEach((a,l)=>{if(a!==e[s][l]){r[s]||(r[s]=[]);const c={index:l,value:e[s][l]};r[s].push(c)}});const i=t[s].length,o=e[s].length;if(i<o){r.newDocuments=[];for(let a=i;a<o;a++)e[s][a]&&r.newDocuments.push(e[s][a])}return r}return t[s]!==e[s]&&(r[s]=e[s]),r},{})},QI="knowledge-files",jm=async t=>{try{const n=(await Soe(QI,t.name)).size||0,r=t.size;if(n===r)throw pt(`Knowledge file ${t.name} already exists with the same size, skipping upload`),new Error(`Knowledge file ${t.name} already exist`);pt(`File ${t.name} exists but with a different size. Uploading new file.`)}catch(e){if(e instanceof ys&&e.code==="storage/object-not-found")return pt(`No exiting file found, uploading the file: ${t.name}`),await f_(t,QI,t.name);throw e}},qoe=()=>{const t=Bs(),e=Ht(g=>g.selectedKnowledgeEntry),n=Ht(g=>g.setSelectedKnowledgeEntry),r=vt(g=>g.setFormData),s=vt(g=>g.formData),i=vt(g=>g.setDocuments),o=vt(g=>g.clearFormData),[a,l]=m.useState(!1);m.useEffect(()=>{if(!e)return;const{intent:g,documents:w,answer:v,fileUrl:_}=e;return r("intent",g),w.forEach((x,y)=>{i(x,y)}),r("answer",v),r("fileUrl",_),()=>{o()}},[]);const c=async g=>{try{const w=Mh(g);return await bF(`knowledge-files/${w}`)}catch(w){return console.log(w),null}},u=async(g,w)=>{if(!w)return await jm(g);const v=await c(w);if(v){if(v.name===g.name&&v.size===g.size)return w;if(v.name!==g.name){const x=await jm(g);return await h(w),x}}return await jm(g)},h=async g=>{const w=Mh(g);if(!w)return pt("Unable to extract filename from the file url",!0);await Woe(w)};return{handleSubmitForm:async()=>{if(e)try{l(!0);const{knowledgeBaseName:g,file:w,...v}=s,_=Hoe(e,v);"fileUrl"in _&&_.fileUrl===null&&(pt("Detected file removal, deleting from storage"),await h(e.fileUrl));let x;w&&(pt("Updating knowledge file"),x=await u(w,e.fileUrl),r("fileUrl",x??null));const y={...v,...x&&{fileUrl:x}};await Uoe(e.intent,y),pt("Knowledge Entry updated successfully."),n(y),t({title:"Knowledge Entry Updated Successfully",description:ot()})}catch(g){const w=g instanceof Error?g.message:"Unknown error occurred";t({title:w,description:ot(),variant:"destructive"})}finally{l(!1)}},selectedKnowledgeEntry:e,isLoading:a}},WS=({heading:t,description:e})=>d.jsx("div",{className:"h-[450px] md:h-[600px] w-full flex justify-center items-center mt-2 pb-10",children:d.jsxs("section",{className:"flex flex-col justify-center items-center",children:[d.jsx(Ov,{className:"w-12 h-12 text-blue-500 mb-4"}),d.jsx("h2",{className:"text-2xl font-semibold mb-2",children:t}),d.jsx("p",{className:"text-gray-600 mb-4",children:e})]})}),Aa=()=>d.jsx(a8,{className:"mr-2 size-5 animate-spin"}),Goe=()=>{const{handleSubmitForm:t,selectedKnowledgeEntry:e,isLoading:n}=qoe(),r=ut(s=>s.admin);return e?d.jsx(d2,{value:"entryDetails",className:"mt-2",children:d.jsx("div",{className:"h-[450px] md:h-[600px] w-full overflow-y-auto text-sm scrollbar-slim",children:d.jsxs("div",{className:"space-y-3 px-4 pb-4",children:[d.jsx(kte,{}),d.jsx(Mte,{}),d.jsx(Moe,{}),(r==null?void 0:r.role)!=="viewer"&&d.jsx(Xe,{variant:"default",disabled:n,onClick:async()=>await t(),className:"w-20",children:n?d.jsx(Aa,{}):"Save"})]})})}):d.jsx(WS,{heading:"No Knowledge Entry Selected",description:"Select a knowledge entry to view its contents here."})},RF=({onRenameKnowledge:t,onDeleteKnowledge:e})=>d.jsxs(Df,{children:[d.jsx(kf,{asChild:!0,children:d.jsx(tb,{className:"text-zinc-400 size-6 hover:text-zinc-500 transition-colors"})}),d.jsxs(Iu,{align:"end",className:"w-auto text-sm bg-white border border-neutral-300 p-1 rounded-lg shadow-md",children:[t&&d.jsxs(Xs,{className:"flex items-center p-1.5 hover:bg-zinc-100 rounded-sm",onClick:n=>{n.stopPropagation(),t()},children:[d.jsx(PM,{className:"mr-2 h-4 w-4"}),d.jsx("p",{children:"Rename"})]}),d.jsxs(Xs,{className:"flex items-center p-1.5 hover:bg-zinc-100 rounded-sm text-red-400 focus:text-red-400",onClick:n=>{n.stopPropagation(),e()},children:[d.jsx(Mv,{className:"mr-2 h-4 w-4"}),d.jsx("p",{children:"Move to Archive"})]})]})]}),Qr=ro(t=>({dialogs:{},openDialog:e=>t(n=>({dialogs:{...n.dialogs,[e]:!0}})),closeDialog:e=>t(n=>({dialogs:{...n.dialogs,[e]:!1}})),toggleDialog:e=>t(n=>({dialogs:{...n.dialogs,[e]:!n.dialogs[e]}})),setDialogState:(e,n)=>t(r=>({dialogs:{...r.dialogs,[e]:n}}))})),Qoe=({intent:t,onItemClick:e})=>{const n=ut(a=>a.admin),r=Ht(a=>a.selectedKnowledgeEntry),s=Ht(a=>a.setSelectedKnowledgeEntryIntentItem),i=Qr(a=>a.openDialog),o=()=>{s(t),i("showConfirmDeleteKnowledgeEntryDialog")};return d.jsxs("div",{className:`flex justify-between p-2 rounded-md cursor-pointer ${(r==null?void 0:r.intent)===t?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,onClick:e,children:[d.jsx("p",{className:"max-w-[800px] truncate",title:t,children:t}),(n==null?void 0:n.role)!=="viewer"&&d.jsx(Xe,{className:"bg-transparent hover:bg-transparent size-8 p-0 h-fit ",children:d.jsx(RF,{onDeleteKnowledge:o})})]})},Yoe=({knowledgeEntries:t,handleTabChange:e})=>{const n=Ht(s=>s.setSelectedKnowledgeEntry),r=s=>{n(s),e("entryDetails")};return d.jsx("div",{className:"space-y-1",children:t==null?void 0:t.map((s,i)=>d.jsx(Qoe,{intent:s.intent,onItemClick:()=>r(s)},i))})},Zd=["knowledgeBaseList"],Lm=["knowledgeEntry"],md=["adminList"],Wg=["knowledgeBaseArhives"],Hg=["knowledgeEntriesArchive"],YI=["Queries"];var Lu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},mu=typeof window>"u"||"Deno"in globalThis;function os(){}function Xoe(t,e){return typeof t=="function"?t(e):t}function p_(t){return typeof t=="number"&&t>=0&&t!==1/0}function IF(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Nc(t,e){return typeof t=="function"?t(e):t}function Ps(t,e){return typeof t=="function"?t(e):t}function XI(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==HS(o,e.options))return!1}else if(!Hh(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function JI(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Tl(e.options.mutationKey)!==Tl(i))return!1}else if(!Hh(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function HS(t,e){return((e==null?void 0:e.queryKeyHashFn)||Tl)(t)}function Tl(t){return JSON.stringify(t,(e,n)=>m_(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Hh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Hh(t[n],e[n])):!1}function PF(t,e){if(t===e)return t;const n=ZI(t)&&ZI(e);if(n||m_(t)&&m_(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const u=n?c:i[c];(!n&&r.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=PF(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function qg(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function ZI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function m_(t){if(!eP(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!eP(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function eP(t){return Object.prototype.toString.call(t)==="[object Object]"}function Joe(t){return new Promise(e=>{setTimeout(e,t)})}function g_(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?PF(t,e):e}function Zoe(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function eae(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var NF=Symbol();function DF(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===NF?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Za,Do,Mc,LP,tae=(LP=class extends Lu{constructor(){super();be(this,Za,void 0);be(this,Do,void 0);be(this,Mc,void 0);me(this,Mc,e=>{if(!mu&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){V(this,Do)||this.setEventListener(V(this,Mc))}onUnsubscribe(){var e;this.hasListeners()||((e=V(this,Do))==null||e.call(this),me(this,Do,void 0))}setEventListener(e){var n;me(this,Mc,e),(n=V(this,Do))==null||n.call(this),me(this,Do,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){V(this,Za)!==e&&(me(this,Za,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof V(this,Za)=="boolean"?V(this,Za):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Za=new WeakMap,Do=new WeakMap,Mc=new WeakMap,LP),qS=new tae,Oc,ko,jc,VP,nae=(VP=class extends Lu{constructor(){super();be(this,Oc,!0);be(this,ko,void 0);be(this,jc,void 0);me(this,jc,e=>{if(!mu&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){V(this,ko)||this.setEventListener(V(this,jc))}onUnsubscribe(){var e;this.hasListeners()||((e=V(this,ko))==null||e.call(this),me(this,ko,void 0))}setEventListener(e){var n;me(this,jc,e),(n=V(this,ko))==null||n.call(this),me(this,ko,e(this.setOnline.bind(this)))}setOnline(e){V(this,Oc)!==e&&(me(this,Oc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return V(this,Oc)}},Oc=new WeakMap,ko=new WeakMap,jc=new WeakMap,VP),Gg=new nae;function rae(t){return Math.min(1e3*2**t,3e4)}function kF(t){return(t??"online")==="online"?Gg.isOnline():!0}var MF=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function d0(t){return t instanceof MF}function OF(t){let e=!1,n=0,r=!1,s,i,o;const a=new Promise((x,y)=>{i=x,o=y}),l=x=>{var y;r||(w(new MF(x)),(y=t.abort)==null||y.call(t))},c=()=>{e=!0},u=()=>{e=!1},h=()=>qS.isFocused()&&(t.networkMode==="always"||Gg.isOnline())&&t.canRun(),p=()=>kF(t.networkMode)&&t.canRun(),g=x=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,x),s==null||s(),i(x))},w=x=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,x),s==null||s(),o(x))},v=()=>new Promise(x=>{var y;s=b=>{(r||h())&&x(b)},(y=t.onPause)==null||y.call(t)}).then(()=>{var x;s=void 0,r||(x=t.onContinue)==null||x.call(t)}),_=()=>{if(r)return;let x;const y=n===0?t.initialPromise:void 0;try{x=y??t.fn()}catch(b){x=Promise.reject(b)}Promise.resolve(x).then(g).catch(b=>{var E;if(r)return;const C=t.retry??(mu?0:3),P=t.retryDelay??rae,O=typeof P=="function"?P(n,b):P,T=C===!0||typeof C=="number"&&n<C||typeof C=="function"&&C(n,b);if(e||!T){w(b);return}n++,(E=t.onFail)==null||E.call(t,n,b),Joe(O).then(()=>h()?void 0:v()).then(()=>{e?w(b):_()})})};return{promise:a,cancel:l,continue:()=>(s==null||s(),a),cancelRetry:c,continueRetry:u,canStart:p,start:()=>(p()?_():v().then(_),a)}}function sae(){let t=[],e=0,n=p=>{p()},r=p=>{p()},s=p=>setTimeout(p,0);const i=p=>{s=p},o=p=>{let g;e++;try{g=p()}finally{e--,e||c()}return g},a=p=>{e?t.push(p):s(()=>{n(p)})},l=p=>(...g)=>{a(()=>{p(...g)})},c=()=>{const p=t;t=[],p.length&&s(()=>{r(()=>{p.forEach(g=>{n(g)})})})};return{batch:o,batchCalls:l,schedule:a,setNotifyFunction:p=>{n=p},setBatchNotifyFunction:p=>{r=p},setScheduler:i}}var En=sae(),el,FP,jF=(FP=class{constructor(){be(this,el,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),p_(this.gcTime)&&me(this,el,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(mu?1/0:5*60*1e3))}clearGcTimeout(){V(this,el)&&(clearTimeout(V(this,el)),me(this,el,void 0))}},el=new WeakMap,FP),Lc,Vc,is,Zn,Xh,tl,Cs,_i,UP,iae=(UP=class extends jF{constructor(e){super();be(this,Cs);be(this,Lc,void 0);be(this,Vc,void 0);be(this,is,void 0);be(this,Zn,void 0);be(this,Xh,void 0);be(this,tl,void 0);me(this,tl,!1),me(this,Xh,e.defaultOptions),this.setOptions(e.options),this.observers=[],me(this,is,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,me(this,Lc,oae(this.options)),this.state=e.state??V(this,Lc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=V(this,Zn))==null?void 0:e.promise}setOptions(e){this.options={...V(this,Xh),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&V(this,is).remove(this)}setData(e,n){const r=g_(this.state.data,e,this.options);return Ye(this,Cs,_i).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Ye(this,Cs,_i).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=V(this,Zn))==null?void 0:r.promise;return(s=V(this,Zn))==null||s.cancel(e),n?n.then(os).catch(os):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(V(this,Lc))}isActive(){return this.observers.some(e=>Ps(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!IF(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=V(this,Zn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=V(this,Zn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),V(this,is).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(V(this,Zn)&&(V(this,tl)?V(this,Zn).cancel({revert:!0}):V(this,Zn).cancelRetry()),this.scheduleGc()),V(this,is).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ye(this,Cs,_i).call(this,{type:"invalidate"})}fetch(e,n){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(V(this,Zn))return V(this,Zn).continueRetry(),V(this,Zn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(me(this,tl,!0),r.signal)})},i=()=>{const h=DF(this.options,n),p={queryKey:this.queryKey,meta:this.meta};return s(p),me(this,tl,!1),this.options.persister?this.options.persister(h,p,this):h(p)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),me(this,Vc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&Ye(this,Cs,_i).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const a=h=>{var p,g,w,v;d0(h)&&h.silent||Ye(this,Cs,_i).call(this,{type:"error",error:h}),d0(h)||((g=(p=V(this,is).config).onError)==null||g.call(p,h,this),(v=(w=V(this,is).config).onSettled)==null||v.call(w,this.state.data,h,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return me(this,Zn,OF({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var p,g,w,v;if(h===void 0){a(new Error(`${this.queryHash} data is undefined`));return}this.setData(h),(g=(p=V(this,is).config).onSuccess)==null||g.call(p,h,this),(v=(w=V(this,is).config).onSettled)==null||v.call(w,h,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:a,onFail:(h,p)=>{Ye(this,Cs,_i).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{Ye(this,Cs,_i).call(this,{type:"pause"})},onContinue:()=>{Ye(this,Cs,_i).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),V(this,Zn).start()}},Lc=new WeakMap,Vc=new WeakMap,is=new WeakMap,Zn=new WeakMap,Xh=new WeakMap,tl=new WeakMap,Cs=new WeakSet,_i=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...LF(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return d0(s)&&s.revert&&V(this,Vc)?{...V(this,Vc),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),En.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),V(this,is).notify({query:this,type:"updated",action:e})})},UP);function LF(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:kF(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function oae(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ws,BP,aae=(BP=class extends Lu{constructor(e={}){super();be(this,Ws,void 0);this.config=e,me(this,Ws,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??HS(s,n);let o=this.get(i);return o||(o=new iae({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){V(this,Ws).has(e.queryHash)||(V(this,Ws).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=V(this,Ws).get(e.queryHash);n&&(e.destroy(),n===e&&V(this,Ws).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){En.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return V(this,Ws).get(e)}getAll(){return[...V(this,Ws).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>XI(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>XI(e,r)):n}notify(e){En.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){En.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){En.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ws=new WeakMap,BP),Hs,ur,nl,qs,wo,$P,lae=($P=class extends jF{constructor(e){super();be(this,qs);be(this,Hs,void 0);be(this,ur,void 0);be(this,nl,void 0);this.mutationId=e.mutationId,me(this,ur,e.mutationCache),me(this,Hs,[]),this.state=e.state||VF(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){V(this,Hs).includes(e)||(V(this,Hs).push(e),this.clearGcTimeout(),V(this,ur).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){me(this,Hs,V(this,Hs).filter(n=>n!==e)),this.scheduleGc(),V(this,ur).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){V(this,Hs).length||(this.state.status==="pending"?this.scheduleGc():V(this,ur).remove(this))}continue(){var e;return((e=V(this,nl))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,l,c,u,h,p,g,w,v,_,x,y,b,C,P,O,T;me(this,nl,OF({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(E,I)=>{Ye(this,qs,wo).call(this,{type:"failed",failureCount:E,error:I})},onPause:()=>{Ye(this,qs,wo).call(this,{type:"pause"})},onContinue:()=>{Ye(this,qs,wo).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>V(this,ur).canRun(this)}));const n=this.state.status==="pending",r=!V(this,nl).canStart();try{if(!n){Ye(this,qs,wo).call(this,{type:"pending",variables:e,isPaused:r}),await((i=(s=V(this,ur).config).onMutate)==null?void 0:i.call(s,e,this));const I=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));I!==this.state.context&&Ye(this,qs,wo).call(this,{type:"pending",context:I,variables:e,isPaused:r})}const E=await V(this,nl).start();return await((c=(l=V(this,ur).config).onSuccess)==null?void 0:c.call(l,E,e,this.state.context,this)),await((h=(u=this.options).onSuccess)==null?void 0:h.call(u,E,e,this.state.context)),await((g=(p=V(this,ur).config).onSettled)==null?void 0:g.call(p,E,null,this.state.variables,this.state.context,this)),await((v=(w=this.options).onSettled)==null?void 0:v.call(w,E,null,e,this.state.context)),Ye(this,qs,wo).call(this,{type:"success",data:E}),E}catch(E){try{throw await((x=(_=V(this,ur).config).onError)==null?void 0:x.call(_,E,e,this.state.context,this)),await((b=(y=this.options).onError)==null?void 0:b.call(y,E,e,this.state.context)),await((P=(C=V(this,ur).config).onSettled)==null?void 0:P.call(C,void 0,E,this.state.variables,this.state.context,this)),await((T=(O=this.options).onSettled)==null?void 0:T.call(O,void 0,E,e,this.state.context)),E}finally{Ye(this,qs,wo).call(this,{type:"error",error:E})}}finally{V(this,ur).runNext(this)}}},Hs=new WeakMap,ur=new WeakMap,nl=new WeakMap,qs=new WeakSet,wo=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),En.batch(()=>{V(this,Hs).forEach(r=>{r.onMutationUpdate(e)}),V(this,ur).notify({mutation:this,type:"updated",action:e})})},$P);function VF(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Fr,Jh,zP,cae=(zP=class extends Lu{constructor(e={}){super();be(this,Fr,void 0);be(this,Jh,void 0);this.config=e,me(this,Fr,new Map),me(this,Jh,Date.now())}build(e,n,r){const s=new lae({mutationCache:this,mutationId:++gp(this,Jh)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Zp(e),r=V(this,Fr).get(n)??[];r.push(e),V(this,Fr).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Zp(e);if(V(this,Fr).has(n)){const s=(r=V(this,Fr).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?V(this,Fr).delete(n):V(this,Fr).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=V(this,Fr).get(Zp(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=V(this,Fr).get(Zp(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){En.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...V(this,Fr).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>JI(n,r))}findAll(e={}){return this.getAll().filter(n=>JI(e,n))}notify(e){En.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return En.batch(()=>Promise.all(e.map(n=>n.continue().catch(os))))}},Fr=new WeakMap,Jh=new WeakMap,zP);function Zp(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function uae(t){return{onFetch:(e,n)=>{const r=async()=>{var w,v,_,x,y;const s=e.options,i=(_=(v=(w=e.fetchOptions)==null?void 0:w.meta)==null?void 0:v.fetchMore)==null?void 0:_.direction,o=((x=e.state.data)==null?void 0:x.pages)||[],a=((y=e.state.data)==null?void 0:y.pageParams)||[],l={pages:[],pageParams:[]};let c=!1;const u=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?c=!0:e.signal.addEventListener("abort",()=>{c=!0}),e.signal)})},h=DF(e.options,e.fetchOptions),p=async(b,C,P)=>{if(c)return Promise.reject();if(C==null&&b.pages.length)return Promise.resolve(b);const O={queryKey:e.queryKey,pageParam:C,direction:P?"backward":"forward",meta:e.options.meta};u(O);const T=await h(O),{maxPages:E}=e.options,I=P?eae:Zoe;return{pages:I(b.pages,T,E),pageParams:I(b.pageParams,C,E)}};let g;if(i&&o.length){const b=i==="backward",C=b?dae:tP,P={pages:o,pageParams:a},O=C(s,P);g=await p(P,O,b)}else{g=await p(l,a[0]??s.initialPageParam);const b=t??o.length;for(let C=1;C<b;C++){const P=tP(s,g);if(P==null)break;g=await p(g,P)}}return g};e.options.persister?e.fetchFn=()=>{var s,i;return(i=(s=e.options).persister)==null?void 0:i.call(s,r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=r}}}function tP(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function dae(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Jt,Mo,Oo,Fc,Uc,jo,Bc,$c,KP,hae=(KP=class{constructor(t={}){be(this,Jt,void 0);be(this,Mo,void 0);be(this,Oo,void 0);be(this,Fc,void 0);be(this,Uc,void 0);be(this,jo,void 0);be(this,Bc,void 0);be(this,$c,void 0);me(this,Jt,t.queryCache||new aae),me(this,Mo,t.mutationCache||new cae),me(this,Oo,t.defaultOptions||{}),me(this,Fc,new Map),me(this,Uc,new Map),me(this,jo,0)}mount(){gp(this,jo)._++,V(this,jo)===1&&(me(this,Bc,qS.subscribe(async t=>{t&&(await this.resumePausedMutations(),V(this,Jt).onFocus())})),me(this,$c,Gg.subscribe(async t=>{t&&(await this.resumePausedMutations(),V(this,Jt).onOnline())})))}unmount(){var t,e;gp(this,jo)._--,V(this,jo)===0&&((t=V(this,Bc))==null||t.call(this),me(this,Bc,void 0),(e=V(this,$c))==null||e.call(this),me(this,$c,void 0))}isFetching(t){return V(this,Jt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return V(this,Mo).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=V(this,Jt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=V(this,Jt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Nc(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return V(this,Jt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=V(this,Jt).get(r.queryHash),i=s==null?void 0:s.state.data,o=Xoe(e,i);if(o!==void 0)return V(this,Jt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return En.batch(()=>V(this,Jt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=V(this,Jt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=V(this,Jt);En.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=V(this,Jt),r={type:"active",...t};return En.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=En.batch(()=>V(this,Jt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(os).catch(os)}invalidateQueries(t={},e={}){return En.batch(()=>{if(V(this,Jt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=En.batch(()=>V(this,Jt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(os)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(os)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=V(this,Jt).build(this,e);return n.isStaleByTime(Nc(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(os).catch(os)}fetchInfiniteQuery(t){return t.behavior=uae(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(os).catch(os)}resumePausedMutations(){return Gg.isOnline()?V(this,Mo).resumePausedMutations():Promise.resolve()}getQueryCache(){return V(this,Jt)}getMutationCache(){return V(this,Mo)}getDefaultOptions(){return V(this,Oo)}setDefaultOptions(t){me(this,Oo,t)}setQueryDefaults(t,e){V(this,Fc).set(Tl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...V(this,Fc).values()];let n={};return e.forEach(r=>{Hh(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){V(this,Uc).set(Tl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...V(this,Uc).values()];let n={};return e.forEach(r=>{Hh(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...V(this,Oo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=HS(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===NF&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...V(this,Oo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){V(this,Jt).clear(),V(this,Mo).clear()}},Jt=new WeakMap,Mo=new WeakMap,Oo=new WeakMap,Fc=new WeakMap,Uc=new WeakMap,jo=new WeakMap,Bc=new WeakMap,$c=new WeakMap,KP),Er,rt,Zh,dr,rl,zc,Gs,ef,Kc,Wc,sl,il,Lo,Hc,ol,Pd,tf,v_,nf,y_,rf,w_,sf,x_,of,__,af,E_,lf,b_,av,FF,WP,fae=(WP=class extends Lu{constructor(e,n){super();be(this,ol);be(this,tf);be(this,nf);be(this,rf);be(this,sf);be(this,of);be(this,af);be(this,lf);be(this,av);be(this,Er,void 0);be(this,rt,void 0);be(this,Zh,void 0);be(this,dr,void 0);be(this,rl,void 0);be(this,zc,void 0);be(this,Gs,void 0);be(this,ef,void 0);be(this,Kc,void 0);be(this,Wc,void 0);be(this,sl,void 0);be(this,il,void 0);be(this,Lo,void 0);be(this,Hc,new Set);this.options=n,me(this,Er,e),me(this,Gs,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(V(this,rt).addObserver(this),nP(V(this,rt),this.options)?Ye(this,ol,Pd).call(this):this.updateResult(),Ye(this,sf,x_).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return S_(V(this,rt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return S_(V(this,rt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ye(this,of,__).call(this),Ye(this,af,E_).call(this),V(this,rt).removeObserver(this)}setOptions(e,n){const r=this.options,s=V(this,rt);if(this.options=V(this,Er).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ps(this.options.enabled,V(this,rt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ye(this,lf,b_).call(this),V(this,rt).setOptions(this.options),r._defaulted&&!qg(this.options,r)&&V(this,Er).getQueryCache().notify({type:"observerOptionsUpdated",query:V(this,rt),observer:this});const i=this.hasListeners();i&&rP(V(this,rt),s,this.options,r)&&Ye(this,ol,Pd).call(this),this.updateResult(n),i&&(V(this,rt)!==s||Ps(this.options.enabled,V(this,rt))!==Ps(r.enabled,V(this,rt))||Nc(this.options.staleTime,V(this,rt))!==Nc(r.staleTime,V(this,rt)))&&Ye(this,tf,v_).call(this);const o=Ye(this,nf,y_).call(this);i&&(V(this,rt)!==s||Ps(this.options.enabled,V(this,rt))!==Ps(r.enabled,V(this,rt))||o!==V(this,Lo))&&Ye(this,rf,w_).call(this,o)}getOptimisticResult(e){const n=V(this,Er).getQueryCache().build(V(this,Er),e),r=this.createResult(n,e);return mae(this,r)&&(me(this,dr,r),me(this,zc,this.options),me(this,rl,V(this,rt).state)),r}getCurrentResult(){return V(this,dr)}trackResult(e,n){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),e[s])})}),r}trackProp(e){V(this,Hc).add(e)}getCurrentQuery(){return V(this,rt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=V(this,Er).defaultQueryOptions(e),r=V(this,Er).getQueryCache().build(V(this,Er),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Ye(this,ol,Pd).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),V(this,dr)))}createResult(e,n){var T;const r=V(this,rt),s=this.options,i=V(this,dr),o=V(this,rl),a=V(this,zc),c=e!==r?e.state:V(this,Zh),{state:u}=e;let h={...u},p=!1,g;if(n._optimisticResults){const E=this.hasListeners(),I=!E&&nP(e,n),R=E&&rP(e,r,n,s);(I||R)&&(h={...h,...LF(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:w,errorUpdatedAt:v,status:_}=h;if(n.select&&h.data!==void 0)if(i&&h.data===(o==null?void 0:o.data)&&n.select===V(this,ef))g=V(this,Kc);else try{me(this,ef,n.select),g=n.select(h.data),g=g_(i==null?void 0:i.data,g,n),me(this,Kc,g),me(this,Gs,null)}catch(E){me(this,Gs,E)}else g=h.data;if(n.placeholderData!==void 0&&g===void 0&&_==="pending"){let E;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))E=i.data;else if(E=typeof n.placeholderData=="function"?n.placeholderData((T=V(this,Wc))==null?void 0:T.state.data,V(this,Wc)):n.placeholderData,n.select&&E!==void 0)try{E=n.select(E),me(this,Gs,null)}catch(I){me(this,Gs,I)}E!==void 0&&(_="success",g=g_(i==null?void 0:i.data,E,n),p=!0)}V(this,Gs)&&(w=V(this,Gs),g=V(this,Kc),v=Date.now(),_="error");const x=h.fetchStatus==="fetching",y=_==="pending",b=_==="error",C=y&&x,P=g!==void 0;return{status:_,fetchStatus:h.fetchStatus,isPending:y,isSuccess:_==="success",isError:b,isInitialLoading:C,isLoading:C,data:g,dataUpdatedAt:h.dataUpdatedAt,error:w,errorUpdatedAt:v,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:x,isRefetching:x&&!y,isLoadingError:b&&!P,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:b&&P,isStale:GS(e,n),refetch:this.refetch}}updateResult(e){const n=V(this,dr),r=this.createResult(V(this,rt),this.options);if(me(this,rl,V(this,rt).state),me(this,zc,this.options),V(this,rl).data!==void 0&&me(this,Wc,V(this,rt)),qg(r,n))return;me(this,dr,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!V(this,Hc).size)return!0;const l=new Set(a??V(this,Hc));return this.options.throwOnError&&l.add("error"),Object.keys(V(this,dr)).some(c=>{const u=c;return V(this,dr)[u]!==n[u]&&l.has(u)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),Ye(this,av,FF).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ye(this,sf,x_).call(this)}},Er=new WeakMap,rt=new WeakMap,Zh=new WeakMap,dr=new WeakMap,rl=new WeakMap,zc=new WeakMap,Gs=new WeakMap,ef=new WeakMap,Kc=new WeakMap,Wc=new WeakMap,sl=new WeakMap,il=new WeakMap,Lo=new WeakMap,Hc=new WeakMap,ol=new WeakSet,Pd=function(e){Ye(this,lf,b_).call(this);let n=V(this,rt).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(os)),n},tf=new WeakSet,v_=function(){Ye(this,of,__).call(this);const e=Nc(this.options.staleTime,V(this,rt));if(mu||V(this,dr).isStale||!p_(e))return;const r=IF(V(this,dr).dataUpdatedAt,e)+1;me(this,sl,setTimeout(()=>{V(this,dr).isStale||this.updateResult()},r))},nf=new WeakSet,y_=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(V(this,rt)):this.options.refetchInterval)??!1},rf=new WeakSet,w_=function(e){Ye(this,af,E_).call(this),me(this,Lo,e),!(mu||Ps(this.options.enabled,V(this,rt))===!1||!p_(V(this,Lo))||V(this,Lo)===0)&&me(this,il,setInterval(()=>{(this.options.refetchIntervalInBackground||qS.isFocused())&&Ye(this,ol,Pd).call(this)},V(this,Lo)))},sf=new WeakSet,x_=function(){Ye(this,tf,v_).call(this),Ye(this,rf,w_).call(this,Ye(this,nf,y_).call(this))},of=new WeakSet,__=function(){V(this,sl)&&(clearTimeout(V(this,sl)),me(this,sl,void 0))},af=new WeakSet,E_=function(){V(this,il)&&(clearInterval(V(this,il)),me(this,il,void 0))},lf=new WeakSet,b_=function(){const e=V(this,Er).getQueryCache().build(V(this,Er),this.options);if(e===V(this,rt))return;const n=V(this,rt);me(this,rt,e),me(this,Zh,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},av=new WeakSet,FF=function(e){En.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(V(this,dr))}),V(this,Er).getQueryCache().notify({query:V(this,rt),type:"observerResultsUpdated"})})},WP);function pae(t,e){return Ps(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function nP(t,e){return pae(t,e)||t.state.data!==void 0&&S_(t,e,e.refetchOnMount)}function S_(t,e,n){if(Ps(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&GS(t,e)}return!1}function rP(t,e,n,r){return(t!==e||Ps(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&GS(t,n)}function GS(t,e){return Ps(e.enabled,t)!==!1&&t.isStaleByTime(Nc(e.staleTime,t))}function mae(t,e){return!qg(t.getCurrentResult(),e)}var Vo,Fo,br,Si,qc,Vm,cf,T_,HP,gae=(HP=class extends Lu{constructor(n,r){super();be(this,qc);be(this,cf);be(this,Vo,void 0);be(this,Fo,void 0);be(this,br,void 0);be(this,Si,void 0);me(this,Vo,n),this.setOptions(r),this.bindMethods(),Ye(this,qc,Vm).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=V(this,Vo).defaultMutationOptions(n),qg(this.options,r)||V(this,Vo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:V(this,br),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Tl(r.mutationKey)!==Tl(this.options.mutationKey)?this.reset():((s=V(this,br))==null?void 0:s.state.status)==="pending"&&V(this,br).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=V(this,br))==null||n.removeObserver(this)}onMutationUpdate(n){Ye(this,qc,Vm).call(this),Ye(this,cf,T_).call(this,n)}getCurrentResult(){return V(this,Fo)}reset(){var n;(n=V(this,br))==null||n.removeObserver(this),me(this,br,void 0),Ye(this,qc,Vm).call(this),Ye(this,cf,T_).call(this)}mutate(n,r){var s;return me(this,Si,r),(s=V(this,br))==null||s.removeObserver(this),me(this,br,V(this,Vo).getMutationCache().build(V(this,Vo),this.options)),V(this,br).addObserver(this),V(this,br).execute(n)}},Vo=new WeakMap,Fo=new WeakMap,br=new WeakMap,Si=new WeakMap,qc=new WeakSet,Vm=function(){var r;const n=((r=V(this,br))==null?void 0:r.state)??VF();me(this,Fo,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},cf=new WeakSet,T_=function(n){En.batch(()=>{var r,s,i,o,a,l,c,u;if(V(this,Si)&&this.hasListeners()){const h=V(this,Fo).variables,p=V(this,Fo).context;(n==null?void 0:n.type)==="success"?((s=(r=V(this,Si)).onSuccess)==null||s.call(r,n.data,h,p),(o=(i=V(this,Si)).onSettled)==null||o.call(i,n.data,null,h,p)):(n==null?void 0:n.type)==="error"&&((l=(a=V(this,Si)).onError)==null||l.call(a,n.error,h,p),(u=(c=V(this,Si)).onSettled)==null||u.call(c,void 0,n.error,h,p))}this.listeners.forEach(h=>{h(V(this,Fo))})})},HP),UF=m.createContext(void 0),Ra=t=>{const e=m.useContext(UF);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},vae=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(UF.Provider,{value:t,children:e})),BF=m.createContext(!1),yae=()=>m.useContext(BF);BF.Provider;function wae(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var xae=m.createContext(wae()),_ae=()=>m.useContext(xae);function $F(t,e){return typeof t=="function"?t(...e):!!t}function Eae(){}var bae=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},Sae=t=>{m.useEffect(()=>{t.clearReset()},[t])},Tae=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&$F(n,[t.error,r]),Cae=t=>{t.suspense&&(typeof t.staleTime!="number"&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},Aae=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Rae=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Iae(t,e,n){var c,u,h,p;const r=Ra(),s=yae(),i=_ae(),o=r.defaultQueryOptions(t);(u=(c=r.getDefaultOptions().queries)==null?void 0:c._experimental_beforeQuery)==null||u.call(c,o),o._optimisticResults=s?"isRestoring":"optimistic",Cae(o),bae(o,i),Sae(i);const[a]=m.useState(()=>new e(r,o)),l=a.getOptimisticResult(o);if(m.useSyncExternalStore(m.useCallback(g=>{const w=s?()=>{}:a.subscribe(En.batchCalls(g));return a.updateResult(),w},[a,s]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),m.useEffect(()=>{a.setOptions(o,{listeners:!1})},[o,a]),Aae(o,l))throw Rae(o,a,i);if(Tae({result:l,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw l.error;return(p=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||p.call(h,o,l),o.notifyOnChangeProps?l:a.trackResult(l)}function Vl(t,e){return Iae(t,fae)}function Rr(t,e){const n=Ra(),[r]=m.useState(()=>new gae(n,t));m.useEffect(()=>{r.setOptions(t)},[r,t]);const s=m.useSyncExternalStore(m.useCallback(o=>r.subscribe(En.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=m.useCallback((o,a)=>{r.mutate(o,a).catch(Eae)},[r]);if(s.error&&$F(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const zF=({label:t,onButtonClick:e})=>d.jsxs(Xe,{variant:"outline",size:"sm",className:"mb-2 hover:bg-gray-100 h-10",onClick:e,children:[d.jsx(bu,{className:"w-4 h-4 mr-0 md:mr-2"}),d.jsx("p",{className:"hidden md:block",children:t})]}),KF=()=>d.jsxs("div",{className:"h-[450px] md:h-[600px] w-full px-4 flex flex-col pb-4 mt-2",children:[d.jsxs("div",{className:"flex mb-7 space-x-4",children:[d.jsx(Se,{className:"flex-grow h-10 bg-lightGray-darker"}),d.jsx(Se,{className:"h-10 w-[42px] md:w-[198.85px] bg-lightGray-darker"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx(Se,{className:"h-[20px] w-[20rem] bg-lightGray-darker"}),d.jsx(Se,{className:"h-[20px] w-[10rem] bg-lightGray-darker"})]})]}),ms=ro(t=>({isModalVisible:!1,modalMode:"BASE",openModal:()=>{t(()=>({isModalVisible:!0}))},closeModal:()=>{t(()=>({isModalVisible:!1}))},setMode:e=>{t(()=>({modalMode:e}))}})),Pae=()=>{const t=ms(i=>i.openModal),e=ms(i=>i.setMode),n=vt(i=>i.clearFormData),r=Ht(i=>i.selectedKnowledgeBaseName);return{handleOpenKnowledgeForm:async i=>{if(!r)return window.alert("No Knowledge Base Selected cannot add a knowledge entry");n(),e(i),t()},openModal:t,setMode:e,clearFormData:n}},WF=()=>{const[t,e]=m.useState("");return{filter:t,handleFilterChange:r=>{e(r)}}};function Nae(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=h=>{var x;const{scope:p,children:g,...w}=h,v=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,_=m.useMemo(()=>w,Object.values(w));return d.jsx(v.Provider,{value:_,children:g})};c.displayName=i+"Provider";function u(h,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Dae(s,...e)]}function Dae(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function kae(t,e){const n=m.createContext(e),r=i=>{const{children:o,...a}=i,l=m.useMemo(()=>a,Object.values(a));return d.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=m.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Mae(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=h=>{var x;const{scope:p,children:g,...w}=h,v=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,_=m.useMemo(()=>w,Object.values(w));return d.jsx(v.Provider,{value:_,children:g})};c.displayName=i+"Provider";function u(h,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Oae(s,...e)]}function Oae(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var jae="DismissableLayer",C_="dismissableLayer.update",Lae="dismissableLayer.pointerDownOutside",Vae="dismissableLayer.focusOutside",sP,HF=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),qF=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(HF),[u,h]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=ke(e,T=>h(T)),v=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(_),y=u?v.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,C=y>=x,P=Bae(T=>{const E=T.target,I=[...c.branches].some(R=>R.contains(E));!C||I||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},p),O=$ae(T=>{const E=T.target;[...c.branches].some(R=>R.contains(E))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},p);return Af(T=>{y===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(sP=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),iP(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=sP)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),iP())},[u,c]),m.useEffect(()=>{const T=()=>g({});return document.addEventListener(C_,T),()=>document.removeEventListener(C_,T)},[]),d.jsx(ve.div,{...l,ref:w,style:{pointerEvents:b?C?"auto":"none":void 0,...t.style},onFocusCapture:Z(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Z(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Z(t.onPointerDownCapture,P.onPointerDownCapture)})});qF.displayName=jae;var Fae="DismissableLayerBranch",Uae=m.forwardRef((t,e)=>{const n=m.useContext(HF),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(ve.div,{...t,ref:s})});Uae.displayName=Fae;function Bae(t,e=globalThis==null?void 0:globalThis.document){const n=mt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){GF(Lae,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function $ae(t,e=globalThis==null?void 0:globalThis.document){const n=mt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&GF(Vae,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function iP(){const t=new CustomEvent(C_);document.dispatchEvent(t)}function GF(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Nl(s,i):s.dispatchEvent(i)}var zae="Portal",QF=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Pt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?mf.createPortal(d.jsx(ve.div,{...r,ref:e}),o):null});QF.displayName=zae;function Kae(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var Iy=t=>{const{present:e,children:n}=t,r=Wae(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=ke(r.ref,Hae(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};Iy.displayName="Presence";function Wae(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=Kae(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=em(r.current);i.current=a==="mounted"?c:"none"},[a]),Pt(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=em(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Pt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=g=>{const v=em(r.current).includes(g.animationName);if(g.target===e&&v&&(l("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},p=g=>{g.target===e&&(i.current=em(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function em(t){return(t==null?void 0:t.animationName)||"none"}function Hae(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var QS="Dialog",[YF,XF]=Mae(QS),[qae,$s]=YF(QS),JF=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=m.useRef(null),l=m.useRef(null),[c=!1,u]=aa({prop:r,defaultProp:s,onChange:i});return d.jsx(qae,{scope:e,triggerRef:a,contentRef:l,contentId:js(),titleId:js(),descriptionId:js(),open:c,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(h=>!h),[u]),modal:o,children:n})};JF.displayName=QS;var ZF="DialogTrigger",e4=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=$s(ZF,n),i=ke(e,s.triggerRef);return d.jsx(ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":JS(s.open),...r,ref:i,onClick:Z(t.onClick,s.onOpenToggle)})});e4.displayName=ZF;var YS="DialogPortal",[Gae,t4]=YF(YS,{forceMount:void 0}),n4=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=$s(YS,e);return d.jsx(Gae,{scope:e,forceMount:n,children:m.Children.map(r,o=>d.jsx(Iy,{present:n||i.open,children:d.jsx(QF,{asChild:!0,container:s,children:o})}))})};n4.displayName=YS;var Qg="DialogOverlay",r4=m.forwardRef((t,e)=>{const n=t4(Qg,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=$s(Qg,t.__scopeDialog);return i.modal?d.jsx(Iy,{present:r||i.open,children:d.jsx(Qae,{...s,ref:e})}):null});r4.displayName=Qg;var Qae=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=$s(Qg,n);return d.jsx(Wv,{as:la,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(ve.div,{"data-state":JS(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Cl="DialogContent",s4=m.forwardRef((t,e)=>{const n=t4(Cl,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=$s(Cl,t.__scopeDialog);return d.jsx(Iy,{present:r||i.open,children:i.modal?d.jsx(Yae,{...s,ref:e}):d.jsx(Xae,{...s,ref:e})})});s4.displayName=Cl;var Yae=m.forwardRef((t,e)=>{const n=$s(Cl,t.__scopeDialog),r=m.useRef(null),s=ke(e,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return vb(i)},[]),d.jsx(i4,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Z(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Z(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Z(t.onFocusOutside,i=>i.preventDefault())})}),Xae=m.forwardRef((t,e)=>{const n=$s(Cl,t.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return d.jsx(i4,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),i4=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=$s(Cl,n),l=m.useRef(null),c=ke(e,l);return sb(),d.jsxs(d.Fragment,{children:[d.jsx(Vv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(qF,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":JS(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(Zae,{titleId:a.titleId}),d.jsx(tle,{contentRef:l,descriptionId:a.descriptionId})]})]})}),XS="DialogTitle",o4=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=$s(XS,n);return d.jsx(ve.h2,{id:s.titleId,...r,ref:e})});o4.displayName=XS;var a4="DialogDescription",l4=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=$s(a4,n);return d.jsx(ve.p,{id:s.descriptionId,...r,ref:e})});l4.displayName=a4;var c4="DialogClose",u4=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=$s(c4,n);return d.jsx(ve.button,{type:"button",...r,ref:e,onClick:Z(t.onClick,()=>s.onOpenChange(!1))})});u4.displayName=c4;function JS(t){return t?"open":"closed"}var d4="DialogTitleWarning",[Jae,h4]=kae(d4,{contentName:Cl,titleName:XS,docsSlug:"dialog"}),Zae=({titleId:t})=>{const e=h4(d4),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},ele="DialogDescriptionWarning",tle=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${h4(ele).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},f4=JF,nle=e4,p4=n4,ZS=r4,eT=s4,tT=o4,nT=l4,rT=u4,m4="AlertDialog",[rle,Xfe]=Nae(m4,[XF]),so=XF(),g4=t=>{const{__scopeAlertDialog:e,...n}=t,r=so(e);return d.jsx(f4,{...r,...n,modal:!0})};g4.displayName=m4;var sle="AlertDialogTrigger",ile=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=so(n);return d.jsx(nle,{...s,...r,ref:e})});ile.displayName=sle;var ole="AlertDialogPortal",v4=t=>{const{__scopeAlertDialog:e,...n}=t,r=so(e);return d.jsx(p4,{...r,...n})};v4.displayName=ole;var ale="AlertDialogOverlay",y4=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=so(n);return d.jsx(ZS,{...s,...r,ref:e})});y4.displayName=ale;var Dc="AlertDialogContent",[lle,cle]=rle(Dc),w4=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=so(n),o=m.useRef(null),a=ke(e,o),l=m.useRef(null);return d.jsx(Jae,{contentName:Dc,titleName:x4,docsSlug:"alert-dialog",children:d.jsx(lle,{scope:n,cancelRef:l,children:d.jsxs(eT,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:Z(s.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=l.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[d.jsx(rb,{children:r}),d.jsx(dle,{contentRef:o})]})})})});w4.displayName=Dc;var x4="AlertDialogTitle",_4=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=so(n);return d.jsx(tT,{...s,...r,ref:e})});_4.displayName=x4;var E4="AlertDialogDescription",b4=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=so(n);return d.jsx(nT,{...s,...r,ref:e})});b4.displayName=E4;var ule="AlertDialogAction",S4=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=so(n);return d.jsx(rT,{...s,...r,ref:e})});S4.displayName=ule;var T4="AlertDialogCancel",C4=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=cle(T4,n),i=so(n),o=ke(e,s);return d.jsx(rT,{...i,...r,ref:o})});C4.displayName=T4;var dle=({contentRef:t})=>{const e=`\`${Dc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Dc}\` by passing a \`${E4}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Dc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},hle=g4,fle=v4,A4=y4,R4=w4,I4=S4,P4=C4,N4=_4,D4=b4;const ple=hle,mle=fle,k4=m.forwardRef(({className:t,...e},n)=>d.jsx(A4,{className:ue("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));k4.displayName=A4.displayName;const M4=m.forwardRef(({className:t,...e},n)=>d.jsxs(mle,{children:[d.jsx(k4,{}),d.jsx(R4,{ref:n,className:ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));M4.displayName=R4.displayName;const O4=({className:t,...e})=>d.jsx("div",{className:ue("flex flex-col space-y-2 text-center sm:text-left",t),...e});O4.displayName="AlertDialogHeader";const j4=({className:t,...e})=>d.jsx("div",{className:ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});j4.displayName="AlertDialogFooter";const L4=m.forwardRef(({className:t,...e},n)=>d.jsx(N4,{ref:n,className:ue("text-lg font-semibold",t),...e}));L4.displayName=N4.displayName;const V4=m.forwardRef(({className:t,...e},n)=>d.jsx(D4,{ref:n,className:ue("text-sm text-muted-foreground",t),...e}));V4.displayName=D4.displayName;const F4=m.forwardRef(({className:t,...e},n)=>d.jsx(I4,{ref:n,className:ue(Nb(),t),...e}));F4.displayName=I4.displayName;const U4=m.forwardRef(({className:t,...e},n)=>d.jsx(P4,{ref:n,className:ue(Nb({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));U4.displayName=P4.displayName;const Xa=({title:t,description:e,isOpen:n,setDialogState:r,onDelete:s,isDestructive:i=!1})=>{const o=async()=>{r(!1),await s()},a=()=>{r(!1)};return d.jsx(ple,{open:n,onOpenChange:l=>{r(l),setTimeout(()=>{l||(document.body.style.pointerEvents="")},100)},children:d.jsxs(M4,{children:[d.jsxs(O4,{children:[d.jsx(L4,{children:t}),d.jsx(V4,{children:e})]}),d.jsxs(j4,{children:[d.jsx(U4,{onClick:a,children:"Cancel"}),d.jsx(F4,{onClick:o,className:ue(i&&"bg-red-600 hover:bg-red-700"),children:"Confirm"})]})]})})},gle={1:"Base",2:"Entry",3:"Verify"},vle={1:"Entry",2:"Verify"},vc={base:t=>({title:"Archive Knowledge Base",description:`This action will move the knowledge base "${t}" to the archive. You can restore it later from the archive.`}),entry:t=>({title:"Archive Knowledge Entry",description:`This action will move the knowledge entry "${t}" to the archive. You can restore it later from the archive.`}),baseArchive:t=>({title:"Delete Knowledge Base Permanently",description:`This action will delete the knowledge base "${t}" permanently. This action cannot be undone.`}),baseRestore:t=>({title:"Restore Knowledge Base",description:`This action will restore the knowledge base "${t}". Once restored you can find it in the knowledge tab.`}),entryArchive:t=>({title:"Delete Knowledge Entry Permanently",description:`This action will delete the knowledge entry "${t}" permanently. This action cannot be undone.`}),entryRestore:t=>({title:"Restore Knowledge Entry",description:`This action will restore the knowledge entry "${t}". Once restored you can find it in the knowledge tab.`})},yle=({onTabChange:t})=>{const{handleOpenKnowledgeForm:e}=Pae(),n=Bs(),r=Ra(),{filter:s,handleFilterChange:i}=WF(),o=ut(y=>y.admin),a=Ht(y=>y.selectedKnowledgeBaseName),l=Ht(y=>y.selectedKnowledgeEntryIntentItem),c=Ht(y=>y.setSelectedKnowledgeEntryIntentItem),u=Qr(y=>y.dialogs),h=Qr(y=>y.setDialogState),{data:p,isLoading:g}=Vl({queryFn:()=>Loe(a),queryKey:Lm,enabled:!!a}),{mutateAsync:w}=Rr({mutationFn:zoe,onSuccess:y=>{r.invalidateQueries({queryKey:Lm}),r.invalidateQueries({queryKey:Hg}),n({title:y,description:ot()})},onError:y=>{n({title:y==null?void 0:y.message,description:ot(),variant:"destructive"}),pt(y.message||"An Unexpected error occured while deleting knowledge base")}}),v=async()=>{if(!l)throw new Error("No knowledge entry intent selected cannot delete");await w(`${a}&${l}`),c("")},_=m.useMemo(()=>p==null?void 0:p.filter(y=>y.intent.toLowerCase().includes(s.toLowerCase())),[p,s]),x=vc.entry(l);return m.useEffect(()=>()=>{r.resetQueries({queryKey:Lm})},[]),g?d.jsx(KF,{}):p?d.jsxs(iy,{value:"knowledgeEntry",className:"mt-2",children:[d.jsxs("div",{className:"h-[450px] md:h-[600px] w-full px-4 flex flex-col pb-4 overflow-y-auto scrollbar-slim",children:[d.jsxs("div",{className:"flex mb-2 space-x-4 sticky top-0",children:[d.jsx(Lt,{className:"flex-grow outline-none focus:outline-none",placeholder:"Search knowledge base...",onChange:y=>i(y.target.value)}),(o==null?void 0:o.role)!=="viewer"&&d.jsx(zF,{label:"Add Knowledge Entry",onButtonClick:()=>e(Ate.entry)})]}),d.jsx(Yoe,{knowledgeEntries:_,handleTabChange:t})]}),u.showConfirmDeleteKnowledgeEntryDialog&&d.jsx(Xa,{title:x.title,description:x.description,isOpen:u.showConfirmDeleteKnowledgeEntryDialog,setDialogState:y=>h("showConfirmDeleteKnowledgeEntryDialog",y),onDelete:v})]}):d.jsx(WS,{heading:"No Knowledge Base Selected",description:"Select a knowledge base category to view its contents here."})},wle=({base:t,onItemClick:e})=>{const n=ut(l=>l.admin),r=Ht(l=>l.selectedKnowledgeBaseName),s=Ht(l=>l.setSelectedKnowledgeBaseItem),i=Qr(l=>l.openDialog),o=()=>{s(t.name),i("showRenameKnowledgeBaseDialog")},a=()=>{s(t.name),i("showConfirmDeleteKnowledgeBaseDialog")};return d.jsxs("div",{className:`group flex justify-between p-2 rounded-md cursor-pointer transition-colors ${r===t.name?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,onClick:()=>e(t.name),children:[d.jsxs("span",{className:"flex items-center gap-4",children:[d.jsx("p",{className:"max-w-[600px] truncate",title:t.name,children:t.name}),d.jsx(Of,{variant:"outline",className:"text-xs font-medium border-gray-300 bg-gray-50 text-gray-700 group-hover:border-gray-400 group-hover:bg-gray-100",children:`${t.totalEntries} entries`})]}),(n==null?void 0:n.role)!=="viewer"&&d.jsx(Xe,{className:"bg-transparent hover:bg-transparent size-8 p-0 h-fit",children:d.jsx(RF,{onRenameKnowledge:o,onDeleteKnowledge:a})})]})},xle=({knowledgeBaseNameList:t,handleTabChange:e})=>{const n=Ht(i=>i.setSelectedKnowledgeBaseName),r=Ht(i=>i.selectedKnowledgeBaseName),s=i=>{e("knowledgeEntry"),r!==i&&n(i)};return d.jsx("div",{children:d.jsx(Pu,{listStyle:"space-y-2",items:t,renderItem:i=>d.jsx(wle,{base:i,onItemClick:s})})})},Yf=f4,_le=p4,B4=m.forwardRef(({className:t,...e},n)=>d.jsx(ZS,{ref:n,className:ue("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));B4.displayName=ZS.displayName;const Vu=m.forwardRef(({className:t,children:e,hideClose:n=!1,...r},s)=>d.jsxs(_le,{children:[d.jsx(B4,{}),d.jsxs(eT,{ref:s,className:ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,!n&&d.jsxs(rT,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(Tf,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Vu.displayName=eT.displayName;const Fu=({className:t,...e})=>d.jsx("div",{className:ue("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Fu.displayName="DialogHeader";const Py=({className:t,...e})=>d.jsx("div",{className:ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Py.displayName="DialogFooter";const Uu=m.forwardRef(({className:t,...e},n)=>d.jsx(tT,{ref:n,className:ue("text-lg font-semibold leading-none tracking-tight",t),...e}));Uu.displayName=tT.displayName;const Xf=m.forwardRef(({className:t,...e},n)=>d.jsx(nT,{ref:n,className:ue("text-sm text-muted-foreground",t),...e}));Xf.displayName=nT.displayName;var Jf=t=>t.type==="checkbox",Ja=t=>t instanceof Date,pr=t=>t==null;const $4=t=>typeof t=="object";var cn=t=>!pr(t)&&!Array.isArray(t)&&$4(t)&&!Ja(t),z4=t=>cn(t)&&t.target?Jf(t.target)?t.target.checked:t.target.value:t,Ele=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,K4=(t,e)=>t.has(Ele(e)),ble=t=>{const e=t.constructor&&t.constructor.prototype;return cn(e)&&e.hasOwnProperty("isPrototypeOf")},sT=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function _r(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(sT&&(t instanceof Blob||t instanceof FileList))&&(n||cn(t)))if(e=n?[]:{},!n&&!ble(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=_r(t[r]));else return t;return e}var Ny=t=>Array.isArray(t)?t.filter(Boolean):[],en=t=>t===void 0,le=(t,e,n)=>{if(!e||!cn(t))return n;const r=Ny(e.split(/[,[\].]+?/)).reduce((s,i)=>pr(s)?s:s[i],t);return en(r)||r===t?en(t[e])?n:t[e]:r},as=t=>typeof t=="boolean",iT=t=>/^\w*$/.test(t),W4=t=>Ny(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ct=(t,e,n)=>{let r=-1;const s=iT(e)?[e]:W4(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let l=n;if(r!==o){const c=t[a];l=cn(c)||Array.isArray(c)?c:isNaN(+s[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const Yg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ns={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},xi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Sle=Re.createContext(null),oT=()=>Re.useContext(Sle);var H4=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==Ns.all&&(e._proxyFormState[o]=!r||Ns.all),n&&(n[o]=!0),t[o]}});return s},Sr=t=>cn(t)&&!Object.keys(t).length,q4=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Sr(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||Ns.all))},eh=t=>Array.isArray(t)?t:[t],G4=(t,e,n)=>!t||!e||t===e||eh(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function aT(t){const e=Re.useRef(t);e.current=t,Re.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function Tle(t){const e=oT(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,a]=Re.useState(n._formState),l=Re.useRef(!0),c=Re.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=Re.useRef(s);return u.current=s,aT({disabled:r,next:h=>l.current&&G4(u.current,h.name,i)&&q4(h,c.current,n._updateFormState)&&a({...n._formState,...h}),subject:n._subjects.state}),Re.useEffect(()=>(l.current=!0,c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),H4(o,n,c.current,!1)}var Zs=t=>typeof t=="string",Q4=(t,e,n,r,s)=>Zs(t)?(r&&e.watch.add(t),le(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),le(n,i))):(r&&(e.watchAll=!0),n);function Cle(t){const e=oT(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o}=t||{},a=Re.useRef(r);a.current=r,aT({disabled:i,subject:n._subjects.values,next:u=>{G4(a.current,u.name,o)&&c(_r(Q4(a.current,n._names,u.values||n._formValues,!1,s)))}});const[l,c]=Re.useState(n._getWatch(r,s));return Re.useEffect(()=>n._removeUnmounted()),l}function Ale(t){const e=oT(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i}=t,o=K4(s._names.array,n),a=Cle({control:s,name:n,defaultValue:le(s._formValues,n,le(s._defaultValues,n,t.defaultValue)),exact:!0}),l=Tle({control:s,name:n,exact:!0}),c=Re.useRef(s.register(n,{...t.rules,value:a,...as(t.disabled)?{disabled:t.disabled}:{}}));return Re.useEffect(()=>{const u=s._options.shouldUnregister||i,h=(p,g)=>{const w=le(s._fields,p);w&&w._f&&(w._f.mount=g)};if(h(n,!0),u){const p=_r(le(s._options.defaultValues,n));Ct(s._defaultValues,n,p),en(le(s._formValues,n))&&Ct(s._formValues,n,p)}return()=>{(o?u&&!s._state.action:u)?s.unregister(n):h(n,!1)}},[n,s,o,i]),Re.useEffect(()=>{le(s._fields,n)&&s._updateDisabledField({disabled:r,fields:s._fields,name:n,value:le(s._fields,n)._f.value})},[r,n,s]),{field:{name:n,value:a,...as(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:Re.useCallback(u=>c.current.onChange({target:{value:z4(u),name:n},type:Yg.CHANGE}),[n]),onBlur:Re.useCallback(()=>c.current.onBlur({target:{value:le(s._formValues,n),name:n},type:Yg.BLUR}),[n,s]),ref:Re.useCallback(u=>{const h=le(s._fields,n);h&&u&&(h._f.ref={focus:()=>u.focus(),select:()=>u.select(),setCustomValidity:p=>u.setCustomValidity(p),reportValidity:()=>u.reportValidity()})},[s._fields,n])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!le(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!le(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!le(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!le(l.validatingFields,n)},error:{enumerable:!0,get:()=>le(l.errors,n)}})}}const Y4=t=>t.render(Ale(t));var Rle=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},oP=t=>({isOnSubmit:!t||t===Ns.onSubmit,isOnBlur:t===Ns.onBlur,isOnChange:t===Ns.onChange,isOnAll:t===Ns.all,isOnTouch:t===Ns.onTouched}),aP=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const th=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=le(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(th(a,e))break}else if(cn(a)&&th(a,e))break}}};var Ile=(t,e,n)=>{const r=eh(le(t,n));return Ct(r,"root",e[n]),Ct(t,n,r),t},lT=t=>t.type==="file",Di=t=>typeof t=="function",Xg=t=>{if(!sT)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Fm=t=>Zs(t),cT=t=>t.type==="radio",Jg=t=>t instanceof RegExp;const lP={value:!1,isValid:!1},cP={value:!0,isValid:!0};var X4=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!en(t[0].attributes.value)?en(t[0].value)||t[0].value===""?cP:{value:t[0].value,isValid:!0}:cP:lP}return lP};const uP={isValid:!1,value:null};var J4=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,uP):uP;function dP(t,e,n="validate"){if(Fm(t)||Array.isArray(t)&&t.every(Fm)||as(t)&&!t)return{type:n,message:Fm(t)?t:"",ref:e}}var Ql=t=>cn(t)&&!Jg(t)?t:{value:t,message:""},hP=async(t,e,n,r,s)=>{const{ref:i,refs:o,required:a,maxLength:l,minLength:c,min:u,max:h,pattern:p,validate:g,name:w,valueAsNumber:v,mount:_,disabled:x}=t._f,y=le(e,w);if(!_||x)return{};const b=o?o[0]:i,C=M=>{r&&b.reportValidity&&(b.setCustomValidity(as(M)?"":M||""),b.reportValidity())},P={},O=cT(i),T=Jf(i),E=O||T,I=(v||lT(i))&&en(i.value)&&en(y)||Xg(i)&&i.value===""||y===""||Array.isArray(y)&&!y.length,R=Rle.bind(null,w,n,P),k=(M,N,W,se=xi.maxLength,ne=xi.minLength)=>{const Y=M?N:W;P[w]={type:M?se:ne,message:Y,ref:i,...R(M?se:ne,Y)}};if(s?!Array.isArray(y)||!y.length:a&&(!E&&(I||pr(y))||as(y)&&!y||T&&!X4(o).isValid||O&&!J4(o).isValid)){const{value:M,message:N}=Fm(a)?{value:!!a,message:a}:Ql(a);if(M&&(P[w]={type:xi.required,message:N,ref:b,...R(xi.required,N)},!n))return C(N),P}if(!I&&(!pr(u)||!pr(h))){let M,N;const W=Ql(h),se=Ql(u);if(!pr(y)&&!isNaN(y)){const ne=i.valueAsNumber||y&&+y;pr(W.value)||(M=ne>W.value),pr(se.value)||(N=ne<se.value)}else{const ne=i.valueAsDate||new Date(y),Y=J=>new Date(new Date().toDateString()+" "+J),z=i.type=="time",B=i.type=="week";Zs(W.value)&&y&&(M=z?Y(y)>Y(W.value):B?y>W.value:ne>new Date(W.value)),Zs(se.value)&&y&&(N=z?Y(y)<Y(se.value):B?y<se.value:ne<new Date(se.value))}if((M||N)&&(k(!!M,W.message,se.message,xi.max,xi.min),!n))return C(P[w].message),P}if((l||c)&&!I&&(Zs(y)||s&&Array.isArray(y))){const M=Ql(l),N=Ql(c),W=!pr(M.value)&&y.length>+M.value,se=!pr(N.value)&&y.length<+N.value;if((W||se)&&(k(W,M.message,N.message),!n))return C(P[w].message),P}if(p&&!I&&Zs(y)){const{value:M,message:N}=Ql(p);if(Jg(M)&&!y.match(M)&&(P[w]={type:xi.pattern,message:N,ref:i,...R(xi.pattern,N)},!n))return C(N),P}if(g){if(Di(g)){const M=await g(y,e),N=dP(M,b);if(N&&(P[w]={...N,...R(xi.validate,N.message)},!n))return C(N.message),P}else if(cn(g)){let M={};for(const N in g){if(!Sr(M)&&!n)break;const W=dP(await g[N](y,e),b,N);W&&(M={...W,...R(N,W.message)},C(W.message),n&&(P[w]=M))}if(!Sr(M)&&(P[w]={ref:b,...M},!n))return P}}return C(!0),P};function Ple(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=en(t)?r++:t[e[r++]];return t}function Nle(t){for(const e in t)if(t.hasOwnProperty(e)&&!en(t[e]))return!1;return!0}function wn(t,e){const n=Array.isArray(e)?e:iT(e)?[e]:W4(e),r=n.length===1?t:Ple(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(cn(r)&&Sr(r)||Array.isArray(r)&&Nle(r))&&wn(t,n.slice(0,-1)),t}var h0=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},A_=t=>pr(t)||!$4(t);function No(t,e){if(A_(t)||A_(e))return t===e;if(Ja(t)&&Ja(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Ja(i)&&Ja(o)||cn(i)&&cn(o)||Array.isArray(i)&&Array.isArray(o)?!No(i,o):i!==o)return!1}}return!0}var Z4=t=>t.type==="select-multiple",Dle=t=>cT(t)||Jf(t),f0=t=>Xg(t)&&t.isConnected,eU=t=>{for(const e in t)if(Di(t[e]))return!0;return!1};function Zg(t,e={}){const n=Array.isArray(t);if(cn(t)||n)for(const r in t)Array.isArray(t[r])||cn(t[r])&&!eU(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Zg(t[r],e[r])):pr(t[r])||(e[r]=!0);return e}function tU(t,e,n){const r=Array.isArray(t);if(cn(t)||r)for(const s in t)Array.isArray(t[s])||cn(t[s])&&!eU(t[s])?en(e)||A_(n[s])?n[s]=Array.isArray(t[s])?Zg(t[s],[]):{...Zg(t[s])}:tU(t[s],pr(e)?{}:e[s],n[s]):n[s]=!No(t[s],e[s]);return n}var gd=(t,e)=>tU(t,e,Zg(e)),nU=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>en(t)?t:e?t===""?NaN:t&&+t:n&&Zs(t)?new Date(t):r?r(t):t;function p0(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return lT(e)?e.files:cT(e)?J4(t.refs).value:Z4(e)?[...e.selectedOptions].map(({value:n})=>n):Jf(e)?X4(t.refs).value:nU(en(e.value)?t.ref.value:e.value,t)}var kle=(t,e,n,r)=>{const s={};for(const i of t){const o=le(e,i);o&&Ct(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},vd=t=>en(t)?t:Jg(t)?t.source:cn(t)?Jg(t.value)?t.value.source:t.value:t;const fP="AsyncFunction";var Mle=t=>(!t||!t.validate)&&!!(Di(t.validate)&&t.validate.constructor.name===fP||cn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===fP)),Ole=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function pP(t,e,n){const r=le(t,n);if(r||iT(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=le(e,i),a=le(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var jle=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,Lle=(t,e)=>!Ny(le(t,e)).length&&wn(t,e);const Vle={mode:Ns.onSubmit,reValidateMode:Ns.onChange,shouldFocusError:!0};function Fle(t={}){let e={...Vle,...t},n={submitCount:0,isDirty:!1,isLoading:Di(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=cn(e.defaultValues)||cn(e.values)?_r(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:_r(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:h0(),array:h0(),state:h0()},p=oP(e.mode),g=oP(e.reValidateMode),w=e.criteriaMode===Ns.all,v=j=>$=>{clearTimeout(c),c=setTimeout(j,$)},_=async j=>{if(!t.disabled&&(u.isValid||j)){const $=e.resolver?Sr((await E()).errors):await R(r,!0);$!==n.isValid&&h.state.next({isValid:$})}},x=(j,$)=>{!t.disabled&&(u.isValidating||u.validatingFields)&&((j||Array.from(a.mount)).forEach(H=>{H&&($?Ct(n.validatingFields,H,$):wn(n.validatingFields,H))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Sr(n.validatingFields)}))},y=(j,$=[],H,ie,re=!0,ee=!0)=>{if(ie&&H&&!t.disabled){if(o.action=!0,ee&&Array.isArray(le(r,j))){const _e=H(le(r,j),ie.argA,ie.argB);re&&Ct(r,j,_e)}if(ee&&Array.isArray(le(n.errors,j))){const _e=H(le(n.errors,j),ie.argA,ie.argB);re&&Ct(n.errors,j,_e),Lle(n.errors,j)}if(u.touchedFields&&ee&&Array.isArray(le(n.touchedFields,j))){const _e=H(le(n.touchedFields,j),ie.argA,ie.argB);re&&Ct(n.touchedFields,j,_e)}u.dirtyFields&&(n.dirtyFields=gd(s,i)),h.state.next({name:j,isDirty:M(j,$),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ct(i,j,$)},b=(j,$)=>{Ct(n.errors,j,$),h.state.next({errors:n.errors})},C=j=>{n.errors=j,h.state.next({errors:n.errors,isValid:!1})},P=(j,$,H,ie)=>{const re=le(r,j);if(re){const ee=le(i,j,en(H)?le(s,j):H);en(ee)||ie&&ie.defaultChecked||$?Ct(i,j,$?ee:p0(re._f)):se(j,ee),o.mount&&_()}},O=(j,$,H,ie,re)=>{let ee=!1,_e=!1;const Ue={name:j};if(!t.disabled){const Be=!!(le(r,j)&&le(r,j)._f&&le(r,j)._f.disabled);if(!H||ie){u.isDirty&&(_e=n.isDirty,n.isDirty=Ue.isDirty=M(),ee=_e!==Ue.isDirty);const je=Be||No(le(s,j),$);_e=!!(!Be&&le(n.dirtyFields,j)),je||Be?wn(n.dirtyFields,j):Ct(n.dirtyFields,j,!0),Ue.dirtyFields=n.dirtyFields,ee=ee||u.dirtyFields&&_e!==!je}if(H){const je=le(n.touchedFields,j);je||(Ct(n.touchedFields,j,H),Ue.touchedFields=n.touchedFields,ee=ee||u.touchedFields&&je!==H)}ee&&re&&h.state.next(Ue)}return ee?Ue:{}},T=(j,$,H,ie)=>{const re=le(n.errors,j),ee=u.isValid&&as($)&&n.isValid!==$;if(t.delayError&&H?(l=v(()=>b(j,H)),l(t.delayError)):(clearTimeout(c),l=null,H?Ct(n.errors,j,H):wn(n.errors,j)),(H?!No(re,H):re)||!Sr(ie)||ee){const _e={...ie,...ee&&as($)?{isValid:$}:{},errors:n.errors,name:j};n={...n,..._e},h.state.next(_e)}},E=async j=>{x(j,!0);const $=await e.resolver(i,e.context,kle(j||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return x(j),$},I=async j=>{const{errors:$}=await E(j);if(j)for(const H of j){const ie=le($,H);ie?Ct(n.errors,H,ie):wn(n.errors,H)}else n.errors=$;return $},R=async(j,$,H={valid:!0})=>{for(const ie in j){const re=j[ie];if(re){const{_f:ee,..._e}=re;if(ee){const Ue=a.array.has(ee.name),Be=re._f&&Mle(re._f);Be&&u.validatingFields&&x([ie],!0);const je=await hP(re,i,w,e.shouldUseNativeValidation&&!$,Ue);if(Be&&u.validatingFields&&x([ie]),je[ee.name]&&(H.valid=!1,$))break;!$&&(le(je,ee.name)?Ue?Ile(n.errors,je,ee.name):Ct(n.errors,ee.name,je[ee.name]):wn(n.errors,ee.name))}!Sr(_e)&&await R(_e,$,H)}}return H.valid},k=()=>{for(const j of a.unMount){const $=le(r,j);$&&($._f.refs?$._f.refs.every(H=>!f0(H)):!f0($._f.ref))&&Ne(j)}a.unMount=new Set},M=(j,$)=>!t.disabled&&(j&&$&&Ct(i,j,$),!No(fe(),s)),N=(j,$,H)=>Q4(j,a,{...o.mount?i:en($)?s:Zs(j)?{[j]:$}:$},H,$),W=j=>Ny(le(o.mount?i:s,j,t.shouldUnregister?le(s,j,[]):[])),se=(j,$,H={})=>{const ie=le(r,j);let re=$;if(ie){const ee=ie._f;ee&&(!ee.disabled&&Ct(i,j,nU($,ee)),re=Xg(ee.ref)&&pr($)?"":$,Z4(ee.ref)?[...ee.ref.options].forEach(_e=>_e.selected=re.includes(_e.value)):ee.refs?Jf(ee.ref)?ee.refs.length>1?ee.refs.forEach(_e=>(!_e.defaultChecked||!_e.disabled)&&(_e.checked=Array.isArray(re)?!!re.find(Ue=>Ue===_e.value):re===_e.value)):ee.refs[0]&&(ee.refs[0].checked=!!re):ee.refs.forEach(_e=>_e.checked=_e.value===re):lT(ee.ref)?ee.ref.value="":(ee.ref.value=re,ee.ref.type||h.values.next({name:j,values:{...i}})))}(H.shouldDirty||H.shouldTouch)&&O(j,re,H.shouldTouch,H.shouldDirty,!0),H.shouldValidate&&J(j)},ne=(j,$,H)=>{for(const ie in $){const re=$[ie],ee=`${j}.${ie}`,_e=le(r,ee);(a.array.has(j)||cn(re)||_e&&!_e._f)&&!Ja(re)?ne(ee,re,H):se(ee,re,H)}},Y=(j,$,H={})=>{const ie=le(r,j),re=a.array.has(j),ee=_r($);Ct(i,j,ee),re?(h.array.next({name:j,values:{...i}}),(u.isDirty||u.dirtyFields)&&H.shouldDirty&&h.state.next({name:j,dirtyFields:gd(s,i),isDirty:M(j,ee)})):ie&&!ie._f&&!pr(ee)?ne(j,ee,H):se(j,ee,H),aP(j,a)&&h.state.next({...n}),h.values.next({name:o.mount?j:void 0,values:{...i}})},z=async j=>{o.mount=!0;const $=j.target;let H=$.name,ie=!0;const re=le(r,H),ee=()=>$.type?p0(re._f):z4(j),_e=Ue=>{ie=Number.isNaN(Ue)||Ja(Ue)&&isNaN(Ue.getTime())||No(Ue,le(i,H,Ue))};if(re){let Ue,Be;const je=ee(),Yt=j.type===Yg.BLUR||j.type===Yg.FOCUS_OUT,wr=!Ole(re._f)&&!e.resolver&&!le(n.errors,H)&&!re._f.deps||jle(Yt,le(n.touchedFields,H),n.isSubmitted,g,p),Rn=aP(H,a,Yt);Ct(i,H,je),Yt?(re._f.onBlur&&re._f.onBlur(j),l&&l(0)):re._f.onChange&&re._f.onChange(j);const Ft=O(H,je,Yt,!1),Or=!Sr(Ft)||Rn;if(!Yt&&h.values.next({name:H,type:j.type,values:{...i}}),wr)return u.isValid&&(t.mode==="onBlur"?Yt&&_():_()),Or&&h.state.next({name:H,...Rn?{}:Ft});if(!Yt&&Rn&&h.state.next({...n}),e.resolver){const{errors:Jr}=await E([H]);if(_e(je),ie){const io=pP(n.errors,r,H),gn=pP(Jr,r,io.name||H);Ue=gn.error,H=gn.name,Be=Sr(Jr)}}else x([H],!0),Ue=(await hP(re,i,w,e.shouldUseNativeValidation))[H],x([H]),_e(je),ie&&(Ue?Be=!1:u.isValid&&(Be=await R(r,!0)));ie&&(re._f.deps&&J(re._f.deps),T(H,Be,Ue,Ft))}},B=(j,$)=>{if(le(n.errors,$)&&j.focus)return j.focus(),1},J=async(j,$={})=>{let H,ie;const re=eh(j);if(e.resolver){const ee=await I(en(j)?j:re);H=Sr(ee),ie=j?!re.some(_e=>le(ee,_e)):H}else j?(ie=(await Promise.all(re.map(async ee=>{const _e=le(r,ee);return await R(_e&&_e._f?{[ee]:_e}:_e)}))).every(Boolean),!(!ie&&!n.isValid)&&_()):ie=H=await R(r);return h.state.next({...!Zs(j)||u.isValid&&H!==n.isValid?{}:{name:j},...e.resolver||!j?{isValid:H}:{},errors:n.errors}),$.shouldFocus&&!ie&&th(r,B,j?re:a.mount),ie},fe=j=>{const $={...o.mount?i:s};return en(j)?$:Zs(j)?le($,j):j.map(H=>le($,H))},he=(j,$)=>({invalid:!!le(($||n).errors,j),isDirty:!!le(($||n).dirtyFields,j),error:le(($||n).errors,j),isValidating:!!le(n.validatingFields,j),isTouched:!!le(($||n).touchedFields,j)}),Te=j=>{j&&eh(j).forEach($=>wn(n.errors,$)),h.state.next({errors:j?n.errors:{}})},We=(j,$,H)=>{const ie=(le(r,j,{_f:{}})._f||{}).ref,re=le(n.errors,j)||{},{ref:ee,message:_e,type:Ue,...Be}=re;Ct(n.errors,j,{...Be,...$,ref:ie}),h.state.next({name:j,errors:n.errors,isValid:!1}),H&&H.shouldFocus&&ie&&ie.focus&&ie.focus()},at=(j,$)=>Di(j)?h.values.subscribe({next:H=>j(N(void 0,$),H)}):N(j,$,!0),Ne=(j,$={})=>{for(const H of j?eh(j):a.mount)a.mount.delete(H),a.array.delete(H),$.keepValue||(wn(r,H),wn(i,H)),!$.keepError&&wn(n.errors,H),!$.keepDirty&&wn(n.dirtyFields,H),!$.keepTouched&&wn(n.touchedFields,H),!$.keepIsValidating&&wn(n.validatingFields,H),!e.shouldUnregister&&!$.keepDefaultValue&&wn(s,H);h.values.next({values:{...i}}),h.state.next({...n,...$.keepDirty?{isDirty:M()}:{}}),!$.keepIsValid&&_()},ce=({disabled:j,name:$,field:H,fields:ie,value:re})=>{if(as(j)&&o.mount||j){const ee=j?void 0:en(re)?p0(H?H._f:le(ie,$)._f):re;Ct(i,$,ee),O($,ee,!1,!1,!0)}},Pe=(j,$={})=>{let H=le(r,j);const ie=as($.disabled)||as(t.disabled);return Ct(r,j,{...H||{},_f:{...H&&H._f?H._f:{ref:{name:j}},name:j,mount:!0,...$}}),a.mount.add(j),H?ce({field:H,disabled:as($.disabled)?$.disabled:t.disabled,name:j,value:$.value}):P(j,!0,$.value),{...ie?{disabled:$.disabled||t.disabled}:{},...e.progressive?{required:!!$.required,min:vd($.min),max:vd($.max),minLength:vd($.minLength),maxLength:vd($.maxLength),pattern:vd($.pattern)}:{},name:j,onChange:z,onBlur:z,ref:re=>{if(re){Pe(j,$),H=le(r,j);const ee=en(re.value)&&re.querySelectorAll&&re.querySelectorAll("input,select,textarea")[0]||re,_e=Dle(ee),Ue=H._f.refs||[];if(_e?Ue.find(Be=>Be===ee):ee===H._f.ref)return;Ct(r,j,{_f:{...H._f,..._e?{refs:[...Ue.filter(f0),ee,...Array.isArray(le(s,j))?[{}]:[]],ref:{type:ee.type,name:j}}:{ref:ee}}}),P(j,!1,void 0,ee)}else H=le(r,j,{}),H._f&&(H._f.mount=!1),(e.shouldUnregister||$.shouldUnregister)&&!(K4(a.array,j)&&o.action)&&a.unMount.add(j)}}},He=()=>e.shouldFocusError&&th(r,B,a.mount),pe=j=>{as(j)&&(h.state.next({disabled:j}),th(r,($,H)=>{const ie=le(r,H);ie&&($.disabled=ie._f.disabled||j,Array.isArray(ie._f.refs)&&ie._f.refs.forEach(re=>{re.disabled=ie._f.disabled||j}))},0,!1))},$e=(j,$)=>async H=>{let ie;H&&(H.preventDefault&&H.preventDefault(),H.persist&&H.persist());let re=_r(i);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:ee,values:_e}=await E();n.errors=ee,re=_e}else await R(r);if(wn(n.errors,"root"),Sr(n.errors)){h.state.next({errors:{}});try{await j(re,H)}catch(ee){ie=ee}}else $&&await $({...n.errors},H),He(),setTimeout(He);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Sr(n.errors)&&!ie,submitCount:n.submitCount+1,errors:n.errors}),ie)throw ie},Oe=(j,$={})=>{le(r,j)&&(en($.defaultValue)?Y(j,_r(le(s,j))):(Y(j,$.defaultValue),Ct(s,j,_r($.defaultValue))),$.keepTouched||wn(n.touchedFields,j),$.keepDirty||(wn(n.dirtyFields,j),n.isDirty=$.defaultValue?M(j,_r(le(s,j))):M()),$.keepError||(wn(n.errors,j),u.isValid&&_()),h.state.next({...n}))},yt=(j,$={})=>{const H=j?_r(j):s,ie=_r(H),re=Sr(j),ee=re?s:ie;if($.keepDefaultValues||(s=H),!$.keepValues){if($.keepDirtyValues){const _e=new Set([...a.mount,...Object.keys(gd(s,i))]);for(const Ue of Array.from(_e))le(n.dirtyFields,Ue)?Ct(ee,Ue,le(i,Ue)):Y(Ue,le(ee,Ue))}else{if(sT&&en(j))for(const _e of a.mount){const Ue=le(r,_e);if(Ue&&Ue._f){const Be=Array.isArray(Ue._f.refs)?Ue._f.refs[0]:Ue._f.ref;if(Xg(Be)){const je=Be.closest("form");if(je){je.reset();break}}}}r={}}i=t.shouldUnregister?$.keepDefaultValues?_r(s):{}:_r(ee),h.array.next({values:{...ee}}),h.values.next({values:{...ee}})}a={mount:$.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!$.keepIsValid||!!$.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:$.keepSubmitCount?n.submitCount:0,isDirty:re?!1:$.keepDirty?n.isDirty:!!($.keepDefaultValues&&!No(j,s)),isSubmitted:$.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:re?{}:$.keepDirtyValues?$.keepDefaultValues&&i?gd(s,i):n.dirtyFields:$.keepDefaultValues&&j?gd(s,j):$.keepDirty?n.dirtyFields:{},touchedFields:$.keepTouched?n.touchedFields:{},errors:$.keepErrors?n.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},qe=(j,$)=>yt(Di(j)?j(i):j,$);return{control:{register:Pe,unregister:Ne,getFieldState:he,handleSubmit:$e,setError:We,_executeSchema:E,_getWatch:N,_getDirty:M,_updateValid:_,_removeUnmounted:k,_updateFieldArray:y,_updateDisabledField:ce,_getFieldArray:W,_reset:yt,_resetDefaultValues:()=>Di(e.defaultValues)&&e.defaultValues().then(j=>{qe(j,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:j=>{n={...n,...j}},_disableForm:pe,_subjects:h,_proxyFormState:u,_setErrors:C,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(j){o=j},get _defaultValues(){return s},get _names(){return a},set _names(j){a=j},get _formState(){return n},set _formState(j){n=j},get _options(){return e},set _options(j){e={...e,...j}}},trigger:J,register:Pe,handleSubmit:$e,watch:at,setValue:Y,getValues:fe,reset:qe,resetField:Oe,clearErrors:Te,unregister:Ne,setError:We,setFocus:(j,$={})=>{const H=le(r,j),ie=H&&H._f;if(ie){const re=ie.refs?ie.refs[0]:ie.ref;re.focus&&(re.focus(),$.shouldSelect&&re.select())}},getFieldState:he}}function Zf(t={}){const e=Re.useRef(),n=Re.useRef(),[r,s]=Re.useState({isDirty:!1,isValidating:!1,isLoading:Di(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Di(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Fle(t),formState:r});const i=e.current.control;return i._options=t,aT({subject:i._subjects.state,next:o=>{q4(o,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),Re.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Re.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),Re.useEffect(()=>{t.values&&!No(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),Re.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),Re.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),Re.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),Re.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=H4(r,i),e.current}const Ule=({currentName:t,isOpen:e,setDialogState:n,onRenameKnowledge:r,isLoading:s})=>{const{register:i,reset:o,handleSubmit:a,formState:{errors:l,isSubmitted:c}}=Zf({defaultValues:{newKnowledgeBaseName:t}}),u=async p=>{await r(p.newKnowledgeBaseName),h()},h=(p=void 0)=>{n(p??!1),o({}),setTimeout(()=>{p||(document.body.style.pointerEvents="")},100)};return d.jsx(Yf,{open:e,onOpenChange:p=>{h(p)},children:d.jsxs(Vu,{className:"sm:max-w-[425px]",children:[d.jsxs(Fu,{children:[d.jsx(Uu,{className:"text-2xl font-bold",children:"Rename Knowledge Base"}),d.jsx(Xf,{children:"Enter a new name for the knowledge base to update its name."})]}),d.jsxs("form",{onSubmit:a(u),className:"text-sm space-y-2",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx(Tn,{htmlFor:"current-password",children:"Knowledge Base Name"}),d.jsx(Lt,{placeholder:"Enter new knowledge base name",...i("newKnowledgeBaseName",{required:"Please enter a new Knowledge Base name",minLength:{value:4,message:"Knowledge base name must be atleast 4 characters"}})}),c&&l.newKnowledgeBaseName&&d.jsx("p",{className:"text-red-500",children:l.newKnowledgeBaseName.message})]}),d.jsx(Py,{children:d.jsx(Xe,{type:"submit",className:"w-40",children:s?d.jsx(Aa,{}):"Rename"})})]})]})})},Ble=({onTabChange:t})=>{const e=Ra(),n=Bs(),{handleFilterChange:r,filter:s}=WF(),i=ut(R=>R.admin),o=Ht(R=>R.selectedKnowledgeBaseItem),a=Ht(R=>R.setSelectedKnowledgeBaseItem),l=Ht(R=>R.selectedKnowledgeBaseName),c=Ht(R=>R.setSelectedKnowledgeBaseName),u=Ht(R=>R.setSelectedKnowledgeEntry),h=ms(R=>R.openModal),p=ms(R=>R.setMode),g=vt(R=>R.clearFormData),w=Qr(R=>R.dialogs),v=Qr(R=>R.setDialogState),{data:_,isLoading:x}=Vl({queryFn:()=>joe(),queryKey:Zd}),{mutateAsync:y}=Rr({mutationFn:$oe,onSuccess:()=>{e.invalidateQueries({queryKey:Zd}),e.invalidateQueries({queryKey:Wg}),n({title:`Knowledge Base ${o} deleted`,description:ot()})},onError:R=>{n({title:R==null?void 0:R.message,description:ot(),variant:"destructive"}),pt(R.message||"An Unexpected error occured while deleting knowledge base")}}),{mutateAsync:b,isPending:C}=Rr({mutationFn:Boe,onSuccess:R=>{e.invalidateQueries({queryKey:Zd}),n({title:R,description:ot()})},onError:R=>{n({title:R==null?void 0:R.message,description:ot(),variant:"destructive"}),pt(R.message||"An Unexpected error occured while deleting knowledge base")}}),P=m.useMemo(()=>_==null?void 0:_.filter(R=>R.name.toLowerCase().includes(s.toLowerCase())),[_,s]),O=async()=>{if(!o)throw new Error("No knowledge base selected cannot delete");await y(o),a(""),l&&l===o&&(c(""),u(null))},T=async R=>{try{if(!o)throw new Error("No selected knowledge base");await b({knowledgeBaseName:o,newKnowledgeBaseName:R}),l&&l===o&&c(R)}catch(k){if(k instanceof Error){pt(k.message,!0);return}console.error("Am umexpected error occured: ",k)}},E=R=>{g(),p(R),h()},I=vc.base(o);return x?d.jsx(KF,{}):_?d.jsxs(iy,{value:"knowledgeBase",className:"mt-2",children:[d.jsxs("div",{className:"h-[450px] md:h-[600px] w-full px-4 pb-4 flex flex-col overflow-y-auto scrollbar-slim",children:[d.jsxs("div",{className:"flex mb-2 space-x-4 sticky top-0",children:[d.jsx(Lt,{className:"flex-grow outline-none focus:outline-none",placeholder:"Search knowledge base...",onChange:R=>r(R.target.value)}),(i==null?void 0:i.role)!=="viewer"&&d.jsx(zF,{label:"Add Knowledge Base",onButtonClick:()=>E("BASE")})]}),_.length===0?d.jsxs("div",{className:"flex-1 flex flex-col justify-center items-center",children:[d.jsx("div",{className:"h-20 w-20 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:d.jsx(CM,{className:"h-10 w-10 text-primary"})}),d.jsx("h2",{className:"text-lg font-semibold mb-2",children:"No knowledge bases"}),d.jsx("p",{className:"text-sm text-center text-muted-foreground mb-6 max-w-md whitespace-pre-line",children:"Create a knowledge base to enhance your bot's knowledge and responsiveness."})]}):d.jsx(xle,{knowledgeBaseNameList:P,handleTabChange:t})]}),w.showConfirmDeleteKnowledgeBaseDialog&&d.jsx(Xa,{title:I.title,description:I.description,isOpen:w.showConfirmDeleteKnowledgeBaseDialog,setDialogState:R=>v("showConfirmDeleteKnowledgeBaseDialog",R),onDelete:O,isDestructive:!0}),w.showRenameKnowledgeBaseDialog&&d.jsx(Ule,{currentName:o,isOpen:w.showRenameKnowledgeBaseDialog,setDialogState:R=>v("showRenameKnowledgeBaseDialog",R),onRenameKnowledge:T,isLoading:C})]}):d.jsx(WS,{heading:"Empty Knowledge Base",description:"No knowledge base found"})},$le=()=>{const t=ji(n=>n.currentSelectedKnowledgeTab),e=ji(n=>n.setCurrentSelectedKnowledgeTab);return d.jsxs(u2,{value:t,onValueChange:n=>e(n),className:"w-full p-0 border-neutral-200 bg-white border shadow-sm text-sm md:text-base rounded-md overflow-hidden box-border",children:[d.jsx(Yee,{tabs:Gee}),t==="knowledgeBase"&&d.jsx(Ble,{onTabChange:e}),t==="knowledgeEntry"&&d.jsx(yle,{onTabChange:e}),t==="entryDetails"&&d.jsx(Goe,{})]})},ki=ro((t,e)=>({currentStep:1,totalStep:3,nextStep:()=>{e().currentStep!==e().totalStep&&t(n=>({currentStep:n.currentStep+1}))},prevStep:()=>{e().currentStep!==1&&t(n=>({currentStep:n.currentStep-1}))},setTotalStep:n=>{if(n==="BASE")return t(()=>({totalStep:3}));t(()=>({totalStep:2}))},resetCurrentStep:()=>{t(()=>({currentStep:1}))}})),zle=({progressData:t})=>{const e=ki(s=>s.totalStep),n=ki(s=>s.currentStep),r=(n-1)/(e-1)*100;return d.jsxs("div",{className:"mt-4 mb-8",children:[d.jsx("div",{className:"flex justify-between mb-2",children:[...Array(e)].map((s,i)=>d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${n>=i+1?"bg-lightGray text-htext":"bg-lightGray-darker text-muted-foreground"}`,children:i+1}),d.jsx("span",{className:"text-xs mt-1",children:t[i+1]})]},i))}),d.jsx("div",{className:"h-2 bg-muted rounded-full",children:d.jsx("div",{className:"h-full bg-blue-600 rounded-full transition-all duration-300 ease-in-out",style:{width:`${r}%`}})})]})},nh=({errorMessage:t})=>d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(kM,{className:"text-destructive size-5",strokeWidth:1.5}),d.jsx("div",{className:"text-destructive text-sm",children:t})]}),Kle=()=>{const{knowledgeBaseName:t}=vt(r=>r.formData),{knowledgeBaseName:e}=vt(r=>r.formDataErrors),n=vt(r=>r.setFormData);return d.jsx("div",{className:"space-y-1",children:d.jsxs(d.Fragment,{children:[d.jsx("label",{htmlFor:"knowledgeBaseName",className:"block text-sm font-medium",children:"Knowledge Base Name"}),d.jsx(Lt,{name:"knowledgeBaseName",placeholder:"Enter knowledge base name",value:t,className:ue(e&&"border-destructive"),onChange:r=>n(r.target.name,r.target.value),maxLength:jg}),e&&d.jsx(nh,{errorMessage:e})]})})},mP=()=>{const{intent:t,documents:e,answer:n}=vt(C=>C.formData),{intent:r,documents:s,answer:i}=vt(C=>C.formDataErrors),o=vt(C=>C.setDocuments),a=vt(C=>C.removeDocument),l=vt(C=>C.setFormData),c=vt(C=>C.addDocument),u=Ht(C=>C.selectedKnowledgeBaseName),h=ms(C=>C.modalMode),{file:p,isLinkDialogOpen:g,setIsLinkDialogOpen:w,handleFileChange:v,handleInsertLink:_,handleRemoveFile:x,fileInputRef:y,answerTextAreaRef:b}=AF(n);return m.useEffect(()=>{h==="ENTRY"&&l("knowledgeBaseName",u)},[]),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-1.5",children:[d.jsx(Tn,{children:"Intent"}),d.jsx(Lt,{placeholder:"Enter the intent",value:t,className:ue(r&&"border-destructive"),onChange:C=>l("intent",C.target.value),tabIndex:1,maxLength:jg}),r&&d.jsx(nh,{errorMessage:r})]}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsx(Tn,{children:"Documents"}),e.map((C,P)=>d.jsxs("div",{className:"flex",children:[d.jsx(Lt,{placeholder:`Enter document ${P+1}`,className:ue("rounded-none border-r-0",s&&"border-destructive"),value:C,onChange:O=>o(O.target.value,P),tabIndex:2,maxLength:jg},P),d.jsx(ln,{className:"rounded-none h-[40px] border-l-0",children:d.jsxs(Xe,{type:"button",variant:"ghost",size:"icon",onClick:()=>a(P),className:"hover:bg-transparent border-none",children:[d.jsx(Su,{className:"h-4 w-4 text-gray-500 hover:text-gray-700"}),d.jsx("span",{className:"sr-only",children:"Remove document"})]})})]},P)),s&&d.jsx(nh,{errorMessage:s}),d.jsxs(Xe,{variant:"outline",onClick:c,className:"w-full",children:[d.jsx(bu,{className:"mr-2 h-4 w-4"})," Add Document"]})]}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsx(Tn,{children:"Answer"}),d.jsx(P2,{answer:n,handleTextChange:l,onFileChange:v,fileRef:y,textAreaRef:b,isError:!!i,isLinkDropDownVisible:g,setIsLinkDropDownVisible:w,onInsertLink:_,tabIndex:3}),i&&d.jsx(nh,{errorMessage:i})]}),p&&d.jsx(N2,{file:p,removeFile:x})]})},Wle=({file:t})=>d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:"File Details:"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:t.name})]}),gP=()=>{const{knowledgeBaseName:t,intent:e,documents:n,answer:r,file:s}=vt(i=>i.formData);return d.jsxs("div",{className:"space-y-4 break-words",children:[d.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Review Your Entry"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:"Knowledge Base Name:"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:"Intent:"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:e})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:"Documents:"}),d.jsx("ul",{className:"list-disc pl-5 text-sm text-muted-foreground",children:n.map((i,o)=>d.jsx("li",{children:i},o))})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:"Answer:"}),d.jsx("p",{className:"text-sm text-muted-foreground line-clamp-4 whitespace-pre-wrap leading-relaxed",children:r})]}),s&&d.jsx(Wle,{file:s})]})},Hle=()=>{const t=ki(r=>r.currentStep),e=ms(r=>r.modalMode),n=()=>({1:{BASE:d.jsx(Kle,{}),ENTRY:d.jsx(mP,{})},2:{BASE:d.jsx(mP,{}),ENTRY:d.jsx(gP,{})},3:{BASE:d.jsx(gP,{})}})[t][e]||d.jsx(d.Fragment,{children:"No Modal Section"});return d.jsx(d.Fragment,{children:n()})},qle=()=>{const t=Bs(),e=Ra(),n=ms(l=>l.closeModal),[r,s]=m.useState(!1),{mutateAsync:i}=Rr({mutationFn:l=>Voe(l),onSuccess:()=>{e.invalidateQueries({queryKey:Zd}),t({title:"Knowledge Base saved successfully.",description:ot()})},onError:l=>{t({title:l.message,description:ot(),variant:"destructive"})}}),{mutateAsync:o}=Rr({mutationFn:l=>Foe(l),onSuccess:()=>{e.invalidateQueries({queryKey:Lm}),t({title:"Knowledge Entry saved successfully.",description:ot()})},onError:l=>{t({title:l.message,description:ot(),variant:"destructive"})}});return{handleSubmitForm:async(l,c)=>{try{s(!0);let u=null;l.file&&(u=await jm(l.file)),c==="BASE"?await i(u?{...l,fileUrl:u}:l):await o(u?{...l,fileUrl:u}:l)}catch(u){if(u instanceof Error){if(u.message.includes("E11000"))return;t({title:u.message,description:ot(),variant:"destructive"})}else console.error("Unknown error type:",u),t({title:"An unknown error occurred",description:ot(),variant:"destructive"})}finally{s(!1),n()}},isLoading:r}},Gle=(t,e)=>{const n={};return t===1&&(e.knowledgeBaseName.trim()||(n.knowledgeBaseName="Knowledge Base Name is required")),t===2&&(e.intent.trim()||(n.intent="Intent is required"),e.documents.some(s=>s.trim()==="")&&(n.documents="Document is required"),e.answer.trim()||(n.answer="Answer is required")),{isValid:Object.keys(n).length===0,errors:n}},Qle=()=>{const{handleSubmitForm:t,isLoading:e}=qle(),n=ms(u=>u.modalMode),r=vt(u=>u.formData),s=ki(u=>u.currentStep),i=ki(u=>u.totalStep),o=ki(u=>u.nextStep),a=ki(u=>u.prevStep),l=vt(u=>u.setFormDataErrors),c=()=>{const{isValid:u,errors:h}=Gle(n==="BASE"?s:s+1,r);if(!u){l(h);return}l({}),o()};return d.jsxs("div",{className:"flex justify-between items-center mt-6",children:[d.jsx("div",{}),d.jsxs("div",{className:"flex ",children:[s>1&&d.jsxs(Xe,{variant:"outline",onClick:a,className:"mr-2",children:[d.jsx(e8,{className:"mr-2 h-4 w-4"})," Back"]}),s<i?d.jsxs(Xe,{onClick:c,children:["Next ",d.jsx(SM,{className:"ml-2 h-4 w-4"})]}):d.jsx(Xe,{className:"w-52",onClick:async()=>{t(r,n)},children:e?d.jsx(Aa,{}):"Save Knowledge Base"})]})]})},Yle=()=>{const t=vt(a=>a.clearFormData),e=ms(a=>a.isModalVisible),n=ms(a=>a.modalMode),r=ms(a=>a.closeModal),s=ki(a=>a.setTotalStep),i=ki(a=>a.resetCurrentStep),o=n==="BASE"?gle:vle;return m.useEffect(()=>(s(n),()=>{t(),i()}),[s]),d.jsx(Yf,{open:e,onOpenChange:r,children:d.jsxs(Vu,{className:"sm:max-w-[550px]",children:[d.jsxs(Fu,{children:[d.jsx(Uu,{className:"text-2xl font-bold",children:"Create New Knowledge Base"}),d.jsx(Xf,{children:"Fill in the details to create a new knowledge base."})]}),d.jsx(zle,{progressData:o}),d.jsx(ln,{children:d.jsx(pn,{className:"pt-6 max-h-[30rem] max-w-[498px] overflow-y-scroll",children:d.jsx(Hle,{})})}),d.jsx(Qle,{})]})})},Xle=()=>{const t=ms(e=>e.isModalVisible);return d.jsxs("div",{className:"flex items-center flex-col w-[84rem] px-20 space-y-6 pb-8",children:[d.jsx(Bee,{}),d.jsx($le,{}),t&&d.jsx(Yle,{})]})},bt=ro(t=>({botName:"",errors:{botName:""},interactionIcon:null,interactionIconPreview:"",widgetIcon:null,widgetIconPreview:"",metadata:[],setBotName:e=>{t(()=>({botName:e}))},setErrors:(e,n)=>{t(r=>({errors:{...r.errors,[e]:n}}))},setInteractionIcon:e=>{t(()=>({interactionIcon:e}))},setInteractionIconPreview:e=>{t(()=>({interactionIconPreview:e}))},setWidgetIcon:e=>{t(()=>({widgetIcon:e}))},setWidgetIconPreview:e=>{t(()=>({widgetIconPreview:e}))},setMetadata:e=>{t(()=>({metadata:e}))}})),Jle=({inputRef:t})=>{const e=ut(a=>a.admin),n=bt(a=>a.botName),r=bt(a=>a.setBotName),s=bt(a=>a.errors),i=bt(a=>a.setErrors),o=a=>{r(a),a?i("botName",""):i("botName","Bot name field is required")};return d.jsxs("section",{className:"space-y-2",children:[d.jsx(Tn,{htmlFor:"botName",className:"text-base font-medium",children:"Bot Name"}),d.jsx(Lt,{id:"botName",ref:t,type:"text",value:n,onChange:a=>o(a.target.value),className:ue("w-full",s.botName&&"border-destructive"),readOnly:(e==null?void 0:e.role)==="viewer"}),s.botName&&d.jsx(nh,{errorMessage:s.botName})]})},Zle=()=>{const t=Bs();return{handleIconChange:(r,s,i,o,a=0)=>{if(r.target.files&&r.target.files[0]){const l=r.target.files[0];if(!o.includes(l.type)){const u=o.map(h=>h.split("/")[1]);t({title:`Only the following file formats are supported: ${u.join(", ")}.`,variant:"destructive"}),r.target.value="";return}if(a>0&&l.size>a){const u=a/1048576;t({title:`File size exceeds the maximum limit of ${u.toFixed(0)} MB.`,variant:"destructive"}),r.target.value="";return}s(l);const c=new FileReader;c.onload=u=>{var h;i((h=u.target)==null?void 0:h.result)},c.readAsDataURL(l)}},handleRemoveIcon:(r,s,i)=>{s(null),i(null),r.current&&(r.current.value="")}}},ks="https://firebasestorage.googleapis.com/v0/b/cob-chatbot.appspot.com/o/image%2Fdefault-icon.png?alt=media&token=7d708bba-dcf2-47a0-b81b-3ac8d0e02648",ece=async(t,e,n,r=[])=>{try{const s=bt.getState().interactionIconPreview,i=bt.getState().widgetIconPreview,o=bt.getState().setInteractionIcon,a=bt.getState().setWidgetIcon,l=r.reduce((h,p)=>({...h,[p.key]:p.value}),{}),c={botName:n,metadata:l,interactionIconURL:s??ks,widgetIconUrl:i??ks};t&&(c.interactionIconURL=await f_(t,GI,"interaction-icon")??ks,o(null)),e&&(console.time("Upload Time"),c.widgetIconUrl=await f_(e,GI,"widget-icon")??ks,a(null),console.timeEnd("Upload Time")),await SF("profile","botProfile",c,!1),pt("Upload bot profile success")}catch(s){console.error(s)}},rU=({iconRef:t,setIcon:e,setIconPreview:n,iconPreview:r,acceptedFormat:s,maxIconSize:i=0})=>{const o=s.split(",").map(c=>`image/${c.slice(1)}`),{handleIconChange:a,handleRemoveIcon:l}=Zle();return d.jsxs("div",{className:"flex items-center ",children:[d.jsx(Lt,{id:"widget-icon-upload",type:"file",className:"hidden",ref:t,accept:s,onChange:c=>a(c,e,n,o,i)}),d.jsx(Xe,{type:"button",variant:"outline",size:"sm",onClick:()=>{var c;return(c=t.current)==null?void 0:c.click()},children:r&&r!==ks?d.jsxs("span",{className:"flex items-center text-sm gap-2",children:[d.jsx(aR,{className:"size-5"}),"Change Icon"]}):d.jsxs("span",{className:"flex items-center text-sm gap-2",children:[d.jsx(aR,{className:"size-5"}),"Upload Icon"]})}),r&&r!==ks&&d.jsx(Xe,{type:"button",variant:"ghost",size:"sm",className:"ml-2",onClick:()=>l(t,e,n),children:"Remove"})]})},tce=()=>{const t=bt(i=>i.setInteractionIcon),e=bt(i=>i.setInteractionIconPreview),n=bt(i=>i.interactionIconPreview),r=m.useRef(null),s=ut(i=>i.admin);return d.jsxs("section",{className:"space-y-2 min-w-[327px]",children:[d.jsx(Tn,{htmlFor:"botName",className:"text-base font-medium",children:"Interaction Icon"}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"group relative size-[70px] rounded-full *:flex items-center justify-center cursor-pointer border border-neutral-200 bg-gray-100 overflow-hidden transition-transform duration-200 ease-in-out hover:scale-105",children:[n&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"size-full bg-black absolute opacity-0 group-hover:opacity-20 transition-opacity duration-200"}),d.jsx("img",{src:n,className:"size-full object-cover rounded-full",alt:"Interaction Icon Preview"}),d.jsx("div",{className:"size-full bg-black absolute opacity-0 group-hover:opacity-20 transition-opacity duration-200"})]}),!n&&d.jsx("img",{src:ks,className:"size-full object-cover rounded-full",alt:"Default Bot Icon"})]}),(s==null?void 0:s.role)!=="viewer"&&d.jsxs("div",{className:"space-y-2",children:[d.jsx(rU,{iconRef:r,setIcon:t,setIconPreview:e,iconPreview:n,acceptedFormat:".png,.jpeg",maxIconSize:tI}),d.jsx("p",{className:"text-sm text-muted-foreground",children:`PNG or JPG only. Max file size: ${$d(tI).toFixed(0)} MB.`})]})]})]})},nce=()=>{const t=bt(i=>i.setWidgetIcon),e=bt(i=>i.widgetIconPreview),n=bt(i=>i.setWidgetIconPreview),r=m.useRef(null),s=ut(i=>i.admin);return d.jsxs("section",{className:"space-y-2 min-w-[327px]",children:[d.jsx(Tn,{htmlFor:"botName",className:"text-base font-medium",children:"Widget Icon"}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"group relative size-[70px] rounded-full *:flex items-center justify-center cursor-pointer border border-neutral-200 bg-gray-100 overflow-hidden transition-transform duration-200 ease-in-out hover:scale-105",children:[e&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"size-full bg-black absolute opacity-0 group-hover:opacity-20 transition-opacity duration-200"}),d.jsx("img",{src:e,className:"size-full object-cover rounded-full"})]}),!e&&d.jsx("img",{src:ks,className:"size-full object-cover rounded-full"})]}),(s==null?void 0:s.role)!=="viewer"&&d.jsxs("div",{className:"space-y-2",children:[d.jsx(rU,{iconRef:r,setIcon:t,setIconPreview:n,iconPreview:e,acceptedFormat:".png,.jpg,.gif",maxIconSize:nI}),d.jsx("p",{className:"text-sm text-muted-foreground",children:`PNG, JPEG OR GIF only. Max file size: ${$d(nI).toFixed(0)} MB.`})]})]})]})},rce=({botNameInputRef:t})=>d.jsxs("form",{className:"space-y-4",children:[d.jsx(Jle,{inputRef:t}),d.jsxs("div",{className:"flex items-center space-x-14 py-2",children:[d.jsx(tce,{}),d.jsx(nce,{})]})]}),sce=({handleCloseChatbox:t})=>{const e=bt(r=>r.botName),n=bt(r=>r.interactionIconPreview);return d.jsx("section",{children:d.jsxs("div",{className:"bg-white h-[24rem] rounded-lg shadow-lg p-4 max-w-sm mx-auto flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[n?d.jsx("img",{src:n,alt:"interaction-icon-preview",className:"w-11 h-11 object-cover rounded-full"}):d.jsx("img",{src:ks,alt:"interaction-icon-preview",className:"w-11 h-11 object-cover rounded-full"}),d.jsx("span",{className:"text-sm font-medium text-gray-700",children:e||"Chatbot"})]}),d.jsx("div",{className:"cursor-pointer hover:scale-110 transition-transform",onClick:t,children:d.jsx(Tf,{className:"w-5 h-5 text-gray-500"})})]}),d.jsx("div",{className:"flex-1"}),d.jsx("div",{className:" rounded-lg py-3 mb-4",children:d.jsxs("div",{className:"flex items-center",children:[n?d.jsx("img",{src:n,alt:"interaction-icon-preview",className:"w-10 h-10 object-cover rounded-full"}):d.jsx("img",{src:ks,alt:"interaction-icon-preview",className:"w-10 h-10 object-cover rounded-full"}),d.jsx("p",{className:"ml-2 text-sm text-gray-700 bg-gray-100 p-2.5 rounded-xl",children:"Hi! What can I help you with?"})]})}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{disabled:!0,type:"text",placeholder:"Message...",className:"flex-grow h-10 px-3 py-2 text-sm border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),d.jsx("div",{className:"h-10 px-3 py-2 bg-blue-500 text-white rounded-r-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 flex items-center justify-center",children:d.jsx(NM,{className:"w-5 h-5"})})]})]})})},ice=()=>{const[t,e]=m.useState(!1),n=bt(r=>r.widgetIconPreview);return d.jsx("section",{children:d.jsx("div",{className:"border h-[28rem] border-gray-300 rounded-lg p-4 bg-gray-50 mb-2",style:{backgroundImage:"radial-gradient(#d1d5db 1px, transparent 1px)",backgroundSize:"20px 20px"},children:d.jsx("div",{className:"h-full flex justify-end items-end",children:t?d.jsx(sce,{handleCloseChatbox:()=>e(!1)}):d.jsx("div",{className:"size-[14rem] flex items-center justify-center",onClick:()=>e(!0),children:n?d.jsx("img",{src:n,alt:"Widget icon preview",className:"cursor-pointer"}):d.jsx("img",{src:ks,alt:"Widget icon preview",className:"cursor-pointer"})})})})})},oce=()=>{const t=bt(o=>o.metadata),e=bt(o=>o.setMetadata),n=ut(o=>o.admin),r=()=>{const o={id:Date.now().toString(),key:"",value:""};e([...t,o])},s=(o,a,l)=>{const c=t.map(u=>u.id===o?{...u,[a]:l}:u);e(c)},i=o=>{const a=t.filter((l,c)=>c!==o);e(a)};return d.jsxs("div",{className:"space-y-4",children:[t.map((o,a)=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Lt,{placeholder:"Key",value:o.key,onChange:l=>s(o.id,"key",l.target.value),className:"flex-1",readOnly:(n==null?void 0:n.role)==="viewer"}),d.jsx(Lt,{placeholder:"Value",value:o.value,onChange:l=>s(o.id,"value",l.target.value),className:"flex-1",readOnly:(n==null?void 0:n.role)==="viewer"}),(n==null?void 0:n.role)!=="viewer"&&d.jsx(Xe,{type:"button",variant:"ghost",size:"icon",className:"hover:text-red-600",onClick:()=>i(a),children:d.jsx(Su,{className:"size-5 transition-transform ease-in"})})]},a)),(n==null?void 0:n.role)!=="viewer"&&d.jsxs(Xe,{type:"button",variant:"outline",size:"sm",onClick:r,className:"mt-2",children:[d.jsx(bu,{className:"size-5 mr-2"}),"Add Field"]})]})},ace=async()=>await TF("profile","botProfile"),lce=()=>{const t=Bs(),e=bt(_=>_.interactionIcon),n=bt(_=>_.setInteractionIconPreview),r=bt(_=>_.widgetIcon),s=bt(_=>_.setWidgetIconPreview),i=bt(_=>_.botName),o=bt(_=>_.setBotName),a=bt(_=>_.setErrors),l=bt(_=>_.metadata),c=bt(_=>_.setMetadata),[u,h]=m.useState(!1),[p,g]=m.useState(!0),w=m.useRef(null);return m.useEffect(()=>((async()=>{g(!0);const x=await ace();if(!x)return;o(x.botName),n(x.interactionIconURL),s(x.widgetIconUrl);const y=$Q(x.metadata);c(y),g(!1)})(),()=>{a("botName","")}),[]),{isLoading:u,handleSubmitForm:async()=>{var x;if(!i.trim()){a("botName","Bot name field is required"),(x=w.current)==null||x.scrollIntoView({behavior:"smooth",block:"center"});return}try{h(!0),await ece(e,r,i,l),h(!1),t({title:"Bot profile has been successfully updated",description:ot()})}catch(y){y instanceof Error&&t({title:y.message,description:ot(),variant:"destructive"}),console.error("Unexpected error occured ",y)}},isPageLoading:p,botNameInputRef:w}},cce=()=>{const t=ut(e=>e.admin);return d.jsxs("section",{className:"flex-1 flex-col space-y-4 pb-8",children:[d.jsxs(ln,{children:[d.jsxs(Mn,{children:[d.jsx(On,{children:"Bot Profile"}),d.jsx(pi,{children:(t==null?void 0:t.role)!=="viewer"?"View and manage bot's profile details and icons.":"View bot's profile information and icons."})]}),d.jsx(pn,{children:d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx(Se,{className:"h-4 w-16"}),d.jsx(Se,{className:"h-10 w-full mb-3"}),d.jsx(Se,{className:"h-4 w-24"}),d.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[d.jsx(Se,{className:"size-[64px] rounded-full"}),d.jsx(Se,{className:"h-9 w-36"}),d.jsx(Se,{className:"h-9 w-36"})]}),d.jsx(Se,{className:"h-4 w-24"}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx(Se,{className:"size-[64px] rounded-full"}),d.jsx(Se,{className:"h-9 w-36"}),d.jsx(Se,{className:"h-9 w-36"})]})]})})]}),d.jsxs(ln,{children:[d.jsx(Mn,{children:d.jsx(On,{children:"Additional Information"})}),d.jsxs(pn,{children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[d.jsx(Se,{className:"flex-1 h-10"}),d.jsx(Se,{className:"flex-1 h-10"}),d.jsx(Se,{className:"w-10 h-10"})]}),d.jsx(Se,{className:"h-9 w-36"})]})]}),d.jsxs(ln,{children:[d.jsx(Mn,{children:d.jsx(On,{children:"Preview"})}),d.jsx(pn,{children:d.jsx(Se,{className:"h-[28rem] w-full mb-2"})})]}),d.jsx(Se,{className:"bg-blue-200 h-10 w-full"})]})},uce=()=>{const{isLoading:t,handleSubmitForm:e,isPageLoading:n,botNameInputRef:r}=lce(),s=ut(i=>i.admin);return n?d.jsx(cce,{}):d.jsxs("section",{className:"flex-1 flex-col space-y-4 pb-8 relative",children:[d.jsxs(ln,{children:[d.jsxs(Mn,{children:[d.jsx(On,{children:"Bot Profile"}),d.jsx(pi,{children:(s==null?void 0:s.role)!=="viewer"?"View and manage bot's profile details and icons.":"View bot's profile information and icons."})]}),d.jsx(pn,{children:d.jsx(rce,{botNameInputRef:r})})]}),d.jsxs(ln,{children:[d.jsx(Mn,{children:d.jsx(On,{children:"Additional Information"})}),d.jsx(pn,{children:d.jsx(oce,{})})]}),d.jsxs(ln,{children:[d.jsx(Mn,{children:d.jsx(On,{children:"Preview"})}),d.jsx(pn,{children:d.jsx(ice,{})})]}),(s==null?void 0:s.role)!=="viewer"&&d.jsx("footer",{className:"mt-4",children:d.jsx(Xe,{className:"w-full",disabled:t,onClick:e,children:t?d.jsx(Aa,{}):"Save changes"})})]})},dce=[{id:"team",icon:d.jsx(y8,{}),label:"Team",comingSoon:!1},{id:"botProfile",icon:d.jsx(JH,{}),label:"Bot Profile",comingSoon:!1},{id:"botModel",icon:d.jsx(YH,{}),label:"Bot Model",comingSoon:!1},{id:"archives",icon:d.jsx(Mv,{}),label:"Archives",comingSoon:!1},{id:"queries",icon:d.jsx(u8,{}),label:"Queries",comingSoon:!1}],hce=({onTabChange:t,activeTab:e})=>{const n=ut(s=>s.admin),r=dce.filter(s=>!(s.id==="team"&&(n==null?void 0:n.role)!=="admin"));return d.jsx("nav",{className:"w-[14rem] px-2 space-y-2 text-htext font-medium",children:r.map(s=>d.jsxs("div",{className:"relative group",children:[d.jsxs("li",{className:ue("flex items-center gap-3 py-3 px-2 cursor-pointer rounded-md transition-colors hover:text-opacity-80",e===s.id?"bg-blue-500 text-white":"hover:bg-slate-200 text-opacity-100"),onClick:()=>t(s.id),children:[s.icon," ",s.label]}),s.comingSoon&&d.jsx(Of,{variant:"secondary",className:"absolute -top-2 right-0 text-[10px] font-normal px-1 py-0.5 bg-blue-100 text-blue-800 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Coming Soon"})]},s.id))})};var fce="Separator",vP="horizontal",pce=["horizontal","vertical"],sU=m.forwardRef((t,e)=>{const{decorative:n,orientation:r=vP,...s}=t,i=mce(r)?r:vP,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return d.jsx(ve.div,{"data-orientation":i,...a,...s,ref:e})});sU.displayName=fce;function mce(t){return pce.includes(t)}var iU=sU;const oU=m.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>d.jsx(iU,{ref:s,decorative:n,orientation:e,className:ue("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));oU.displayName=iU.displayName;const gce=(t,e,n)=>Coe(t,e,n),aU="/admin/assets/rhombus_spinner-BhwfYrNk.gif",vce=({isTraining:t})=>d.jsx(Yf,{open:t,onOpenChange:()=>{},children:d.jsxs(Vu,{className:"sm:max-w-md",hideClose:!0,children:[d.jsx(Fu,{children:d.jsx(Uu,{children:"Bot Training in Progress"})}),d.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[d.jsx("img",{src:aU}),d.jsx("p",{className:"text-sm text-gray-500",children:"The bot is currently training. Please wait..."})]})]})}),yce=()=>{const t=ut(c=>c.admin),[e,n]=m.useState(!1),[r,s]=m.useState(null),i=Bs(),{data:o}=Vl({queryFn:Aoe,queryKey:["modelRating"]}),a=async()=>{try{n(!0),await XQ(),i({title:"Model Training Complete",description:"Your AI model is fully trained and ready for use. You can now run queries with the latest data."})}catch(c){if(c instanceof Error){pt(c.message),i({title:"Failed to train model, please try again",description:ot(),variant:"destructive"});return}console.error("An unexpected error occured: ",c)}finally{n(!1)}},l=c=>{const h=[{min:5,label:"(Excellent)"},{min:4,label:"(Good)"},{min:3,label:"(Decent)"},{min:0,label:"(Poor)"}].find(p=>c>=p.min);return h?h.label:"(Unknown)"};return m.useEffect(()=>{const c=gce("profile","model",u=>{const{timeFinishedTraining:h}=u;s(h)});return()=>c()},[]),d.jsxs("section",{className:"flex-1 flex-col space-y-4",children:[d.jsxs(ln,{children:[d.jsxs(Mn,{children:[d.jsx(On,{children:"Bot Model"}),d.jsx(pi,{children:(t==null?void 0:t.role)!=="viewer"?"View current model status and initialize training process.":"View current model status."})]}),d.jsxs(pn,{children:[d.jsxs("section",{className:"flex items-center",children:[d.jsxs("div",{className:"w-[15rem]",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Version"}),d.jsx("p",{className:"font-bold text-xl",children:"v1.0.0"})]}),d.jsxs("div",{className:"",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Trained"}),d.jsx("p",{className:"font-bold text-xl",children:r||d.jsx(Se,{className:"w-48 h-6"})})]})]}),d.jsx(oU,{className:"my-4"}),d.jsxs("div",{className:"flex ",children:[d.jsxs("div",{className:"flex space-x-2 w-[15rem]",children:[d.jsx(DM,{fill:"yellow",className:"text-yellow-300"})," ",d.jsx("p",{children:"Average Rating"})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx("p",{className:"text-green-400 font-bold text-xl",children:o??d.jsx(Se,{className:"h-7 w-11"})}),d.jsx("p",{className:"text-muted-foreground text-xs space-x-1",children:o?l(Number(o)):d.jsx(Se,{className:"h-4 w-14"})})]})]})]})]}),d.jsx("footer",{className:"mt-4 pb-4",children:(t==null?void 0:t.role)!=="viewer"&&d.jsx(Xe,{className:"w-full",disabled:e,onClick:a,children:e?d.jsx(Aa,{}):d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ZH,{size:20})," Train Model"]})})}),d.jsx(vce,{isTraining:e})]})},tm="672ca434f2191d3bb7606f0d",wce=({id:t,role:e,onDeleteAction:n,onResetPasswordAction:r,onUpdateRoleAction:s})=>d.jsxs(Df,{modal:!1,children:[d.jsx(kf,{asChild:!0,children:d.jsx(Xe,{variant:"ghost",className:" hover:bg-gray-100 size-8 p-1 group",children:d.jsx(tb,{className:"text-zinc-400 size-5 group-hover:text-zinc-600 transition-colors"})})}),d.jsxs(Iu,{align:"end",className:"w-auto bg-white border border-neutral-300 p-1 rounded-lg shadow-md",children:[t!==tm&&e!=="editor"&&d.jsx(Xs,{className:"flex items-center p-2 hover:bg-zinc-100",onClick:async()=>{await s("editor")},children:"Set as Editor"}),t!==tm&&e!=="viewer"&&d.jsx(Xs,{className:"flex items-center p-2 hover:bg-zinc-100",onClick:async()=>{await s("viewer")},children:"Set as Viewer"}),t!==tm&&d.jsx(Ab,{}),d.jsxs(Xs,{className:"flex items-center p-2 hover:bg-zinc-100",onClick:()=>{r()},children:[d.jsx(l8,{className:"mr-2 h-4 w-4"}),"Reset Password"]}),t!==tm&&d.jsxs(Xs,{className:"flex items-center p-2 hover:bg-zinc-100 text-red-600",onClick:()=>{n()},children:[d.jsx(g8,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]}),lU=ro(t=>({admin:{id:null,email:null},setAdmin:(e,n)=>t({admin:{id:e,email:n}})})),xce=({adminInfo:t,onUpdateRole:e})=>{const{email:n,role:r,_id:s}=t,i=lU(c=>c.setAdmin),o=Qr(c=>c.openDialog),a=()=>{i(s,n),o("showConfirmDeleteDialog")},l=()=>{i(s,n),o("showResetPasswordDialog")};return d.jsxs("section",{className:"flex items-center w-full py-2 font-medium text-sm",children:[d.jsx("div",{className:"flex-1 text-zinc-700 truncate",title:n,children:n}),d.jsx("div",{className:"w-[14rem] text-zinc-500",children:t!=null&&t.lastLoginAt?QQ(t.lastLoginAt):"Never Logged In"}),d.jsx("div",{className:"w-[10rem]",children:d.jsx(Of,{className:ue("flex w-16 items-center justify-center pointer-events-none select-none",r==="admin"&&"bg-red-200 text-red-800",r==="editor"&&"bg-blue-200 text-blue-800",r==="viewer"&&"bg-green-200 text-green-800"),children:Rb(r)})}),d.jsx("div",{className:"w-[10rem] ",children:d.jsx(wce,{id:s,role:r,onDeleteAction:a,onResetPasswordAction:l,onUpdateRoleAction:async c=>await e(c,s)})})]})},rh=({id:t,field:e,placeholderText:n,register:r,message:s,isError:i,validate:o})=>{const[a,l]=m.useState(!1);return d.jsxs("div",{className:"relative",children:[d.jsx(Lt,{id:t??void 0,className:ue(i&&"border-destructive"),type:a?"text":"password",placeholder:n,...r(e,{required:s,minLength:{value:9,message:"Password must be atleast 9 characters"},validate:o})}),d.jsx(Xe,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(c=>!c),"aria-label":a?"Hide password":"Show password",children:a?d.jsx(AM,{className:"h-4 w-4 text-gray-500"}):d.jsx(nb,{className:"h-4 w-4 text-gray-500"})})]})};function R_(t,[e,n]){return Math.min(n,Math.max(e,t))}function _ce(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=h=>{var x;const{scope:p,children:g,...w}=h,v=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,_=m.useMemo(()=>w,Object.values(w));return d.jsx(v.Provider,{value:_,children:g})};c.displayName=i+"Provider";function u(h,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Ece(s,...e)]}function Ece(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var bce="DismissableLayer",I_="dismissableLayer.update",Sce="dismissableLayer.pointerDownOutside",Tce="dismissableLayer.focusOutside",yP,cU=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),uU=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(cU),[u,h]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=ke(e,T=>h(T)),v=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(_),y=u?v.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,C=y>=x,P=Rce(T=>{const E=T.target,I=[...c.branches].some(R=>R.contains(E));!C||I||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},p),O=Ice(T=>{const E=T.target;[...c.branches].some(R=>R.contains(E))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},p);return Af(T=>{y===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(yP=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),wP(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=yP)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),wP())},[u,c]),m.useEffect(()=>{const T=()=>g({});return document.addEventListener(I_,T),()=>document.removeEventListener(I_,T)},[]),d.jsx(ve.div,{...l,ref:w,style:{pointerEvents:b?C?"auto":"none":void 0,...t.style},onFocusCapture:Z(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Z(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Z(t.onPointerDownCapture,P.onPointerDownCapture)})});uU.displayName=bce;var Cce="DismissableLayerBranch",Ace=m.forwardRef((t,e)=>{const n=m.useContext(cU),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(ve.div,{...t,ref:s})});Ace.displayName=Cce;function Rce(t,e=globalThis==null?void 0:globalThis.document){const n=mt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){dU(Sce,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Ice(t,e=globalThis==null?void 0:globalThis.document){const n=mt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&dU(Tce,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function wP(){const t=new CustomEvent(I_);document.dispatchEvent(t)}function dU(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Nl(s,i):s.dispatchEvent(i)}var Pce="Portal",hU=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Pt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?mf.createPortal(d.jsx(ve.div,{...r,ref:e}),o):null});hU.displayName=Pce;function Nce(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Dce=[" ","Enter","ArrowUp","ArrowDown"],kce=[" ","Enter"],ep="Select",[Dy,ky,Mce]=Lv(ep),[Bu,Jfe]=_ce(ep,[Mce,Au]),My=Au(),[Oce,Ia]=Bu(ep),[jce,Lce]=Bu(ep),fU=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:h,disabled:p,required:g,form:w}=t,v=My(e),[_,x]=m.useState(null),[y,b]=m.useState(null),[C,P]=m.useState(!1),O=Cf(c),[T=!1,E]=aa({prop:r,defaultProp:s,onChange:i}),[I,R]=aa({prop:o,defaultProp:a,onChange:l}),k=m.useRef(null),M=_?w||!!_.closest("form"):!0,[N,W]=m.useState(new Set),se=Array.from(N).map(ne=>ne.props.value).join(";");return d.jsx(fb,{...v,children:d.jsxs(Oce,{required:g,scope:e,trigger:_,onTriggerChange:x,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:C,onValueNodeHasChildrenChange:P,contentId:js(),value:I,onValueChange:R,open:T,onOpenChange:E,dir:O,triggerPointerDownPosRef:k,disabled:p,children:[d.jsx(Dy.Provider,{scope:e,children:d.jsx(jce,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(ne=>{W(Y=>new Set(Y).add(ne))},[]),onNativeOptionRemove:m.useCallback(ne=>{W(Y=>{const z=new Set(Y);return z.delete(ne),z})},[]),children:n})}),M?d.jsxs(FU,{"aria-hidden":!0,required:g,tabIndex:-1,name:u,autoComplete:h,value:I,onChange:ne=>R(ne.target.value),disabled:p,form:w,children:[I===void 0?d.jsx("option",{value:""}):null,Array.from(N)]},se):null]})})};fU.displayName=ep;var pU="SelectTrigger",mU=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=My(n),o=Ia(pU,n),a=o.disabled||r,l=ke(e,o.onTriggerChange),c=ky(n),u=m.useRef("touch"),[h,p,g]=UU(v=>{const _=c().filter(b=>!b.disabled),x=_.find(b=>b.value===o.value),y=BU(_,v,x);y!==void 0&&o.onValueChange(y.value)}),w=v=>{a||(o.onOpenChange(!0),g()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return d.jsx(pb,{asChild:!0,...i,children:d.jsx(ve.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":VU(o.value)?"":void 0,...s,ref:l,onClick:Z(s.onClick,v=>{v.currentTarget.focus(),u.current!=="mouse"&&w(v)}),onPointerDown:Z(s.onPointerDown,v=>{u.current=v.pointerType;const _=v.target;_.hasPointerCapture(v.pointerId)&&_.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(w(v),v.preventDefault())}),onKeyDown:Z(s.onKeyDown,v=>{const _=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&p(v.key),!(_&&v.key===" ")&&Dce.includes(v.key)&&(w(),v.preventDefault())})})})});mU.displayName=pU;var gU="SelectValue",vU=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Ia(gU,n),{onValueNodeHasChildrenChange:c}=l,u=i!==void 0,h=ke(e,l.onValueNodeChange);return Pt(()=>{c(u)},[c,u]),d.jsx(ve.span,{...a,ref:h,style:{pointerEvents:"none"},children:VU(l.value)?d.jsx(d.Fragment,{children:o}):i})});vU.displayName=gU;var Vce="SelectIcon",yU=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return d.jsx(ve.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});yU.displayName=Vce;var Fce="SelectPortal",wU=t=>d.jsx(hU,{asChild:!0,...t});wU.displayName=Fce;var Al="SelectContent",xU=m.forwardRef((t,e)=>{const n=Ia(Al,t.__scopeSelect),[r,s]=m.useState();if(Pt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Ar.createPortal(d.jsx(_U,{scope:t.__scopeSelect,children:d.jsx(Dy.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),i):null}return d.jsx(EU,{...t,ref:e})});xU.displayName=Al;var Ss=10,[_U,Pa]=Bu(Al),Uce="SelectContentImpl",EU=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:p,collisionPadding:g,sticky:w,hideWhenDetached:v,avoidCollisions:_,...x}=t,y=Ia(Al,n),[b,C]=m.useState(null),[P,O]=m.useState(null),T=ke(e,ce=>C(ce)),[E,I]=m.useState(null),[R,k]=m.useState(null),M=ky(n),[N,W]=m.useState(!1),se=m.useRef(!1);m.useEffect(()=>{if(b)return vb(b)},[b]),sb();const ne=m.useCallback(ce=>{const[Pe,...He]=M().map(Oe=>Oe.ref.current),[pe]=He.slice(-1),$e=document.activeElement;for(const Oe of ce)if(Oe===$e||(Oe==null||Oe.scrollIntoView({block:"nearest"}),Oe===Pe&&P&&(P.scrollTop=0),Oe===pe&&P&&(P.scrollTop=P.scrollHeight),Oe==null||Oe.focus(),document.activeElement!==$e))return},[M,P]),Y=m.useCallback(()=>ne([E,b]),[ne,E,b]);m.useEffect(()=>{N&&Y()},[N,Y]);const{onOpenChange:z,triggerPointerDownPosRef:B}=y;m.useEffect(()=>{if(b){let ce={x:0,y:0};const Pe=pe=>{var $e,Oe;ce={x:Math.abs(Math.round(pe.pageX)-((($e=B.current)==null?void 0:$e.x)??0)),y:Math.abs(Math.round(pe.pageY)-(((Oe=B.current)==null?void 0:Oe.y)??0))}},He=pe=>{ce.x<=10&&ce.y<=10?pe.preventDefault():b.contains(pe.target)||z(!1),document.removeEventListener("pointermove",Pe),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",He,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",He,{capture:!0})}}},[b,z,B]),m.useEffect(()=>{const ce=()=>z(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[z]);const[J,fe]=UU(ce=>{const Pe=M().filter($e=>!$e.disabled),He=Pe.find($e=>$e.ref.current===document.activeElement),pe=BU(Pe,ce,He);pe&&setTimeout(()=>pe.ref.current.focus())}),he=m.useCallback((ce,Pe,He)=>{const pe=!se.current&&!He;(y.value!==void 0&&y.value===Pe||pe)&&(I(ce),pe&&(se.current=!0))},[y.value]),Te=m.useCallback(()=>b==null?void 0:b.focus(),[b]),We=m.useCallback((ce,Pe,He)=>{const pe=!se.current&&!He;(y.value!==void 0&&y.value===Pe||pe)&&k(ce)},[y.value]),at=r==="popper"?P_:bU,Ne=at===P_?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:p,collisionPadding:g,sticky:w,hideWhenDetached:v,avoidCollisions:_}:{};return d.jsx(_U,{scope:n,content:b,viewport:P,onViewportChange:O,itemRefCallback:he,selectedItem:E,onItemLeave:Te,itemTextRefCallback:We,focusSelectedItem:Y,selectedItemText:R,position:r,isPositioned:N,searchRef:J,children:d.jsx(Wv,{as:la,allowPinchZoom:!0,children:d.jsx(Vv,{asChild:!0,trapped:y.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:Z(s,ce=>{var Pe;(Pe=y.trigger)==null||Pe.focus({preventScroll:!0}),ce.preventDefault()}),children:d.jsx(uU,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:d.jsx(at,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:ce=>ce.preventDefault(),...x,...Ne,onPlaced:()=>W(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Z(x.onKeyDown,ce=>{const Pe=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!Pe&&ce.key.length===1&&fe(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let pe=M().filter($e=>!$e.disabled).map($e=>$e.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const $e=ce.target,Oe=pe.indexOf($e);pe=pe.slice(Oe+1)}setTimeout(()=>ne(pe)),ce.preventDefault()}})})})})})})});EU.displayName=Uce;var Bce="SelectItemAlignedPosition",bU=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Ia(Al,n),o=Pa(Al,n),[a,l]=m.useState(null),[c,u]=m.useState(null),h=ke(e,T=>u(T)),p=ky(n),g=m.useRef(!1),w=m.useRef(!0),{viewport:v,selectedItem:_,selectedItemText:x,focusSelectedItem:y}=o,b=m.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&v&&_&&x){const T=i.trigger.getBoundingClientRect(),E=c.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),R=x.getBoundingClientRect();if(i.dir!=="rtl"){const $e=R.left-E.left,Oe=I.left-$e,yt=T.left-Oe,qe=T.width+yt,Vt=Math.max(qe,E.width),mn=window.innerWidth-Ss,Mr=R_(Oe,[Ss,Math.max(Ss,mn-Vt)]);a.style.minWidth=qe+"px",a.style.left=Mr+"px"}else{const $e=E.right-R.right,Oe=window.innerWidth-I.right-$e,yt=window.innerWidth-T.right-Oe,qe=T.width+yt,Vt=Math.max(qe,E.width),mn=window.innerWidth-Ss,Mr=R_(Oe,[Ss,Math.max(Ss,mn-Vt)]);a.style.minWidth=qe+"px",a.style.right=Mr+"px"}const k=p(),M=window.innerHeight-Ss*2,N=v.scrollHeight,W=window.getComputedStyle(c),se=parseInt(W.borderTopWidth,10),ne=parseInt(W.paddingTop,10),Y=parseInt(W.borderBottomWidth,10),z=parseInt(W.paddingBottom,10),B=se+ne+N+z+Y,J=Math.min(_.offsetHeight*5,B),fe=window.getComputedStyle(v),he=parseInt(fe.paddingTop,10),Te=parseInt(fe.paddingBottom,10),We=T.top+T.height/2-Ss,at=M-We,Ne=_.offsetHeight/2,ce=_.offsetTop+Ne,Pe=se+ne+ce,He=B-Pe;if(Pe<=We){const $e=k.length>0&&_===k[k.length-1].ref.current;a.style.bottom="0px";const Oe=c.clientHeight-v.offsetTop-v.offsetHeight,yt=Math.max(at,Ne+($e?Te:0)+Oe+Y),qe=Pe+yt;a.style.height=qe+"px"}else{const $e=k.length>0&&_===k[0].ref.current;a.style.top="0px";const yt=Math.max(We,se+v.offsetTop+($e?he:0)+Ne)+He;a.style.height=yt+"px",v.scrollTop=Pe-We+v.offsetTop}a.style.margin=`${Ss}px 0`,a.style.minHeight=J+"px",a.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[p,i.trigger,i.valueNode,a,c,v,_,x,i.dir,r]);Pt(()=>b(),[b]);const[C,P]=m.useState();Pt(()=>{c&&P(window.getComputedStyle(c).zIndex)},[c]);const O=m.useCallback(T=>{T&&w.current===!0&&(b(),y==null||y(),w.current=!1)},[b,y]);return d.jsx(zce,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:O,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:d.jsx(ve.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});bU.displayName=Bce;var $ce="SelectPopperPosition",P_=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Ss,...i}=t,o=My(n);return d.jsx(mb,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});P_.displayName=$ce;var[zce,uT]=Bu(Al,{}),N_="SelectViewport",SU=m.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Pa(N_,n),o=uT(N_,n),a=ke(e,i.onViewportChange),l=m.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),d.jsx(Dy.Slot,{scope:n,children:d.jsx(ve.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Z(s.onScroll,c=>{const u=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&h){const g=Math.abs(l.current-u.scrollTop);if(g>0){const w=window.innerHeight-Ss*2,v=parseFloat(h.style.minHeight),_=parseFloat(h.style.height),x=Math.max(v,_);if(x<w){const y=x+g,b=Math.min(w,y),C=y-b;h.style.height=b+"px",h.style.bottom==="0px"&&(u.scrollTop=C>0?C:0,h.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});SU.displayName=N_;var TU="SelectGroup",[Kce,Wce]=Bu(TU),CU=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=js();return d.jsx(Kce,{scope:n,id:s,children:d.jsx(ve.div,{role:"group","aria-labelledby":s,...r,ref:e})})});CU.displayName=TU;var AU="SelectLabel",RU=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Wce(AU,n);return d.jsx(ve.div,{id:s.id,...r,ref:e})});RU.displayName=AU;var ev="SelectItem",[Hce,IU]=Bu(ev),PU=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Ia(ev,n),l=Pa(ev,n),c=a.value===r,[u,h]=m.useState(i??""),[p,g]=m.useState(!1),w=ke(e,y=>{var b;return(b=l.itemRefCallback)==null?void 0:b.call(l,y,r,s)}),v=js(),_=m.useRef("touch"),x=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(Hce,{scope:n,value:r,disabled:s,textId:v,isSelected:c,onItemTextChange:m.useCallback(y=>{h(b=>b||((y==null?void 0:y.textContent)??"").trim())},[]),children:d.jsx(Dy.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:d.jsx(ve.div,{role:"option","aria-labelledby":v,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:w,onFocus:Z(o.onFocus,()=>g(!0)),onBlur:Z(o.onBlur,()=>g(!1)),onClick:Z(o.onClick,()=>{_.current!=="mouse"&&x()}),onPointerUp:Z(o.onPointerUp,()=>{_.current==="mouse"&&x()}),onPointerDown:Z(o.onPointerDown,y=>{_.current=y.pointerType}),onPointerMove:Z(o.onPointerMove,y=>{var b;_.current=y.pointerType,s?(b=l.onItemLeave)==null||b.call(l):_.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Z(o.onPointerLeave,y=>{var b;y.currentTarget===document.activeElement&&((b=l.onItemLeave)==null||b.call(l))}),onKeyDown:Z(o.onKeyDown,y=>{var C;((C=l.searchRef)==null?void 0:C.current)!==""&&y.key===" "||(kce.includes(y.key)&&x(),y.key===" "&&y.preventDefault())})})})})});PU.displayName=ev;var Nd="SelectItemText",NU=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Ia(Nd,n),a=Pa(Nd,n),l=IU(Nd,n),c=Lce(Nd,n),[u,h]=m.useState(null),p=ke(e,x=>h(x),l.onItemTextChange,x=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,x,l.value,l.disabled)}),g=u==null?void 0:u.textContent,w=m.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:_}=c;return Pt(()=>(v(w),()=>_(w)),[v,_,w]),d.jsxs(d.Fragment,{children:[d.jsx(ve.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ar.createPortal(i.children,o.valueNode):null]})});NU.displayName=Nd;var DU="SelectItemIndicator",kU=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return IU(DU,n).isSelected?d.jsx(ve.span,{"aria-hidden":!0,...r,ref:e}):null});kU.displayName=DU;var D_="SelectScrollUpButton",MU=m.forwardRef((t,e)=>{const n=Pa(D_,t.__scopeSelect),r=uT(D_,t.__scopeSelect),[s,i]=m.useState(!1),o=ke(e,r.onScrollButtonChange);return Pt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(jU,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});MU.displayName=D_;var k_="SelectScrollDownButton",OU=m.forwardRef((t,e)=>{const n=Pa(k_,t.__scopeSelect),r=uT(k_,t.__scopeSelect),[s,i]=m.useState(!1),o=ke(e,r.onScrollButtonChange);return Pt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(jU,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});OU.displayName=k_;var jU=m.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Pa("SelectScrollButton",n),o=m.useRef(null),a=ky(n),l=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>l(),[l]),Pt(()=>{var u;const c=a().find(h=>h.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),d.jsx(ve.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Z(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Z(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Z(s.onPointerLeave,()=>{l()})})}),qce="SelectSeparator",LU=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return d.jsx(ve.div,{"aria-hidden":!0,...r,ref:e})});LU.displayName=qce;var M_="SelectArrow",Gce=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=My(n),i=Ia(M_,n),o=Pa(M_,n);return i.open&&o.position==="popper"?d.jsx(gb,{...s,...r,ref:e}):null});Gce.displayName=M_;function VU(t){return t===""||t===void 0}var FU=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=m.useRef(null),i=ke(e,s),o=Nce(n);return m.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&u){const h=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(h)}},[o,n]),d.jsx($f,{asChild:!0,children:d.jsx("select",{...r,ref:i,defaultValue:n})})});FU.displayName="BubbleSelect";function UU(t){const e=mt(t),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function BU(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Qce(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function Qce(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Yce=fU,$U=mU,Xce=vU,Jce=yU,Zce=wU,zU=xU,eue=SU,tue=CU,KU=RU,WU=PU,nue=NU,rue=kU,HU=MU,qU=OU,GU=LU;const QU=Yce,YU=tue,XU=Xce,dT=m.forwardRef(({className:t,children:e,...n},r)=>d.jsxs($U,{ref:r,className:ue("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,d.jsx(Jce,{asChild:!0,children:d.jsx(bM,{className:"h-4 w-4 opacity-50"})})]}));dT.displayName=$U.displayName;const JU=m.forwardRef(({className:t,...e},n)=>d.jsx(HU,{ref:n,className:ue("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(t8,{className:"h-4 w-4"})}));JU.displayName=HU.displayName;const ZU=m.forwardRef(({className:t,...e},n)=>d.jsx(qU,{ref:n,className:ue("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(bM,{className:"h-4 w-4"})}));ZU.displayName=qU.displayName;const hT=m.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>d.jsx(Zce,{children:d.jsxs(zU,{ref:s,className:ue("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[d.jsx(JU,{}),d.jsx(eue,{className:ue("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),d.jsx(ZU,{})]})}));hT.displayName=zU.displayName;const eB=m.forwardRef(({className:t,...e},n)=>d.jsx(KU,{ref:n,className:ue("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));eB.displayName=KU.displayName;const fT=m.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(WU,{ref:r,className:ue("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(rue,{children:d.jsx(eb,{className:"h-4 w-4"})})}),d.jsx(nue,{children:e})]}));fT.displayName=WU.displayName;const sue=m.forwardRef(({className:t,...e},n)=>d.jsx(GU,{ref:n,className:ue("-mx-1 my-1 h-px bg-muted",t),...e}));sue.displayName=GU.displayName;const iue=["editor","viewer"],oue=({isOpen:t,setDialogState:e,onAddAdmin:n,isLoading:r})=>{const{register:s,watch:i,formState:{errors:o,isSubmitted:a},control:l,handleSubmit:c,reset:u}=Zf(),h=i("password"),p=async w=>{const{confirmPassword:v,..._}=w;await n(_),g()},g=(w=void 0)=>{u({email:"",password:"",confirmPassword:""}),e("showAddAdminDialog",w??!1)};return d.jsx(Yf,{open:t,onOpenChange:w=>{g(w)},children:d.jsxs(Vu,{className:"sm:max-w-[425px]",children:[d.jsxs(Fu,{children:[d.jsx(Uu,{className:"text-2xl font-bold",children:"Add Admin"}),d.jsx(Xf,{children:"Create a new admin account."})]}),d.jsxs("form",{onSubmit:c(p),className:"text-sm space-y-2",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx(Tn,{htmlFor:"current-password",children:"Email"}),d.jsx(Lt,{className:ue(!!o.email&&"border-destructive"),type:"text",placeholder:"Enter your email",...s("email",{required:"Email is required",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Please enter a valid email address"}})}),a&&o.email&&d.jsx("p",{className:"text-red-500",children:o.email.message})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(Tn,{htmlFor:"current-password",children:"Password"}),d.jsx(rh,{field:"password",placeholderText:"Enter your password",register:s,message:"Password is required",isError:!!o.password}),a&&o.password&&d.jsx("p",{className:"text-red-500",children:o.password.message})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(Tn,{htmlFor:"new-password",children:"Confirm Password"}),d.jsx(rh,{field:"confirmPassword",placeholderText:"Re-enter your password",register:s,message:"Confirm password is required",isError:!!o.confirmPassword,validate:w=>w===h||"Password does not match"}),a&&o.confirmPassword&&d.jsx("p",{className:"text-red-500",children:o.confirmPassword.message})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(Tn,{children:"Role"}),d.jsx(Y4,{name:"role",control:l,rules:{required:"Role is required"},render:({field:w})=>d.jsxs(QU,{onValueChange:w.onChange,value:w.value,children:[d.jsx(dT,{className:ue("w-[180px]",!!o.role&&"border-destructive"),children:d.jsx(XU,{placeholder:"Select a Role"})}),d.jsx(hT,{children:d.jsx(YU,{children:d.jsx(Pu,{items:iue,renderItem:v=>d.jsx(fT,{value:v,children:Rb(v)})})})})]})}),a&&o.role&&d.jsx("p",{className:"text-red-500",children:o.role.message})]}),d.jsx(Py,{children:d.jsx(Xe,{disabled:r,type:"submit",className:"w-40",children:r?d.jsx(Aa,{}):"Save changes"})})]})]})})},aue=({isOpen:t,setDialogState:e,onResetPassword:n,isLoading:r})=>{const{register:s,formState:{errors:i,isSubmitted:o},setError:a,watch:l,handleSubmit:c,reset:u}=Zf(),h=l("newPassword"),p=async w=>{const{confirmNewPassword:v,..._}=w,x=await n(_);if(x&&x===zo.passwordIncorrect){a("password",{type:"manual",message:x});return}if(x&&x===zo.passwordSameAsOld){a("newPassword",{type:"manual",message:x});return}g(!1)},g=(w=void 0)=>{e("showResetPasswordDialog",w??!1),u({})};return d.jsx(Yf,{open:t,onOpenChange:w=>{g(w),setTimeout(()=>{w||(document.body.style.pointerEvents="")},100)},children:d.jsxs(Vu,{className:"sm:max-w-[425px]",children:[d.jsxs(Fu,{children:[d.jsx(Uu,{className:"text-2xl font-bold",children:"Reset Password"}),d.jsx(Xf,{children:"Reset admin password and provide a new password."})]}),d.jsxs("form",{onSubmit:c(p),className:"text-sm space-y-2",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx(Tn,{htmlFor:"current-password",children:"Current Password"}),d.jsx(rh,{id:"current-password",field:"password",placeholderText:"Enter new password",register:s,message:"Password is required",isError:!!i.password}),o&&i.password&&d.jsx("p",{className:"text-red-500",children:i.password.message})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(Tn,{htmlFor:"newPassword",children:"New Password"}),d.jsx(rh,{id:"newPassword",field:"newPassword",placeholderText:"Enter new password",register:s,message:"Password is required",isError:!!i.newPassword}),o&&i.newPassword&&d.jsx("p",{className:"text-red-500",children:i.newPassword.message})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(Tn,{htmlFor:"new-password",children:"Confirm New Password"}),d.jsx(rh,{id:"new-password",field:"confirmNewPassword",placeholderText:"Re-enter your password",register:s,message:"Confirm password is required",isError:!!i.confirmNewPassword,validate:w=>w===h||"Password does not match"}),o&&i.confirmNewPassword&&d.jsx("p",{className:"text-red-500",children:i.confirmNewPassword.message})]}),d.jsx(Py,{children:d.jsx(Xe,{type:"submit",className:"w-40 mt-2",children:r?d.jsx(Aa,{}):"Reset Password"})})]})]})})},lue=()=>d.jsx("section",{className:"flex-1 flex-col space-y-4 relative",children:d.jsxs(ln,{children:[d.jsxs(Mn,{children:[d.jsx(On,{children:"Team"}),d.jsx(pi,{children:d.jsx(Se,{className:"w-36 h-[20px]"})})]}),d.jsx(pn,{children:d.jsxs("div",{children:[d.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[d.jsx("h4",{className:"flex-1",children:d.jsx(Se,{className:"w-16 h-[20px]"})}),d.jsx("h4",{className:"w-[14rem]",children:d.jsx(Se,{className:"w-24 h-[20px]"})}),d.jsx("h4",{className:"w-[8rem]",children:d.jsx(Se,{className:"w-12 h-[20px]"})}),d.jsx("h4",{className:"w-[6rem]"})]}),d.jsx("hr",{className:"border-customBorderColor"}),d.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[d.jsx("h4",{className:"flex-1",children:d.jsx(Se,{className:"w-32 h-[20px]"})}),d.jsx("h4",{className:"w-[14rem]",children:d.jsx(Se,{className:"w-12 h-[20px]"})}),d.jsx("h4",{className:"w-[8rem]",children:d.jsx(Se,{className:"w-20 h-[20px]"})}),d.jsx("h4",{className:"w-[6rem]"})]}),d.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[d.jsx("h4",{className:"flex-1",children:d.jsx(Se,{className:"w-40 h-[20px]"})}),d.jsx("h4",{className:"w-[14rem]",children:d.jsx(Se,{className:"w-16 h-[20px]"})}),d.jsx("h4",{className:"w-[8rem]",children:d.jsx(Se,{className:"w-12 h-[20px]"})}),d.jsx("h4",{className:"w-[6rem]"})]}),d.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[d.jsx("h4",{className:"flex-1",children:d.jsx(Se,{className:"w-32 h-[20px]"})}),d.jsx("h4",{className:"w-[14rem]",children:d.jsx(Se,{className:"w-12 h-[20px]"})}),d.jsx("h4",{className:"w-[8rem]",children:d.jsx(Se,{className:"w-20 h-[20px]"})}),d.jsx("h4",{className:"w-[6rem]"})]})]})})]})}),cue=async(t,e)=>{try{const n={email:t,password:e},{success:r,accessToken:s,admin:i}=await Sa("/api/auth/login",{},n);if(!r)throw new Error("Invalid credentials, please try again");return{accessToken:s,admin:i}}catch(n){throw n}},uue=async()=>{const{admins:t}=await jf("/api/auth/admins");return t},due=async t=>{const{message:e}=await Sa("/api/auth/register",{},t);return e},hue=async t=>{const{message:e}=await Lf(`/api/auth/${t}`);return e},fue=async t=>{const{message:e}=await Qv("/api/auth/reset",{},t);if(e===zo.passwordIncorrect||e===zo.passwordSameAsOld)throw new Error(e);return e},pue=async t=>{const{message:e}=await Qv("/api/auth/role",{},t);return e},mue=()=>{const t=Ra(),e=yj(),n=Bs(),r=Qr(b=>b.dialogs),s=Qr(b=>b.setDialogState),{id:i,email:o}=lU(b=>b.admin),{data:a,isLoading:l}=Vl({queryFn:()=>uue(),queryKey:md}),{mutateAsync:c}=Rr({mutationFn:hue,onSuccess:b=>{t.invalidateQueries({queryKey:md}),n({title:b,description:ot()})},onError:b=>{n({title:b==null?void 0:b.message,description:ot(),variant:"destructive"}),pt(b.message||"An Unexpected error occured while deleting admin account")}}),{mutateAsync:u,isPending:h}=Rr({mutationFn:due,onSuccess:b=>{t.invalidateQueries({queryKey:md}),n({title:b,description:ot()})},onError:b=>{n({title:b==null?void 0:b.message,description:ot(),variant:"destructive"}),pt(b.message||"An Unexpected error occured while adding admin account")}}),{mutateAsync:p,isPending:g}=Rr({mutationFn:fue,onSuccess:b=>{t.invalidateQueries({queryKey:md}),n({title:b,description:ot()})},onError:b=>{b.message===zo.passwordIncorrect||b.message===zo.passwordSameAsOld||(n({title:b==null?void 0:b.message,description:ot(),variant:"destructive"}),pt(b.message??"An error occured while updating admin account"))}}),{mutateAsync:w}=Rr({mutationFn:pue,onSuccess:async b=>{t.invalidateQueries({queryKey:md}),await e(1e3),n({title:b,description:ot()})},onError:b=>{n({title:b==null?void 0:b.message,description:ot(),variant:"destructive"}),pt(b.message||"An Unexpected error occured while updating admin role")}});return{adminEmail:o,setDialogState:s,isAdminListLoading:l,adminList:a,handleAddAdmin:async b=>{try{await u(b)}catch(C){C instanceof Error&&pt(C.message??"An error occured adding admin account"),console.error("An unexpected error occured: ",C)}},handleDeleteAdmin:async()=>{try{if(!i)throw new Error("No admin selected cannot delete");await c(i)}catch(b){b instanceof Error&&pt(b.message??"An error occured deleting admin account"),console.error("An unexpected error occured: ",b)}},handleResetAdminPassword:async b=>{try{if(!i)throw new Error("Admin ID not found, cannot proceed");await p({...b,_id:i})}catch(C){if(C instanceof Error&&(pt(C.message??"An error occured deleting admin account"),C.message===zo.passwordIncorrect||C.message===zo.passwordSameAsOld))return C.message;console.error("An unexpected error occured: ",C)}},handleUpdateAdminRole:async(b,C)=>{try{if(!C)throw new Error("Admin is not available cannot update role");await w({role:b,_id:C})}catch(P){P instanceof Error&&pt(P.message??`An error occured: ${P}`),console.error("An unexpected error occured: ",P)}},dialogs:r,isPending:h,resetAdminPasswordIsPending:g}},gue=()=>{const t=ut(p=>p.admin),{adminEmail:e,adminList:n,dialogs:r,isAdminListLoading:s,isPending:i,handleAddAdmin:o,handleDeleteAdmin:a,handleResetAdminPassword:l,handleUpdateAdminRole:c,resetAdminPasswordIsPending:u,setDialogState:h}=mue();return s?d.jsx(lue,{}):d.jsxs("section",{className:"flex-1 flex-col space-y-4 relative",children:[d.jsxs(ln,{children:[d.jsxs(Mn,{children:[d.jsxs(On,{children:["Team",d.jsx(uy,{tooltip:"Maximum of 5 admins can be created",children:d.jsx("p",{className:"ml-3 inline-block min-w-6 text-xs font-medium text-zinc-600",children:`${n==null?void 0:n.length}/${Dte}`})})]}),d.jsx(pi,{children:(t==null?void 0:t.role)==="admin"?"View and Manage admin accounts.":"View the list of admin accounts."})]}),d.jsx(pn,{children:d.jsxs("div",{children:[d.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[d.jsx("h4",{className:"flex-1",children:"User"}),d.jsx("h4",{className:"w-[14rem]",children:"Last Login"}),d.jsx("h4",{className:"w-[10rem]",children:"Role"}),d.jsx("h4",{className:"w-[10rem]"})]}),d.jsx("hr",{className:"border-customBorderColor"}),d.jsx(Pu,{items:n,renderItem:p=>d.jsx(xce,{adminInfo:p,onUpdateRole:c})})]})})]}),d.jsx("footer",{className:"mt-4 pb-4",children:(t==null?void 0:t.role)!=="viewer"&&(t==null?void 0:t.role)!=="editor"&&d.jsxs(Xe,{className:"w-full",onClick:()=>h("showAddAdminDialog",!0),disabled:(n==null?void 0:n.length)===5,children:[d.jsx(bu,{className:"size-5 mr-2"}),"Add Admin"]})}),d.jsx(oue,{isOpen:r.showAddAdminDialog,setDialogState:h,onAddAdmin:o,isLoading:i}),(r==null?void 0:r.showConfirmDeleteDialog)&&d.jsx(Xa,{title:"Delete Admin Account",description:`Are you sure you want to delete the admin account with email ${e}? This action cannot be undone.`,isOpen:r.showConfirmDeleteDialog,setDialogState:p=>h("showConfirmDeleteDialog",p),onDelete:a,isDestructive:!0}),(r==null?void 0:r.showResetPasswordDialog)&&d.jsx(aue,{isOpen:r.showResetPasswordDialog,setDialogState:h,onResetPassword:l,isLoading:u})]})},vue=async()=>{const t="knowledgeBases",{success:e,document:n}=await jf(`/api/archive/data/${t}`);if(!e&&!n)throw new Error("Error fetching archive ");return n},yue=async()=>{const t="knowledgeEntries",{success:e,document:n}=await jf(`/api/archive/data/${t}`);if(!e&&!n)throw new Error("Error fetching archive ");return n},wue=async t=>{const{success:e,message:n}=await Lf(`/api/archive/knowledge-base/${t}`);if(!e)throw new Error(n);return n},xue=async t=>{const{success:e,message:n}=await Lf(`/api/archive/knowledge-entry/${t}`);if(!e)throw new Error(n);return n},_ue=async t=>{const e={knowledgeBaseId:t},{success:n,message:r}=await Sa("/api/archive/restore/knowledge-base",{},e);if(!n)throw new Error(r);return r},Eue=async t=>{const e={knowledgeEntryId:t},{success:n,message:r}=await Sa("/api/archive/restore/knowledge-entry",{},e);if(!n)throw new Error(r);return r},tB=({onRestore:t,onDelete:e})=>d.jsx("div",{children:d.jsxs(Df,{children:[d.jsx(kf,{asChild:!0,children:d.jsx(Xe,{variant:"ghost",className:" hover:bg-gray-100 size-8 p-1 group",children:d.jsx(tb,{className:"text-zinc-400 size-5 group-hover:text-zinc-600 transition-colors"})})}),d.jsxs(Iu,{align:"end",className:"w-auto text-sm bg-white border border-neutral-300 p-1 rounded-lg shadow-md",children:[d.jsxs(Xs,{className:"flex items-center p-1.5 hover:bg-zinc-100 rounded-sm cursor-pointer",onClick:t,children:[d.jsx(n8,{className:"mr-2 h-4 w-4"}),d.jsx("p",{children:"Restore"})]}),d.jsxs(Xs,{className:"flex items-center p-1.5 hover:bg-zinc-100 rounded-sm text-red-500 cursor-pointer",onClick:e,children:[d.jsx(Su,{className:"mr-2 h-4 w-4"}),d.jsx("p",{children:"Delete Permanently"})]})]})]})}),bue=({item:t})=>{const e=ut(o=>o.admin),n=Ht(o=>o.setSelectedKnowledgeBaseArchiveItem),r=Qr(o=>o.openDialog),s=async()=>{const{_id:o,knowledgeBase:a}=t;n({id:o,name:a}),r("showDeleteKnowledgeBaseArchiveDialog")},i=async()=>{const{_id:o,knowledgeBase:a}=t;n({id:o,name:a}),r("showRestoreKnowledgeBaseArchiveDialog")};return d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("section",{children:[d.jsx("p",{className:"font-medium",children:t.knowledgeBase}),d.jsx("p",{className:"text-muted-foreground text-sm",children:`Archived on ${new Date(t.archivedAt).toLocaleDateString()}  ${t.knowledgeEntry.length} ${t.knowledgeEntry.length===1?"entry":"entries"}`})]}),(e==null?void 0:e.role)!=="viewer"&&d.jsx(tB,{onRestore:i,onDelete:s})]})},nB=()=>d.jsxs("div",{className:"h-[500px] overflow-y-auto p-2 botder border-t space-y-3",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Se,{className:"w-24 h-5"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Se,{className:"w-40 h-4"}),d.jsx(Se,{className:"w-20 h-4"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Se,{className:"w-10 h-5"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Se,{className:"w-40 h-4"}),d.jsx(Se,{className:"w-20 h-4"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Se,{className:"w-14 h-5"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Se,{className:"w-40 h-4"}),d.jsx(Se,{className:"w-20 h-4"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Se,{className:"w-28 h-5"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Se,{className:"w-40 h-4"}),d.jsx(Se,{className:"w-20 h-4"})]})]})]}),rB=()=>d.jsx("div",{className:"h-[500px] flex items-center justify-center p-2 botder border-t space-y-3",children:d.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 w-full max-w-lg my-4",role:"alert",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(kM,{className:"size-[5rem] text-red-400 mr-4"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-yellow-700",children:"Error Fetching Archive List"}),d.jsx("p",{className:"text-yellow-700 mt-1",children:"We encountered an issue while trying to retrieve the archive list. This might be due to a network problem or a temporary issue with the server. Please check your internet connection and try again."})]})]})})});function Sue(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var pT="ScrollArea",[sB,Zfe]=Dl(pT),[Tue,ws]=sB(pT),iB=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=t,[a,l]=m.useState(null),[c,u]=m.useState(null),[h,p]=m.useState(null),[g,w]=m.useState(null),[v,_]=m.useState(null),[x,y]=m.useState(0),[b,C]=m.useState(0),[P,O]=m.useState(!1),[T,E]=m.useState(!1),I=ke(e,k=>l(k)),R=Cf(s);return d.jsx(Tue,{scope:n,type:r,dir:R,scrollHideDelay:i,scrollArea:a,viewport:c,onViewportChange:u,content:h,onContentChange:p,scrollbarX:g,onScrollbarXChange:w,scrollbarXEnabled:P,onScrollbarXEnabledChange:O,scrollbarY:v,onScrollbarYChange:_,scrollbarYEnabled:T,onScrollbarYEnabledChange:E,onCornerWidthChange:y,onCornerHeightChange:C,children:d.jsx(ve.div,{dir:R,...o,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});iB.displayName=pT;var oB="ScrollAreaViewport",aB=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=t,o=ws(oB,n),a=m.useRef(null),l=ke(e,a,o.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),d.jsx(ve.div,{"data-radix-scroll-area-viewport":"",...i,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:d.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});aB.displayName=oB;var mi="ScrollAreaScrollbar",mT=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=ws(mi,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=t.orientation==="horizontal";return m.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?d.jsx(Cue,{...r,ref:e,forceMount:n}):s.type==="scroll"?d.jsx(Aue,{...r,ref:e,forceMount:n}):s.type==="auto"?d.jsx(lB,{...r,ref:e,forceMount:n}):s.type==="always"?d.jsx(gT,{...r,ref:e}):null});mT.displayName=mi;var Cue=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=ws(mi,t.__scopeScrollArea),[i,o]=m.useState(!1);return m.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),d.jsx(Ol,{present:n||i,children:d.jsx(lB,{"data-state":i?"visible":"hidden",...r,ref:e})})}),Aue=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=ws(mi,t.__scopeScrollArea),i=t.orientation==="horizontal",o=jy(()=>l("SCROLL_END"),100),[a,l]=Sue("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,s.scrollHideDelay,l]),m.useEffect(()=>{const c=s.viewport,u=i?"scrollLeft":"scrollTop";if(c){let h=c[u];const p=()=>{const g=c[u];h!==g&&(l("SCROLL"),o()),h=g};return c.addEventListener("scroll",p),()=>c.removeEventListener("scroll",p)}},[s.viewport,i,l,o]),d.jsx(Ol,{present:n||a!=="hidden",children:d.jsx(gT,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Z(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Z(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),lB=m.forwardRef((t,e)=>{const n=ws(mi,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,o]=m.useState(!1),a=t.orientation==="horizontal",l=jy(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?c:u)}},10);return gu(n.viewport,l),gu(n.content,l),d.jsx(Ol,{present:r||i,children:d.jsx(gT,{"data-state":i?"visible":"hidden",...s,ref:e})})}),gT=m.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=ws(mi,t.__scopeScrollArea),i=m.useRef(null),o=m.useRef(0),[a,l]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=fB(a.viewport,a.content),u={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function h(p,g){return kue(p,o.current,a,g)}return n==="horizontal"?d.jsx(Rue,{...u,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollLeft,g=xP(p,a,s.dir);i.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=h(p,s.dir))}}):n==="vertical"?d.jsx(Iue,{...u,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollTop,g=xP(p,a);i.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=h(p))}}):null}),Rue=m.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=ws(mi,t.__scopeScrollArea),[o,a]=m.useState(),l=m.useRef(null),c=ke(e,l,i.onScrollbarXChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),d.jsx(uB,{"data-orientation":"horizontal",...s,ref:c,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Oy(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(i.viewport){const p=i.viewport.scrollLeft+u.deltaX;t.onWheelScroll(p),mB(p,h)&&u.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:nv(o.paddingLeft),paddingEnd:nv(o.paddingRight)}})}})}),Iue=m.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=ws(mi,t.__scopeScrollArea),[o,a]=m.useState(),l=m.useRef(null),c=ke(e,l,i.onScrollbarYChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),d.jsx(uB,{"data-orientation":"vertical",...s,ref:c,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Oy(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(i.viewport){const p=i.viewport.scrollTop+u.deltaY;t.onWheelScroll(p),mB(p,h)&&u.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:nv(o.paddingTop),paddingEnd:nv(o.paddingBottom)}})}})}),[Pue,cB]=sB(mi),uB=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:h,...p}=t,g=ws(mi,n),[w,v]=m.useState(null),_=ke(e,I=>v(I)),x=m.useRef(null),y=m.useRef(""),b=g.viewport,C=r.content-r.viewport,P=mt(u),O=mt(l),T=jy(h,10);function E(I){if(x.current){const R=I.clientX-x.current.left,k=I.clientY-x.current.top;c({x:R,y:k})}}return m.useEffect(()=>{const I=R=>{const k=R.target;(w==null?void 0:w.contains(k))&&P(R,C)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[b,w,C,P]),m.useEffect(O,[r,O]),gu(w,T),gu(g.content,T),d.jsx(Pue,{scope:n,scrollbar:w,hasThumb:s,onThumbChange:mt(i),onThumbPointerUp:mt(o),onThumbPositionChange:O,onThumbPointerDown:mt(a),children:d.jsx(ve.div,{...p,ref:_,style:{position:"absolute",...p.style},onPointerDown:Z(t.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),x.current=w.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),E(I))}),onPointerMove:Z(t.onPointerMove,E),onPointerUp:Z(t.onPointerUp,I=>{const R=I.target;R.hasPointerCapture(I.pointerId)&&R.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=y.current,g.viewport&&(g.viewport.style.scrollBehavior=""),x.current=null})})})}),tv="ScrollAreaThumb",dB=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=cB(tv,t.__scopeScrollArea);return d.jsx(Ol,{present:n||s.hasThumb,children:d.jsx(Nue,{ref:e,...r})})}),Nue=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=ws(tv,n),o=cB(tv,n),{onThumbPositionChange:a}=o,l=ke(e,h=>o.onThumbChange(h)),c=m.useRef(),u=jy(()=>{c.current&&(c.current(),c.current=void 0)},100);return m.useEffect(()=>{const h=i.viewport;if(h){const p=()=>{if(u(),!c.current){const g=Mue(h,a);c.current=g,a()}};return a(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[i.viewport,u,a]),d.jsx(ve.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Z(t.onPointerDownCapture,h=>{const g=h.target.getBoundingClientRect(),w=h.clientX-g.left,v=h.clientY-g.top;o.onThumbPointerDown({x:w,y:v})}),onPointerUp:Z(t.onPointerUp,o.onThumbPointerUp)})});dB.displayName=tv;var vT="ScrollAreaCorner",hB=m.forwardRef((t,e)=>{const n=ws(vT,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?d.jsx(Due,{...t,ref:e}):null});hB.displayName=vT;var Due=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=ws(vT,n),[i,o]=m.useState(0),[a,l]=m.useState(0),c=!!(i&&a);return gu(s.scrollbarX,()=>{var h;const u=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(u),l(u)}),gu(s.scrollbarY,()=>{var h;const u=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(u),o(u)}),c?d.jsx(ve.div,{...r,ref:e,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function nv(t){return t?parseInt(t,10):0}function fB(t,e){const n=t/e;return isNaN(n)?0:n}function Oy(t){const e=fB(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function kue(t,e,n,r="ltr"){const s=Oy(n),i=s/2,o=e||i,a=s-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,h=r==="ltr"?[0,u]:[u*-1,0];return pB([l,c],h)(t)}function xP(t,e,n="ltr"){const r=Oy(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,a=i-r,l=n==="ltr"?[0,o]:[o*-1,0],c=R_(t,l);return pB([0,o],[0,a])(c)}function pB(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function mB(t,e){return t>0&&t<e}var Mue=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,a=n.top!==i.top;(o||a)&&e(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function jy(t,e){const n=mt(t),r=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),m.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function gu(t,e){const n=mt(e);Pt(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var gB=iB,Oue=aB,jue=hB;const qh=m.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(gB,{ref:r,className:ue("relative overflow-hidden",t),...n,children:[d.jsx(Oue,{className:"h-full w-full rounded-[inherit]",children:e}),d.jsx(vB,{}),d.jsx(jue,{})]}));qh.displayName=gB.displayName;const vB=m.forwardRef(({className:t,orientation:e="vertical",...n},r)=>d.jsx(mT,{ref:r,orientation:e,className:ue("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:d.jsx(dB,{className:"relative flex-1 rounded-full bg-border"})}));vB.displayName=mT.displayName;const Lue=()=>{const{data:t,isLoading:e,isError:n}=Vl({queryFn:()=>vue(),queryKey:Wg});return e?d.jsx(nB,{}):!t||n?d.jsx(rB,{}):d.jsx(qh,{className:"h-[500px] flex border border-neutral-200 p-4 rounded-sm",children:t.items.length!==0?d.jsx(Pu,{listStyle:"space-y-3 w-full",items:t.items,renderItem:r=>d.jsx(bue,{item:r})}):d.jsxs("div",{className:"h-[466px] flex flex-col justify-center items-center",children:[d.jsx("div",{className:"h-20 w-20 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:d.jsx(Mv,{className:"h-10 w-10 text-primary"})}),d.jsx("h2",{className:"text-lg font-semibold mb-2",children:"No archived bases"}),d.jsxs("p",{className:"text-sm text-center text-muted-foreground mb-6 max-w-md ",children:["When you archive knowledge bases, they'll appear here. Archived bases can be restored or permanently deleted. ",d.jsx("br",{}),"Note: Archives are automatically deleted after 30 days."]})]})})},Vue=({item:t})=>{const e=ut(o=>o.admin),n=Ht(o=>o.setSelectedKnowledgeEntryArchiveItem),r=Qr(o=>o.openDialog),s=async()=>{const{_id:o,knowledgeEntry:{intent:a}}=t;n({id:o,name:a}),r("showDeleteKnowledgeEntryArchiveDialog")},i=async()=>{const{_id:o,knowledgeEntry:{intent:a}}=t;n({id:o,name:a}),r("showRestoreKnowledgeEntryArchiveDialog")};return d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("section",{children:[d.jsx("p",{className:"font-medium",children:t.knowledgeEntry.intent}),d.jsx("p",{className:"text-muted-foreground text-sm",children:`From: ${t.knowledgeBase}  Archived on ${new Date(t.archivedAt).toLocaleDateString()}`})]}),(e==null?void 0:e.role)!=="viewer"&&d.jsx(tB,{onRestore:i,onDelete:s})]})},Fue=()=>{const{data:t,isLoading:e,isError:n}=Vl({queryFn:()=>yue(),queryKey:Hg});return e?d.jsx(nB,{}):!t||n?d.jsx(rB,{}):d.jsx(qh,{className:"h-[500px] flex border border-neutral-200 p-4 rounded-sm",children:t.items.length!==0?d.jsx(Pu,{listStyle:"space-y-3 w-full",items:t.items,renderItem:r=>d.jsx(Vue,{item:r})}):d.jsxs("div",{className:"h-[466px] flex-1 flex flex-col justify-center items-center",children:[d.jsx("div",{className:"h-20 w-20 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:d.jsx(Mv,{className:"h-10 w-10 text-primary"})}),d.jsx("h2",{className:"text-lg font-semibold mb-2",children:"No archived entries"}),d.jsxs("p",{className:"text-sm text-center text-muted-foreground mb-6 max-w-md whitespace-pre-line",children:["When you archive knowledge entries, they'll appear here. Archived entries can be restored or permanently deleted. ",d.jsx("br",{}),"Note: Archives are automatically deleted after 30 days."]})]})})},Uue=()=>{const t=ji(n=>n.currentSelectedTabInArchiveTab),e=ji(n=>n.setCurrentSelectedTabInArchiveTab);return d.jsxs(u2,{value:t,onValueChange:n=>e(n),className:"space-y-4",children:[d.jsxs(lS,{className:"p-1 border-neutral-200 border rounded-md",children:[d.jsx(Og,{className:"data-[state=active]:bg-primary data-[state=active]:text-white rounded-sm",value:"knowledgeBases",children:"Knowledge Bases"}),d.jsx(Og,{className:"data-[state=active]:bg-primary data-[state=active]:text-white rounded-sm",value:"knowledgeEntries",children:"Knowledge Entries"})]}),t==="knowledgeBases"&&d.jsx(Lue,{}),t==="knowledgeEntries"&&d.jsx(Fue,{})]})},Bue=()=>{const t=Bs(),e=Ra(),n=ut(P=>P.admin),{id:r,name:s}=Ht(P=>P.selectedKnowledgeBaseArchiveItem),{id:i,name:o}=Ht(P=>P.selectedKnowledgeEntryArchiveItem),a=Qr(P=>P.dialogs),l=Qr(P=>P.setDialogState),c=vc.baseArchive(s??"Unknown Base"),u=vc.baseRestore(s??"Unknown Entry"),h=vc.entryArchive(o??"Unknown Base"),p=vc.entryRestore(o??"Unknown Base"),{mutateAsync:g}=Rr({mutationFn:wue,onSuccess:P=>{e.invalidateQueries({queryKey:Wg}),t({title:P,description:ot()})},onError:P=>{t({title:P.message,description:ot(),variant:"destructive"})}}),w=async()=>{try{if(!r)throw new Error("Knowledge base archive id not found");await g(r)}catch(P){console.error("An unexpected error occured: ",P)}},{mutateAsync:v}=Rr({mutationFn:_ue,onSuccess:P=>{e.invalidateQueries({queryKey:Zd}),e.invalidateQueries({queryKey:Wg}),t({title:P,description:ot()})},onError:P=>{t({title:P.message,description:ot(),variant:"destructive"})}}),_=async()=>{try{if(!r)throw new Error("Knowledge base archive id not found");await v(r)}catch(P){console.error("An unexpected error occured: ",P)}},{mutateAsync:x}=Rr({mutationFn:xue,onSuccess:P=>{e.invalidateQueries({queryKey:Hg}),t({title:P,description:ot()})},onError:P=>{t({title:P.message,description:ot(),variant:"destructive"})}}),y=async()=>{try{if(!i)throw new Error("Knowledge entry archive id not found");await x(i)}catch(P){console.error("An unexpected error occured: ",P)}},{mutateAsync:b}=Rr({mutationFn:Eue,onSuccess:P=>{e.invalidateQueries({queryKey:Hg}),t({title:P,description:ot()})},onError:P=>{t({title:P.message,description:ot(),variant:"destructive"})}}),C=async()=>{try{if(!i)throw new Error("Knowledge entry archive id not found");await b(i)}catch(P){console.error("An unexpected error occured: ",P)}};return d.jsxs("section",{className:"flex-1 flex-col space-y-4",children:[d.jsxs(ln,{children:[d.jsxs(Mn,{children:[d.jsx(On,{children:"Archives"}),d.jsx(pi,{children:(n==null?void 0:n.role)!=="viewer"?"View and manage archived knowledge bases and entries.":"View archived knowledge bases and entries."})]}),d.jsx(pn,{children:d.jsx(Uue,{})})]}),a.showDeleteKnowledgeBaseArchiveDialog&&d.jsx(Xa,{title:c.title,description:c.description,isOpen:a.showDeleteKnowledgeBaseArchiveDialog,setDialogState:P=>l("showDeleteKnowledgeBaseArchiveDialog",P),onDelete:w,isDestructive:!0}),a.showRestoreKnowledgeBaseArchiveDialog&&d.jsx(Xa,{title:u.title,description:u.description,isOpen:a.showRestoreKnowledgeBaseArchiveDialog,setDialogState:P=>l("showRestoreKnowledgeBaseArchiveDialog",P),onDelete:_}),a.showDeleteKnowledgeEntryArchiveDialog&&d.jsx(Xa,{title:h.title,description:h.description,isOpen:a.showDeleteKnowledgeEntryArchiveDialog,setDialogState:P=>l("showDeleteKnowledgeEntryArchiveDialog",P),onDelete:y,isDestructive:!0}),a.showRestoreKnowledgeEntryArchiveDialog&&d.jsx(Xa,{title:p.title,description:p.description,isOpen:a.showRestoreKnowledgeEntryArchiveDialog,setDialogState:P=>l("showRestoreKnowledgeEntryArchiveDialog",P),onDelete:C})]})},Ln=[];for(let t=0;t<256;++t)Ln.push((t+256).toString(16).slice(1));function $ue(t,e=0){return(Ln[t[e+0]]+Ln[t[e+1]]+Ln[t[e+2]]+Ln[t[e+3]]+"-"+Ln[t[e+4]]+Ln[t[e+5]]+"-"+Ln[t[e+6]]+Ln[t[e+7]]+"-"+Ln[t[e+8]]+Ln[t[e+9]]+"-"+Ln[t[e+10]]+Ln[t[e+11]]+Ln[t[e+12]]+Ln[t[e+13]]+Ln[t[e+14]]+Ln[t[e+15]]).toLowerCase()}let m0;const zue=new Uint8Array(16);function Kue(){if(!m0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");m0=crypto.getRandomValues.bind(crypto)}return m0(zue)}const Wue=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),_P={randomUUID:Wue};function Hue(t,e,n){if(_P.randomUUID&&!e&&!t)return _P.randomUUID();t=t||{};const r=t.random||(t.rng||Kue)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,$ue(r)}const yB=()=>Hue(),que=({placeholderText:t,selectChoices:e,selectLabel:n,field:r,isError:s})=>d.jsx("div",{className:"w-[200px]",children:d.jsxs(QU,{onValueChange:r.onChange,value:r.value,children:[d.jsx(dT,{style:{width:"170px"},className:ue("min-w-0",s&&"border-destructive"),children:d.jsx(XU,{placeholder:t})}),d.jsx(hT,{children:d.jsxs(YU,{children:[n&&d.jsx(eB,{children:n}),e.map(i=>d.jsx(fT,{value:i.value,children:i.label},yB()))]})})]})}),Gue=({onAddQuery:t})=>{const{register:e,handleSubmit:n,control:r,setValue:s,formState:{errors:i}}=Zf(),o=a=>{t(a.queryType,a.queryLabel,a.query),s("query",""),s("queryLabel","")};return d.jsxs("form",{onSubmit:n(o),className:"flex space-x-2",children:[d.jsx(Lt,{className:`${i.query?"border-destructive":""}`,placeholder:"Enter query label (e.g Say Hi)",...e("queryLabel",{required:"A query label is required"})}),d.jsx(Lt,{className:`${i.query?"border-destructive":""}`,placeholder:"Enter your suggested query",...e("query",{required:"A query is required"})}),d.jsx(Y4,{name:"queryType",control:r,rules:{required:"Query type is required"},render:({field:a})=>d.jsx(que,{placeholderText:"Select query type",selectChoices:[{value:"quickAccess",label:"Quick Access"},{value:"menuAccess",label:"Menu Access"}],field:a,isError:!!i.queryType})}),d.jsxs(Xe,{type:"submit",className:"space-x-1.5",children:[d.jsx(bu,{className:"size-5"}),d.jsx("p",{children:"Add Query"})]})]})};function Que(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return m.useMemo(()=>r=>{e.forEach(s=>s(r))},e)}const Ly=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function $u(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function yT(t){return"nodeType"in t}function kr(t){var e,n;return t?$u(t)?t:yT(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function wT(t){const{Document:e}=kr(t);return t instanceof e}function tp(t){return $u(t)?!1:t instanceof kr(t).HTMLElement}function wB(t){return t instanceof kr(t).SVGElement}function zu(t){return t?$u(t)?t.document:yT(t)?wT(t)?t:tp(t)||wB(t)?t.ownerDocument:document:document:document}const hi=Ly?m.useLayoutEffect:m.useEffect;function xT(t){const e=m.useRef(t);return hi(()=>{e.current=t}),m.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function Yue(){const t=m.useRef(null),e=m.useCallback((r,s)=>{t.current=setInterval(r,s)},[]),n=m.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function Gh(t,e){e===void 0&&(e=[t]);const n=m.useRef(t);return hi(()=>{n.current!==t&&(n.current=t)},e),n}function np(t,e){const n=m.useRef();return m.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function rv(t){const e=xT(t),n=m.useRef(null),r=m.useCallback(s=>{s!==n.current&&(e==null||e(s,n.current)),n.current=s},[]);return[n,r]}function O_(t){const e=m.useRef();return m.useEffect(()=>{e.current=t},[t]),e.current}let g0={};function rp(t,e){return m.useMemo(()=>{if(e)return e;const n=g0[t]==null?0:g0[t]+1;return g0[t]=n,t+"-"+n},[t,e])}function xB(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((i,o)=>{const a=Object.entries(o);for(const[l,c]of a){const u=i[l];u!=null&&(i[l]=u+t*c)}return i},{...e})}}const kc=xB(1),sv=xB(-1);function Xue(t){return"clientX"in t&&"clientY"in t}function _T(t){if(!t)return!1;const{KeyboardEvent:e}=kr(t.target);return e&&t instanceof e}function Jue(t){if(!t)return!1;const{TouchEvent:e}=kr(t.target);return e&&t instanceof e}function j_(t){if(Jue(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return Xue(t)?{x:t.clientX,y:t.clientY}:null}const Qh=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Qh.Translate.toString(t),Qh.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),EP="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Zue(t){return t.matches(EP)?t:t.querySelector(EP)}const ede={display:"none"};function tde(t){let{id:e,value:n}=t;return Re.createElement("div",{id:e,style:ede},n)}function nde(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Re.createElement("div",{id:e,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function rde(){const[t,e]=m.useState("");return{announce:m.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const _B=m.createContext(null);function sde(t){const e=m.useContext(_B);m.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function ide(){const[t]=m.useState(()=>new Set),e=m.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[m.useCallback(r=>{let{type:s,event:i}=r;t.forEach(o=>{var a;return(a=o[s])==null?void 0:a.call(o,i)})},[t]),e]}const ode={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},ade={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function lde(t){let{announcements:e=ade,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=ode}=t;const{announce:i,announcement:o}=rde(),a=rp("DndLiveRegion"),[l,c]=m.useState(!1);if(m.useEffect(()=>{c(!0)},[]),sde(m.useMemo(()=>({onDragStart(h){let{active:p}=h;i(e.onDragStart({active:p}))},onDragMove(h){let{active:p,over:g}=h;e.onDragMove&&i(e.onDragMove({active:p,over:g}))},onDragOver(h){let{active:p,over:g}=h;i(e.onDragOver({active:p,over:g}))},onDragEnd(h){let{active:p,over:g}=h;i(e.onDragEnd({active:p,over:g}))},onDragCancel(h){let{active:p,over:g}=h;i(e.onDragCancel({active:p,over:g}))}}),[i,e])),!l)return null;const u=Re.createElement(Re.Fragment,null,Re.createElement(tde,{id:r,value:s.draggable}),Re.createElement(nde,{id:a,announcement:o}));return n?Ar.createPortal(u,n):u}var _n;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(_n||(_n={}));function iv(){}const Us=Object.freeze({x:0,y:0});function cde(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function ude(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function dde(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),s=Math.min(e.left+e.width,t.left+t.width),i=Math.min(e.top+e.height,t.top+t.height),o=s-r,a=i-n;if(r<s&&n<i){const l=e.width*e.height,c=t.width*t.height,u=o*a,h=u/(l+c-u);return Number(h.toFixed(4))}return 0}const hde=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=[];for(const i of r){const{id:o}=i,a=n.get(o);if(a){const l=dde(a,e);l>0&&s.push({id:o,data:{droppableContainer:i,value:l}})}}return s.sort(cde)};function fde(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function EB(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Us}function pde(t){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return s.reduce((o,a)=>({...o,top:o.top+t*a.y,bottom:o.bottom+t*a.y,left:o.left+t*a.x,right:o.right+t*a.x}),{...n})}}const mde=pde(1);function gde(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function vde(t,e,n){const r=gde(e);if(!r)return t;const{scaleX:s,scaleY:i,x:o,y:a}=r,l=t.left-o-(1-s)*parseFloat(n),c=t.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),u=s?t.width/s:t.width,h=i?t.height/i:t.height;return{width:u,height:h,top:c,right:l+u,bottom:c+h,left:l}}const yde={ignoreTransform:!1};function Ku(t,e){e===void 0&&(e=yde);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:c,transformOrigin:u}=kr(t).getComputedStyle(t);c&&(n=vde(n,c,u))}const{top:r,left:s,width:i,height:o,bottom:a,right:l}=n;return{top:r,left:s,width:i,height:o,bottom:a,right:l}}function bP(t){return Ku(t,{ignoreTransform:!0})}function wde(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function xde(t,e){return e===void 0&&(e=kr(t).getComputedStyle(t)),e.position==="fixed"}function _de(t,e){e===void 0&&(e=kr(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=e[s];return typeof i=="string"?n.test(i):!1})}function ET(t,e){const n=[];function r(s){if(e!=null&&n.length>=e||!s)return n;if(wT(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!tp(s)||wB(s)||n.includes(s))return n;const i=kr(t).getComputedStyle(s);return s!==t&&_de(s,i)&&n.push(s),xde(s,i)?n:r(s.parentNode)}return t?r(t):n}function bB(t){const[e]=ET(t,1);return e??null}function v0(t){return!Ly||!t?null:$u(t)?t:yT(t)?wT(t)||t===zu(t).scrollingElement?window:tp(t)?t:null:null}function SB(t){return $u(t)?t.scrollX:t.scrollLeft}function TB(t){return $u(t)?t.scrollY:t.scrollTop}function L_(t){return{x:SB(t),y:TB(t)}}var Dn;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Dn||(Dn={}));function CB(t){return!Ly||!t?!1:t===document.scrollingElement}function AB(t){const e={x:0,y:0},n=CB(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},s=t.scrollTop<=e.y,i=t.scrollLeft<=e.x,o=t.scrollTop>=r.y,a=t.scrollLeft>=r.x;return{isTop:s,isLeft:i,isBottom:o,isRight:a,maxScroll:r,minScroll:e}}const Ede={x:.2,y:.2};function bde(t,e,n,r,s){let{top:i,left:o,right:a,bottom:l}=n;r===void 0&&(r=10),s===void 0&&(s=Ede);const{isTop:c,isBottom:u,isLeft:h,isRight:p}=AB(t),g={x:0,y:0},w={x:0,y:0},v={height:e.height*s.y,width:e.width*s.x};return!c&&i<=e.top+v.height?(g.y=Dn.Backward,w.y=r*Math.abs((e.top+v.height-i)/v.height)):!u&&l>=e.bottom-v.height&&(g.y=Dn.Forward,w.y=r*Math.abs((e.bottom-v.height-l)/v.height)),!p&&a>=e.right-v.width?(g.x=Dn.Forward,w.x=r*Math.abs((e.right-v.width-a)/v.width)):!h&&o<=e.left+v.width&&(g.x=Dn.Backward,w.x=r*Math.abs((e.left+v.width-o)/v.width)),{direction:g,speed:w}}function Sde(t){if(t===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:e,left:n,right:r,bottom:s}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:s,width:t.clientWidth,height:t.clientHeight}}function RB(t){return t.reduce((e,n)=>kc(e,L_(n)),Us)}function Tde(t){return t.reduce((e,n)=>e+SB(n),0)}function Cde(t){return t.reduce((e,n)=>e+TB(n),0)}function Ade(t,e){if(e===void 0&&(e=Ku),!t)return;const{top:n,left:r,bottom:s,right:i}=e(t);bB(t)&&(s<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const Rde=[["x",["left","right"],Tde],["y",["top","bottom"],Cde]];class bT{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=ET(n),s=RB(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[i,o,a]of Rde)for(const l of o)Object.defineProperty(this,l,{get:()=>{const c=a(r),u=s[i]-c;return this.rect[l]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class sh{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var s;(s=this.target)==null||s.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function Ide(t){const{EventTarget:e}=kr(t);return t instanceof e?t:zu(t)}function y0(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var ls;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(ls||(ls={}));function SP(t){t.preventDefault()}function Pde(t){t.stopPropagation()}var gt;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter"})(gt||(gt={}));const IB={start:[gt.Space,gt.Enter],cancel:[gt.Esc],end:[gt.Space,gt.Enter]},Nde=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case gt.Right:return{...n,x:n.x+25};case gt.Left:return{...n,x:n.x-25};case gt.Down:return{...n,y:n.y+25};case gt.Up:return{...n,y:n.y-25}}};class PB{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new sh(zu(n)),this.windowListeners=new sh(kr(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ls.Resize,this.handleCancel),this.windowListeners.add(ls.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ls.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&Ade(r),n(Us)}handleKeyDown(e){if(_T(e)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:i=IB,coordinateGetter:o=Nde,scrollBehavior:a="smooth"}=s,{code:l}=e;if(i.end.includes(l)){this.handleEnd(e);return}if(i.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:c}=r.current,u=c?{x:c.left,y:c.top}:Us;this.referenceCoordinates||(this.referenceCoordinates=u);const h=o(e,{active:n,context:r.current,currentCoordinates:u});if(h){const p=sv(h,u),g={x:0,y:0},{scrollableAncestors:w}=r.current;for(const v of w){const _=e.code,{isTop:x,isRight:y,isLeft:b,isBottom:C,maxScroll:P,minScroll:O}=AB(v),T=Sde(v),E={x:Math.min(_===gt.Right?T.right-T.width/2:T.right,Math.max(_===gt.Right?T.left:T.left+T.width/2,h.x)),y:Math.min(_===gt.Down?T.bottom-T.height/2:T.bottom,Math.max(_===gt.Down?T.top:T.top+T.height/2,h.y))},I=_===gt.Right&&!y||_===gt.Left&&!b,R=_===gt.Down&&!C||_===gt.Up&&!x;if(I&&E.x!==h.x){const k=v.scrollLeft+p.x,M=_===gt.Right&&k<=P.x||_===gt.Left&&k>=O.x;if(M&&!p.y){v.scrollTo({left:k,behavior:a});return}M?g.x=v.scrollLeft-k:g.x=_===gt.Right?v.scrollLeft-P.x:v.scrollLeft-O.x,g.x&&v.scrollBy({left:-g.x,behavior:a});break}else if(R&&E.y!==h.y){const k=v.scrollTop+p.y,M=_===gt.Down&&k<=P.y||_===gt.Up&&k>=O.y;if(M&&!p.x){v.scrollTo({top:k,behavior:a});return}M?g.y=v.scrollTop-k:g.y=_===gt.Down?v.scrollTop-P.y:v.scrollTop-O.y,g.y&&v.scrollBy({top:-g.y,behavior:a});break}}this.handleMove(e,kc(sv(h,this.referenceCoordinates),g))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}PB.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=IB,onActivation:s}=e,{active:i}=n;const{code:o}=t.nativeEvent;if(r.start.includes(o)){const a=i.activatorNode.current;return a&&t.target!==a?!1:(t.preventDefault(),s==null||s({event:t.nativeEvent}),!0)}return!1}}];function TP(t){return!!(t&&"distance"in t)}function CP(t){return!!(t&&"delay"in t)}class ST{constructor(e,n,r){var s;r===void 0&&(r=Ide(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:i}=e,{target:o}=i;this.props=e,this.events=n,this.document=zu(o),this.documentListeners=new sh(this.document),this.listeners=new sh(r),this.windowListeners=new sh(kr(o)),this.initialCoordinates=(s=j_(i))!=null?s:Us,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(ls.Resize,this.handleCancel),this.windowListeners.add(ls.DragStart,SP),this.windowListeners.add(ls.VisibilityChange,this.handleCancel),this.windowListeners.add(ls.ContextMenu,SP),this.documentListeners.add(ls.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(CP(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}if(TP(n))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(ls.Click,Pde,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ls.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:s,props:i}=this,{onMove:o,options:{activationConstraint:a}}=i;if(!s)return;const l=(n=j_(e))!=null?n:Us,c=sv(s,l);if(!r&&a){if(TP(a)){if(a.tolerance!=null&&y0(c,a.tolerance))return this.handleCancel();if(y0(c,a.distance))return this.handleStart()}return CP(a)&&y0(c,a.tolerance)?this.handleCancel():void 0}e.cancelable&&e.preventDefault(),o(l)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===gt.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const Dde={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class NB extends ST{constructor(e){const{event:n}=e,r=zu(n.target);super(e,Dde,r)}}NB.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const kde={move:{name:"mousemove"},end:{name:"mouseup"}};var V_;(function(t){t[t.RightClick=2]="RightClick"})(V_||(V_={}));class Mde extends ST{constructor(e){super(e,kde,zu(e.event.target))}}Mde.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===V_.RightClick?!1:(r==null||r({event:n}),!0)}}];const w0={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Ode extends ST{constructor(e){super(e,w0)}static setup(){return window.addEventListener(w0.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(w0.move.name,e)};function e(){}}}Ode.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var ih;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(ih||(ih={}));var ov;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(ov||(ov={}));function jde(t){let{acceleration:e,activator:n=ih.Pointer,canScroll:r,draggingRect:s,enabled:i,interval:o=5,order:a=ov.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:u,delta:h,threshold:p}=t;const g=Vde({delta:h,disabled:!i}),[w,v]=Yue(),_=m.useRef({x:0,y:0}),x=m.useRef({x:0,y:0}),y=m.useMemo(()=>{switch(n){case ih.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case ih.DraggableRect:return s}},[n,s,l]),b=m.useRef(null),C=m.useCallback(()=>{const O=b.current;if(!O)return;const T=_.current.x*x.current.x,E=_.current.y*x.current.y;O.scrollBy(T,E)},[]),P=m.useMemo(()=>a===ov.TreeOrder?[...c].reverse():c,[a,c]);m.useEffect(()=>{if(!i||!c.length||!y){v();return}for(const O of P){if((r==null?void 0:r(O))===!1)continue;const T=c.indexOf(O),E=u[T];if(!E)continue;const{direction:I,speed:R}=bde(O,E,y,e,p);for(const k of["x","y"])g[k][I[k]]||(R[k]=0,I[k]=0);if(R.x>0||R.y>0){v(),b.current=O,w(C,o),_.current=R,x.current=I;return}}_.current={x:0,y:0},x.current={x:0,y:0},v()},[e,C,r,v,i,o,JSON.stringify(y),JSON.stringify(g),w,c,P,u,JSON.stringify(p)])}const Lde={x:{[Dn.Backward]:!1,[Dn.Forward]:!1},y:{[Dn.Backward]:!1,[Dn.Forward]:!1}};function Vde(t){let{delta:e,disabled:n}=t;const r=O_(e);return np(s=>{if(n||!r||!s)return Lde;const i={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Dn.Backward]:s.x[Dn.Backward]||i.x===-1,[Dn.Forward]:s.x[Dn.Forward]||i.x===1},y:{[Dn.Backward]:s.y[Dn.Backward]||i.y===-1,[Dn.Forward]:s.y[Dn.Forward]||i.y===1}}},[n,e,r])}function Fde(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return np(s=>{var i;return e==null?null:(i=r??s)!=null?i:null},[r,e])}function Ude(t,e){return m.useMemo(()=>t.reduce((n,r)=>{const{sensor:s}=r,i=s.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,r)}));return[...n,...i]},[]),[t,e])}var Yh;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Yh||(Yh={}));var F_;(function(t){t.Optimized="optimized"})(F_||(F_={}));const AP=new Map;function Bde(t,e){let{dragging:n,dependencies:r,config:s}=e;const[i,o]=m.useState(null),{frequency:a,measure:l,strategy:c}=s,u=m.useRef(t),h=_(),p=Gh(h),g=m.useCallback(function(x){x===void 0&&(x=[]),!p.current&&o(y=>y===null?x:y.concat(x.filter(b=>!y.includes(b))))},[p]),w=m.useRef(null),v=np(x=>{if(h&&!n)return AP;if(!x||x===AP||u.current!==t||i!=null){const y=new Map;for(let b of t){if(!b)continue;if(i&&i.length>0&&!i.includes(b.id)&&b.rect.current){y.set(b.id,b.rect.current);continue}const C=b.node.current,P=C?new bT(l(C),C):null;b.rect.current=P,P&&y.set(b.id,P)}return y}return x},[t,i,n,h,l]);return m.useEffect(()=>{u.current=t},[t]),m.useEffect(()=>{h||g()},[n,h]),m.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),m.useEffect(()=>{h||typeof a!="number"||w.current!==null||(w.current=setTimeout(()=>{g(),w.current=null},a))},[a,h,g,...r]),{droppableRects:v,measureDroppableContainers:g,measuringScheduled:i!=null};function _(){switch(c){case Yh.Always:return!1;case Yh.BeforeDragging:return n;default:return!n}}}function DB(t,e){return np(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function $de(t,e){return DB(t,e)}function zde(t){let{callback:e,disabled:n}=t;const r=xT(e),s=m.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return m.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Vy(t){let{callback:e,disabled:n}=t;const r=xT(e),s=m.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return m.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Kde(t){return new bT(Ku(t),t)}function RP(t,e,n){e===void 0&&(e=Kde);const[r,s]=m.useState(null);function i(){s(l=>{if(!t)return null;if(t.isConnected===!1){var c;return(c=l??n)!=null?c:null}const u=e(t);return JSON.stringify(l)===JSON.stringify(u)?l:u})}const o=zde({callback(l){if(t)for(const c of l){const{type:u,target:h}=c;if(u==="childList"&&h instanceof HTMLElement&&h.contains(t)){i();break}}}}),a=Vy({callback:i});return hi(()=>{i(),t?(a==null||a.observe(t),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[t]),r}function Wde(t){const e=DB(t);return EB(t,e)}const IP=[];function Hde(t){const e=m.useRef(t),n=np(r=>t?r&&r!==IP&&t&&e.current&&t.parentNode===e.current.parentNode?r:ET(t):IP,[t]);return m.useEffect(()=>{e.current=t},[t]),n}function qde(t){const[e,n]=m.useState(null),r=m.useRef(t),s=m.useCallback(i=>{const o=v0(i.target);o&&n(a=>a?(a.set(o,L_(o)),new Map(a)):null)},[]);return m.useEffect(()=>{const i=r.current;if(t!==i){o(i);const a=t.map(l=>{const c=v0(l);return c?(c.addEventListener("scroll",s,{passive:!0}),[c,L_(c)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=t}return()=>{o(t),o(i)};function o(a){a.forEach(l=>{const c=v0(l);c==null||c.removeEventListener("scroll",s)})}},[s,t]),m.useMemo(()=>t.length?e?Array.from(e.values()).reduce((i,o)=>kc(i,o),Us):RB(t):Us,[t,e])}function PP(t,e){e===void 0&&(e=[]);const n=m.useRef(null);return m.useEffect(()=>{n.current=null},e),m.useEffect(()=>{const r=t!==Us;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?sv(t,n.current):Us}function Gde(t){m.useEffect(()=>{if(!Ly)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function Qde(t,e){return m.useMemo(()=>t.reduce((n,r)=>{let{eventName:s,handler:i}=r;return n[s]=o=>{i(o,e)},n},{}),[t,e])}function kB(t){return m.useMemo(()=>t?wde(t):null,[t])}const NP=[];function Yde(t,e){e===void 0&&(e=Ku);const[n]=t,r=kB(n?kr(n):null),[s,i]=m.useState(NP);function o(){i(()=>t.length?t.map(l=>CB(l)?r:new bT(e(l),l)):NP)}const a=Vy({callback:o});return hi(()=>{a==null||a.disconnect(),o(),t.forEach(l=>a==null?void 0:a.observe(l))},[t]),s}function Xde(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return tp(e)?e:t}function Jde(t){let{measure:e}=t;const[n,r]=m.useState(null),s=m.useCallback(c=>{for(const{target:u}of c)if(tp(u)){r(h=>{const p=e(u);return h?{...h,width:p.width,height:p.height}:p});break}},[e]),i=Vy({callback:s}),o=m.useCallback(c=>{const u=Xde(c);i==null||i.disconnect(),u&&(i==null||i.observe(u)),r(u?e(u):null)},[e,i]),[a,l]=rv(o);return m.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const Zde=[{sensor:NB,options:{}},{sensor:PB,options:{}}],ehe={current:{}},Um={draggable:{measure:bP},droppable:{measure:bP,strategy:Yh.WhileDragging,frequency:F_.Optimized},dragOverlay:{measure:Ku}};class oh extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const the={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new oh,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:iv},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Um,measureDroppableContainers:iv,windowRect:null,measuringScheduled:!1},nhe={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:iv,draggableNodes:new Map,over:null,measureDroppableContainers:iv},Fy=m.createContext(nhe),MB=m.createContext(the);function rhe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new oh}}}function she(t,e){switch(e.type){case _n.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case _n.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case _n.DragEnd:case _n.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case _n.RegisterDroppable:{const{element:n}=e,{id:r}=n,s=new oh(t.droppable.containers);return s.set(r,n),{...t,droppable:{...t.droppable,containers:s}}}case _n.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const o=new oh(t.droppable.containers);return o.set(n,{...i,disabled:s}),{...t,droppable:{...t.droppable,containers:o}}}case _n.UnregisterDroppable:{const{id:n,key:r}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const i=new oh(t.droppable.containers);return i.delete(n),{...t,droppable:{...t.droppable,containers:i}}}default:return t}}function ihe(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:s}=m.useContext(Fy),i=O_(r),o=O_(n==null?void 0:n.id);return m.useEffect(()=>{if(!e&&!r&&i&&o!=null){if(!_T(i)||document.activeElement===i.target)return;const a=s.get(o);if(!a)return;const{activatorNode:l,node:c}=a;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const u of[l.current,c.current]){if(!u)continue;const h=Zue(u);if(h){h.focus();break}}})}},[r,e,s,o,i]),null}function ohe(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((s,i)=>i({transform:s,...r}),n):n}function ahe(t){return m.useMemo(()=>({draggable:{...Um.draggable,...t==null?void 0:t.draggable},droppable:{...Um.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Um.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function lhe(t){let{activeNode:e,measure:n,initialRect:r,config:s=!0}=t;const i=m.useRef(!1),{x:o,y:a}=typeof s=="boolean"?{x:s,y:s}:s;hi(()=>{if(!o&&!a||!e){i.current=!1;return}if(i.current||!r)return;const c=e==null?void 0:e.node.current;if(!c||c.isConnected===!1)return;const u=n(c),h=EB(u,r);if(o||(h.x=0),a||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const p=bB(c);p&&p.scrollBy({top:h.y,left:h.x})}},[e,o,a,r,n])}const OB=m.createContext({...Us,scaleX:1,scaleY:1});var Eo;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Eo||(Eo={}));const che=m.memo(function(e){var n,r,s,i;let{id:o,accessibility:a,autoScroll:l=!0,children:c,sensors:u=Zde,collisionDetection:h=hde,measuring:p,modifiers:g,...w}=e;const v=m.useReducer(she,void 0,rhe),[_,x]=v,[y,b]=ide(),[C,P]=m.useState(Eo.Uninitialized),O=C===Eo.Initialized,{draggable:{active:T,nodes:E,translate:I},droppable:{containers:R}}=_,k=T!=null?E.get(T):null,M=m.useRef({initial:null,translated:null}),N=m.useMemo(()=>{var $t;return T!=null?{id:T,data:($t=k==null?void 0:k.data)!=null?$t:ehe,rect:M}:null},[T,k]),W=m.useRef(null),[se,ne]=m.useState(null),[Y,z]=m.useState(null),B=Gh(w,Object.values(w)),J=rp("DndDescribedBy",o),fe=m.useMemo(()=>R.getEnabled(),[R]),he=ahe(p),{droppableRects:Te,measureDroppableContainers:We,measuringScheduled:at}=Bde(fe,{dragging:O,dependencies:[I.x,I.y],config:he.droppable}),Ne=Fde(E,T),ce=m.useMemo(()=>Y?j_(Y):null,[Y]),Pe=Zr(),He=$de(Ne,he.draggable.measure);lhe({activeNode:T!=null?E.get(T):null,config:Pe.layoutShiftCompensation,initialRect:He,measure:he.draggable.measure});const pe=RP(Ne,he.draggable.measure,He),$e=RP(Ne?Ne.parentElement:null),Oe=m.useRef({activatorEvent:null,active:null,activeNode:Ne,collisionRect:null,collisions:null,droppableRects:Te,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:R,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),yt=R.getNodeFor((n=Oe.current.over)==null?void 0:n.id),qe=Jde({measure:he.dragOverlay.measure}),Vt=(r=qe.nodeRef.current)!=null?r:Ne,mn=O?(s=qe.rect)!=null?s:pe:null,Mr=!!(qe.nodeRef.current&&qe.rect),j=Wde(Mr?null:pe),$=kB(Vt?kr(Vt):null),H=Hde(O?yt??Ne:null),ie=Yde(H),re=ohe(g,{transform:{x:I.x-j.x,y:I.y-j.y,scaleX:1,scaleY:1},activatorEvent:Y,active:N,activeNodeRect:pe,containerNodeRect:$e,draggingNodeRect:mn,over:Oe.current.over,overlayNodeRect:qe.rect,scrollableAncestors:H,scrollableAncestorRects:ie,windowRect:$}),ee=ce?kc(ce,I):null,_e=qde(H),Ue=PP(_e),Be=PP(_e,[pe]),je=kc(re,Ue),Yt=mn?mde(mn,re):null,wr=N&&Yt?h({active:N,collisionRect:Yt,droppableRects:Te,droppableContainers:fe,pointerCoordinates:ee}):null,Rn=ude(wr,"id"),[Ft,Or]=m.useState(null),Jr=Mr?re:kc(re,Be),io=fde(Jr,(i=Ft==null?void 0:Ft.rect)!=null?i:null,pe),gn=m.useRef(null),Na=m.useCallback(($t,rn)=>{let{sensor:At,options:lr}=rn;if(W.current==null)return;const vn=E.get(W.current);if(!vn)return;const yn=$t.nativeEvent,In=new At({active:W.current,activeNode:vn,event:yn,options:lr,context:Oe,onStart(dt){const jr=W.current;if(jr==null)return;const xr=E.get(jr);if(!xr)return;const{onDragStart:ts}=B.current,oo={activatorEvent:yn,active:{id:jr,data:xr.data,rect:M}};Ar.unstable_batchedUpdates(()=>{ts==null||ts(oo),P(Eo.Initializing),x({type:_n.DragStart,initialCoordinates:dt,active:jr}),y({type:"onDragStart",event:oo}),ne(gn.current),z(yn)})},onMove(dt){x({type:_n.DragMove,coordinates:dt})},onEnd:es(_n.DragEnd),onCancel:es(_n.DragCancel)});gn.current=In;function es(dt){return async function(){const{active:xr,collisions:ts,over:oo,scrollAdjustedTranslate:L}=Oe.current;let F=null;if(xr&&L){const{cancelDrop:K}=B.current;F={activatorEvent:yn,active:xr,collisions:ts,delta:L,over:oo},dt===_n.DragEnd&&typeof K=="function"&&await Promise.resolve(K(F))&&(dt=_n.DragCancel)}W.current=null,Ar.unstable_batchedUpdates(()=>{x({type:dt}),P(Eo.Uninitialized),Or(null),ne(null),z(null),gn.current=null;const K=dt===_n.DragEnd?"onDragEnd":"onDragCancel";if(F){const G=B.current[K];G==null||G(F),y({type:K,event:F})}})}}},[E]),Fl=m.useCallback(($t,rn)=>(At,lr)=>{const vn=At.nativeEvent,yn=E.get(lr);if(W.current!==null||!yn||vn.dndKit||vn.defaultPrevented)return;const In={active:yn};$t(At,rn.options,In)===!0&&(vn.dndKit={capturedBy:rn.sensor},W.current=lr,Na(At,rn))},[E,Na]),gi=Ude(u,Fl);Gde(u),hi(()=>{pe&&C===Eo.Initializing&&P(Eo.Initialized)},[pe,C]),m.useEffect(()=>{const{onDragMove:$t}=B.current,{active:rn,activatorEvent:At,collisions:lr,over:vn}=Oe.current;if(!rn||!At)return;const yn={active:rn,activatorEvent:At,collisions:lr,delta:{x:je.x,y:je.y},over:vn};Ar.unstable_batchedUpdates(()=>{$t==null||$t(yn),y({type:"onDragMove",event:yn})})},[je.x,je.y]),m.useEffect(()=>{const{active:$t,activatorEvent:rn,collisions:At,droppableContainers:lr,scrollAdjustedTranslate:vn}=Oe.current;if(!$t||W.current==null||!rn||!vn)return;const{onDragOver:yn}=B.current,In=lr.get(Rn),es=In&&In.rect.current?{id:In.id,rect:In.rect.current,data:In.data,disabled:In.disabled}:null,dt={active:$t,activatorEvent:rn,collisions:At,delta:{x:vn.x,y:vn.y},over:es};Ar.unstable_batchedUpdates(()=>{Or(es),yn==null||yn(dt),y({type:"onDragOver",event:dt})})},[Rn]),hi(()=>{Oe.current={activatorEvent:Y,active:N,activeNode:Ne,collisionRect:Yt,collisions:wr,droppableRects:Te,draggableNodes:E,draggingNode:Vt,draggingNodeRect:mn,droppableContainers:R,over:Ft,scrollableAncestors:H,scrollAdjustedTranslate:je},M.current={initial:mn,translated:Yt}},[N,Ne,wr,Yt,E,Vt,mn,Te,R,Ft,H,je]),jde({...Pe,delta:I,draggingRect:Yt,pointerCoordinates:ee,scrollableAncestors:H,scrollableAncestorRects:ie});const Ul=m.useMemo(()=>({active:N,activeNode:Ne,activeNodeRect:pe,activatorEvent:Y,collisions:wr,containerNodeRect:$e,dragOverlay:qe,draggableNodes:E,droppableContainers:R,droppableRects:Te,over:Ft,measureDroppableContainers:We,scrollableAncestors:H,scrollableAncestorRects:ie,measuringConfiguration:he,measuringScheduled:at,windowRect:$}),[N,Ne,pe,Y,wr,$e,qe,E,R,Te,Ft,We,H,ie,he,at,$]),Da=m.useMemo(()=>({activatorEvent:Y,activators:gi,active:N,activeNodeRect:pe,ariaDescribedById:{draggable:J},dispatch:x,draggableNodes:E,over:Ft,measureDroppableContainers:We}),[Y,gi,N,pe,x,J,E,Ft,We]);return Re.createElement(_B.Provider,{value:b},Re.createElement(Fy.Provider,{value:Da},Re.createElement(MB.Provider,{value:Ul},Re.createElement(OB.Provider,{value:io},c)),Re.createElement(ihe,{disabled:(a==null?void 0:a.restoreFocus)===!1})),Re.createElement(lde,{...a,hiddenTextDescribedById:J}));function Zr(){const $t=(se==null?void 0:se.autoScrollEnabled)===!1,rn=typeof l=="object"?l.enabled===!1:l===!1,At=O&&!$t&&!rn;return typeof l=="object"?{...l,enabled:At}:{enabled:At}}}),uhe=m.createContext(null),DP="button",dhe="Draggable";function hhe(t){let{id:e,data:n,disabled:r=!1,attributes:s}=t;const i=rp(dhe),{activators:o,activatorEvent:a,active:l,activeNodeRect:c,ariaDescribedById:u,draggableNodes:h,over:p}=m.useContext(Fy),{role:g=DP,roleDescription:w="draggable",tabIndex:v=0}=s??{},_=(l==null?void 0:l.id)===e,x=m.useContext(_?OB:uhe),[y,b]=rv(),[C,P]=rv(),O=Qde(o,e),T=Gh(n);hi(()=>(h.set(e,{id:e,key:i,node:y,activatorNode:C,data:T}),()=>{const I=h.get(e);I&&I.key===i&&h.delete(e)}),[h,e]);const E=m.useMemo(()=>({role:g,tabIndex:v,"aria-disabled":r,"aria-pressed":_&&g===DP?!0:void 0,"aria-roledescription":w,"aria-describedby":u.draggable}),[r,g,v,_,w,u.draggable]);return{active:l,activatorEvent:a,activeNodeRect:c,attributes:E,isDragging:_,listeners:r?void 0:O,node:y,over:p,setNodeRef:b,setActivatorNodeRef:P,transform:x}}function fhe(){return m.useContext(MB)}const phe="Droppable",mhe={timeout:25};function ghe(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:s}=t;const i=rp(phe),{active:o,dispatch:a,over:l,measureDroppableContainers:c}=m.useContext(Fy),u=m.useRef({disabled:n}),h=m.useRef(!1),p=m.useRef(null),g=m.useRef(null),{disabled:w,updateMeasurementsFor:v,timeout:_}={...mhe,...s},x=Gh(v??r),y=m.useCallback(()=>{if(!h.current){h.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{c(Array.isArray(x.current)?x.current:[x.current]),g.current=null},_)},[_]),b=Vy({callback:y,disabled:w||!o}),C=m.useCallback((E,I)=>{b&&(I&&(b.unobserve(I),h.current=!1),E&&b.observe(E))},[b]),[P,O]=rv(C),T=Gh(e);return m.useEffect(()=>{!b||!P.current||(b.disconnect(),h.current=!1,b.observe(P.current))},[P,b]),m.useEffect(()=>(a({type:_n.RegisterDroppable,element:{id:r,key:i,disabled:n,node:P,rect:p,data:T}}),()=>a({type:_n.UnregisterDroppable,key:i,id:r})),[r]),m.useEffect(()=>{n!==u.current.disabled&&(a({type:_n.SetDroppableDisabled,id:r,key:i,disabled:n}),u.current.disabled=n)},[r,i,n,a]),{active:o,rect:p,isOver:(l==null?void 0:l.id)===r,node:P,over:l,setNodeRef:O}}function TT(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function vhe(t,e){return t.reduce((n,r,s)=>{const i=e.get(r);return i&&(n[s]=i),n},Array(t.length))}function nm(t){return t!==null&&t>=0}function yhe(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function whe(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const jB=t=>{let{rects:e,activeIndex:n,overIndex:r,index:s}=t;const i=TT(e,r,n),o=e[s],a=i[s];return!a||!o?null:{x:a.left-o.left,y:a.top-o.top,scaleX:a.width/o.width,scaleY:a.height/o.height}},rm={scaleX:1,scaleY:1},xhe=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:s,rects:i,overIndex:o}=t;const a=(e=i[n])!=null?e:r;if(!a)return null;if(s===n){const c=i[o];return c?{x:0,y:n<o?c.top+c.height-(a.top+a.height):c.top-a.top,...rm}:null}const l=_he(i,s,n);return s>n&&s<=o?{x:0,y:-a.height-l,...rm}:s<n&&s>=o?{x:0,y:a.height+l,...rm}:{x:0,y:0,...rm}};function _he(t,e,n){const r=t[e],s=t[e-1],i=t[e+1];return r?n<e?s?r.top-(s.top+s.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const LB="Sortable",VB=Re.createContext({activeIndex:-1,containerId:LB,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:jB,disabled:{draggable:!1,droppable:!1}});function Ehe(t){let{children:e,id:n,items:r,strategy:s=jB,disabled:i=!1}=t;const{active:o,dragOverlay:a,droppableRects:l,over:c,measureDroppableContainers:u}=fhe(),h=rp(LB,n),p=a.rect!==null,g=m.useMemo(()=>r.map(O=>typeof O=="object"&&"id"in O?O.id:O),[r]),w=o!=null,v=o?g.indexOf(o.id):-1,_=c?g.indexOf(c.id):-1,x=m.useRef(g),y=!yhe(g,x.current),b=_!==-1&&v===-1||y,C=whe(i);hi(()=>{y&&w&&u(g)},[y,g,w,u]),m.useEffect(()=>{x.current=g},[g]);const P=m.useMemo(()=>({activeIndex:v,containerId:h,disabled:C,disableTransforms:b,items:g,overIndex:_,useDragOverlay:p,sortedRects:vhe(g,l),strategy:s}),[v,h,C.draggable,C.droppable,b,g,_,l,p,s]);return Re.createElement(VB.Provider,{value:P},e)}const bhe=t=>{let{id:e,items:n,activeIndex:r,overIndex:s}=t;return TT(n,r,s).indexOf(e)},She=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:s,items:i,newIndex:o,previousItems:a,previousContainerId:l,transition:c}=t;return!c||!r||a!==i&&s===o?!1:n?!0:o!==s&&e===l},The={duration:200,easing:"ease"},FB="transform",Che=Qh.Transition.toString({property:FB,duration:0,easing:"linear"}),Ahe={roleDescription:"sortable"};function Rhe(t){let{disabled:e,index:n,node:r,rect:s}=t;const[i,o]=m.useState(null),a=m.useRef(n);return hi(()=>{if(!e&&n!==a.current&&r.current){const l=s.current;if(l){const c=Ku(r.current,{ignoreTransform:!0}),u={x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height};(u.x||u.y)&&o(u)}}n!==a.current&&(a.current=n)},[e,n,r,s]),m.useEffect(()=>{i&&o(null)},[i]),i}function Ihe(t){let{animateLayoutChanges:e=She,attributes:n,disabled:r,data:s,getNewIndex:i=bhe,id:o,strategy:a,resizeObserverConfig:l,transition:c=The}=t;const{items:u,containerId:h,activeIndex:p,disabled:g,disableTransforms:w,sortedRects:v,overIndex:_,useDragOverlay:x,strategy:y}=m.useContext(VB),b=Phe(r,g),C=u.indexOf(o),P=m.useMemo(()=>({sortable:{containerId:h,index:C,items:u},...s}),[h,s,C,u]),O=m.useMemo(()=>u.slice(u.indexOf(o)),[u,o]),{rect:T,node:E,isOver:I,setNodeRef:R}=ghe({id:o,data:P,disabled:b.droppable,resizeObserverConfig:{updateMeasurementsFor:O,...l}}),{active:k,activatorEvent:M,activeNodeRect:N,attributes:W,setNodeRef:se,listeners:ne,isDragging:Y,over:z,setActivatorNodeRef:B,transform:J}=hhe({id:o,data:P,attributes:{...Ahe,...n},disabled:b.draggable}),fe=Que(R,se),he=!!k,Te=he&&!w&&nm(p)&&nm(_),We=!x&&Y,at=We&&Te?J:null,ce=Te?at??(a??y)({rects:v,activeNodeRect:N,activeIndex:p,overIndex:_,index:C}):null,Pe=nm(p)&&nm(_)?i({id:o,items:u,activeIndex:p,overIndex:_}):C,He=k==null?void 0:k.id,pe=m.useRef({activeId:He,items:u,newIndex:Pe,containerId:h}),$e=u!==pe.current.items,Oe=e({active:k,containerId:h,isDragging:Y,isSorting:he,id:o,index:C,items:u,newIndex:pe.current.newIndex,previousItems:pe.current.items,previousContainerId:pe.current.containerId,transition:c,wasDragging:pe.current.activeId!=null}),yt=Rhe({disabled:!Oe,index:C,node:E,rect:T});return m.useEffect(()=>{he&&pe.current.newIndex!==Pe&&(pe.current.newIndex=Pe),h!==pe.current.containerId&&(pe.current.containerId=h),u!==pe.current.items&&(pe.current.items=u)},[he,Pe,h,u]),m.useEffect(()=>{if(He===pe.current.activeId)return;if(He!=null&&pe.current.activeId==null){pe.current.activeId=He;return}const Vt=setTimeout(()=>{pe.current.activeId=He},50);return()=>clearTimeout(Vt)},[He]),{active:k,activeIndex:p,attributes:W,data:P,rect:T,index:C,newIndex:Pe,items:u,isOver:I,isSorting:he,isDragging:Y,listeners:ne,node:E,overIndex:_,over:z,setNodeRef:fe,setActivatorNodeRef:B,setDroppableNodeRef:R,setDraggableNodeRef:se,transform:yt??ce,transition:qe()};function qe(){if(yt||$e&&pe.current.newIndex===C)return Che;if(!(We&&!_T(M)||!c)&&(he||Oe))return Qh.Transition.toString({...c,property:FB})}}function Phe(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}gt.Down,gt.Right,gt.Up,gt.Left;const Nhe=({id:t,text:e,label:n,onDelete:r,onEdit:s})=>{const i=ut(g=>g.admin),{attributes:o,listeners:a,setNodeRef:l,transform:c,transition:u}=Ihe({id:t}),h={transform:Qh.Transform.toString(c),transition:u},p=(i==null?void 0:i.role)!=="viewer"?{...o,...a}:{};return d.jsxs("div",{ref:l,style:h,className:"flex items-center justify-between p-3 bg-secondary/50 rounded-lg group hover:bg-secondary",children:[d.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[d.jsx("button",{className:"touch-none opacity-0 group-hover:opacity-50 hover:opacity-100 text-muted-foreground",...p,children:d.jsx(s8,{className:"w-4 h-4"})}),d.jsxs("span",{children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:n}),d.jsx("p",{children:e})]})]}),(i==null?void 0:i.role)!=="viewer"&&d.jsxs(d.Fragment,{children:[d.jsx(Xe,{variant:"ghost",size:"icon",onClick:s,className:"opacity-0 group-hover:opacity-100",children:d.jsx(PM,{size:20})}),d.jsx(Xe,{variant:"ghost",size:"icon",onClick:()=>r(t),className:"opacity-0 group-hover:opacity-100 text-destructive hover:text-destructive",children:d.jsx(Su,{size:20})})]})]})},Dhe=({label:t,query:e,onCancel:n,onSave:r})=>{const{register:s,handleSubmit:i}=Zf({defaultValues:{label:t,query:e}}),o=a=>{r(a)};return d.jsxs("form",{onSubmit:i(o),className:"space-y-2 p-3 bg-secondary/50 rounded-lg",children:[d.jsx(Lt,{...s("label",{required:!0}),placeholder:"Enter query label",required:!0}),d.jsx(Lt,{...s("query",{required:!0}),placeholder:"Enter suggested query"}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(Xe,{size:"sm",variant:"ghost",onClick:n,children:d.jsx(Tf,{className:"w-4 h-4"})}),d.jsx(Xe,{type:"submit",size:"sm",variant:"ghost",children:d.jsx(eb,{className:"w-4 h-4"})})]})]})},kP=({queries:t,setQueries:e,onDeleteQuery:n,onEditQueryV2:r,queryEditIndex:s,onCancelEditQuery:i,onSaveEditQuery:o})=>{const a=l=>{const{active:c,over:u}=l;u&&c.id!==u.id&&e(h=>{const p=h.findIndex(w=>w.id===c.id),g=h.findIndex(w=>w.id===u.id);return TT(h,p,g)})};return d.jsx(d.Fragment,{children:d.jsx(che,{onDragEnd:a,children:d.jsx(Ehe,{items:t.map(l=>l.id),strategy:xhe,children:d.jsx("div",{className:"space-y-2 w-full",children:t.map((l,c)=>s!==null&&s===c?d.jsx(Dhe,{onSave:u=>o(c,u),onCancel:i,label:l.label,query:l.text},c):d.jsx(Nhe,{id:l.id,text:l.text,label:l.label,onDelete:n,onEdit:()=>r(c)},l.id))})})})})},khe=()=>{const t=Ra(),e=Bs(),[n,r]=m.useState([]),[s,i]=m.useState([]),[o,a]=m.useState(null),[l,c]=m.useState(null),[u,h]=m.useState(!1),{data:p,isLoading:g}=Vl({queryFn:()=>TF("profile","queries"),queryKey:YI}),{mutateAsync:w,isPending:v}=Rr({mutationFn:O=>SF("profile","queries",O,!1),onSuccess:()=>{t.invalidateQueries({queryKey:YI}),e({title:"Queries Saved Successfully",description:ot()})}}),_=(O,T)=>{const[E,I]=O==="quickAccess"?[a,c]:[c,a];E(T),I(null)},x=O=>{(O==="quickAccess"?a:c)(null)},y=(O,T,E)=>{const I=O==="quickAccess"?a:c,R=O==="quickAccess"?n:s,k=O==="quickAccess"?r:i,N={id:R[T].id,text:E.query,label:E.label};R[T]=N,k(R),I(null)},b=(O,T,E)=>{const I={quickAccess:S2,menuAccess:T2},R=O==="quickAccess"?"quick access":"menu access",k=O==="quickAccess"?r:i;if((O==="quickAccess"?n:s).length>=I[O]){e({title:`Limit reached for ${R} queries`,description:`You can only add up to ${I[O]} ${R} queries. Please remove one to add a new query.`});return}k(N=>[...N,{id:yB(),text:E,label:T}])},C=(O,T)=>{O==="quickAccess"&&r(n.filter(E=>E.id!==T)),O==="menuAccess"&&i(s.filter(E=>E.id!==T))},P=async()=>{const O={menuAccessQuery:[...s],quickAccessQuery:[...n]};await w(O)};return m.useEffect(()=>{p&&(r(p.quickAccessQuery),i(p.menuAccessQuery),h(!0))},[p]),{quickAccessQueries:n,setQuickAccessQueries:r,menuAccessQueries:s,setMenuAccessQueries:i,handleDeleteQuery:C,handleAddQuery:b,handleSaveQuery:P,isGetQueriesLoading:g,isSaveQueryPending:v,handleEditQueryV2:_,editQAQueryIndex:o,editMAQueryIndex:l,handleSaveEditQuery:y,handleCancelEditQuery:x,isFetchingQueries:u}},Mhe=()=>d.jsxs("section",{className:"flex-1 flex-col space-y-4 pb-8 relative",children:[d.jsxs(ln,{children:[d.jsxs(Mn,{children:[d.jsx(On,{children:"User Queries"}),d.jsx(pi,{children:"View and manage bot's suggested queries and categories."})]}),d.jsx(pn,{children:d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Se,{className:"w-[263px] h-[40px]"}),d.jsx(Se,{className:"w-[263px] h-[40px]"}),d.jsx(Se,{className:"w-[170px] h-[40px]"}),d.jsx(Se,{className:"w-[132px] h-[40px]"})]})})]}),d.jsxs(ln,{children:[d.jsx(Mn,{children:d.jsx(On,{children:"Quick Access Queries"})}),d.jsx(pn,{children:d.jsxs("div",{className:"h-[396px] flex flex-col border border-neutral-200 p-4 rounded-sm space-y-2",children:[d.jsx(Se,{className:"w-full h-[64px]"}),d.jsx(Se,{className:"w-full h-[64px]"})]})}),"1"]}),d.jsxs(ln,{children:[d.jsx(Mn,{children:d.jsx(On,{children:"Menu Access Queries"})}),d.jsx(pn,{children:d.jsxs("div",{className:"h-[450px] flex flex-col border border-neutral-200 p-4 rounded-sm space-y-2",children:[d.jsx(Se,{className:"w-full h-[64px]"}),d.jsx(Se,{className:"w-full h-[64px]"}),d.jsx(Se,{className:"w-full h-[64px]"})]})})]}),d.jsx(Se,{className:"w-full h-[40px] bg-blue-300"})]}),Ohe=()=>{const t=ut(_=>_.admin),{quickAccessQueries:e,setQuickAccessQueries:n,menuAccessQueries:r,setMenuAccessQueries:s,handleAddQuery:i,handleDeleteQuery:o,handleSaveQuery:a,isGetQueriesLoading:l,isSaveQueryPending:c,handleEditQueryV2:u,editQAQueryIndex:h,editMAQueryIndex:p,handleSaveEditQuery:g,handleCancelEditQuery:w,isFetchingQueries:v}=khe();return l?d.jsx(Mhe,{}):d.jsxs("section",{className:"flex-1 flex-col space-y-4 pb-8 relative",children:[d.jsxs(ln,{children:[d.jsxs(Mn,{children:[d.jsx(On,{children:"User Queries"}),d.jsx(pi,{children:(t==null?void 0:t.role)!=="viewer"?"View and manage bot's suggested queries and categories.":"View bot's suggested queries and categories."})]}),d.jsx(pn,{children:(t==null?void 0:t.role)!=="viewer"&&d.jsx(Gue,{onAddQuery:i})})]}),d.jsxs(ln,{children:[d.jsx(Mn,{children:d.jsxs(On,{children:["Quick Access Queries",d.jsx("p",{className:"ml-3 inline-block min-w-6 text-xs font-medium text-zinc-600",children:`${e==null?void 0:e.length}/${S2}`})]})}),d.jsx(pn,{children:d.jsx(qh,{className:"h-[396px] flex border border-neutral-200 p-4 rounded-sm",children:v&&e.length===0?d.jsxs("div",{className:"h-[362px] flex-1 flex flex-col justify-center items-center",children:[d.jsx("div",{className:"h-20 w-20 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:d.jsx(d8,{className:"h-10 w-10 text-primary"})}),d.jsx("h2",{className:"text-lg font-semibold mb-2",children:"No quick access queries"}),d.jsxs("p",{className:"text-sm text-center text-muted-foreground mb-6 max-w-md ",children:["Add queries here for easy and quick access. ",d.jsx("br",{}),"Note: Quick access queries are meant for frequently used or important items."]})]}):d.jsx(kP,{queries:e,setQueries:n,onDeleteQuery:_=>o("quickAccess",_),onEditQueryV2:_=>u("quickAccess",_),queryEditIndex:h,onCancelEditQuery:()=>w("quickAccess"),onSaveEditQuery:(_,x)=>g("quickAccess",_,x)})})})]}),d.jsxs(ln,{children:[d.jsx(Mn,{children:d.jsxs(On,{children:["Menu Access Queries",d.jsx("p",{className:"ml-3 inline-block min-w-6 text-xs font-medium text-zinc-600",children:`${r==null?void 0:r.length}/${T2}`})]})}),d.jsx(pn,{children:d.jsx(qh,{className:"h-[450px] flex border border-neutral-200 p-4 rounded-sm",children:v&&r.length!==0?d.jsx(kP,{queries:r,setQueries:s,onDeleteQuery:_=>o("menuAccess",_),onEditQueryV2:_=>u("menuAccess",_),queryEditIndex:p,onCancelEditQuery:()=>w("menuAccess"),onSaveEditQuery:(_,x)=>g("menuAccess",_,x)}):d.jsxs("div",{className:"h-[416px] flex-1 flex flex-col justify-center items-center",children:[d.jsx("div",{className:"h-20 w-20 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:d.jsx(h8,{className:"h-10 w-10 text-primary"})}),d.jsx("h2",{className:"text-lg font-semibold mb-2",children:"No menu access queries"}),d.jsxs("p",{className:"text-sm text-center text-muted-foreground mb-6 max-w-md ",children:["Add queries here for detailed and important items. ",d.jsx("br",{}),"Note: Menu access queries are designed for longer, high-priority queries."]})]})})})]}),(t==null?void 0:t.role)!=="viewer"&&d.jsx("footer",{className:"mt-4",children:d.jsx(Xe,{disabled:c,className:"w-full",onClick:a,children:c?d.jsx(Aa,{}):"Save changes"})})]})},jhe=()=>{const t=ut(r=>r.admin),e=ji(r=>r.currentSelectedTabInSettingsTab),n=ji(r=>r.setCurrentSelectedTabInSettingsTab);return(t==null?void 0:t.role)!=="admin"&&e==="team"&&n("botProfile"),d.jsxs("section",{className:"flex space-x-2",children:[d.jsx(hce,{activeTab:e,onTabChange:n}),(t==null?void 0:t.role)==="admin"&&e==="team"&&d.jsx(gue,{}),e==="botProfile"&&d.jsx(uce,{}),e==="botModel"&&d.jsx(yce,{}),e==="archives"&&d.jsx(Bue,{}),e==="queries"&&d.jsx(Ohe,{})]})},Lhe=()=>d.jsx("header",{className:"py-4 text-3xl font-semibold",children:"Settings"}),Vhe=()=>d.jsxs("div",{className:"flex flex-col md:w-[84rem] w-[68rem] px-20 space-y-6",children:[d.jsx(Lhe,{}),d.jsx(jhe,{})]}),Fhe=({id:t,text:e,onChange:n,checked:r})=>d.jsxs(d.Fragment,{children:[d.jsx("input",{type:"radio",id:t,name:"nav-btn",value:e,className:"hidden peer",checked:r,onChange:n}),d.jsx("label",{htmlFor:t,className:"flex-1 flex w-[190px] justify-center items-center py-3 px-4 cursor-pointer uppercase text-sm font-[500]",children:e})]}),Uhe=({labels:t,selectedTab:e,setSelectedTab:n})=>{const r=s=>{n(s)};return d.jsx("nav",{className:"tabs relative flex after:absolute after:bottom-0 after:pointer-events-none after:border after:border-blue-500",children:t==null?void 0:t.map(s=>d.jsx(Fhe,{id:s,text:s,checked:e==s,onChange:()=>r(s)},s))})},Bhe={siteName:"COB-CHATBOT",botName:"AI NLP Assistant"},UB=t=>{m.useEffect(()=>{document.title=t??"Page"},[])},$he={chatbot:Uee,settings:Vhe,knowledge:Xle},zhe=()=>{const[t,e]=m.useState("chatbot"),n=["chatbot","knowledge","settings"],r=$he[t]||null;return UB("Admin Panel"),d.jsxs("div",{className:"min-h-[100dvh] flex flex-col bg-[#F8F9FB] scrollbar-slim",children:[d.jsxs(HQ,{text:Bhe.siteName,children:[d.jsx(Uhe,{labels:n,selectedTab:t,setSelectedTab:e}),d.jsx("hr",{className:"w-full border-neutral-300"})]}),r&&d.jsx(qQ,{Component:r})]})};function Khe(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=h=>{var x;const{scope:p,children:g,...w}=h,v=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,_=m.useMemo(()=>w,Object.values(w));return d.jsx(v.Provider,{value:_,children:g})};c.displayName=i+"Provider";function u(h,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Whe(s,...e)]}function Whe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Hhe="DismissableLayer",U_="dismissableLayer.update",qhe="dismissableLayer.pointerDownOutside",Ghe="dismissableLayer.focusOutside",MP,BB=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$B=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(BB),[u,h]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=ke(e,T=>h(T)),v=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(_),y=u?v.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,C=y>=x,P=Yhe(T=>{const E=T.target,I=[...c.branches].some(R=>R.contains(E));!C||I||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},p),O=Xhe(T=>{const E=T.target;[...c.branches].some(R=>R.contains(E))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},p);return Af(T=>{y===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(MP=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),OP(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=MP)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),OP())},[u,c]),m.useEffect(()=>{const T=()=>g({});return document.addEventListener(U_,T),()=>document.removeEventListener(U_,T)},[]),d.jsx(ve.div,{...l,ref:w,style:{pointerEvents:b?C?"auto":"none":void 0,...t.style},onFocusCapture:Z(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Z(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Z(t.onPointerDownCapture,P.onPointerDownCapture)})});$B.displayName=Hhe;var Qhe="DismissableLayerBranch",zB=m.forwardRef((t,e)=>{const n=m.useContext(BB),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(ve.div,{...t,ref:s})});zB.displayName=Qhe;function Yhe(t,e=globalThis==null?void 0:globalThis.document){const n=mt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){KB(qhe,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Xhe(t,e=globalThis==null?void 0:globalThis.document){const n=mt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&KB(Ghe,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function OP(){const t=new CustomEvent(U_);document.dispatchEvent(t)}function KB(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Nl(s,i):s.dispatchEvent(i)}var Jhe=$B,Zhe=zB,efe="Portal",WB=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Pt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?mf.createPortal(d.jsx(ve.div,{...r,ref:e}),o):null});WB.displayName=efe;function tfe(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var HB=t=>{const{present:e,children:n}=t,r=nfe(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=ke(r.ref,rfe(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};HB.displayName="Presence";function nfe(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=tfe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=sm(r.current);i.current=a==="mounted"?c:"none"},[a]),Pt(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=sm(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Pt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=g=>{const v=sm(r.current).includes(g.animationName);if(g.target===e&&v&&(l("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},p=g=>{g.target===e&&(i.current=sm(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function sm(t){return(t==null?void 0:t.animationName)||"none"}function rfe(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var CT="ToastProvider",[AT,sfe,ife]=Lv("Toast"),[qB,epe]=Khe("Toast",[ife]),[ofe,Uy]=qB(CT),GB=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=m.useState(null),[c,u]=m.useState(0),h=m.useRef(!1),p=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${CT}\`. Expected non-empty \`string\`.`),d.jsx(AT.Provider,{scope:e,children:d.jsx(ofe,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>u(g=>g+1),[]),onToastRemove:m.useCallback(()=>u(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};GB.displayName=CT;var QB="ToastViewport",afe=["F8"],B_="toast.viewportPause",$_="toast.viewportResume",YB=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=afe,label:s="Notifications ({hotkey})",...i}=t,o=Uy(QB,n),a=sfe(n),l=m.useRef(null),c=m.useRef(null),u=m.useRef(null),h=m.useRef(null),p=ke(e,h,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;m.useEffect(()=>{const _=x=>{var b;r.length!==0&&r.every(C=>x[C]||x.code===C)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),m.useEffect(()=>{const _=l.current,x=h.current;if(w&&_&&x){const y=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(B_);x.dispatchEvent(O),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent($_);x.dispatchEvent(O),o.isClosePausedRef.current=!1}},C=O=>{!_.contains(O.relatedTarget)&&b()},P=()=>{_.contains(document.activeElement)||b()};return _.addEventListener("focusin",y),_.addEventListener("focusout",C),_.addEventListener("pointermove",y),_.addEventListener("pointerleave",P),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{_.removeEventListener("focusin",y),_.removeEventListener("focusout",C),_.removeEventListener("pointermove",y),_.removeEventListener("pointerleave",P),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[w,o.isClosePausedRef]);const v=m.useCallback(({tabbingDirection:_})=>{const y=a().map(b=>{const C=b.ref.current,P=[C,...xfe(C)];return _==="forwards"?P:P.reverse()});return(_==="forwards"?y.reverse():y).flat()},[a]);return m.useEffect(()=>{const _=h.current;if(_){const x=y=>{var P,O,T;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const E=document.activeElement,I=y.shiftKey;if(y.target===_&&I){(P=c.current)==null||P.focus();return}const M=v({tabbingDirection:I?"backwards":"forwards"}),N=M.findIndex(W=>W===E);x0(M.slice(N+1))?y.preventDefault():I?(O=c.current)==null||O.focus():(T=u.current)==null||T.focus()}};return _.addEventListener("keydown",x),()=>_.removeEventListener("keydown",x)}},[a,v]),d.jsxs(Zhe,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&d.jsx(z_,{ref:c,onFocusFromOutsideViewport:()=>{const _=v({tabbingDirection:"forwards"});x0(_)}}),d.jsx(AT.Slot,{scope:n,children:d.jsx(ve.ol,{tabIndex:-1,...i,ref:p})}),w&&d.jsx(z_,{ref:u,onFocusFromOutsideViewport:()=>{const _=v({tabbingDirection:"backwards"});x0(_)}})]})});YB.displayName=QB;var XB="ToastFocusProxy",z_=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Uy(XB,n);return d.jsx($f,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});z_.displayName=XB;var By="Toast",lfe="toast.swipeStart",cfe="toast.swipeMove",ufe="toast.swipeCancel",dfe="toast.swipeEnd",JB=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=aa({prop:r,defaultProp:s,onChange:i});return d.jsx(HB,{present:n||a,children:d.jsx(pfe,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:mt(t.onPause),onResume:mt(t.onResume),onSwipeStart:Z(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Z(t.onSwipeMove,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Z(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Z(t.onSwipeEnd,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});JB.displayName=By;var[hfe,ffe]=qB(By,{onClose(){}}),pfe=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:g,...w}=t,v=Uy(By,n),[_,x]=m.useState(null),y=ke(e,W=>x(W)),b=m.useRef(null),C=m.useRef(null),P=s||v.duration,O=m.useRef(0),T=m.useRef(P),E=m.useRef(0),{onToastAdd:I,onToastRemove:R}=v,k=mt(()=>{var se;(_==null?void 0:_.contains(document.activeElement))&&((se=v.viewport)==null||se.focus()),o()}),M=m.useCallback(W=>{!W||W===1/0||(window.clearTimeout(E.current),O.current=new Date().getTime(),E.current=window.setTimeout(k,W))},[k]);m.useEffect(()=>{const W=v.viewport;if(W){const se=()=>{M(T.current),c==null||c()},ne=()=>{const Y=new Date().getTime()-O.current;T.current=T.current-Y,window.clearTimeout(E.current),l==null||l()};return W.addEventListener(B_,ne),W.addEventListener($_,se),()=>{W.removeEventListener(B_,ne),W.removeEventListener($_,se)}}},[v.viewport,P,l,c,M]),m.useEffect(()=>{i&&!v.isClosePausedRef.current&&M(P)},[i,P,v.isClosePausedRef,M]),m.useEffect(()=>(I(),()=>R()),[I,R]);const N=m.useMemo(()=>_?i$(_):null,[_]);return v.viewport?d.jsxs(d.Fragment,{children:[N&&d.jsx(mfe,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),d.jsx(hfe,{scope:n,onClose:k,children:Ar.createPortal(d.jsx(AT.ItemSlot,{scope:n,children:d.jsx(Jhe,{asChild:!0,onEscapeKeyDown:Z(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||k(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Z(t.onKeyDown,W=>{W.key==="Escape"&&(a==null||a(W.nativeEvent),W.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:Z(t.onPointerDown,W=>{W.button===0&&(b.current={x:W.clientX,y:W.clientY})}),onPointerMove:Z(t.onPointerMove,W=>{if(!b.current)return;const se=W.clientX-b.current.x,ne=W.clientY-b.current.y,Y=!!C.current,z=["left","right"].includes(v.swipeDirection),B=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,J=z?B(0,se):0,fe=z?0:B(0,ne),he=W.pointerType==="touch"?10:2,Te={x:J,y:fe},We={originalEvent:W,delta:Te};Y?(C.current=Te,im(cfe,h,We,{discrete:!1})):jP(Te,v.swipeDirection,he)?(C.current=Te,im(lfe,u,We,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(se)>he||Math.abs(ne)>he)&&(b.current=null)}),onPointerUp:Z(t.onPointerUp,W=>{const se=C.current,ne=W.target;if(ne.hasPointerCapture(W.pointerId)&&ne.releasePointerCapture(W.pointerId),C.current=null,b.current=null,se){const Y=W.currentTarget,z={originalEvent:W,delta:se};jP(se,v.swipeDirection,v.swipeThreshold)?im(dfe,g,z,{discrete:!0}):im(ufe,p,z,{discrete:!0}),Y.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),mfe=t=>{const{__scopeToast:e,children:n,...r}=t,s=Uy(By,e),[i,o]=m.useState(!1),[a,l]=m.useState(!1);return yfe(()=>o(!0)),m.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:d.jsx(WB,{asChild:!0,children:d.jsx($f,{...r,children:i&&d.jsxs(d.Fragment,{children:[s.label," ",n]})})})},gfe="ToastTitle",ZB=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(ve.div,{...r,ref:e})});ZB.displayName=gfe;var vfe="ToastDescription",e$=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(ve.div,{...r,ref:e})});e$.displayName=vfe;var t$="ToastAction",n$=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?d.jsx(s$,{altText:n,asChild:!0,children:d.jsx(RT,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${t$}\`. Expected non-empty \`string\`.`),null)});n$.displayName=t$;var r$="ToastClose",RT=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=ffe(r$,n);return d.jsx(s$,{asChild:!0,children:d.jsx(ve.button,{type:"button",...r,ref:e,onClick:Z(t.onClick,s.onClose)})})});RT.displayName=r$;var s$=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return d.jsx(ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function i$(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),wfe(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...i$(r))}}),e}function im(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Nl(s,i):s.dispatchEvent(i)}var jP=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function yfe(t=()=>{}){const e=mt(t);Pt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function wfe(t){return t.nodeType===t.ELEMENT_NODE}function xfe(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function x0(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var _fe=GB,o$=YB,a$=JB,l$=ZB,c$=e$,u$=n$,d$=RT;const Efe=_fe,h$=m.forwardRef(({className:t,...e},n)=>d.jsx(o$,{ref:n,className:ue("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));h$.displayName=o$.displayName;const bfe=Mf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),f$=m.forwardRef(({className:t,variant:e,...n},r)=>d.jsx(a$,{ref:r,className:ue(bfe({variant:e}),t),...n}));f$.displayName=a$.displayName;const Sfe=m.forwardRef(({className:t,...e},n)=>d.jsx(u$,{ref:n,className:ue("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Sfe.displayName=u$.displayName;const p$=m.forwardRef(({className:t,...e},n)=>d.jsx(d$,{ref:n,className:ue("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(Tf,{className:"h-4 w-4"})}));p$.displayName=d$.displayName;const m$=m.forwardRef(({className:t,...e},n)=>d.jsx(l$,{ref:n,className:ue("text-sm font-semibold",t),...e}));m$.displayName=l$.displayName;const g$=m.forwardRef(({className:t,...e},n)=>d.jsx(c$,{ref:n,className:ue("text-sm opacity-90",t),...e}));g$.displayName=c$.displayName;function Tfe(){const{toasts:t}=CF();return d.jsxs(Efe,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return d.jsxs(f$,{...i,children:[d.jsxs("div",{className:"grid gap-1",children:[n&&d.jsx(m$,{children:n}),r&&d.jsx(g$,{children:r})]}),s,d.jsx(p$,{})]},e)}),d.jsx(h$,{})]})}const Cfe=()=>d.jsx(d.Fragment,{children:d.jsx("img",{src:aU,style:{display:"none"}})}),Afe=()=>{const t=ut(r=>r.isAuth),e=ut(r=>r.admin),n=new hae;return HH(),!t&&!e?d.jsx(_M,{to:"/login"}):d.jsx(vae,{client:n,children:d.jsxs("main",{children:[d.jsx(Cfe,{}),d.jsx(zhe,{}),d.jsx(Tfe,{})]})})},Rfe=Mf("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),v$=m.forwardRef(({className:t,variant:e,...n},r)=>d.jsx("div",{ref:r,role:"alert",className:ue(Rfe({variant:e}),t),...n}));v$.displayName="Alert";const Ife=m.forwardRef(({className:t,...e},n)=>d.jsx("h5",{ref:n,className:ue("mb-1 font-medium leading-none tracking-tight",t),...e}));Ife.displayName="AlertTitle";const y$=m.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ue("text-sm [&_p]:leading-relaxed",t),...e}));y$.displayName="AlertDescription";const Pfe=({password:t,setPassword:e})=>{const[n,r]=m.useState(!1);return d.jsxs("div",{className:"relative",children:[d.jsx(Lt,{id:"password",type:n?"text":"password",placeholder:"",value:t,onChange:s=>e(s.target.value),required:!0}),d.jsx(Xe,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>r(s=>!s),"aria-label":n?"Hide password":"Show password",children:n?d.jsx(AM,{className:"h-4 w-4 text-gray-500"}):d.jsx(nb,{className:"h-4 w-4 text-gray-500"})})]})},Nfe=()=>{const t=Sf(),[e,n]=m.useState(""),[r,s]=m.useState(""),[i,o]=m.useState(""),[a,l]=m.useState(!1),c=ut(p=>p.login),u=ut(p=>p.isAuth),h=async p=>{p.preventDefault(),o(""),l(!0);try{const{accessToken:g,admin:w}=await cue(e,r);c(g,w),t("/")}catch(g){if(g instanceof Error){o(g.message);return}console.error(`Unexpected error occured: ${g}`)}finally{l(!1)}};return UB("Admin Login"),u?d.jsx(_M,{to:"/"}):d.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-r from-gray-100 to-gray-200 relative",children:[d.jsx("div",{className:"absolute inset-0 opacity-10 bg-cover bg-center z-0",style:{backgroundImage:"url('/placeholder.svg?height=1080&width=1920')",filter:"blur(3px)"},"aria-hidden":"true"}),d.jsxs(ln,{className:"w-full max-w-md z-10",children:[d.jsxs(Mn,{children:[d.jsx(On,{className:"text-2xl font-bold text-center",children:"Welcome Back"}),d.jsx(pi,{className:"text-center",children:"Please sign in to your account"})]}),d.jsx(pn,{children:d.jsxs("form",{onSubmit:h,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Tn,{htmlFor:"email",children:"Email"}),d.jsx(Lt,{id:"email",type:"email",placeholder:"email@address.com",value:e,onChange:p=>n(p.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Tn,{htmlFor:"password",children:"Password"}),d.jsx(Pfe,{password:r,setPassword:s})]}),i&&d.jsxs(v$,{variant:"destructive",children:[d.jsx(TM,{className:"h-4 w-4"}),d.jsx(y$,{children:i})]}),d.jsx(Xe,{type:"submit",className:"w-full",disabled:a,children:a?"Signing In...":"Sign In"})]})}),d.jsxs(C2,{className:"flex flex-col items-center justify-center space-y-2",children:[d.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Powered by Natural Language Processing"}),d.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Quick, responsive, and fully customizable."})]})]})]})};function Dfe(){var n;const t=xM();let e;return Ef(t)?e=t.statusText||((n=t.data)==null?void 0:n.message)||"An unexpected error occurred.":t instanceof Error?e=t.message:typeof t=="string"?e=t:(console.error(t),e="An unknown error occurred."),d.jsx("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center items-center px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-md w-full space-y-8 text-center",children:[d.jsx("div",{className:"flex justify-center",children:d.jsx(TM,{className:"h-24 w-24 text-red-600"})}),d.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Oops! Something went wrong"}),d.jsx("p",{className:"mt-2 text-sm text-gray-600",children:e}),d.jsx("div",{className:"mt-5",children:d.jsx(KH,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Go back home"})})]})})}const kfe=PH([{path:"/",element:d.jsx(Afe,{}),errorElement:d.jsx(Dfe,{})},{path:"/login",element:d.jsx(Nfe,{})}],{basename:"/admin"});_0.createRoot(document.getElementById("root")).render(d.jsx(Re.StrictMode,{children:d.jsx(FH,{router:kfe})}));
