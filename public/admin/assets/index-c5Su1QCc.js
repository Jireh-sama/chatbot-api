var Xy=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var V=(t,e,n)=>(Xy(t,e,"read from private field"),n?n.call(t):e.get(t)),we=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},he=(t,e,n,r)=>(Xy(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var Pf=(t,e,n,r)=>({set _(s){he(t,e,s,n)},get _(){return V(t,e,r)}}),$e=(t,e,n)=>(Xy(t,e,"access private method"),n);function SP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function B_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bP={exports:{}},cg={},CP={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ih=Symbol.for("react.element"),W4=Symbol.for("react.portal"),H4=Symbol.for("react.fragment"),q4=Symbol.for("react.strict_mode"),G4=Symbol.for("react.profiler"),Q4=Symbol.for("react.provider"),Y4=Symbol.for("react.context"),X4=Symbol.for("react.forward_ref"),J4=Symbol.for("react.suspense"),Z4=Symbol.for("react.memo"),eB=Symbol.for("react.lazy"),HS=Symbol.iterator;function tB(t){return t===null||typeof t!="object"?null:(t=HS&&t[HS]||t["@@iterator"],typeof t=="function"?t:null)}var IP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},AP=Object.assign,PP={};function zc(t,e,n){this.props=t,this.context=e,this.refs=PP,this.updater=n||IP}zc.prototype.isReactComponent={};zc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};zc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function RP(){}RP.prototype=zc.prototype;function $_(t,e,n){this.props=t,this.context=e,this.refs=PP,this.updater=n||IP}var z_=$_.prototype=new RP;z_.constructor=$_;AP(z_,zc.prototype);z_.isPureReactComponent=!0;var qS=Array.isArray,NP=Object.prototype.hasOwnProperty,K_={current:null},DP={key:!0,ref:!0,__self:!0,__source:!0};function kP(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)NP.call(e,r)&&!DP.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ih,type:t,key:i,ref:o,props:s,_owner:K_.current}}function nB(t,e){return{$$typeof:Ih,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function W_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ih}function rB(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var GS=/\/+/g;function Jy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rB(""+t.key):e.toString(36)}function yp(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ih:case W4:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Jy(o,0):r,qS(s)?(n="",t!=null&&(n=t.replace(GS,"$&/")+"/"),yp(s,e,n,"",function(c){return c})):s!=null&&(W_(s)&&(s=nB(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(GS,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",qS(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Jy(i,a);o+=yp(i,e,n,l,s)}else if(l=tB(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Jy(i,a++),o+=yp(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Rf(t,e,n){if(t==null)return t;var r=[],s=0;return yp(t,r,"","",function(i){return e.call(n,i,s++)}),r}function sB(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var er={current:null},vp={transition:null},iB={ReactCurrentDispatcher:er,ReactCurrentBatchConfig:vp,ReactCurrentOwner:K_};function MP(){throw Error("act(...) is not supported in production builds of React.")}Ge.Children={map:Rf,forEach:function(t,e,n){Rf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Rf(t,function(){e++}),e},toArray:function(t){return Rf(t,function(e){return e})||[]},only:function(t){if(!W_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ge.Component=zc;Ge.Fragment=H4;Ge.Profiler=G4;Ge.PureComponent=$_;Ge.StrictMode=q4;Ge.Suspense=J4;Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iB;Ge.act=MP;Ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=AP({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=K_.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)NP.call(e,l)&&!DP.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ih,type:t.type,key:s,ref:i,props:r,_owner:o}};Ge.createContext=function(t){return t={$$typeof:Y4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Q4,_context:t},t.Consumer=t};Ge.createElement=kP;Ge.createFactory=function(t){var e=kP.bind(null,t);return e.type=t,e};Ge.createRef=function(){return{current:null}};Ge.forwardRef=function(t){return{$$typeof:X4,render:t}};Ge.isValidElement=W_;Ge.lazy=function(t){return{$$typeof:eB,_payload:{_status:-1,_result:t},_init:sB}};Ge.memo=function(t,e){return{$$typeof:Z4,type:t,compare:e===void 0?null:e}};Ge.startTransition=function(t){var e=vp.transition;vp.transition={};try{t()}finally{vp.transition=e}};Ge.unstable_act=MP;Ge.useCallback=function(t,e){return er.current.useCallback(t,e)};Ge.useContext=function(t){return er.current.useContext(t)};Ge.useDebugValue=function(){};Ge.useDeferredValue=function(t){return er.current.useDeferredValue(t)};Ge.useEffect=function(t,e){return er.current.useEffect(t,e)};Ge.useId=function(){return er.current.useId()};Ge.useImperativeHandle=function(t,e,n){return er.current.useImperativeHandle(t,e,n)};Ge.useInsertionEffect=function(t,e){return er.current.useInsertionEffect(t,e)};Ge.useLayoutEffect=function(t,e){return er.current.useLayoutEffect(t,e)};Ge.useMemo=function(t,e){return er.current.useMemo(t,e)};Ge.useReducer=function(t,e,n){return er.current.useReducer(t,e,n)};Ge.useRef=function(t){return er.current.useRef(t)};Ge.useState=function(t){return er.current.useState(t)};Ge.useSyncExternalStore=function(t,e,n){return er.current.useSyncExternalStore(t,e,n)};Ge.useTransition=function(){return er.current.useTransition()};Ge.version="18.3.1";CP.exports=Ge;var m=CP.exports;const Ke=B_(m),OP=SP({__proto__:null,default:Ke},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oB=m,aB=Symbol.for("react.element"),lB=Symbol.for("react.fragment"),cB=Object.prototype.hasOwnProperty,uB=oB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dB={key:!0,ref:!0,__self:!0,__source:!0};function LP(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)cB.call(e,r)&&!dB.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:aB,type:t,key:i,ref:o,props:s,_owner:uB.current}}cg.Fragment=lB;cg.jsx=LP;cg.jsxs=LP;bP.exports=cg;var f=bP.exports,Ew={},jP={exports:{}},Ar={},VP={exports:{}},FP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,B){var Z=z.length;z.push(B);e:for(;0<Z;){var pe=Z-1>>>1,Te=z[pe];if(0<s(Te,B))z[pe]=B,z[Z]=Te,Z=pe;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var B=z[0],Z=z.pop();if(Z!==B){z[0]=Z;e:for(var pe=0,Te=z.length,Ae=Te>>>1;pe<Ae;){var Je=2*(pe+1)-1,yt=z[Je],qe=Je+1,ce=z[qe];if(0>s(yt,Z))qe<Te&&0>s(ce,yt)?(z[pe]=ce,z[qe]=Z,pe=qe):(z[pe]=yt,z[Je]=Z,pe=Je);else if(qe<Te&&0>s(ce,Z))z[pe]=ce,z[qe]=Z,pe=qe;else break e}}return B}function s(z,B){var Z=z.sortIndex-B.sortIndex;return Z!==0?Z:z.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,p=3,g=!1,v=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(z){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=z)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function A(z){if(w=!1,S(z),!v)if(n(l)!==null)v=!0,te(D);else{var B=n(c);B!==null&&ne(A,B.startTime-z)}}function D(z,B){v=!1,w&&(w=!1,_(T),T=-1),g=!0;var Z=p;try{for(S(B),d=n(l);d!==null&&(!(d.expirationTime>B)||z&&!M());){var pe=d.callback;if(typeof pe=="function"){d.callback=null,p=d.priorityLevel;var Te=pe(d.expirationTime<=B);B=t.unstable_now(),typeof Te=="function"?d.callback=Te:d===n(l)&&r(l),S(B)}else r(l);d=n(l)}if(d!==null)var Ae=!0;else{var Je=n(c);Je!==null&&ne(A,Je.startTime-B),Ae=!1}return Ae}finally{d=null,p=Z,g=!1}}var O=!1,C=null,T=-1,I=5,P=-1;function M(){return!(t.unstable_now()-P<I)}function k(){if(C!==null){var z=t.unstable_now();P=z;var B=!0;try{B=C(!0,z)}finally{B?N():(O=!1,C=null)}}else O=!1}var N;if(typeof y=="function")N=function(){y(k)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ae=H.port2;H.port1.onmessage=k,N=function(){ae.postMessage(null)}}else N=function(){E(k,0)};function te(z){C=z,O||(O=!0,N())}function ne(z,B){T=E(function(){z(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,te(D))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var Z=p;p=B;try{return z()}finally{p=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,B){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Z=p;p=z;try{return B()}finally{p=Z}},t.unstable_scheduleCallback=function(z,B,Z){var pe=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?pe+Z:pe):Z=pe,z){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=Z+Te,z={id:u++,callback:B,priorityLevel:z,startTime:Z,expirationTime:Te,sortIndex:-1},Z>pe?(z.sortIndex=Z,e(c,z),n(l)===null&&z===n(c)&&(w?(_(T),T=-1):w=!0,ne(A,Z-pe))):(z.sortIndex=Te,e(l,z),v||g||(v=!0,te(D))),z},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(z){var B=p;return function(){var Z=p;p=B;try{return z.apply(this,arguments)}finally{p=Z}}}})(FP);VP.exports=FP;var hB=VP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fB=m,Cr=hB;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var UP=new Set,Cd={};function el(t,e){Ec(t,e),Ec(t+"Capture",e)}function Ec(t,e){for(Cd[t]=e,t=0;t<e.length;t++)UP.add(e[t])}var pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tw=Object.prototype.hasOwnProperty,pB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,QS={},YS={};function mB(t){return Tw.call(YS,t)?!0:Tw.call(QS,t)?!1:pB.test(t)?YS[t]=!0:(QS[t]=!0,!1)}function gB(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function yB(t,e,n,r){if(e===null||typeof e>"u"||gB(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tr(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Sn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Sn[t]=new tr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Sn[e]=new tr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Sn[t]=new tr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Sn[t]=new tr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Sn[t]=new tr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Sn[t]=new tr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Sn[t]=new tr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Sn[t]=new tr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Sn[t]=new tr(t,5,!1,t.toLowerCase(),null,!1,!1)});var H_=/[\-:]([a-z])/g;function q_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(H_,q_);Sn[e]=new tr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(H_,q_);Sn[e]=new tr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(H_,q_);Sn[e]=new tr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Sn[t]=new tr(t,1,!1,t.toLowerCase(),null,!1,!1)});Sn.xlinkHref=new tr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Sn[t]=new tr(t,1,!1,t.toLowerCase(),null,!0,!0)});function G_(t,e,n,r){var s=Sn.hasOwnProperty(e)?Sn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(yB(e,n,s,r)&&(n=null),r||s===null?mB(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ii=fB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nf=Symbol.for("react.element"),Al=Symbol.for("react.portal"),Pl=Symbol.for("react.fragment"),Q_=Symbol.for("react.strict_mode"),Sw=Symbol.for("react.profiler"),BP=Symbol.for("react.provider"),$P=Symbol.for("react.context"),Y_=Symbol.for("react.forward_ref"),bw=Symbol.for("react.suspense"),Cw=Symbol.for("react.suspense_list"),X_=Symbol.for("react.memo"),Ki=Symbol.for("react.lazy"),zP=Symbol.for("react.offscreen"),XS=Symbol.iterator;function Eu(t){return t===null||typeof t!="object"?null:(t=XS&&t[XS]||t["@@iterator"],typeof t=="function"?t:null)}var jt=Object.assign,Zy;function Bu(t){if(Zy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Zy=e&&e[1]||""}return`
`+Zy+t}var ev=!1;function tv(t,e){if(!t||ev)return"";ev=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ev=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Bu(t):""}function vB(t){switch(t.tag){case 5:return Bu(t.type);case 16:return Bu("Lazy");case 13:return Bu("Suspense");case 19:return Bu("SuspenseList");case 0:case 2:case 15:return t=tv(t.type,!1),t;case 11:return t=tv(t.type.render,!1),t;case 1:return t=tv(t.type,!0),t;default:return""}}function Iw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Pl:return"Fragment";case Al:return"Portal";case Sw:return"Profiler";case Q_:return"StrictMode";case bw:return"Suspense";case Cw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $P:return(t.displayName||"Context")+".Consumer";case BP:return(t._context.displayName||"Context")+".Provider";case Y_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case X_:return e=t.displayName||null,e!==null?e:Iw(t.type)||"Memo";case Ki:e=t._payload,t=t._init;try{return Iw(t(e))}catch{}}return null}function wB(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Iw(e);case 8:return e===Q_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ao(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function KP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _B(t){var e=KP(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Df(t){t._valueTracker||(t._valueTracker=_B(t))}function WP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=KP(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Xp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Aw(t,e){var n=e.checked;return jt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function JS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ao(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function HP(t,e){e=e.checked,e!=null&&G_(t,"checked",e,!1)}function Pw(t,e){HP(t,e);var n=Ao(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Rw(t,e.type,n):e.hasOwnProperty("defaultValue")&&Rw(t,e.type,Ao(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ZS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Rw(t,e,n){(e!=="number"||Xp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var $u=Array.isArray;function ql(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ao(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Nw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return jt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function eb(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if($u(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ao(n)}}function qP(t,e){var n=Ao(e.value),r=Ao(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function tb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function GP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?GP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var kf,QP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(kf=kf||document.createElement("div"),kf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=kf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Id(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var td={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xB=["Webkit","ms","Moz","O"];Object.keys(td).forEach(function(t){xB.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),td[e]=td[t]})});function YP(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||td.hasOwnProperty(t)&&td[t]?(""+e).trim():e+"px"}function XP(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=YP(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var EB=jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kw(t,e){if(e){if(EB[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function Mw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ow=null;function J_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lw=null,Gl=null,Ql=null;function nb(t){if(t=Rh(t)){if(typeof Lw!="function")throw Error(X(280));var e=t.stateNode;e&&(e=pg(e),Lw(t.stateNode,t.type,e))}}function JP(t){Gl?Ql?Ql.push(t):Ql=[t]:Gl=t}function ZP(){if(Gl){var t=Gl,e=Ql;if(Ql=Gl=null,nb(t),e)for(t=0;t<e.length;t++)nb(e[t])}}function eR(t,e){return t(e)}function tR(){}var nv=!1;function nR(t,e,n){if(nv)return t(e,n);nv=!0;try{return eR(t,e,n)}finally{nv=!1,(Gl!==null||Ql!==null)&&(tR(),ZP())}}function Ad(t,e){var n=t.stateNode;if(n===null)return null;var r=pg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var jw=!1;if(pi)try{var Tu={};Object.defineProperty(Tu,"passive",{get:function(){jw=!0}}),window.addEventListener("test",Tu,Tu),window.removeEventListener("test",Tu,Tu)}catch{jw=!1}function TB(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var nd=!1,Jp=null,Zp=!1,Vw=null,SB={onError:function(t){nd=!0,Jp=t}};function bB(t,e,n,r,s,i,o,a,l){nd=!1,Jp=null,TB.apply(SB,arguments)}function CB(t,e,n,r,s,i,o,a,l){if(bB.apply(this,arguments),nd){if(nd){var c=Jp;nd=!1,Jp=null}else throw Error(X(198));Zp||(Zp=!0,Vw=c)}}function tl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function rR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function rb(t){if(tl(t)!==t)throw Error(X(188))}function IB(t){var e=t.alternate;if(!e){if(e=tl(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return rb(s),t;if(i===r)return rb(s),e;i=i.sibling}throw Error(X(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function sR(t){return t=IB(t),t!==null?iR(t):null}function iR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=iR(t);if(e!==null)return e;t=t.sibling}return null}var oR=Cr.unstable_scheduleCallback,sb=Cr.unstable_cancelCallback,AB=Cr.unstable_shouldYield,PB=Cr.unstable_requestPaint,Yt=Cr.unstable_now,RB=Cr.unstable_getCurrentPriorityLevel,Z_=Cr.unstable_ImmediatePriority,aR=Cr.unstable_UserBlockingPriority,em=Cr.unstable_NormalPriority,NB=Cr.unstable_LowPriority,lR=Cr.unstable_IdlePriority,ug=null,Ns=null;function DB(t){if(Ns&&typeof Ns.onCommitFiberRoot=="function")try{Ns.onCommitFiberRoot(ug,t,void 0,(t.current.flags&128)===128)}catch{}}var cs=Math.clz32?Math.clz32:OB,kB=Math.log,MB=Math.LN2;function OB(t){return t>>>=0,t===0?32:31-(kB(t)/MB|0)|0}var Mf=64,Of=4194304;function zu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function tm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=zu(a):(i&=o,i!==0&&(r=zu(i)))}else o=n&~s,o!==0?r=zu(o):i!==0&&(r=zu(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-cs(e),s=1<<n,r|=t[n],e&=~s;return r}function LB(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jB(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-cs(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=LB(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Fw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function cR(){var t=Mf;return Mf<<=1,!(Mf&4194240)&&(Mf=64),t}function rv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ah(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-cs(e),t[e]=n}function VB(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-cs(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function ex(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-cs(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ft=0;function uR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var dR,tx,hR,fR,pR,Uw=!1,Lf=[],mo=null,go=null,yo=null,Pd=new Map,Rd=new Map,Hi=[],FB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ib(t,e){switch(t){case"focusin":case"focusout":mo=null;break;case"dragenter":case"dragleave":go=null;break;case"mouseover":case"mouseout":yo=null;break;case"pointerover":case"pointerout":Pd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rd.delete(e.pointerId)}}function Su(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Rh(e),e!==null&&tx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function UB(t,e,n,r,s){switch(e){case"focusin":return mo=Su(mo,t,e,n,r,s),!0;case"dragenter":return go=Su(go,t,e,n,r,s),!0;case"mouseover":return yo=Su(yo,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Pd.set(i,Su(Pd.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Rd.set(i,Su(Rd.get(i)||null,t,e,n,r,s)),!0}return!1}function mR(t){var e=ga(t.target);if(e!==null){var n=tl(e);if(n!==null){if(e=n.tag,e===13){if(e=rR(n),e!==null){t.blockedOn=e,pR(t.priority,function(){hR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Bw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ow=r,n.target.dispatchEvent(r),Ow=null}else return e=Rh(n),e!==null&&tx(e),t.blockedOn=n,!1;e.shift()}return!0}function ob(t,e,n){wp(t)&&n.delete(e)}function BB(){Uw=!1,mo!==null&&wp(mo)&&(mo=null),go!==null&&wp(go)&&(go=null),yo!==null&&wp(yo)&&(yo=null),Pd.forEach(ob),Rd.forEach(ob)}function bu(t,e){t.blockedOn===e&&(t.blockedOn=null,Uw||(Uw=!0,Cr.unstable_scheduleCallback(Cr.unstable_NormalPriority,BB)))}function Nd(t){function e(s){return bu(s,t)}if(0<Lf.length){bu(Lf[0],t);for(var n=1;n<Lf.length;n++){var r=Lf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(mo!==null&&bu(mo,t),go!==null&&bu(go,t),yo!==null&&bu(yo,t),Pd.forEach(e),Rd.forEach(e),n=0;n<Hi.length;n++)r=Hi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Hi.length&&(n=Hi[0],n.blockedOn===null);)mR(n),n.blockedOn===null&&Hi.shift()}var Yl=Ii.ReactCurrentBatchConfig,nm=!0;function $B(t,e,n,r){var s=ft,i=Yl.transition;Yl.transition=null;try{ft=1,nx(t,e,n,r)}finally{ft=s,Yl.transition=i}}function zB(t,e,n,r){var s=ft,i=Yl.transition;Yl.transition=null;try{ft=4,nx(t,e,n,r)}finally{ft=s,Yl.transition=i}}function nx(t,e,n,r){if(nm){var s=Bw(t,e,n,r);if(s===null)fv(t,e,r,rm,n),ib(t,r);else if(UB(s,t,e,n,r))r.stopPropagation();else if(ib(t,r),e&4&&-1<FB.indexOf(t)){for(;s!==null;){var i=Rh(s);if(i!==null&&dR(i),i=Bw(t,e,n,r),i===null&&fv(t,e,r,rm,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else fv(t,e,r,null,n)}}var rm=null;function Bw(t,e,n,r){if(rm=null,t=J_(r),t=ga(t),t!==null)if(e=tl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=rR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return rm=t,null}function gR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(RB()){case Z_:return 1;case aR:return 4;case em:case NB:return 16;case lR:return 536870912;default:return 16}default:return 16}}var lo=null,rx=null,_p=null;function yR(){if(_p)return _p;var t,e=rx,n=e.length,r,s="value"in lo?lo.value:lo.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return _p=s.slice(t,1<r?1-r:void 0)}function xp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function jf(){return!0}function ab(){return!1}function Pr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?jf:ab,this.isPropagationStopped=ab,this}return jt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=jf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=jf)},persist:function(){},isPersistent:jf}),e}var Kc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sx=Pr(Kc),Ph=jt({},Kc,{view:0,detail:0}),KB=Pr(Ph),sv,iv,Cu,dg=jt({},Ph,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ix,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cu&&(Cu&&t.type==="mousemove"?(sv=t.screenX-Cu.screenX,iv=t.screenY-Cu.screenY):iv=sv=0,Cu=t),sv)},movementY:function(t){return"movementY"in t?t.movementY:iv}}),lb=Pr(dg),WB=jt({},dg,{dataTransfer:0}),HB=Pr(WB),qB=jt({},Ph,{relatedTarget:0}),ov=Pr(qB),GB=jt({},Kc,{animationName:0,elapsedTime:0,pseudoElement:0}),QB=Pr(GB),YB=jt({},Kc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),XB=Pr(YB),JB=jt({},Kc,{data:0}),cb=Pr(JB),ZB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},e$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},t$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function n$(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=t$[t])?!!e[t]:!1}function ix(){return n$}var r$=jt({},Ph,{key:function(t){if(t.key){var e=ZB[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?e$[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ix,charCode:function(t){return t.type==="keypress"?xp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),s$=Pr(r$),i$=jt({},dg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ub=Pr(i$),o$=jt({},Ph,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ix}),a$=Pr(o$),l$=jt({},Kc,{propertyName:0,elapsedTime:0,pseudoElement:0}),c$=Pr(l$),u$=jt({},dg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),d$=Pr(u$),h$=[9,13,27,32],ox=pi&&"CompositionEvent"in window,rd=null;pi&&"documentMode"in document&&(rd=document.documentMode);var f$=pi&&"TextEvent"in window&&!rd,vR=pi&&(!ox||rd&&8<rd&&11>=rd),db=" ",hb=!1;function wR(t,e){switch(t){case"keyup":return h$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _R(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Rl=!1;function p$(t,e){switch(t){case"compositionend":return _R(e);case"keypress":return e.which!==32?null:(hb=!0,db);case"textInput":return t=e.data,t===db&&hb?null:t;default:return null}}function m$(t,e){if(Rl)return t==="compositionend"||!ox&&wR(t,e)?(t=yR(),_p=rx=lo=null,Rl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return vR&&e.locale!=="ko"?null:e.data;default:return null}}var g$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!g$[t.type]:e==="textarea"}function xR(t,e,n,r){JP(r),e=sm(e,"onChange"),0<e.length&&(n=new sx("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var sd=null,Dd=null;function y$(t){DR(t,0)}function hg(t){var e=kl(t);if(WP(e))return t}function v$(t,e){if(t==="change")return e}var ER=!1;if(pi){var av;if(pi){var lv="oninput"in document;if(!lv){var pb=document.createElement("div");pb.setAttribute("oninput","return;"),lv=typeof pb.oninput=="function"}av=lv}else av=!1;ER=av&&(!document.documentMode||9<document.documentMode)}function mb(){sd&&(sd.detachEvent("onpropertychange",TR),Dd=sd=null)}function TR(t){if(t.propertyName==="value"&&hg(Dd)){var e=[];xR(e,Dd,t,J_(t)),nR(y$,e)}}function w$(t,e,n){t==="focusin"?(mb(),sd=e,Dd=n,sd.attachEvent("onpropertychange",TR)):t==="focusout"&&mb()}function _$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hg(Dd)}function x$(t,e){if(t==="click")return hg(e)}function E$(t,e){if(t==="input"||t==="change")return hg(e)}function T$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hs=typeof Object.is=="function"?Object.is:T$;function kd(t,e){if(hs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Tw.call(e,s)||!hs(t[s],e[s]))return!1}return!0}function gb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yb(t,e){var n=gb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gb(n)}}function SR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?SR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function bR(){for(var t=window,e=Xp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Xp(t.document)}return e}function ax(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function S$(t){var e=bR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&SR(n.ownerDocument.documentElement,n)){if(r!==null&&ax(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=yb(n,i);var o=yb(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var b$=pi&&"documentMode"in document&&11>=document.documentMode,Nl=null,$w=null,id=null,zw=!1;function vb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zw||Nl==null||Nl!==Xp(r)||(r=Nl,"selectionStart"in r&&ax(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),id&&kd(id,r)||(id=r,r=sm($w,"onSelect"),0<r.length&&(e=new sx("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Nl)))}function Vf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Dl={animationend:Vf("Animation","AnimationEnd"),animationiteration:Vf("Animation","AnimationIteration"),animationstart:Vf("Animation","AnimationStart"),transitionend:Vf("Transition","TransitionEnd")},cv={},CR={};pi&&(CR=document.createElement("div").style,"AnimationEvent"in window||(delete Dl.animationend.animation,delete Dl.animationiteration.animation,delete Dl.animationstart.animation),"TransitionEvent"in window||delete Dl.transitionend.transition);function fg(t){if(cv[t])return cv[t];if(!Dl[t])return t;var e=Dl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in CR)return cv[t]=e[n];return t}var IR=fg("animationend"),AR=fg("animationiteration"),PR=fg("animationstart"),RR=fg("transitionend"),NR=new Map,wb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $o(t,e){NR.set(t,e),el(e,[t])}for(var uv=0;uv<wb.length;uv++){var dv=wb[uv],C$=dv.toLowerCase(),I$=dv[0].toUpperCase()+dv.slice(1);$o(C$,"on"+I$)}$o(IR,"onAnimationEnd");$o(AR,"onAnimationIteration");$o(PR,"onAnimationStart");$o("dblclick","onDoubleClick");$o("focusin","onFocus");$o("focusout","onBlur");$o(RR,"onTransitionEnd");Ec("onMouseEnter",["mouseout","mouseover"]);Ec("onMouseLeave",["mouseout","mouseover"]);Ec("onPointerEnter",["pointerout","pointerover"]);Ec("onPointerLeave",["pointerout","pointerover"]);el("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));el("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));el("onBeforeInput",["compositionend","keypress","textInput","paste"]);el("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));el("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));el("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ku));function _b(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,CB(r,e,void 0,t),t.currentTarget=null}function DR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;_b(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;_b(s,a,c),i=l}}}if(Zp)throw t=Vw,Zp=!1,Vw=null,t}function It(t,e){var n=e[Gw];n===void 0&&(n=e[Gw]=new Set);var r=t+"__bubble";n.has(r)||(kR(e,t,2,!1),n.add(r))}function hv(t,e,n){var r=0;e&&(r|=4),kR(n,t,r,e)}var Ff="_reactListening"+Math.random().toString(36).slice(2);function Md(t){if(!t[Ff]){t[Ff]=!0,UP.forEach(function(n){n!=="selectionchange"&&(A$.has(n)||hv(n,!1,t),hv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ff]||(e[Ff]=!0,hv("selectionchange",!1,e))}}function kR(t,e,n,r){switch(gR(e)){case 1:var s=$B;break;case 4:s=zB;break;default:s=nx}n=s.bind(null,e,n,t),s=void 0,!jw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function fv(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ga(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}nR(function(){var c=i,u=J_(n),d=[];e:{var p=NR.get(t);if(p!==void 0){var g=sx,v=t;switch(t){case"keypress":if(xp(n)===0)break e;case"keydown":case"keyup":g=s$;break;case"focusin":v="focus",g=ov;break;case"focusout":v="blur",g=ov;break;case"beforeblur":case"afterblur":g=ov;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=lb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=HB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=a$;break;case IR:case AR:case PR:g=QB;break;case RR:g=c$;break;case"scroll":g=KB;break;case"wheel":g=d$;break;case"copy":case"cut":case"paste":g=XB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=ub}var w=(e&4)!==0,E=!w&&t==="scroll",_=w?p!==null?p+"Capture":null:p;w=[];for(var y=c,S;y!==null;){S=y;var A=S.stateNode;if(S.tag===5&&A!==null&&(S=A,_!==null&&(A=Ad(y,_),A!=null&&w.push(Od(y,A,S)))),E)break;y=y.return}0<w.length&&(p=new g(p,v,null,n,u),d.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Ow&&(v=n.relatedTarget||n.fromElement)&&(ga(v)||v[mi]))break e;if((g||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?ga(v):null,v!==null&&(E=tl(v),v!==E||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(w=lb,A="onMouseLeave",_="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(w=ub,A="onPointerLeave",_="onPointerEnter",y="pointer"),E=g==null?p:kl(g),S=v==null?p:kl(v),p=new w(A,y+"leave",g,n,u),p.target=E,p.relatedTarget=S,A=null,ga(u)===c&&(w=new w(_,y+"enter",v,n,u),w.target=S,w.relatedTarget=E,A=w),E=A,g&&v)t:{for(w=g,_=v,y=0,S=w;S;S=wl(S))y++;for(S=0,A=_;A;A=wl(A))S++;for(;0<y-S;)w=wl(w),y--;for(;0<S-y;)_=wl(_),S--;for(;y--;){if(w===_||_!==null&&w===_.alternate)break t;w=wl(w),_=wl(_)}w=null}else w=null;g!==null&&xb(d,p,g,w,!1),v!==null&&E!==null&&xb(d,E,v,w,!0)}}e:{if(p=c?kl(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var D=v$;else if(fb(p))if(ER)D=E$;else{D=_$;var O=w$}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=x$);if(D&&(D=D(t,c))){xR(d,D,n,u);break e}O&&O(t,p,c),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&Rw(p,"number",p.value)}switch(O=c?kl(c):window,t){case"focusin":(fb(O)||O.contentEditable==="true")&&(Nl=O,$w=c,id=null);break;case"focusout":id=$w=Nl=null;break;case"mousedown":zw=!0;break;case"contextmenu":case"mouseup":case"dragend":zw=!1,vb(d,n,u);break;case"selectionchange":if(b$)break;case"keydown":case"keyup":vb(d,n,u)}var C;if(ox)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Rl?wR(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(vR&&n.locale!=="ko"&&(Rl||T!=="onCompositionStart"?T==="onCompositionEnd"&&Rl&&(C=yR()):(lo=u,rx="value"in lo?lo.value:lo.textContent,Rl=!0)),O=sm(c,T),0<O.length&&(T=new cb(T,t,null,n,u),d.push({event:T,listeners:O}),C?T.data=C:(C=_R(n),C!==null&&(T.data=C)))),(C=f$?p$(t,n):m$(t,n))&&(c=sm(c,"onBeforeInput"),0<c.length&&(u=new cb("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=C))}DR(d,e)})}function Od(t,e,n){return{instance:t,listener:e,currentTarget:n}}function sm(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ad(t,n),i!=null&&r.unshift(Od(t,i,s)),i=Ad(t,e),i!=null&&r.push(Od(t,i,s))),t=t.return}return r}function wl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function xb(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Ad(n,i),l!=null&&o.unshift(Od(n,l,a))):s||(l=Ad(n,i),l!=null&&o.push(Od(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var P$=/\r\n?/g,R$=/\u0000|\uFFFD/g;function Eb(t){return(typeof t=="string"?t:""+t).replace(P$,`
`).replace(R$,"")}function Uf(t,e,n){if(e=Eb(e),Eb(t)!==e&&n)throw Error(X(425))}function im(){}var Kw=null,Ww=null;function Hw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qw=typeof setTimeout=="function"?setTimeout:void 0,N$=typeof clearTimeout=="function"?clearTimeout:void 0,Tb=typeof Promise=="function"?Promise:void 0,D$=typeof queueMicrotask=="function"?queueMicrotask:typeof Tb<"u"?function(t){return Tb.resolve(null).then(t).catch(k$)}:qw;function k$(t){setTimeout(function(){throw t})}function pv(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Nd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Nd(e)}function vo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Sb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Wc=Math.random().toString(36).slice(2),Is="__reactFiber$"+Wc,Ld="__reactProps$"+Wc,mi="__reactContainer$"+Wc,Gw="__reactEvents$"+Wc,M$="__reactListeners$"+Wc,O$="__reactHandles$"+Wc;function ga(t){var e=t[Is];if(e)return e;for(var n=t.parentNode;n;){if(e=n[mi]||n[Is]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Sb(t);t!==null;){if(n=t[Is])return n;t=Sb(t)}return e}t=n,n=t.parentNode}return null}function Rh(t){return t=t[Is]||t[mi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function kl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function pg(t){return t[Ld]||null}var Qw=[],Ml=-1;function zo(t){return{current:t}}function At(t){0>Ml||(t.current=Qw[Ml],Qw[Ml]=null,Ml--)}function Et(t,e){Ml++,Qw[Ml]=t.current,t.current=e}var Po={},Bn=zo(Po),cr=zo(!1),ja=Po;function Tc(t,e){var n=t.type.contextTypes;if(!n)return Po;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ur(t){return t=t.childContextTypes,t!=null}function om(){At(cr),At(Bn)}function bb(t,e,n){if(Bn.current!==Po)throw Error(X(168));Et(Bn,e),Et(cr,n)}function MR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(X(108,wB(t)||"Unknown",s));return jt({},n,r)}function am(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Po,ja=Bn.current,Et(Bn,t),Et(cr,cr.current),!0}function Cb(t,e,n){var r=t.stateNode;if(!r)throw Error(X(169));n?(t=MR(t,e,ja),r.__reactInternalMemoizedMergedChildContext=t,At(cr),At(Bn),Et(Bn,t)):At(cr),Et(cr,n)}var Qs=null,mg=!1,mv=!1;function OR(t){Qs===null?Qs=[t]:Qs.push(t)}function L$(t){mg=!0,OR(t)}function Ko(){if(!mv&&Qs!==null){mv=!0;var t=0,e=ft;try{var n=Qs;for(ft=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qs=null,mg=!1}catch(s){throw Qs!==null&&(Qs=Qs.slice(t+1)),oR(Z_,Ko),s}finally{ft=e,mv=!1}}return null}var Ol=[],Ll=0,lm=null,cm=0,Fr=[],Ur=0,Va=null,Xs=1,Js="";function ua(t,e){Ol[Ll++]=cm,Ol[Ll++]=lm,lm=t,cm=e}function LR(t,e,n){Fr[Ur++]=Xs,Fr[Ur++]=Js,Fr[Ur++]=Va,Va=t;var r=Xs;t=Js;var s=32-cs(r)-1;r&=~(1<<s),n+=1;var i=32-cs(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Xs=1<<32-cs(e)+s|n<<s|r,Js=i+t}else Xs=1<<i|n<<s|r,Js=t}function lx(t){t.return!==null&&(ua(t,1),LR(t,1,0))}function cx(t){for(;t===lm;)lm=Ol[--Ll],Ol[Ll]=null,cm=Ol[--Ll],Ol[Ll]=null;for(;t===Va;)Va=Fr[--Ur],Fr[Ur]=null,Js=Fr[--Ur],Fr[Ur]=null,Xs=Fr[--Ur],Fr[Ur]=null}var Er=null,_r=null,Nt=!1,ss=null;function jR(t,e){var n=$r(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ib(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Er=t,_r=vo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Er=t,_r=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Va!==null?{id:Xs,overflow:Js}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=$r(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Er=t,_r=null,!0):!1;default:return!1}}function Yw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xw(t){if(Nt){var e=_r;if(e){var n=e;if(!Ib(t,e)){if(Yw(t))throw Error(X(418));e=vo(n.nextSibling);var r=Er;e&&Ib(t,e)?jR(r,n):(t.flags=t.flags&-4097|2,Nt=!1,Er=t)}}else{if(Yw(t))throw Error(X(418));t.flags=t.flags&-4097|2,Nt=!1,Er=t}}}function Ab(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Er=t}function Bf(t){if(t!==Er)return!1;if(!Nt)return Ab(t),Nt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Hw(t.type,t.memoizedProps)),e&&(e=_r)){if(Yw(t))throw VR(),Error(X(418));for(;e;)jR(t,e),e=vo(e.nextSibling)}if(Ab(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_r=vo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_r=null}}else _r=Er?vo(t.stateNode.nextSibling):null;return!0}function VR(){for(var t=_r;t;)t=vo(t.nextSibling)}function Sc(){_r=Er=null,Nt=!1}function ux(t){ss===null?ss=[t]:ss.push(t)}var j$=Ii.ReactCurrentBatchConfig;function Iu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function $f(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Pb(t){var e=t._init;return e(t._payload)}function FR(t){function e(_,y){if(t){var S=_.deletions;S===null?(_.deletions=[y],_.flags|=16):S.push(y)}}function n(_,y){if(!t)return null;for(;y!==null;)e(_,y),y=y.sibling;return null}function r(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function s(_,y){return _=Eo(_,y),_.index=0,_.sibling=null,_}function i(_,y,S){return _.index=S,t?(S=_.alternate,S!==null?(S=S.index,S<y?(_.flags|=2,y):S):(_.flags|=2,y)):(_.flags|=1048576,y)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,y,S,A){return y===null||y.tag!==6?(y=Ev(S,_.mode,A),y.return=_,y):(y=s(y,S),y.return=_,y)}function l(_,y,S,A){var D=S.type;return D===Pl?u(_,y,S.props.children,A,S.key):y!==null&&(y.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Ki&&Pb(D)===y.type)?(A=s(y,S.props),A.ref=Iu(_,y,S),A.return=_,A):(A=Ap(S.type,S.key,S.props,null,_.mode,A),A.ref=Iu(_,y,S),A.return=_,A)}function c(_,y,S,A){return y===null||y.tag!==4||y.stateNode.containerInfo!==S.containerInfo||y.stateNode.implementation!==S.implementation?(y=Tv(S,_.mode,A),y.return=_,y):(y=s(y,S.children||[]),y.return=_,y)}function u(_,y,S,A,D){return y===null||y.tag!==7?(y=ka(S,_.mode,A,D),y.return=_,y):(y=s(y,S),y.return=_,y)}function d(_,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ev(""+y,_.mode,S),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Nf:return S=Ap(y.type,y.key,y.props,null,_.mode,S),S.ref=Iu(_,null,y),S.return=_,S;case Al:return y=Tv(y,_.mode,S),y.return=_,y;case Ki:var A=y._init;return d(_,A(y._payload),S)}if($u(y)||Eu(y))return y=ka(y,_.mode,S,null),y.return=_,y;$f(_,y)}return null}function p(_,y,S,A){var D=y!==null?y.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return D!==null?null:a(_,y,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Nf:return S.key===D?l(_,y,S,A):null;case Al:return S.key===D?c(_,y,S,A):null;case Ki:return D=S._init,p(_,y,D(S._payload),A)}if($u(S)||Eu(S))return D!==null?null:u(_,y,S,A,null);$f(_,S)}return null}function g(_,y,S,A,D){if(typeof A=="string"&&A!==""||typeof A=="number")return _=_.get(S)||null,a(y,_,""+A,D);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Nf:return _=_.get(A.key===null?S:A.key)||null,l(y,_,A,D);case Al:return _=_.get(A.key===null?S:A.key)||null,c(y,_,A,D);case Ki:var O=A._init;return g(_,y,S,O(A._payload),D)}if($u(A)||Eu(A))return _=_.get(S)||null,u(y,_,A,D,null);$f(y,A)}return null}function v(_,y,S,A){for(var D=null,O=null,C=y,T=y=0,I=null;C!==null&&T<S.length;T++){C.index>T?(I=C,C=null):I=C.sibling;var P=p(_,C,S[T],A);if(P===null){C===null&&(C=I);break}t&&C&&P.alternate===null&&e(_,C),y=i(P,y,T),O===null?D=P:O.sibling=P,O=P,C=I}if(T===S.length)return n(_,C),Nt&&ua(_,T),D;if(C===null){for(;T<S.length;T++)C=d(_,S[T],A),C!==null&&(y=i(C,y,T),O===null?D=C:O.sibling=C,O=C);return Nt&&ua(_,T),D}for(C=r(_,C);T<S.length;T++)I=g(C,_,T,S[T],A),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?T:I.key),y=i(I,y,T),O===null?D=I:O.sibling=I,O=I);return t&&C.forEach(function(M){return e(_,M)}),Nt&&ua(_,T),D}function w(_,y,S,A){var D=Eu(S);if(typeof D!="function")throw Error(X(150));if(S=D.call(S),S==null)throw Error(X(151));for(var O=D=null,C=y,T=y=0,I=null,P=S.next();C!==null&&!P.done;T++,P=S.next()){C.index>T?(I=C,C=null):I=C.sibling;var M=p(_,C,P.value,A);if(M===null){C===null&&(C=I);break}t&&C&&M.alternate===null&&e(_,C),y=i(M,y,T),O===null?D=M:O.sibling=M,O=M,C=I}if(P.done)return n(_,C),Nt&&ua(_,T),D;if(C===null){for(;!P.done;T++,P=S.next())P=d(_,P.value,A),P!==null&&(y=i(P,y,T),O===null?D=P:O.sibling=P,O=P);return Nt&&ua(_,T),D}for(C=r(_,C);!P.done;T++,P=S.next())P=g(C,_,T,P.value,A),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?T:P.key),y=i(P,y,T),O===null?D=P:O.sibling=P,O=P);return t&&C.forEach(function(k){return e(_,k)}),Nt&&ua(_,T),D}function E(_,y,S,A){if(typeof S=="object"&&S!==null&&S.type===Pl&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Nf:e:{for(var D=S.key,O=y;O!==null;){if(O.key===D){if(D=S.type,D===Pl){if(O.tag===7){n(_,O.sibling),y=s(O,S.props.children),y.return=_,_=y;break e}}else if(O.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Ki&&Pb(D)===O.type){n(_,O.sibling),y=s(O,S.props),y.ref=Iu(_,O,S),y.return=_,_=y;break e}n(_,O);break}else e(_,O);O=O.sibling}S.type===Pl?(y=ka(S.props.children,_.mode,A,S.key),y.return=_,_=y):(A=Ap(S.type,S.key,S.props,null,_.mode,A),A.ref=Iu(_,y,S),A.return=_,_=A)}return o(_);case Al:e:{for(O=S.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===S.containerInfo&&y.stateNode.implementation===S.implementation){n(_,y.sibling),y=s(y,S.children||[]),y.return=_,_=y;break e}else{n(_,y);break}else e(_,y);y=y.sibling}y=Tv(S,_.mode,A),y.return=_,_=y}return o(_);case Ki:return O=S._init,E(_,y,O(S._payload),A)}if($u(S))return v(_,y,S,A);if(Eu(S))return w(_,y,S,A);$f(_,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,y!==null&&y.tag===6?(n(_,y.sibling),y=s(y,S),y.return=_,_=y):(n(_,y),y=Ev(S,_.mode,A),y.return=_,_=y),o(_)):n(_,y)}return E}var bc=FR(!0),UR=FR(!1),um=zo(null),dm=null,jl=null,dx=null;function hx(){dx=jl=dm=null}function fx(t){var e=um.current;At(um),t._currentValue=e}function Jw(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Xl(t,e){dm=t,dx=jl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(lr=!0),t.firstContext=null)}function Hr(t){var e=t._currentValue;if(dx!==t)if(t={context:t,memoizedValue:e,next:null},jl===null){if(dm===null)throw Error(X(308));jl=t,dm.dependencies={lanes:0,firstContext:t}}else jl=jl.next=t;return e}var ya=null;function px(t){ya===null?ya=[t]:ya.push(t)}function BR(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,px(e)):(n.next=s.next,s.next=n),e.interleaved=n,gi(t,r)}function gi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Wi=!1;function mx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $R(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ai(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,at&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,gi(t,n)}return s=r.interleaved,s===null?(e.next=e,px(r)):(e.next=s.next,s.next=e),r.interleaved=e,gi(t,n)}function Ep(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ex(t,n)}}function Rb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function hm(t,e,n,r){var s=t.updateQueue;Wi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,w=a;switch(p=e,g=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){d=v.call(g,d,p);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,p=typeof v=="function"?v.call(g,d,p):v,p==null)break e;d=jt({},d,p);break e;case 2:Wi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=g,l=d):u=u.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ua|=o,t.lanes=o,t.memoizedState=d}}function Nb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(X(191,s));s.call(r)}}}var Nh={},Ds=zo(Nh),jd=zo(Nh),Vd=zo(Nh);function va(t){if(t===Nh)throw Error(X(174));return t}function gx(t,e){switch(Et(Vd,e),Et(jd,t),Et(Ds,Nh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Dw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Dw(e,t)}At(Ds),Et(Ds,e)}function Cc(){At(Ds),At(jd),At(Vd)}function zR(t){va(Vd.current);var e=va(Ds.current),n=Dw(e,t.type);e!==n&&(Et(jd,t),Et(Ds,n))}function yx(t){jd.current===t&&(At(Ds),At(jd))}var Mt=zo(0);function fm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gv=[];function vx(){for(var t=0;t<gv.length;t++)gv[t]._workInProgressVersionPrimary=null;gv.length=0}var Tp=Ii.ReactCurrentDispatcher,yv=Ii.ReactCurrentBatchConfig,Fa=0,Lt=null,ln=null,pn=null,pm=!1,od=!1,Fd=0,V$=0;function Rn(){throw Error(X(321))}function wx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hs(t[n],e[n]))return!1;return!0}function _x(t,e,n,r,s,i){if(Fa=i,Lt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Tp.current=t===null||t.memoizedState===null?$$:z$,t=n(r,s),od){i=0;do{if(od=!1,Fd=0,25<=i)throw Error(X(301));i+=1,pn=ln=null,e.updateQueue=null,Tp.current=K$,t=n(r,s)}while(od)}if(Tp.current=mm,e=ln!==null&&ln.next!==null,Fa=0,pn=ln=Lt=null,pm=!1,e)throw Error(X(300));return t}function xx(){var t=Fd!==0;return Fd=0,t}function Es(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?Lt.memoizedState=pn=t:pn=pn.next=t,pn}function qr(){if(ln===null){var t=Lt.alternate;t=t!==null?t.memoizedState:null}else t=ln.next;var e=pn===null?Lt.memoizedState:pn.next;if(e!==null)pn=e,ln=t;else{if(t===null)throw Error(X(310));ln=t,t={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},pn===null?Lt.memoizedState=pn=t:pn=pn.next=t}return pn}function Ud(t,e){return typeof e=="function"?e(t):e}function vv(t){var e=qr(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=ln,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Fa&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Lt.lanes|=u,Ua|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,hs(r,e.memoizedState)||(lr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Lt.lanes|=i,Ua|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function wv(t){var e=qr(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);hs(i,e.memoizedState)||(lr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function KR(){}function WR(t,e){var n=Lt,r=qr(),s=e(),i=!hs(r.memoizedState,s);if(i&&(r.memoizedState=s,lr=!0),r=r.queue,Ex(GR.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||pn!==null&&pn.memoizedState.tag&1){if(n.flags|=2048,Bd(9,qR.bind(null,n,r,s,e),void 0,null),mn===null)throw Error(X(349));Fa&30||HR(n,e,s)}return s}function HR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Lt.updateQueue,e===null?(e={lastEffect:null,stores:null},Lt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function qR(t,e,n,r){e.value=n,e.getSnapshot=r,QR(e)&&YR(t)}function GR(t,e,n){return n(function(){QR(e)&&YR(t)})}function QR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hs(t,n)}catch{return!0}}function YR(t){var e=gi(t,1);e!==null&&us(e,t,1,-1)}function Db(t){var e=Es();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ud,lastRenderedState:t},e.queue=t,t=t.dispatch=B$.bind(null,Lt,t),[e.memoizedState,t]}function Bd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Lt.updateQueue,e===null?(e={lastEffect:null,stores:null},Lt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function XR(){return qr().memoizedState}function Sp(t,e,n,r){var s=Es();Lt.flags|=t,s.memoizedState=Bd(1|e,n,void 0,r===void 0?null:r)}function gg(t,e,n,r){var s=qr();r=r===void 0?null:r;var i=void 0;if(ln!==null){var o=ln.memoizedState;if(i=o.destroy,r!==null&&wx(r,o.deps)){s.memoizedState=Bd(e,n,i,r);return}}Lt.flags|=t,s.memoizedState=Bd(1|e,n,i,r)}function kb(t,e){return Sp(8390656,8,t,e)}function Ex(t,e){return gg(2048,8,t,e)}function JR(t,e){return gg(4,2,t,e)}function ZR(t,e){return gg(4,4,t,e)}function eN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function tN(t,e,n){return n=n!=null?n.concat([t]):null,gg(4,4,eN.bind(null,e,t),n)}function Tx(){}function nN(t,e){var n=qr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function rN(t,e){var n=qr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function sN(t,e,n){return Fa&21?(hs(n,e)||(n=cR(),Lt.lanes|=n,Ua|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,lr=!0),t.memoizedState=n)}function F$(t,e){var n=ft;ft=n!==0&&4>n?n:4,t(!0);var r=yv.transition;yv.transition={};try{t(!1),e()}finally{ft=n,yv.transition=r}}function iN(){return qr().memoizedState}function U$(t,e,n){var r=xo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},oN(t))aN(e,n);else if(n=BR(t,e,n,r),n!==null){var s=Zn();us(n,t,r,s),lN(n,e,r)}}function B$(t,e,n){var r=xo(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(oN(t))aN(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,hs(a,o)){var l=e.interleaved;l===null?(s.next=s,px(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=BR(t,e,s,r),n!==null&&(s=Zn(),us(n,t,r,s),lN(n,e,r))}}function oN(t){var e=t.alternate;return t===Lt||e!==null&&e===Lt}function aN(t,e){od=pm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function lN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ex(t,n)}}var mm={readContext:Hr,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useInsertionEffect:Rn,useLayoutEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useMutableSource:Rn,useSyncExternalStore:Rn,useId:Rn,unstable_isNewReconciler:!1},$$={readContext:Hr,useCallback:function(t,e){return Es().memoizedState=[t,e===void 0?null:e],t},useContext:Hr,useEffect:kb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Sp(4194308,4,eN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Sp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Sp(4,2,t,e)},useMemo:function(t,e){var n=Es();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Es();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=U$.bind(null,Lt,t),[r.memoizedState,t]},useRef:function(t){var e=Es();return t={current:t},e.memoizedState=t},useState:Db,useDebugValue:Tx,useDeferredValue:function(t){return Es().memoizedState=t},useTransition:function(){var t=Db(!1),e=t[0];return t=F$.bind(null,t[1]),Es().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Lt,s=Es();if(Nt){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),mn===null)throw Error(X(349));Fa&30||HR(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,kb(GR.bind(null,r,i,t),[t]),r.flags|=2048,Bd(9,qR.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Es(),e=mn.identifierPrefix;if(Nt){var n=Js,r=Xs;n=(r&~(1<<32-cs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=V$++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},z$={readContext:Hr,useCallback:nN,useContext:Hr,useEffect:Ex,useImperativeHandle:tN,useInsertionEffect:JR,useLayoutEffect:ZR,useMemo:rN,useReducer:vv,useRef:XR,useState:function(){return vv(Ud)},useDebugValue:Tx,useDeferredValue:function(t){var e=qr();return sN(e,ln.memoizedState,t)},useTransition:function(){var t=vv(Ud)[0],e=qr().memoizedState;return[t,e]},useMutableSource:KR,useSyncExternalStore:WR,useId:iN,unstable_isNewReconciler:!1},K$={readContext:Hr,useCallback:nN,useContext:Hr,useEffect:Ex,useImperativeHandle:tN,useInsertionEffect:JR,useLayoutEffect:ZR,useMemo:rN,useReducer:wv,useRef:XR,useState:function(){return wv(Ud)},useDebugValue:Tx,useDeferredValue:function(t){var e=qr();return ln===null?e.memoizedState=t:sN(e,ln.memoizedState,t)},useTransition:function(){var t=wv(Ud)[0],e=qr().memoizedState;return[t,e]},useMutableSource:KR,useSyncExternalStore:WR,useId:iN,unstable_isNewReconciler:!1};function es(t,e){if(t&&t.defaultProps){e=jt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Zw(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:jt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var yg={isMounted:function(t){return(t=t._reactInternals)?tl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Zn(),s=xo(t),i=ai(r,s);i.payload=e,n!=null&&(i.callback=n),e=wo(t,i,s),e!==null&&(us(e,t,s,r),Ep(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Zn(),s=xo(t),i=ai(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=wo(t,i,s),e!==null&&(us(e,t,s,r),Ep(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zn(),r=xo(t),s=ai(n,r);s.tag=2,e!=null&&(s.callback=e),e=wo(t,s,r),e!==null&&(us(e,t,r,n),Ep(e,t,r))}};function Mb(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!kd(n,r)||!kd(s,i):!0}function cN(t,e,n){var r=!1,s=Po,i=e.contextType;return typeof i=="object"&&i!==null?i=Hr(i):(s=ur(e)?ja:Bn.current,r=e.contextTypes,i=(r=r!=null)?Tc(t,s):Po),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Ob(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&yg.enqueueReplaceState(e,e.state,null)}function e0(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},mx(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Hr(i):(i=ur(e)?ja:Bn.current,s.context=Tc(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Zw(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&yg.enqueueReplaceState(s,s.state,null),hm(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ic(t,e){try{var n="",r=e;do n+=vB(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function _v(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function t0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var W$=typeof WeakMap=="function"?WeakMap:Map;function uN(t,e,n){n=ai(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ym||(ym=!0,d0=r),t0(t,e)},n}function dN(t,e,n){n=ai(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){t0(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){t0(t,e),typeof r!="function"&&(_o===null?_o=new Set([this]):_o.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Lb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new W$;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=i5.bind(null,t,e,n),e.then(t,t))}function jb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Vb(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ai(-1,1),e.tag=2,wo(n,e,1))),n.lanes|=1),t)}var H$=Ii.ReactCurrentOwner,lr=!1;function Xn(t,e,n,r){e.child=t===null?UR(e,null,n,r):bc(e,t.child,n,r)}function Fb(t,e,n,r,s){n=n.render;var i=e.ref;return Xl(e,s),r=_x(t,e,n,r,i,s),n=xx(),t!==null&&!lr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,yi(t,e,s)):(Nt&&n&&lx(e),e.flags|=1,Xn(t,e,r,s),e.child)}function Ub(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Nx(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,hN(t,e,i,r,s)):(t=Ap(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:kd,n(o,r)&&t.ref===e.ref)return yi(t,e,s)}return e.flags|=1,t=Eo(i,r),t.ref=e.ref,t.return=e,e.child=t}function hN(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(kd(i,r)&&t.ref===e.ref)if(lr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(lr=!0);else return e.lanes=t.lanes,yi(t,e,s)}return n0(t,e,n,r,s)}function fN(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(Fl,yr),yr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Et(Fl,yr),yr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Et(Fl,yr),yr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Et(Fl,yr),yr|=r;return Xn(t,e,s,n),e.child}function pN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function n0(t,e,n,r,s){var i=ur(n)?ja:Bn.current;return i=Tc(e,i),Xl(e,s),n=_x(t,e,n,r,i,s),r=xx(),t!==null&&!lr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,yi(t,e,s)):(Nt&&r&&lx(e),e.flags|=1,Xn(t,e,n,s),e.child)}function Bb(t,e,n,r,s){if(ur(n)){var i=!0;am(e)}else i=!1;if(Xl(e,s),e.stateNode===null)bp(t,e),cN(e,n,r),e0(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Hr(c):(c=ur(n)?ja:Bn.current,c=Tc(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Ob(e,o,r,c),Wi=!1;var p=e.memoizedState;o.state=p,hm(e,r,o,s),l=e.memoizedState,a!==r||p!==l||cr.current||Wi?(typeof u=="function"&&(Zw(e,n,u,r),l=e.memoizedState),(a=Wi||Mb(e,n,a,r,p,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,$R(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:es(e.type,a),o.props=c,d=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Hr(l):(l=ur(n)?ja:Bn.current,l=Tc(e,l));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&Ob(e,o,r,l),Wi=!1,p=e.memoizedState,o.state=p,hm(e,r,o,s);var v=e.memoizedState;a!==d||p!==v||cr.current||Wi?(typeof g=="function"&&(Zw(e,n,g,r),v=e.memoizedState),(c=Wi||Mb(e,n,c,r,p,v,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return r0(t,e,n,r,i,s)}function r0(t,e,n,r,s,i){pN(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Cb(e,n,!1),yi(t,e,i);r=e.stateNode,H$.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=bc(e,t.child,null,i),e.child=bc(e,null,a,i)):Xn(t,e,a,i),e.memoizedState=r.state,s&&Cb(e,n,!0),e.child}function mN(t){var e=t.stateNode;e.pendingContext?bb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&bb(t,e.context,!1),gx(t,e.containerInfo)}function $b(t,e,n,r,s){return Sc(),ux(s),e.flags|=256,Xn(t,e,n,r),e.child}var s0={dehydrated:null,treeContext:null,retryLane:0};function i0(t){return{baseLanes:t,cachePool:null,transitions:null}}function gN(t,e,n){var r=e.pendingProps,s=Mt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Et(Mt,s&1),t===null)return Xw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=_g(o,r,0,null),t=ka(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=i0(n),e.memoizedState=s0,t):Sx(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return q$(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Eo(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Eo(a,i):(i=ka(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?i0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=s0,r}return i=t.child,t=i.sibling,r=Eo(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Sx(t,e){return e=_g({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function zf(t,e,n,r){return r!==null&&ux(r),bc(e,t.child,null,n),t=Sx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function q$(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=_v(Error(X(422))),zf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=_g({mode:"visible",children:r.children},s,0,null),i=ka(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&bc(e,t.child,null,o),e.child.memoizedState=i0(o),e.memoizedState=s0,i);if(!(e.mode&1))return zf(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(X(419)),r=_v(i,r,void 0),zf(t,e,o,r)}if(a=(o&t.childLanes)!==0,lr||a){if(r=mn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,gi(t,s),us(r,t,s,-1))}return Rx(),r=_v(Error(X(421))),zf(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=o5.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,_r=vo(s.nextSibling),Er=e,Nt=!0,ss=null,t!==null&&(Fr[Ur++]=Xs,Fr[Ur++]=Js,Fr[Ur++]=Va,Xs=t.id,Js=t.overflow,Va=e),e=Sx(e,r.children),e.flags|=4096,e)}function zb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Jw(t.return,e,n)}function xv(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function yN(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Xn(t,e,r.children,n),r=Mt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zb(t,n,e);else if(t.tag===19)zb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Et(Mt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&fm(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),xv(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&fm(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}xv(e,!0,n,null,i);break;case"together":xv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ua|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=Eo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Eo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function G$(t,e,n){switch(e.tag){case 3:mN(e),Sc();break;case 5:zR(e);break;case 1:ur(e.type)&&am(e);break;case 4:gx(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Et(um,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Et(Mt,Mt.current&1),e.flags|=128,null):n&e.child.childLanes?gN(t,e,n):(Et(Mt,Mt.current&1),t=yi(t,e,n),t!==null?t.sibling:null);Et(Mt,Mt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return yN(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Et(Mt,Mt.current),r)break;return null;case 22:case 23:return e.lanes=0,fN(t,e,n)}return yi(t,e,n)}var vN,o0,wN,_N;vN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};o0=function(){};wN=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,va(Ds.current);var i=null;switch(n){case"input":s=Aw(t,s),r=Aw(t,r),i=[];break;case"select":s=jt({},s,{value:void 0}),r=jt({},r,{value:void 0}),i=[];break;case"textarea":s=Nw(t,s),r=Nw(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=im)}kw(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Cd.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Cd.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&It("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};_N=function(t,e,n,r){n!==r&&(e.flags|=4)};function Au(t,e){if(!Nt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Nn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Q$(t,e,n){var r=e.pendingProps;switch(cx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(e),null;case 1:return ur(e.type)&&om(),Nn(e),null;case 3:return r=e.stateNode,Cc(),At(cr),At(Bn),vx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Bf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ss!==null&&(p0(ss),ss=null))),o0(t,e),Nn(e),null;case 5:yx(e);var s=va(Vd.current);if(n=e.type,t!==null&&e.stateNode!=null)wN(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(X(166));return Nn(e),null}if(t=va(Ds.current),Bf(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Is]=e,r[Ld]=i,t=(e.mode&1)!==0,n){case"dialog":It("cancel",r),It("close",r);break;case"iframe":case"object":case"embed":It("load",r);break;case"video":case"audio":for(s=0;s<Ku.length;s++)It(Ku[s],r);break;case"source":It("error",r);break;case"img":case"image":case"link":It("error",r),It("load",r);break;case"details":It("toggle",r);break;case"input":JS(r,i),It("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},It("invalid",r);break;case"textarea":eb(r,i),It("invalid",r)}kw(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Uf(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Uf(r.textContent,a,t),s=["children",""+a]):Cd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&It("scroll",r)}switch(n){case"input":Df(r),ZS(r,i,!0);break;case"textarea":Df(r),tb(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=im)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=GP(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Is]=e,t[Ld]=r,vN(t,e,!1,!1),e.stateNode=t;e:{switch(o=Mw(n,r),n){case"dialog":It("cancel",t),It("close",t),s=r;break;case"iframe":case"object":case"embed":It("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ku.length;s++)It(Ku[s],t);s=r;break;case"source":It("error",t),s=r;break;case"img":case"image":case"link":It("error",t),It("load",t),s=r;break;case"details":It("toggle",t),s=r;break;case"input":JS(t,r),s=Aw(t,r),It("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=jt({},r,{value:void 0}),It("invalid",t);break;case"textarea":eb(t,r),s=Nw(t,r),It("invalid",t);break;default:s=r}kw(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?XP(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&QP(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Id(t,l):typeof l=="number"&&Id(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Cd.hasOwnProperty(i)?l!=null&&i==="onScroll"&&It("scroll",t):l!=null&&G_(t,i,l,o))}switch(n){case"input":Df(t),ZS(t,r,!1);break;case"textarea":Df(t),tb(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ao(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ql(t,!!r.multiple,i,!1):r.defaultValue!=null&&ql(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=im)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nn(e),null;case 6:if(t&&e.stateNode!=null)_N(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(n=va(Vd.current),va(Ds.current),Bf(e)){if(r=e.stateNode,n=e.memoizedProps,r[Is]=e,(i=r.nodeValue!==n)&&(t=Er,t!==null))switch(t.tag){case 3:Uf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Uf(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Is]=e,e.stateNode=r}return Nn(e),null;case 13:if(At(Mt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Nt&&_r!==null&&e.mode&1&&!(e.flags&128))VR(),Sc(),e.flags|=98560,i=!1;else if(i=Bf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(X(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(X(317));i[Is]=e}else Sc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nn(e),i=!1}else ss!==null&&(p0(ss),ss=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Mt.current&1?dn===0&&(dn=3):Rx())),e.updateQueue!==null&&(e.flags|=4),Nn(e),null);case 4:return Cc(),o0(t,e),t===null&&Md(e.stateNode.containerInfo),Nn(e),null;case 10:return fx(e.type._context),Nn(e),null;case 17:return ur(e.type)&&om(),Nn(e),null;case 19:if(At(Mt),i=e.memoizedState,i===null)return Nn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Au(i,!1);else{if(dn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=fm(t),o!==null){for(e.flags|=128,Au(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Et(Mt,Mt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Yt()>Ac&&(e.flags|=128,r=!0,Au(i,!1),e.lanes=4194304)}else{if(!r)if(t=fm(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Au(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Nt)return Nn(e),null}else 2*Yt()-i.renderingStartTime>Ac&&n!==1073741824&&(e.flags|=128,r=!0,Au(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Yt(),e.sibling=null,n=Mt.current,Et(Mt,r?n&1|2:n&1),e):(Nn(e),null);case 22:case 23:return Px(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?yr&1073741824&&(Nn(e),e.subtreeFlags&6&&(e.flags|=8192)):Nn(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function Y$(t,e){switch(cx(e),e.tag){case 1:return ur(e.type)&&om(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Cc(),At(cr),At(Bn),vx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return yx(e),null;case 13:if(At(Mt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));Sc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return At(Mt),null;case 4:return Cc(),null;case 10:return fx(e.type._context),null;case 22:case 23:return Px(),null;case 24:return null;default:return null}}var Kf=!1,Ln=!1,X$=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Vl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$t(t,e,r)}else n.current=null}function a0(t,e,n){try{n()}catch(r){$t(t,e,r)}}var Kb=!1;function J$(t,e){if(Kw=nm,t=bR(),ax(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,p=null;t:for(;;){for(var g;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)p=d,d=g;for(;;){if(d===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++u===r&&(l=o),(g=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ww={focusedElem:t,selectionRange:n},nm=!1,fe=e;fe!==null;)if(e=fe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,fe=t;else for(;fe!==null;){e=fe;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,E=v.memoizedState,_=e.stateNode,y=_.getSnapshotBeforeUpdate(e.elementType===e.type?w:es(e.type,w),E);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(A){$t(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,fe=t;break}fe=e.return}return v=Kb,Kb=!1,v}function ad(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&a0(e,n,i)}s=s.next}while(s!==r)}}function vg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function l0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function xN(t){var e=t.alternate;e!==null&&(t.alternate=null,xN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Is],delete e[Ld],delete e[Gw],delete e[M$],delete e[O$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function EN(t){return t.tag===5||t.tag===3||t.tag===4}function Wb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||EN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function c0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=im));else if(r!==4&&(t=t.child,t!==null))for(c0(t,e,n),t=t.sibling;t!==null;)c0(t,e,n),t=t.sibling}function u0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(u0(t,e,n),t=t.sibling;t!==null;)u0(t,e,n),t=t.sibling}var vn=null,ns=!1;function Li(t,e,n){for(n=n.child;n!==null;)TN(t,e,n),n=n.sibling}function TN(t,e,n){if(Ns&&typeof Ns.onCommitFiberUnmount=="function")try{Ns.onCommitFiberUnmount(ug,n)}catch{}switch(n.tag){case 5:Ln||Vl(n,e);case 6:var r=vn,s=ns;vn=null,Li(t,e,n),vn=r,ns=s,vn!==null&&(ns?(t=vn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):vn.removeChild(n.stateNode));break;case 18:vn!==null&&(ns?(t=vn,n=n.stateNode,t.nodeType===8?pv(t.parentNode,n):t.nodeType===1&&pv(t,n),Nd(t)):pv(vn,n.stateNode));break;case 4:r=vn,s=ns,vn=n.stateNode.containerInfo,ns=!0,Li(t,e,n),vn=r,ns=s;break;case 0:case 11:case 14:case 15:if(!Ln&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&a0(n,e,o),s=s.next}while(s!==r)}Li(t,e,n);break;case 1:if(!Ln&&(Vl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){$t(n,e,a)}Li(t,e,n);break;case 21:Li(t,e,n);break;case 22:n.mode&1?(Ln=(r=Ln)||n.memoizedState!==null,Li(t,e,n),Ln=r):Li(t,e,n);break;default:Li(t,e,n)}}function Hb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new X$),e.forEach(function(r){var s=a5.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Jr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:vn=a.stateNode,ns=!1;break e;case 3:vn=a.stateNode.containerInfo,ns=!0;break e;case 4:vn=a.stateNode.containerInfo,ns=!0;break e}a=a.return}if(vn===null)throw Error(X(160));TN(i,o,s),vn=null,ns=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){$t(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)SN(e,t),e=e.sibling}function SN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jr(e,t),xs(t),r&4){try{ad(3,t,t.return),vg(3,t)}catch(w){$t(t,t.return,w)}try{ad(5,t,t.return)}catch(w){$t(t,t.return,w)}}break;case 1:Jr(e,t),xs(t),r&512&&n!==null&&Vl(n,n.return);break;case 5:if(Jr(e,t),xs(t),r&512&&n!==null&&Vl(n,n.return),t.flags&32){var s=t.stateNode;try{Id(s,"")}catch(w){$t(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&HP(s,i),Mw(a,o);var c=Mw(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?XP(s,d):u==="dangerouslySetInnerHTML"?QP(s,d):u==="children"?Id(s,d):G_(s,u,d,c)}switch(a){case"input":Pw(s,i);break;case"textarea":qP(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?ql(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?ql(s,!!i.multiple,i.defaultValue,!0):ql(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ld]=i}catch(w){$t(t,t.return,w)}}break;case 6:if(Jr(e,t),xs(t),r&4){if(t.stateNode===null)throw Error(X(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){$t(t,t.return,w)}}break;case 3:if(Jr(e,t),xs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Nd(e.containerInfo)}catch(w){$t(t,t.return,w)}break;case 4:Jr(e,t),xs(t);break;case 13:Jr(e,t),xs(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ix=Yt())),r&4&&Hb(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ln=(c=Ln)||u,Jr(e,t),Ln=c):Jr(e,t),xs(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(fe=t,u=t.child;u!==null;){for(d=fe=u;fe!==null;){switch(p=fe,g=p.child,p.tag){case 0:case 11:case 14:case 15:ad(4,p,p.return);break;case 1:Vl(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){$t(r,n,w)}}break;case 5:Vl(p,p.return);break;case 22:if(p.memoizedState!==null){Gb(d);continue}}g!==null?(g.return=p,fe=g):Gb(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=YP("display",o))}catch(w){$t(t,t.return,w)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(w){$t(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Jr(e,t),xs(t),r&4&&Hb(t);break;case 21:break;default:Jr(e,t),xs(t)}}function xs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(EN(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Id(s,""),r.flags&=-33);var i=Wb(t);u0(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Wb(t);c0(t,a,o);break;default:throw Error(X(161))}}catch(l){$t(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Z$(t,e,n){fe=t,bN(t)}function bN(t,e,n){for(var r=(t.mode&1)!==0;fe!==null;){var s=fe,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Kf;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ln;a=Kf;var c=Ln;if(Kf=o,(Ln=l)&&!c)for(fe=s;fe!==null;)o=fe,l=o.child,o.tag===22&&o.memoizedState!==null?Qb(s):l!==null?(l.return=o,fe=l):Qb(s);for(;i!==null;)fe=i,bN(i),i=i.sibling;fe=s,Kf=a,Ln=c}qb(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,fe=i):qb(t)}}function qb(t){for(;fe!==null;){var e=fe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ln||vg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ln)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:es(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Nb(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Nb(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Nd(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}Ln||e.flags&512&&l0(e)}catch(p){$t(e,e.return,p)}}if(e===t){fe=null;break}if(n=e.sibling,n!==null){n.return=e.return,fe=n;break}fe=e.return}}function Gb(t){for(;fe!==null;){var e=fe;if(e===t){fe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,fe=n;break}fe=e.return}}function Qb(t){for(;fe!==null;){var e=fe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{vg(4,e)}catch(l){$t(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){$t(e,s,l)}}var i=e.return;try{l0(e)}catch(l){$t(e,i,l)}break;case 5:var o=e.return;try{l0(e)}catch(l){$t(e,o,l)}}}catch(l){$t(e,e.return,l)}if(e===t){fe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,fe=a;break}fe=e.return}}var e5=Math.ceil,gm=Ii.ReactCurrentDispatcher,bx=Ii.ReactCurrentOwner,zr=Ii.ReactCurrentBatchConfig,at=0,mn=null,rn=null,En=0,yr=0,Fl=zo(0),dn=0,$d=null,Ua=0,wg=0,Cx=0,ld=null,ar=null,Ix=0,Ac=1/0,Gs=null,ym=!1,d0=null,_o=null,Wf=!1,co=null,vm=0,cd=0,h0=null,Cp=-1,Ip=0;function Zn(){return at&6?Yt():Cp!==-1?Cp:Cp=Yt()}function xo(t){return t.mode&1?at&2&&En!==0?En&-En:j$.transition!==null?(Ip===0&&(Ip=cR()),Ip):(t=ft,t!==0||(t=window.event,t=t===void 0?16:gR(t.type)),t):1}function us(t,e,n,r){if(50<cd)throw cd=0,h0=null,Error(X(185));Ah(t,n,r),(!(at&2)||t!==mn)&&(t===mn&&(!(at&2)&&(wg|=n),dn===4&&qi(t,En)),dr(t,r),n===1&&at===0&&!(e.mode&1)&&(Ac=Yt()+500,mg&&Ko()))}function dr(t,e){var n=t.callbackNode;jB(t,e);var r=tm(t,t===mn?En:0);if(r===0)n!==null&&sb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&sb(n),e===1)t.tag===0?L$(Yb.bind(null,t)):OR(Yb.bind(null,t)),D$(function(){!(at&6)&&Ko()}),n=null;else{switch(uR(r)){case 1:n=Z_;break;case 4:n=aR;break;case 16:n=em;break;case 536870912:n=lR;break;default:n=em}n=kN(n,CN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function CN(t,e){if(Cp=-1,Ip=0,at&6)throw Error(X(327));var n=t.callbackNode;if(Jl()&&t.callbackNode!==n)return null;var r=tm(t,t===mn?En:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=wm(t,r);else{e=r;var s=at;at|=2;var i=AN();(mn!==t||En!==e)&&(Gs=null,Ac=Yt()+500,Da(t,e));do try{r5();break}catch(a){IN(t,a)}while(!0);hx(),gm.current=i,at=s,rn!==null?e=0:(mn=null,En=0,e=dn)}if(e!==0){if(e===2&&(s=Fw(t),s!==0&&(r=s,e=f0(t,s))),e===1)throw n=$d,Da(t,0),qi(t,r),dr(t,Yt()),n;if(e===6)qi(t,r);else{if(s=t.current.alternate,!(r&30)&&!t5(s)&&(e=wm(t,r),e===2&&(i=Fw(t),i!==0&&(r=i,e=f0(t,i))),e===1))throw n=$d,Da(t,0),qi(t,r),dr(t,Yt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(X(345));case 2:da(t,ar,Gs);break;case 3:if(qi(t,r),(r&130023424)===r&&(e=Ix+500-Yt(),10<e)){if(tm(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Zn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=qw(da.bind(null,t,ar,Gs),e);break}da(t,ar,Gs);break;case 4:if(qi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-cs(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Yt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*e5(r/1960))-r,10<r){t.timeoutHandle=qw(da.bind(null,t,ar,Gs),r);break}da(t,ar,Gs);break;case 5:da(t,ar,Gs);break;default:throw Error(X(329))}}}return dr(t,Yt()),t.callbackNode===n?CN.bind(null,t):null}function f0(t,e){var n=ld;return t.current.memoizedState.isDehydrated&&(Da(t,e).flags|=256),t=wm(t,e),t!==2&&(e=ar,ar=n,e!==null&&p0(e)),t}function p0(t){ar===null?ar=t:ar.push.apply(ar,t)}function t5(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!hs(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qi(t,e){for(e&=~Cx,e&=~wg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-cs(e),r=1<<n;t[n]=-1,e&=~r}}function Yb(t){if(at&6)throw Error(X(327));Jl();var e=tm(t,0);if(!(e&1))return dr(t,Yt()),null;var n=wm(t,e);if(t.tag!==0&&n===2){var r=Fw(t);r!==0&&(e=r,n=f0(t,r))}if(n===1)throw n=$d,Da(t,0),qi(t,e),dr(t,Yt()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,da(t,ar,Gs),dr(t,Yt()),null}function Ax(t,e){var n=at;at|=1;try{return t(e)}finally{at=n,at===0&&(Ac=Yt()+500,mg&&Ko())}}function Ba(t){co!==null&&co.tag===0&&!(at&6)&&Jl();var e=at;at|=1;var n=zr.transition,r=ft;try{if(zr.transition=null,ft=1,t)return t()}finally{ft=r,zr.transition=n,at=e,!(at&6)&&Ko()}}function Px(){yr=Fl.current,At(Fl)}function Da(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,N$(n)),rn!==null)for(n=rn.return;n!==null;){var r=n;switch(cx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&om();break;case 3:Cc(),At(cr),At(Bn),vx();break;case 5:yx(r);break;case 4:Cc();break;case 13:At(Mt);break;case 19:At(Mt);break;case 10:fx(r.type._context);break;case 22:case 23:Px()}n=n.return}if(mn=t,rn=t=Eo(t.current,null),En=yr=e,dn=0,$d=null,Cx=wg=Ua=0,ar=ld=null,ya!==null){for(e=0;e<ya.length;e++)if(n=ya[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ya=null}return t}function IN(t,e){do{var n=rn;try{if(hx(),Tp.current=mm,pm){for(var r=Lt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}pm=!1}if(Fa=0,pn=ln=Lt=null,od=!1,Fd=0,bx.current=null,n===null||n.return===null){dn=1,$d=e,rn=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=En,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=jb(o);if(g!==null){g.flags&=-257,Vb(g,o,a,i,e),g.mode&1&&Lb(i,c,e),e=g,l=c;var v=e.updateQueue;if(v===null){var w=new Set;w.add(l),e.updateQueue=w}else v.add(l);break e}else{if(!(e&1)){Lb(i,c,e),Rx();break e}l=Error(X(426))}}else if(Nt&&a.mode&1){var E=jb(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Vb(E,o,a,i,e),ux(Ic(l,a));break e}}i=l=Ic(l,a),dn!==4&&(dn=2),ld===null?ld=[i]:ld.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=uN(i,l,e);Rb(i,_);break e;case 1:a=l;var y=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(_o===null||!_o.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=dN(i,a,e);Rb(i,A);break e}}i=i.return}while(i!==null)}RN(n)}catch(D){e=D,rn===n&&n!==null&&(rn=n=n.return);continue}break}while(!0)}function AN(){var t=gm.current;return gm.current=mm,t===null?mm:t}function Rx(){(dn===0||dn===3||dn===2)&&(dn=4),mn===null||!(Ua&268435455)&&!(wg&268435455)||qi(mn,En)}function wm(t,e){var n=at;at|=2;var r=AN();(mn!==t||En!==e)&&(Gs=null,Da(t,e));do try{n5();break}catch(s){IN(t,s)}while(!0);if(hx(),at=n,gm.current=r,rn!==null)throw Error(X(261));return mn=null,En=0,dn}function n5(){for(;rn!==null;)PN(rn)}function r5(){for(;rn!==null&&!AB();)PN(rn)}function PN(t){var e=DN(t.alternate,t,yr);t.memoizedProps=t.pendingProps,e===null?RN(t):rn=e,bx.current=null}function RN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Y$(n,e),n!==null){n.flags&=32767,rn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dn=6,rn=null;return}}else if(n=Q$(n,e,yr),n!==null){rn=n;return}if(e=e.sibling,e!==null){rn=e;return}rn=e=t}while(e!==null);dn===0&&(dn=5)}function da(t,e,n){var r=ft,s=zr.transition;try{zr.transition=null,ft=1,s5(t,e,n,r)}finally{zr.transition=s,ft=r}return null}function s5(t,e,n,r){do Jl();while(co!==null);if(at&6)throw Error(X(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(VB(t,i),t===mn&&(rn=mn=null,En=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wf||(Wf=!0,kN(em,function(){return Jl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=zr.transition,zr.transition=null;var o=ft;ft=1;var a=at;at|=4,bx.current=null,J$(t,n),SN(n,t),S$(Ww),nm=!!Kw,Ww=Kw=null,t.current=n,Z$(n),PB(),at=a,ft=o,zr.transition=i}else t.current=n;if(Wf&&(Wf=!1,co=t,vm=s),i=t.pendingLanes,i===0&&(_o=null),DB(n.stateNode),dr(t,Yt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ym)throw ym=!1,t=d0,d0=null,t;return vm&1&&t.tag!==0&&Jl(),i=t.pendingLanes,i&1?t===h0?cd++:(cd=0,h0=t):cd=0,Ko(),null}function Jl(){if(co!==null){var t=uR(vm),e=zr.transition,n=ft;try{if(zr.transition=null,ft=16>t?16:t,co===null)var r=!1;else{if(t=co,co=null,vm=0,at&6)throw Error(X(331));var s=at;for(at|=4,fe=t.current;fe!==null;){var i=fe,o=i.child;if(fe.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(fe=c;fe!==null;){var u=fe;switch(u.tag){case 0:case 11:case 15:ad(8,u,i)}var d=u.child;if(d!==null)d.return=u,fe=d;else for(;fe!==null;){u=fe;var p=u.sibling,g=u.return;if(xN(u),u===c){fe=null;break}if(p!==null){p.return=g,fe=p;break}fe=g}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var E=w.sibling;w.sibling=null,w=E}while(w!==null)}}fe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,fe=o;else e:for(;fe!==null;){if(i=fe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ad(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,fe=_;break e}fe=i.return}}var y=t.current;for(fe=y;fe!==null;){o=fe;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,fe=S;else e:for(o=y;fe!==null;){if(a=fe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:vg(9,a)}}catch(D){$t(a,a.return,D)}if(a===o){fe=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,fe=A;break e}fe=a.return}}if(at=s,Ko(),Ns&&typeof Ns.onPostCommitFiberRoot=="function")try{Ns.onPostCommitFiberRoot(ug,t)}catch{}r=!0}return r}finally{ft=n,zr.transition=e}}return!1}function Xb(t,e,n){e=Ic(n,e),e=uN(t,e,1),t=wo(t,e,1),e=Zn(),t!==null&&(Ah(t,1,e),dr(t,e))}function $t(t,e,n){if(t.tag===3)Xb(t,t,n);else for(;e!==null;){if(e.tag===3){Xb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_o===null||!_o.has(r))){t=Ic(n,t),t=dN(e,t,1),e=wo(e,t,1),t=Zn(),e!==null&&(Ah(e,1,t),dr(e,t));break}}e=e.return}}function i5(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Zn(),t.pingedLanes|=t.suspendedLanes&n,mn===t&&(En&n)===n&&(dn===4||dn===3&&(En&130023424)===En&&500>Yt()-Ix?Da(t,0):Cx|=n),dr(t,e)}function NN(t,e){e===0&&(t.mode&1?(e=Of,Of<<=1,!(Of&130023424)&&(Of=4194304)):e=1);var n=Zn();t=gi(t,e),t!==null&&(Ah(t,e,n),dr(t,n))}function o5(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),NN(t,n)}function a5(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(e),NN(t,n)}var DN;DN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||cr.current)lr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return lr=!1,G$(t,e,n);lr=!!(t.flags&131072)}else lr=!1,Nt&&e.flags&1048576&&LR(e,cm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;bp(t,e),t=e.pendingProps;var s=Tc(e,Bn.current);Xl(e,n),s=_x(null,e,r,t,s,n);var i=xx();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ur(r)?(i=!0,am(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,mx(e),s.updater=yg,e.stateNode=s,s._reactInternals=e,e0(e,r,t,n),e=r0(null,e,r,!0,i,n)):(e.tag=0,Nt&&i&&lx(e),Xn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(bp(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=c5(r),t=es(r,t),s){case 0:e=n0(null,e,r,t,n);break e;case 1:e=Bb(null,e,r,t,n);break e;case 11:e=Fb(null,e,r,t,n);break e;case 14:e=Ub(null,e,r,es(r.type,t),n);break e}throw Error(X(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:es(r,s),n0(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:es(r,s),Bb(t,e,r,s,n);case 3:e:{if(mN(e),t===null)throw Error(X(387));r=e.pendingProps,i=e.memoizedState,s=i.element,$R(t,e),hm(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ic(Error(X(423)),e),e=$b(t,e,r,n,s);break e}else if(r!==s){s=Ic(Error(X(424)),e),e=$b(t,e,r,n,s);break e}else for(_r=vo(e.stateNode.containerInfo.firstChild),Er=e,Nt=!0,ss=null,n=UR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Sc(),r===s){e=yi(t,e,n);break e}Xn(t,e,r,n)}e=e.child}return e;case 5:return zR(e),t===null&&Xw(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Hw(r,s)?o=null:i!==null&&Hw(r,i)&&(e.flags|=32),pN(t,e),Xn(t,e,o,n),e.child;case 6:return t===null&&Xw(e),null;case 13:return gN(t,e,n);case 4:return gx(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=bc(e,null,r,n):Xn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:es(r,s),Fb(t,e,r,s,n);case 7:return Xn(t,e,e.pendingProps,n),e.child;case 8:return Xn(t,e,e.pendingProps.children,n),e.child;case 12:return Xn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Et(um,r._currentValue),r._currentValue=o,i!==null)if(hs(i.value,o)){if(i.children===s.children&&!cr.current){e=yi(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ai(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Jw(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(X(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Jw(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Xn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Xl(e,n),s=Hr(s),r=r(s),e.flags|=1,Xn(t,e,r,n),e.child;case 14:return r=e.type,s=es(r,e.pendingProps),s=es(r.type,s),Ub(t,e,r,s,n);case 15:return hN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:es(r,s),bp(t,e),e.tag=1,ur(r)?(t=!0,am(e)):t=!1,Xl(e,n),cN(e,r,s),e0(e,r,s,n),r0(null,e,r,!0,t,n);case 19:return yN(t,e,n);case 22:return fN(t,e,n)}throw Error(X(156,e.tag))};function kN(t,e){return oR(t,e)}function l5(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(t,e,n,r){return new l5(t,e,n,r)}function Nx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function c5(t){if(typeof t=="function")return Nx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Y_)return 11;if(t===X_)return 14}return 2}function Eo(t,e){var n=t.alternate;return n===null?(n=$r(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ap(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Nx(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Pl:return ka(n.children,s,i,e);case Q_:o=8,s|=8;break;case Sw:return t=$r(12,n,e,s|2),t.elementType=Sw,t.lanes=i,t;case bw:return t=$r(13,n,e,s),t.elementType=bw,t.lanes=i,t;case Cw:return t=$r(19,n,e,s),t.elementType=Cw,t.lanes=i,t;case zP:return _g(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case BP:o=10;break e;case $P:o=9;break e;case Y_:o=11;break e;case X_:o=14;break e;case Ki:o=16,r=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=$r(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ka(t,e,n,r){return t=$r(7,t,r,e),t.lanes=n,t}function _g(t,e,n,r){return t=$r(22,t,r,e),t.elementType=zP,t.lanes=n,t.stateNode={isHidden:!1},t}function Ev(t,e,n){return t=$r(6,t,null,e),t.lanes=n,t}function Tv(t,e,n){return e=$r(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function u5(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rv(0),this.expirationTimes=rv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rv(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Dx(t,e,n,r,s,i,o,a,l){return t=new u5(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=$r(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mx(i),t}function d5(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Al,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function MN(t){if(!t)return Po;t=t._reactInternals;e:{if(tl(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ur(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(ur(n))return MR(t,n,e)}return e}function ON(t,e,n,r,s,i,o,a,l){return t=Dx(n,r,!0,t,s,i,o,a,l),t.context=MN(null),n=t.current,r=Zn(),s=xo(n),i=ai(r,s),i.callback=e??null,wo(n,i,s),t.current.lanes=s,Ah(t,s,r),dr(t,r),t}function xg(t,e,n,r){var s=e.current,i=Zn(),o=xo(s);return n=MN(n),e.context===null?e.context=n:e.pendingContext=n,e=ai(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wo(s,e,o),t!==null&&(us(t,s,o,i),Ep(t,s,o)),o}function _m(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Jb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function kx(t,e){Jb(t,e),(t=t.alternate)&&Jb(t,e)}function h5(){return null}var LN=typeof reportError=="function"?reportError:function(t){console.error(t)};function Mx(t){this._internalRoot=t}Eg.prototype.render=Mx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));xg(t,e,null,null)};Eg.prototype.unmount=Mx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ba(function(){xg(null,t,null,null)}),e[mi]=null}};function Eg(t){this._internalRoot=t}Eg.prototype.unstable_scheduleHydration=function(t){if(t){var e=fR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Hi.length&&e!==0&&e<Hi[n].priority;n++);Hi.splice(n,0,t),n===0&&mR(t)}};function Ox(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Tg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Zb(){}function f5(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=_m(o);i.call(c)}}var o=ON(e,r,t,0,null,!1,!1,"",Zb);return t._reactRootContainer=o,t[mi]=o.current,Md(t.nodeType===8?t.parentNode:t),Ba(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=_m(l);a.call(c)}}var l=Dx(t,0,!1,null,null,!1,!1,"",Zb);return t._reactRootContainer=l,t[mi]=l.current,Md(t.nodeType===8?t.parentNode:t),Ba(function(){xg(e,l,n,r)}),l}function Sg(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=_m(o);a.call(l)}}xg(e,o,t,s)}else o=f5(n,e,t,s,r);return _m(o)}dR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=zu(e.pendingLanes);n!==0&&(ex(e,n|1),dr(e,Yt()),!(at&6)&&(Ac=Yt()+500,Ko()))}break;case 13:Ba(function(){var r=gi(t,1);if(r!==null){var s=Zn();us(r,t,1,s)}}),kx(t,1)}};tx=function(t){if(t.tag===13){var e=gi(t,134217728);if(e!==null){var n=Zn();us(e,t,134217728,n)}kx(t,134217728)}};hR=function(t){if(t.tag===13){var e=xo(t),n=gi(t,e);if(n!==null){var r=Zn();us(n,t,e,r)}kx(t,e)}};fR=function(){return ft};pR=function(t,e){var n=ft;try{return ft=t,e()}finally{ft=n}};Lw=function(t,e,n){switch(e){case"input":if(Pw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=pg(r);if(!s)throw Error(X(90));WP(r),Pw(r,s)}}}break;case"textarea":qP(t,n);break;case"select":e=n.value,e!=null&&ql(t,!!n.multiple,e,!1)}};eR=Ax;tR=Ba;var p5={usingClientEntryPoint:!1,Events:[Rh,kl,pg,JP,ZP,Ax]},Pu={findFiberByHostInstance:ga,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},m5={bundleType:Pu.bundleType,version:Pu.version,rendererPackageName:Pu.rendererPackageName,rendererConfig:Pu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ii.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=sR(t),t===null?null:t.stateNode},findFiberByHostInstance:Pu.findFiberByHostInstance||h5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hf.isDisabled&&Hf.supportsFiber)try{ug=Hf.inject(m5),Ns=Hf}catch{}}Ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p5;Ar.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ox(e))throw Error(X(200));return d5(t,e,null,n)};Ar.createRoot=function(t,e){if(!Ox(t))throw Error(X(299));var n=!1,r="",s=LN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Dx(t,1,!1,null,null,n,!1,r,s),t[mi]=e.current,Md(t.nodeType===8?t.parentNode:t),new Mx(e)};Ar.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=sR(e),t=t===null?null:t.stateNode,t};Ar.flushSync=function(t){return Ba(t)};Ar.hydrate=function(t,e,n){if(!Tg(e))throw Error(X(200));return Sg(null,t,e,!0,n)};Ar.hydrateRoot=function(t,e,n){if(!Ox(t))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=LN;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ON(e,null,t,1,n??null,s,!1,i,o),t[mi]=e.current,Md(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Eg(e)};Ar.render=function(t,e,n){if(!Tg(e))throw Error(X(200));return Sg(null,t,e,!1,n)};Ar.unmountComponentAtNode=function(t){if(!Tg(t))throw Error(X(40));return t._reactRootContainer?(Ba(function(){Sg(null,null,t,!1,function(){t._reactRootContainer=null,t[mi]=null})}),!0):!1};Ar.unstable_batchedUpdates=Ax;Ar.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Tg(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return Sg(t,e,n,!1,r)};Ar.version="18.3.1-next-f1338f8080-20240426";function jN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jN)}catch(t){console.error(t)}}jN(),jP.exports=Ar;var Ai=jP.exports;const Dh=B_(Ai),g5=SP({__proto__:null,default:Dh},[Ai]);var eC=Ai;Ew.createRoot=eC.createRoot,Ew.hydrateRoot=eC.hydrateRoot;var tC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},y5=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},FN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,d=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(n[u],n[d],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):y5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||d==null)throw new v5;const p=i<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),d!==64){const v=c<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class v5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const w5=function(t){const e=VN(t);return FN.encodeByteArray(e,!0)},xm=function(t){return w5(t).replace(/\./g,"")},UN=function(t){try{return FN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=()=>_5().__FIREBASE_DEFAULTS__,E5=()=>{if(typeof process>"u"||typeof tC>"u")return;const t=tC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},T5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&UN(t[1]);return e&&JSON.parse(e)},bg=()=>{try{return x5()||E5()||T5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BN=t=>{var e,n;return(n=(e=bg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},$N=t=>{const e=BN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},zN=()=>{var t;return(t=bg())===null||t===void 0?void 0:t.config},KN=t=>{var e;return(e=bg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S5=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[xm(JSON.stringify(n)),xm(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($n())}function C5(){var t;const e=(t=bg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function A5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function P5(){const t=$n();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function R5(){return!C5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qN(){try{return typeof indexedDB=="object"}catch{return!1}}function GN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function N5(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5="FirebaseError";class Rr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=D5,Object.setPrototypeOf(this,Rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nl.prototype.create)}}class nl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?k5(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Rr(s,a,r)}}function k5(t,e){return t.replace(M5,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const M5=/\{\$([^}]+)}/g;function O5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(nC(i)&&nC(o)){if(!zd(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function nC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function L5(t,e){const n=new j5(t,e);return n.subscribe.bind(n)}class j5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");V5(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Sv),s.error===void 0&&(s.error=Sv),s.complete===void 0&&(s.complete=Sv);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function V5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Sv(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5=1e3,U5=2,B5=4*60*60*1e3,$5=.5;function rC(t,e=F5,n=U5){const r=e*Math.pow(n,t),s=Math.round($5*r*(Math.random()-.5)*2);return Math.min(B5,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t){return t&&t._delegate?t._delegate:t}class Gr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z5=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new S5;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(W5(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:K5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function K5(t){return t===ha?void 0:t}function W5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new z5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(nt||(nt={}));const q5={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},G5=nt.INFO,Q5={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},Y5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Q5[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cg{constructor(e){this.name=e,this._logLevel=G5,this._logHandler=Y5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?q5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const X5=(t,e)=>e.some(n=>t instanceof n);let sC,iC;function J5(){return sC||(sC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Z5(){return iC||(iC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QN=new WeakMap,m0=new WeakMap,YN=new WeakMap,bv=new WeakMap,Lx=new WeakMap;function e3(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(To(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&QN.set(n,t)}).catch(()=>{}),Lx.set(e,t),e}function t3(t){if(m0.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});m0.set(t,e)}let g0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return m0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return To(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function n3(t){g0=t(g0)}function r3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Cv(this),e,...n);return YN.set(r,e.sort?e.sort():[e]),To(r)}:Z5().includes(t)?function(...e){return t.apply(Cv(this),e),To(QN.get(this))}:function(...e){return To(t.apply(Cv(this),e))}}function s3(t){return typeof t=="function"?r3(t):(t instanceof IDBTransaction&&t3(t),X5(t,J5())?new Proxy(t,g0):t)}function To(t){if(t instanceof IDBRequest)return e3(t);if(bv.has(t))return bv.get(t);const e=s3(t);return e!==t&&(bv.set(t,e),Lx.set(e,t)),e}const Cv=t=>Lx.get(t);function XN(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=To(o);return r&&o.addEventListener("upgradeneeded",l=>{r(To(o.result),l.oldVersion,l.newVersion,To(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const i3=["get","getKey","getAll","getAllKeys","count"],o3=["put","add","delete","clear"],Iv=new Map;function oC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Iv.get(e))return Iv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=o3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||i3.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Iv.set(e,i),i}n3(t=>({...t,get:(e,n,r)=>oC(e,n)||t.get(e,n,r),has:(e,n)=>!!oC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(l3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function l3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const y0="@firebase/app",aC="0.10.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi=new Cg("@firebase/app"),c3="@firebase/app-compat",u3="@firebase/analytics-compat",d3="@firebase/analytics",h3="@firebase/app-check-compat",f3="@firebase/app-check",p3="@firebase/auth",m3="@firebase/auth-compat",g3="@firebase/database",y3="@firebase/database-compat",v3="@firebase/functions",w3="@firebase/functions-compat",_3="@firebase/installations",x3="@firebase/installations-compat",E3="@firebase/messaging",T3="@firebase/messaging-compat",S3="@firebase/performance",b3="@firebase/performance-compat",C3="@firebase/remote-config",I3="@firebase/remote-config-compat",A3="@firebase/storage",P3="@firebase/storage-compat",R3="@firebase/firestore",N3="@firebase/vertexai-preview",D3="@firebase/firestore-compat",k3="firebase",M3="10.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="[DEFAULT]",O3={[y0]:"fire-core",[c3]:"fire-core-compat",[d3]:"fire-analytics",[u3]:"fire-analytics-compat",[f3]:"fire-app-check",[h3]:"fire-app-check-compat",[p3]:"fire-auth",[m3]:"fire-auth-compat",[g3]:"fire-rtdb",[y3]:"fire-rtdb-compat",[v3]:"fire-fn",[w3]:"fire-fn-compat",[_3]:"fire-iid",[x3]:"fire-iid-compat",[E3]:"fire-fcm",[T3]:"fire-fcm-compat",[S3]:"fire-perf",[b3]:"fire-perf-compat",[C3]:"fire-rc",[I3]:"fire-rc-compat",[A3]:"fire-gcs",[P3]:"fire-gcs-compat",[R3]:"fire-fst",[D3]:"fire-fst-compat",[N3]:"fire-vertex","fire-js":"fire-js",[k3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em=new Map,L3=new Map,w0=new Map;function lC(t,e){try{t.container.addComponent(e)}catch(n){vi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fs(t){const e=t.name;if(w0.has(e))return vi.debug(`There were multiple attempts to register component ${e}.`),!1;w0.set(e,t);for(const n of Em.values())lC(n,t);for(const n of L3.values())lC(n,t);return!0}function Wo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Zs(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},So=new nl("app","Firebase",j3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw So.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=M3;function JN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:v0,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw So.create("bad-app-name",{appName:String(s)});if(n||(n=zN()),!n)throw So.create("no-options");const i=Em.get(s);if(i){if(zd(n,i.options)&&zd(r,i.config))return i;throw So.create("duplicate-app",{appName:s})}const o=new H5(s);for(const l of w0.values())o.addComponent(l);const a=new V3(n,r,o);return Em.set(s,a),a}function Ig(t=v0){const e=Em.get(t);if(!e&&t===v0&&zN())return JN();if(!e)throw So.create("no-app",{appName:t});return e}function hr(t,e,n){var r;let s=(r=O3[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vi.warn(a.join(" "));return}fs(new Gr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3="firebase-heartbeat-database",U3=1,Kd="firebase-heartbeat-store";let Av=null;function ZN(){return Av||(Av=XN(F3,U3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Kd)}catch(n){console.warn(n)}}}}).catch(t=>{throw So.create("idb-open",{originalErrorMessage:t.message})})),Av}async function B3(t){try{const n=(await ZN()).transaction(Kd),r=await n.objectStore(Kd).get(eD(t));return await n.done,r}catch(e){if(e instanceof Rr)vi.warn(e.message);else{const n=So.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vi.warn(n.message)}}}async function cC(t,e){try{const r=(await ZN()).transaction(Kd,"readwrite");await r.objectStore(Kd).put(e,eD(t)),await r.done}catch(n){if(n instanceof Rr)vi.warn(n.message);else{const r=So.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vi.warn(r.message)}}}function eD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3=1024,z3=30*24*60*60*1e3;class K3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new H3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=uC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=z3}),this._storage.overwrite(this._heartbeatsCache))}catch(r){vi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=uC(),{heartbeatsToSend:r,unsentEntries:s}=W3(this._heartbeatsCache.heartbeats),i=xm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return vi.warn(n),""}}}function uC(){return new Date().toISOString().substring(0,10)}function W3(t,e=$3){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),dC(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),dC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class H3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qN()?GN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await B3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return cC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return cC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function dC(t){return xm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(t){fs(new Gr("platform-logger",e=>new a3(e),"PRIVATE")),fs(new Gr("heartbeat",e=>new K3(e),"PRIVATE")),hr(y0,aC,t),hr(y0,aC,"esm2017"),hr("fire-js","")}q3("");var As=function(){return As=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},As.apply(this,arguments)};function Mh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function G3(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function tD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Q3=tD,nD=new nl("auth","Firebase",tD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm=new Cg("@firebase/auth");function Y3(t,...e){Tm.logLevel<=nt.WARN&&Tm.warn(`Auth (${rl}): ${t}`,...e)}function Pp(t,...e){Tm.logLevel<=nt.ERROR&&Tm.error(`Auth (${rl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(t,...e){throw jx(t,...e)}function ks(t,...e){return jx(t,...e)}function rD(t,e,n){const r=Object.assign(Object.assign({},Q3()),{[e]:n});return new nl("auth","Firebase",r).create(e,{appName:t.name})}function bo(t){return rD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nD.create(t,...e)}function Pe(t,e,...n){if(!t)throw jx(e,...n)}function ei(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pp(e),new Error(e)}function _i(t,e){t||ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function X3(){return hC()==="http:"||hC()==="https:"}function hC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X3()||HN()||"connection"in navigator)?navigator.onLine:!0}function Z3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n){this.shortDelay=e,this.longDelay=n,_i(n>e,"Short delay should be less than long delay!"),this.isMobile=b5()||A5()}get(){return J3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(t,e){_i(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tz=new Oh(3e4,6e4);function Ag(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Hc(t,e,n,r,s={}){return iD(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=kh(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return I5()||(c.referrerPolicy="no-referrer"),sD.fetch()(aD(t,t.config.apiHost,n,a),c)})}async function iD(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},ez),e);try{const s=new nz(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw qf(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw qf(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw qf(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw qf(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw rD(t,u,c);wi(t,u)}}catch(s){if(s instanceof Rr)throw s;wi(t,"network-request-failed",{message:String(s)})}}async function oD(t,e,n,r,s={}){const i=await Hc(t,e,n,r,s);return"mfaPendingCredential"in i&&wi(t,"multi-factor-auth-required",{_serverResponse:i}),i}function aD(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Vx(t.config,s):`${t.config.apiScheme}://${s}`}class nz{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ks(this.auth,"network-request-failed")),tz.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=ks(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rz(t,e){return Hc(t,"POST","/v1/accounts:delete",e)}async function lD(t,e){return Hc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sz(t,e=!1){const n=sn(t),r=await n.getIdToken(e),s=Fx(r);Pe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ud(Pv(s.auth_time)),issuedAtTime:ud(Pv(s.iat)),expirationTime:ud(Pv(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Pv(t){return Number(t)*1e3}function Fx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Pp("JWT malformed, contained fewer than 3 sections"),null;try{const s=UN(n);return s?JSON.parse(s):(Pp("Failed to decode base64 JWT payload"),null)}catch(s){return Pp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function fC(t){const e=Fx(t);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Rr&&iz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function iz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ud(this.lastLoginAt),this.creationTime=ud(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sm(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Wd(t,lD(n,{idToken:r}));Pe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?cD(i.providerUserInfo):[],a=lz(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new x0(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function az(t){const e=sn(t);await Sm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lz(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function cD(t){return t.map(e=>{var{providerId:n}=e,r=Mh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cz(t,e){const n=await iD(t,{},async()=>{const r=kh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=aD(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",sD.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uz(t,e){return Hc(t,"POST","/v2/accounts:revokeToken",Ag(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=fC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await cz(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Zl;return r&&(Pe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Pe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Pe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zl,this.toJSON())}_performRefresh(){return ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(t,e){Pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ti{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Mh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new x0(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Wd(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return sz(this,e)}reload(){return az(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ti(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Sm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zs(this.auth.app))return Promise.reject(bo(this.auth));const e=await this.getIdToken();return await Wd(this,rz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:S,emailVerified:A,isAnonymous:D,providerData:O,stsTokenManager:C}=n;Pe(S&&C,e,"internal-error");const T=Zl.fromJSON(this.name,C);Pe(typeof S=="string",e,"internal-error"),ji(d,e.name),ji(p,e.name),Pe(typeof A=="boolean",e,"internal-error"),Pe(typeof D=="boolean",e,"internal-error"),ji(g,e.name),ji(v,e.name),ji(w,e.name),ji(E,e.name),ji(_,e.name),ji(y,e.name);const I=new ti({uid:S,auth:e,email:p,emailVerified:A,displayName:d,isAnonymous:D,photoURL:v,phoneNumber:g,tenantId:w,stsTokenManager:T,createdAt:_,lastLoginAt:y});return O&&Array.isArray(O)&&(I.providerData=O.map(P=>Object.assign({},P))),E&&(I._redirectEventId=E),I}static async _fromIdTokenResponse(e,n,r=!1){const s=new Zl;s.updateFromServerResponse(n);const i=new ti({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Sm(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Pe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?cD(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Zl;a.updateFromIdToken(r);const l=new ti({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new x0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=new Map;function ni(t){_i(t instanceof Function,"Expected a class definition");let e=pC.get(t);return e?(_i(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,pC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}uD.type="NONE";const mC=uD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(t,e,n){return`firebase:${t}:${e}:${n}`}class ec{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Rp(this.userKey,s.apiKey,i),this.fullPersistenceKey=Rp("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ti._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ec(ni(mC),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||ni(mC);const o=Rp(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=ti._fromJSON(e,u);c!==i&&(a=d),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new ec(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new ec(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gD(e))return"Blackberry";if(yD(e))return"Webos";if(hD(e))return"Safari";if((e.includes("chrome/")||fD(e))&&!e.includes("edge/"))return"Chrome";if(mD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function dD(t=$n()){return/firefox\//i.test(t)}function hD(t=$n()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fD(t=$n()){return/crios\//i.test(t)}function pD(t=$n()){return/iemobile/i.test(t)}function mD(t=$n()){return/android/i.test(t)}function gD(t=$n()){return/blackberry/i.test(t)}function yD(t=$n()){return/webos/i.test(t)}function Ux(t=$n()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dz(t=$n()){var e;return Ux(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function hz(){return P5()&&document.documentMode===10}function vD(t=$n()){return Ux(t)||mD(t)||yD(t)||gD(t)||/windows phone/i.test(t)||pD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(t,e=[]){let n;switch(t){case"Browser":n=gC($n());break;case"Worker":n=`${gC($n())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${rl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pz(t,e={}){return Hc(t,"GET","/v2/passwordPolicy",Ag(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz=6;class gz{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:mz,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yC(this),this.idTokenSubscription=new yC(this),this.beforeStateQueue=new fz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ni(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await ec.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await lD(this,{idToken:e}),r=await ti._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Zs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Z3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zs(this.app))return Promise.reject(bo(this));const n=e?sn(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zs(this.app)?Promise.reject(bo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zs(this.app)?Promise.reject(bo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pz(this),n=new gz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new nl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await uz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ni(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await ec.create(this,[ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Y3(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Pg(t){return sn(t)}class yC{constructor(e){this.auth=e,this.observer=null,this.addObserver=L5(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vz(t){Bx=t}function wz(t){return Bx.loadJS(t)}function _z(){return Bx.gapiScript}function xz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ez(t,e){const n=Wo(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(zd(i,e??{}))return s;wi(s,"already-initialized")}return n.initialize({options:e})}function Tz(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ni);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Sz(t,e,n){const r=Pg(t);Pe(r._canInitEmulator,r,"emulator-config-failed"),Pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=_D(e),{host:o,port:a}=bz(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),Cz()}function _D(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function bz(t){const e=_D(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:vC(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:vC(o)}}}function vC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Cz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ei("not implemented")}_getIdTokenResponse(e){return ei("not implemented")}_linkToIdToken(e,n){return ei("not implemented")}_getReauthenticationResolver(e){return ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(t,e){return oD(t,"POST","/v1/accounts:signInWithIdp",Ag(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iz="http://localhost";class $a extends xD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $a(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Mh(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new $a(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return tc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,tc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,tc(e,n)}buildRequest(){const e={requestUri:Iz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=kh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends ED{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Lh{constructor(){super("facebook.com")}static credential(e){return $a._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Lh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $a._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Qi.credential(n,r)}catch{return null}}}Qi.GOOGLE_SIGN_IN_METHOD="google.com";Qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends Lh{constructor(){super("github.com")}static credential(e){return $a._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yi.credential(e.oauthAccessToken)}catch{return null}}}Yi.GITHUB_SIGN_IN_METHOD="github.com";Yi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends Lh{constructor(){super("twitter.com")}static credential(e,n){return $a._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Xi.credential(n,r)}catch{return null}}}Xi.TWITTER_SIGN_IN_METHOD="twitter.com";Xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Az(t,e){return oD(t,"POST","/v1/accounts:signUp",Ag(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ti._fromIdTokenResponse(e,r,s),o=wC(r);return new Ro({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=wC(r);return new Ro({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function wC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pz(t){var e;if(Zs(t.app))return Promise.reject(bo(t));const n=Pg(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Ro({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Az(n,{returnSecureToken:!0}),s=await Ro._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm extends Rr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,bm.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new bm(e,n,r,s)}}function TD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?bm._fromErrorAndOperation(t,i,e,r):i})}async function Rz(t,e,n=!1){const r=await Wd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ro._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nz(t,e,n=!1){const{auth:r}=t;if(Zs(r.app))return Promise.reject(bo(r));const s="reauthenticate";try{const i=await Wd(t,TD(r,s,e,t),n);Pe(i.idToken,r,"internal-error");const o=Fx(i.idToken);Pe(o,r,"internal-error");const{sub:a}=o;return Pe(t.uid===a,r,"user-mismatch"),Ro._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&wi(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dz(t,e,n=!1){if(Zs(t.app))return Promise.reject(bo(t));const r="signIn",s=await TD(t,r,e),i=await Ro._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function kz(t,e,n,r){return sn(t).onIdTokenChanged(e,n,r)}function Mz(t,e,n){return sn(t).beforeAuthStateChanged(e,n)}const Cm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cm,"1"),this.storage.removeItem(Cm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oz=1e3,Lz=10;class bD extends SD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);hz()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Lz):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Oz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bD.type="LOCAL";const jz=bD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD extends SD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}CD.type="SESSION";const ID=CD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Rg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await Vz(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=$x("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const p=d;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(){return window}function Uz(t){Ms().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(){return typeof Ms().WorkerGlobalScope<"u"&&typeof Ms().importScripts=="function"}async function Bz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $z(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function zz(){return AD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD="firebaseLocalStorageDb",Kz=1,Im="firebaseLocalStorage",RD="fbase_key";class jh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ng(t,e){return t.transaction([Im],e?"readwrite":"readonly").objectStore(Im)}function Wz(){const t=indexedDB.deleteDatabase(PD);return new jh(t).toPromise()}function E0(){const t=indexedDB.open(PD,Kz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Im,{keyPath:RD})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Im)?e(r):(r.close(),await Wz(),e(await E0()))})})}async function _C(t,e,n){const r=Ng(t,!0).put({[RD]:e,value:n});return new jh(r).toPromise()}async function Hz(t,e){const n=Ng(t,!1).get(e),r=await new jh(n).toPromise();return r===void 0?null:r.value}function xC(t,e){const n=Ng(t,!0).delete(e);return new jh(n).toPromise()}const qz=800,Gz=3;class ND{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await E0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Gz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rg._getInstance(zz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Bz(),!this.activeServiceWorker)return;this.sender=new Fz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$z()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await E0();return await _C(e,Cm,"1"),await xC(e,Cm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>_C(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Hz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>xC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Ng(s,!1).getAll();return new jh(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ND.type="LOCAL";const Qz=ND;new Oh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yz(t,e){return e?ni(e):(Pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx extends xD{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return tc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return tc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Xz(t){return Dz(t.auth,new zx(t),t.bypassAuthState)}function Jz(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),Nz(n,new zx(t),t.bypassAuthState)}async function Zz(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),Rz(n,new zx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Xz;case"linkViaPopup":case"linkViaRedirect":return Zz;case"reauthViaPopup":case"reauthViaRedirect":return Jz;default:wi(this.auth,"internal-error")}}resolve(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=new Oh(2e3,1e4);class Ul extends DD{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ul.currentPopupAction&&Ul.currentPopupAction.cancel(),Ul.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){_i(this.filter.length===1,"Popup operations only handle one event");const e=$x();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ks(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ks(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ul.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ks(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,e6.get())};e()}}Ul.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6="pendingRedirect",Np=new Map;class n6 extends DD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Np.get(this.auth._key());if(!e){try{const r=await r6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Np.set(this.auth._key(),e)}return this.bypassAuthState||Np.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function r6(t,e){const n=o6(e),r=i6(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function s6(t,e){Np.set(t._key(),e)}function i6(t){return ni(t._redirectPersistence)}function o6(t){return Rp(t6,t.config.apiKey,t.name)}async function a6(t,e,n=!1){if(Zs(t.app))return Promise.reject(bo(t));const r=Pg(t),s=Yz(r,e),o=await new n6(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6=10*60*1e3;class c6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!u6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!kD(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ks(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=l6&&this.cachedEventUids.clear(),this.cachedEventUids.has(EC(e))}saveEventToCache(e){this.cachedEventUids.add(EC(e)),this.lastProcessedEventTime=Date.now()}}function EC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function u6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d6(t,e={}){return Hc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,f6=/^https?/;async function p6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await d6(t);for(const n of e)try{if(m6(n))return}catch{}wi(t,"unauthorized-domain")}function m6(t){const e=_0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!f6.test(n))return!1;if(h6.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=new Oh(3e4,6e4);function TC(){const t=Ms().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function y6(t){return new Promise((e,n)=>{var r,s,i;function o(){TC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TC(),n(ks(t,"network-request-failed"))},timeout:g6.get()})}if(!((s=(r=Ms().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Ms().gapi)===null||i===void 0)&&i.load)o();else{const a=xz("iframefcb");return Ms()[a]=()=>{gapi.load?o():n(ks(t,"network-request-failed"))},wz(`${_z()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Dp=null,e})}let Dp=null;function v6(t){return Dp=Dp||y6(t),Dp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6=new Oh(5e3,15e3),_6="__/auth/iframe",x6="emulator/auth/iframe",E6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},T6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function S6(t){const e=t.config;Pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Vx(e,x6):`https://${t.config.authDomain}/${_6}`,r={apiKey:e.apiKey,appName:t.name,v:rl},s=T6.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${kh(r).slice(1)}`}async function b6(t){const e=await v6(t),n=Ms().gapi;return Pe(n,t,"internal-error"),e.open({where:document.body,url:S6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:E6,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=ks(t,"network-request-failed"),a=Ms().setTimeout(()=>{i(o)},w6.get());function l(){Ms().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},I6=500,A6=600,P6="_blank",R6="http://localhost";class SC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function N6(t,e,n,r=I6,s=A6){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},C6),{width:r.toString(),height:s.toString(),top:i,left:o}),c=$n().toLowerCase();n&&(a=fD(c)?P6:n),dD(c)&&(e=e||R6,l.scrollbars="yes");const u=Object.entries(l).reduce((p,[g,v])=>`${p}${g}=${v},`,"");if(dz(c)&&a!=="_self")return D6(e||"",a),new SC(null);const d=window.open(e||"",a,u);Pe(d,t,"popup-blocked");try{d.focus()}catch{}return new SC(d)}function D6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6="__/auth/handler",M6="emulator/auth/handler",O6=encodeURIComponent("fac");async function bC(t,e,n,r,s,i){Pe(t.config.authDomain,t,"auth-domain-config-required"),Pe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:rl,eventId:s};if(e instanceof ED){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",O5(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof Lh){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${O6}=${encodeURIComponent(l)}`:"";return`${L6(t)}?${kh(a).slice(1)}${c}`}function L6({config:t}){return t.emulator?Vx(t,M6):`https://${t.authDomain}/${k6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="webStorageSupport";class j6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ID,this._completeRedirectFn=a6,this._overrideRedirectResult=s6}async _openPopup(e,n,r,s){var i;_i((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await bC(e,n,r,_0(),s);return N6(e,o,$x())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await bC(e,n,r,_0(),s);return Uz(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(_i(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await b6(e),r=new c6(e);return n.register("authEvent",s=>(Pe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rv,{type:Rv},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Rv];o!==void 0&&n(!!o),wi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=p6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vD()||hD()||Ux()}}const V6=j6;var CC="@firebase/auth",IC="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function B6(t){fs(new Gr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Pe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wD(t)},c=new yz(r,s,i,l);return Tz(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fs(new Gr("auth-internal",e=>{const n=Pg(e.getProvider("auth").getImmediate());return(r=>new F6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hr(CC,IC,U6(t)),hr(CC,IC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=5*60,z6=KN("authIdTokenMaxAge")||$6;let AC=null;const K6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>z6)return;const s=n==null?void 0:n.token;AC!==s&&(AC=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function W6(t=Ig()){const e=Wo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Ez(t,{popupRedirectResolver:V6,persistence:[Qz,jz,ID]}),r=KN("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=K6(i.toString());Mz(n,o,()=>o(n.currentUser)),kz(n,a=>o(a))}}const s=BN("auth");return s&&Sz(n,`http://${s}`),n}function H6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}vz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=ks("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",H6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});B6("Browser");const ke=(t,e=!1)=>{{if(e){console.error(t);return}console.log(t)}};var q6={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"development",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://chatbot-api-0zup.onrender.com",VITE_SUPER_ADMIN_ID:"672ca434f2191d3bb7606f0d",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",VITE_FIREBASE_MEASUREMENT_ID:"G-65F7KP2KRQ",BASE_URL:"/admin",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const PC=t=>{let e;const n=new Set,r=(u,d)=>{const p=typeof u=="function"?u(e):u;if(!Object.is(p,e)){const g=e;e=d??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(v=>v(e,g))}},s=()=>e,l={setState:r,getState:s,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(q6?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,s,l);return l},G6=t=>t?PC(t):PC;var MD={exports:{}},OD={},LD={exports:{}},jD={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pc=m;function Q6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Y6=typeof Object.is=="function"?Object.is:Q6,X6=Pc.useState,J6=Pc.useEffect,Z6=Pc.useLayoutEffect,e9=Pc.useDebugValue;function t9(t,e){var n=e(),r=X6({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return Z6(function(){s.value=n,s.getSnapshot=e,Nv(s)&&i({inst:s})},[t,n,e]),J6(function(){return Nv(s)&&i({inst:s}),t(function(){Nv(s)&&i({inst:s})})},[t]),e9(n),n}function Nv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Y6(t,n)}catch{return!0}}function n9(t,e){return e()}var r9=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?n9:t9;jD.useSyncExternalStore=Pc.useSyncExternalStore!==void 0?Pc.useSyncExternalStore:r9;LD.exports=jD;var s9=LD.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dg=m,i9=s9;function o9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var a9=typeof Object.is=="function"?Object.is:o9,l9=i9.useSyncExternalStore,c9=Dg.useRef,u9=Dg.useEffect,d9=Dg.useMemo,h9=Dg.useDebugValue;OD.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=c9(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=d9(function(){function l(g){if(!c){if(c=!0,u=g,g=r(g),s!==void 0&&o.hasValue){var v=o.value;if(s(v,g))return d=v}return d=g}if(v=d,a9(u,g))return v;var w=r(g);return s!==void 0&&s(v,w)?v:(u=g,d=w)}var c=!1,u,d,p=n===void 0?null:n;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,n,r,s]);var a=l9(t,i[0],i[1]);return u9(function(){o.hasValue=!0,o.value=a},[a]),h9(a),a};MD.exports=OD;var f9=MD.exports;const p9=B_(f9);var VD={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"development",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://chatbot-api-0zup.onrender.com",VITE_SUPER_ADMIN_ID:"672ca434f2191d3bb7606f0d",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",VITE_FIREBASE_MEASUREMENT_ID:"G-65F7KP2KRQ",BASE_URL:"/admin",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:m9}=Ke,{useSyncExternalStoreWithSelector:g9}=p9;let RC=!1;const y9=t=>t;function v9(t,e=y9,n){(VD?"production":void 0)!=="production"&&n&&!RC&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),RC=!0);const r=g9(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return m9(r),r}const NC=t=>{(VD?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?G6(t):t,n=(r,s)=>v9(e,r,s);return Object.assign(n,e),n},Ho=t=>t?NC(t):NC;var w9={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"development",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://chatbot-api-0zup.onrender.com",VITE_SUPER_ADMIN_ID:"672ca434f2191d3bb7606f0d",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",VITE_FIREBASE_MEASUREMENT_ID:"G-65F7KP2KRQ",BASE_URL:"/admin",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function FD(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const o=l=>l===null?null:JSON.parse(l,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const Hd=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Hd(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Hd(r)(n)}}}},_9=(t,e)=>(n,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:E=>E,version:0,merge:(E,_)=>({..._,...E}),...e},o=!1;const a=new Set,l=new Set;let c;try{c=i.getStorage()}catch{}if(!c)return t((...E)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...E)},r,s);const u=Hd(i.serialize),d=()=>{const E=i.partialize({...r()});let _;const y=u({state:E,version:i.version}).then(S=>c.setItem(i.name,S)).catch(S=>{_=S});if(_)throw _;return y},p=s.setState;s.setState=(E,_)=>{p(E,_),d()};const g=t((...E)=>{n(...E),d()},r,s);let v;const w=()=>{var E;if(!c)return;o=!1,a.forEach(y=>y(r()));const _=((E=i.onRehydrateStorage)==null?void 0:E.call(i,r()))||void 0;return Hd(c.getItem.bind(c))(i.name).then(y=>{if(y)return i.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return i.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var S;return v=i.merge(y,(S=r())!=null?S:g),n(v,!0),d()}).then(()=>{_==null||_(v,void 0),o=!0,l.forEach(y=>y(v))}).catch(y=>{_==null||_(void 0,y)})};return s.persist={setOptions:E=>{i={...i,...E},E.getStorage&&(c=E.getStorage())},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:E=>(a.add(E),()=>{a.delete(E)}),onFinishHydration:E=>(l.add(E),()=>{l.delete(E)})},w(),v||g},x9=(t,e)=>(n,r,s)=>{let i={storage:FD(()=>localStorage),partialize:w=>w,version:0,merge:(w,E)=>({...E,...w}),...e},o=!1;const a=new Set,l=new Set;let c=i.storage;if(!c)return t((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...w)},r,s);const u=()=>{const w=i.partialize({...r()});return c.setItem(i.name,{state:w,version:i.version})},d=s.setState;s.setState=(w,E)=>{d(w,E),u()};const p=t((...w)=>{n(...w),u()},r,s);s.getInitialState=()=>p;let g;const v=()=>{var w,E;if(!c)return;o=!1,a.forEach(y=>{var S;return y((S=r())!=null?S:p)});const _=((E=i.onRehydrateStorage)==null?void 0:E.call(i,(w=r())!=null?w:p))||void 0;return Hd(c.getItem.bind(c))(i.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return[!0,i.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var S;const[A,D]=y;if(g=i.merge(D,(S=r())!=null?S:p),n(g,!0),A)return u()}).then(()=>{_==null||_(g,void 0),g=r(),o=!0,l.forEach(y=>y(g))}).catch(y=>{_==null||_(void 0,y)})};return s.persist={setOptions:w=>{i={...i,...w},w.storage&&(c=w.storage)},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:w=>(a.add(w),()=>{a.delete(w)}),onFinishHydration:w=>(l.add(w),()=>{l.delete(w)})},i.skipHydration||v(),g||p},E9=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((w9?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),_9(t,e)):x9(t,e),T9=E9,Pt=Ho()(T9(t=>({admin:null,isAuth:!1,accessToken:null,setAccessToken:e=>t({accessToken:e}),login:(e,n)=>t({isAuth:!0,accessToken:e,admin:n}),logout:()=>t({isAuth:!1,accessToken:null,admin:null})}),{name:"auth-storage",storage:FD(()=>sessionStorage)}));/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kt(){return kt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kt.apply(this,arguments)}var nn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(nn||(nn={}));const DC="popstate";function S9(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return qd("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:za(s)}return C9(e,n,null,t)}function We(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Rc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function b9(){return Math.random().toString(36).substr(2,8)}function kC(t,e){return{usr:t.state,key:t.key,idx:e}}function qd(t,e,n,r){return n===void 0&&(n=null),kt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?qo(e):e,{state:n,key:e&&e.key||r||b9()})}function za(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function qo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function C9(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=nn.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(kt({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=nn.Pop;let E=u(),_=E==null?null:E-c;c=E,l&&l({action:a,location:w.location,delta:_})}function p(E,_){a=nn.Push;let y=qd(w.location,E,_);c=u()+1;let S=kC(y,c),A=w.createHref(y);try{o.pushState(S,"",A)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(A)}i&&l&&l({action:a,location:w.location,delta:1})}function g(E,_){a=nn.Replace;let y=qd(w.location,E,_);c=u();let S=kC(y,c),A=w.createHref(y);o.replaceState(S,"",A),i&&l&&l({action:a,location:w.location,delta:0})}function v(E){let _=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof E=="string"?E:za(E);return y=y.replace(/ $/,"%20"),We(_,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,_)}let w={get action(){return a},get location(){return t(s,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(DC,d),l=E,()=>{s.removeEventListener(DC,d),l=null}},createHref(E){return e(s,E)},createURL:v,encodeLocation(E){let _=v(E);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:g,go(E){return o.go(E)}};return w}var mt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(mt||(mt={}));const I9=new Set(["lazy","caseSensitive","path","id","index","children"]);function A9(t){return t.index===!0}function Gd(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((s,i)=>{let o=[...n,String(i)],a=typeof s.id=="string"?s.id:o.join("-");if(We(s.index!==!0||!s.children,"Cannot specify children on an index route"),We(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),A9(s)){let l=kt({},s,e(s),{id:a});return r[a]=l,l}else{let l=kt({},s,e(s),{id:a,children:void 0});return r[a]=l,s.children&&(l.children=Gd(s.children,e,o,r)),l}})}function ma(t,e,n){return n===void 0&&(n="/"),kp(t,e,n,!1)}function kp(t,e,n,r){let s=typeof e=="string"?qo(e):e,i=qc(s.pathname||"/",n);if(i==null)return null;let o=UD(t);R9(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=B9(i);a=F9(o[l],c,r)}return a}function P9(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],handle:n.handle}}function UD(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(We(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=li([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(We(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),UD(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:j9(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of BD(i.path))s(i,o,l)}),e}function BD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=BD(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function R9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:V9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const N9=/^:[\w-]+$/,D9=3,k9=2,M9=1,O9=10,L9=-2,MC=t=>t==="*";function j9(t,e){let n=t.split("/"),r=n.length;return n.some(MC)&&(r+=L9),e&&(r+=k9),n.filter(s=>!MC(s)).reduce((s,i)=>s+(N9.test(i)?D9:i===""?M9:O9),r)}function V9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function F9(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=OC({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=OC({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:li([i,d.pathname]),pathnameBase:K9(li([i,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(i=li([i,d.pathnameBase]))}return o}function OC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=U9(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:p,isOptional:g}=u;if(p==="*"){let w=a[d]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const v=a[d];return g&&!v?c[p]=void 0:c[p]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function U9(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Rc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function B9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Rc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function qc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function $9(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?qo(t):t;return{pathname:n?n.startsWith("/")?n:z9(n,e):e,search:W9(r),hash:H9(s)}}function z9(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Dv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $D(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function kg(t,e){let n=$D(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Mg(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=qo(t):(s=kt({},t),We(!s.pathname||!s.pathname.includes("?"),Dv("?","pathname","search",s)),We(!s.pathname||!s.pathname.includes("#"),Dv("#","pathname","hash",s)),We(!s.search||!s.search.includes("#"),Dv("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;s.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=$9(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const li=t=>t.join("/").replace(/\/\/+/g,"/"),K9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),W9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,H9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Am{constructor(e,n,r,s){s===void 0&&(s=!1),this.status=e,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Vh(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const zD=["post","put","patch","delete"],q9=new Set(zD),G9=["get",...zD],Q9=new Set(G9),Y9=new Set([301,302,303,307,308]),X9=new Set([307,308]),kv={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},J9={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ru={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Kx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Z9=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),KD="remix-router-transitions";function eK(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;We(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let j=t.detectErrorBoundary;s=F=>({hasErrorBoundary:j(F)})}else s=Z9;let i={},o=Gd(t.routes,s,void 0,i),a,l=t.basename||"/",c=t.unstable_dataStrategy||oK,u=t.unstable_patchRoutesOnNavigation,d=kt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),p=null,g=new Set,v=1e3,w=new Set,E=null,_=null,y=null,S=t.hydrationData!=null,A=ma(o,t.history.location,l),D=null;if(A==null&&!u){let j=Yn(404,{pathname:t.history.location.pathname}),{matches:F,route:K}=KC(o);A=F,D={[K.id]:j}}A&&!t.hydrationData&&Zt(A,o,t.history.location.pathname).active&&(A=null);let O;if(A)if(A.some(j=>j.route.lazy))O=!1;else if(!A.some(j=>j.route.loader))O=!0;else if(d.v7_partialHydration){let j=t.hydrationData?t.hydrationData.loaderData:null,F=t.hydrationData?t.hydrationData.errors:null,K=G=>G.route.loader?typeof G.route.loader=="function"&&G.route.loader.hydrate===!0?!1:j&&j[G.route.id]!==void 0||F&&F[G.route.id]!==void 0:!0;if(F){let G=A.findIndex(ue=>F[ue.route.id]!==void 0);O=A.slice(0,G+1).every(K)}else O=A.every(K)}else O=t.hydrationData!=null;else if(O=!1,A=[],d.v7_partialHydration){let j=Zt(null,o,t.history.location.pathname);j.active&&j.matches&&(A=j.matches)}let C,T={historyAction:t.history.action,location:t.history.location,matches:A,initialized:O,navigation:kv,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||D,fetchers:new Map,blockers:new Map},I=nn.Pop,P=!1,M,k=!1,N=new Map,H=null,ae=!1,te=!1,ne=[],z=new Set,B=new Map,Z=0,pe=-1,Te=new Map,Ae=new Set,Je=new Map,yt=new Map,qe=new Set,ce=new Map,Ve=new Map,st=new Map,Fe;function ze(){if(p=t.history.listen(j=>{let{action:F,location:K,delta:G}=j;if(Fe){Fe(),Fe=void 0;return}Rc(Ve.size===0||G!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ue=fl({currentLocation:T.location,nextLocation:K,historyAction:F});if(ue&&G!=null){let _e=new Promise(Ie=>{Fe=Ie});t.history.go(G*-1),_s(ue,{state:"blocked",location:K,proceed(){_s(ue,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),_e.then(()=>t.history.go(G))},reset(){let Ie=new Map(T.blockers);Ie.set(ue,Ru),it({blockers:Ie})}});return}return L(F,K)}),n){xK(e,N);let j=()=>EK(e,N);e.addEventListener("pagehide",j),H=()=>e.removeEventListener("pagehide",j)}return T.initialized||L(nn.Pop,T.location,{initialHydration:!0}),C}function Qe(){p&&p(),H&&H(),g.clear(),M&&M.abort(),T.fetchers.forEach((j,F)=>ws(F)),T.blockers.forEach((j,F)=>du(F))}function Ft(j){return g.add(j),()=>g.delete(j)}function it(j,F){F===void 0&&(F={}),T=kt({},T,j);let K=[],G=[];d.v7_fetcherPersist&&T.fetchers.forEach((ue,_e)=>{ue.state==="idle"&&(qe.has(_e)?G.push(_e):K.push(_e))}),[...g].forEach(ue=>ue(T,{deletedFetchers:G,unstable_viewTransitionOpts:F.viewTransitionOpts,unstable_flushSync:F.flushSync===!0})),d.v7_fetcherPersist&&(K.forEach(ue=>T.fetchers.delete(ue)),G.forEach(ue=>ws(ue)))}function gn(j,F,K){var G,ue;let{flushSync:_e}=K===void 0?{}:K,Ie=T.actionData!=null&&T.navigation.formMethod!=null&&rs(T.navigation.formMethod)&&T.navigation.state==="loading"&&((G=j.state)==null?void 0:G._isRedirect)!==!0,se;F.actionData?Object.keys(F.actionData).length>0?se=F.actionData:se=null:Ie?se=T.actionData:se=null;let ve=F.loaderData?$C(T.loaderData,F.loaderData,F.matches||[],F.errors):T.loaderData,me=T.blockers;me.size>0&&(me=new Map(me),me.forEach((ot,pt)=>me.set(pt,Ru)));let ye=P===!0||T.navigation.formMethod!=null&&rs(T.navigation.formMethod)&&((ue=j.state)==null?void 0:ue._isRedirect)!==!0;a&&(o=a,a=void 0),ae||I===nn.Pop||(I===nn.Push?t.history.push(j,j.state):I===nn.Replace&&t.history.replace(j,j.state));let Ze;if(I===nn.Pop){let ot=N.get(T.location.pathname);ot&&ot.has(j.pathname)?Ze={currentLocation:T.location,nextLocation:j}:N.has(j.pathname)&&(Ze={currentLocation:j,nextLocation:T.location})}else if(k){let ot=N.get(T.location.pathname);ot?ot.add(j.pathname):(ot=new Set([j.pathname]),N.set(T.location.pathname,ot)),Ze={currentLocation:T.location,nextLocation:j}}it(kt({},F,{actionData:se,loaderData:ve,historyAction:I,location:j,initialized:!0,navigation:kv,revalidation:"idle",restoreScrollPosition:fu(j,F.matches||T.matches),preventScrollReset:ye,blockers:me}),{viewTransitionOpts:Ze,flushSync:_e===!0}),I=nn.Pop,P=!1,k=!1,ae=!1,te=!1,ne=[]}async function Nr(j,F){if(typeof j=="number"){t.history.go(j);return}let K=T0(T.location,T.matches,l,d.v7_prependBasename,j,d.v7_relativeSplatPath,F==null?void 0:F.fromRouteId,F==null?void 0:F.relative),{path:G,submission:ue,error:_e}=LC(d.v7_normalizeFormMethod,!1,K,F),Ie=T.location,se=qd(T.location,G,F&&F.state);se=kt({},se,t.history.encodeLocation(se));let ve=F&&F.replace!=null?F.replace:void 0,me=nn.Push;ve===!0?me=nn.Replace:ve===!1||ue!=null&&rs(ue.formMethod)&&ue.formAction===T.location.pathname+T.location.search&&(me=nn.Replace);let ye=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,Ze=(F&&F.unstable_flushSync)===!0,ot=fl({currentLocation:Ie,nextLocation:se,historyAction:me});if(ot){_s(ot,{state:"blocked",location:se,proceed(){_s(ot,{state:"proceeding",proceed:void 0,reset:void 0,location:se}),Nr(j,F)},reset(){let pt=new Map(T.blockers);pt.set(ot,Ru),it({blockers:pt})}});return}return await L(me,se,{submission:ue,pendingError:_e,preventScrollReset:ye,replace:F&&F.replace,enableViewTransition:F&&F.unstable_viewTransition,flushSync:Ze})}function ys(){if(Ri(),it({revalidation:"loading"}),T.navigation.state!=="submitting"){if(T.navigation.state==="idle"){L(T.historyAction,T.location,{startUninterruptedRevalidation:!0});return}L(I||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation,enableViewTransition:k===!0})}}async function L(j,F,K){M&&M.abort(),M=null,I=j,ae=(K&&K.startUninterruptedRevalidation)===!0,ta(T.location,T.matches),P=(K&&K.preventScrollReset)===!0,k=(K&&K.enableViewTransition)===!0;let G=a||o,ue=K&&K.overrideNavigation,_e=ma(G,F,l),Ie=(K&&K.flushSync)===!0,se=Zt(_e,G,F.pathname);if(se.active&&se.matches&&(_e=se.matches),!_e){let{error:Ye,notFoundMatches:en,route:Tt}=ea(F.pathname);gn(F,{matches:en,loaderData:{},errors:{[Tt.id]:Ye}},{flushSync:Ie});return}if(T.initialized&&!te&&hK(T.location,F)&&!(K&&K.submission&&rs(K.submission.formMethod))){gn(F,{matches:_e},{flushSync:Ie});return}M=new AbortController;let ve=_l(t.history,F,M.signal,K&&K.submission),me;if(K&&K.pendingError)me=[Bl(_e).route.id,{type:mt.error,error:K.pendingError}];else if(K&&K.submission&&rs(K.submission.formMethod)){let Ye=await $(ve,F,K.submission,_e,se.active,{replace:K.replace,flushSync:Ie});if(Ye.shortCircuited)return;if(Ye.pendingActionResult){let[en,Tt]=Ye.pendingActionResult;if(vr(Tt)&&Vh(Tt.error)&&Tt.error.status===404){M=null,gn(F,{matches:Ye.matches,loaderData:{},errors:{[en]:Tt.error}});return}}_e=Ye.matches||_e,me=Ye.pendingActionResult,ue=Mv(F,K.submission),Ie=!1,se.active=!1,ve=_l(t.history,ve.url,ve.signal)}let{shortCircuited:ye,matches:Ze,loaderData:ot,errors:pt}=await q(ve,F,_e,se.active,ue,K&&K.submission,K&&K.fetcherSubmission,K&&K.replace,K&&K.initialHydration===!0,Ie,me);ye||(M=null,gn(F,kt({matches:Ze||_e},zC(me),{loaderData:ot,errors:pt})))}async function $(j,F,K,G,ue,_e){_e===void 0&&(_e={}),Ri();let Ie=wK(F,K);if(it({navigation:Ie},{flushSync:_e.flushSync===!0}),ue){let me=await na(G,F.pathname,j.signal);if(me.type==="aborted")return{shortCircuited:!0};if(me.type==="error"){let{boundaryId:ye,error:Ze}=Dr(F.pathname,me);return{matches:me.partialMatches,pendingActionResult:[ye,{type:mt.error,error:Ze}]}}else if(me.matches)G=me.matches;else{let{notFoundMatches:ye,error:Ze,route:ot}=ea(F.pathname);return{matches:ye,pendingActionResult:[ot.id,{type:mt.error,error:Ze}]}}}let se,ve=Wu(G,F);if(!ve.route.action&&!ve.route.lazy)se={type:mt.error,error:Yn(405,{method:j.method,pathname:F.pathname,routeId:ve.route.id})};else if(se=(await Be("action",T,j,[ve],G,null))[ve.route.id],j.signal.aborted)return{shortCircuited:!0};if(wa(se)){let me;return _e&&_e.replace!=null?me=_e.replace:me=FC(se.response.headers.get("Location"),new URL(j.url),l)===T.location.pathname+T.location.search,await je(j,se,!0,{submission:K,replace:me}),{shortCircuited:!0}}if(uo(se))throw Yn(400,{type:"defer-action"});if(vr(se)){let me=Bl(G,ve.route.id);return(_e&&_e.replace)!==!0&&(I=nn.Push),{matches:G,pendingActionResult:[me.route.id,se]}}return{matches:G,pendingActionResult:[ve.route.id,se]}}async function q(j,F,K,G,ue,_e,Ie,se,ve,me,ye){let Ze=ue||Mv(F,_e),ot=_e||Ie||HC(Ze),pt=!ae&&(!d.v7_partialHydration||!ve);if(G){if(pt){let xt=le(ye);it(kt({navigation:Ze},xt!==void 0?{actionData:xt}:{}),{flushSync:me})}let Ne=await na(K,F.pathname,j.signal);if(Ne.type==="aborted")return{shortCircuited:!0};if(Ne.type==="error"){let{boundaryId:xt,error:In}=Dr(F.pathname,Ne);return{matches:Ne.partialMatches,loaderData:{},errors:{[xt]:In}}}else if(Ne.matches)K=Ne.matches;else{let{error:xt,notFoundMatches:In,route:St}=ea(F.pathname);return{matches:In,loaderData:{},errors:{[St.id]:xt}}}}let Ye=a||o,[en,Tt]=jC(t.history,T,K,ot,F,d.v7_partialHydration&&ve===!0,d.v7_skipActionErrorRevalidation,te,ne,z,qe,Je,Ae,Ye,l,ye);if(pl(Ne=>!(K&&K.some(xt=>xt.route.id===Ne))||en&&en.some(xt=>xt.route.id===Ne)),pe=++Z,en.length===0&&Tt.length===0){let Ne=mf();return gn(F,kt({matches:K,loaderData:{},errors:ye&&vr(ye[1])?{[ye[0]]:ye[1].error}:null},zC(ye),Ne?{fetchers:new Map(T.fetchers)}:{}),{flushSync:me}),{shortCircuited:!0}}if(pt){let Ne={};if(!G){Ne.navigation=Ze;let xt=le(ye);xt!==void 0&&(Ne.actionData=xt)}Tt.length>0&&(Ne.fetchers=re(Tt)),it(Ne,{flushSync:me})}Tt.forEach(Ne=>{B.has(Ne.key)&&Hn(Ne.key),Ne.controller&&B.set(Ne.key,Ne.controller)});let Di=()=>Tt.forEach(Ne=>Hn(Ne.key));M&&M.signal.addEventListener("abort",Di);let{loaderResults:pr,fetcherResults:kr}=await zn(T,K,en,Tt,j);if(j.signal.aborted)return{shortCircuited:!0};M&&M.signal.removeEventListener("abort",Di),Tt.forEach(Ne=>B.delete(Ne.key));let Cn=Gf(pr);if(Cn)return await je(j,Cn.result,!0,{replace:se}),{shortCircuited:!0};if(Cn=Gf(kr),Cn)return Ae.add(Cn.key),await je(j,Cn.result,!0,{replace:se}),{shortCircuited:!0};let{loaderData:ki,errors:Qr}=BC(T,K,en,pr,ye,Tt,kr,ce);ce.forEach((Ne,xt)=>{Ne.subscribe(In=>{(In||Ne.done)&&ce.delete(xt)})}),d.v7_partialHydration&&ve&&T.errors&&Object.entries(T.errors).filter(Ne=>{let[xt]=Ne;return!en.some(In=>In.route.id===xt)}).forEach(Ne=>{let[xt,In]=Ne;Qr=Object.assign(Qr||{},{[xt]:In})});let sa=mf(),ia=hl(pe),oa=sa||ia||Tt.length>0;return kt({matches:K,loaderData:ki,errors:Qr},oa?{fetchers:new Map(T.fetchers)}:{})}function le(j){if(j&&!vr(j[1]))return{[j[0]]:j[1].data};if(T.actionData)return Object.keys(T.actionData).length===0?null:T.actionData}function re(j){return j.forEach(F=>{let K=T.fetchers.get(F.key),G=Nu(void 0,K?K.data:void 0);T.fetchers.set(F.key,G)}),new Map(T.fetchers)}function J(j,F,K,G){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");B.has(j)&&Hn(j);let ue=(G&&G.unstable_flushSync)===!0,_e=a||o,Ie=T0(T.location,T.matches,l,d.v7_prependBasename,K,d.v7_relativeSplatPath,F,G==null?void 0:G.relative),se=ma(_e,Ie,l),ve=Zt(se,_e,Ie);if(ve.active&&ve.matches&&(se=ve.matches),!se){Wn(j,F,Yn(404,{pathname:Ie}),{flushSync:ue});return}let{path:me,submission:ye,error:Ze}=LC(d.v7_normalizeFormMethod,!0,Ie,G);if(Ze){Wn(j,F,Ze,{flushSync:ue});return}let ot=Wu(se,me);if(P=(G&&G.preventScrollReset)===!0,ye&&rs(ye.formMethod)){Ee(j,F,me,ot,se,ve.active,ue,ye);return}Je.set(j,{routeId:F,path:me}),Le(j,F,me,ot,se,ve.active,ue,ye)}async function Ee(j,F,K,G,ue,_e,Ie,se){Ri(),Je.delete(j);function ve(St){if(!St.route.action&&!St.route.lazy){let Yr=Yn(405,{method:se.formMethod,pathname:K,routeId:F});return Wn(j,F,Yr,{flushSync:Ie}),!0}return!1}if(!_e&&ve(G))return;let me=T.fetchers.get(j);Kn(j,_K(se,me),{flushSync:Ie});let ye=new AbortController,Ze=_l(t.history,K,ye.signal,se);if(_e){let St=await na(ue,K,Ze.signal);if(St.type==="aborted")return;if(St.type==="error"){let{error:Yr}=Dr(K,St);Wn(j,F,Yr,{flushSync:Ie});return}else if(St.matches){if(ue=St.matches,G=Wu(ue,K),ve(G))return}else{Wn(j,F,Yn(404,{pathname:K}),{flushSync:Ie});return}}B.set(j,ye);let ot=Z,Ye=(await Be("action",T,Ze,[G],ue,j))[G.route.id];if(Ze.signal.aborted){B.get(j)===ye&&B.delete(j);return}if(d.v7_fetcherPersist&&qe.has(j)){if(wa(Ye)||vr(Ye)){Kn(j,Ui(void 0));return}}else{if(wa(Ye))if(B.delete(j),pe>ot){Kn(j,Ui(void 0));return}else return Ae.add(j),Kn(j,Nu(se)),je(Ze,Ye,!1,{fetcherSubmission:se});if(vr(Ye)){Wn(j,F,Ye.error);return}}if(uo(Ye))throw Yn(400,{type:"defer-action"});let en=T.navigation.location||T.location,Tt=_l(t.history,en,ye.signal),Di=a||o,pr=T.navigation.state!=="idle"?ma(Di,T.navigation.location,l):T.matches;We(pr,"Didn't find any matches after fetcher action");let kr=++Z;Te.set(j,kr);let Cn=Nu(se,Ye.data);T.fetchers.set(j,Cn);let[ki,Qr]=jC(t.history,T,pr,se,en,!1,d.v7_skipActionErrorRevalidation,te,ne,z,qe,Je,Ae,Di,l,[G.route.id,Ye]);Qr.filter(St=>St.key!==j).forEach(St=>{let Yr=St.key,yf=T.fetchers.get(Yr),vf=Nu(void 0,yf?yf.data:void 0);T.fetchers.set(Yr,vf),B.has(Yr)&&Hn(Yr),St.controller&&B.set(Yr,St.controller)}),it({fetchers:new Map(T.fetchers)});let sa=()=>Qr.forEach(St=>Hn(St.key));ye.signal.addEventListener("abort",sa);let{loaderResults:ia,fetcherResults:oa}=await zn(T,pr,ki,Qr,Tt);if(ye.signal.aborted)return;ye.signal.removeEventListener("abort",sa),Te.delete(j),B.delete(j),Qr.forEach(St=>B.delete(St.key));let Ne=Gf(ia);if(Ne)return je(Tt,Ne.result,!1);if(Ne=Gf(oa),Ne)return Ae.add(Ne.key),je(Tt,Ne.result,!1);let{loaderData:xt,errors:In}=BC(T,pr,ki,ia,void 0,Qr,oa,ce);if(T.fetchers.has(j)){let St=Ui(Ye.data);T.fetchers.set(j,St)}hl(kr),T.navigation.state==="loading"&&kr>pe?(We(I,"Expected pending action"),M&&M.abort(),gn(T.navigation.location,{matches:pr,loaderData:xt,errors:In,fetchers:new Map(T.fetchers)})):(it({errors:In,loaderData:$C(T.loaderData,xt,pr,In),fetchers:new Map(T.fetchers)}),te=!1)}async function Le(j,F,K,G,ue,_e,Ie,se){let ve=T.fetchers.get(j);Kn(j,Nu(se,ve?ve.data:void 0),{flushSync:Ie});let me=new AbortController,ye=_l(t.history,K,me.signal);if(_e){let Ye=await na(ue,K,ye.signal);if(Ye.type==="aborted")return;if(Ye.type==="error"){let{error:en}=Dr(K,Ye);Wn(j,F,en,{flushSync:Ie});return}else if(Ye.matches)ue=Ye.matches,G=Wu(ue,K);else{Wn(j,F,Yn(404,{pathname:K}),{flushSync:Ie});return}}B.set(j,me);let Ze=Z,pt=(await Be("loader",T,ye,[G],ue,j))[G.route.id];if(uo(pt)&&(pt=await Wx(pt,ye.signal,!0)||pt),B.get(j)===me&&B.delete(j),!ye.signal.aborted){if(qe.has(j)){Kn(j,Ui(void 0));return}if(wa(pt))if(pe>Ze){Kn(j,Ui(void 0));return}else{Ae.add(j),await je(ye,pt,!1);return}if(vr(pt)){Wn(j,F,pt.error);return}We(!uo(pt),"Unhandled fetcher deferred data"),Kn(j,Ui(pt.data))}}async function je(j,F,K,G){let{submission:ue,fetcherSubmission:_e,replace:Ie}=G===void 0?{}:G;F.response.headers.has("X-Remix-Revalidate")&&(te=!0);let se=F.response.headers.get("Location");We(se,"Expected a Location header on the redirect Response"),se=FC(se,new URL(j.url),l);let ve=qd(T.location,se,{_isRedirect:!0});if(n){let Ye=!1;if(F.response.headers.has("X-Remix-Reload-Document"))Ye=!0;else if(Kx.test(se)){const en=t.history.createURL(se);Ye=en.origin!==e.location.origin||qc(en.pathname,l)==null}if(Ye){Ie?e.location.replace(se):e.location.assign(se);return}}M=null;let me=Ie===!0||F.response.headers.has("X-Remix-Replace")?nn.Replace:nn.Push,{formMethod:ye,formAction:Ze,formEncType:ot}=T.navigation;!ue&&!_e&&ye&&Ze&&ot&&(ue=HC(T.navigation));let pt=ue||_e;if(X9.has(F.response.status)&&pt&&rs(pt.formMethod))await L(me,ve,{submission:kt({},pt,{formAction:se}),preventScrollReset:P,enableViewTransition:K?k:void 0});else{let Ye=Mv(ve,ue);await L(me,ve,{overrideNavigation:Ye,fetcherSubmission:_e,preventScrollReset:P,enableViewTransition:K?k:void 0})}}async function Be(j,F,K,G,ue,_e){let Ie,se={};try{Ie=await aK(c,j,F,K,G,ue,_e,i,s)}catch(ve){return G.forEach(me=>{se[me.route.id]={type:mt.error,error:ve}}),se}for(let[ve,me]of Object.entries(Ie))if(pK(me)){let ye=me.result;se[ve]={type:mt.redirect,response:uK(ye,K,ve,ue,l,d.v7_relativeSplatPath)}}else se[ve]=await cK(me);return se}async function zn(j,F,K,G,ue){let _e=j.matches,Ie=Be("loader",j,ue,K,F,null),se=Promise.all(G.map(async ye=>{if(ye.matches&&ye.match&&ye.controller){let ot=(await Be("loader",j,_l(t.history,ye.path,ye.controller.signal),[ye.match],ye.matches,ye.key))[ye.match.route.id];return{[ye.key]:ot}}else return Promise.resolve({[ye.key]:{type:mt.error,error:Yn(404,{pathname:ye.path})}})})),ve=await Ie,me=(await se).reduce((ye,Ze)=>Object.assign(ye,Ze),{});return await Promise.all([yK(F,ve,ue.signal,_e,j.loaderData),vK(F,me,G)]),{loaderResults:ve,fetcherResults:me}}function Ri(){te=!0,ne.push(...pl()),Je.forEach((j,F)=>{B.has(F)&&(z.add(F),Hn(F))})}function Kn(j,F,K){K===void 0&&(K={}),T.fetchers.set(j,F),it({fetchers:new Map(T.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function Wn(j,F,K,G){G===void 0&&(G={});let ue=Bl(T.matches,F);ws(j),it({errors:{[ue.route.id]:K},fetchers:new Map(T.fetchers)},{flushSync:(G&&G.flushSync)===!0})}function vs(j){return d.v7_fetcherPersist&&(yt.set(j,(yt.get(j)||0)+1),qe.has(j)&&qe.delete(j)),T.fetchers.get(j)||J9}function ws(j){let F=T.fetchers.get(j);B.has(j)&&!(F&&F.state==="loading"&&Te.has(j))&&Hn(j),Je.delete(j),Te.delete(j),Ae.delete(j),qe.delete(j),z.delete(j),T.fetchers.delete(j)}function dl(j){if(d.v7_fetcherPersist){let F=(yt.get(j)||0)-1;F<=0?(yt.delete(j),qe.add(j)):yt.set(j,F)}else ws(j);it({fetchers:new Map(T.fetchers)})}function Hn(j){let F=B.get(j);We(F,"Expected fetch controller: "+j),F.abort(),B.delete(j)}function pf(j){for(let F of j){let K=vs(F),G=Ui(K.data);T.fetchers.set(F,G)}}function mf(){let j=[],F=!1;for(let K of Ae){let G=T.fetchers.get(K);We(G,"Expected fetcher: "+K),G.state==="loading"&&(Ae.delete(K),j.push(K),F=!0)}return pf(j),F}function hl(j){let F=[];for(let[K,G]of Te)if(G<j){let ue=T.fetchers.get(K);We(ue,"Expected fetcher: "+K),ue.state==="loading"&&(Hn(K),Te.delete(K),F.push(K))}return pf(F),F.length>0}function gf(j,F){let K=T.blockers.get(j)||Ru;return Ve.get(j)!==F&&Ve.set(j,F),K}function du(j){T.blockers.delete(j),Ve.delete(j)}function _s(j,F){let K=T.blockers.get(j)||Ru;We(K.state==="unblocked"&&F.state==="blocked"||K.state==="blocked"&&F.state==="blocked"||K.state==="blocked"&&F.state==="proceeding"||K.state==="blocked"&&F.state==="unblocked"||K.state==="proceeding"&&F.state==="unblocked","Invalid blocker state transition: "+K.state+" -> "+F.state);let G=new Map(T.blockers);G.set(j,F),it({blockers:G})}function fl(j){let{currentLocation:F,nextLocation:K,historyAction:G}=j;if(Ve.size===0)return;Ve.size>1&&Rc(!1,"A router only supports one blocker at a time");let ue=Array.from(Ve.entries()),[_e,Ie]=ue[ue.length-1],se=T.blockers.get(_e);if(!(se&&se.state==="proceeding")&&Ie({currentLocation:F,nextLocation:K,historyAction:G}))return _e}function ea(j){let F=Yn(404,{pathname:j}),K=a||o,{matches:G,route:ue}=KC(K);return pl(),{notFoundMatches:G,route:ue,error:F}}function Dr(j,F){return{boundaryId:Bl(F.partialMatches).route.id,error:Yn(400,{type:"route-discovery",pathname:j,message:F.error!=null&&"message"in F.error?F.error:String(F.error)})}}function pl(j){let F=[];return ce.forEach((K,G)=>{(!j||j(G))&&(K.cancel(),F.push(G),ce.delete(G))}),F}function ml(j,F,K){if(E=j,y=F,_=K||null,!S&&T.navigation===kv){S=!0;let G=fu(T.location,T.matches);G!=null&&it({restoreScrollPosition:G})}return()=>{E=null,y=null,_=null}}function hu(j,F){return _&&_(j,F.map(G=>P9(G,T.loaderData)))||j.key}function ta(j,F){if(E&&y){let K=hu(j,F);E[K]=y()}}function fu(j,F){if(E){let K=hu(j,F),G=E[K];if(typeof G=="number")return G}return null}function Zt(j,F,K){if(u){if(w.has(K))return{active:!1,matches:j};if(j){if(Object.keys(j[0].params).length>0)return{active:!0,matches:kp(F,K,l,!0)}}else return{active:!0,matches:kp(F,K,l,!0)||[]}}return{active:!1,matches:null}}async function na(j,F,K){let G=j;for(;;){let ue=a==null,_e=a||o;try{await sK(u,F,G,_e,i,s,st,K)}catch(ve){return{type:"error",error:ve,partialMatches:G}}finally{ue&&(o=[...o])}if(K.aborted)return{type:"aborted"};let Ie=ma(_e,F,l);if(Ie)return Ni(F,w),{type:"success",matches:Ie};let se=kp(_e,F,l,!0);if(!se||G.length===se.length&&G.every((ve,me)=>ve.route.id===se[me].route.id))return Ni(F,w),{type:"success",matches:null};G=se}}function Ni(j,F){if(F.size>=v){let K=F.values().next().value;F.delete(K)}F.add(j)}function ra(j){i={},a=Gd(j,s,void 0,i)}function Wy(j,F){let K=a==null;HD(j,F,a||o,i,s),K&&(o=[...o],it({}))}return C={get basename(){return l},get future(){return d},get state(){return T},get routes(){return o},get window(){return e},initialize:ze,subscribe:Ft,enableScrollRestoration:ml,navigate:Nr,fetch:J,revalidate:ys,createHref:j=>t.history.createHref(j),encodeLocation:j=>t.history.encodeLocation(j),getFetcher:vs,deleteFetcher:dl,dispose:Qe,getBlocker:gf,deleteBlocker:du,patchRoutes:Wy,_internalFetchControllers:B,_internalActiveDeferreds:ce,_internalSetRoutes:ra},C}function tK(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function T0(t,e,n,r,s,i,o,a){let l,c;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){c=d;break}}else l=e,c=e[e.length-1];let u=Mg(s||".",kg(l,i),qc(t.pathname,n)||t.pathname,a==="path");return s==null&&(u.search=t.search,u.hash=t.hash),(s==null||s===""||s===".")&&c&&c.route.index&&!Hx(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:li([n,u.pathname])),za(u)}function LC(t,e,n,r){if(!r||!tK(r))return{path:n};if(r.formMethod&&!gK(r.formMethod))return{path:n,error:Yn(405,{method:r.formMethod})};let s=()=>({path:n,error:Yn(400,{type:"invalid-body"})}),i=r.formMethod||"get",o=t?i.toUpperCase():i.toLowerCase(),a=qD(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!rs(o))return s();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((g,v)=>{let[w,E]=v;return""+g+w+"="+E+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!rs(o))return s();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return s()}}}We(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=S0(r.formData),c=r.formData;else if(r.body instanceof FormData)l=S0(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=UC(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=UC(l)}catch{return s()}let u={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(rs(u.formMethod))return{path:n,submission:u};let d=qo(n);return e&&d.search&&Hx(d.search)&&l.append("index",""),d.search="?"+l,{path:za(d),submission:u}}function nK(t,e){let n=t;if(e){let r=t.findIndex(s=>s.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function jC(t,e,n,r,s,i,o,a,l,c,u,d,p,g,v,w){let E=w?vr(w[1])?w[1].error:w[1].data:void 0,_=t.createURL(e.location),y=t.createURL(s),S=w&&vr(w[1])?w[0]:void 0,A=S?nK(n,S):n,D=w?w[1].statusCode:void 0,O=o&&D&&D>=400,C=A.filter((I,P)=>{let{route:M}=I;if(M.lazy)return!0;if(M.loader==null)return!1;if(i)return typeof M.loader!="function"||M.loader.hydrate?!0:e.loaderData[M.id]===void 0&&(!e.errors||e.errors[M.id]===void 0);if(rK(e.loaderData,e.matches[P],I)||l.some(H=>H===I.route.id))return!0;let k=e.matches[P],N=I;return VC(I,kt({currentUrl:_,currentParams:k.params,nextUrl:y,nextParams:N.params},r,{actionResult:E,actionStatus:D,defaultShouldRevalidate:O?!1:a||_.pathname+_.search===y.pathname+y.search||_.search!==y.search||WD(k,N)}))}),T=[];return d.forEach((I,P)=>{if(i||!n.some(ae=>ae.route.id===I.routeId)||u.has(P))return;let M=ma(g,I.path,v);if(!M){T.push({key:P,routeId:I.routeId,path:I.path,matches:null,match:null,controller:null});return}let k=e.fetchers.get(P),N=Wu(M,I.path),H=!1;p.has(P)?H=!1:c.has(P)?(c.delete(P),H=!0):k&&k.state!=="idle"&&k.data===void 0?H=a:H=VC(N,kt({currentUrl:_,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:E,actionStatus:D,defaultShouldRevalidate:O?!1:a})),H&&T.push({key:P,routeId:I.routeId,path:I.path,matches:M,match:N,controller:new AbortController})}),[C,T]}function rK(t,e,n){let r=!e||n.route.id!==e.route.id,s=t[n.route.id]===void 0;return r||s}function WD(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function VC(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function sK(t,e,n,r,s,i,o,a){let l=[e,...n.map(c=>c.route.id)].join("-");try{let c=o.get(l);c||(c=t({path:e,matches:n,patch:(u,d)=>{a.aborted||HD(u,d,r,s,i)}}),o.set(l,c)),c&&fK(c)&&await c}finally{o.delete(l)}}function HD(t,e,n,r,s){if(t){var i;let o=r[t];We(o,"No route found to patch children into: routeId = "+t);let a=Gd(e,s,[t,"patch",String(((i=o.children)==null?void 0:i.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=Gd(e,s,["patch",String(n.length||"0")],r);n.push(...o)}}async function iK(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let s=n[t.id];We(s,"No route found in manifest");let i={};for(let o in r){let l=s[o]!==void 0&&o!=="hasErrorBoundary";Rc(!l,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!I9.has(o)&&(i[o]=r[o])}Object.assign(s,i),Object.assign(s,kt({},e(s),{lazy:void 0}))}async function oK(t){let{matches:e}=t,n=e.filter(s=>s.shouldLoad);return(await Promise.all(n.map(s=>s.resolve()))).reduce((s,i,o)=>Object.assign(s,{[n[o].route.id]:i}),{})}async function aK(t,e,n,r,s,i,o,a,l,c){let u=i.map(g=>g.route.lazy?iK(g.route,l,a):void 0),d=i.map((g,v)=>{let w=u[v],E=s.some(y=>y.route.id===g.route.id);return kt({},g,{shouldLoad:E,resolve:async y=>(y&&r.method==="GET"&&(g.route.lazy||g.route.loader)&&(E=!0),E?lK(e,r,g,w,y,c):Promise.resolve({type:mt.data,result:void 0}))})}),p=await t({matches:d,request:r,params:i[0].params,fetcherKey:o,context:c});try{await Promise.all(u)}catch{}return p}async function lK(t,e,n,r,s,i){let o,a,l=c=>{let u,d=new Promise((v,w)=>u=w);a=()=>u(),e.signal.addEventListener("abort",a);let p=v=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:i},...v!==void 0?[v]:[]),g=(async()=>{try{return{type:"data",result:await(s?s(w=>p(w)):p())}}catch(v){return{type:"error",result:v}}})();return Promise.race([g,d])};try{let c=n.route[t];if(r)if(c){let u,[d]=await Promise.all([l(c).catch(p=>{u=p}),r]);if(u!==void 0)throw u;o=d}else if(await r,c=n.route[t],c)o=await l(c);else if(t==="action"){let u=new URL(e.url),d=u.pathname+u.search;throw Yn(405,{method:e.method,pathname:d,routeId:n.route.id})}else return{type:mt.data,result:void 0};else if(c)o=await l(c);else{let u=new URL(e.url),d=u.pathname+u.search;throw Yn(404,{pathname:d})}We(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:mt.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function cK(t){let{result:e,type:n}=t;if(GD(e)){let c;try{let u=e.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(u){return{type:mt.error,error:u}}return n===mt.error?{type:mt.error,error:new Am(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:mt.data,data:c,statusCode:e.status,headers:e.headers}}if(n===mt.error){if(WC(e)){var r;if(e.data instanceof Error){var s;return{type:mt.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status}}e=new Am(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:mt.error,error:e,statusCode:Vh(e)?e.status:void 0}}if(mK(e)){var i,o;return{type:mt.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(WC(e)){var a,l;return{type:mt.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:mt.data,data:e}}function uK(t,e,n,r,s,i){let o=t.headers.get("Location");if(We(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Kx.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=T0(new URL(e.url),a,s,!0,o,i),t.headers.set("Location",o)}return t}function FC(t,e,n){if(Kx.test(t)){let r=t,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),i=qc(s.pathname,n)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return t}function _l(t,e,n,r){let s=t.createURL(qD(e)).toString(),i={signal:n};if(r&&rs(r.formMethod)){let{formMethod:o,formEncType:a}=r;i.method=o.toUpperCase(),a==="application/json"?(i.headers=new Headers({"Content-Type":a}),i.body=JSON.stringify(r.json)):a==="text/plain"?i.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?i.body=S0(r.formData):i.body=r.formData}return new Request(s,i)}function S0(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function UC(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function dK(t,e,n,r,s){let i={},o=null,a,l=!1,c={},u=n&&vr(n[1])?n[1].error:void 0;return t.forEach(d=>{if(!(d.route.id in e))return;let p=d.route.id,g=e[p];if(We(!wa(g),"Cannot handle redirect results in processLoaderData"),vr(g)){let v=g.error;u!==void 0&&(v=u,u=void 0),o=o||{};{let w=Bl(t,p);o[w.route.id]==null&&(o[w.route.id]=v)}i[p]=void 0,l||(l=!0,a=Vh(g.error)?g.error.status:500),g.headers&&(c[p]=g.headers)}else uo(g)?(r.set(p,g.deferredData),i[p]=g.deferredData.data,g.statusCode!=null&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(c[p]=g.headers)):(i[p]=g.data,g.statusCode&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(c[p]=g.headers))}),u!==void 0&&n&&(o={[n[0]]:u},i[n[0]]=void 0),{loaderData:i,errors:o,statusCode:a||200,loaderHeaders:c}}function BC(t,e,n,r,s,i,o,a){let{loaderData:l,errors:c}=dK(e,r,s,a);return i.forEach(u=>{let{key:d,match:p,controller:g}=u,v=o[d];if(We(v,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(vr(v)){let w=Bl(t.matches,p==null?void 0:p.route.id);c&&c[w.route.id]||(c=kt({},c,{[w.route.id]:v.error})),t.fetchers.delete(d)}else if(wa(v))We(!1,"Unhandled fetcher revalidation redirect");else if(uo(v))We(!1,"Unhandled fetcher deferred data");else{let w=Ui(v.data);t.fetchers.set(d,w)}}),{loaderData:l,errors:c}}function $C(t,e,n,r){let s=kt({},e);for(let i of n){let o=i.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(s[o]=e[o]):t[o]!==void 0&&i.route.loader&&(s[o]=t[o]),r&&r.hasOwnProperty(o))break}return s}function zC(t){return t?vr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Bl(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function KC(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Yn(t,e){let{pathname:n,routeId:r,method:s,type:i,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):s&&n&&r?l="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",s&&n&&r?l="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(l='Invalid request method "'+s.toUpperCase()+'"')),new Am(t||500,a,new Error(l),!0)}function Gf(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,s]=e[n];if(wa(s))return{key:r,result:s}}}function qD(t){let e=typeof t=="string"?qo(t):t;return za(kt({},e,{hash:""}))}function hK(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function fK(t){return typeof t=="object"&&t!=null&&"then"in t}function pK(t){return GD(t.result)&&Y9.has(t.result.status)}function uo(t){return t.type===mt.deferred}function vr(t){return t.type===mt.error}function wa(t){return(t&&t.type)===mt.redirect}function WC(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function mK(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function GD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function gK(t){return Q9.has(t.toLowerCase())}function rs(t){return q9.has(t.toLowerCase())}async function yK(t,e,n,r,s){let i=Object.entries(e);for(let o=0;o<i.length;o++){let[a,l]=i[o],c=t.find(p=>(p==null?void 0:p.route.id)===a);if(!c)continue;let u=r.find(p=>p.route.id===c.route.id),d=u!=null&&!WD(u,c)&&(s&&s[c.route.id])!==void 0;uo(l)&&d&&await Wx(l,n,!1).then(p=>{p&&(e[a]=p)})}}async function vK(t,e,n){for(let r=0;r<n.length;r++){let{key:s,routeId:i,controller:o}=n[r],a=e[s];t.find(c=>(c==null?void 0:c.route.id)===i)&&uo(a)&&(We(o,"Expected an AbortController for revalidating fetcher deferred result"),await Wx(a,o.signal,!0).then(c=>{c&&(e[s]=c)}))}}async function Wx(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:mt.data,data:t.deferredData.unwrappedData}}catch(s){return{type:mt.error,error:s}}return{type:mt.data,data:t.deferredData.data}}}function Hx(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Wu(t,e){let n=typeof e=="string"?qo(e).search:e.search;if(t[t.length-1].route.index&&Hx(n||""))return t[t.length-1];let r=$D(t);return r[r.length-1]}function HC(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:i,json:o}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Mv(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function wK(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Nu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function _K(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Ui(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function xK(t,e){try{let n=t.sessionStorage.getItem(KD);if(n){let r=JSON.parse(n);for(let[s,i]of Object.entries(r||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function EK(t,e){if(e.size>0){let n={};for(let[r,s]of e)n[r]=[...s];try{t.sessionStorage.setItem(KD,JSON.stringify(n))}catch(r){Rc(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pm(){return Pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pm.apply(this,arguments)}const Og=m.createContext(null),QD=m.createContext(null),Go=m.createContext(null),qx=m.createContext(null),Qo=m.createContext({outlet:null,matches:[],isDataRoute:!1}),YD=m.createContext(null);function TK(t,e){let{relative:n}=e===void 0?{}:e;Gc()||We(!1);let{basename:r,navigator:s}=m.useContext(Go),{hash:i,pathname:o,search:a}=JD(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:li([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Gc(){return m.useContext(qx)!=null}function Qc(){return Gc()||We(!1),m.useContext(qx).location}function XD(t){m.useContext(Go).static||m.useLayoutEffect(t)}function Fh(){let{isDataRoute:t}=m.useContext(Qo);return t?MK():SK()}function SK(){Gc()||We(!1);let t=m.useContext(Og),{basename:e,future:n,navigator:r}=m.useContext(Go),{matches:s}=m.useContext(Qo),{pathname:i}=Qc(),o=JSON.stringify(kg(s,n.v7_relativeSplatPath)),a=m.useRef(!1);return XD(()=>{a.current=!0}),m.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Mg(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:li([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,i,t])}function JD(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext(Go),{matches:s}=m.useContext(Qo),{pathname:i}=Qc(),o=JSON.stringify(kg(s,r.v7_relativeSplatPath));return m.useMemo(()=>Mg(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function bK(t,e,n,r){Gc()||We(!1);let{navigator:s}=m.useContext(Go),{matches:i}=m.useContext(Qo),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Qc(),u;u=c;let d=u.pathname||"/",p=d;if(l!=="/"){let w=l.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=ma(t,{pathname:p});return RK(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:li([l,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:li([l,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r)}function CK(){let t=tk(),e=Vh(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:s},n):null,null)}const IK=m.createElement(CK,null);class AK extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(Qo.Provider,{value:this.props.routeContext},m.createElement(YD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PK(t){let{routeContext:e,match:n,children:r}=t,s=m.useContext(Og);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Qo.Provider,{value:e},r)}function RK(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||We(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:p,errors:g}=n,v=d.route.loader&&p[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,p)=>{let g,v=!1,w=null,E=null;n&&(g=a&&d.route.id?a[d.route.id]:void 0,w=d.route.errorElement||IK,l&&(c<0&&p===0?(OK("route-fallback"),v=!0,E=null):c===p&&(v=!0,E=d.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,p+1)),y=()=>{let S;return g?S=w:v?S=E:d.route.Component?S=m.createElement(d.route.Component,null):d.route.element?S=d.route.element:S=u,m.createElement(PK,{match:d,routeContext:{outlet:u,matches:_,isDataRoute:n!=null},children:S})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?m.createElement(AK,{location:n.location,revalidation:n.revalidation,component:w,error:g,children:y(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):y()},null)}var ZD=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ZD||{}),Rm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Rm||{});function NK(t){let e=m.useContext(Og);return e||We(!1),e}function DK(t){let e=m.useContext(QD);return e||We(!1),e}function kK(t){let e=m.useContext(Qo);return e||We(!1),e}function ek(t){let e=kK(),n=e.matches[e.matches.length-1];return n.route.id||We(!1),n.route.id}function tk(){var t;let e=m.useContext(YD),n=DK(Rm.UseRouteError),r=ek(Rm.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function MK(){let{router:t}=NK(ZD.UseNavigateStable),e=ek(Rm.UseNavigateStable),n=m.useRef(!1);return XD(()=>{n.current=!0}),m.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Pm({fromRouteId:e},i)))},[t,e])}const qC={};function OK(t,e,n){qC[t]||(qC[t]=!0)}function nk(t){let{to:e,replace:n,state:r,relative:s}=t;Gc()||We(!1);let{future:i,static:o}=m.useContext(Go),{matches:a}=m.useContext(Qo),{pathname:l}=Qc(),c=Fh(),u=Mg(e,kg(a,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(u);return m.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:s}),[c,d,s,n,r]),null}function LK(t){let{basename:e="/",children:n=null,location:r,navigationType:s=nn.Pop,navigator:i,static:o=!1,future:a}=t;Gc()&&We(!1);let l=e.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:l,navigator:i,static:o,future:Pm({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=qo(r));let{pathname:u="/",search:d="",hash:p="",state:g=null,key:v="default"}=r,w=m.useMemo(()=>{let E=qc(u,l);return E==null?null:{location:{pathname:E,search:d,hash:p,state:g,key:v},navigationType:s}},[l,u,d,p,g,v,s]);return w==null?null:m.createElement(Go.Provider,{value:c},m.createElement(qx.Provider,{children:n,value:w}))}new Promise(()=>{});function jK(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:m.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:m.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:m.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qd(){return Qd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qd.apply(this,arguments)}function VK(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function FK(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function UK(t,e){return t.button===0&&(!e||e==="_self")&&!FK(t)}const BK=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],$K="6";try{window.__reactRouterVersion=$K}catch{}function zK(t,e){return eK({basename:e==null?void 0:e.basename,future:Qd({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:S9({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||KK(),routes:t,mapRouteProperties:jK,unstable_dataStrategy:e==null?void 0:e.unstable_dataStrategy,unstable_patchRoutesOnNavigation:e==null?void 0:e.unstable_patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function KK(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Qd({},e,{errors:WK(e.errors)})),e}function WK(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new Am(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let i=new Error(s.message);i.stack="",n[r]=i}}else n[r]=s;return n}const HK=m.createContext({isTransitioning:!1}),qK=m.createContext(new Map),GK="startTransition",GC=OP[GK],QK="flushSync",QC=g5[QK];function YK(t){GC?GC(t):t()}function Du(t){QC?QC(t):t()}class XK{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function JK(t){let{fallbackElement:e,router:n,future:r}=t,[s,i]=m.useState(n.state),[o,a]=m.useState(),[l,c]=m.useState({isTransitioning:!1}),[u,d]=m.useState(),[p,g]=m.useState(),[v,w]=m.useState(),E=m.useRef(new Map),{v7_startTransition:_}=r||{},y=m.useCallback(T=>{_?YK(T):T()},[_]),S=m.useCallback((T,I)=>{let{deletedFetchers:P,unstable_flushSync:M,unstable_viewTransitionOpts:k}=I;P.forEach(H=>E.current.delete(H)),T.fetchers.forEach((H,ae)=>{H.data!==void 0&&E.current.set(ae,H.data)});let N=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!k||N){M?Du(()=>i(T)):y(()=>i(T));return}if(M){Du(()=>{p&&(u&&u.resolve(),p.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:k.currentLocation,nextLocation:k.nextLocation})});let H=n.window.document.startViewTransition(()=>{Du(()=>i(T))});H.finished.finally(()=>{Du(()=>{d(void 0),g(void 0),a(void 0),c({isTransitioning:!1})})}),Du(()=>g(H));return}p?(u&&u.resolve(),p.skipTransition(),w({state:T,currentLocation:k.currentLocation,nextLocation:k.nextLocation})):(a(T),c({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}))},[n.window,p,u,E,y]);m.useLayoutEffect(()=>n.subscribe(S),[n,S]),m.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new XK)},[l]),m.useEffect(()=>{if(u&&o&&n.window){let T=o,I=u.promise,P=n.window.document.startViewTransition(async()=>{y(()=>i(T)),await I});P.finished.finally(()=>{d(void 0),g(void 0),a(void 0),c({isTransitioning:!1})}),g(P)}},[y,o,u,n.window]),m.useEffect(()=>{u&&o&&s.location.key===o.location.key&&u.resolve()},[u,p,s.location,o]),m.useEffect(()=>{!l.isTransitioning&&v&&(a(v.state),c({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),w(void 0))},[l.isTransitioning,v]),m.useEffect(()=>{},[]);let A=m.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:T=>n.navigate(T),push:(T,I,P)=>n.navigate(T,{state:I,preventScrollReset:P==null?void 0:P.preventScrollReset}),replace:(T,I,P)=>n.navigate(T,{replace:!0,state:I,preventScrollReset:P==null?void 0:P.preventScrollReset})}),[n]),D=n.basename||"/",O=m.useMemo(()=>({router:n,navigator:A,static:!1,basename:D}),[n,A,D]),C=m.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return m.createElement(m.Fragment,null,m.createElement(Og.Provider,{value:O},m.createElement(QD.Provider,{value:s},m.createElement(qK.Provider,{value:E.current},m.createElement(HK.Provider,{value:l},m.createElement(LK,{basename:D,location:s.location,navigationType:s.historyAction,navigator:A,future:C},s.initialized||n.future.v7_partialHydration?m.createElement(ZK,{routes:n.routes,future:n.future,state:s}):e))))),null)}const ZK=m.memo(eW);function eW(t){let{routes:e,future:n,state:r}=t;return bK(e,void 0,r,n)}const tW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rW=m.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,p=VK(e,BK),{basename:g}=m.useContext(Go),v,w=!1;if(typeof c=="string"&&nW.test(c)&&(v=c,tW))try{let S=new URL(window.location.href),A=c.startsWith("//")?new URL(S.protocol+c):new URL(c),D=qc(A.pathname,g);A.origin===S.origin&&D!=null?c=D+A.search+A.hash:w=!0}catch{}let E=TK(c,{relative:s}),_=sW(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,unstable_viewTransition:d});function y(S){r&&r(S),S.defaultPrevented||_(S)}return m.createElement("a",Qd({},p,{href:v||E,onClick:w||i?r:y,ref:n,target:l}))});var YC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(YC||(YC={}));var XC;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(XC||(XC={}));function sW(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Fh(),c=Qc(),u=JD(t,{relative:o});return m.useCallback(d=>{if(UK(d,n)){d.preventDefault();let p=r!==void 0?r:za(c)===za(u);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[c,l,u,r,s,n,t,i,o,a])}const iW=()=>{const t=Pt(n=>n.isAuth),e=Fh();m.useEffect(()=>{(async()=>{try{const r=W6();await Pz(r),ke("Sign in success")}catch(r){ke(`error sign in: , ${r}`)}})()},[]),m.useEffect(()=>{if(!t)return e("/login")},[t])};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rk=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>m.createElement("svg",{ref:l,...aW,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:rk("lucide",s),...a},[...o.map(([c,u])=>m.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=(t,e)=>{const n=m.forwardRef(({className:r,...s},i)=>m.createElement(lW,{ref:i,iconNode:e,className:rk(`lucide-${oW(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=He("Blocks",[["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["path",{d:"M10 21V8a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H3",key:"1fpvtg"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uW=He("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=He("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=He("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=He("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=He("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=He("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=He("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=He("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=He("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=He("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=He("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=He("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=He("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=He("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=He("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=He("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=He("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=He("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wW=He("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=He("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=He("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=He("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TW=He("PanelRight",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=He("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SW=He("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=He("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=He("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=He("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CW=He("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=He("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=He("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=He("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=He("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=He("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PW=He("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RW=He("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=He("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function ee(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function NW(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Vg(...t){return e=>t.forEach(n=>NW(n,e))}function Me(...t){return m.useCallback(Vg(...t),t)}function DW(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=d=>{var _;const{scope:p,children:g,...v}=d,w=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,E=m.useMemo(()=>v,Object.values(v));return f.jsx(w.Provider,{value:E,children:g})};c.displayName=i+"Provider";function u(d,p){var w;const g=((w=p==null?void 0:p[t])==null?void 0:w[l])||a,v=m.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,kW(s,...e)]}function kW(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Dt(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function No({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=MW({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Dt(n),l=m.useCallback(c=>{if(i){const d=typeof c=="function"?c(t):c;d!==t&&a(d)}else s(c)},[i,t,s,a]);return[o,l]}function MW({defaultProp:t,onChange:e}){const n=m.useState(t),[r]=n,s=m.useRef(r),i=Dt(e);return m.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var Do=m.forwardRef((t,e)=>{const{children:n,...r}=t,s=m.Children.toArray(n),i=s.find(OW);if(i){const o=i.props.children,a=s.map(l=>l===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:l);return f.jsx(b0,{...r,ref:e,children:m.isValidElement(o)?m.cloneElement(o,void 0,a):null})}return f.jsx(b0,{...r,ref:e,children:n})});Do.displayName="Slot";var b0=m.forwardRef((t,e)=>{const{children:n,...r}=t;if(m.isValidElement(n)){const s=jW(n);return m.cloneElement(n,{...LW(r,n.props),ref:e?Vg(e,s):s})}return m.Children.count(n)>1?m.Children.only(null):null});b0.displayName="SlotClone";var Yx=({children:t})=>f.jsx(f.Fragment,{children:t});function OW(t){return m.isValidElement(t)&&t.type===Yx}function LW(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function jW(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var VW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],xe=VW.reduce((t,e)=>{const n=m.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Do:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function sl(t,e){t&&Ai.flushSync(()=>t.dispatchEvent(e))}function Yc(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];function c(d){const{scope:p,children:g,...v}=d,w=(p==null?void 0:p[t][l])||a,E=m.useMemo(()=>v,Object.values(v));return f.jsx(w.Provider,{value:E,children:g})}function u(d,p){const g=(p==null?void 0:p[t][l])||a,v=m.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,FW(s,...e)]}function FW(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Fg(t){const e=t+"CollectionProvider",[n,r]=Yc(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:w}=g,E=Ke.useRef(null),_=Ke.useRef(new Map).current;return f.jsx(s,{scope:v,itemMap:_,collectionRef:E,children:w})};o.displayName=e;const a=t+"CollectionSlot",l=Ke.forwardRef((g,v)=>{const{scope:w,children:E}=g,_=i(a,w),y=Me(v,_.collectionRef);return f.jsx(Do,{ref:y,children:E})});l.displayName=a;const c=t+"CollectionItemSlot",u="data-radix-collection-item",d=Ke.forwardRef((g,v)=>{const{scope:w,children:E,..._}=g,y=Ke.useRef(null),S=Me(v,y),A=i(c,w);return Ke.useEffect(()=>(A.itemMap.set(y,{ref:y,..._}),()=>void A.itemMap.delete(y))),f.jsx(Do,{[u]:"",ref:S,children:E})});d.displayName=c;function p(g){const v=i(t+"CollectionConsumer",g);return Ke.useCallback(()=>{const E=v.collectionRef.current;if(!E)return[];const _=Array.from(E.querySelectorAll(`[${u}]`));return Array.from(v.itemMap.values()).sort((A,D)=>_.indexOf(A.ref.current)-_.indexOf(D.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:l,ItemSlot:d},p,r]}function UW(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=d=>{var _;const{scope:p,children:g,...v}=d,w=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,E=m.useMemo(()=>v,Object.values(v));return f.jsx(w.Provider,{value:E,children:g})};c.displayName=i+"Provider";function u(d,p){var w;const g=((w=p==null?void 0:p[t])==null?void 0:w[l])||a,v=m.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,BW(s,...e)]}function BW(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var $W=m.createContext(void 0);function Ug(t){const e=m.useContext($W);return t||e||"ltr"}function Bh(t,e=globalThis==null?void 0:globalThis.document){const n=Dt(t);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var zW="DismissableLayer",C0="dismissableLayer.update",KW="dismissableLayer.pointerDownOutside",WW="dismissableLayer.focusOutside",ZC,pk=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),mk=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(pk),[u,d]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),v=Me(e,C=>d(C)),w=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=w.indexOf(E),y=u?w.indexOf(u):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,A=y>=_,D=GW(C=>{const T=C.target,I=[...c.branches].some(P=>P.contains(T));!A||I||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),O=QW(C=>{const T=C.target;[...c.branches].some(P=>P.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return Bh(C=>{y===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(ZC=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),eI(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=ZC)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),eI())},[u,c]),m.useEffect(()=>{const C=()=>g({});return document.addEventListener(C0,C),()=>document.removeEventListener(C0,C)},[]),f.jsx(xe.div,{...l,ref:v,style:{pointerEvents:S?A?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,D.onPointerDownCapture)})});mk.displayName=zW;var HW="DismissableLayerBranch",qW=m.forwardRef((t,e)=>{const n=m.useContext(pk),r=m.useRef(null),s=Me(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(xe.div,{...t,ref:s})});qW.displayName=HW;function GW(t,e=globalThis==null?void 0:globalThis.document){const n=Dt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){gk(KW,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function QW(t,e=globalThis==null?void 0:globalThis.document){const n=Dt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&gk(WW,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function eI(){const t=new CustomEvent(C0);document.dispatchEvent(t)}function gk(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?sl(s,i):s.dispatchEvent(i)}var Ov=0;function Xx(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??tI()),document.body.insertAdjacentElement("beforeend",t[1]??tI()),Ov++,()=>{Ov===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ov--}},[])}function tI(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Lv="focusScope.autoFocusOnMount",jv="focusScope.autoFocusOnUnmount",nI={bubbles:!1,cancelable:!0},YW="FocusScope",Bg=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=m.useState(null),c=Dt(s),u=Dt(i),d=m.useRef(null),p=Me(e,w=>l(w)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let w=function(S){if(g.paused||!a)return;const A=S.target;a.contains(A)?d.current=A:Bi(d.current,{select:!0})},E=function(S){if(g.paused||!a)return;const A=S.relatedTarget;A!==null&&(a.contains(A)||Bi(d.current,{select:!0}))},_=function(S){if(document.activeElement===document.body)for(const D of S)D.removedNodes.length>0&&Bi(a)};document.addEventListener("focusin",w),document.addEventListener("focusout",E);const y=new MutationObserver(_);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",E),y.disconnect()}}},[r,a,g.paused]),m.useEffect(()=>{if(a){sI.add(g);const w=document.activeElement;if(!a.contains(w)){const _=new CustomEvent(Lv,nI);a.addEventListener(Lv,c),a.dispatchEvent(_),_.defaultPrevented||(XW(nH(yk(a)),{select:!0}),document.activeElement===w&&Bi(a))}return()=>{a.removeEventListener(Lv,c),setTimeout(()=>{const _=new CustomEvent(jv,nI);a.addEventListener(jv,u),a.dispatchEvent(_),_.defaultPrevented||Bi(w??document.body,{select:!0}),a.removeEventListener(jv,u),sI.remove(g)},0)}}},[a,c,u,g]);const v=m.useCallback(w=>{if(!n&&!r||g.paused)return;const E=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,_=document.activeElement;if(E&&_){const y=w.currentTarget,[S,A]=JW(y);S&&A?!w.shiftKey&&_===A?(w.preventDefault(),n&&Bi(S,{select:!0})):w.shiftKey&&_===S&&(w.preventDefault(),n&&Bi(A,{select:!0})):_===y&&w.preventDefault()}},[n,r,g.paused]);return f.jsx(xe.div,{tabIndex:-1,...o,ref:p,onKeyDown:v})});Bg.displayName=YW;function XW(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Bi(r,{select:e}),document.activeElement!==n)return}function JW(t){const e=yk(t),n=rI(e,t),r=rI(e.reverse(),t);return[n,r]}function yk(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function rI(t,e){for(const n of t)if(!ZW(n,{upTo:e}))return n}function ZW(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function eH(t){return t instanceof HTMLInputElement&&"select"in t}function Bi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&eH(t)&&e&&t.select()}}var sI=tH();function tH(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=iI(t,e),t.unshift(e)},remove(e){var n;t=iI(t,e),(n=t[0])==null||n.resume()}}}function iI(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function nH(t){return t.filter(e=>e.tagName!=="A")}var Rt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},rH=OP.useId||(()=>{}),sH=0;function ds(t){const[e,n]=m.useState(rH());return Rt(()=>{t||n(r=>r??String(sH++))},[t]),t||(e?`radix-${e}`:"")}const iH=["top","right","bottom","left"],ko=Math.min,wr=Math.max,Nm=Math.round,Qf=Math.floor,Mo=t=>({x:t,y:t}),oH={left:"right",right:"left",bottom:"top",top:"bottom"},aH={start:"end",end:"start"};function I0(t,e,n){return wr(t,ko(e,n))}function xi(t,e){return typeof t=="function"?t(e):t}function Ei(t){return t.split("-")[0]}function Xc(t){return t.split("-")[1]}function Jx(t){return t==="x"?"y":"x"}function Zx(t){return t==="y"?"height":"width"}function Oo(t){return["top","bottom"].includes(Ei(t))?"y":"x"}function eE(t){return Jx(Oo(t))}function lH(t,e,n){n===void 0&&(n=!1);const r=Xc(t),s=eE(t),i=Zx(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Dm(o)),[o,Dm(o)]}function cH(t){const e=Dm(t);return[A0(t),e,A0(e)]}function A0(t){return t.replace(/start|end/g,e=>aH[e])}function uH(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function dH(t,e,n,r){const s=Xc(t);let i=uH(Ei(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(A0)))),i}function Dm(t){return t.replace(/left|right|bottom|top/g,e=>oH[e])}function hH(t){return{top:0,right:0,bottom:0,left:0,...t}}function vk(t){return typeof t!="number"?hH(t):{top:t,right:t,bottom:t,left:t}}function km(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function oI(t,e,n){let{reference:r,floating:s}=t;const i=Oo(e),o=eE(e),a=Zx(o),l=Ei(e),c=i==="y",u=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:u,y:r.y-s.height};break;case"bottom":g={x:u,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:d};break;case"left":g={x:r.x-s.width,y:d};break;default:g={x:r.x,y:r.y}}switch(Xc(e)){case"start":g[o]-=p*(n&&c?-1:1);break;case"end":g[o]+=p*(n&&c?-1:1);break}return g}const fH=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:d}=oI(c,r,l),p=r,g={},v=0;for(let w=0;w<a.length;w++){const{name:E,fn:_}=a[w],{x:y,y:S,data:A,reset:D}=await _({x:u,y:d,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});u=y??u,d=S??d,g={...g,[E]:{...g[E],...A}},D&&v<=50&&(v++,typeof D=="object"&&(D.placement&&(p=D.placement),D.rects&&(c=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:u,y:d}=oI(c,p,l)),w=-1)}return{x:u,y:d,placement:p,strategy:s,middlewareData:g}};async function Yd(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:g=0}=xi(e,t),v=vk(g),E=a[p?d==="floating"?"reference":"floating":d],_=km(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=d==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),A=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},D=km(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:S,strategy:l}):y);return{top:(_.top-D.top+v.top)/A.y,bottom:(D.bottom-_.bottom+v.bottom)/A.y,left:(_.left-D.left+v.left)/A.x,right:(D.right-_.right+v.right)/A.x}}const pH=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=xi(t,e)||{};if(c==null)return{};const d=vk(u),p={x:n,y:r},g=eE(s),v=Zx(g),w=await o.getDimensions(c),E=g==="y",_=E?"top":"left",y=E?"bottom":"right",S=E?"clientHeight":"clientWidth",A=i.reference[v]+i.reference[g]-p[g]-i.floating[v],D=p[g]-i.reference[g],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=O?O[S]:0;(!C||!await(o.isElement==null?void 0:o.isElement(O)))&&(C=a.floating[S]||i.floating[v]);const T=A/2-D/2,I=C/2-w[v]/2-1,P=ko(d[_],I),M=ko(d[y],I),k=P,N=C-w[v]-M,H=C/2-w[v]/2+T,ae=I0(k,H,N),te=!l.arrow&&Xc(s)!=null&&H!==ae&&i.reference[v]/2-(H<k?P:M)-w[v]/2<0,ne=te?H<k?H-k:H-N:0;return{[g]:p[g]+ne,data:{[g]:ae,centerOffset:H-ae-ne,...te&&{alignmentOffset:ne}},reset:te}}}),mH=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:w=!0,...E}=xi(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=Ei(s),y=Oo(a),S=Ei(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(c.floating)),D=p||(S||!w?[Dm(a)]:cH(a)),O=v!=="none";!p&&O&&D.push(...dH(a,w,v,A));const C=[a,...D],T=await Yd(e,E),I=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&I.push(T[_]),d){const H=lH(s,o,A);I.push(T[H[0]],T[H[1]])}if(P=[...P,{placement:s,overflows:I}],!I.every(H=>H<=0)){var M,k;const H=(((M=i.flip)==null?void 0:M.index)||0)+1,ae=C[H];if(ae)return{data:{index:H,overflows:P},reset:{placement:ae}};let te=(k=P.filter(ne=>ne.overflows[0]<=0).sort((ne,z)=>ne.overflows[1]-z.overflows[1])[0])==null?void 0:k.placement;if(!te)switch(g){case"bestFit":{var N;const ne=(N=P.filter(z=>{if(O){const B=Oo(z.placement);return B===y||B==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(B=>B>0).reduce((B,Z)=>B+Z,0)]).sort((z,B)=>z[1]-B[1])[0])==null?void 0:N[0];ne&&(te=ne);break}case"initialPlacement":te=a;break}if(s!==te)return{reset:{placement:te}}}return{}}}};function aI(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function lI(t){return iH.some(e=>t[e]>=0)}const gH=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=xi(t,e);switch(r){case"referenceHidden":{const i=await Yd(e,{...s,elementContext:"reference"}),o=aI(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:lI(o)}}}case"escaped":{const i=await Yd(e,{...s,altBoundary:!0}),o=aI(i,n.floating);return{data:{escapedOffsets:o,escaped:lI(o)}}}default:return{}}}}};async function yH(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Ei(n),a=Xc(n),l=Oo(n)==="y",c=["left","top"].includes(o)?-1:1,u=i&&l?-1:1,d=xi(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:v}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof v=="number"&&(g=a==="end"?v*-1:v),l?{x:g*u,y:p*c}:{x:p*c,y:g*u}}const vH=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await yH(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},wH=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x:_,y}=E;return{x:_,y}}},...l}=xi(t,e),c={x:n,y:r},u=await Yd(e,l),d=Oo(Ei(s)),p=Jx(d);let g=c[p],v=c[d];if(i){const E=p==="y"?"top":"left",_=p==="y"?"bottom":"right",y=g+u[E],S=g-u[_];g=I0(y,g,S)}if(o){const E=d==="y"?"top":"left",_=d==="y"?"bottom":"right",y=v+u[E],S=v-u[_];v=I0(y,v,S)}const w=a.fn({...e,[p]:g,[d]:v});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[p]:i,[d]:o}}}}}},_H=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=xi(t,e),u={x:n,y:r},d=Oo(s),p=Jx(d);let g=u[p],v=u[d];const w=xi(a,e),E=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(l){const S=p==="y"?"height":"width",A=i.reference[p]-i.floating[S]+E.mainAxis,D=i.reference[p]+i.reference[S]-E.mainAxis;g<A?g=A:g>D&&(g=D)}if(c){var _,y;const S=p==="y"?"width":"height",A=["top","left"].includes(Ei(s)),D=i.reference[d]-i.floating[S]+(A&&((_=o.offset)==null?void 0:_[d])||0)+(A?0:E.crossAxis),O=i.reference[d]+i.reference[S]+(A?0:((y=o.offset)==null?void 0:y[d])||0)-(A?E.crossAxis:0);v<D?v=D:v>O&&(v=O)}return{[p]:g,[d]:v}}}},xH=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=xi(t,e),u=await Yd(e,c),d=Ei(s),p=Xc(s),g=Oo(s)==="y",{width:v,height:w}=i.floating;let E,_;d==="top"||d==="bottom"?(E=d,_=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=d,E=p==="end"?"top":"bottom");const y=w-u.top-u.bottom,S=v-u.left-u.right,A=ko(w-u[E],y),D=ko(v-u[_],S),O=!e.middlewareData.shift;let C=A,T=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=y),O&&!p){const P=wr(u.left,0),M=wr(u.right,0),k=wr(u.top,0),N=wr(u.bottom,0);g?T=v-2*(P!==0||M!==0?P+M:wr(u.left,u.right)):C=w-2*(k!==0||N!==0?k+N:wr(u.top,u.bottom))}await l({...e,availableWidth:T,availableHeight:C});const I=await o.getDimensions(a.floating);return v!==I.width||w!==I.height?{reset:{rects:!0}}:{}}}};function $g(){return typeof window<"u"}function Jc(t){return wk(t)?(t.nodeName||"").toLowerCase():"#document"}function Tr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function $s(t){var e;return(e=(wk(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function wk(t){return $g()?t instanceof Node||t instanceof Tr(t).Node:!1}function ps(t){return $g()?t instanceof Element||t instanceof Tr(t).Element:!1}function Fs(t){return $g()?t instanceof HTMLElement||t instanceof Tr(t).HTMLElement:!1}function cI(t){return!$g()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Tr(t).ShadowRoot}function $h(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ms(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function EH(t){return["table","td","th"].includes(Jc(t))}function zg(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function tE(t){const e=nE(),n=ps(t)?ms(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function TH(t){let e=Lo(t);for(;Fs(e)&&!Nc(e);){if(tE(e))return e;if(zg(e))return null;e=Lo(e)}return null}function nE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Nc(t){return["html","body","#document"].includes(Jc(t))}function ms(t){return Tr(t).getComputedStyle(t)}function Kg(t){return ps(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Lo(t){if(Jc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||cI(t)&&t.host||$s(t);return cI(e)?e.host:e}function _k(t){const e=Lo(t);return Nc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Fs(e)&&$h(e)?e:_k(e)}function Xd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=_k(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Tr(s);if(i){const a=P0(o);return e.concat(o,o.visualViewport||[],$h(s)?s:[],a&&n?Xd(a):[])}return e.concat(s,Xd(s,[],n))}function P0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function xk(t){const e=ms(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Fs(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Nm(n)!==i||Nm(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function rE(t){return ps(t)?t:t.contextElement}function nc(t){const e=rE(t);if(!Fs(e))return Mo(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=xk(e);let o=(i?Nm(n.width):n.width)/r,a=(i?Nm(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const SH=Mo(0);function Ek(t){const e=Tr(t);return!nE()||!e.visualViewport?SH:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function bH(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Tr(t)?!1:e}function Ka(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=rE(t);let o=Mo(1);e&&(r?ps(r)&&(o=nc(r)):o=nc(t));const a=bH(i,n,r)?Ek(i):Mo(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,d=s.height/o.y;if(i){const p=Tr(i),g=r&&ps(r)?Tr(r):r;let v=p,w=P0(v);for(;w&&r&&g!==v;){const E=nc(w),_=w.getBoundingClientRect(),y=ms(w),S=_.left+(w.clientLeft+parseFloat(y.paddingLeft))*E.x,A=_.top+(w.clientTop+parseFloat(y.paddingTop))*E.y;l*=E.x,c*=E.y,u*=E.x,d*=E.y,l+=S,c+=A,v=Tr(w),w=P0(v)}}return km({width:u,height:d,x:l,y:c})}function CH(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=$s(r),a=e?zg(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Mo(1);const u=Mo(0),d=Fs(r);if((d||!d&&!i)&&((Jc(r)!=="body"||$h(o))&&(l=Kg(r)),Fs(r))){const p=Ka(r);c=nc(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function IH(t){return Array.from(t.getClientRects())}function R0(t,e){const n=Kg(t).scrollLeft;return e?e.left+n:Ka($s(t)).left+n}function AH(t){const e=$s(t),n=Kg(t),r=t.ownerDocument.body,s=wr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=wr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+R0(t);const a=-n.scrollTop;return ms(r).direction==="rtl"&&(o+=wr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function PH(t,e){const n=Tr(t),r=$s(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=nE();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function RH(t,e){const n=Ka(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Fs(t)?nc(t):Mo(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function uI(t,e,n){let r;if(e==="viewport")r=PH(t,n);else if(e==="document")r=AH($s(t));else if(ps(e))r=RH(e,n);else{const s=Ek(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return km(r)}function Tk(t,e){const n=Lo(t);return n===e||!ps(n)||Nc(n)?!1:ms(n).position==="fixed"||Tk(n,e)}function NH(t,e){const n=e.get(t);if(n)return n;let r=Xd(t,[],!1).filter(a=>ps(a)&&Jc(a)!=="body"),s=null;const i=ms(t).position==="fixed";let o=i?Lo(t):t;for(;ps(o)&&!Nc(o);){const a=ms(o),l=tE(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||$h(o)&&!l&&Tk(t,o))?r=r.filter(u=>u!==o):s=a,o=Lo(o)}return e.set(t,r),r}function DH(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?zg(e)?[]:NH(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=uI(e,u,s);return c.top=wr(d.top,c.top),c.right=ko(d.right,c.right),c.bottom=ko(d.bottom,c.bottom),c.left=wr(d.left,c.left),c},uI(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function kH(t){const{width:e,height:n}=xk(t);return{width:e,height:n}}function MH(t,e,n){const r=Fs(e),s=$s(e),i=n==="fixed",o=Ka(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Mo(0);if(r||!r&&!i)if((Jc(e)!=="body"||$h(s))&&(a=Kg(e)),r){const g=Ka(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&(l.x=R0(s));let c=0,u=0;if(s&&!r&&!i){const g=s.getBoundingClientRect();u=g.top+a.scrollTop,c=g.left+a.scrollLeft-R0(s,g)}const d=o.left+a.scrollLeft-l.x-c,p=o.top+a.scrollTop-l.y-u;return{x:d,y:p,width:o.width,height:o.height}}function Vv(t){return ms(t).position==="static"}function dI(t,e){if(!Fs(t)||ms(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return $s(t)===n&&(n=n.ownerDocument.body),n}function Sk(t,e){const n=Tr(t);if(zg(t))return n;if(!Fs(t)){let s=Lo(t);for(;s&&!Nc(s);){if(ps(s)&&!Vv(s))return s;s=Lo(s)}return n}let r=dI(t,e);for(;r&&EH(r)&&Vv(r);)r=dI(r,e);return r&&Nc(r)&&Vv(r)&&!tE(r)?n:r||TH(t)||n}const OH=async function(t){const e=this.getOffsetParent||Sk,n=this.getDimensions,r=await n(t.floating);return{reference:MH(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function LH(t){return ms(t).direction==="rtl"}const jH={convertOffsetParentRelativeRectToViewportRelativeRect:CH,getDocumentElement:$s,getClippingRect:DH,getOffsetParent:Sk,getElementRects:OH,getClientRects:IH,getDimensions:kH,getScale:nc,isElement:ps,isRTL:LH};function VH(t,e){let n=null,r;const s=$s(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:u,width:d,height:p}=t.getBoundingClientRect();if(a||e(),!d||!p)return;const g=Qf(u),v=Qf(s.clientWidth-(c+d)),w=Qf(s.clientHeight-(u+p)),E=Qf(c),y={rootMargin:-g+"px "+-v+"px "+-w+"px "+-E+"px",threshold:wr(0,ko(1,l))||1};let S=!0;function A(D){const O=D[0].intersectionRatio;if(O!==l){if(!S)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S=!1}try{n=new IntersectionObserver(A,{...y,root:s.ownerDocument})}catch{n=new IntersectionObserver(A,y)}n.observe(t)}return o(!0),i}function FH(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=rE(t),u=s||i?[...c?Xd(c):[],...Xd(e)]:[];u.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const d=c&&a?VH(c,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(_=>{let[y]=_;y&&y.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var S;(S=g)==null||S.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let v,w=l?Ka(t):null;l&&E();function E(){const _=Ka(t);w&&(_.x!==w.x||_.y!==w.y||_.width!==w.width||_.height!==w.height)&&n(),w=_,v=requestAnimationFrame(E)}return n(),()=>{var _;u.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),d==null||d(),(_=g)==null||_.disconnect(),g=null,l&&cancelAnimationFrame(v)}}const UH=vH,BH=wH,$H=mH,zH=xH,KH=gH,hI=pH,WH=_H,HH=(t,e,n)=>{const r=new Map,s={platform:jH,...n},i={...s.platform,_c:r};return fH(t,e,{...s,platform:i})};var Mp=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Mm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Mm(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Mm(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function bk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function fI(t,e){const n=bk(t);return Math.round(e*n)/n}function Fv(t){const e=m.useRef(t);return Mp(()=>{e.current=t}),e}function qH(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=m.useState(r);Mm(p,r)||g(r);const[v,w]=m.useState(null),[E,_]=m.useState(null),y=m.useCallback(z=>{z!==O.current&&(O.current=z,w(z))},[]),S=m.useCallback(z=>{z!==C.current&&(C.current=z,_(z))},[]),A=i||v,D=o||E,O=m.useRef(null),C=m.useRef(null),T=m.useRef(u),I=l!=null,P=Fv(l),M=Fv(s),k=Fv(c),N=m.useCallback(()=>{if(!O.current||!C.current)return;const z={placement:e,strategy:n,middleware:p};M.current&&(z.platform=M.current),HH(O.current,C.current,z).then(B=>{const Z={...B,isPositioned:k.current!==!1};H.current&&!Mm(T.current,Z)&&(T.current=Z,Ai.flushSync(()=>{d(Z)}))})},[p,e,n,M,k]);Mp(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,d(z=>({...z,isPositioned:!1})))},[c]);const H=m.useRef(!1);Mp(()=>(H.current=!0,()=>{H.current=!1}),[]),Mp(()=>{if(A&&(O.current=A),D&&(C.current=D),A&&D){if(P.current)return P.current(A,D,N);N()}},[A,D,N,P,I]);const ae=m.useMemo(()=>({reference:O,floating:C,setReference:y,setFloating:S}),[y,S]),te=m.useMemo(()=>({reference:A,floating:D}),[A,D]),ne=m.useMemo(()=>{const z={position:n,left:0,top:0};if(!te.floating)return z;const B=fI(te.floating,u.x),Z=fI(te.floating,u.y);return a?{...z,transform:"translate("+B+"px, "+Z+"px)",...bk(te.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:Z}},[n,a,te.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:N,refs:ae,elements:te,floatingStyles:ne}),[u,N,ae,te,ne])}const GH=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?hI({element:r.current,padding:s}).fn(n):{}:r?hI({element:r,padding:s}).fn(n):{}}}},QH=(t,e)=>({...UH(t),options:[t,e]}),YH=(t,e)=>({...BH(t),options:[t,e]}),XH=(t,e)=>({...WH(t),options:[t,e]}),JH=(t,e)=>({...$H(t),options:[t,e]}),ZH=(t,e)=>({...zH(t),options:[t,e]}),e8=(t,e)=>({...KH(t),options:[t,e]}),t8=(t,e)=>({...GH(t),options:[t,e]});var n8="Arrow",Ck=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return f.jsx(xe.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ck.displayName=n8;var r8=Ck;function s8(t){const[e,n]=m.useState(void 0);return Rt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var sE="Popper",[Ik,Zc]=Yc(sE),[i8,Ak]=Ik(sE),Pk=t=>{const{__scopePopper:e,children:n}=t,[r,s]=m.useState(null);return f.jsx(i8,{scope:e,anchor:r,onAnchorChange:s,children:n})};Pk.displayName=sE;var Rk="PopperAnchor",Nk=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=Ak(Rk,n),o=m.useRef(null),a=Me(e,o);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:f.jsx(xe.div,{...s,ref:a})});Nk.displayName=Rk;var iE="PopperContent",[o8,a8]=Ik(iE),Dk=m.forwardRef((t,e)=>{var ce,Ve,st,Fe,ze,Qe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:v,...w}=t,E=Ak(iE,n),[_,y]=m.useState(null),S=Me(e,Ft=>y(Ft)),[A,D]=m.useState(null),O=s8(A),C=(O==null?void 0:O.width)??0,T=(O==null?void 0:O.height)??0,I=r+(i!=="center"?"-"+i:""),P=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},M=Array.isArray(c)?c:[c],k=M.length>0,N={padding:P,boundary:M.filter(c8),altBoundary:k},{refs:H,floatingStyles:ae,placement:te,isPositioned:ne,middlewareData:z}=qH({strategy:"fixed",placement:I,whileElementsMounted:(...Ft)=>FH(...Ft,{animationFrame:g==="always"}),elements:{reference:E.anchor},middleware:[QH({mainAxis:s+T,alignmentAxis:o}),l&&YH({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?XH():void 0,...N}),l&&JH({...N}),ZH({...N,apply:({elements:Ft,rects:it,availableWidth:gn,availableHeight:Nr})=>{const{width:ys,height:L}=it.reference,$=Ft.floating.style;$.setProperty("--radix-popper-available-width",`${gn}px`),$.setProperty("--radix-popper-available-height",`${Nr}px`),$.setProperty("--radix-popper-anchor-width",`${ys}px`),$.setProperty("--radix-popper-anchor-height",`${L}px`)}}),A&&t8({element:A,padding:a}),u8({arrowWidth:C,arrowHeight:T}),p&&e8({strategy:"referenceHidden",...N})]}),[B,Z]=Ok(te),pe=Dt(v);Rt(()=>{ne&&(pe==null||pe())},[ne,pe]);const Te=(ce=z.arrow)==null?void 0:ce.x,Ae=(Ve=z.arrow)==null?void 0:Ve.y,Je=((st=z.arrow)==null?void 0:st.centerOffset)!==0,[yt,qe]=m.useState();return Rt(()=>{_&&qe(window.getComputedStyle(_).zIndex)},[_]),f.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...ae,transform:ne?ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:yt,"--radix-popper-transform-origin":[(Fe=z.transformOrigin)==null?void 0:Fe.x,(ze=z.transformOrigin)==null?void 0:ze.y].join(" "),...((Qe=z.hide)==null?void 0:Qe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(o8,{scope:n,placedSide:B,onArrowChange:D,arrowX:Te,arrowY:Ae,shouldHideArrow:Je,children:f.jsx(xe.div,{"data-side":B,"data-align":Z,...w,ref:S,style:{...w.style,animation:ne?void 0:"none"}})})})});Dk.displayName=iE;var kk="PopperArrow",l8={top:"bottom",right:"left",bottom:"top",left:"right"},Mk=m.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=a8(kk,r),o=l8[i.placedSide];return f.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:f.jsx(r8,{...s,ref:n,style:{...s.style,display:"block"}})})});Mk.displayName=kk;function c8(t){return t!==null}var u8=t=>({name:"transformOrigin",options:t,fn(e){var E,_,y;const{placement:n,rects:r,middlewareData:s}=e,o=((E=s.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=Ok(n),d={start:"0%",center:"50%",end:"100%"}[u],p=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,g=(((y=s.arrow)==null?void 0:y.y)??0)+l/2;let v="",w="";return c==="bottom"?(v=o?d:`${p}px`,w=`${-l}px`):c==="top"?(v=o?d:`${p}px`,w=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,w=o?d:`${g}px`):c==="left"&&(v=`${r.floating.width+l}px`,w=o?d:`${g}px`),{data:{x:v,y:w}}}});function Ok(t){const[e,n="center"]=t.split("-");return[e,n]}var oE=Pk,aE=Nk,lE=Dk,cE=Mk,d8="Portal",Lk=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Rt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Dh.createPortal(f.jsx(xe.div,{...r,ref:e}),o):null});Lk.displayName=d8;function h8(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var zh=t=>{const{present:e,children:n}=t,r=f8(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=Me(r.ref,p8(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};zh.displayName="Presence";function f8(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=h8(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Yf(r.current);i.current=a==="mounted"?c:"none"},[a]),Rt(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=Yf(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Rt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=g=>{const w=Yf(r.current).includes(g.animationName);if(g.target===e&&w&&(l("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},p=g=>{g.target===e&&(i.current=Yf(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Yf(t){return(t==null?void 0:t.animationName)||"none"}function p8(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Uv="rovingFocusGroup.onEntryFocus",m8={bubbles:!1,cancelable:!0},Wg="RovingFocusGroup",[N0,jk,g8]=Fg(Wg),[y8,Hg]=Yc(Wg,[g8]),[v8,w8]=y8(Wg),Vk=m.forwardRef((t,e)=>f.jsx(N0.Provider,{scope:t.__scopeRovingFocusGroup,children:f.jsx(N0.Slot,{scope:t.__scopeRovingFocusGroup,children:f.jsx(_8,{...t,ref:e})})}));Vk.displayName=Wg;var _8=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=t,p=m.useRef(null),g=Me(e,p),v=Ug(i),[w=null,E]=No({prop:o,defaultProp:a,onChange:l}),[_,y]=m.useState(!1),S=Dt(c),A=jk(n),D=m.useRef(!1),[O,C]=m.useState(0);return m.useEffect(()=>{const T=p.current;if(T)return T.addEventListener(Uv,S),()=>T.removeEventListener(Uv,S)},[S]),f.jsx(v8,{scope:n,orientation:r,dir:v,loop:s,currentTabStopId:w,onItemFocus:m.useCallback(T=>E(T),[E]),onItemShiftTab:m.useCallback(()=>y(!0),[]),onFocusableItemAdd:m.useCallback(()=>C(T=>T+1),[]),onFocusableItemRemove:m.useCallback(()=>C(T=>T-1),[]),children:f.jsx(xe.div,{tabIndex:_||O===0?-1:0,"data-orientation":r,...d,ref:g,style:{outline:"none",...t.style},onMouseDown:ee(t.onMouseDown,()=>{D.current=!0}),onFocus:ee(t.onFocus,T=>{const I=!D.current;if(T.target===T.currentTarget&&I&&!_){const P=new CustomEvent(Uv,m8);if(T.currentTarget.dispatchEvent(P),!P.defaultPrevented){const M=A().filter(te=>te.focusable),k=M.find(te=>te.active),N=M.find(te=>te.id===w),ae=[k,N,...M].filter(Boolean).map(te=>te.ref.current);Bk(ae,u)}}D.current=!1}),onBlur:ee(t.onBlur,()=>y(!1))})})}),Fk="RovingFocusGroupItem",Uk=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=ds(),l=i||a,c=w8(Fk,n),u=c.currentTabStopId===l,d=jk(n),{onFocusableItemAdd:p,onFocusableItemRemove:g}=c;return m.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),f.jsx(N0.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:f.jsx(xe.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:ee(t.onMouseDown,v=>{r?c.onItemFocus(l):v.preventDefault()}),onFocus:ee(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:ee(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){c.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const w=T8(v,c.orientation,c.dir);if(w!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let _=d().filter(y=>y.focusable).map(y=>y.ref.current);if(w==="last")_.reverse();else if(w==="prev"||w==="next"){w==="prev"&&_.reverse();const y=_.indexOf(v.currentTarget);_=c.loop?S8(_,y+1):_.slice(y+1)}setTimeout(()=>Bk(_))}})})})});Uk.displayName=Fk;var x8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function E8(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function T8(t,e,n){const r=E8(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return x8[r]}function Bk(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function S8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var $k=Vk,zk=Uk,b8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},xl=new WeakMap,Xf=new WeakMap,Jf={},Bv=0,Kk=function(t){return t&&(t.host||Kk(t.parentNode))},C8=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Kk(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},I8=function(t,e,n,r){var s=C8(e,Array.isArray(t)?t:[t]);Jf[n]||(Jf[n]=new WeakMap);var i=Jf[n],o=[],a=new Set,l=new Set(s),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};s.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(p){if(a.has(p))u(p);else try{var g=p.getAttribute(r),v=g!==null&&g!=="false",w=(xl.get(p)||0)+1,E=(i.get(p)||0)+1;xl.set(p,w),i.set(p,E),o.push(p),w===1&&v&&Xf.set(p,!0),E===1&&p.setAttribute(n,"true"),v||p.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",p,_)}})};return u(e),a.clear(),Bv++,function(){o.forEach(function(d){var p=xl.get(d)-1,g=i.get(d)-1;xl.set(d,p),i.set(d,g),p||(Xf.has(d)||d.removeAttribute(r),Xf.delete(d)),g||d.removeAttribute(n)}),Bv--,Bv||(xl=new WeakMap,xl=new WeakMap,Xf=new WeakMap,Jf={})}},uE=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=b8(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),I8(r,s,n,"aria-hidden")):function(){return null}},Op="right-scroll-bar-position",Lp="width-before-scroll-bar",A8="with-scroll-bars-hidden",P8="--removed-body-scroll-bar-size";function $v(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function R8(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var N8=typeof window<"u"?m.useLayoutEffect:m.useEffect,pI=new WeakMap;function D8(t,e){var n=R8(null,function(r){return t.forEach(function(s){return $v(s,r)})});return N8(function(){var r=pI.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||$v(a,null)}),i.forEach(function(a){s.has(a)||$v(a,o)})}pI.set(n,t)},[t]),n}function k8(t){return t}function M8(t,e){e===void 0&&(e=k8);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var u=o;o=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return s}function O8(t){t===void 0&&(t={});var e=M8(null);return e.options=As({async:!0,ssr:!1},t),e}var Wk=function(t){var e=t.sideCar,n=Mh(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,As({},n))};Wk.isSideCarExport=!0;function L8(t,e){return t.useMedium(e),Wk}var Hk=O8(),zv=function(){},qg=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:zv,onWheelCapture:zv,onTouchMoveCapture:zv}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,p=t.sideCar,g=t.noIsolation,v=t.inert,w=t.allowPinchZoom,E=t.as,_=E===void 0?"div":E,y=t.gapMode,S=Mh(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=p,D=D8([n,e]),O=As(As({},S),s);return m.createElement(m.Fragment,null,u&&m.createElement(A,{sideCar:Hk,removeScrollBar:c,shards:d,noIsolation:g,inert:v,setCallbacks:i,allowPinchZoom:!!w,lockRef:n,gapMode:y}),o?m.cloneElement(m.Children.only(a),As(As({},O),{ref:D})):m.createElement(_,As({},O,{className:l,ref:D}),a))});qg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qg.classNames={fullWidth:Lp,zeroRight:Op};var j8=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function V8(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=j8();return e&&t.setAttribute("nonce",e),t}function F8(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function U8(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var B8=function(){var t=0,e=null;return{add:function(n){t==0&&(e=V8())&&(F8(e,n),U8(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},$8=function(){var t=B8();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},qk=function(){var t=$8(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},z8={left:0,top:0,right:0,gap:0},Kv=function(t){return parseInt(t||"",10)||0},K8=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Kv(n),Kv(r),Kv(s)]},W8=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return z8;var e=K8(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},H8=qk(),rc="data-scroll-locked",q8=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(A8,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(rc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Op,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Lp,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Op," .").concat(Op,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Lp," .").concat(Lp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(rc,`] {
    `).concat(P8,": ").concat(a,`px;
  }
`)},mI=function(){var t=parseInt(document.body.getAttribute(rc)||"0",10);return isFinite(t)?t:0},G8=function(){m.useEffect(function(){return document.body.setAttribute(rc,(mI()+1).toString()),function(){var t=mI()-1;t<=0?document.body.removeAttribute(rc):document.body.setAttribute(rc,t.toString())}},[])},Q8=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;G8();var i=m.useMemo(function(){return W8(s)},[s]);return m.createElement(H8,{styles:q8(i,!e,s,n?"":"!important")})},D0=!1;if(typeof window<"u")try{var Zf=Object.defineProperty({},"passive",{get:function(){return D0=!0,!0}});window.addEventListener("test",Zf,Zf),window.removeEventListener("test",Zf,Zf)}catch{D0=!1}var El=D0?{passive:!1}:!1,Y8=function(t){return t.tagName==="TEXTAREA"},Gk=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Y8(t)&&n[e]==="visible")},X8=function(t){return Gk(t,"overflowY")},J8=function(t){return Gk(t,"overflowX")},gI=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Qk(t,r);if(s){var i=Yk(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Z8=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},e7=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Qk=function(t,e){return t==="v"?X8(e):J8(e)},Yk=function(t,e){return t==="v"?Z8(e):e7(e)},t7=function(t,e){return t==="h"&&e==="rtl"?-1:1},n7=function(t,e,n,r,s){var i=t7(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,u=o>0,d=0,p=0;do{var g=Yk(t,a),v=g[0],w=g[1],E=g[2],_=w-E-i*v;(v||_)&&Qk(t,a)&&(d+=_,p+=v),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(d)<1||!s)||!u&&(Math.abs(p)<1||!s))&&(c=!0),c},ep=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},yI=function(t){return[t.deltaX,t.deltaY]},vI=function(t){return t&&"current"in t?t.current:t},r7=function(t,e){return t[0]===e[0]&&t[1]===e[1]},s7=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},i7=0,Tl=[];function o7(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(i7++)[0],i=m.useState(qk)[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var w=G3([t.lockRef.current],(t.shards||[]).map(vI),!0).filter(Boolean);return w.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),w.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(w,E){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var _=ep(w),y=n.current,S="deltaX"in w?w.deltaX:y[0]-_[0],A="deltaY"in w?w.deltaY:y[1]-_[1],D,O=w.target,C=Math.abs(S)>Math.abs(A)?"h":"v";if("touches"in w&&C==="h"&&O.type==="range")return!1;var T=gI(C,O);if(!T)return!0;if(T?D=C:(D=C==="v"?"h":"v",T=gI(C,O)),!T)return!1;if(!r.current&&"changedTouches"in w&&(S||A)&&(r.current=D),!D)return!0;var I=r.current||D;return n7(I,E,w,I==="h"?S:A,!0)},[]),l=m.useCallback(function(w){var E=w;if(!(!Tl.length||Tl[Tl.length-1]!==i)){var _="deltaY"in E?yI(E):ep(E),y=e.current.filter(function(D){return D.name===E.type&&(D.target===E.target||E.target===D.shadowParent)&&r7(D.delta,_)})[0];if(y&&y.should){E.cancelable&&E.preventDefault();return}if(!y){var S=(o.current.shards||[]).map(vI).filter(Boolean).filter(function(D){return D.contains(E.target)}),A=S.length>0?a(E,S[0]):!o.current.noIsolation;A&&E.cancelable&&E.preventDefault()}}},[]),c=m.useCallback(function(w,E,_,y){var S={name:w,delta:E,target:_,should:y,shadowParent:a7(_)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(A){return A!==S})},1)},[]),u=m.useCallback(function(w){n.current=ep(w),r.current=void 0},[]),d=m.useCallback(function(w){c(w.type,yI(w),w.target,a(w,t.lockRef.current))},[]),p=m.useCallback(function(w){c(w.type,ep(w),w.target,a(w,t.lockRef.current))},[]);m.useEffect(function(){return Tl.push(i),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:p}),document.addEventListener("wheel",l,El),document.addEventListener("touchmove",l,El),document.addEventListener("touchstart",u,El),function(){Tl=Tl.filter(function(w){return w!==i}),document.removeEventListener("wheel",l,El),document.removeEventListener("touchmove",l,El),document.removeEventListener("touchstart",u,El)}},[]);var g=t.removeScrollBar,v=t.inert;return m.createElement(m.Fragment,null,v?m.createElement(i,{styles:s7(s)}):null,g?m.createElement(Q8,{gapMode:t.gapMode}):null)}function a7(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const l7=L8(Hk,o7);var Gg=m.forwardRef(function(t,e){return m.createElement(qg,As({},t,{ref:e,sideCar:l7}))});Gg.classNames=qg.classNames;var k0=["Enter"," "],c7=["ArrowDown","PageUp","Home"],Xk=["ArrowUp","PageDown","End"],u7=[...c7,...Xk],d7={ltr:[...k0,"ArrowRight"],rtl:[...k0,"ArrowLeft"]},h7={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Kh="Menu",[Jd,f7,p7]=Fg(Kh),[il,Jk]=UW(Kh,[p7,Zc,Hg]),Qg=Zc(),Zk=Hg(),[m7,ol]=il(Kh),[g7,Wh]=il(Kh),eM=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=Qg(e),[l,c]=m.useState(null),u=m.useRef(!1),d=Dt(i),p=Ug(s);return m.useEffect(()=>{const g=()=>{u.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>u.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),f.jsx(oE,{...a,children:f.jsx(m7,{scope:e,open:n,onOpenChange:d,content:l,onContentChange:c,children:f.jsx(g7,{scope:e,onClose:m.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:p,modal:o,children:r})})})};eM.displayName=Kh;var y7="MenuAnchor",dE=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Qg(n);return f.jsx(aE,{...s,...r,ref:e})});dE.displayName=y7;var hE="MenuPortal",[v7,tM]=il(hE,{forceMount:void 0}),nM=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=ol(hE,e);return f.jsx(v7,{scope:e,forceMount:n,children:f.jsx(zh,{present:n||i.open,children:f.jsx(Lk,{asChild:!0,container:s,children:r})})})};nM.displayName=hE;var Kr="MenuContent",[w7,fE]=il(Kr),rM=m.forwardRef((t,e)=>{const n=tM(Kr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=ol(Kr,t.__scopeMenu),o=Wh(Kr,t.__scopeMenu);return f.jsx(Jd.Provider,{scope:t.__scopeMenu,children:f.jsx(zh,{present:r||i.open,children:f.jsx(Jd.Slot,{scope:t.__scopeMenu,children:o.modal?f.jsx(_7,{...s,ref:e}):f.jsx(x7,{...s,ref:e})})})})}),_7=m.forwardRef((t,e)=>{const n=ol(Kr,t.__scopeMenu),r=m.useRef(null),s=Me(e,r);return m.useEffect(()=>{const i=r.current;if(i)return uE(i)},[]),f.jsx(pE,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ee(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),x7=m.forwardRef((t,e)=>{const n=ol(Kr,t.__scopeMenu);return f.jsx(pE,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),pE=m.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:p,onDismiss:g,disableOutsideScroll:v,...w}=t,E=ol(Kr,n),_=Wh(Kr,n),y=Qg(n),S=Zk(n),A=f7(n),[D,O]=m.useState(null),C=m.useRef(null),T=Me(e,C,E.onContentChange),I=m.useRef(0),P=m.useRef(""),M=m.useRef(0),k=m.useRef(null),N=m.useRef("right"),H=m.useRef(0),ae=v?Gg:m.Fragment,te=v?{as:Do,allowPinchZoom:!0}:void 0,ne=B=>{var ce,Ve;const Z=P.current+B,pe=A().filter(st=>!st.disabled),Te=document.activeElement,Ae=(ce=pe.find(st=>st.ref.current===Te))==null?void 0:ce.textValue,Je=pe.map(st=>st.textValue),yt=k7(Je,Z,Ae),qe=(Ve=pe.find(st=>st.textValue===yt))==null?void 0:Ve.ref.current;(function st(Fe){P.current=Fe,window.clearTimeout(I.current),Fe!==""&&(I.current=window.setTimeout(()=>st(""),1e3))})(Z),qe&&setTimeout(()=>qe.focus())};m.useEffect(()=>()=>window.clearTimeout(I.current),[]),Xx();const z=m.useCallback(B=>{var pe,Te;return N.current===((pe=k.current)==null?void 0:pe.side)&&O7(B,(Te=k.current)==null?void 0:Te.area)},[]);return f.jsx(w7,{scope:n,searchRef:P,onItemEnter:m.useCallback(B=>{z(B)&&B.preventDefault()},[z]),onItemLeave:m.useCallback(B=>{var Z;z(B)||((Z=C.current)==null||Z.focus(),O(null))},[z]),onTriggerLeave:m.useCallback(B=>{z(B)&&B.preventDefault()},[z]),pointerGraceTimerRef:M,onPointerGraceIntentChange:m.useCallback(B=>{k.current=B},[]),children:f.jsx(ae,{...te,children:f.jsx(Bg,{asChild:!0,trapped:s,onMountAutoFocus:ee(i,B=>{var Z;B.preventDefault(),(Z=C.current)==null||Z.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:f.jsx(mk,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:p,onDismiss:g,children:f.jsx($k,{asChild:!0,...S,dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:D,onCurrentTabStopIdChange:O,onEntryFocus:ee(l,B=>{_.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:f.jsx(lE,{role:"menu","aria-orientation":"vertical","data-state":wM(E.open),"data-radix-menu-content":"",dir:_.dir,...y,...w,ref:T,style:{outline:"none",...w.style},onKeyDown:ee(w.onKeyDown,B=>{const pe=B.target.closest("[data-radix-menu-content]")===B.currentTarget,Te=B.ctrlKey||B.altKey||B.metaKey,Ae=B.key.length===1;pe&&(B.key==="Tab"&&B.preventDefault(),!Te&&Ae&&ne(B.key));const Je=C.current;if(B.target!==Je||!u7.includes(B.key))return;B.preventDefault();const qe=A().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);Xk.includes(B.key)&&qe.reverse(),N7(qe)}),onBlur:ee(t.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(I.current),P.current="")}),onPointerMove:ee(t.onPointerMove,Zd(B=>{const Z=B.target,pe=H.current!==B.clientX;if(B.currentTarget.contains(Z)&&pe){const Te=B.clientX>H.current?"right":"left";N.current=Te,H.current=B.clientX}}))})})})})})})});rM.displayName=Kr;var E7="MenuGroup",mE=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(xe.div,{role:"group",...r,ref:e})});mE.displayName=E7;var T7="MenuLabel",sM=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(xe.div,{...r,ref:e})});sM.displayName=T7;var Om="MenuItem",wI="menu.itemSelect",Yg=m.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=m.useRef(null),o=Wh(Om,t.__scopeMenu),a=fE(Om,t.__scopeMenu),l=Me(e,i),c=m.useRef(!1),u=()=>{const d=i.current;if(!n&&d){const p=new CustomEvent(wI,{bubbles:!0,cancelable:!0});d.addEventListener(wI,g=>r==null?void 0:r(g),{once:!0}),sl(d,p),p.defaultPrevented?c.current=!1:o.onClose()}};return f.jsx(iM,{...s,ref:l,disabled:n,onClick:ee(t.onClick,u),onPointerDown:d=>{var p;(p=t.onPointerDown)==null||p.call(t,d),c.current=!0},onPointerUp:ee(t.onPointerUp,d=>{var p;c.current||(p=d.currentTarget)==null||p.click()}),onKeyDown:ee(t.onKeyDown,d=>{const p=a.searchRef.current!=="";n||p&&d.key===" "||k0.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});Yg.displayName=Om;var iM=m.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=fE(Om,n),a=Zk(n),l=m.useRef(null),c=Me(e,l),[u,d]=m.useState(!1),[p,g]=m.useState("");return m.useEffect(()=>{const v=l.current;v&&g((v.textContent??"").trim())},[i.children]),f.jsx(Jd.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:f.jsx(zk,{asChild:!0,...a,focusable:!r,children:f.jsx(xe.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:ee(t.onPointerMove,Zd(v=>{r?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ee(t.onPointerLeave,Zd(v=>o.onItemLeave(v))),onFocus:ee(t.onFocus,()=>d(!0)),onBlur:ee(t.onBlur,()=>d(!1))})})})}),S7="MenuCheckboxItem",oM=m.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return f.jsx(dM,{scope:t.__scopeMenu,checked:n,children:f.jsx(Yg,{role:"menuitemcheckbox","aria-checked":Lm(n)?"mixed":n,...s,ref:e,"data-state":yE(n),onSelect:ee(s.onSelect,()=>r==null?void 0:r(Lm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});oM.displayName=S7;var aM="MenuRadioGroup",[b7,C7]=il(aM,{value:void 0,onValueChange:()=>{}}),lM=m.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Dt(r);return f.jsx(b7,{scope:t.__scopeMenu,value:n,onValueChange:i,children:f.jsx(mE,{...s,ref:e})})});lM.displayName=aM;var cM="MenuRadioItem",uM=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=C7(cM,t.__scopeMenu),i=n===s.value;return f.jsx(dM,{scope:t.__scopeMenu,checked:i,children:f.jsx(Yg,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":yE(i),onSelect:ee(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});uM.displayName=cM;var gE="MenuItemIndicator",[dM,I7]=il(gE,{checked:!1}),hM=m.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=I7(gE,n);return f.jsx(zh,{present:r||Lm(i.checked)||i.checked===!0,children:f.jsx(xe.span,{...s,ref:e,"data-state":yE(i.checked)})})});hM.displayName=gE;var A7="MenuSeparator",fM=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(xe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});fM.displayName=A7;var P7="MenuArrow",pM=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Qg(n);return f.jsx(cE,{...s,...r,ref:e})});pM.displayName=P7;var R7="MenuSub",[$ue,mM]=il(R7),Hu="MenuSubTrigger",gM=m.forwardRef((t,e)=>{const n=ol(Hu,t.__scopeMenu),r=Wh(Hu,t.__scopeMenu),s=mM(Hu,t.__scopeMenu),i=fE(Hu,t.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},u=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>u,[u]),m.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),l(null)}},[a,l]),f.jsx(dE,{asChild:!0,...c,children:f.jsx(iM,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":wM(n.open),...t,ref:Vg(e,s.onTriggerChange),onClick:d=>{var p;(p=t.onClick)==null||p.call(t,d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ee(t.onPointerMove,Zd(d=>{i.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:ee(t.onPointerLeave,Zd(d=>{var g,v;u();const p=(g=n.content)==null?void 0:g.getBoundingClientRect();if(p){const w=(v=n.content)==null?void 0:v.dataset.side,E=w==="right",_=E?-5:5,y=p[E?"left":"right"],S=p[E?"right":"left"];i.onPointerGraceIntentChange({area:[{x:d.clientX+_,y:d.clientY},{x:y,y:p.top},{x:S,y:p.top},{x:S,y:p.bottom},{x:y,y:p.bottom}],side:w}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(d),d.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ee(t.onKeyDown,d=>{var g;const p=i.searchRef.current!=="";t.disabled||p&&d.key===" "||d7[r.dir].includes(d.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),d.preventDefault())})})})});gM.displayName=Hu;var yM="MenuSubContent",vM=m.forwardRef((t,e)=>{const n=tM(Kr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=ol(Kr,t.__scopeMenu),o=Wh(Kr,t.__scopeMenu),a=mM(yM,t.__scopeMenu),l=m.useRef(null),c=Me(e,l);return f.jsx(Jd.Provider,{scope:t.__scopeMenu,children:f.jsx(zh,{present:r||i.open,children:f.jsx(Jd.Slot,{scope:t.__scopeMenu,children:f.jsx(pE,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;o.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:ee(t.onFocusOutside,u=>{u.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ee(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:ee(t.onKeyDown,u=>{var g;const d=u.currentTarget.contains(u.target),p=h7[o.dir].includes(u.key);d&&p&&(i.onOpenChange(!1),(g=a.trigger)==null||g.focus(),u.preventDefault())})})})})})});vM.displayName=yM;function wM(t){return t?"open":"closed"}function Lm(t){return t==="indeterminate"}function yE(t){return Lm(t)?"indeterminate":t?"checked":"unchecked"}function N7(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function D7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function k7(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=D7(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function M7(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(s=!s)}return s}function O7(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return M7(n,e)}function Zd(t){return e=>e.pointerType==="mouse"?t(e):void 0}var L7=eM,j7=dE,V7=nM,F7=rM,U7=mE,B7=sM,$7=Yg,z7=oM,K7=lM,W7=uM,H7=hM,q7=fM,G7=pM,Q7=gM,Y7=vM,vE="DropdownMenu",[X7,zue]=DW(vE,[Jk]),nr=Jk(),[J7,_M]=X7(vE),xM=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=nr(e),c=m.useRef(null),[u=!1,d]=No({prop:s,defaultProp:i,onChange:o});return f.jsx(J7,{scope:e,triggerId:ds(),triggerRef:c,contentId:ds(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(p=>!p),[d]),modal:a,children:f.jsx(L7,{...l,open:u,onOpenChange:d,dir:r,modal:a,children:n})})};xM.displayName=vE;var EM="DropdownMenuTrigger",TM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=_M(EM,n),o=nr(n);return f.jsx(j7,{asChild:!0,...o,children:f.jsx(xe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Vg(e,i.triggerRef),onPointerDown:ee(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:ee(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});TM.displayName=EM;var Z7="DropdownMenuPortal",SM=t=>{const{__scopeDropdownMenu:e,...n}=t,r=nr(e);return f.jsx(V7,{...r,...n})};SM.displayName=Z7;var bM="DropdownMenuContent",CM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=_M(bM,n),i=nr(n),o=m.useRef(!1);return f.jsx(F7,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:ee(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:ee(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!s.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});CM.displayName=bM;var eq="DropdownMenuGroup",tq=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=nr(n);return f.jsx(U7,{...s,...r,ref:e})});tq.displayName=eq;var nq="DropdownMenuLabel",IM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=nr(n);return f.jsx(B7,{...s,...r,ref:e})});IM.displayName=nq;var rq="DropdownMenuItem",AM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=nr(n);return f.jsx($7,{...s,...r,ref:e})});AM.displayName=rq;var sq="DropdownMenuCheckboxItem",PM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=nr(n);return f.jsx(z7,{...s,...r,ref:e})});PM.displayName=sq;var iq="DropdownMenuRadioGroup",oq=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=nr(n);return f.jsx(K7,{...s,...r,ref:e})});oq.displayName=iq;var aq="DropdownMenuRadioItem",RM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=nr(n);return f.jsx(W7,{...s,...r,ref:e})});RM.displayName=aq;var lq="DropdownMenuItemIndicator",NM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=nr(n);return f.jsx(H7,{...s,...r,ref:e})});NM.displayName=lq;var cq="DropdownMenuSeparator",DM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=nr(n);return f.jsx(q7,{...s,...r,ref:e})});DM.displayName=cq;var uq="DropdownMenuArrow",dq=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=nr(n);return f.jsx(G7,{...s,...r,ref:e})});dq.displayName=uq;var hq="DropdownMenuSubTrigger",kM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=nr(n);return f.jsx(Q7,{...s,...r,ref:e})});kM.displayName=hq;var fq="DropdownMenuSubContent",MM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=nr(n);return f.jsx(Y7,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});MM.displayName=fq;var pq=xM,mq=TM,gq=SM,OM=CM,LM=IM,jM=AM,VM=PM,FM=RM,UM=NM,BM=DM,$M=kM,zM=MM;function KM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=KM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function yq(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=KM(t))&&(r&&(r+=" "),r+=e);return r}const wE="-",vq=t=>{const e=_q(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(wE);return a[0]===""&&a.length!==1&&a.shift(),WM(a,e)||wq(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},WM=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?WM(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(wE);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},_I=/^\[(.+)\]$/,wq=t=>{if(_I.test(t)){const e=_I.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},_q=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Eq(Object.entries(t.classGroups),n).forEach(([i,o])=>{M0(o,r,i,e)}),r},M0=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:xI(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(xq(s)){M0(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{M0(o,xI(e,i),n,r)})})},xI=(t,e)=>{let n=t;return e.split(wE).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},xq=t=>t.isThemeGetter,Eq=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,Tq=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},HM="!",Sq=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,u=0,d;for(let E=0;E<a.length;E++){let _=a[E];if(c===0){if(_===s&&(r||a.slice(E,E+i)===e)){l.push(a.slice(u,E)),u=E+i;continue}if(_==="/"){d=E;continue}}_==="["?c++:_==="]"&&c--}const p=l.length===0?a:a.substring(u),g=p.startsWith(HM),v=g?p.substring(1):p,w=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:w}};return n?a=>n({className:a,parseClassName:o}):o},bq=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Cq=t=>({cache:Tq(t.cacheSize),parseClassName:Sq(t),...vq(t)}),Iq=/\s+/,Aq=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(Iq);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:p,maybePostfixModifierPosition:g}=n(c);let v=!!g,w=r(v?p.substring(0,g):p);if(!w){if(!v){a=c+(a.length>0?" "+a:a);continue}if(w=r(p),!w){a=c+(a.length>0?" "+a:a);continue}v=!1}const E=bq(u).join(":"),_=d?E+HM:E,y=_+w;if(i.includes(y))continue;i.push(y);const S=s(w,v);for(let A=0;A<S.length;++A){const D=S[A];i.push(_+D)}a=c+(a.length>0?" "+a:a)}return a};function Pq(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=qM(e))&&(r&&(r+=" "),r+=n);return r}const qM=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=qM(t[r]))&&(n&&(n+=" "),n+=e);return n};function Rq(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((u,d)=>d(u),t());return n=Cq(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=Aq(l,n);return s(l,u),u}return function(){return i(Pq.apply(null,arguments))}}const Ct=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},GM=/^\[(?:([a-z-]+):)?(.+)\]$/i,Nq=/^\d+\/\d+$/,Dq=new Set(["px","full","screen"]),kq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Mq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Oq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Lq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ws=t=>sc(t)||Dq.has(t)||Nq.test(t),Vi=t=>eu(t,"length",Wq),sc=t=>!!t&&!Number.isNaN(Number(t)),Wv=t=>eu(t,"number",sc),ku=t=>!!t&&Number.isInteger(Number(t)),Vq=t=>t.endsWith("%")&&sc(t.slice(0,-1)),Ue=t=>GM.test(t),Fi=t=>kq.test(t),Fq=new Set(["length","size","percentage"]),Uq=t=>eu(t,Fq,QM),Bq=t=>eu(t,"position",QM),$q=new Set(["image","url"]),zq=t=>eu(t,$q,qq),Kq=t=>eu(t,"",Hq),Mu=()=>!0,eu=(t,e,n)=>{const r=GM.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Wq=t=>Mq.test(t)&&!Oq.test(t),QM=()=>!1,Hq=t=>Lq.test(t),qq=t=>jq.test(t),Gq=()=>{const t=Ct("colors"),e=Ct("spacing"),n=Ct("blur"),r=Ct("brightness"),s=Ct("borderColor"),i=Ct("borderRadius"),o=Ct("borderSpacing"),a=Ct("borderWidth"),l=Ct("contrast"),c=Ct("grayscale"),u=Ct("hueRotate"),d=Ct("invert"),p=Ct("gap"),g=Ct("gradientColorStops"),v=Ct("gradientColorStopPositions"),w=Ct("inset"),E=Ct("margin"),_=Ct("opacity"),y=Ct("padding"),S=Ct("saturate"),A=Ct("scale"),D=Ct("sepia"),O=Ct("skew"),C=Ct("space"),T=Ct("translate"),I=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",Ue,e],k=()=>[Ue,e],N=()=>["",Ws,Vi],H=()=>["auto",sc,Ue],ae=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",Ue],Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],pe=()=>[sc,Ue];return{cacheSize:500,separator:":",theme:{colors:[Mu],spacing:[Ws,Vi],blur:["none","",Fi,Ue],brightness:pe(),borderColor:[t],borderRadius:["none","","full",Fi,Ue],borderSpacing:k(),borderWidth:N(),contrast:pe(),grayscale:B(),hueRotate:pe(),invert:B(),gap:k(),gradientColorStops:[t],gradientColorStopPositions:[Vq,Vi],inset:M(),margin:M(),opacity:pe(),padding:k(),saturate:pe(),scale:pe(),sepia:B(),skew:pe(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",Ue]}],container:["container"],columns:[{columns:[Fi]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ae(),Ue]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ku,Ue]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ue]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",ku,Ue]}],"grid-cols":[{"grid-cols":[Mu]}],"col-start-end":[{col:["auto",{span:["full",ku,Ue]},Ue]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Mu]}],"row-start-end":[{row:["auto",{span:[ku,Ue]},Ue]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ue]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ue,e]}],"min-w":[{"min-w":[Ue,e,"min","max","fit"]}],"max-w":[{"max-w":[Ue,e,"none","full","min","max","fit","prose",{screen:[Fi]},Fi]}],h:[{h:[Ue,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ue,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ue,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ue,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Fi,Vi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Wv]}],"font-family":[{font:[Mu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ue]}],"line-clamp":[{"line-clamp":["none",sc,Wv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ws,Ue]}],"list-image":[{"list-image":["none",Ue]}],"list-style-type":[{list:["none","disc","decimal",Ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ws,Vi]}],"underline-offset":[{"underline-offset":["auto",Ws,Ue]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ae(),Bq]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Uq]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},zq]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:te()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[Ws,Ue]}],"outline-w":[{outline:[Ws,Vi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Ws,Vi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Fi,Kq]}],"shadow-color":[{shadow:[Mu]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Fi,Ue]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[S]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ue]}],duration:[{duration:pe()}],ease:[{ease:["linear","in","out","in-out",Ue]}],delay:[{delay:pe()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[ku,Ue]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ue]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ue]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ue]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ws,Vi,Wv]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Qq=Rq(Gq);function de(...t){return Qq(yq(t))}const Xg=pq,Jg=mq,Yq=m.forwardRef(({className:t,inset:e,children:n,...r},s)=>f.jsxs($M,{ref:s,className:de("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,f.jsx(ok,{className:"ml-auto h-4 w-4"})]}));Yq.displayName=$M.displayName;const Xq=m.forwardRef(({className:t,...e},n)=>f.jsx(zM,{ref:n,className:de("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Xq.displayName=zM.displayName;const Hh=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>f.jsx(gq,{children:f.jsx(OM,{ref:r,sideOffset:e,className:de("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Hh.displayName=OM.displayName;const ho=m.forwardRef(({className:t,inset:e,...n},r)=>f.jsx(jM,{ref:r,className:de("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));ho.displayName=jM.displayName;const Jq=m.forwardRef(({className:t,children:e,checked:n,...r},s)=>f.jsxs(VM,{ref:s,className:de("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(UM,{children:f.jsx(sk,{className:"h-4 w-4"})})}),e]}));Jq.displayName=VM.displayName;const Zq=m.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(FM,{ref:r,className:de("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(UM,{children:f.jsx(mW,{className:"h-2 w-2 fill-current"})})}),e]}));Zq.displayName=FM.displayName;const YM=m.forwardRef(({className:t,inset:e,...n},r)=>f.jsx(LM,{ref:r,className:de("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));YM.displayName=LM.displayName;const _E=m.forwardRef(({className:t,...e},n)=>f.jsx(BM,{ref:n,className:de("-mx-1 my-1 h-px bg-muted",t),...e}));_E.displayName=BM.displayName;const eG=t=>Object.entries(t).map(([e,n])=>({id:Date.now().toString(),key:e,value:n})),tG=t=>t<1024?t+" bytes":t<1048576?(t/1024).toFixed(1)+" KB":(t/1048576).toFixed(1)+" MB",eh=t=>{try{const e=decodeURIComponent(t),n=e.lastIndexOf("/")+1,r=e.indexOf("?alt=");return n!==-1&&r!==-1?e.substring(n,r):null}catch(e){return console.error("Failed to extract filename:",e),null}},xE=t=>t&&t.charAt(0).toUpperCase()+t.slice(1);function XM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=XM(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function nG(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=XM(t))&&(r&&(r+=" "),r+=e);return r}const EI=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,TI=nG,qh=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return TI(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const u=n==null?void 0:n[c],d=i==null?void 0:i[c];if(u===null)return null;const p=EI(u)||EI(d);return s[c][p]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,p]=u;return p===void 0||(c[d]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:p,...g}=u;return Object.entries(g).every(v=>{let[w,E]=v;return Array.isArray(E)?E.includes({...i,...a}[w]):{...i,...a}[w]===E})?[...c,d,p]:c},[]);return TI(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},rG=qh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Gh({className:t,variant:e,...n}){return f.jsx("div",{className:de(rG({variant:e}),t),...n})}const sG=({children:t,text:e})=>{const n=Fh(),r=Pt(o=>o.admin),s=Pt(o=>o.logout),i=o=>{switch(o){case"admin":return f.jsx(bW,{className:"mr-2 h-4 w-4"});case"editor":return f.jsx(CW,{className:"mr-2 h-4 w-4"});case"viewer":return f.jsx(Gx,{className:"mr-2 h-4 w-4"})}};return r?f.jsxs("header",{className:"w-full flex flex-col items-center ",children:[f.jsxs("div",{className:"w-full px-8 h-14 flex items-center justify-between",children:[f.jsx("p",{children:e}),f.jsxs(Xg,{children:[f.jsx(Jg,{asChild:!0,children:f.jsx("div",{className:"hover:bg-slate-200 rounded-lg p-2 cursor-pointer",children:f.jsx(PW,{})})}),f.jsxs(Hh,{align:"end",className:"w-64 bg-white border border-neutral-300 p-1 rounded-lg shadow-md",children:[f.jsx(YM,{className:"font-normal",children:f.jsxs("div",{className:"flex flex-col space-y-1",children:[f.jsx("p",{className:"text-sm font-medium truncate leading-tight",title:r.email,children:r.email}),f.jsxs("div",{className:"flex items-center pt-1",children:[i(r.role),f.jsx(Gh,{variant:"secondary",className:de("flex w-16 items-center justify-center pointer-events-none select-none",r.role==="admin"&&"bg-red-200 text-red-800",r.role==="editor"&&"bg-blue-200 text-blue-800",r.role==="viewer"&&"bg-green-200 text-green-800"),children:xE(r.role)})]})]})}),f.jsx(_E,{}),f.jsxs(ho,{onClick:s,className:"flex items-center",children:[f.jsx(EW,{className:"mr-2 h-4 w-4"}),f.jsx("span",{children:"Log out"})]})]})]})]}),t]}):(ke("No admin found redirecting the admin to login page"),n("/login"))},iG=({Component:t})=>f.jsx("div",{className:"flex-1 flex justify-center =py-3",children:f.jsx(t,{})}),oG=({headerText:t})=>f.jsx("header",{className:"py-4 text-3xl font-semibold w-full",children:t});function tp(){return Date.now().toString()}const Kt=()=>{const t=new Date,e={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};return t.toLocaleDateString("en-US",e)},Hv="http://localhost:3001",Zg=async(t,e)=>{const{method:n="GET",headers:r={},body:s}=e,{accessToken:i,setAccessToken:o,logout:a}=Pt.getState(),l={method:n,credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer ${i}`,...r},...s&&{body:JSON.stringify(s)}};try{let c=await fetch(`${Hv}${t}`,l);if(c.status===401){ke("Fetching new access token");const d=await fetch(`${Hv}/api/auth/refresh-token`,{method:"POST",credentials:"include"});d.status===404&&a();const{accessToken:p}=await d.json();o(p),l.headers={...l.headers,authorization:`Bearer ${p}`},c=await fetch(`${Hv}${t}`,l)}return await c.json()}catch(c){throw console.error("Request failed:",c),c}},EE=(t,e)=>Zg(t,{method:"GET",headers:e}),tu=(t,e,n)=>Zg(t,{method:"POST",headers:e,body:n}),ey=(t,e,n)=>Zg(t,{method:"PUT",headers:e,body:n}),TE=(t,e,n)=>Zg(t,{method:"DELETE",headers:e,body:n}),aG=async t=>{const e={userQuery:t},{success:n,response:r}=await tu("/api/chatbot/query-admin",{},e);if(!n)throw new Error(`Sending query to chatbot was unsuccessful: ${r}`);return r},lG=async()=>{const{success:t,response:e}=await tu("/api/chatbot/train",{});if(!t)throw new Error(`Training model is unsuccessful: ${e}`)},JM=()=>e=>new Promise(n=>{setTimeout(n,e)}),cG=()=>{const t=JM(),[e,n]=m.useState([]),[r,s]=m.useState(null),[i,o]=m.useState(!1),a=m.useRef(null),l=()=>{var E;(E=a.current)==null||E.scrollIntoView({behavior:"smooth"})};m.useEffect(()=>{l()},[e]);const c=E=>E.replace(/\[=[^\]]+=\]/g,"").replace(/<[^>]+>\{=[^=]+=\}/g,"").trim(),u=E=>{var S;const _=/<([^>]+)>\{=([^=]+)=\}/,y=/\[\=([^\]]+)\=\]/;if(_.test(E)){const A=E.match(_);if(A)return{type:"link",linkText:A[1],linkUrl:A[2]}}if(y.test(E)){const A=E.match(y);if(A){const D=(S=eh(A[1]))==null?void 0:S.split(".")[1];return console.log(D),{type:"file",source:A[1],fileType:D??"unknown"}}}},d=E=>{const _={uuid:tp(),text:E,sender:"user"};n(y=>[...y,_])},p=E=>{const _={uuid:tp(),text:E.answer,sender:"bot",response:E};s(E),i||o(!0),n(y=>[...y,_])},g=(E,_)=>{const y={uuid:tp(),sender:"bot",linkData:{linkText:E,linkUrl:_}};n(S=>[...S,y])},v=(E,_)=>{const y={uuid:tp(),sender:"bot",fileData:{source:E,type:_}};n(S=>[...S,y])};return{messageHistory:e,handleSubmitMessage:async E=>{try{if(!E)throw new Error("Message is empty");d(E);const _=await aG(E),y=u(_.answer);if(!y){p(_);return}const S=c(_.answer),A={..._,answer:S};p(A),await t(1e3),y.type==="file"&&v(y.source,y.fileType),y.type==="link"&&g(y.linkText,y.linkUrl)}catch(_){if(_ instanceof Error){ke(_.message,!0);return}console.error("Unknown error occured: ",_)}},endOfMessagesRef:a,selectedResponse:r,setSelectedResponse:s,isInfoPanelOpen:i,setIsInfoPanelOpen:o}};var SE="Progress",bE=100,[uG,Kue]=Yc(SE),[dG,hG]=uG(SE),ZM=m.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=fG,...o}=t;(s||s===0)&&!SI(s)&&console.error(pG(`${s}`,"Progress"));const a=SI(s)?s:bE;r!==null&&!bI(r,a)&&console.error(mG(`${r}`,"Progress"));const l=bI(r,a)?r:null,c=jm(l)?i(l,a):void 0;return f.jsx(dG,{scope:n,value:l,max:a,children:f.jsx(xe.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":jm(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":nO(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});ZM.displayName=SE;var eO="ProgressIndicator",tO=m.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=hG(eO,n);return f.jsx(xe.div,{"data-state":nO(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});tO.displayName=eO;function fG(t,e){return`${Math.round(t/e*100)}%`}function nO(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function jm(t){return typeof t=="number"}function SI(t){return jm(t)&&!isNaN(t)&&t>0}function bI(t,e){return jm(t)&&!isNaN(t)&&t<=e&&t>=0}function pG(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${bE}\`.`}function mG(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${bE} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var rO=ZM,gG=tO;const sO=m.forwardRef(({className:t,value:e,...n},r)=>f.jsx(rO,{ref:r,className:de("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:f.jsx(gG,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));sO.displayName=rO.displayName;const yG=({responseData:t,showPanel:e})=>{var r,s,i;const n=()=>t==null?void 0:t.classifications.slice(0,3).filter(a=>a.intent!=="None"&&a.score>0);return f.jsx("div",{className:`bg-gray-50  transition-all duration-300 ease-in-out overflow-hidden ${e?"w-64 border-l border-neutral-200":"w-0"}`,children:f.jsx("div",{className:"w-64 h-full",children:f.jsxs("div",{className:de(`p-4 h-full flex flex-col transition-opacity duration-300,
            showPanel ? "opacity-100" : "opacity-0"
            }`),children:[f.jsxs("h2",{className:"text-lg font-semibold text-gray-700 mb-4 flex items-center",children:[f.jsx(yW,{className:"w-5 h-5 mr-2"}),"Bot Response Info"]}),t?f.jsxs("div",{className:"space-y-4 flex-grow",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"flex items-center justify-between space-x-2 text-sm font-medium text-gray-700 mb-1",children:[f.jsx("p",{children:"Confidence Score "}),f.jsxs("div",{className:"flex items-center",children:[f.jsx(IW,{className:"size-4 mr-1 text-yellow-400 fill-yellow-400"}),f.jsx("span",{className:"text-sm font-medium text-gray-600",children:t.score.toFixed(2)})]})]}),f.jsx("div",{className:"flex items-center gap-2",children:f.jsx(sO,{value:t.score*100,className:"w-full"})})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Detected Intent"}),f.jsx(Gh,{variant:"outline",children:t==null?void 0:t.intent})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Other Possible Intents"}),f.jsx("ul",{className:de("list-disc space-y-1",((r=n())==null?void 0:r.length)&&"pl-5"),children:(s=n())!=null&&s.length?(i=n())==null?void 0:i.map((o,a)=>f.jsx("li",{className:"text-sm ",children:f.jsxs("div",{className:"line-clamp-3",children:[f.jsx("span",{children:o.intent}),f.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",o.score.toFixed(2),")"]})]})},a)):f.jsx("span",{className:"text-sm text-muted-foreground",children:"No other intents detected"})})]})]}):f.jsx("div",{className:"text-center text-gray-500",children:"No bot response yet. Start a conversation to see details."})]})})})},on=m.forwardRef(({className:t,type:e,...n},r)=>f.jsx("input",{type:e,className:de("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));on.displayName="Input";const CE=qh("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ut=m.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Do:"button";return f.jsx(o,{className:de(CE({variant:e,size:n,className:t})),ref:i,...s})});ut.displayName="Button";const vG=({onSendMessage:t})=>{const[e,n]=m.useState(""),[r,s]=m.useState([]),[i,o]=m.useState(-1),a=d=>{s(p=>{const g=[...p,d];return g.length>3?g.slice(1):g})},l=d=>{n(d.target.value),o(-1)},c=async()=>{const d=e;a(d),n(""),await t(d)},u=async d=>{d.key==="Enter"&&e.trim()!==""&&await c(),d.key==="ArrowUp"&&(i>0?(o(i-1),n(r[i-1])):i===-1&&r.length>0&&(o(r.length-1),n(r[r.length-1]))),d.key==="ArrowDown"&&(i<r.length-1?(o(i+1),n(r[i+1])):(o(-1),n("")))};return f.jsxs("div",{className:"w-full h-[5rem] border-t border-t-customBorderColor flex items-center justify-between px-4 space-x-2",children:[f.jsx(on,{placeholder:"Type message here",value:e,onChange:l,onKeyDown:u}),f.jsxs(ut,{onClick:async()=>await c(),children:[f.jsx(hk,{className:"size-4 mr-2"}),"Send"]})]})},wG=["png","jpg","jpeg","jfif"],_G=["mp4"],xG=["pdf"],EG=({message:t,onItemClick:e})=>{if("linkData"in t){const{linkText:n,linkUrl:r}=t.linkData;return f.jsxs("div",{className:"flex text-blue-500 items-center space-x-1.5 w-fit rounded-tl-2xl rounded-tr-2xl transition-colors ease-out py-2.5 px-4 rounded-br-2xl rounded-bl-[2px] bg-gray-100 cursor-pointer",children:[f.jsx(vW,{className:"size-4"}),f.jsx("a",{href:r,className:"hover:underline underline-offset-2",target:"_blank",children:n})]})}if("fileData"in t){const{source:n,type:r}=t.fileData,s=i=>{if(wG.includes(i))return f.jsx("img",{className:"w-72 rounded-2xl",src:n});if(_G.includes(i))return f.jsx("video",{width:"288",height:"360",className:"rounded-2xl",controls:!0,children:f.jsx("source",{src:n,type:"video/mp4"})});if(xG.includes(i))return f.jsxs("div",{className:"flex space-x-1.5 items-center w-fit rounded-tl-2xl rounded-tr-2xl py-2.5 px-4 text-blue-600 rounded-br-2xl rounded-bl-[2px] bg-gray-100 cursor-pointer",children:[f.jsx(uk,{className:"size-5"}),f.jsx("a",{href:n,target:"_blank",className:"hover:underline underline-offset-2",children:eh(n)})]})};return f.jsx(f.Fragment,{children:s(r)})}if("text"in t&&"sender"in t||"response"in t){const{text:n,sender:r,response:s}=t;return f.jsx("div",{className:de("flex",r==="user"?"justify-end":"justify-start"),onClick:s?()=>e(s):void 0,children:f.jsx("div",{className:de("w-auto max-w-[90%] rounded-tl-2xl rounded-tr-2xl transition-colors ease-out whitespace-pre-wrap",r==="user"?"text-white py-1.5 px-3.5 rounded-bl-2xl rounded-br-[4px] bg-blue-500":"py-2.5 px-4 rounded-br-2xl rounded-bl-[2px] bg-gray-100 cursor-pointer",s?"hover:bg-gray-200":""),children:n})})}return null},ty=({items:t,renderItem:e,listStyle:n})=>f.jsx("div",{className:n,children:t==null?void 0:t.map((r,s)=>f.jsx(m.Fragment,{children:e(r)},s))});function TG(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}function th(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const O0=t=>Array.isArray(t);function iO(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function nh(t){return typeof t=="string"||Array.isArray(t)}function CI(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function IE(t,e,n,r){if(typeof e=="function"){const[s,i]=CI(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=CI(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function ny(t,e,n){const r=t.getProps();return IE(r,e,n!==void 0?n:r.custom,t)}const AE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],PE=["initial",...AE],Qh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yo=new Set(Qh),ci=t=>t*1e3,ui=t=>t/1e3,SG={type:"spring",stiffness:500,damping:25,restSpeed:10},bG=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),CG={type:"keyframes",duration:.8},IG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},AG=(t,{keyframes:e})=>e.length>2?CG:Yo.has(t)?t.startsWith("scale")?bG(e[1]):SG:IG;function PG({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function RE(t,e){return t[e]||t.default||t}const RG={skipAnimations:!1,useManualTiming:!1},NG=t=>t!==null;function ry(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(NG),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const Un=t=>t;function DG(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){i.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,u=!1,d=!1)=>{const g=d&&r?e:n;return u&&i.add(c),g.has(c)||g.add(c),c},cancel:c=>{n.delete(c),i.delete(c)},process:c=>{if(o=c,r){s=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,s&&(s=!1,l.process(c))}};return l}const np=["read","resolveKeyframes","update","preRender","render","postRender"],kG=40;function oO(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=np.reduce((_,y)=>(_[y]=DG(i),_),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:p}=o,g=()=>{const _=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(_-s.timestamp,kG),1),s.timestamp=_,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),u.process(s),d.process(s),p.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(g))},v=()=>{n=!0,r=!0,s.isProcessing||t(g)};return{schedule:np.reduce((_,y)=>{const S=o[y];return _[y]=(A,D=!1,O=!1)=>(n||v(),S.schedule(A,D,O)),_},{}),cancel:_=>{for(let y=0;y<np.length;y++)o[np[y]].cancel(_)},state:s,steps:o}}const{schedule:ht,cancel:Ti,state:wn,steps:qv}=oO(typeof requestAnimationFrame<"u"?requestAnimationFrame:Un,!0),aO=t=>/^0[^.\s]+$/u.test(t);function MG(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||aO(t):!0}let L0=Un;const lO=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),cO=t=>e=>typeof e=="string"&&e.startsWith(t),uO=cO("--"),OG=cO("var(--"),NE=t=>OG(t)?LG.test(t.split("/*")[0].trim()):!1,LG=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,jG=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function VG(t){const e=jG.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function dO(t,e,n=1){const[r,s]=VG(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return lO(o)?parseFloat(o):o}return NE(s)?dO(s,e,n+1):s}const jo=(t,e,n)=>n>e?e:n<t?t:n,nu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},dd={...nu,transform:t=>jo(0,1,t)},rp={...nu,default:1},hd=t=>Math.round(t*1e5)/1e5,DE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,FG=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,UG=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function Yh(t){return typeof t=="string"}function BG(t){return t==null}const Xh=t=>({test:e=>Yh(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),$i=Xh("deg"),Os=Xh("%"),Ce=Xh("px"),$G=Xh("vh"),zG=Xh("vw"),II={...Os,parse:t=>Os.parse(t)/100,transform:t=>Os.transform(t*100)},KG=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),AI=t=>t===nu||t===Ce,PI=(t,e)=>parseFloat(t.split(", ")[e]),RI=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return PI(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?PI(i[1],t):0}},WG=new Set(["x","y","z"]),HG=Qh.filter(t=>!WG.has(t));function qG(t){const e=[];return HG.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Dc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:RI(4,13),y:RI(5,14)};Dc.translateX=Dc.x;Dc.translateY=Dc.y;const hO=t=>e=>e.test(t),GG={test:t=>t==="auto",parse:t=>t},fO=[nu,Ce,Os,$i,zG,$G,GG],NI=t=>fO.find(hO(t)),Ma=new Set;let j0=!1,V0=!1;function pO(){if(V0){const t=Array.from(Ma).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=qG(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}V0=!1,j0=!1,Ma.forEach(t=>t.complete()),Ma.clear()}function mO(){Ma.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(V0=!0)})}function QG(){mO(),pO()}class kE{constructor(e,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ma.add(this),j0||(j0=!0,ht.read(mO),ht.resolveKeyframes(pO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ma.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ma.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const ME=(t,e)=>n=>!!(Yh(n)&&UG.test(n)&&n.startsWith(t)||e&&!BG(n)&&Object.prototype.hasOwnProperty.call(n,e)),gO=(t,e,n)=>r=>{if(!Yh(r))return r;const[s,i,o,a]=r.match(DE);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},YG=t=>jo(0,255,t),Gv={...nu,transform:t=>Math.round(YG(t))},_a={test:ME("rgb","red"),parse:gO("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Gv.transform(t)+", "+Gv.transform(e)+", "+Gv.transform(n)+", "+hd(dd.transform(r))+")"};function XG(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const F0={test:ME("#"),parse:XG,transform:_a.transform},$l={test:ME("hsl","hue"),parse:gO("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Os.transform(hd(e))+", "+Os.transform(hd(n))+", "+hd(dd.transform(r))+")"},Mn={test:t=>_a.test(t)||F0.test(t)||$l.test(t),parse:t=>_a.test(t)?_a.parse(t):$l.test(t)?$l.parse(t):F0.parse(t),transform:t=>Yh(t)?t:t.hasOwnProperty("red")?_a.transform(t):$l.transform(t)};function JG(t){var e,n;return isNaN(t)&&Yh(t)&&(((e=t.match(DE))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(FG))===null||n===void 0?void 0:n.length)||0)>0}const yO="number",vO="color",ZG="var",eQ="var(",DI="${}",tQ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function rh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(tQ,l=>(Mn.test(l)?(r.color.push(i),s.push(vO),n.push(Mn.parse(l))):l.startsWith(eQ)?(r.var.push(i),s.push(ZG),n.push(l)):(r.number.push(i),s.push(yO),n.push(parseFloat(l))),++i,DI)).split(DI);return{values:n,split:a,indexes:r,types:s}}function wO(t){return rh(t).values}function _O(t){const{split:e,types:n}=rh(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===yO?i+=hd(s[o]):a===vO?i+=Mn.transform(s[o]):i+=s[o]}return i}}const nQ=t=>typeof t=="number"?0:t;function rQ(t){const e=wO(t);return _O(t)(e.map(nQ))}const Vo={test:JG,parse:wO,createTransformer:_O,getAnimatableNone:rQ},sQ=new Set(["brightness","contrast","saturate","opacity"]);function iQ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(DE)||[];if(!r)return t;const s=n.replace(r,"");let i=sQ.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const oQ=/\b([a-z-]*)\(.*?\)/gu,U0={...Vo,getAnimatableNone:t=>{const e=t.match(oQ);return e?e.map(iQ).join(" "):t}},kI={...nu,transform:Math.round},OE={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,size:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,rotate:$i,rotateX:$i,rotateY:$i,rotateZ:$i,scale:rp,scaleX:rp,scaleY:rp,scaleZ:rp,skew:$i,skewX:$i,skewY:$i,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:dd,originX:II,originY:II,originZ:Ce,zIndex:kI,backgroundPositionX:Ce,backgroundPositionY:Ce,fillOpacity:dd,strokeOpacity:dd,numOctaves:kI},aQ={...OE,color:Mn,backgroundColor:Mn,outlineColor:Mn,fill:Mn,stroke:Mn,borderColor:Mn,borderTopColor:Mn,borderRightColor:Mn,borderBottomColor:Mn,borderLeftColor:Mn,filter:U0,WebkitFilter:U0},LE=t=>aQ[t];function xO(t,e){let n=LE(t);return n!==U0&&(n=Vo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const lQ=new Set(["auto","none","0"]);function cQ(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!lQ.has(i)&&rh(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=xO(n,s)}class EO extends kE{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),NE(c))){const u=dO(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!KG.has(r)||e.length!==2)return;const[s,i]=e,o=NI(s),a=NI(i);if(o!==a)if(AI(o)&&AI(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)MG(e[s])&&r.push(s);r.length&&cQ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Dc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=Dc[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function TO(t){let e;return()=>(e===void 0&&(e=t()),e)}let jp;function uQ(){jp=void 0}const Ls={now:()=>(jp===void 0&&Ls.set(wn.isProcessing||RG.useManualTiming?wn.timestamp:performance.now()),jp),set:t=>{jp=t,queueMicrotask(uQ)}},MI=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Vo.test(t)||t==="0")&&!t.startsWith("url("));function dQ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function hQ(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=MI(s,e),a=MI(i,e);return!o||!a?!1:dQ(t)||n==="spring"&&r}const fQ=40;class SO{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ls.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>fQ?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&QG(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Ls.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!hQ(e,r,s,i))if(o)this.options.duration=0;else{l==null||l(ry(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function bO(t,e){return e?t*(1e3/e):0}const pQ=5;function CO(t,e,n){const r=Math.max(e-pQ,0);return bO(n-t(r),e-r)}const Qv=.001,mQ=.01,gQ=10,yQ=.05,vQ=1;function wQ({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,o=1-e;o=jo(yQ,vQ,o),t=jo(mQ,gQ,ui(t)),o<1?(s=c=>{const u=c*o,d=u*t,p=u-n,g=B0(c,o),v=Math.exp(-d);return Qv-p/g*v},i=c=>{const d=c*o*t,p=d*n+n,g=Math.pow(o,2)*Math.pow(c,2)*t,v=Math.exp(-d),w=B0(Math.pow(c,2),o);return(-s(c)+Qv>0?-1:1)*((p-g)*v)/w}):(s=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-Qv+u*d},i=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=xQ(s,i,a);if(t=ci(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const _Q=12;function xQ(t,e,n){let r=n;for(let s=1;s<_Q;s++)r=r-t(r)/e(r);return r}function B0(t,e){return t*Math.sqrt(1-e*e)}const EQ=["duration","bounce"],TQ=["stiffness","damping","mass"];function OI(t,e){return e.some(n=>t[n]!==void 0)}function SQ(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!OI(t,TQ)&&OI(t,EQ)){const n=wQ(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function IO({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:c,duration:u,velocity:d,isResolvedFromDuration:p}=SQ({...r,velocity:-ui(r.velocity||0)}),g=d||0,v=l/(2*Math.sqrt(a*c)),w=i-s,E=ui(Math.sqrt(a/c)),_=Math.abs(w)<5;n||(n=_?.01:2),e||(e=_?.005:.5);let y;if(v<1){const S=B0(E,v);y=A=>{const D=Math.exp(-v*E*A);return i-D*((g+v*E*w)/S*Math.sin(S*A)+w*Math.cos(S*A))}}else if(v===1)y=S=>i-Math.exp(-E*S)*(w+(g+E*w)*S);else{const S=E*Math.sqrt(v*v-1);y=A=>{const D=Math.exp(-v*E*A),O=Math.min(S*A,300);return i-D*((g+v*E*w)*Math.sinh(O)+S*w*Math.cosh(O))/S}}return{calculatedDuration:p&&u||null,next:S=>{const A=y(S);if(p)o.done=S>=u;else{let D=0;v<1&&(D=S===0?ci(g):CO(y,S,A));const O=Math.abs(D)<=n,C=Math.abs(i-A)<=e;o.done=O&&C}return o.value=o.done?i:A,o}}}function LI({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],p={done:!1,value:d},g=T=>a!==void 0&&T<a||l!==void 0&&T>l,v=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let w=n*e;const E=d+w,_=o===void 0?E:o(E);_!==E&&(w=_-d);const y=T=>-w*Math.exp(-T/r),S=T=>_+y(T),A=T=>{const I=y(T),P=S(T);p.done=Math.abs(I)<=c,p.value=p.done?_:P};let D,O;const C=T=>{g(p.value)&&(D=T,O=IO({keyframes:[p.value,v(p.value)],velocity:CO(S,T,p.value),damping:s,stiffness:i,restDelta:c,restSpeed:u}))};return C(0),{calculatedDuration:null,next:T=>{let I=!1;return!O&&D===void 0&&(I=!0,A(T),C(T)),D!==void 0&&T>=D?O.next(T-D):(!I&&A(T),p)}}}const AO=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,bQ=1e-7,CQ=12;function IQ(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=AO(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>bQ&&++a<CQ);return o}function Jh(t,e,n,r){if(t===e&&n===r)return Un;const s=i=>IQ(i,0,1,t,n);return i=>i===0||i===1?i:AO(s(i),e,r)}const AQ=Jh(.42,0,1,1),PQ=Jh(0,0,.58,1),PO=Jh(.42,0,.58,1),RQ=t=>Array.isArray(t)&&typeof t[0]!="number",RO=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,NO=t=>e=>1-t(1-e),jE=t=>1-Math.sin(Math.acos(t)),DO=NO(jE),NQ=RO(jE),kO=Jh(.33,1.53,.69,.99),VE=NO(kO),DQ=RO(VE),kQ=t=>(t*=2)<1?.5*VE(t):.5*(2-Math.pow(2,-10*(t-1))),jI={linear:Un,easeIn:AQ,easeInOut:PO,easeOut:PQ,circIn:jE,circInOut:NQ,circOut:DO,backIn:VE,backInOut:DQ,backOut:kO,anticipate:kQ},VI=t=>{if(Array.isArray(t)){L0(t.length===4);const[e,n,r,s]=t;return Jh(e,n,r,s)}else if(typeof t=="string")return L0(jI[t]!==void 0),jI[t];return t},MQ=(t,e)=>n=>e(t(n)),di=(...t)=>t.reduce(MQ),sh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ot=(t,e,n)=>t+(e-t)*n;function Yv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function OQ({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=Yv(l,a,t+1/3),i=Yv(l,a,t),o=Yv(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Vm(t,e){return n=>n>0?e:t}const Xv=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},LQ=[F0,_a,$l],jQ=t=>LQ.find(e=>e.test(t));function FI(t){const e=jQ(t);if(!e)return!1;let n=e.parse(t);return e===$l&&(n=OQ(n)),n}const UI=(t,e)=>{const n=FI(t),r=FI(e);if(!n||!r)return Vm(t,e);const s={...n};return i=>(s.red=Xv(n.red,r.red,i),s.green=Xv(n.green,r.green,i),s.blue=Xv(n.blue,r.blue,i),s.alpha=Ot(n.alpha,r.alpha,i),_a.transform(s))},$0=new Set(["none","hidden"]);function VQ(t,e){return $0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function FQ(t,e){return n=>Ot(t,e,n)}function FE(t){return typeof t=="number"?FQ:typeof t=="string"?NE(t)?Vm:Mn.test(t)?UI:$Q:Array.isArray(t)?MO:typeof t=="object"?Mn.test(t)?UI:UQ:Vm}function MO(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>FE(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function UQ(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=FE(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function BQ(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][s[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const $Q=(t,e)=>{const n=Vo.createTransformer(e),r=rh(t),s=rh(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?$0.has(t)&&!s.values.length||$0.has(e)&&!r.values.length?VQ(t,e):di(MO(BQ(r,s),s.values),n):Vm(t,e)};function OO(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ot(t,e,n):FE(t)(t,e)}function zQ(t,e,n){const r=[],s=n||OO,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Un:e;a=di(l,a)}r.push(a)}return r}function KQ(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(L0(i===e.length),i===1)return()=>e[0];if(i===2&&t[0]===t[1])return()=>e[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=zQ(e,r,s),a=o.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const d=sh(t[u],t[u+1],c);return o[u](d)};return n?c=>l(jo(t[0],t[i-1],c)):l}function WQ(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=sh(0,e,r);t.push(Ot(n,1,s))}}function HQ(t){const e=[0];return WQ(e,t.length-1),e}function qQ(t,e){return t.map(n=>n*e)}function GQ(t,e){return t.map(()=>e||PO).splice(0,t.length-1)}function Fm({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=RQ(r)?r.map(VI):VI(r),i={done:!1,value:e[0]},o=qQ(n&&n.length===e.length?n:HQ(e),t),a=KQ(o,e,{ease:Array.isArray(s)?s:GQ(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const BI=2e4;function QQ(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<BI;)e+=n,r=t.next(e);return e>=BI?1/0:e}const YQ=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ht.update(e,!0),stop:()=>Ti(e),now:()=>wn.isProcessing?wn.timestamp:Ls.now()}},XQ={decay:LI,inertia:LI,tween:Fm,keyframes:Fm,spring:IO},JQ=t=>t/100;class UE extends SO{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||kE,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=XQ[n]||Fm;let l,c;a!==Fm&&typeof e[0]!="number"&&(l=di(JQ,OO(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});i==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=QQ(u));const{calculatedDuration:d}=u,p=d+s,g=p*(r+1)-s;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:p,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:d}=r;if(this.startTime===null)return i.next(0);const{delay:p,repeat:g,repeatType:v,repeatDelay:w,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const _=this.currentTime-p*(this.speed>=0?1:-1),y=this.speed>=0?_<0:_>u;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let S=this.currentTime,A=i;if(g){const T=Math.min(this.currentTime,u)/d;let I=Math.floor(T),P=T%1;!P&&T>=1&&(P=1),P===1&&I--,I=Math.min(I,g+1),!!(I%2)&&(v==="reverse"?(P=1-P,w&&(P-=w/d)):v==="mirror"&&(A=o)),S=jo(0,1,P)*d}const D=y?{done:!1,value:l[0]}:A.next(S);a&&(D.value=a(D.value));let{done:O}=D;!y&&c!==null&&(O=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return C&&s!==void 0&&(D.value=ry(l,this.options,s)),E&&E(D.value),C&&this.finish(),D}get duration(){const{resolved:e}=this;return e?ui(e.calculatedDuration):0}get time(){return ui(this.currentTime)}set time(e){e=ci(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ui(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=YQ,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const LO=new Set(["opacity","clipPath","filter","transform"]),jO=t=>Array.isArray(t)&&typeof t[0]=="number";function VO(t){return!!(!t||typeof t=="string"&&t in BE||jO(t)||Array.isArray(t)&&t.every(VO))}const qu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,BE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qu([0,.65,.55,1]),circOut:qu([.55,0,1,.45]),backIn:qu([.31,.01,.66,-.59]),backOut:qu([.33,1.53,.69,.99])};function ZQ(t){return FO(t)||BE.easeOut}function FO(t){if(t)return jO(t)?qu(t):Array.isArray(t)?t.map(ZQ):BE[t]}function eY(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=FO(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const tY=TO(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Um=10,nY=2e4;function rY(t){return t.type==="spring"||!VO(t.ease)}function sY(t,e){const n=new UE({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<nY;)r=n.sample(i),s.push(r.value),i+=Um;return{times:void 0,keyframes:s,duration:i-Um,ease:"linear"}}class $I extends SO{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new EO(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:s=300,times:i,ease:o,type:a,motionValue:l,name:c,startTime:u}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(rY(this.options)){const{onComplete:p,onUpdate:g,motionValue:v,element:w,...E}=this.options,_=sY(e,E);e=_.keyframes,e.length===1&&(e[1]=e[0]),s=_.duration,i=_.times,o=_.ease,a="keyframes"}const d=eY(l.owner.current,c,e,{...this.options,duration:s,times:i,ease:o});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(d.timeline=this.pendingTimeline,this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:p}=this.options;l.set(ry(e,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:s,times:i,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ui(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ui(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ci(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Un;const{animation:r}=n;r.timeline=e,r.onfinish=null}return Un}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:d,element:p,...g}=this.options,v=new UE({...g,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),w=ci(this.time);c.setWithVelocity(v.sample(w-Um).value,v.sample(w).value,Um)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=e;return tY()&&r&&LO.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}function iY(t,e){let n;const r=()=>{const{currentTime:s}=e,o=(s===null?0:s.value)/100;n!==o&&t(o),n=o};return ht.update(r,!0),()=>Ti(r)}const oY=TO(()=>window.ScrollTimeline!==void 0);class aY{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>{if(oY()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),iY(s=>{r.time=r.duration*s},e)});return()=>{n.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const $E=(t,e,n,r={},s,i,o)=>a=>{const l=RE(r,t)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-ci(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:g=>{e.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{a(),l.onComplete&&l.onComplete(),o&&o()},onStop:o,name:t,motionValue:e,element:i?void 0:s};PG(l)||(d={...d,...AG(t,d)}),d.duration&&(d.duration=ci(d.duration)),d.repeatDelay&&(d.repeatDelay=ci(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let p=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(p=!0)),p&&!i&&e.get()!==void 0){const g=ry(d.keyframes,l);if(g!==void 0)return ht.update(()=>{d.onUpdate(g),d.onComplete()}),new aY([])}return!i&&$I.supports(d)?new $I(d):new UE(d)},lY=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),cY=t=>O0(t)?t[t.length-1]||0:t;function sy(t,e){t.indexOf(e)===-1&&t.push(e)}function iy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class zE{constructor(){this.subscriptions=[]}add(e){return sy(this.subscriptions,e),()=>iy(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zI=30,uY=t=>!isNaN(parseFloat(t));class UO{constructor(e,n={}){this.version="11.5.6",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=Ls.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ls.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=uY(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new zE);const r=this.events[e].add(n);return e==="change"?()=>{r(),ht.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ls.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>zI)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,zI);return bO(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ih(t,e){return new UO(t,e)}function dY(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ih(n))}function hY(t,e){const n=ny(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=cY(i[o]);dY(t,o,a)}}const oy=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),fY="framerAppearId",BO="data-"+oy(fY);function $O(t){return t.props[BO]}function zO(t){if(Yo.has(t))return"transform";if(LO.has(t))return oy(t)}class pY extends UO{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(e){const n=zO(e);if(!n)return;const r=this.counts.get(n)||0;this.counts.set(n,r+1),r===0&&(this.output.push(n),this.update());let s=!1;return()=>{if(s)return;s=!0;const i=this.counts.get(n)-1;this.counts.set(n,i),i===0&&(iy(this.output,n),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}const Vn=t=>!!(t&&t.getVelocity);function mY(t){return!!(Vn(t)&&t.add)}function z0(t,e){var n;if(!t.applyWillChange)return;let r=t.getValue("willChange");if(!r&&!(!((n=t.props.style)===null||n===void 0)&&n.willChange)&&(r=new pY("auto"),t.addValue("willChange",r)),mY(r))return r.add(e)}function gY({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function KO(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const d in l){const p=t.getValue(d,(i=t.latestValues[d])!==null&&i!==void 0?i:null),g=l[d];if(g===void 0||u&&gY(u,d))continue;const v={delay:n,...RE(o||{},d)};let w=!1;if(window.MotionHandoffAnimation){const _=$O(t);if(_){const y=window.MotionHandoffAnimation(_,d,ht);y!==null&&(v.startTime=y,w=!0)}}p.start($E(d,p,g,t.shouldReduceMotion&&Yo.has(d)?{type:!1}:v,t,w,z0(t,d)));const E=p.animation;E&&c.push(E)}return a&&Promise.all(c).then(()=>{ht.update(()=>{a&&hY(t,a)})}),c}function K0(t,e,n={}){var r;const s=ny(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(KO(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:p}=i;return yY(t,e,u+c,d,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function yY(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(vY).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(K0(c,e,{...i,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function vY(t,e){return t.sortNodePosition(e)}function wY(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>K0(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=K0(t,e,n);else{const s=typeof e=="function"?ny(t,e,n.custom):e;r=Promise.all(KO(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const _Y=PE.length;function WO(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?WO(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<_Y;n++){const r=PE[n],s=t.props[r];(nh(s)||s===!1)&&(e[r]=s)}return e}const xY=[...AE].reverse(),EY=AE.length;function TY(t){return e=>Promise.all(e.map(({animation:n,options:r})=>wY(t,n,r)))}function SY(t){let e=TY(t),n=KI(),r=!0;const s=l=>(c,u)=>{var d;const p=ny(t,u,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(p){const{transition:g,transitionEnd:v,...w}=p;c={...c,...w,...v}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,u=WO(t.parent)||{},d=[],p=new Set;let g={},v=1/0;for(let E=0;E<EY;E++){const _=xY[E],y=n[_],S=c[_]!==void 0?c[_]:u[_],A=nh(S),D=_===l?y.isActive:null;D===!1&&(v=E);let O=S===u[_]&&S!==c[_]&&A;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),y.protectedKeys={...g},!y.isActive&&D===null||!S&&!y.prevProp||th(S)||typeof S=="boolean")continue;const C=bY(y.prevProp,S);let T=C||_===l&&y.isActive&&!O&&A||E>v&&A,I=!1;const P=Array.isArray(S)?S:[S];let M=P.reduce(s(_),{});D===!1&&(M={});const{prevResolvedValues:k={}}=y,N={...k,...M},H=ne=>{T=!0,p.has(ne)&&(I=!0,p.delete(ne)),y.needsAnimating[ne]=!0;const z=t.getValue(ne);z&&(z.liveStyle=!1)};for(const ne in N){const z=M[ne],B=k[ne];if(g.hasOwnProperty(ne))continue;let Z=!1;O0(z)&&O0(B)?Z=!iO(z,B):Z=z!==B,Z?z!=null?H(ne):p.add(ne):z!==void 0&&p.has(ne)?H(ne):y.protectedKeys[ne]=!0}y.prevProp=S,y.prevResolvedValues=M,y.isActive&&(g={...g,...M}),r&&t.blockInitialAnimation&&(T=!1),T&&(!(O&&C)||I)&&d.push(...P.map(ne=>({animation:ne,options:{type:_}})))}if(p.size){const E={};p.forEach(_=>{const y=t.getBaseTarget(_),S=t.getValue(_);S&&(S.liveStyle=!0),E[_]=y??null}),d.push({animation:E})}let w=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(d):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=KI(),r=!0}}}function bY(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!iO(e,t):!1}function ca(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function KI(){return{animate:ca(!0),whileInView:ca(),whileHover:ca(),whileTap:ca(),whileDrag:ca(),whileFocus:ca(),exit:ca()}}class Xo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class CY extends Xo{constructor(e){super(e),e.animationState||(e.animationState=SY(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();th(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let IY=0;class AY extends Xo{constructor(){super(...arguments),this.id=IY++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const PY={animation:{Feature:CY},exit:{Feature:AY}},HO=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function ay(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const RY=t=>e=>HO(e)&&t(e,ay(e));function ri(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function hi(t,e,n,r){return ri(t,e,RY(n),r)}const WI=(t,e)=>Math.abs(t-e);function NY(t,e){const n=WI(t.x,e.x),r=WI(t.y,e.y);return Math.sqrt(n**2+r**2)}class qO{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Zv(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=NY(d.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:v}=d,{timestamp:w}=wn;this.history.push({...v,timestamp:w});const{onStart:E,onMove:_}=this.handlers;p||(E&&E(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Jv(p,this.transformPagePoint),ht.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{this.end();const{onEnd:g,onSessionEnd:v,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Zv(d.type==="pointercancel"?this.lastMoveEventInfo:Jv(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(d,E),v&&v(d,E)},!HO(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=ay(e),a=Jv(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=wn;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,Zv(a,this.history)),this.removeListeners=di(hi(this.contextWindow,"pointermove",this.handlePointerMove),hi(this.contextWindow,"pointerup",this.handlePointerUp),hi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ti(this.updatePoint)}}function Jv(t,e){return e?{point:e(t.point)}:t}function HI(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Zv({point:t},e){return{point:t,delta:HI(t,GO(e)),offset:HI(t,DY(e)),velocity:kY(e,.1)}}function DY(t){return t[0]}function GO(t){return t[t.length-1]}function kY(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=GO(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>ci(e)));)n--;if(!r)return{x:0,y:0};const i=ui(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function QO(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const qI=QO("dragHorizontal"),GI=QO("dragVertical");function YO(t){let e=!1;if(t==="y")e=GI();else if(t==="x")e=qI();else{const n=qI(),r=GI();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function XO(){const t=YO(!0);return t?(t(),!1):!0}function zl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const JO=1e-4,MY=1-JO,OY=1+JO,ZO=.01,LY=0-ZO,jY=0+ZO;function Ir(t){return t.max-t.min}function VY(t,e,n){return Math.abs(t-e)<=n}function QI(t,e,n,r=.5){t.origin=r,t.originPoint=Ot(e.min,e.max,t.origin),t.scale=Ir(n)/Ir(e),t.translate=Ot(n.min,n.max,t.origin)-t.originPoint,(t.scale>=MY&&t.scale<=OY||isNaN(t.scale))&&(t.scale=1),(t.translate>=LY&&t.translate<=jY||isNaN(t.translate))&&(t.translate=0)}function fd(t,e,n,r){QI(t.x,e.x,n.x,r?r.originX:void 0),QI(t.y,e.y,n.y,r?r.originY:void 0)}function YI(t,e,n){t.min=n.min+e.min,t.max=t.min+Ir(e)}function FY(t,e,n){YI(t.x,e.x,n.x),YI(t.y,e.y,n.y)}function XI(t,e,n){t.min=e.min-n.min,t.max=t.min+Ir(e)}function pd(t,e,n){XI(t.x,e.x,n.x),XI(t.y,e.y,n.y)}function UY(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ot(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ot(n,t,r.max):Math.min(t,n)),t}function JI(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function BY(t,{top:e,left:n,bottom:r,right:s}){return{x:JI(t.x,n,s),y:JI(t.y,e,r)}}function ZI(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function $Y(t,e){return{x:ZI(t.x,e.x),y:ZI(t.y,e.y)}}function zY(t,e){let n=.5;const r=Ir(t),s=Ir(e);return s>r?n=sh(e.min,e.max-r,t.min):r>s&&(n=sh(t.min,t.max-s,e.min)),jo(0,1,n)}function KY(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const W0=.35;function WY(t=W0){return t===!1?t=0:t===!0&&(t=W0),{x:e1(t,"left","right"),y:e1(t,"top","bottom")}}function e1(t,e,n){return{min:t1(t,e),max:t1(t,n)}}function t1(t,e){return typeof t=="number"?t:t[e]||0}const n1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Kl=()=>({x:n1(),y:n1()}),r1=()=>({min:0,max:0}),Gt=()=>({x:r1(),y:r1()});function Or(t){return[t("x"),t("y")]}function eL({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function HY({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function qY(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ew(t){return t===void 0||t===1}function H0({scale:t,scaleX:e,scaleY:n}){return!ew(t)||!ew(e)||!ew(n)}function fa(t){return H0(t)||tL(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function tL(t){return s1(t.x)||s1(t.y)}function s1(t){return t&&t!=="0%"}function Bm(t,e,n){const r=t-n,s=e*r;return n+s}function i1(t,e,n,r,s){return s!==void 0&&(t=Bm(t,s,r)),Bm(t,n,r)+e}function q0(t,e=0,n=1,r,s){t.min=i1(t.min,e,n,r,s),t.max=i1(t.max,e,n,r,s)}function nL(t,{x:e,y:n}){q0(t.x,e.translate,e.scale,e.originPoint),q0(t.y,n.translate,n.scale,n.originPoint)}const o1=.999999999999,a1=1.0000000000001;function GY(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Hl(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,nL(t,o)),r&&fa(i.latestValues)&&Hl(t,i.latestValues))}e.x<a1&&e.x>o1&&(e.x=1),e.y<a1&&e.y>o1&&(e.y=1)}function Wl(t,e){t.min=t.min+e,t.max=t.max+e}function l1(t,e,n,r,s=.5){const i=Ot(t.min,t.max,s);q0(t,e,n,i,r)}function Hl(t,e){l1(t.x,e.x,e.scaleX,e.scale,e.originX),l1(t.y,e.y,e.scaleY,e.scale,e.originY)}function rL(t,e){return eL(qY(t.getBoundingClientRect(),e))}function QY(t,e,n){const r=rL(t,n),{scroll:s}=e;return s&&(Wl(r.x,s.offset.x),Wl(r.y,s.offset.y)),r}const sL=({current:t})=>t?t.ownerDocument.defaultView:null,YY=new WeakMap;class XY{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Gt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ay(u,"page").point)},i=(u,d)=>{var p;const{drag:g,dragPropagation:v,onDragStart:w}=this.getProps();if(g&&!v&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=YO(g),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Or(_=>{let y=this.getAxisMotionValue(_).get()||0;if(Os.test(y)){const{projection:S}=this.visualElement;if(S&&S.layout){const A=S.layout.layoutBox[_];A&&(y=Ir(A)*(parseFloat(y)/100))}}this.originPoint[_]=y}),w&&ht.postRender(()=>w(u,d)),(p=this.removeWillChange)===null||p===void 0||p.call(this),this.removeWillChange=z0(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:v,onDrag:w}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:E}=d;if(g&&this.currentDirection===null){this.currentDirection=JY(E),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",d.point,E),this.updateAxis("y",d.point,E),this.visualElement.render(),w&&w(u,d)},a=(u,d)=>this.stop(u,d),l=()=>Or(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new qO(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:sL(this.visualElement)})}stop(e,n){var r;(r=this.removeWillChange)===null||r===void 0||r.call(this);const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&ht.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!sp(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=UY(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&zl(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=BY(s.layoutBox,n):this.constraints=!1,this.elastic=WY(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Or(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=KY(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!zl(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=QY(r,s.root,this.visualElement.getTransformPagePoint());let o=$Y(s.layout.layoutBox,i);if(n){const a=n(HY(o));this.hasMutatedConstraints=!!a,a&&(o=eL(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Or(u=>{if(!sp(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const p=s?200:1e6,g=s?40:1e7,v={type:"inertia",velocity:r?e[u]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(u,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start($E(e,r,0,n,this.visualElement,!1,z0(this.visualElement,e)))}stopAnimation(){Or(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Or(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Or(n=>{const{drag:r}=this.getProps();if(!sp(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Ot(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!zl(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Or(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=zY({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Or(o=>{if(!sp(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Ot(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;YY.set(this.visualElement,this);const e=this.visualElement.current,n=hi(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();zl(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ht.read(r);const o=ri(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Or(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=W0,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function sp(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function JY(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class ZY extends Xo{constructor(e){super(e),this.removeGroupControls=Un,this.removeListeners=Un,this.controls=new XY(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Un}unmount(){this.removeGroupControls(),this.removeListeners()}}const c1=t=>(e,n)=>{t&&ht.postRender(()=>t(e,n))};class eX extends Xo{constructor(){super(...arguments),this.removePointerDownListener=Un}onPointerDown(e){this.session=new qO(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sL(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:c1(e),onStart:c1(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&ht.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=hi(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ly=m.createContext(null);function tX(){const t=m.useContext(ly);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=m.useId();m.useEffect(()=>r(s),[]);const i=m.useCallback(()=>n&&n(s),[s,n]);return!e&&n?[!1,i]:[!0]}const KE=m.createContext({}),iL=m.createContext({}),Vp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function u1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ou={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ce.test(t))t=parseFloat(t);else return t;const n=u1(t,e.target.x),r=u1(t,e.target.y);return`${n}% ${r}%`}},nX={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Vo.parse(t);if(s.length>5)return r;const i=Vo.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=Ot(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}},$m={};function rX(t){Object.assign($m,t)}const{schedule:WE,cancel:Wue}=oO(queueMicrotask,!1);class sX extends m.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;rX(iX),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Vp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||ht.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),WE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function oL(t){const[e,n]=tX(),r=m.useContext(KE);return f.jsx(sX,{...t,layoutGroup:r,switchLayoutGroup:m.useContext(iL),isPresent:e,safeToRemove:n})}const iX={borderRadius:{...Ou,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ou,borderTopRightRadius:Ou,borderBottomLeftRadius:Ou,borderBottomRightRadius:Ou,boxShadow:nX},aL=["TopLeft","TopRight","BottomLeft","BottomRight"],oX=aL.length,d1=t=>typeof t=="string"?parseFloat(t):t,h1=t=>typeof t=="number"||Ce.test(t);function aX(t,e,n,r,s,i){s?(t.opacity=Ot(0,n.opacity!==void 0?n.opacity:1,lX(r)),t.opacityExit=Ot(e.opacity!==void 0?e.opacity:1,0,cX(r))):i&&(t.opacity=Ot(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<oX;o++){const a=`border${aL[o]}Radius`;let l=f1(e,a),c=f1(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||h1(l)===h1(c)?(t[a]=Math.max(Ot(d1(l),d1(c),r),0),(Os.test(c)||Os.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Ot(e.rotate||0,n.rotate||0,r))}function f1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const lX=lL(0,.5,DO),cX=lL(.5,.95,Un);function lL(t,e,n){return r=>r<t?0:r>e?1:n(sh(t,e,r))}function p1(t,e){t.min=e.min,t.max=e.max}function Mr(t,e){p1(t.x,e.x),p1(t.y,e.y)}function m1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function g1(t,e,n,r,s){return t-=e,t=Bm(t,1/n,r),s!==void 0&&(t=Bm(t,1/s,r)),t}function uX(t,e=0,n=1,r=.5,s,i=t,o=t){if(Os.test(e)&&(e=parseFloat(e),e=Ot(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ot(i.min,i.max,r);t===i&&(a-=e),t.min=g1(t.min,e,n,a,s),t.max=g1(t.max,e,n,a,s)}function y1(t,e,[n,r,s],i,o){uX(t,e[n],e[r],e[s],e.scale,i,o)}const dX=["x","scaleX","originX"],hX=["y","scaleY","originY"];function v1(t,e,n,r){y1(t.x,e,dX,n?n.x:void 0,r?r.x:void 0),y1(t.y,e,hX,n?n.y:void 0,r?r.y:void 0)}function w1(t){return t.translate===0&&t.scale===1}function cL(t){return w1(t.x)&&w1(t.y)}function _1(t,e){return t.min===e.min&&t.max===e.max}function fX(t,e){return _1(t.x,e.x)&&_1(t.y,e.y)}function x1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function uL(t,e){return x1(t.x,e.x)&&x1(t.y,e.y)}function E1(t){return Ir(t.x)/Ir(t.y)}function T1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class pX{constructor(){this.members=[]}add(e){sy(this.members,e),e.scheduleRender()}remove(e){if(iy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function mX(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:p,skewX:g,skewY:v}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),p&&(r+=`rotateY(${p}deg) `),g&&(r+=`skewX(${g}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const gX=(t,e)=>t.depth-e.depth;class yX{constructor(){this.children=[],this.isDirty=!1}add(e){sy(this.children,e),this.isDirty=!0}remove(e){iy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(gX),this.isDirty=!1,this.children.forEach(e)}}function Fp(t){const e=Vn(t)?t.get():t;return lY(e)?e.toValue():e}function vX(t,e){const n=Ls.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Ti(r),t(i-e))};return ht.read(r,!0),()=>Ti(r)}function wX(t){return t instanceof SVGElement&&t.tagName!=="svg"}function _X(t,e,n){const r=Vn(t)?t:ih(t);return r.start($E("",r,e,n)),r.animation}const pa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Gu=typeof window<"u"&&window.MotionDebug!==void 0,tw=["","X","Y","Z"],xX={visibility:"hidden"},S1=1e3;let EX=0;function nw(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function dL(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=$O(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ht,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&dL(r)}function hL({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=EX++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Gu&&(pa.totalNodes=pa.resolvedTargetDeltas=pa.recalculatedProjection=0),this.nodes.forEach(bX),this.nodes.forEach(RX),this.nodes.forEach(NX),this.nodes.forEach(CX),Gu&&window.MotionDebug.record(pa)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new yX)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new zE),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=wX(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=vX(p,250),Vp.hasAnimatedSinceResize&&(Vp.hasAnimatedSinceResize=!1,this.nodes.forEach(C1))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||u.getDefaultTransition()||LX,{onLayoutAnimationStart:E,onLayoutAnimationComplete:_}=u.getProps(),y=!this.targetLayout||!uL(this.targetLayout,v)||g,S=!p&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||p&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,S);const A={...RE(w,"layout"),onPlay:E,onComplete:_};(u.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else p||C1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ti(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(DX),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&dL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(b1);return}this.isUpdating||this.nodes.forEach(AX),this.isUpdating=!1,this.nodes.forEach(PX),this.nodes.forEach(TX),this.nodes.forEach(SX),this.clearAllSnapshots();const a=Ls.now();wn.delta=jo(0,1e3/60,a-wn.timestamp),wn.timestamp=a,wn.isProcessing=!0,qv.update.process(wn),qv.preRender.process(wn),qv.render.process(wn),wn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,WE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(IX),this.sharedNodes.forEach(kX)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ht.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ht.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!cL(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||fa(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),jX(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Gt();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(VX))){const{scroll:u}=this.root;u&&(Wl(l.x,u.offset.x),Wl(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=Gt();if(Mr(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:p}=u;u!==this.root&&d&&p.layoutScroll&&(d.wasRoot&&Mr(l,o),Wl(l.x,d.offset.x),Wl(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=Gt();Mr(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Hl(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),fa(u.latestValues)&&Hl(l,u.latestValues)}return fa(this.latestValues)&&Hl(l,this.latestValues),l}removeTransform(o){const a=Gt();Mr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!fa(c.latestValues))continue;H0(c.latestValues)&&c.updateSnapshot();const u=Gt(),d=c.measurePageBox();Mr(u,d),v1(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return fa(this.latestValues)&&v1(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=wn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gt(),this.relativeTargetOrigin=Gt(),pd(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Mr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Gt(),this.targetWithTransforms=Gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),FY(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Mr(this.target,this.layout.layoutBox),nL(this.target,this.targetDelta)):Mr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gt(),this.relativeTargetOrigin=Gt(),pd(this.relativeTargetOrigin,this.target,g.target),Mr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Gu&&pa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||H0(this.parent.latestValues)||tL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===wn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Mr(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;GY(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Gt());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(m1(this.prevProjectionDelta.x,this.projectionDelta.x),m1(this.prevProjectionDelta.y,this.projectionDelta.y)),fd(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!T1(this.projectionDelta.x,this.prevProjectionDelta.x)||!T1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Gu&&pa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Kl(),this.projectionDelta=Kl(),this.projectionDeltaWithTransform=Kl()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Kl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Gt(),g=l?l.source:void 0,v=this.layout?this.layout.source:void 0,w=g!==v,E=this.getStack(),_=!E||E.members.length<=1,y=!!(w&&!_&&this.options.crossfade===!0&&!this.path.some(OX));this.animationProgress=0;let S;this.mixTargetDelta=A=>{const D=A/1e3;I1(d.x,o.x,D),I1(d.y,o.y,D),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(pd(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),MX(this.relativeTarget,this.relativeTargetOrigin,p,D),S&&fX(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Gt()),Mr(S,this.relativeTarget)),w&&(this.animationValues=u,aX(u,c,this.latestValues,D,y,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ti(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ht.update(()=>{Vp.hasAnimatedSinceResize=!0,this.currentAnimation=_X(0,S1,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(S1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&fL(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Gt();const d=Ir(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const p=Ir(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Mr(a,l),Hl(a,u),fd(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new pX),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&nw("z",o,c,this.animationValues);for(let u=0;u<tw.length;u++)nw(`rotate${tw[u]}`,o,c,this.animationValues),nw(`skew${tw[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return xX;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Fp(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Fp(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!fa(this.latestValues)&&(w.transform=u?u({},""):"none",this.hasProjected=!1),w}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=mX(this.projectionDeltaWithTransform,this.treeScale,p),u&&(c.transform=u(p,c.transform));const{x:g,y:v}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const w in $m){if(p[w]===void 0)continue;const{correct:E,applyTo:_}=$m[w],y=c.transform==="none"?p[w]:E(p[w],d);if(_){const S=_.length;for(let A=0;A<S;A++)c[_[A]]=y}else c[w]=y}return this.options.layoutId&&(c.pointerEvents=d===this?Fp(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(b1),this.root.sharedNodes.clear()}}}function TX(t){t.updateLayout()}function SX(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?Or(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],g=Ir(p);p.min=r[d].min,p.max=p.min+g}):fL(i,n.layoutBox,r)&&Or(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],g=Ir(r[d]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+g)});const a=Kl();fd(a,r,n.layoutBox);const l=Kl();o?fd(l,t.applyTransform(s,!0),n.measuredBox):fd(l,r,n.layoutBox);const c=!cL(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:g}=d;if(p&&g){const v=Gt();pd(v,n.layoutBox,p.layoutBox);const w=Gt();pd(w,r,g.layoutBox),uL(v,w)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=v,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function bX(t){Gu&&pa.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function CX(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function IX(t){t.clearSnapshot()}function b1(t){t.clearMeasurements()}function AX(t){t.isLayoutDirty=!1}function PX(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function C1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function RX(t){t.resolveTargetDelta()}function NX(t){t.calcProjection()}function DX(t){t.resetSkewAndRotation()}function kX(t){t.removeLeadSnapshot()}function I1(t,e,n){t.translate=Ot(e.translate,0,n),t.scale=Ot(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function A1(t,e,n,r){t.min=Ot(e.min,n.min,r),t.max=Ot(e.max,n.max,r)}function MX(t,e,n,r){A1(t.x,e.x,n.x,r),A1(t.y,e.y,n.y,r)}function OX(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const LX={duration:.45,ease:[.4,0,.1,1]},P1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),R1=P1("applewebkit/")&&!P1("chrome/")?Math.round:Un;function N1(t){t.min=R1(t.min),t.max=R1(t.max)}function jX(t){N1(t.x),N1(t.y)}function fL(t,e,n){return t==="position"||t==="preserve-aspect"&&!VY(E1(e),E1(n),.2)}function VX(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const FX=hL({attachResizeListener:(t,e)=>ri(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rw={current:void 0},pL=hL({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!rw.current){const t=new FX({});t.mount(window),t.setOptions({layoutScroll:!0}),rw.current=t}return rw.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),UX={pan:{Feature:eX},drag:{Feature:ZY,ProjectionNode:pL,MeasureLayout:oL}};function D1(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",s=(i,o)=>{if(i.pointerType==="touch"||XO())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&ht.postRender(()=>l(i,o))};return hi(t.current,n,s,{passive:!t.getProps()[r]})}class BX extends Xo{mount(){this.unmount=di(D1(this.node,!0),D1(this.node,!1))}unmount(){}}class $X extends Xo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=di(ri(this.node.current,"focus",()=>this.onFocus()),ri(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const mL=(t,e)=>e?t===e?!0:mL(t,e.parentElement):!1;function sw(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,ay(n))}class zX extends Xo{constructor(){super(...arguments),this.removeStartListeners=Un,this.removeEndListeners=Un,this.removeAccessibleListeners=Un,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=hi(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:d}=this.node.getProps(),p=!d&&!mL(this.node.current,a.target)?u:c;p&&ht.update(()=>p(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=hi(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=di(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||sw("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&ht.postRender(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=ri(this.node.current,"keyup",o),sw("down",(a,l)=>{this.startPress(a,l)})},n=ri(this.node.current,"keydown",e),r=()=>{this.isPressing&&sw("cancel",(i,o)=>this.cancelPress(i,o))},s=ri(this.node.current,"blur",r);this.removeAccessibleListeners=di(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ht.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!XO()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ht.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=hi(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=ri(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=di(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const G0=new WeakMap,iw=new WeakMap,KX=t=>{const e=G0.get(t.target);e&&e(t)},WX=t=>{t.forEach(KX)};function HX({root:t,...e}){const n=t||document;iw.has(n)||iw.set(n,{});const r=iw.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(WX,{root:t,...e})),r[s]}function qX(t,e,n){const r=HX(e);return G0.set(t,n),r.observe(t),()=>{G0.delete(t),r.unobserve(t)}}const GX={some:0,all:1};class QX extends Xo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:GX[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),p=c?u:d;p&&p(l)};return qX(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(YX(e,n))&&this.startObserver()}unmount(){}}function YX({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const XX={inView:{Feature:QX},tap:{Feature:zX},focus:{Feature:$X},hover:{Feature:BX}},JX={layout:{ProjectionNode:pL,MeasureLayout:oL}},HE=m.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),cy=m.createContext({}),qE=typeof window<"u",gL=qE?m.useLayoutEffect:m.useEffect,yL=m.createContext({strict:!1});let k1=!1;function ZX(t,e,n,r,s){var i;const{visualElement:o}=m.useContext(cy),a=m.useContext(yL),l=m.useContext(ly),c=m.useContext(HE).reducedMotion,u=m.useRef();r=r||a.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,p=m.useContext(iL);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&tJ(u.current,n,s,p),m.useInsertionEffect(()=>{d&&d.update(n,l)});const g=n[BO],v=m.useRef(!!g&&!window.MotionHandoffIsComplete&&((i=window.MotionHasOptimisedAnimation)===null||i===void 0?void 0:i.call(window,g)));return gL(()=>{d&&(d.updateFeatures(),WE.render(d.render),v.current&&d.animationState&&d.animationState.animateChanges())}),m.useEffect(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current=!1,k1||(k1=!0,queueMicrotask(eJ)))}),d}function eJ(){window.MotionHandoffIsComplete=!0}function tJ(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:vL(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&zl(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function vL(t){if(t)return t.options.allowProjection!==!1?t.projection:vL(t.parent)}function nJ(t,e,n){return m.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):zl(n)&&(n.current=r))},[e])}function uy(t){return th(t.animate)||PE.some(e=>nh(t[e]))}function wL(t){return!!(uy(t)||t.variants)}function rJ(t,e){if(uy(t)){const{initial:n,animate:r}=t;return{initial:n===!1||nh(n)?n:void 0,animate:nh(r)?r:void 0}}return t.inherit!==!1?e:{}}function sJ(t){const{initial:e,animate:n}=rJ(t,m.useContext(cy));return m.useMemo(()=>({initial:e,animate:n}),[M1(e),M1(n)])}function M1(t){return Array.isArray(t)?t.join(" "):t}const O1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},kc={};for(const t in O1)kc[t]={isEnabled:e=>O1[t].some(n=>!!e[n])};function iJ(t){for(const e in t)kc[e]={...kc[e],...t[e]}}const oJ=Symbol.for("motionComponentSymbol");function aJ({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&iJ(t);function i(a,l){let c;const u={...m.useContext(HE),...a,layoutId:lJ(a)},{isStatic:d}=u,p=sJ(a),g=r(a,d);if(!d&&qE){cJ();const v=uJ(u);c=v.MeasureLayout,p.visualElement=ZX(s,g,u,e,v.ProjectionNode)}return f.jsxs(cy.Provider,{value:p,children:[c&&p.visualElement?f.jsx(c,{visualElement:p.visualElement,...u}):null,n(s,a,nJ(g,p.visualElement,l),g,d,p.visualElement)]})}const o=m.forwardRef(i);return o[oJ]=s,o}function lJ({layoutId:t}){const e=m.useContext(KE).id;return e&&t!==void 0?e+"-"+t:t}function cJ(t,e){m.useContext(yL).strict}function uJ(t){const{drag:e,layout:n}=kc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const dJ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function GE(t){return typeof t!="string"||t.includes("-")?!1:!!(dJ.indexOf(t)>-1||/[A-Z]/u.test(t))}function _L(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const xL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function EL(t,e,n,r){_L(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(xL.has(s)?s:oy(s),e.attrs[s])}function TL(t,{layout:e,layoutId:n}){return Yo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!$m[t]||t==="opacity")}function QE(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(Vn(s[o])||e.style&&Vn(e.style[o])||TL(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return n&&s&&typeof s.willChange=="string"&&(n.applyWillChange=!1),i}function SL(t,e,n){const r=QE(t,e,n);for(const s in t)if(Vn(t[s])||Vn(e[s])){const i=Qh.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function YE(t){const e=m.useRef(null);return e.current===null&&(e.current=t()),e.current}function hJ({applyWillChange:t=!1,scrapeMotionValuesFromProps:e,createRenderState:n,onMount:r},s,i,o,a){const l={latestValues:pJ(s,i,o,a?!1:t,e),renderState:n()};return r&&(l.mount=c=>r(s,c,l)),l}const bL=t=>(e,n)=>{const r=m.useContext(cy),s=m.useContext(ly),i=()=>hJ(t,e,r,s,n);return n?i():YE(i)};function fJ(t,e){const n=zO(e);n&&sy(t,n)}function L1(t,e,n){const r=Array.isArray(e)?e:[e];for(let s=0;s<r.length;s++){const i=IE(t,r[s]);if(i){const{transitionEnd:o,transition:a,...l}=i;n(l,o)}}}function pJ(t,e,n,r,s){var i;const o={},a=[],l=r&&((i=t.style)===null||i===void 0?void 0:i.willChange)===void 0,c=s(t,{});for(const E in c)o[E]=Fp(c[E]);let{initial:u,animate:d}=t;const p=uy(t),g=wL(t);e&&g&&!p&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let v=n?n.initial===!1:!1;v=v||u===!1;const w=v?d:u;return w&&typeof w!="boolean"&&!th(w)&&L1(t,w,(E,_)=>{for(const y in E){let S=E[y];if(Array.isArray(S)){const A=v?S.length-1:0;S=S[A]}S!==null&&(o[y]=S)}for(const y in _)o[y]=_[y]}),l&&(d&&u!==!1&&!th(d)&&L1(t,d,E=>{for(const _ in E)fJ(a,_)}),a.length&&(o.willChange=a.join(","))),o}const XE=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),CL=()=>({...XE(),attrs:{}}),IL=(t,e)=>e&&typeof t=="number"?e.transform(t):t,mJ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gJ=Qh.length;function yJ(t,e,n){let r="",s=!0;for(let i=0;i<gJ;i++){const o=Qh[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=IL(a,OE[o]);if(!l){s=!1;const u=mJ[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function JE(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Yo.has(l)){o=!0;continue}else if(uO(l)){s[l]=c;continue}else{const u=IL(c,OE[l]);l.startsWith("origin")?(a=!0,i[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=yJ(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;r.transformOrigin=`${l} ${c} ${u}`}}function j1(t,e,n){return typeof t=="string"?t:Ce.transform(e+n*t)}function vJ(t,e,n){const r=j1(e,t.x,t.width),s=j1(n,t.y,t.height);return`${r} ${s}`}const wJ={offset:"stroke-dashoffset",array:"stroke-dasharray"},_J={offset:"strokeDashoffset",array:"strokeDasharray"};function xJ(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?wJ:_J;t[i.offset]=Ce.transform(-r);const o=Ce.transform(e),a=Ce.transform(n);t[i.array]=`${o} ${a}`}function ZE(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,d){if(JE(t,c,d),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g,dimensions:v}=t;p.transform&&(v&&(g.transform=p.transform),delete p.transform),v&&(s!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=vJ(v,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&xJ(p,o,a,l,!1)}const eT=t=>typeof t=="string"&&t.toLowerCase()==="svg",EJ={useVisualState:bL({scrapeMotionValuesFromProps:SL,createRenderState:CL,onMount:(t,e,{renderState:n,latestValues:r})=>{ht.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ht.render(()=>{ZE(n,r,eT(e.tagName),t.transformTemplate),EL(e,n)})}})},TJ={useVisualState:bL({applyWillChange:!0,scrapeMotionValuesFromProps:QE,createRenderState:XE})};function AL(t,e,n){for(const r in e)!Vn(e[r])&&!TL(r,n)&&(t[r]=e[r])}function SJ({transformTemplate:t},e){return m.useMemo(()=>{const n=XE();return JE(n,e,t),Object.assign({},n.vars,n.style)},[e])}function bJ(t,e){const n=t.style||{},r={};return AL(r,n,t),Object.assign(r,SJ(t,e)),r}function CJ(t,e){const n={},r=bJ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const IJ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function zm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||IJ.has(t)}let PL=t=>!zm(t);function AJ(t){t&&(PL=e=>e.startsWith("on")?!zm(e):t(e))}try{AJ(require("@emotion/is-prop-valid").default)}catch{}function PJ(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(PL(s)||n===!0&&zm(s)||!e&&!zm(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function RJ(t,e,n,r){const s=m.useMemo(()=>{const i=CL();return ZE(i,e,eT(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};AL(i,t.style,t),s.style={...i,...s.style}}return s}function NJ(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(GE(n)?RJ:CJ)(r,i,o,n),c=PJ(r,typeof n=="string",t),u=n!==m.Fragment?{...c,...l,ref:s}:{},{children:d}=r,p=m.useMemo(()=>Vn(d)?d.get():d,[d]);return m.createElement(n,{...u,children:p})}}function DJ(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...GE(r)?EJ:TJ,preloadedFeatures:t,useRender:NJ(s),createVisualElement:e,Component:r};return aJ(o)}}const Q0={current:null},RL={current:!1};function kJ(){if(RL.current=!0,!!qE)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Q0.current=t.matches;t.addListener(e),e()}else Q0.current=!1}function MJ(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Vn(s))t.addValue(r,s);else if(Vn(i))t.addValue(r,ih(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,ih(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const V1=new WeakMap,OJ=[...fO,Mn,Vo],LJ=t=>OJ.find(hO(t)),F1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class jJ{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=kE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Ls.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,ht.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=uy(n),this.isVariantNode=wL(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in d){const g=d[p];l[p]!==void 0&&Vn(g)&&g.set(l[p],!1)}}mount(e){this.current=e,V1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),RL.current||kJ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Q0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){V1.delete(this.current),this.projection&&this.projection.unmount(),Ti(this.notifyUpdate),Ti(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Yo.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&ht.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in kc){const n=kc[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Gt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<F1.length;r++){const s=F1[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=MJ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ih(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(lO(s)||aO(s))?s=parseFloat(s):!LJ(s)&&Vo.test(n)&&(s=xO(e,n)),this.setBaseTarget(e,Vn(s)?s.get():s)),Vn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=IE(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Vn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new zE),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class NL extends jJ{constructor(){super(...arguments),this.KeyframeResolver=EO}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function VJ(t){return window.getComputedStyle(t)}class FJ extends NL{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=_L}readValueFromInstance(e,n){if(Yo.has(n)){const r=LE(n);return r&&r.default||0}else{const r=VJ(e),s=(uO(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return rL(e,n)}build(e,n,r){JE(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return QE(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Vn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class UJ extends NL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Gt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Yo.has(n)){const r=LE(n);return r&&r.default||0}return n=xL.has(n)?n:oy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return SL(e,n,r)}build(e,n,r){ZE(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){EL(e,n,r,s)}mount(e){this.isSVGTag=eT(e.tagName),super.mount(e)}}const BJ=(t,e)=>GE(t)?new UJ(e):new FJ(e,{allowProjection:t!==m.Fragment}),$J=DJ({...PY,...XX,...UX,...JX},BJ),zJ=TG($J);class KJ extends m.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function WJ({children:t,isPresent:e}){const n=m.useId(),r=m.useRef(null),s=m.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=m.useContext(HE);return m.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=s.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return i&&(u.nonce=i),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),f.jsx(KJ,{isPresent:e,childRef:r,sizeRef:s,children:m.cloneElement(t,{ref:r})})}const HJ=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=YE(qJ),l=m.useId(),c=m.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:u=>{a.set(u,!0);for(const d of a.values())if(!d)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),i?[Math.random()]:[n]);return m.useMemo(()=>{a.forEach((u,d)=>a.set(d,!1))},[n]),m.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=f.jsx(WJ,{isPresent:n,children:t})),f.jsx(ly.Provider,{value:c,children:t})};function qJ(){return new Map}const ip=t=>t.key||"";function U1(t){const e=[];return m.Children.forEach(t,n=>{m.isValidElement(n)&&e.push(n)}),e}const GJ=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=m.useMemo(()=>U1(t),[t]),l=a.map(ip),c=m.useRef(!0),u=m.useRef(a),d=YE(()=>new Map),[p,g]=m.useState(a),[v,w]=m.useState(a);gL(()=>{c.current=!1,u.current=a;for(let y=0;y<v.length;y++){const S=ip(v[y]);l.includes(S)?d.delete(S):d.get(S)!==!0&&d.set(S,!1)}},[v,l.length,l.join("-")]);const E=[];if(a!==p){let y=[...a];for(let S=0;S<v.length;S++){const A=v[S],D=ip(A);l.includes(D)||(y.splice(S,0,A),E.push(A))}o==="wait"&&E.length&&(y=E),w(U1(y)),g(a);return}const{forceRender:_}=m.useContext(KE);return f.jsx(f.Fragment,{children:v.map(y=>{const S=ip(y),A=a===v||l.includes(S),D=()=>{if(d.has(S))d.set(S,!0);else return;let O=!0;d.forEach(C=>{C||(O=!1)}),O&&(_==null||_(),w(u.current),s&&s())};return f.jsx(HJ,{isPresent:A,initial:!c.current||r?void 0:!1,custom:A?void 0:n,presenceAffectsLayout:i,mode:o,onExitComplete:A?void 0:D,children:y},S)})})},QJ=({messageHistory:t,endOfMessagesRef:e,handleMessageClick:n})=>f.jsxs("div",{className:"flex-1 py-4 overflow-y-auto",children:[f.jsx(GJ,{children:f.jsx(ty,{items:t,renderItem:r=>f.jsx(zJ.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`mb-4 ${r.sender==="user"?"text-right":"text-left"}`,children:f.jsx(EG,{message:r,onItemClick:n})},r.uuid),listStyle:"px-4 flex flex-col space-y-4"})}),f.jsx("div",{ref:e})]}),YJ=()=>{const{messageHistory:t,handleSubmitMessage:e,endOfMessagesRef:n,selectedResponse:r,setSelectedResponse:s,isInfoPanelOpen:i,setIsInfoPanelOpen:o}=cG();return f.jsxs("div",{className:"flex flex-col w-full max-w-4xl h-[44rem] border border-neutral-200 bg-white rounded-md",children:[f.jsxs("header",{className:"w-full h-[4rem] text-xl font-medium flex items-center justify-between px-4 border-b border-customBorderColor",children:["Admin Chat Interface",f.jsx("button",{onClick:()=>o(a=>!a),children:f.jsx("div",{className:"border border-customBorderColor text-zinc-500 p-1.5 rounded-sm hover:bg-zinc-50",children:f.jsx(TW,{})})})]}),f.jsxs("div",{className:"flex-1 flex overflow-y-auto",children:[f.jsxs("section",{className:"flex-1 flex flex-col",children:[f.jsx(QJ,{messageHistory:t,endOfMessagesRef:n,handleMessageClick:s}),f.jsx(vG,{onSendMessage:e})]}),f.jsx(yG,{showPanel:i,responseData:r})]})]})},XJ=()=>f.jsxs("div",{className:"flex items-center flex-col w-[84rem] px-20 space-y-6 pb-8",children:[f.jsx(oG,{headerText:"Chatbot"}),f.jsx(YJ,{})]}),JJ=()=>f.jsx("header",{className:"py-4 text-3xl font-semibold w-full",children:"Knowledge"});function ZJ(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var tT=t=>{const{present:e,children:n}=t,r=eZ(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=Me(r.ref,tZ(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};tT.displayName="Presence";function eZ(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=ZJ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=op(r.current);i.current=a==="mounted"?c:"none"},[a]),Rt(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=op(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Rt(()=>{if(e){const c=d=>{const g=op(r.current).includes(d.animationName);d.target===e&&g&&Ai.flushSync(()=>l("ANIMATION_END"))},u=d=>{d.target===e&&(i.current=op(r.current))};return e.addEventListener("animationstart",u),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",u),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function op(t){return(t==null?void 0:t.animationName)||"none"}function tZ(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var nT="Tabs",[nZ,que]=Yc(nT,[Hg]),DL=Hg(),[rZ,rT]=nZ(nT),kL=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=Ug(a),[d,p]=No({prop:r,onChange:s,defaultProp:i});return f.jsx(rZ,{scope:n,baseId:ds(),value:d,onValueChange:p,orientation:o,dir:u,activationMode:l,children:f.jsx(xe.div,{dir:u,"data-orientation":o,...c,ref:e})})});kL.displayName=nT;var ML="TabsList",OL=m.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=rT(ML,n),o=DL(n);return f.jsx($k,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:f.jsx(xe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});OL.displayName=ML;var LL="TabsTrigger",jL=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=rT(LL,n),a=DL(n),l=FL(o.baseId,r),c=UL(o.baseId,r),u=r===o.value;return f.jsx(zk,{asChild:!0,...a,focusable:!s,active:u,children:f.jsx(xe.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:ee(t.onMouseDown,d=>{!s&&d.button===0&&d.ctrlKey===!1?o.onValueChange(r):d.preventDefault()}),onKeyDown:ee(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(r)}),onFocus:ee(t.onFocus,()=>{const d=o.activationMode!=="manual";!u&&!s&&d&&o.onValueChange(r)})})})});jL.displayName=LL;var VL="TabsContent",dy=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=rT(VL,n),l=FL(a.baseId,r),c=UL(a.baseId,r),u=r===a.value,d=m.useRef(u);return m.useEffect(()=>{const p=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(p)},[]),f.jsx(tT,{present:s||u,children:({present:p})=>f.jsx(xe.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:p&&i})})});dy.displayName=VL;function FL(t,e){return`${t}-trigger-${e}`}function UL(t,e){return`${t}-content-${e}`}var sZ=kL,BL=OL,$L=jL,zL=dy;const iZ=sZ,KL=m.forwardRef(({className:t,...e},n)=>f.jsx(BL,{ref:n,className:de("inline-flex min-h-10 items-center justify-center rounded-tl-md rounded-tr-md bg-muted px-4 py-3 text-muted-foreground",t),...e}));KL.displayName=BL.displayName;const WL=m.forwardRef(({className:t,...e},n)=>f.jsx($L,{ref:n,className:de("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-2 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));WL.displayName=$L.displayName;const HL=m.forwardRef(({className:t,...e},n)=>f.jsx(zL,{ref:n,className:de("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));HL.displayName=zL.displayName;const oZ=[{tabValue:"knowledgeBase",tabName:"Knowledge Base"},{tabValue:"knowledgeEntry",tabName:"Knowledge Entry"},{tabValue:"entryDetails",tabName:"Entry Details"}],aZ={knowledgeBase:gW,knowledgeEntry:uW,entryDetails:uk},lZ=({tabs:t})=>f.jsx(KL,{className:"grid w-full grid-cols-3 bg-heading",children:t.map(({tabName:e,tabValue:n})=>{const r=aZ[n];return f.jsxs(WL,{value:n,className:"data-[state=active]:bg-primary data-[state=active]:text-white",children:[f.jsx(r,{className:"size-5 mr-2"}),f.jsx("p",{className:"hidden md:block",children:e})]},e)})});var cZ="DismissableLayer",Y0="dismissableLayer.update",uZ="dismissableLayer.pointerDownOutside",dZ="dismissableLayer.focusOutside",B1,qL=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),GL=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(qL),[u,d]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),v=Me(e,C=>d(C)),w=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=w.indexOf(E),y=u?w.indexOf(u):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,A=y>=_,D=pZ(C=>{const T=C.target,I=[...c.branches].some(P=>P.contains(T));!A||I||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),O=mZ(C=>{const T=C.target;[...c.branches].some(P=>P.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return Bh(C=>{y===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(B1=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),$1(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=B1)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),$1())},[u,c]),m.useEffect(()=>{const C=()=>g({});return document.addEventListener(Y0,C),()=>document.removeEventListener(Y0,C)},[]),f.jsx(xe.div,{...l,ref:v,style:{pointerEvents:S?A?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,D.onPointerDownCapture)})});GL.displayName=cZ;var hZ="DismissableLayerBranch",fZ=m.forwardRef((t,e)=>{const n=m.useContext(qL),r=m.useRef(null),s=Me(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(xe.div,{...t,ref:s})});fZ.displayName=hZ;function pZ(t,e=globalThis==null?void 0:globalThis.document){const n=Dt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){QL(uZ,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function mZ(t,e=globalThis==null?void 0:globalThis.document){const n=Dt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&QL(dZ,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function $1(){const t=new CustomEvent(Y0);document.dispatchEvent(t)}function QL(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?sl(s,i):s.dispatchEvent(i)}var gZ="VisuallyHidden",Zh=m.forwardRef((t,e)=>f.jsx(xe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Zh.displayName=gZ;var yZ=Zh,[hy,Gue]=Yc("Tooltip",[Zc]),fy=Zc(),YL="TooltipProvider",vZ=700,X0="tooltip.open",[wZ,sT]=hy(YL),XL=t=>{const{__scopeTooltip:e,delayDuration:n=vZ,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=m.useState(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),f.jsx(wZ,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};XL.displayName=YL;var py="Tooltip",[_Z,my]=hy(py),JL=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,l=sT(py,t.__scopeTooltip),c=fy(e),[u,d]=m.useState(null),p=ds(),g=m.useRef(0),v=o??l.disableHoverableContent,w=a??l.delayDuration,E=m.useRef(!1),[_=!1,y]=No({prop:r,defaultProp:s,onChange:C=>{C?(l.onOpen(),document.dispatchEvent(new CustomEvent(X0))):l.onClose(),i==null||i(C)}}),S=m.useMemo(()=>_?E.current?"delayed-open":"instant-open":"closed",[_]),A=m.useCallback(()=>{window.clearTimeout(g.current),E.current=!1,y(!0)},[y]),D=m.useCallback(()=>{window.clearTimeout(g.current),y(!1)},[y]),O=m.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{E.current=!0,y(!0)},w)},[w,y]);return m.useEffect(()=>()=>window.clearTimeout(g.current),[]),f.jsx(oE,{...c,children:f.jsx(_Z,{scope:e,contentId:p,open:_,stateAttribute:S,trigger:u,onTriggerChange:d,onTriggerEnter:m.useCallback(()=>{l.isOpenDelayed?O():A()},[l.isOpenDelayed,O,A]),onTriggerLeave:m.useCallback(()=>{v?D():window.clearTimeout(g.current)},[D,v]),onOpen:A,onClose:D,disableHoverableContent:v,children:n})})};JL.displayName=py;var J0="TooltipTrigger",ZL=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=my(J0,n),i=sT(J0,n),o=fy(n),a=m.useRef(null),l=Me(e,a,s.onTriggerChange),c=m.useRef(!1),u=m.useRef(!1),d=m.useCallback(()=>c.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),f.jsx(aE,{asChild:!0,...o,children:f.jsx(xe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ee(t.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:ee(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:ee(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:ee(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:ee(t.onBlur,s.onClose),onClick:ee(t.onClick,s.onClose)})})});ZL.displayName=J0;var xZ="TooltipPortal",[Que,EZ]=hy(xZ,{forceMount:void 0}),Mc="TooltipContent",ej=m.forwardRef((t,e)=>{const n=EZ(Mc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=my(Mc,t.__scopeTooltip);return f.jsx(tT,{present:r||o.open,children:o.disableHoverableContent?f.jsx(tj,{side:s,...i,ref:e}):f.jsx(TZ,{side:s,...i,ref:e})})}),TZ=m.forwardRef((t,e)=>{const n=my(Mc,t.__scopeTooltip),r=sT(Mc,t.__scopeTooltip),s=m.useRef(null),i=Me(e,s),[o,a]=m.useState(null),{trigger:l,onClose:c}=n,u=s.current,{onPointerInTransitChange:d}=r,p=m.useCallback(()=>{a(null),d(!1)},[d]),g=m.useCallback((v,w)=>{const E=v.currentTarget,_={x:v.clientX,y:v.clientY},y=IZ(_,E.getBoundingClientRect()),S=AZ(_,y),A=PZ(w.getBoundingClientRect()),D=NZ([...S,...A]);a(D),d(!0)},[d]);return m.useEffect(()=>()=>p(),[p]),m.useEffect(()=>{if(l&&u){const v=E=>g(E,u),w=E=>g(E,l);return l.addEventListener("pointerleave",v),u.addEventListener("pointerleave",w),()=>{l.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",w)}}},[l,u,g,p]),m.useEffect(()=>{if(o){const v=w=>{const E=w.target,_={x:w.clientX,y:w.clientY},y=(l==null?void 0:l.contains(E))||(u==null?void 0:u.contains(E)),S=!RZ(_,o);y?p():S&&(p(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,u,o,c,p]),f.jsx(tj,{...t,ref:i})}),[SZ,bZ]=hy(py,{isInside:!1}),tj=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=my(Mc,n),c=fy(n),{onClose:u}=l;return m.useEffect(()=>(document.addEventListener(X0,u),()=>document.removeEventListener(X0,u)),[u]),m.useEffect(()=>{if(l.trigger){const d=p=>{const g=p.target;g!=null&&g.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),f.jsx(GL,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:f.jsxs(lE,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(Yx,{children:r}),f.jsx(SZ,{scope:n,isInside:!0,children:f.jsx(yZ,{id:l.contentId,role:"tooltip",children:s||r})})]})})});ej.displayName=Mc;var nj="TooltipArrow",CZ=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=fy(n);return bZ(nj,n).isInside?null:f.jsx(cE,{...s,...r,ref:e})});CZ.displayName=nj;function IZ(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function AZ(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function PZ(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function RZ(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(s=!s)}return s}function NZ(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),DZ(e)}function DZ(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var kZ=XL,MZ=JL,OZ=ZL,rj=ej;const LZ=kZ,jZ=MZ,VZ=OZ,sj=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>f.jsx(rj,{ref:r,sideOffset:e,className:de("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));sj.displayName=rj.displayName;const gy=({tooltip:t,children:e})=>f.jsx(LZ,{children:f.jsxs(jZ,{children:[f.jsx(VZ,{asChild:!0,children:e}),f.jsx(sj,{className:"max-w-xs",children:f.jsx("p",{className:"text-zinc-800",children:t})})]})}),FZ={entry:"ENTRY",base:"BASE"},UZ="A unique action or purpose the user wants to achieve",BZ="Example phrases the bot associates with the intent during training",$Z="The bot's response to the query",fo={passwordIncorrect:"Admin password is incorrect",passwordSameAsOld:"New password must be different from the old one"},zZ=8,KZ=5,dt=Ho((t,e)=>({formData:{knowledgeBaseName:"",intent:"",documents:[""],answer:"",fileUrl:"",file:null},formDataErrors:{},setFormData:(n,r)=>{t(s=>({formData:{...s.formData,[n]:r}}))},setFile:n=>{t(r=>({formData:{...r.formData,file:n}}))},setFormDataErrors:n=>{t({formDataErrors:n})},setDocuments:(n,r)=>{const s=e().formData.documents;s[r]=n,t(i=>({formData:{...i.formData,documents:s}}))},addDocument:()=>{e().formData.documents.length>=zZ||t(n=>({formData:{...n.formData,documents:[...n.formData.documents,""]}}))},removeDocument:n=>{const r=e().formData.documents;if(r.length===1)throw new Error("Documents cannot be empty");r.splice(n,1),t(s=>({formData:{...s.formData,documents:r}}))},clearFormData:()=>{t(()=>({formData:{knowledgeBaseName:"",intent:"",documents:[""],answer:"",fileUrl:"",file:null},formDataErrors:{knowledgeBaseName:"",intent:"",documents:"",answer:""}}))}})),WZ=()=>{const{intent:t}=dt(r=>r.formData),e=dt(r=>r.setFormData),n=Pt(r=>r.admin);return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-fit",children:f.jsx(gy,{tooltip:UZ,children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("label",{htmlFor:"intent",className:"cursor-pointer font-medium ",children:"Intent"}),f.jsx(Lg,{className:"size-4 text-[#64748b] cursor-pointer"})]})})}),f.jsx(on,{id:"intent",placeholder:"Enter intent",value:t,className:"mt-1",readOnly:(n==null?void 0:n.role)==="viewer",onChange:r=>e("intent",r.target.value)})]})},yy=m.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:de("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));yy.displayName="Card";const ij=m.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:de("flex flex-col space-y-1.5 p-6",t),...e}));ij.displayName="CardHeader";const oj=m.forwardRef(({className:t,...e},n)=>f.jsx("h3",{ref:n,className:de("text-2xl font-semibold leading-none tracking-tight",t),...e}));oj.displayName="CardTitle";const aj=m.forwardRef(({className:t,...e},n)=>f.jsx("p",{ref:n,className:de("text-sm text-muted-foreground",t),...e}));aj.displayName="CardDescription";const vy=m.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:de("p-6 pt-0",t),...e}));vy.displayName="CardContent";const lj=m.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:de("flex items-center p-6 pt-0",t),...e}));lj.displayName="CardFooter";const HZ=()=>{var o;const t=dt(a=>a.formData),e=dt(a=>a.setDocuments),n=dt(a=>a.addDocument),r=dt(a=>a.removeDocument),s=Pt(a=>a.admin),i=async a=>{try{if(!t.intent)return;if(t.documents.length===1)return window.alert("Documents cannot be empty");r(a)}catch(l){console.error(l)}};return f.jsxs("div",{children:[f.jsx("div",{className:"w-fit",children:f.jsx(gy,{tooltip:BZ,children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("label",{className:"cursor-pointer font-medium ",children:"Document"}),f.jsx(Lg,{className:"size-4 text-[#64748b] cursor-pointer"})]})})}),f.jsx("div",{className:"space-y-2 mt-1",children:(o=t.documents)==null?void 0:o.map((a,l)=>f.jsx(yy,{className:"w-full hover:bg-lightGray transition-colors",children:f.jsxs(vy,{className:"p-4 w-full flex items-center justify-between-",children:[f.jsx("div",{className:"flex w-full items-center space-x-4",children:f.jsx("input",{value:a,id:"document",className:"text-sm bg-transparent outline-none w-full py-2",placeholder:"Enter document",readOnly:(s==null?void 0:s.role)==="viewer",onChange:c=>e(c.target.value,l)})}),f.jsx("div",{className:"flex space-x-2",children:(s==null?void 0:s.role)!=="viewer"&&f.jsxs(ut,{variant:"ghost",size:"icon",className:"hover:bg-transparent",onClick:async()=>{await i(l)},children:[f.jsx(Qx,{className:"size-5 font-bold hover:text-red-600 ease-in",strokeWidth:2}),f.jsx("span",{className:"sr-only",children:"Delete"})]})})]})},l))}),(s==null?void 0:s.role)!=="viewer"&&f.jsxs(ut,{variant:"outline",size:"sm",className:"mt-2",onClick:n,disabled:!t.intent,children:[f.jsx(Uh,{className:"w-4 h-4 mr-2"})," Add Document"]})]})},cj=m.forwardRef(({className:t,...e},n)=>f.jsx("textarea",{className:de("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));cj.displayName="Textarea";const qZ=".png,.jpg,.mp4,.pdf",GZ=({fileRef:t,changeFile:e})=>f.jsxs("div",{children:[f.jsx(on,{id:"file-upload",type:"file",className:"hidden",ref:t,accept:qZ,onChange:e}),f.jsx(ut,{variant:"ghost",size:"icon",className:"size-8 rounded-full hover:bg-neutral-100 p-1.5",onClick:()=>{var n;return(n=t.current)==null?void 0:n.click()},children:f.jsx(dk,{className:"size-4"})})]});var QZ="Label",uj=m.forwardRef((t,e)=>f.jsx(xe.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));uj.displayName=QZ;var dj=uj;const YZ=qh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Fn=m.forwardRef(({className:t,...e},n)=>f.jsx(dj,{ref:n,className:de(YZ(),t),...e}));Fn.displayName=dj.displayName;const XZ=({isLinkDropdownOpen:t,setIsLinkDropdownOpen:e,onInsertLink:n})=>{const[r,s]=m.useState(""),[i,o]=m.useState(""),a=()=>{e(!1),n(r,i),s(""),o("")};return f.jsxs(Xg,{open:t,onOpenChange:e,children:[f.jsx(Jg,{asChild:!0,children:f.jsx(ut,{variant:"ghost",size:"icon",className:"size-8 rounded-full hover:bg-neutral-100 p-1.5",onClick:()=>e(!0),children:f.jsx(wW,{className:"size-4"})})}),f.jsx(Hh,{side:"top",className:"w-56",children:f.jsxs("div",{className:"flex flex-col p-4 space-y-4",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsx(Fn,{htmlFor:"link-url",className:"mb-1",children:"URL"}),f.jsx(on,{id:"link-url",value:r,onChange:l=>s(l.target.value),className:"col-span-3",placeholder:"Enter link URL"})]}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx(Fn,{htmlFor:"link-text",className:"mb-1",children:"Text"}),f.jsx(on,{id:"link-text",value:i,onChange:l=>o(l.target.value),className:"col-span-3",placeholder:"Enter link Text"})]}),f.jsx(ut,{onClick:a,children:"Insert Link"})]})})]})},hj=({answer:t,handleTextChange:e,onFileChange:n,fileRef:r,textAreaRef:s,isError:i,isLinkDropDownVisible:o,setIsLinkDropDownVisible:a,onInsertLink:l})=>{const c=Pt(d=>d.admin),u=d=>{const p=d.target;p.style.height="auto",p.style.height=`${p.scrollHeight}px`,e("answer",p.value)};return m.useEffect(()=>{s.current&&(s.current.style.height="auto",s.current.style.height=`${s.current.scrollHeight}px`)},[s,t]),f.jsxs("div",{className:"relative mb-4 ",children:[f.jsx(cj,{spellCheck:!1,name:"answer",ref:s,placeholder:"Enter the answer",className:de("min-h-[100px] pb-12 overflow-hidden resize-none outline-none focus:outline-none",i&&"border-destructive"),readOnly:(c==null?void 0:c.role)==="viewer",value:t,onChange:u}),(c==null?void 0:c.role)!=="viewer"&&f.jsxs("div",{className:"absolute bottom-2 left-2 flex space-x-2",children:[f.jsx(XZ,{isLinkDropdownOpen:o,setIsLinkDropdownOpen:a,onInsertLink:l}),f.jsx(GZ,{fileRef:r,changeFile:n})]})]})},fj=({file:t,removeFile:e})=>{const n=Pt(r=>r.admin);return f.jsx("div",{className:"mt-4 p-4 border rounded-md bg-muted",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-2 py-2 overflow-hidden",children:[f.jsx(dk,{className:"h-4 w-4 text-muted-foreground"}),f.jsx("div",{className:"font-medium truncate max-w-[250px]",children:t.name}),f.jsxs("div",{className:"text-sm text-center text-muted-foreground w-20",children:["(",tG(t.size),")"]})]}),(n==null?void 0:n.role)!=="viewer"&&f.jsx(ut,{variant:"ghost",size:"icon",onClick:e,className:"h-8 w-8 min-w-8",children:f.jsx(jg,{className:"h-4 w-4"})})]})})};function tt({className:t,...e}){return f.jsx("div",{className:de("animate-pulse rounded-md bg-muted",t),...e})}var JZ="firebase",ZZ="10.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hr(JZ,ZZ,"app");var z1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Oa,pj;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,T){function I(){}I.prototype=T.prototype,C.D=T.prototype,C.prototype=new I,C.prototype.constructor=C,C.C=function(P,M,k){for(var N=Array(arguments.length-2),H=2;H<arguments.length;H++)N[H-2]=arguments[H];return T.prototype[M].apply(P,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,T,I){I||(I=0);var P=Array(16);if(typeof T=="string")for(var M=0;16>M;++M)P[M]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(M=0;16>M;++M)P[M]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=C.g[0],I=C.g[1],M=C.g[2];var k=C.g[3],N=T+(k^I&(M^k))+P[0]+3614090360&4294967295;T=I+(N<<7&4294967295|N>>>25),N=k+(M^T&(I^M))+P[1]+3905402710&4294967295,k=T+(N<<12&4294967295|N>>>20),N=M+(I^k&(T^I))+P[2]+606105819&4294967295,M=k+(N<<17&4294967295|N>>>15),N=I+(T^M&(k^T))+P[3]+3250441966&4294967295,I=M+(N<<22&4294967295|N>>>10),N=T+(k^I&(M^k))+P[4]+4118548399&4294967295,T=I+(N<<7&4294967295|N>>>25),N=k+(M^T&(I^M))+P[5]+1200080426&4294967295,k=T+(N<<12&4294967295|N>>>20),N=M+(I^k&(T^I))+P[6]+2821735955&4294967295,M=k+(N<<17&4294967295|N>>>15),N=I+(T^M&(k^T))+P[7]+4249261313&4294967295,I=M+(N<<22&4294967295|N>>>10),N=T+(k^I&(M^k))+P[8]+1770035416&4294967295,T=I+(N<<7&4294967295|N>>>25),N=k+(M^T&(I^M))+P[9]+2336552879&4294967295,k=T+(N<<12&4294967295|N>>>20),N=M+(I^k&(T^I))+P[10]+4294925233&4294967295,M=k+(N<<17&4294967295|N>>>15),N=I+(T^M&(k^T))+P[11]+2304563134&4294967295,I=M+(N<<22&4294967295|N>>>10),N=T+(k^I&(M^k))+P[12]+1804603682&4294967295,T=I+(N<<7&4294967295|N>>>25),N=k+(M^T&(I^M))+P[13]+4254626195&4294967295,k=T+(N<<12&4294967295|N>>>20),N=M+(I^k&(T^I))+P[14]+2792965006&4294967295,M=k+(N<<17&4294967295|N>>>15),N=I+(T^M&(k^T))+P[15]+1236535329&4294967295,I=M+(N<<22&4294967295|N>>>10),N=T+(M^k&(I^M))+P[1]+4129170786&4294967295,T=I+(N<<5&4294967295|N>>>27),N=k+(I^M&(T^I))+P[6]+3225465664&4294967295,k=T+(N<<9&4294967295|N>>>23),N=M+(T^I&(k^T))+P[11]+643717713&4294967295,M=k+(N<<14&4294967295|N>>>18),N=I+(k^T&(M^k))+P[0]+3921069994&4294967295,I=M+(N<<20&4294967295|N>>>12),N=T+(M^k&(I^M))+P[5]+3593408605&4294967295,T=I+(N<<5&4294967295|N>>>27),N=k+(I^M&(T^I))+P[10]+38016083&4294967295,k=T+(N<<9&4294967295|N>>>23),N=M+(T^I&(k^T))+P[15]+3634488961&4294967295,M=k+(N<<14&4294967295|N>>>18),N=I+(k^T&(M^k))+P[4]+3889429448&4294967295,I=M+(N<<20&4294967295|N>>>12),N=T+(M^k&(I^M))+P[9]+568446438&4294967295,T=I+(N<<5&4294967295|N>>>27),N=k+(I^M&(T^I))+P[14]+3275163606&4294967295,k=T+(N<<9&4294967295|N>>>23),N=M+(T^I&(k^T))+P[3]+4107603335&4294967295,M=k+(N<<14&4294967295|N>>>18),N=I+(k^T&(M^k))+P[8]+1163531501&4294967295,I=M+(N<<20&4294967295|N>>>12),N=T+(M^k&(I^M))+P[13]+2850285829&4294967295,T=I+(N<<5&4294967295|N>>>27),N=k+(I^M&(T^I))+P[2]+4243563512&4294967295,k=T+(N<<9&4294967295|N>>>23),N=M+(T^I&(k^T))+P[7]+1735328473&4294967295,M=k+(N<<14&4294967295|N>>>18),N=I+(k^T&(M^k))+P[12]+2368359562&4294967295,I=M+(N<<20&4294967295|N>>>12),N=T+(I^M^k)+P[5]+4294588738&4294967295,T=I+(N<<4&4294967295|N>>>28),N=k+(T^I^M)+P[8]+2272392833&4294967295,k=T+(N<<11&4294967295|N>>>21),N=M+(k^T^I)+P[11]+1839030562&4294967295,M=k+(N<<16&4294967295|N>>>16),N=I+(M^k^T)+P[14]+4259657740&4294967295,I=M+(N<<23&4294967295|N>>>9),N=T+(I^M^k)+P[1]+2763975236&4294967295,T=I+(N<<4&4294967295|N>>>28),N=k+(T^I^M)+P[4]+1272893353&4294967295,k=T+(N<<11&4294967295|N>>>21),N=M+(k^T^I)+P[7]+4139469664&4294967295,M=k+(N<<16&4294967295|N>>>16),N=I+(M^k^T)+P[10]+3200236656&4294967295,I=M+(N<<23&4294967295|N>>>9),N=T+(I^M^k)+P[13]+681279174&4294967295,T=I+(N<<4&4294967295|N>>>28),N=k+(T^I^M)+P[0]+3936430074&4294967295,k=T+(N<<11&4294967295|N>>>21),N=M+(k^T^I)+P[3]+3572445317&4294967295,M=k+(N<<16&4294967295|N>>>16),N=I+(M^k^T)+P[6]+76029189&4294967295,I=M+(N<<23&4294967295|N>>>9),N=T+(I^M^k)+P[9]+3654602809&4294967295,T=I+(N<<4&4294967295|N>>>28),N=k+(T^I^M)+P[12]+3873151461&4294967295,k=T+(N<<11&4294967295|N>>>21),N=M+(k^T^I)+P[15]+530742520&4294967295,M=k+(N<<16&4294967295|N>>>16),N=I+(M^k^T)+P[2]+3299628645&4294967295,I=M+(N<<23&4294967295|N>>>9),N=T+(M^(I|~k))+P[0]+4096336452&4294967295,T=I+(N<<6&4294967295|N>>>26),N=k+(I^(T|~M))+P[7]+1126891415&4294967295,k=T+(N<<10&4294967295|N>>>22),N=M+(T^(k|~I))+P[14]+2878612391&4294967295,M=k+(N<<15&4294967295|N>>>17),N=I+(k^(M|~T))+P[5]+4237533241&4294967295,I=M+(N<<21&4294967295|N>>>11),N=T+(M^(I|~k))+P[12]+1700485571&4294967295,T=I+(N<<6&4294967295|N>>>26),N=k+(I^(T|~M))+P[3]+2399980690&4294967295,k=T+(N<<10&4294967295|N>>>22),N=M+(T^(k|~I))+P[10]+4293915773&4294967295,M=k+(N<<15&4294967295|N>>>17),N=I+(k^(M|~T))+P[1]+2240044497&4294967295,I=M+(N<<21&4294967295|N>>>11),N=T+(M^(I|~k))+P[8]+1873313359&4294967295,T=I+(N<<6&4294967295|N>>>26),N=k+(I^(T|~M))+P[15]+4264355552&4294967295,k=T+(N<<10&4294967295|N>>>22),N=M+(T^(k|~I))+P[6]+2734768916&4294967295,M=k+(N<<15&4294967295|N>>>17),N=I+(k^(M|~T))+P[13]+1309151649&4294967295,I=M+(N<<21&4294967295|N>>>11),N=T+(M^(I|~k))+P[4]+4149444226&4294967295,T=I+(N<<6&4294967295|N>>>26),N=k+(I^(T|~M))+P[11]+3174756917&4294967295,k=T+(N<<10&4294967295|N>>>22),N=M+(T^(k|~I))+P[2]+718787259&4294967295,M=k+(N<<15&4294967295|N>>>17),N=I+(k^(M|~T))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+k&4294967295}r.prototype.u=function(C,T){T===void 0&&(T=C.length);for(var I=T-this.blockSize,P=this.B,M=this.h,k=0;k<T;){if(M==0)for(;k<=I;)s(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<T;)if(P[M++]=C.charCodeAt(k++),M==this.blockSize){s(this,P),M=0;break}}else for(;k<T;)if(P[M++]=C[k++],M==this.blockSize){s(this,P),M=0;break}}this.h=M,this.o+=T},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;var I=8*this.o;for(T=C.length-8;T<C.length;++T)C[T]=I&255,I/=256;for(this.u(C),C=Array(16),T=I=0;4>T;++T)for(var P=0;32>P;P+=8)C[I++]=this.g[T]>>>P&255;return C};function i(C,T){var I=a;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=T(C)}function o(C,T){this.h=T;for(var I=[],P=!0,M=C.length-1;0<=M;M--){var k=C[M]|0;P&&k==T||(I[M]=k,P=!1)}this.g=I}var a={};function l(C){return-128<=C&&128>C?i(C,function(T){return new o([T|0],0>T?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return d;if(0>C)return E(c(-C));for(var T=[],I=1,P=0;C>=I;P++)T[P]=C/I|0,I*=4294967296;return new o(T,0)}function u(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return E(u(C.substring(1),T));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(T,8)),P=d,M=0;M<C.length;M+=8){var k=Math.min(8,C.length-M),N=parseInt(C.substring(M,M+k),T);8>k?(k=c(Math.pow(T,k)),P=P.j(k).add(c(N))):(P=P.j(I),P=P.add(c(N)))}return P}var d=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-E(this).m();for(var C=0,T=1,I=0;I<this.g.length;I++){var P=this.i(I);C+=(0<=P?P:4294967296+P)*T,T*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(v(this))return"0";if(w(this))return"-"+E(this).toString(C);for(var T=c(Math.pow(C,6)),I=this,P="";;){var M=A(I,T).g;I=_(I,M.j(T));var k=((0<I.g.length?I.g[0]:I.h)>>>0).toString(C);if(I=M,v(I))return k+P;for(;6>k.length;)k="0"+k;P=k+P}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function v(C){if(C.h!=0)return!1;for(var T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function w(C){return C.h==-1}t.l=function(C){return C=_(this,C),w(C)?-1:v(C)?0:1};function E(C){for(var T=C.g.length,I=[],P=0;P<T;P++)I[P]=~C.g[P];return new o(I,~C.h).add(p)}t.abs=function(){return w(this)?E(this):this},t.add=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],P=0,M=0;M<=T;M++){var k=P+(this.i(M)&65535)+(C.i(M)&65535),N=(k>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);P=N>>>16,k&=65535,N&=65535,I[M]=N<<16|k}return new o(I,I[I.length-1]&-2147483648?-1:0)};function _(C,T){return C.add(E(T))}t.j=function(C){if(v(this)||v(C))return d;if(w(this))return w(C)?E(this).j(E(C)):E(E(this).j(C));if(w(C))return E(this.j(E(C)));if(0>this.l(g)&&0>C.l(g))return c(this.m()*C.m());for(var T=this.g.length+C.g.length,I=[],P=0;P<2*T;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var M=0;M<C.g.length;M++){var k=this.i(P)>>>16,N=this.i(P)&65535,H=C.i(M)>>>16,ae=C.i(M)&65535;I[2*P+2*M]+=N*ae,y(I,2*P+2*M),I[2*P+2*M+1]+=k*ae,y(I,2*P+2*M+1),I[2*P+2*M+1]+=N*H,y(I,2*P+2*M+1),I[2*P+2*M+2]+=k*H,y(I,2*P+2*M+2)}for(P=0;P<T;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=T;P<2*T;P++)I[P]=0;return new o(I,0)};function y(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function S(C,T){this.g=C,this.h=T}function A(C,T){if(v(T))throw Error("division by zero");if(v(C))return new S(d,d);if(w(C))return T=A(E(C),T),new S(E(T.g),E(T.h));if(w(T))return T=A(C,E(T)),new S(E(T.g),T.h);if(30<C.g.length){if(w(C)||w(T))throw Error("slowDivide_ only works with positive integers.");for(var I=p,P=T;0>=P.l(C);)I=D(I),P=D(P);var M=O(I,1),k=O(P,1);for(P=O(P,2),I=O(I,2);!v(P);){var N=k.add(P);0>=N.l(C)&&(M=M.add(I),k=N),P=O(P,1),I=O(I,1)}return T=_(C,M.j(T)),new S(M,T)}for(M=d;0<=C.l(T);){for(I=Math.max(1,Math.floor(C.m()/T.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),k=c(I),N=k.j(T);w(N)||0<N.l(C);)I-=P,k=c(I),N=k.j(T);v(k)&&(k=p),M=M.add(k),C=_(C,N)}return new S(M,C)}t.A=function(C){return A(this,C).h},t.and=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)&C.i(P);return new o(I,this.h&C.h)},t.or=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)|C.i(P);return new o(I,this.h|C.h)},t.xor=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)^C.i(P);return new o(I,this.h^C.h)};function D(C){for(var T=C.g.length+1,I=[],P=0;P<T;P++)I[P]=C.i(P)<<1|C.i(P-1)>>>31;return new o(I,C.h)}function O(C,T){var I=T>>5;T%=32;for(var P=C.g.length-I,M=[],k=0;k<P;k++)M[k]=0<T?C.i(k+I)>>>T|C.i(k+I+1)<<32-T:C.i(k+I);return new o(M,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,pj=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Oa=o}).apply(typeof z1<"u"?z1:typeof self<"u"?self:typeof window<"u"?window:{});var ap=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mj,gj,Qu,yj,Up,Z0,vj,wj,_j;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,x,b){return h==Array.prototype||h==Object.prototype||(h[x]=b.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof ap=="object"&&ap];for(var x=0;x<h.length;++x){var b=h[x];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function s(h,x){if(x)e:{var b=r;h=h.split(".");for(var R=0;R<h.length-1;R++){var U=h[R];if(!(U in b))break e;b=b[U]}h=h[h.length-1],R=b[h],x=x(R),x!=R&&x!=null&&e(b,h,{configurable:!0,writable:!0,value:x})}}function i(h,x){h instanceof String&&(h+="");var b=0,R=!1,U={next:function(){if(!R&&b<h.length){var W=b++;return{value:x(W,h[W]),done:!1}}return R=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}s("Array.prototype.values",function(h){return h||function(){return i(this,function(x,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(h){var x=typeof h;return x=x!="object"?x:h?Array.isArray(h)?"array":x:"null",x=="array"||x=="object"&&typeof h.length=="number"}function c(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function u(h,x,b){return h.call.apply(h.bind,arguments)}function d(h,x,b){if(!h)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,R),h.apply(x,U)}}return function(){return h.apply(x,arguments)}}function p(h,x,b){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,p.apply(null,arguments)}function g(h,x){var b=Array.prototype.slice.call(arguments,1);return function(){var R=b.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function v(h,x){function b(){}b.prototype=x.prototype,h.aa=x.prototype,h.prototype=new b,h.prototype.constructor=h,h.Qb=function(R,U,W){for(var ie=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)ie[vt-2]=arguments[vt];return x.prototype[U].apply(R,ie)}}function w(h){const x=h.length;if(0<x){const b=Array(x);for(let R=0;R<x;R++)b[R]=h[R];return b}return[]}function E(h,x){for(let b=1;b<arguments.length;b++){const R=arguments[b];if(l(R)){const U=h.length||0,W=R.length||0;h.length=U+W;for(let ie=0;ie<W;ie++)h[U+ie]=R[ie]}else h.push(R)}}class _{constructor(x,b){this.i=x,this.j=b,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function y(h){return/^[\s\xa0]*$/.test(h)}function S(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function A(h){return A[" "](h),h}A[" "]=function(){};var D=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function O(h,x,b){for(const R in h)x.call(b,h[R],R,h)}function C(h,x){for(const b in h)x.call(void 0,h[b],b,h)}function T(h){const x={};for(const b in h)x[b]=h[b];return x}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(h,x){let b,R;for(let U=1;U<arguments.length;U++){R=arguments[U];for(b in R)h[b]=R[b];for(let W=0;W<I.length;W++)b=I[W],Object.prototype.hasOwnProperty.call(R,b)&&(h[b]=R[b])}}function M(h){var x=1;h=h.split(":");const b=[];for(;0<x&&h.length;)b.push(h.shift()),x--;return h.length&&b.push(h.join(":")),b}function k(h){a.setTimeout(()=>{throw h},0)}function N(){var h=B;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class H{constructor(){this.h=this.g=null}add(x,b){const R=ae.get();R.set(x,b),this.h?this.h.next=R:this.g=R,this.h=R}}var ae=new _(()=>new te,h=>h.reset());class te{constructor(){this.next=this.g=this.h=null}set(x,b){this.h=x,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,z=!1,B=new H,Z=()=>{const h=a.Promise.resolve(void 0);ne=()=>{h.then(pe)}};var pe=()=>{for(var h;h=N();){try{h.h.call(h.g)}catch(b){k(b)}var x=ae;x.j(h),100>x.h&&(x.h++,h.next=x.g,x.g=h)}z=!1};function Te(){this.s=this.s,this.C=this.C}Te.prototype.s=!1,Te.prototype.ma=function(){this.s||(this.s=!0,this.N())},Te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ae(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}Ae.prototype.h=function(){this.defaultPrevented=!0};var Je=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};a.addEventListener("test",b,x),a.removeEventListener("test",b,x)}catch{}return h}();function yt(h,x){if(Ae.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var b=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget){if(D){e:{try{A(x.nodeName);var U=!0;break e}catch{}U=!1}U||(x=null)}}else b=="mouseover"?x=h.fromElement:b=="mouseout"&&(x=h.toElement);this.relatedTarget=x,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:qe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&yt.aa.h.call(this)}}v(yt,Ae);var qe={2:"touch",3:"pen",4:"mouse"};yt.prototype.h=function(){yt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),Ve=0;function st(h,x,b,R,U){this.listener=h,this.proxy=null,this.src=x,this.type=b,this.capture=!!R,this.ha=U,this.key=++Ve,this.da=this.fa=!1}function Fe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ze(h){this.src=h,this.g={},this.h=0}ze.prototype.add=function(h,x,b,R,U){var W=h.toString();h=this.g[W],h||(h=this.g[W]=[],this.h++);var ie=Ft(h,x,R,U);return-1<ie?(x=h[ie],b||(x.fa=!1)):(x=new st(x,this.src,W,!!R,U),x.fa=b,h.push(x)),x};function Qe(h,x){var b=x.type;if(b in h.g){var R=h.g[b],U=Array.prototype.indexOf.call(R,x,void 0),W;(W=0<=U)&&Array.prototype.splice.call(R,U,1),W&&(Fe(x),h.g[b].length==0&&(delete h.g[b],h.h--))}}function Ft(h,x,b,R){for(var U=0;U<h.length;++U){var W=h[U];if(!W.da&&W.listener==x&&W.capture==!!b&&W.ha==R)return U}return-1}var it="closure_lm_"+(1e6*Math.random()|0),gn={};function Nr(h,x,b,R,U){if(Array.isArray(x)){for(var W=0;W<x.length;W++)Nr(h,x[W],b,R,U);return null}return b=Le(b),h&&h[ce]?h.K(x,b,c(R)?!!R.capture:!!R,U):ys(h,x,b,!1,R,U)}function ys(h,x,b,R,U,W){if(!x)throw Error("Invalid event type");var ie=c(U)?!!U.capture:!!U,vt=J(h);if(vt||(h[it]=vt=new ze(h)),b=vt.add(x,b,R,ie,W),b.proxy)return b;if(R=L(),b.proxy=R,R.src=h,R.listener=b,h.addEventListener)Je||(U=ie),U===void 0&&(U=!1),h.addEventListener(x.toString(),R,U);else if(h.attachEvent)h.attachEvent(le(x.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return b}function L(){function h(b){return x.call(h.src,h.listener,b)}const x=re;return h}function $(h,x,b,R,U){if(Array.isArray(x))for(var W=0;W<x.length;W++)$(h,x[W],b,R,U);else R=c(R)?!!R.capture:!!R,b=Le(b),h&&h[ce]?(h=h.i,x=String(x).toString(),x in h.g&&(W=h.g[x],b=Ft(W,b,R,U),-1<b&&(Fe(W[b]),Array.prototype.splice.call(W,b,1),W.length==0&&(delete h.g[x],h.h--)))):h&&(h=J(h))&&(x=h.g[x.toString()],h=-1,x&&(h=Ft(x,b,R,U)),(b=-1<h?x[h]:null)&&q(b))}function q(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[ce])Qe(x.i,h);else{var b=h.type,R=h.proxy;x.removeEventListener?x.removeEventListener(b,R,h.capture):x.detachEvent?x.detachEvent(le(b),R):x.addListener&&x.removeListener&&x.removeListener(R),(b=J(x))?(Qe(b,h),b.h==0&&(b.src=null,x[it]=null)):Fe(h)}}}function le(h){return h in gn?gn[h]:gn[h]="on"+h}function re(h,x){if(h.da)h=!0;else{x=new yt(x,this);var b=h.listener,R=h.ha||h.src;h.fa&&q(h),h=b.call(R,x)}return h}function J(h){return h=h[it],h instanceof ze?h:null}var Ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function Le(h){return typeof h=="function"?h:(h[Ee]||(h[Ee]=function(x){return h.handleEvent(x)}),h[Ee])}function je(){Te.call(this),this.i=new ze(this),this.M=this,this.F=null}v(je,Te),je.prototype[ce]=!0,je.prototype.removeEventListener=function(h,x,b,R){$(this,h,x,b,R)};function Be(h,x){var b,R=h.F;if(R)for(b=[];R;R=R.F)b.push(R);if(h=h.M,R=x.type||x,typeof x=="string")x=new Ae(x,h);else if(x instanceof Ae)x.target=x.target||h;else{var U=x;x=new Ae(R,h),P(x,U)}if(U=!0,b)for(var W=b.length-1;0<=W;W--){var ie=x.g=b[W];U=zn(ie,R,!0,x)&&U}if(ie=x.g=h,U=zn(ie,R,!0,x)&&U,U=zn(ie,R,!1,x)&&U,b)for(W=0;W<b.length;W++)ie=x.g=b[W],U=zn(ie,R,!1,x)&&U}je.prototype.N=function(){if(je.aa.N.call(this),this.i){var h=this.i,x;for(x in h.g){for(var b=h.g[x],R=0;R<b.length;R++)Fe(b[R]);delete h.g[x],h.h--}}this.F=null},je.prototype.K=function(h,x,b,R){return this.i.add(String(h),x,!1,b,R)},je.prototype.L=function(h,x,b,R){return this.i.add(String(h),x,!0,b,R)};function zn(h,x,b,R){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();for(var U=!0,W=0;W<x.length;++W){var ie=x[W];if(ie&&!ie.da&&ie.capture==b){var vt=ie.listener,yn=ie.ha||ie.src;ie.fa&&Qe(h.i,ie),U=vt.call(yn,R)!==!1&&U}}return U&&!R.defaultPrevented}function Ri(h,x,b){if(typeof h=="function")b&&(h=p(h,b));else if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:a.setTimeout(h,x||0)}function Kn(h){h.g=Ri(()=>{h.g=null,h.i&&(h.i=!1,Kn(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class Wn extends Te{constructor(x,b){super(),this.m=x,this.l=b,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Kn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vs(h){Te.call(this),this.h=h,this.g={}}v(vs,Te);var ws=[];function dl(h){O(h.g,function(x,b){this.g.hasOwnProperty(b)&&q(x)},h),h.g={}}vs.prototype.N=function(){vs.aa.N.call(this),dl(this)},vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hn=a.JSON.stringify,pf=a.JSON.parse,mf=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function hl(){}hl.prototype.h=null;function gf(h){return h.h||(h.h=h.i())}function du(){}var _s={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fl(){Ae.call(this,"d")}v(fl,Ae);function ea(){Ae.call(this,"c")}v(ea,Ae);var Dr={},pl=null;function ml(){return pl=pl||new je}Dr.La="serverreachability";function hu(h){Ae.call(this,Dr.La,h)}v(hu,Ae);function ta(h){const x=ml();Be(x,new hu(x))}Dr.STAT_EVENT="statevent";function fu(h,x){Ae.call(this,Dr.STAT_EVENT,h),this.stat=x}v(fu,Ae);function Zt(h){const x=ml();Be(x,new fu(x,h))}Dr.Ma="timingevent";function na(h,x){Ae.call(this,Dr.Ma,h),this.size=x}v(na,Ae);function Ni(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},x)}function ra(){this.g=!0}ra.prototype.xa=function(){this.g=!1};function Wy(h,x,b,R,U,W){h.info(function(){if(h.g)if(W)for(var ie="",vt=W.split("&"),yn=0;yn<vt.length;yn++){var lt=vt[yn].split("=");if(1<lt.length){var An=lt[0];lt=lt[1];var Pn=An.split("_");ie=2<=Pn.length&&Pn[1]=="type"?ie+(An+"="+lt+"&"):ie+(An+"=redacted&")}}else ie=null;else ie=W;return"XMLHTTP REQ ("+R+") [attempt "+U+"]: "+x+`
`+b+`
`+ie})}function j(h,x,b,R,U,W,ie){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+U+"]: "+x+`
`+b+`
`+W+" "+ie})}function F(h,x,b,R){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+G(h,b)+(R?" "+R:"")})}function K(h,x){h.info(function(){return"TIMEOUT: "+x})}ra.prototype.info=function(){};function G(h,x){if(!h.g)return x;if(!x)return null;try{var b=JSON.parse(x);if(b){for(h=0;h<b.length;h++)if(Array.isArray(b[h])){var R=b[h];if(!(2>R.length)){var U=R[1];if(Array.isArray(U)&&!(1>U.length)){var W=U[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ie=1;ie<U.length;ie++)U[ie]=""}}}}return Hn(b)}catch{return x}}var ue={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_e={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ie;function se(){}v(se,hl),se.prototype.g=function(){return new XMLHttpRequest},se.prototype.i=function(){return{}},Ie=new se;function ve(h,x,b,R){this.j=h,this.i=x,this.l=b,this.R=R||1,this.U=new vs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new me}function me(){this.i=null,this.g="",this.h=!1}var ye={},Ze={};function ot(h,x,b){h.L=1,h.v=xf(zs(x)),h.m=b,h.P=!0,pt(h,null)}function pt(h,x){h.F=Date.now(),Tt(h),h.A=zs(h.v);var b=h.A,R=h.R;Array.isArray(R)||(R=[String(R)]),SS(b.i,"t",R),h.C=0,b=h.j.J,h.h=new me,h.g=$S(h.j,b?x:null,!h.m),0<h.O&&(h.M=new Wn(p(h.Y,h,h.g),h.O)),x=h.U,b=h.g,R=h.ca;var U="readystatechange";Array.isArray(U)||(U&&(ws[0]=U.toString()),U=ws);for(var W=0;W<U.length;W++){var ie=Nr(b,U[W],R||x.handleEvent,!1,x.h||x);if(!ie)break;x.g[ie.key]=ie}x=h.H?T(h.H):{},h.m?(h.u||(h.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,x)):(h.u="GET",h.g.ea(h.A,h.u,null,x)),ta(),Wy(h.i,h.u,h.A,h.l,h.R,h.m)}ve.prototype.ca=function(h){h=h.target;const x=this.M;x&&Ks(h)==3?x.j():this.Y(h)},ve.prototype.Y=function(h){try{if(h==this.g)e:{const Pn=Ks(this.g);var x=this.g.Ba();const vl=this.g.Z();if(!(3>Pn)&&(Pn!=3||this.g&&(this.h.h||this.g.oa()||NS(this.g)))){this.J||Pn!=4||x==7||(x==8||0>=vl?ta(3):ta(2)),pr(this);var b=this.g.Z();this.X=b;t:if(Ye(this)){var R=NS(this.g);h="";var U=R.length,W=Ks(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cn(this),kr(this);var ie="";break t}this.h.i=new a.TextDecoder}for(x=0;x<U;x++)this.h.h=!0,h+=this.h.i.decode(R[x],{stream:!(W&&x==U-1)});R.length=0,this.h.g+=h,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=b==200,j(this.i,this.u,this.A,this.l,this.R,Pn,b),this.o){if(this.T&&!this.K){t:{if(this.g){var vt,yn=this.g;if((vt=yn.g?yn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(vt)){var lt=vt;break t}}lt=null}if(b=lt)F(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ki(this,b);else{this.o=!1,this.s=3,Zt(12),Cn(this),kr(this);break e}}if(this.P){b=!0;let Xr;for(;!this.J&&this.C<ie.length;)if(Xr=en(this,ie),Xr==Ze){Pn==4&&(this.s=4,Zt(14),b=!1),F(this.i,this.l,null,"[Incomplete Response]");break}else if(Xr==ye){this.s=4,Zt(15),F(this.i,this.l,ie,"[Invalid Chunk]"),b=!1;break}else F(this.i,this.l,Xr,null),ki(this,Xr);if(Ye(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pn!=4||ie.length!=0||this.h.h||(this.s=1,Zt(16),b=!1),this.o=this.o&&b,!b)F(this.i,this.l,ie,"[Invalid Chunked Response]"),Cn(this),kr(this);else if(0<ie.length&&!this.W){this.W=!0;var An=this.j;An.g==this&&An.ba&&!An.M&&(An.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Qy(An),An.M=!0,Zt(11))}}else F(this.i,this.l,ie,null),ki(this,ie);Pn==4&&Cn(this),this.o&&!this.J&&(Pn==4?VS(this.j,this):(this.o=!1,Tt(this)))}else z4(this.g),b==400&&0<ie.indexOf("Unknown SID")?(this.s=3,Zt(12)):(this.s=0,Zt(13)),Cn(this),kr(this)}}}catch{}finally{}};function Ye(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function en(h,x){var b=h.C,R=x.indexOf(`
`,b);return R==-1?Ze:(b=Number(x.substring(b,R)),isNaN(b)?ye:(R+=1,R+b>x.length?Ze:(x=x.slice(R,R+b),h.C=R+b,x)))}ve.prototype.cancel=function(){this.J=!0,Cn(this)};function Tt(h){h.S=Date.now()+h.I,Di(h,h.I)}function Di(h,x){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Ni(p(h.ba,h),x)}function pr(h){h.B&&(a.clearTimeout(h.B),h.B=null)}ve.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(K(this.i,this.A),this.L!=2&&(ta(),Zt(17)),Cn(this),this.s=2,kr(this)):Di(this,this.S-h)};function kr(h){h.j.G==0||h.J||VS(h.j,h)}function Cn(h){pr(h);var x=h.M;x&&typeof x.ma=="function"&&x.ma(),h.M=null,dl(h.U),h.g&&(x=h.g,h.g=null,x.abort(),x.ma())}function ki(h,x){try{var b=h.j;if(b.G!=0&&(b.g==h||Ne(b.h,h))){if(!h.K&&Ne(b.h,h)&&b.G==3){try{var R=b.Da.g.parse(x)}catch{R=null}if(Array.isArray(R)&&R.length==3){var U=R;if(U[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<h.F)Cf(b),Sf(b);else break e;Gy(b),Zt(18)}}else b.za=U[1],0<b.za-b.T&&37500>U[2]&&b.F&&b.v==0&&!b.C&&(b.C=Ni(p(b.Za,b),6e3));if(1>=oa(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else la(b,11)}else if((h.K||b.g==h)&&Cf(b),!y(x))for(U=b.Da.g.parse(x),x=0;x<U.length;x++){let lt=U[x];if(b.T=lt[0],lt=lt[1],b.G==2)if(lt[0]=="c"){b.K=lt[1],b.ia=lt[2];const An=lt[3];An!=null&&(b.la=An,b.j.info("VER="+b.la));const Pn=lt[4];Pn!=null&&(b.Aa=Pn,b.j.info("SVER="+b.Aa));const vl=lt[5];vl!=null&&typeof vl=="number"&&0<vl&&(R=1.5*vl,b.L=R,b.j.info("backChannelRequestTimeoutMs_="+R)),R=b;const Xr=h.g;if(Xr){const Af=Xr.g?Xr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Af){var W=R.h;W.g||Af.indexOf("spdy")==-1&&Af.indexOf("quic")==-1&&Af.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(xt(W,W.h),W.h=null))}if(R.D){const Yy=Xr.g?Xr.g.getResponseHeader("X-HTTP-Session-Id"):null;Yy&&(R.ya=Yy,bt(R.I,R.D,Yy))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-h.F,b.j.info("Handshake RTT: "+b.R+"ms")),R=b;var ie=h;if(R.qa=BS(R,R.J?R.ia:null,R.W),ie.K){In(R.h,ie);var vt=ie,yn=R.L;yn&&(vt.I=yn),vt.B&&(pr(vt),Tt(vt)),R.g=ie}else LS(R);0<b.i.length&&bf(b)}else lt[0]!="stop"&&lt[0]!="close"||la(b,7);else b.G==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?la(b,7):qy(b):lt[0]!="noop"&&b.l&&b.l.ta(lt),b.v=0)}}ta(4)}catch{}}var Qr=class{constructor(h,x){this.g=h,this.map=x}};function sa(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ia(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function oa(h){return h.h?1:h.g?h.g.size:0}function Ne(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function xt(h,x){h.g?h.g.add(x):h.h=x}function In(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}sa.prototype.cancel=function(){if(this.i=St(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function St(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const b of h.g.values())x=x.concat(b.D);return x}return w(h.i)}function Yr(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var x=[],b=h.length,R=0;R<b;R++)x.push(h[R]);return x}x=[],b=0;for(R in h)x[b++]=h[R];return x}function yf(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var x=[];h=h.length;for(var b=0;b<h;b++)x.push(b);return x}x=[],b=0;for(const R in h)x[b++]=R;return x}}}function vf(h,x){if(h.forEach&&typeof h.forEach=="function")h.forEach(x,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,x,void 0);else for(var b=yf(h),R=Yr(h),U=R.length,W=0;W<U;W++)x.call(void 0,R[W],b&&b[W],h)}var wS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function R4(h,x){if(h){h=h.split("&");for(var b=0;b<h.length;b++){var R=h[b].indexOf("="),U=null;if(0<=R){var W=h[b].substring(0,R);U=h[b].substring(R+1)}else W=h[b];x(W,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function aa(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof aa){this.h=h.h,wf(this,h.j),this.o=h.o,this.g=h.g,_f(this,h.s),this.l=h.l;var x=h.i,b=new gu;b.i=x.i,x.g&&(b.g=new Map(x.g),b.h=x.h),_S(this,b),this.m=h.m}else h&&(x=String(h).match(wS))?(this.h=!1,wf(this,x[1]||"",!0),this.o=pu(x[2]||""),this.g=pu(x[3]||"",!0),_f(this,x[4]),this.l=pu(x[5]||"",!0),_S(this,x[6]||"",!0),this.m=pu(x[7]||"")):(this.h=!1,this.i=new gu(null,this.h))}aa.prototype.toString=function(){var h=[],x=this.j;x&&h.push(mu(x,xS,!0),":");var b=this.g;return(b||x=="file")&&(h.push("//"),(x=this.o)&&h.push(mu(x,xS,!0),"@"),h.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&h.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(mu(b,b.charAt(0)=="/"?k4:D4,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",mu(b,O4)),h.join("")};function zs(h){return new aa(h)}function wf(h,x,b){h.j=b?pu(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function _f(h,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);h.s=x}else h.s=null}function _S(h,x,b){x instanceof gu?(h.i=x,L4(h.i,h.h)):(b||(x=mu(x,M4)),h.i=new gu(x,h.h))}function bt(h,x,b){h.i.set(x,b)}function xf(h){return bt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function pu(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function mu(h,x,b){return typeof h=="string"?(h=encodeURI(h).replace(x,N4),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function N4(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var xS=/[#\/\?@]/g,D4=/[#\?:]/g,k4=/[#\?]/g,M4=/[#\?@]/g,O4=/#/g;function gu(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function Mi(h){h.g||(h.g=new Map,h.h=0,h.i&&R4(h.i,function(x,b){h.add(decodeURIComponent(x.replace(/\+/g," ")),b)}))}t=gu.prototype,t.add=function(h,x){Mi(this),this.i=null,h=gl(this,h);var b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(x),this.h+=1,this};function ES(h,x){Mi(h),x=gl(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function TS(h,x){return Mi(h),x=gl(h,x),h.g.has(x)}t.forEach=function(h,x){Mi(this),this.g.forEach(function(b,R){b.forEach(function(U){h.call(x,U,R,this)},this)},this)},t.na=function(){Mi(this);const h=Array.from(this.g.values()),x=Array.from(this.g.keys()),b=[];for(let R=0;R<x.length;R++){const U=h[R];for(let W=0;W<U.length;W++)b.push(x[R])}return b},t.V=function(h){Mi(this);let x=[];if(typeof h=="string")TS(this,h)&&(x=x.concat(this.g.get(gl(this,h))));else{h=Array.from(this.g.values());for(let b=0;b<h.length;b++)x=x.concat(h[b])}return x},t.set=function(h,x){return Mi(this),this.i=null,h=gl(this,h),TS(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},t.get=function(h,x){return h?(h=this.V(h),0<h.length?String(h[0]):x):x};function SS(h,x,b){ES(h,x),0<b.length&&(h.i=null,h.g.set(gl(h,x),w(b)),h.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(var b=0;b<x.length;b++){var R=x[b];const W=encodeURIComponent(String(R)),ie=this.V(R);for(R=0;R<ie.length;R++){var U=W;ie[R]!==""&&(U+="="+encodeURIComponent(String(ie[R]))),h.push(U)}}return this.i=h.join("&")};function gl(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function L4(h,x){x&&!h.j&&(Mi(h),h.i=null,h.g.forEach(function(b,R){var U=R.toLowerCase();R!=U&&(ES(this,R),SS(this,U,b))},h)),h.j=x}function j4(h,x){const b=new ra;if(a.Image){const R=new Image;R.onload=g(Oi,b,"TestLoadImage: loaded",!0,x,R),R.onerror=g(Oi,b,"TestLoadImage: error",!1,x,R),R.onabort=g(Oi,b,"TestLoadImage: abort",!1,x,R),R.ontimeout=g(Oi,b,"TestLoadImage: timeout",!1,x,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else x(!1)}function V4(h,x){const b=new ra,R=new AbortController,U=setTimeout(()=>{R.abort(),Oi(b,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:R.signal}).then(W=>{clearTimeout(U),W.ok?Oi(b,"TestPingServer: ok",!0,x):Oi(b,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(U),Oi(b,"TestPingServer: error",!1,x)})}function Oi(h,x,b,R,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),R(b)}catch{}}function F4(){this.g=new mf}function U4(h,x,b){const R=b||"";try{vf(h,function(U,W){let ie=U;c(U)&&(ie=Hn(U)),x.push(R+W+"="+encodeURIComponent(ie))})}catch(U){throw x.push(R+"type="+encodeURIComponent("_badmap")),U}}function yu(h){this.l=h.Ub||null,this.j=h.eb||!1}v(yu,hl),yu.prototype.g=function(){return new Ef(this.l,this.j)},yu.prototype.i=function(h){return function(){return h}}({});function Ef(h,x){je.call(this),this.D=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Ef,je),t=Ef.prototype,t.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=x,this.readyState=1,wu(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(x.body=h),(this.D||a).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vu(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,wu(this)),this.g&&(this.readyState=3,wu(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bS(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function bS(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?vu(this):wu(this),this.readyState==3&&bS(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,vu(this))},t.Qa=function(h){this.g&&(this.response=h,vu(this))},t.ga=function(){this.g&&vu(this)};function vu(h){h.readyState=4,h.l=null,h.j=null,h.v=null,wu(h)}t.setRequestHeader=function(h,x){this.u.append(h,x)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var b=x.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=x.next();return h.join(`\r
`)};function wu(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ef.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function CS(h){let x="";return O(h,function(b,R){x+=R,x+=":",x+=b,x+=`\r
`}),x}function Hy(h,x,b){e:{for(R in b){var R=!1;break e}R=!0}R||(b=CS(b),typeof h=="string"?b!=null&&encodeURIComponent(String(b)):bt(h,x,b))}function Ut(h){je.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Ut,je);var B4=/^https?$/i,$4=["POST","PUT"];t=Ut.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,x,b,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ie.g(),this.v=this.o?gf(this.o):gf(Ie),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(W){IS(this,W);return}if(h=b||"",b=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var U in R)b.set(U,R[U]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const W of R.keys())b.set(W,R.get(W));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(b.keys()).find(W=>W.toLowerCase()=="content-type"),U=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call($4,x,void 0))||R||U||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ie]of b)this.g.setRequestHeader(W,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{RS(this),this.u=!0,this.g.send(h),this.u=!1}catch(W){IS(this,W)}};function IS(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.m=5,AS(h),Tf(h)}function AS(h){h.A||(h.A=!0,Be(h,"complete"),Be(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Be(this,"complete"),Be(this,"abort"),Tf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tf(this,!0)),Ut.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?PS(this):this.bb())},t.bb=function(){PS(this)};function PS(h){if(h.h&&typeof o<"u"&&(!h.v[1]||Ks(h)!=4||h.Z()!=2)){if(h.u&&Ks(h)==4)Ri(h.Ea,0,h);else if(Be(h,"readystatechange"),Ks(h)==4){h.h=!1;try{const ie=h.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var b;if(!(b=x)){var R;if(R=ie===0){var U=String(h.D).match(wS)[1]||null;!U&&a.self&&a.self.location&&(U=a.self.location.protocol.slice(0,-1)),R=!B4.test(U?U.toLowerCase():"")}b=R}if(b)Be(h,"complete"),Be(h,"success");else{h.m=6;try{var W=2<Ks(h)?h.g.statusText:""}catch{W=""}h.l=W+" ["+h.Z()+"]",AS(h)}}finally{Tf(h)}}}}function Tf(h,x){if(h.g){RS(h);const b=h.g,R=h.v[0]?()=>{}:null;h.g=null,h.v=null,x||Be(h,"ready");try{b.onreadystatechange=R}catch{}}}function RS(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Ks(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Ks(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),pf(x)}};function NS(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function z4(h){const x={};h=(h.g&&2<=Ks(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(y(h[R]))continue;var b=M(h[R]);const U=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const W=x[U]||[];x[U]=W,W.push(b)}C(x,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _u(h,x,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||x}function DS(h){this.Aa=0,this.i=[],this.j=new ra,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_u("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_u("baseRetryDelayMs",5e3,h),this.cb=_u("retryDelaySeedMs",1e4,h),this.Wa=_u("forwardChannelMaxRetries",2,h),this.wa=_u("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new sa(h&&h.concurrentRequestLimit),this.Da=new F4,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=DS.prototype,t.la=8,t.G=1,t.connect=function(h,x,b,R){Zt(0),this.W=h,this.H=x||{},b&&R!==void 0&&(this.H.OSID=b,this.H.OAID=R),this.F=this.X,this.I=BS(this,null,this.W),bf(this)};function qy(h){if(kS(h),h.G==3){var x=h.U++,b=zs(h.I);if(bt(b,"SID",h.K),bt(b,"RID",x),bt(b,"TYPE","terminate"),xu(h,b),x=new ve(h,h.j,x),x.L=2,x.v=xf(zs(b)),b=!1,a.navigator&&a.navigator.sendBeacon)try{b=a.navigator.sendBeacon(x.v.toString(),"")}catch{}!b&&a.Image&&(new Image().src=x.v,b=!0),b||(x.g=$S(x.j,null),x.g.ea(x.v)),x.F=Date.now(),Tt(x)}US(h)}function Sf(h){h.g&&(Qy(h),h.g.cancel(),h.g=null)}function kS(h){Sf(h),h.u&&(a.clearTimeout(h.u),h.u=null),Cf(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function bf(h){if(!ia(h.h)&&!h.s){h.s=!0;var x=h.Ga;ne||Z(),z||(ne(),z=!0),B.add(x,h),h.B=0}}function K4(h,x){return oa(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=x.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Ni(p(h.Ga,h,x),FS(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const U=new ve(this,this.j,h);let W=this.o;if(this.S&&(W?(W=T(W),P(W,this.S)):W=this.S),this.m!==null||this.O||(U.H=W,W=null),this.P)e:{for(var x=0,b=0;b<this.i.length;b++){t:{var R=this.i[b];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(x+=R,4096<x){x=b;break e}if(x===4096||b===this.i.length-1){x=b+1;break e}}x=1e3}else x=1e3;x=OS(this,U,x),b=zs(this.I),bt(b,"RID",h),bt(b,"CVER",22),this.D&&bt(b,"X-HTTP-Session-Id",this.D),xu(this,b),W&&(this.O?x="headers="+encodeURIComponent(String(CS(W)))+"&"+x:this.m&&Hy(b,this.m,W)),xt(this.h,U),this.Ua&&bt(b,"TYPE","init"),this.P?(bt(b,"$req",x),bt(b,"SID","null"),U.T=!0,ot(U,b,null)):ot(U,b,x),this.G=2}}else this.G==3&&(h?MS(this,h):this.i.length==0||ia(this.h)||MS(this))};function MS(h,x){var b;x?b=x.l:b=h.U++;const R=zs(h.I);bt(R,"SID",h.K),bt(R,"RID",b),bt(R,"AID",h.T),xu(h,R),h.m&&h.o&&Hy(R,h.m,h.o),b=new ve(h,h.j,b,h.B+1),h.m===null&&(b.H=h.o),x&&(h.i=x.D.concat(h.i)),x=OS(h,b,1e3),b.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),xt(h.h,b),ot(b,R,x)}function xu(h,x){h.H&&O(h.H,function(b,R){bt(x,R,b)}),h.l&&vf({},function(b,R){bt(x,R,b)})}function OS(h,x,b){b=Math.min(h.i.length,b);var R=h.l?p(h.l.Na,h.l,h):null;e:{var U=h.i;let W=-1;for(;;){const ie=["count="+b];W==-1?0<b?(W=U[0].g,ie.push("ofs="+W)):W=0:ie.push("ofs="+W);let vt=!0;for(let yn=0;yn<b;yn++){let lt=U[yn].g;const An=U[yn].map;if(lt-=W,0>lt)W=Math.max(0,U[yn].g-100),vt=!1;else try{U4(An,ie,"req"+lt+"_")}catch{R&&R(An)}}if(vt){R=ie.join("&");break e}}}return h=h.i.splice(0,b),x.D=h,R}function LS(h){if(!h.g&&!h.u){h.Y=1;var x=h.Fa;ne||Z(),z||(ne(),z=!0),B.add(x,h),h.v=0}}function Gy(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Ni(p(h.Fa,h),FS(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,jS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Ni(p(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Zt(10),Sf(this),jS(this))};function Qy(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function jS(h){h.g=new ve(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var x=zs(h.qa);bt(x,"RID","rpc"),bt(x,"SID",h.K),bt(x,"AID",h.T),bt(x,"CI",h.F?"0":"1"),!h.F&&h.ja&&bt(x,"TO",h.ja),bt(x,"TYPE","xmlhttp"),xu(h,x),h.m&&h.o&&Hy(x,h.m,h.o),h.L&&(h.g.I=h.L);var b=h.g;h=h.ia,b.L=1,b.v=xf(zs(x)),b.m=null,b.P=!0,pt(b,h)}t.Za=function(){this.C!=null&&(this.C=null,Sf(this),Gy(this),Zt(19))};function Cf(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function VS(h,x){var b=null;if(h.g==x){Cf(h),Qy(h),h.g=null;var R=2}else if(Ne(h.h,x))b=x.D,In(h.h,x),R=1;else return;if(h.G!=0){if(x.o)if(R==1){b=x.m?x.m.length:0,x=Date.now()-x.F;var U=h.B;R=ml(),Be(R,new na(R,b)),bf(h)}else LS(h);else if(U=x.s,U==3||U==0&&0<x.X||!(R==1&&K4(h,x)||R==2&&Gy(h)))switch(b&&0<b.length&&(x=h.h,x.i=x.i.concat(b)),U){case 1:la(h,5);break;case 4:la(h,10);break;case 3:la(h,6);break;default:la(h,2)}}}function FS(h,x){let b=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(b*=2),b*x}function la(h,x){if(h.j.info("Error code "+x),x==2){var b=p(h.fb,h),R=h.Xa;const U=!R;R=new aa(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||wf(R,"https"),xf(R),U?j4(R.toString(),b):V4(R.toString(),b)}else Zt(2);h.G=0,h.l&&h.l.sa(x),US(h),kS(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Zt(2)):(this.j.info("Failed to ping google.com"),Zt(1))};function US(h){if(h.G=0,h.ka=[],h.l){const x=St(h.h);(x.length!=0||h.i.length!=0)&&(E(h.ka,x),E(h.ka,h.i),h.h.i.length=0,w(h.i),h.i.length=0),h.l.ra()}}function BS(h,x,b){var R=b instanceof aa?zs(b):new aa(b);if(R.g!="")x&&(R.g=x+"."+R.g),_f(R,R.s);else{var U=a.location;R=U.protocol,x=x?x+"."+U.hostname:U.hostname,U=+U.port;var W=new aa(null);R&&wf(W,R),x&&(W.g=x),U&&_f(W,U),b&&(W.l=b),R=W}return b=h.D,x=h.ya,b&&x&&bt(R,b,x),bt(R,"VER",h.la),xu(h,R),R}function $S(h,x,b){if(x&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Ca&&!h.pa?new Ut(new yu({eb:b})):new Ut(h.pa),x.Ha(h.J),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function zS(){}t=zS.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function If(){}If.prototype.g=function(h,x){return new mr(h,x)};function mr(h,x){je.call(this),this.g=new DS(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(h?h["X-WebChannel-Client-Profile"]=x.va:h={"X-WebChannel-Client-Profile":x.va}),this.g.S=h,(h=x&&x.Sb)&&!y(h)&&(this.g.m=h),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!y(x)&&(this.g.D=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new yl(this)}v(mr,je),mr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mr.prototype.close=function(){qy(this.g)},mr.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.u&&(b={},b.__data__=Hn(h),h=b);x.i.push(new Qr(x.Ya++,h)),x.G==3&&bf(x)},mr.prototype.N=function(){this.g.l=null,delete this.j,qy(this.g),delete this.g,mr.aa.N.call(this)};function KS(h){fl.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const b in x){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}v(KS,fl);function WS(){ea.call(this),this.status=1}v(WS,ea);function yl(h){this.g=h}v(yl,zS),yl.prototype.ua=function(){Be(this.g,"a")},yl.prototype.ta=function(h){Be(this.g,new KS(h))},yl.prototype.sa=function(h){Be(this.g,new WS)},yl.prototype.ra=function(){Be(this.g,"b")},If.prototype.createWebChannel=If.prototype.g,mr.prototype.send=mr.prototype.o,mr.prototype.open=mr.prototype.m,mr.prototype.close=mr.prototype.close,_j=function(){return new If},wj=function(){return ml()},vj=Dr,Z0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ue.NO_ERROR=0,ue.TIMEOUT=8,ue.HTTP_ERROR=6,Up=ue,_e.COMPLETE="complete",yj=_e,du.EventType=_s,_s.OPEN="a",_s.CLOSE="b",_s.ERROR="c",_s.MESSAGE="d",je.prototype.listen=je.prototype.K,Qu=du,gj=yu,Ut.prototype.listenOnce=Ut.prototype.L,Ut.prototype.getLastError=Ut.prototype.Ka,Ut.prototype.getLastErrorCode=Ut.prototype.Ba,Ut.prototype.getStatus=Ut.prototype.Z,Ut.prototype.getResponseJson=Ut.prototype.Oa,Ut.prototype.getResponseText=Ut.prototype.oa,Ut.prototype.send=Ut.prototype.ea,Ut.prototype.setWithCredentials=Ut.prototype.Ha,mj=Ut}).apply(typeof ap<"u"?ap:typeof self<"u"?self:typeof window<"u"?window:{});const K1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}On.UNAUTHENTICATED=new On(null),On.GOOGLE_CREDENTIALS=new On("google-credentials-uid"),On.FIRST_PARTY=new On("first-party-uid"),On.MOCK_USER=new On("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ru="10.13.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=new Cg("@firebase/firestore");function Lu(){return Wa.logLevel}function ge(t,...e){if(Wa.logLevel<=nt.DEBUG){const n=e.map(iT);Wa.debug(`Firestore (${ru}): ${t}`,...n)}}function Si(t,...e){if(Wa.logLevel<=nt.ERROR){const n=e.map(iT);Wa.error(`Firestore (${ru}): ${t}`,...n)}}function Oc(t,...e){if(Wa.logLevel<=nt.WARN){const n=e.map(iT);Wa.warn(`Firestore (${ru}): ${t}`,...n)}}function iT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t="Unexpected state"){const e=`FIRESTORE (${ru}) INTERNAL ASSERTION FAILED: `+t;throw Si(e),new Error(e)}function _t(t,e){t||Re()}function Oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Rr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(On.UNAUTHENTICATED))}shutdown(){}}class tee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class nee{constructor(e){this.t=e,this.currentUser=On.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Co;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Co,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Co)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_t(typeof r.accessToken=="string"),new xj(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return _t(e===null||typeof e=="string"),new On(e)}}class ree{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=On.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class see{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ree(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(On.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iee{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oee{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,ge("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_t(typeof n.token=="string"),this.R=n.token,new iee(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aee(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=aee(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function ct(t,e){return t<e?-1:t>e?1:0}function Lc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Se(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return hn.fromMillis(Date.now())}static fromDate(e){return hn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new hn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.timestamp=e}static fromTimestamp(e){return new De(e)}static min(){return new De(new hn(0,0))}static max(){return new De(new hn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n,r){n===void 0?n=0:n>e.length&&Re(),r===void 0?r=e.length-n:r>e.length-n&&Re(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return oh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof oh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Wt extends oh{construct(e,n,r){return new Wt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Wt(n)}static emptyPath(){return new Wt([])}}const lee=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xn extends oh{construct(e,n,r){return new xn(e,n,r)}static isValidIdentifier(e){return lee.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new xn(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Se(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Se(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Se(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Se(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xn(n)}static emptyPath(){return new xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(Wt.fromString(e))}static fromName(e){return new be(Wt.fromString(e).popFirst(5))}static empty(){return new be(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new Wt(e.slice()))}}function cee(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=De.fromTimestamp(r===1e9?new hn(n+1,0):new hn(n,r));return new Fo(s,be.empty(),e)}function uee(t){return new Fo(t.readTime,t.key,-1)}class Fo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fo(De.min(),be.empty(),-1)}static max(){return new Fo(De.max(),be.empty(),-1)}}function dee(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:ct(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hee="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fee{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ef(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==hee)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(s=>s?Q.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new Q((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function pee(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function tf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}oT.oe=-1;function wy(t){return t==null}function Km(t){return t===0&&1/t==-1/0}function mee(t){return typeof t=="number"&&Number.isInteger(t)&&!Km(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function su(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Tj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lp(this.root,e,this.comparator,!1)}getReverseIterator(){return new lp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lp(this.root,e,this.comparator,!0)}}class lp{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??_n.RED,this.left=s??_n.EMPTY,this.right=i??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new _n(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return _n.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,n,r,s,i){return this}insert(e,n,r){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new H1(this.data.getIterator())}getIteratorFrom(e){return new H1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tn(this.comparator);return n.data=e,n}}class H1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e){this.fields=e,e.sort(xn.comparator)}static empty(){return new as([])}unionWith(e){let n=new Tn(xn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new as(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Lc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Sj("Invalid base64 string: "+i):i}}(e);return new bn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new bn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const gee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Uo(t){if(_t(!!t),typeof t=="string"){let e=0;const n=gee.exec(t);if(_t(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qt(t.seconds),nanos:Qt(t.nanos)}}function Qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ha(t){return typeof t=="string"?bn.fromBase64String(t):bn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function lT(t){const e=t.mapValue.fields.__previous_value__;return aT(e)?lT(e):e}function ah(t){const e=Uo(t.mapValue.fields.__local_write_time__.timestampValue);return new hn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yee{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class lh{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new lh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof lh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function qa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?aT(t)?4:wee(t)?9007199254740991:vee(t)?10:11:Re()}function Us(t,e){if(t===e)return!0;const n=qa(t);if(n!==qa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ah(t).isEqual(ah(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Uo(s.timestampValue),a=Uo(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ha(s.bytesValue).isEqual(Ha(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Qt(s.geoPointValue.latitude)===Qt(i.geoPointValue.latitude)&&Qt(s.geoPointValue.longitude)===Qt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Qt(s.integerValue)===Qt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Qt(s.doubleValue),a=Qt(i.doubleValue);return o===a?Km(o)===Km(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Lc(t.arrayValue.values||[],e.arrayValue.values||[],Us);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(W1(o)!==W1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Us(o[l],a[l])))return!1;return!0}(t,e);default:return Re()}}function ch(t,e){return(t.values||[]).find(n=>Us(n,e))!==void 0}function jc(t,e){if(t===e)return 0;const n=qa(t),r=qa(e);if(n!==r)return ct(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Qt(i.integerValue||i.doubleValue),l=Qt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return q1(t.timestampValue,e.timestampValue);case 4:return q1(ah(t),ah(e));case 5:return ct(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ha(i),l=Ha(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=ct(a[c],l[c]);if(u!==0)return u}return ct(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ct(Qt(i.latitude),Qt(o.latitude));return a!==0?a:ct(Qt(i.longitude),Qt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return G1(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,u;const d=i.fields||{},p=o.fields||{},g=(a=d.value)===null||a===void 0?void 0:a.arrayValue,v=(l=p.value)===null||l===void 0?void 0:l.arrayValue,w=ct(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((u=v==null?void 0:v.values)===null||u===void 0?void 0:u.length)||0);return w!==0?w:G1(g,v)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===cp.mapValue&&o===cp.mapValue)return 0;if(i===cp.mapValue)return 1;if(o===cp.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const p=ct(l[d],u[d]);if(p!==0)return p;const g=jc(a[l[d]],c[u[d]]);if(g!==0)return g}return ct(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Re()}}function q1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ct(t,e);const n=Uo(t),r=Uo(e),s=ct(n.seconds,r.seconds);return s!==0?s:ct(n.nanos,r.nanos)}function G1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=jc(n[s],r[s]);if(i)return i}return ct(n.length,r.length)}function Vc(t){return e_(t)}function e_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Uo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ha(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return be.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=e_(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${e_(n.fields[o])}`;return s+"}"}(t.mapValue):Re()}function t_(t){return!!t&&"integerValue"in t}function cT(t){return!!t&&"arrayValue"in t}function Q1(t){return!!t&&"nullValue"in t}function Y1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bp(t){return!!t&&"mapValue"in t}function vee(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function md(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return su(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=md(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=md(t.arrayValue.values[n]);return e}return Object.assign({},t)}function wee(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.value=e}static empty(){return new Br({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Bp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=md(n)}setAll(e){let n=xn.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=md(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Bp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Us(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Bp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){su(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Br(md(this.value))}}function bj(t){const e=[];return su(t.fields,(n,r)=>{const s=new xn([n]);if(Bp(r)){const i=bj(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new as(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new jn(e,0,De.min(),De.min(),De.min(),Br.empty(),0)}static newFoundDocument(e,n,r,s){return new jn(e,1,n,De.min(),r,s,0)}static newNoDocument(e,n){return new jn(e,2,n,De.min(),De.min(),Br.empty(),0)}static newUnknownDocument(e,n){return new jn(e,3,n,De.min(),De.min(),Br.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Br.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Br.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n){this.position=e,this.inclusive=n}}function X1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=be.comparator(be.fromName(o.referenceValue),n.key):r=jc(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function J1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Us(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n="asc"){this.field=e,this.dir=n}}function _ee(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{}class un extends Cj{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Eee(e,n,r):n==="array-contains"?new bee(e,r):n==="in"?new Cee(e,r):n==="not-in"?new Iee(e,r):n==="array-contains-any"?new Aee(e,r):new un(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Tee(e,r):new See(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(jc(n,this.value)):n!==null&&qa(this.value)===qa(n)&&this.matchesComparison(jc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bs extends Cj{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Bs(e,n)}matches(e){return Ij(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ij(t){return t.op==="and"}function Aj(t){return xee(t)&&Ij(t)}function xee(t){for(const e of t.filters)if(e instanceof Bs)return!1;return!0}function n_(t){if(t instanceof un)return t.field.canonicalString()+t.op.toString()+Vc(t.value);if(Aj(t))return t.filters.map(e=>n_(e)).join(",");{const e=t.filters.map(n=>n_(n)).join(",");return`${t.op}(${e})`}}function Pj(t,e){return t instanceof un?function(r,s){return s instanceof un&&r.op===s.op&&r.field.isEqual(s.field)&&Us(r.value,s.value)}(t,e):t instanceof Bs?function(r,s){return s instanceof Bs&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&Pj(o,s.filters[a]),!0):!1}(t,e):void Re()}function Rj(t){return t instanceof un?function(n){return`${n.field.canonicalString()} ${n.op} ${Vc(n.value)}`}(t):t instanceof Bs?function(n){return n.op.toString()+" {"+n.getFilters().map(Rj).join(" ,")+"}"}(t):"Filter"}class Eee extends un{constructor(e,n,r){super(e,n,r),this.key=be.fromName(r.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class Tee extends un{constructor(e,n){super(e,"in",n),this.keys=Nj("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class See extends un{constructor(e,n){super(e,"not-in",n),this.keys=Nj("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Nj(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>be.fromName(r.referenceValue))}class bee extends un{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cT(n)&&ch(n.arrayValue,this.value)}}class Cee extends un{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ch(this.value.arrayValue,n)}}class Iee extends un{constructor(e,n){super(e,"not-in",n)}matches(e){if(ch(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ch(this.value.arrayValue,n)}}class Aee extends un{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cT(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ch(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pee{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function Z1(t,e=null,n=[],r=[],s=null,i=null,o=null){return new Pee(t,e,n,r,s,i,o)}function uT(t){const e=Oe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>n_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),wy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Vc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Vc(r)).join(",")),e.ue=n}return e.ue}function dT(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_ee(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Pj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!J1(t.startAt,e.startAt)&&J1(t.endAt,e.endAt)}function r_(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Ree(t,e,n,r,s,i,o,a){return new _y(t,e,n,r,s,i,o,a)}function xy(t){return new _y(t)}function eA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Nee(t){return t.collectionGroup!==null}function gd(t){const e=Oe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Tn(xn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Hm(i,r))}),n.has(xn.keyField().canonicalString())||e.ce.push(new Hm(xn.keyField(),r))}return e.ce}function js(t){const e=Oe(t);return e.le||(e.le=Dee(e,gd(t))),e.le}function Dee(t,e){if(t.limitType==="F")return Z1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Hm(s.field,i)});const n=t.endAt?new Wm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Wm(t.startAt.position,t.startAt.inclusive):null;return Z1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function s_(t,e,n){return new _y(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ey(t,e){return dT(js(t),js(e))&&t.limitType===e.limitType}function Dj(t){return`${uT(js(t))}|lt:${t.limitType}`}function bl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Rj(s)).join(", ")}]`),wy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Vc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Vc(s)).join(",")),`Target(${r})`}(js(t))}; limitType=${t.limitType})`}function Ty(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):be.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of gd(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=X1(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,gd(r),s)||r.endAt&&!function(o,a,l){const c=X1(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,gd(r),s))}(t,e)}function kee(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function kj(t){return(e,n)=>{let r=!1;for(const s of gd(t)){const i=Mee(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Mee(t,e,n){const r=t.field.isKeyField()?be.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?jc(l,c):Re()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){su(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return Tj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oee=new Vt(be.comparator);function bi(){return Oee}const Mj=new Vt(be.comparator);function Yu(...t){let e=Mj;for(const n of t)e=e.insert(n.key,n);return e}function Oj(t){let e=Mj;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xa(){return yd()}function Lj(){return yd()}function yd(){return new iu(t=>t.toString(),(t,e)=>t.isEqual(e))}const Lee=new Vt(be.comparator),jee=new Tn(be.comparator);function Xe(...t){let e=jee;for(const n of t)e=e.add(n);return e}const Vee=new Tn(ct);function Fee(){return Vee}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Km(e)?"-0":e}}function jj(t){return{integerValue:""+t}}function Uee(t,e){return mee(e)?jj(e):hT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(){this._=void 0}}function Bee(t,e,n){return t instanceof qm?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&aT(i)&&(i=lT(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof uh?Fj(t,e):t instanceof dh?Uj(t,e):function(s,i){const o=Vj(s,i),a=tA(o)+tA(s.Pe);return t_(o)&&t_(s.Pe)?jj(a):hT(s.serializer,a)}(t,e)}function $ee(t,e,n){return t instanceof uh?Fj(t,e):t instanceof dh?Uj(t,e):n}function Vj(t,e){return t instanceof Gm?function(r){return t_(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class qm extends Sy{}class uh extends Sy{constructor(e){super(),this.elements=e}}function Fj(t,e){const n=Bj(e);for(const r of t.elements)n.some(s=>Us(s,r))||n.push(r);return{arrayValue:{values:n}}}class dh extends Sy{constructor(e){super(),this.elements=e}}function Uj(t,e){let n=Bj(e);for(const r of t.elements)n=n.filter(s=>!Us(s,r));return{arrayValue:{values:n}}}class Gm extends Sy{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function tA(t){return Qt(t.integerValue||t.doubleValue)}function Bj(t){return cT(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function zee(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof uh&&s instanceof uh||r instanceof dh&&s instanceof dh?Lc(r.elements,s.elements,Us):r instanceof Gm&&s instanceof Gm?Us(r.Pe,s.Pe):r instanceof qm&&s instanceof qm}(t.transform,e.transform)}class Kee{constructor(e,n){this.version=e,this.transformResults=n}}class fi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new fi}static exists(e){return new fi(void 0,e)}static updateTime(e){return new fi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $p(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let by=class{};function $j(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Kj(t.key,fi.none()):new nf(t.key,t.data,fi.none());{const n=t.data,r=Br.empty();let s=new Tn(xn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new al(t.key,r,new as(s.toArray()),fi.none())}}function Wee(t,e,n){t instanceof nf?function(s,i,o){const a=s.value.clone(),l=rA(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof al?function(s,i,o){if(!$p(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=rA(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(zj(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function vd(t,e,n,r){return t instanceof nf?function(i,o,a,l){if(!$p(i.precondition,o))return a;const c=i.value.clone(),u=sA(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof al?function(i,o,a,l){if(!$p(i.precondition,o))return a;const c=sA(i.fieldTransforms,l,o),u=o.data;return u.setAll(zj(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,o,a){return $p(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Hee(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Vj(r.transform,s||null);i!=null&&(n===null&&(n=Br.empty()),n.set(r.field,i))}return n||null}function nA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Lc(r,s,(i,o)=>zee(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class nf extends by{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class al extends by{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function zj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function rA(t,e,n){const r=new Map;_t(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,$ee(o,a,n[s]))}return r}function sA(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,Bee(i,o,e))}return r}class Kj extends by{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qee extends by{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gee{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&Wee(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=vd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=vd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Lj();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=$j(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(De.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Xe())}isEqual(e){return this.batchId===e.batchId&&Lc(this.mutations,e.mutations,(n,r)=>nA(n,r))&&Lc(this.baseMutations,e.baseMutations,(n,r)=>nA(n,r))}}class fT{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){_t(e.mutations.length===r.length);let s=function(){return Lee}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new fT(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qee=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yee{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,rt;function Xee(t){switch(t){default:return Re();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function Wj(t){if(t===void 0)return Si("GRPC error has no .code"),Y.UNKNOWN;switch(t){case tn.OK:return Y.OK;case tn.CANCELLED:return Y.CANCELLED;case tn.UNKNOWN:return Y.UNKNOWN;case tn.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case tn.INTERNAL:return Y.INTERNAL;case tn.UNAVAILABLE:return Y.UNAVAILABLE;case tn.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case tn.NOT_FOUND:return Y.NOT_FOUND;case tn.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case tn.ABORTED:return Y.ABORTED;case tn.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case tn.DATA_LOSS:return Y.DATA_LOSS;default:return Re()}}(rt=tn||(tn={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jee(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zee=new Oa([4294967295,4294967295],0);function iA(t){const e=Jee().encode(t),n=new pj;return n.update(e),new Uint8Array(n.digest())}function oA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Oa([n,r],0),new Oa([s,i],0)]}class pT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xu(`Invalid padding: ${n}`);if(r<0)throw new Xu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Oa.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Oa.fromNumber(r)));return s.compare(Zee)===1&&(s=new Oa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=iA(e),[r,s]=oA(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new pT(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=iA(e),[r,s]=oA(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,rf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Cy(De.min(),s,new Vt(ct),bi(),Xe())}}class rf{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new rf(r,n,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class Hj{constructor(e,n){this.targetId=e,this.me=n}}class qj{constructor(e,n,r=bn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class aA{constructor(){this.fe=0,this.ge=cA(),this.pe=bn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Xe(),n=Xe(),r=Xe();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Re()}}),new rf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=cA()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,_t(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ete{constructor(e){this.Le=e,this.Be=new Map,this.ke=bi(),this.qe=lA(),this.Qe=new Vt(ct)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(r_(i))if(r===0){const o=new be(i.path);this.Ue(n,o,jn.newNoDocument(o,De.min()))}else _t(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ha(r).toUint8Array()}catch(l){if(l instanceof Sj)return Oc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new pT(o,s,i)}catch(l){return Oc(l instanceof Xu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&r_(a.target)){const l=new be(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,jn.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=Xe();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Cy(e,n,this.Qe,this.ke,r);return this.ke=bi(),this.qe=lA(),this.Qe=new Vt(ct),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new aA,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Tn(ct),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new aA),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function lA(){return new Vt(be.comparator)}function cA(){return new Vt(be.comparator)}const tte={asc:"ASCENDING",desc:"DESCENDING"},nte={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rte={and:"AND",or:"OR"};class ste{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function i_(t,e){return t.useProto3Json||wy(e)?e:{value:e}}function Qm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ite(t,e){return Qm(t,e.toTimestamp())}function Vs(t){return _t(!!t),De.fromTimestamp(function(n){const r=Uo(n);return new hn(r.seconds,r.nanos)}(t))}function mT(t,e){return o_(t,e).canonicalString()}function o_(t,e){const n=function(s){return new Wt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Qj(t){const e=Wt.fromString(t);return _t(e2(e)),e}function a_(t,e){return mT(t.databaseId,e.path)}function ow(t,e){const n=Qj(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(Xj(n))}function Yj(t,e){return mT(t.databaseId,e)}function ote(t){const e=Qj(t);return e.length===4?Wt.emptyPath():Xj(e)}function l_(t){return new Wt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Xj(t){return _t(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function uA(t,e,n){return{name:a_(t,e),fields:n.value.mapValue.fields}}function ate(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(_t(u===void 0||typeof u=="string"),bn.fromBase64String(u||"")):(_t(u===void 0||u instanceof Buffer||u instanceof Uint8Array),bn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?Y.UNKNOWN:Wj(c.code);return new Se(u,c.message||"")}(o);n=new qj(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ow(t,r.document.name),i=Vs(r.document.updateTime),o=r.document.createTime?Vs(r.document.createTime):De.min(),a=new Br({mapValue:{fields:r.document.fields}}),l=jn.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new zp(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ow(t,r.document),i=r.readTime?Vs(r.readTime):De.min(),o=jn.newNoDocument(s,i),a=r.removedTargetIds||[];n=new zp([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ow(t,r.document),i=r.removedTargetIds||[];n=new zp([],i,s,null)}else{if(!("filter"in e))return Re();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new Yee(s,i),a=r.targetId;n=new Hj(a,o)}}return n}function lte(t,e){let n;if(e instanceof nf)n={update:uA(t,e.key,e.value)};else if(e instanceof Kj)n={delete:a_(t,e.key)};else if(e instanceof al)n={update:uA(t,e.key,e.data),updateMask:yte(e.fieldMask)};else{if(!(e instanceof qee))return Re();n={verify:a_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof qm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof uh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof dh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Gm)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Re()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:ite(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Re()}(t,e.precondition)),n}function cte(t,e){return t&&t.length>0?(_t(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Vs(s.updateTime):Vs(i);return o.isEqual(De.min())&&(o=Vs(i)),new Kee(o,s.transformResults||[])}(n,e))):[]}function ute(t,e){return{documents:[Yj(t,e.path)]}}function dte(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Yj(t,s);const i=function(c){if(c.length!==0)return Zj(Bs.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(u=>function(p){return{field:Cl(p.field),direction:pte(p.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=i_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function hte(t){let e=ote(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){_t(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(d){const p=Jj(d);return p instanceof Bs&&Aj(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(p=>function(v){return new Hm(Il(v.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(d){let p;return p=typeof d=="object"?d.value:d,wy(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(d){const p=!!d.before,g=d.values||[];return new Wm(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const p=!d.before,g=d.values||[];return new Wm(g,p)}(n.endAt)),Ree(e,s,o,i,a,"F",l,c)}function fte(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Jj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Il(n.unaryFilter.field);return un.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Il(n.unaryFilter.field);return un.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Il(n.unaryFilter.field);return un.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Il(n.unaryFilter.field);return un.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(t):t.fieldFilter!==void 0?function(n){return un.create(Il(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Bs.create(n.compositeFilter.filters.map(r=>Jj(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Re()}}(n.compositeFilter.op))}(t):Re()}function pte(t){return tte[t]}function mte(t){return nte[t]}function gte(t){return rte[t]}function Cl(t){return{fieldPath:t.canonicalString()}}function Il(t){return xn.fromServerFormat(t.fieldPath)}function Zj(t){return t instanceof un?function(n){if(n.op==="=="){if(Y1(n.value))return{unaryFilter:{field:Cl(n.field),op:"IS_NAN"}};if(Q1(n.value))return{unaryFilter:{field:Cl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Y1(n.value))return{unaryFilter:{field:Cl(n.field),op:"IS_NOT_NAN"}};if(Q1(n.value))return{unaryFilter:{field:Cl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cl(n.field),op:mte(n.op),value:n.value}}}(t):t instanceof Bs?function(n){const r=n.getFilters().map(s=>Zj(s));return r.length===1?r[0]:{compositeFilter:{op:gte(n.op),filters:r}}}(t):Re()}function yte(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function e2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n,r,s,i=De.min(),o=De.min(),a=bn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new po(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vte{constructor(e){this.ct=e}}function wte(t){const e=hte({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?s_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _te{constructor(){this.un=new xte}addToCollectionParentIndex(e,n){return this.un.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(Fo.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(Fo.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class xte{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Tn(Wt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Tn(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Fc(0)}static kn(){return new Fc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ete{constructor(){this.changes=new iu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tte{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ste{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&vd(r.mutation,s,as.empty(),hn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Xe()){const s=xa();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Yu();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=xa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Xe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=bi();const o=yd(),a=function(){return yd()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof al)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),vd(u.mutation,c,u.mutation.getFieldMask(),hn.now())):o.set(c.key,as.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new Tte(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=yd();let s=new Vt((o,a)=>o-a),i=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||as.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(s.get(a.batchId)||Xe()).add(l);s=s.insert(a.batchId,d)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=Lj();u.forEach(p=>{if(!i.has(p)){const g=$j(n.get(p),r.get(p));g!==null&&d.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return Q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return be.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Nee(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Q.resolve(xa());let a=-1,l=i;return o.next(c=>Q.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(u)?Q.resolve():this.remoteDocumentCache.getEntry(e,u).next(p=>{l=l.insert(u,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Xe())).next(u=>({batchId:a,changes:Oj(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next(r=>{let s=Yu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Yu();return this.indexManager.getCollectionParents(e,i).next(a=>Q.forEach(a,l=>{const c=function(d,p){return new _y(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(u=>{u.forEach((d,p)=>{o=o.insert(d,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,jn.newInvalidDocument(u)))});let a=Yu();return o.forEach((l,c)=>{const u=i.get(l);u!==void 0&&vd(u.mutation,c,as.empty(),hn.now()),Ty(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bte{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Vs(s.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:wte(s.bundledQuery),readTime:Vs(s.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cte{constructor(){this.overlays=new Vt(be.comparator),this.Ir=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=xa();return Q.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const s=xa(),i=n.length+1,o=new be(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Vt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=xa(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=xa(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return Q.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Qee(n,r));let i=this.Ir.get(n);i===void 0&&(i=Xe(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ite{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(){this.Tr=new Tn(fn.Er),this.dr=new Tn(fn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new fn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new fn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new be(new Wt([])),r=new fn(n,e),s=new fn(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new be(new Wt([])),r=new fn(n,e),s=new fn(n,e+1);let i=Xe();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new fn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class fn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return be.comparator(e.key,n.key)||ct(e.wr,n.wr)}static Ar(e,n){return ct(e.wr,n.wr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ate{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Tn(fn.Er)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Gee(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new fn(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return Q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new fn(n,0),s=new fn(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),Q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Tn(ct);return n.forEach(s=>{const i=new fn(s,0),o=new fn(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),Q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;be.isDocumentKey(i)||(i=i.child(""));const o=new fn(new be(i),0);let a=new Tn(ct);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.wr)),!0)},o),Q.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){_t(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Q.forEach(n.mutations,s=>{const i=new fn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new fn(n,0),s=this.br.firstAfterOrEqual(r);return Q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pte{constructor(e){this.Mr=e,this.docs=function(){return new Vt(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():jn.newInvalidDocument(n))}getEntries(e,n){let r=bi();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():jn.newInvalidDocument(s))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=bi();const o=n.path,a=new be(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||dee(uee(u),r)<=0||(s.has(u.key)||Ty(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return Q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Re()}Or(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Rte(this)}getSize(e){return Q.resolve(this.size)}}class Rte extends Ete{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nte{constructor(e){this.persistence=e,this.Nr=new iu(n=>uT(n),dT),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.Lr=0,this.Br=new gT,this.targetCount=0,this.kr=Fc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Fc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Kn(n),Q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),Q.waitFor(i).next(()=>s)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),Q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dte{constructor(e,n){this.qr={},this.overlays={},this.Qr=new oT(0),this.Kr=!1,this.Kr=!0,this.$r=new Ite,this.referenceDelegate=e(this),this.Ur=new Nte(this),this.indexManager=new _te,this.remoteDocumentCache=function(s){return new Pte(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new vte(n),this.Gr=new bte(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Cte,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Ate(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ge("MemoryPersistence","Starting transaction:",e);const s=new kte(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return Q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class kte extends fee{constructor(e){super(),this.currentSequenceNumber=e}}class yT{constructor(e){this.persistence=e,this.Jr=new gT,this.Yr=null}static Zr(e){return new yT(e)}get Xr(){if(this.Yr)return this.Yr;throw Re()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Xr,r=>{const s=be.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,De.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Q.or([()=>Q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Xe(),s=Xe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new vT(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mte{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ote{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return R5()?8:pee($n())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Mte;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Lu()<=nt.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",bl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Q.resolve()):(Lu()<=nt.DEBUG&&ge("QueryEngine","Query:",bl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Lu()<=nt.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",bl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,js(n))):Q.resolve())}Yi(e,n){if(eA(n))return Q.resolve(null);let r=js(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=s_(n,null,"F"),r=js(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Xe(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,s_(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,s){return eA(n)||s.isEqual(De.min())?Q.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?Q.resolve(null):(Lu()<=nt.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),bl(n)),this.rs(e,o,n,cee(s,-1)).next(a=>a))})}ts(e,n){let r=new Tn(kj(e));return n.forEach((s,i)=>{Ty(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Lu()<=nt.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",bl(n)),this.Ji.getDocumentsMatchingQuery(e,n,Fo.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lte{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Vt(ct),this._s=new iu(i=>uT(i),dT),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ste(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function jte(t,e,n,r){return new Lte(t,e,n,r)}async function t2(t,e){const n=Oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Xe();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function Vte(t,e){const n=Oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,p=d.keys();let g=Q.resolve();return p.forEach(v=>{g=g.next(()=>u.getEntry(l,v)).next(w=>{const E=c.docVersions.get(v);_t(E!==null),w.version.compareTo(E)<0&&(d.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),u.addEntry(w)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Xe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function n2(t){const e=Oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Fte(t,e){const n=Oe(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((u,d)=>{const p=s.get(d);if(!p)return;a.push(n.Ur.removeMatchingKeys(i,u.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(i,u.addedDocuments,d)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(bn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,r)),s=s.insert(d,g),function(w,E,_){return w.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,g,u)&&a.push(n.Ur.updateTargetData(i,g))});let l=bi(),c=Xe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(Ute(i,o,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual(De.min())){const u=n.Ur.getLastRemoteSnapshotVersion(i).next(d=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return Q.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.os=s,i))}function Ute(t,e,n){let r=Xe(),s=Xe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=bi();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(De.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ge("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function Bte(t,e){const n=Oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $te(t,e){const n=Oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,Q.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new po(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function c_(t,e,n){const r=Oe(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!tf(o))throw o;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function dA(t,e,n){const r=Oe(t);let s=De.min(),i=Xe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=Oe(l),p=d._s.get(u);return p!==void 0?Q.resolve(d.os.get(p)):d.Ur.getTargetData(c,u)}(r,o,js(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:De.min(),n?i:Xe())).next(a=>(zte(r,kee(e),a),{documents:a,Ts:i})))}function zte(t,e,n){let r=t.us.get(e)||De.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class hA{constructor(){this.activeTargetIds=Fee()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Kte{constructor(){this.so=new hA,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new hA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wte{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let up=null;function aw(){return up===null?up=function(){return 268435456+Math.round(2147483648*Math.random())}():up++,"0x"+up.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hte={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qte{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn="WebChannelConnection";class Gte extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=aw(),l=this.xo(n,r.toUriEncodedString());ge("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(n,l,c,s).then(u=>(ge("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Oc("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ru}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=Hte[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=aw();return new Promise((o,a)=>{const l=new mj;l.setWithCredentials(!0),l.listenOnce(yj.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Up.NO_ERROR:const u=l.getResponseJson();ge(Dn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case Up.TIMEOUT:ge(Dn,`RPC '${e}' ${i} timed out`),a(new Se(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Up.HTTP_ERROR:const d=l.getStatus();if(ge(Dn,`RPC '${e}' ${i} failed with status:`,d,"response text:",l.getResponseText()),d>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const v=function(E){const _=E.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(_)>=0?_:Y.UNKNOWN}(g.status);a(new Se(v,g.message))}else a(new Se(Y.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Se(Y.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{ge(Dn,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);ge(Dn,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=aw(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=_j(),a=wj(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new gj({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");ge(Dn,`Creating RPC '${e}' stream ${s}: ${u}`,l);const d=o.createWebChannel(u,l);let p=!1,g=!1;const v=new qte({Io:E=>{g?ge(Dn,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(p||(ge(Dn,`Opening RPC '${e}' stream ${s} transport.`),d.open(),p=!0),ge(Dn,`RPC '${e}' stream ${s} sending:`,E),d.send(E))},To:()=>d.close()}),w=(E,_,y)=>{E.listen(_,S=>{try{y(S)}catch(A){setTimeout(()=>{throw A},0)}})};return w(d,Qu.EventType.OPEN,()=>{g||(ge(Dn,`RPC '${e}' stream ${s} transport opened.`),v.yo())}),w(d,Qu.EventType.CLOSE,()=>{g||(g=!0,ge(Dn,`RPC '${e}' stream ${s} transport closed`),v.So())}),w(d,Qu.EventType.ERROR,E=>{g||(g=!0,Oc(Dn,`RPC '${e}' stream ${s} transport errored:`,E),v.So(new Se(Y.UNAVAILABLE,"The operation could not be completed")))}),w(d,Qu.EventType.MESSAGE,E=>{var _;if(!g){const y=E.data[0];_t(!!y);const S=y,A=S.error||((_=S[0])===null||_===void 0?void 0:_.error);if(A){ge(Dn,`RPC '${e}' stream ${s} received error:`,A);const D=A.status;let O=function(I){const P=tn[I];if(P!==void 0)return Wj(P)}(D),C=A.message;O===void 0&&(O=Y.INTERNAL,C="Unknown error status: "+D+" with message "+A.message),g=!0,v.So(new Se(O,C)),d.close()}else ge(Dn,`RPC '${e}' stream ${s} received:`,y),v.bo(y)}}),w(a,vj.STAT_EVENT,E=>{E.stat===Z0.PROXY?ge(Dn,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===Z0.NOPROXY&&ge(Dn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function lw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(t){return new ste(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&ge("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new r2(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(Si(n.toString()),Si("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new Se(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Qte extends s2{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=ate(this.serializer,e),r=function(i){if(!("targetChange"in i))return De.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?De.min():o.readTime?Vs(o.readTime):De.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=l_(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=r_(l)?{documents:ute(i,l)}:{query:dte(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Gj(i,o.resumeToken);const c=i_(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(De.min())>0){a.readTime=Qm(i,o.snapshotVersion.toTimestamp());const c=i_(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=fte(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=l_(this.serializer),n.removeTarget=e,this.a_(n)}}class Yte extends s2{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return _t(!!e.streamToken),this.lastStreamToken=e.streamToken,_t(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){_t(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=cte(e.writeResults,e.commitTime),r=Vs(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=l_(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>lte(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xte extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new Se(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,o_(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Se(Y.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,o_(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(Y.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Jte{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Si(n),this.D_=!1):ge("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zte{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{ll(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Oe(l);c.L_.add(4),await sf(c),c.q_.set("Unknown"),c.L_.delete(4),await Ay(c)}(this))})}),this.q_=new Jte(r,s)}}async function Ay(t){if(ll(t))for(const e of t.B_)await e(!0)}async function sf(t){for(const e of t.B_)await e(!1)}function i2(t,e){const n=Oe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),ET(n)?xT(n):ou(n).r_()&&_T(n,e))}function wT(t,e){const n=Oe(t),r=ou(n);n.N_.delete(e),r.r_()&&o2(n,e),n.N_.size===0&&(r.r_()?r.o_():ll(n)&&n.q_.set("Unknown"))}function _T(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ou(t).A_(e)}function o2(t,e){t.Q_.xe(e),ou(t).R_(e)}function xT(t){t.Q_=new ete({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ou(t).start(),t.q_.v_()}function ET(t){return ll(t)&&!ou(t).n_()&&t.N_.size>0}function ll(t){return Oe(t).L_.size===0}function a2(t){t.Q_=void 0}async function ene(t){t.q_.set("Online")}async function tne(t){t.N_.forEach((e,n)=>{_T(t,e)})}async function nne(t,e){a2(t),ET(t)?(t.q_.M_(e),xT(t)):t.q_.set("Unknown")}async function rne(t,e,n){if(t.q_.set("Online"),e instanceof qj&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ym(t,r)}else if(e instanceof zp?t.Q_.Ke(e):e instanceof Hj?t.Q_.He(e):t.Q_.We(e),!n.isEqual(De.min()))try{const r=await n2(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.N_.get(c);u&&i.N_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.N_.get(l);if(!u)return;i.N_.set(l,u.withResumeToken(bn.EMPTY_BYTE_STRING,u.snapshotVersion)),o2(i,l);const d=new po(u.target,l,c,u.sequenceNumber);_T(i,d)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ge("RemoteStore","Failed to raise snapshot:",r),await Ym(t,r)}}async function Ym(t,e,n){if(!tf(e))throw e;t.L_.add(1),await sf(t),t.q_.set("Offline"),n||(n=()=>n2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ge("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Ay(t)})}function l2(t,e){return e().catch(n=>Ym(t,n,e))}async function Py(t){const e=Oe(t),n=Bo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;sne(e);)try{const s=await Bte(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,ine(e,s)}catch(s){await Ym(e,s)}c2(e)&&u2(e)}function sne(t){return ll(t)&&t.O_.length<10}function ine(t,e){t.O_.push(e);const n=Bo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function c2(t){return ll(t)&&!Bo(t).n_()&&t.O_.length>0}function u2(t){Bo(t).start()}async function one(t){Bo(t).p_()}async function ane(t){const e=Bo(t);for(const n of t.O_)e.m_(n.mutations)}async function lne(t,e,n){const r=t.O_.shift(),s=fT.from(r,e,n);await l2(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Py(t)}async function cne(t,e){e&&Bo(t).V_&&await async function(r,s){if(function(o){return Xee(o)&&o!==Y.ABORTED}(s.code)){const i=r.O_.shift();Bo(r).s_(),await l2(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Py(r)}}(t,e),c2(t)&&u2(t)}async function pA(t,e){const n=Oe(t);n.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const r=ll(n);n.L_.add(3),await sf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Ay(n)}async function une(t,e){const n=Oe(t);e?(n.L_.delete(2),await Ay(n)):e||(n.L_.add(2),await sf(n),n.q_.set("Unknown"))}function ou(t){return t.K_||(t.K_=function(n,r,s){const i=Oe(n);return i.w_(),new Qte(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:ene.bind(null,t),Ro:tne.bind(null,t),mo:nne.bind(null,t),d_:rne.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),ET(t)?xT(t):t.q_.set("Unknown")):(await t.K_.stop(),a2(t))})),t.K_}function Bo(t){return t.U_||(t.U_=function(n,r,s){const i=Oe(n);return i.w_(),new Yte(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:one.bind(null,t),mo:cne.bind(null,t),f_:ane.bind(null,t),g_:lne.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Py(t)):(await t.U_.stop(),t.O_.length>0&&(ge("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Co,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new TT(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ST(t,e){if(Si("AsyncQueue",`${e}: ${t}`),tf(t))return new Se(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this.comparator=e?(n,r)=>e(n,r)||be.comparator(n.key,r.key):(n,r)=>be.comparator(n.key,r.key),this.keyedMap=Yu(),this.sortedSet=new Vt(this.comparator)}static emptySet(e){return new ic(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ic)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ic;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(){this.W_=new Vt(be.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Re():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Uc{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Uc(e,n,ic.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ey(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dne{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class hne{constructor(){this.queries=gA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Oe(n),i=s.queries;s.queries=gA(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Se(Y.ABORTED,"Firestore shutting down"))}}function gA(){return new iu(t=>Dj(t),Ey)}async function d2(t,e){const n=Oe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new dne,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=ST(o,`Initialization of query '${bl(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&bT(n)}async function h2(t,e){const n=Oe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function fne(t,e){const n=Oe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&bT(n)}function pne(t,e,n){const r=Oe(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function bT(t){t.Y_.forEach(e=>{e.next()})}var u_,yA;(yA=u_||(u_={})).ea="default",yA.Cache="cache";class f2{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Uc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Uc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==u_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e){this.key=e}}class m2{constructor(e){this.key=e}}class mne{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Xe(),this.mutatedKeys=Xe(),this.Aa=kj(e),this.Ra=new ic(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new mA,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,d)=>{const p=s.get(u),g=Ty(this.query,d)?d:null,v=!!p&&this.mutatedKeys.has(p.key),w=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let E=!1;p&&g?p.data.isEqual(g.data)?v!==w&&(r.track({type:3,doc:g}),E=!0):this.ga(p,g)||(r.track({type:2,doc:g}),E=!0,(l&&this.Aa(g,l)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),E=!0):p&&!g&&(r.track({type:1,doc:p}),E=!0,(l||c)&&(a=!0)),E&&(g?(o=o.add(g),i=w?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,d)=>function(g,v){const w=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return w(g)-w(v)}(u.type,d.type)||this.Aa(u.doc,d.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Uc(this.query,e.Ra,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new mA,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Xe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new m2(r))}),this.da.forEach(r=>{e.has(r)||n.push(new p2(r))}),n}ba(e){this.Ta=e.Ts,this.da=Xe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Uc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class gne{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class yne{constructor(e){this.key=e,this.va=!1}}class vne{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new iu(a=>Dj(a),Ey),this.Ma=new Map,this.xa=new Set,this.Oa=new Vt(be.comparator),this.Na=new Map,this.La=new gT,this.Ba={},this.ka=new Map,this.qa=Fc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function wne(t,e,n=!0){const r=x2(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await g2(r,e,n,!0),s}async function _ne(t,e){const n=x2(t);await g2(n,e,!0,!1)}async function g2(t,e,n,r){const s=await $te(t.localStore,js(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await xne(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&i2(t.remoteStore,s),a}async function xne(t,e,n,r,s){t.Ka=(d,p,g)=>async function(w,E,_,y){let S=E.view.ma(_);S.ns&&(S=await dA(w.localStore,E.query,!1).then(({documents:C})=>E.view.ma(C,S)));const A=y&&y.targetChanges.get(E.targetId),D=y&&y.targetMismatches.get(E.targetId)!=null,O=E.view.applyChanges(S,w.isPrimaryClient,A,D);return wA(w,E.targetId,O.wa),O.snapshot}(t,d,p,g);const i=await dA(t.localStore,e,!0),o=new mne(e,i.Ts),a=o.ma(i.documents),l=rf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);wA(t,n,c.wa);const u=new gne(e,n,o);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function Ene(t,e,n){const r=Oe(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!Ey(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await c_(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&wT(r.remoteStore,s.targetId),d_(r,s.targetId)}).catch(ef)):(d_(r,s.targetId),await c_(r.localStore,s.targetId,!0))}async function Tne(t,e){const n=Oe(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),wT(n.remoteStore,r.targetId))}async function Sne(t,e,n){const r=Nne(t);try{const s=await function(o,a){const l=Oe(o),c=hn.now(),u=a.reduce((g,v)=>g.add(v.key),Xe());let d,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=bi(),w=Xe();return l.cs.getEntries(g,u).next(E=>{v=E,v.forEach((_,y)=>{y.isValidDocument()||(w=w.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,v)).next(E=>{d=E;const _=[];for(const y of a){const S=Hee(y,d.get(y.key).overlayedDocument);S!=null&&_.push(new al(y.key,S,bj(S.value.mapValue),fi.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,_,a)}).next(E=>{p=E;const _=E.applyToLocalDocumentSet(d,w);return l.documentOverlayCache.saveOverlays(g,E.batchId,_)})}).then(()=>({batchId:p.batchId,changes:Oj(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Vt(ct)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,s.batchId,n),await of(r,s.changes),await Py(r.remoteStore)}catch(s){const i=ST(s,"Failed to persist write");n.reject(i)}}async function y2(t,e){const n=Oe(t);try{const r=await Fte(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(_t(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?_t(o.va):s.removedDocuments.size>0&&(_t(o.va),o.va=!1))}),await of(n,r,e)}catch(r){await ef(r)}}function vA(t,e,n){const r=Oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Oe(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const p of d.j_)p.Z_(a)&&(c=!0)}),c&&bT(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bne(t,e,n){const r=Oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new Vt(be.comparator);o=o.insert(i,jn.newNoDocument(i,De.min()));const a=Xe().add(i),l=new Cy(De.min(),new Map,new Vt(ct),o,a);await y2(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),CT(r)}else await c_(r.localStore,e,!1).then(()=>d_(r,e,n)).catch(ef)}async function Cne(t,e){const n=Oe(t),r=e.batch.batchId;try{const s=await Vte(n.localStore,e);w2(n,r,null),v2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await of(n,s)}catch(s){await ef(s)}}async function Ine(t,e,n){const r=Oe(t);try{const s=await function(o,a){const l=Oe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(_t(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);w2(r,e,n),v2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await of(r,s)}catch(s){await ef(s)}}function v2(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function w2(t,e,n){const r=Oe(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function d_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||_2(t,r)})}function _2(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(wT(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),CT(t))}function wA(t,e,n){for(const r of n)r instanceof p2?(t.La.addReference(r.key,e),Ane(t,r)):r instanceof m2?(ge("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||_2(t,r.key)):Re()}function Ane(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ge("SyncEngine","New document in limbo: "+n),t.xa.add(r),CT(t))}function CT(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new be(Wt.fromString(e)),r=t.qa.next();t.Na.set(r,new yne(n)),t.Oa=t.Oa.insert(n,r),i2(t.remoteStore,new po(js(xy(n.path)),r,"TargetPurposeLimboResolution",oT.oe))}}async function of(t,e,n){const r=Oe(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){s.push(c);const d=vT.Wi(l.targetId,c);i.push(d)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,c){const u=Oe(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Q.forEach(c,p=>Q.forEach(p.$i,g=>u.persistence.referenceDelegate.addReference(d,p.targetId,g)).next(()=>Q.forEach(p.Ui,g=>u.persistence.referenceDelegate.removeReference(d,p.targetId,g)))))}catch(d){if(!tf(d))throw d;ge("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const p=d.targetId;if(!d.fromCache){const g=u.os.get(p),v=g.snapshotVersion,w=g.withLastLimboFreeSnapshotVersion(v);u.os=u.os.insert(p,w)}}}(r.localStore,i))}async function Pne(t,e){const n=Oe(t);if(!n.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const r=await t2(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new Se(Y.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await of(n,r.hs)}}function Rne(t,e){const n=Oe(t),r=n.Na.get(e);if(r&&r.va)return Xe().add(r.key);{let s=Xe();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function x2(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=y2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rne.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bne.bind(null,e),e.Ca.d_=fne.bind(null,e.eventManager),e.Ca.$a=pne.bind(null,e.eventManager),e}function Nne(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Cne.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ine.bind(null,e),e}class _A{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Iy(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return jte(this.persistence,new Ote,e.initialUser,this.serializer)}createPersistence(e){return new Dte(yT.Zr,this.serializer)}createSharedClientState(e){return new Kte}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Dne{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Pne.bind(null,this.syncEngine),await une(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new hne}()}createDatastore(e){const n=Iy(e.databaseInfo.databaseId),r=function(i){return new Gte(i)}(e.databaseInfo);return function(i,o,a,l){return new Xte(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new Zte(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>vA(this.syncEngine,n,0),function(){return fA.D()?new fA:new Wte}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,u){const d=new vne(s,i,o,a,l,c);return u&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Oe(s);ge("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await sf(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Si("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kne{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=On.UNAUTHENTICATED,this.clientId=Ej.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{ge("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(ge("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Se(Y.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Co;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ST(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function cw(t,e){t.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await t2(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function xA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await One(t);ge("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>pA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>pA(e.remoteStore,s)),t._onlineComponents=e}function Mne(t){return t.name==="FirebaseError"?t.code===Y.FAILED_PRECONDITION||t.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function One(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await cw(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Mne(n))throw n;Oc("Error using user provided cache. Falling back to memory cache: "+n),await cw(t,new _A)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),await cw(t,new _A);return t._offlineComponents}async function T2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),await xA(t,t._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),await xA(t,new Dne))),t._onlineComponents}function Lne(t){return T2(t).then(e=>e.syncEngine)}async function h_(t){const e=await T2(t),n=e.eventManager;return n.onListen=wne.bind(null,e.syncEngine),n.onUnlisten=Ene.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_ne.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Tne.bind(null,e.syncEngine),n}function jne(t,e,n={}){const r=new Co;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new E2({next:p=>{o.enqueueAndForget(()=>h2(i,d));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new Se(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?c.reject(new Se(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),d=new f2(xy(a.path),u,{includeMetadataChanges:!0,_a:!0});return d2(i,d)}(await h_(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vne(t,e,n){if(!n)throw new Se(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Fne(t,e,n,r){if(e===!0&&r===!0)throw new Se(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function TA(t){if(!be.isDocumentKey(t))throw new Se(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function IT(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re()}function Io(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=IT(t);throw new Se(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Se(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Fne("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=S2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Se(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Se(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Se(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class AT{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SA({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Se(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Se(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SA(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new eee;switch(r.type){case"firstParty":return new see(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=EA.get(n);r&&(ge("ComponentProvider","Removing Datastore"),EA.delete(n),r.terminate())}(this),Promise.resolve()}}function Une(t,e,n,r={}){var s;const i=(t=Io(t,AT))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Oc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=On.MOCK_USER;else{a=WN(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Se(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new On(c)}t._authCredentials=new tee(new xj(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b2=class C2{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new C2(this.firestore,e,this._query)}};class Sr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sr(this.firestore,e,this._key)}}class hh extends b2{constructor(e,n,r){super(e,n,xy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sr(this.firestore,null,new be(e))}withConverter(e){return new hh(this.firestore,e,this._path)}}function PT(t,e,...n){if(t=sn(t),arguments.length===1&&(e=Ej.newId()),Vne("doc","path",e),t instanceof AT){const r=Wt.fromString(e,...n);return TA(r),new Sr(t,null,new be(r))}{if(!(t instanceof Sr||t instanceof hh))throw new Se(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Wt.fromString(e,...n));return TA(r),new Sr(t.firestore,t instanceof hh?t.converter:null,new be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bne{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new r2(this,"async_queue_retry"),this.Eu=()=>{const n=lw();n&&ge("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=lw();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=lw();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new Co;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!tf(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Si("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const s=TT.createAndSchedule(this,e,n,r,i=>this.Vu(i));return this.lu.push(s),s}du(){this.hu&&Re()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}function bA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class fh extends AT{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new Bne}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||I2(this),this._firestoreClient.terminate()}}function $ne(t,e){const n=typeof t=="object"?t:Ig(),r=typeof t=="string"?t:"(default)",s=Wo(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=$N("firestore");i&&Une(s,...i)}return s}function RT(t){return t._firestoreClient||I2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function I2(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,u){return new yee(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,S2(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new kne(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bc(bn.fromBase64String(e))}catch(n){throw new Se(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bc(bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zne=/^__.*__$/;class Kne{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new al(e,this.data,this.fieldMask,n,this.fieldTransforms):new nf(e,this.data,n,this.fieldTransforms)}}function P2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class MT{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.yu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new MT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.vu(e),s}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.yu(),s}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Xm(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(P2(this.wu)&&zne.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class Wne{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Iy(e)}Nu(e,n,r,s=!1){return new MT({wu:e,methodName:n,Ou:r,path:xn.emptyPath(),Du:!1,xu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hne(t){const e=t._freezeSettings(),n=Iy(t._databaseId);return new Wne(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qne(t,e,n,r,s,i={}){const o=t.Nu(i.merge||i.mergeFields?2:0,e,n,s);k2("Data must be an object, but it was:",o,r);const a=N2(r,o);let l,c;if(i.merge)l=new as(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const d of i.mergeFields){const p=Gne(e,d,n);if(!o.contains(p))throw new Se(Y.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);Yne(u,p)||u.push(p)}l=new as(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new Kne(new Br(a),l,c)}function R2(t,e){if(D2(t=sn(t)))return k2("Unsupported field value:",e,t),N2(t,e);if(t instanceof A2)return function(r,s){if(!P2(s.wu))throw s.Mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=R2(a,s.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=sn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Uee(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=hn.fromDate(r);return{timestampValue:Qm(s.serializer,i)}}if(r instanceof hn){const i=new hn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qm(s.serializer,i)}}if(r instanceof DT)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bc)return{bytesValue:Gj(s.serializer,r._byteString)};if(r instanceof Sr){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:mT(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof kT)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return hT(a.serializer,l)})}}}}}}(r,s);throw s.Mu(`Unsupported field value: ${IT(r)}`)}(t,e)}function N2(t,e){const n={};return Tj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):su(t,(r,s)=>{const i=R2(s,e.bu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function D2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof hn||t instanceof DT||t instanceof Bc||t instanceof Sr||t instanceof A2||t instanceof kT)}function k2(t,e,n){if(!D2(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=IT(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function Gne(t,e,n){if((e=sn(e))instanceof NT)return e._internalPath;if(typeof e=="string")return M2(t,e);throw Xm("Field path arguments must be of type string or ",t,!1,void 0,n)}const Qne=new RegExp("[~\\*/\\[\\]]");function M2(t,e,n){if(e.search(Qne)>=0)throw Xm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new NT(...e.split("."))._internalPath}catch{throw Xm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xm(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Se(Y.INVALID_ARGUMENT,a+t+l)}function Yne(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Sr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Xne(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(L2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Xne extends O2{data(){return super.data()}}function L2(t,e){return typeof e=="string"?M2(t,e):e instanceof NT?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jne(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zne{convertValue(e,n="none"){switch(qa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return su(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Qt(o.doubleValue));return new kT(i)}convertGeoPoint(e){return new DT(Qt(e.latitude),Qt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=lT(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ah(e));default:return null}}convertTimestamp(e){const n=Uo(e);return new hn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Wt.fromString(e);_t(e2(r));const s=new lh(r.get(1),r.get(3)),i=new be(r.popFirst(5));return s.isEqual(n)||Si(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ere(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class j2 extends O2{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(L2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Kp extends j2{data(e={}){return super.data(e)}}class tre{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ju(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Kp(this._firestore,this._userDataWriter,r.key,r,new Ju(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Kp(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ju(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Kp(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ju(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:nre(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function nre(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rre(t){t=Io(t,Sr);const e=Io(t.firestore,fh);return jne(RT(e),t._key).then(n=>F2(e,t,n))}class V2 extends Zne{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Sr(this.firestore,null,n)}}function sre(t,e,n){t=Io(t,Sr);const r=Io(t.firestore,fh),s=ere(t.converter,e,n);return ore(r,[qne(Hne(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,fi.none())])}function ire(t,...e){var n,r,s;t=sn(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||bA(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(bA(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(s=d.complete)===null||s===void 0?void 0:s.bind(d)}let l,c,u;if(t instanceof Sr)c=Io(t.firestore,fh),u=xy(t._key.path),l={next:d=>{e[o]&&e[o](F2(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Io(t,b2);c=Io(d.firestore,fh),u=d._query;const p=new V2(c);l={next:g=>{e[o]&&e[o](new tre(c,p,d,g))},error:e[o+1],complete:e[o+2]},Jne(t._query)}return function(p,g,v,w){const E=new E2(w),_=new f2(g,E,v);return p.asyncQueue.enqueueAndForget(async()=>d2(await h_(p),_)),()=>{E.za(),p.asyncQueue.enqueueAndForget(async()=>h2(await h_(p),_))}}(RT(c),u,a,l)}function ore(t,e){return function(r,s){const i=new Co;return r.asyncQueue.enqueueAndForget(async()=>Sne(await Lne(r),s,i)),i.promise}(RT(t),e)}function F2(t,e,n){const r=n.docs.get(e._key),s=new V2(t);return new j2(t,s,e._key,r,new Ju(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){ru=s})(rl),fs(new Gr("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new fh(new nee(r.getProvider("auth-internal")),new oee(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Se(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lh(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),hr(K1,"4.7.2",e),hr(K1,"4.7.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="firebasestorage.googleapis.com",B2="storageBucket",are=2*60*1e3,lre=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt extends Rr{constructor(e,n,r=0){super(uw(e),`Firebase Storage: ${n} (${uw(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return uw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ht;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ht||(Ht={}));function uw(t){return"storage/"+t}function OT(){const t="An unknown error occurred, please check the error payload for server response.";return new qt(Ht.UNKNOWN,t)}function cre(t){return new qt(Ht.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function ure(t){return new qt(Ht.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function dre(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new qt(Ht.UNAUTHENTICATED,t)}function hre(){return new qt(Ht.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function fre(t){return new qt(Ht.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function pre(){return new qt(Ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function mre(){return new qt(Ht.CANCELED,"User canceled the upload/download.")}function gre(t){return new qt(Ht.INVALID_URL,"Invalid URL '"+t+"'.")}function yre(t){return new qt(Ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function vre(){return new qt(Ht.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+B2+"' property when initializing the app?")}function wre(){return new qt(Ht.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function _re(){return new qt(Ht.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function xre(t){return new qt(Ht.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function f_(t){return new qt(Ht.INVALID_ARGUMENT,t)}function $2(){return new qt(Ht.APP_DELETED,"The Firebase app was deleted.")}function Ere(t){return new qt(Ht.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function wd(t,e){return new qt(Ht.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ju(t){throw new qt(Ht.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=xr.makeFromUrl(e,n)}catch{return new xr(e,"")}if(r.path==="")return r;throw yre(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(A){A.path_=decodeURIComponent(A.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${d}/${u}/b/${s}/o${p}`,"i"),v={bucket:1,path:3},w=n===U2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",_=new RegExp(`^https?://${w}/${s}/${E}`,"i"),S=[{regex:a,indices:l,postModify:i},{regex:g,indices:v,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let A=0;A<S.length;A++){const D=S[A],O=D.regex.exec(e);if(O){const C=O[D.indices.bucket];let T=O[D.indices.path];T||(T=""),r=new xr(C,T),D.postModify(r);break}}if(r==null)throw gre(e);return r}}class Tre{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sre(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...E){c||(c=!0,e.apply(null,E))}function d(E){s=setTimeout(()=>{s=null,t(g,l())},E)}function p(){i&&clearTimeout(i)}function g(E,..._){if(c){p();return}if(E){p(),u.call(null,E,..._);return}if(l()||o){p(),u.call(null,E,..._);return}r<64&&(r*=2);let S;a===1?(a=2,S=0):S=(r+Math.random())*1e3,d(S)}let v=!1;function w(E){v||(v=!0,p(),!c&&(s!==null?(E||(a=2),clearTimeout(s),d(0)):E||(a=1)))}return d(0),i=setTimeout(()=>{o=!0,w(!0)},n),w}function bre(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cre(t){return t!==void 0}function Ire(t){return typeof t=="object"&&!Array.isArray(t)}function LT(t){return typeof t=="string"||t instanceof String}function CA(t){return jT()&&t instanceof Blob}function jT(){return typeof Blob<"u"}function IA(t,e,n,r){if(r<e)throw f_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw f_(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function z2(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var La;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(La||(La={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Are(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pre{constructor(e,n,r,s,i,o,a,l,c,u,d,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,v)=>{this.resolve_=g,this.reject_=v,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new dp(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===La.NO_ERROR,l=i.getStatus();if(!a||Are(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===La.ABORT;r(!1,new dp(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new dp(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Cre(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=OT();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?$2():mre();o(l)}else{const l=pre();o(l)}};this.canceled_?n(!1,new dp(!1,null,!0)):this.backoffId_=Sre(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&bre(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class dp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Rre(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Nre(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Dre(t,e){e&&(t["X-Firebase-GMPID"]=e)}function kre(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Mre(t,e,n,r,s,i,o=!0){const a=z2(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return Dre(c,e),Rre(c,n),Nre(c,i),kre(c,r),new Pre(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ore(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Lre(...t){const e=Ore();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(jT())return new Blob(t);throw new qt(Ht.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function jre(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vre(t){if(typeof atob>"u")throw xre("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class dw{constructor(e,n){this.data=e,this.contentType=n||null}}function Fre(t,e){switch(t){case Ps.RAW:return new dw(K2(e));case Ps.BASE64:case Ps.BASE64URL:return new dw(W2(t,e));case Ps.DATA_URL:return new dw(Bre(e),$re(e))}throw OT()}function K2(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Ure(t){let e;try{e=decodeURIComponent(t)}catch{throw wd(Ps.DATA_URL,"Malformed data URL.")}return K2(e)}function W2(t,e){switch(t){case Ps.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw wd(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Ps.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw wd(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Vre(e)}catch(s){throw s.message.includes("polyfill")?s:wd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class H2{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw wd(Ps.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=zre(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Bre(t){const e=new H2(t);return e.base64?W2(Ps.BASE64,e.rest):Ure(e.rest)}function $re(t){return new H2(t).contentType}function zre(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n){let r=0,s="";CA(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(CA(this.data_)){const r=this.data_,s=jre(r,e,n);return s===null?null:new Ji(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ji(r,!0)}}static getBlob(...e){if(jT()){const n=e.map(r=>r instanceof Ji?r.data_:r);return new Ji(Lre.apply(null,n))}else{const n=e.map(o=>LT(o)?Fre(Ps.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new Ji(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(t){let e;try{e=JSON.parse(t)}catch{return null}return Ire(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kre(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Wre(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function G2(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hre(t,e){return e}class qn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||Hre}}let hp=null;function qre(t){return!LT(t)||t.length<2?t:G2(t)}function VT(){if(hp)return hp;const t=[];t.push(new qn("bucket")),t.push(new qn("generation")),t.push(new qn("metageneration")),t.push(new qn("name","fullPath",!0));function e(i,o){return qre(o)}const n=new qn("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new qn("size");return s.xform=r,t.push(s),t.push(new qn("timeCreated")),t.push(new qn("updated")),t.push(new qn("md5Hash",null,!0)),t.push(new qn("cacheControl",null,!0)),t.push(new qn("contentDisposition",null,!0)),t.push(new qn("contentEncoding",null,!0)),t.push(new qn("contentLanguage",null,!0)),t.push(new qn("contentType",null,!0)),t.push(new qn("metadata","customMetadata",!0)),hp=t,hp}function Gre(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new xr(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function Qre(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return Gre(r,t),r}function Q2(t,e,n){const r=q2(e);return r===null?null:Qre(t,r,n)}function Yre(t,e,n,r){const s=q2(e);if(s===null||!LT(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(c=>{const u=t.bucket,d=t.fullPath,p="/b/"+o(u)+"/o/"+o(d),g=au(p,n,r),v=z2({alt:"media",token:c});return g+v})[0]}function Xre(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class af{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(t){if(!t)throw OT()}function X2(t,e){function n(r,s){const i=Q2(t,s,e);return Y2(i!==null),i}return n}function Jre(t,e){function n(r,s){const i=Q2(t,s,e);return Y2(i!==null),Yre(i,s,t.host,t._protocol)}return n}function J2(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=hre():s=dre():n.getStatus()===402?s=ure(t.bucket):n.getStatus()===403?s=fre(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function Ry(t){const e=J2(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=cre(t.path)),i.serverResponse=s.serverResponse,i}return n}function Zre(t,e,n){const r=e.fullServerUrl(),s=au(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new af(s,i,X2(t,n),o);return a.errorHandler=Ry(e),a}function ese(t,e,n){const r=e.fullServerUrl(),s=au(r,t.host,t._protocol)+"?alt=media",i="GET",o=t.maxOperationRetryTime,a=new af(s,i,(l,c)=>c,o);return a.errorHandler=Ry(e),a}function tse(t,e,n){const r=e.fullServerUrl(),s=au(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new af(s,i,Jre(t,n),o);return a.errorHandler=Ry(e),a}function nse(t,e){const n=e.fullServerUrl(),r=au(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(l,c){}const a=new af(r,s,o,i);return a.successCodes=[200,204],a.errorHandler=Ry(e),a}function rse(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function sse(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=rse(null,e)),r}function ise(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let S="";for(let A=0;A<2;A++)S=S+Math.random().toString().slice(2);return S}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=sse(e,r,s),u=Xre(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,p=`\r
--`+l+"--",g=Ji.getBlob(d,r,p);if(g===null)throw wre();const v={name:c.fullPath},w=au(i,t.host,t._protocol),E="POST",_=t.maxUploadRetryTime,y=new af(w,E,X2(t,n),_);return y.urlParams=v,y.headers=o,y.body=g.uploadData(),y.errorHandler=J2(e),y}class Z2{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=La.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=La.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=La.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw ju("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ju("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ju("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ju("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ju("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class ose extends Z2{initXhr(){this.xhr_.responseType="text"}}function Ny(){return new ose}class ase extends Z2{initXhr(){this.xhr_.responseType="blob"}}function lse(){return new ase}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,n){this._service=e,n instanceof xr?this._location=n:this._location=xr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ga(e,n)}get root(){const e=new xr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return G2(this._location.path)}get storage(){return this._service}get parent(){const e=Kre(this._location.path);if(e===null)return null;const n=new xr(this._location.bucket,e);return new Ga(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Ere(e)}}function cse(t,e){t._throwIfRoot("getBlob");const n=ese(t.storage,t._location);return t.storage.makeRequestWithTokens(n,lse).then(r=>r)}function use(t,e,n){t._throwIfRoot("uploadBytes");const r=ise(t.storage,t._location,VT(),new Ji(e,!0),n);return t.storage.makeRequestWithTokens(r,Ny).then(s=>({metadata:s,ref:t}))}function dse(t){t._throwIfRoot("getMetadata");const e=Zre(t.storage,t._location,VT());return t.storage.makeRequestWithTokens(e,Ny)}function hse(t){t._throwIfRoot("getDownloadURL");const e=tse(t.storage,t._location,VT());return t.storage.makeRequestWithTokens(e,Ny).then(n=>{if(n===null)throw _re();return n})}function fse(t){t._throwIfRoot("deleteObject");const e=nse(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Ny)}function pse(t,e){const n=Wre(t._location.path,e),r=new xr(t._location.bucket,n);return new Ga(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mse(t){return/^[A-Za-z]+:\/\//.test(t)}function gse(t,e){return new Ga(t,e)}function eV(t,e){if(t instanceof FT){const n=t;if(n._bucket==null)throw vre();const r=new Ga(n,n._bucket);return e!=null?eV(r,e):r}else return e!==void 0?pse(t,e):t}function yse(t,e){if(e&&mse(e)){if(t instanceof FT)return gse(t,e);throw f_("To use ref(service, url), the first argument must be a Storage instance.")}else return eV(t,e)}function AA(t,e){const n=e==null?void 0:e[B2];return n==null?null:xr.makeFromBucketSpec(n,t)}function vse(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:WN(s,t.app.options.projectId))}class FT{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=U2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=are,this._maxUploadRetryTime=lre,this._requests=new Set,s!=null?this._bucket=xr.makeFromBucketSpec(s,this._host):this._bucket=AA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=xr.makeFromBucketSpec(this._url,e):this._bucket=AA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){IA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){IA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ga(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new Tre($2());{const o=Mre(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const PA="@firebase/storage",RA="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV="storage";function wse(t,e,n){return t=sn(t),use(t,e,n)}function _se(t){return t=sn(t),dse(t)}function xse(t){return t=sn(t),hse(t)}function Ese(t){return t=sn(t),fse(t)}function Dy(t,e){return t=sn(t),yse(t,e)}function Tse(t=Ig(),e){t=sn(t);const r=Wo(t,tV).getImmediate({identifier:e}),s=$N("storage");return s&&Sse(r,...s),r}function Sse(t,e,n,r={}){vse(t,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bse(t,e){return t=sn(t),cse(t)}function Cse(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new FT(n,r,s,e,rl)}function Ise(){fs(new Gr(tV,Cse,"PUBLIC").setMultipleInstances(!0)),hr(PA,RA,""),hr(PA,RA,"esm2017")}Ise();const nV="@firebase/installations",UT="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV=1e4,sV=`w:${UT}`,iV="FIS_v2",Ase="https://firebaseinstallations.googleapis.com/v1",Pse=60*60*1e3,Rse="installations",Nse="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dse={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Qa=new nl(Rse,Nse,Dse);function oV(t){return t instanceof Rr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV({projectId:t}){return`${Ase}/projects/${t}/installations`}function lV(t){return{token:t.token,requestStatus:2,expiresIn:Mse(t.expiresIn),creationTime:Date.now()}}async function cV(t,e){const r=(await e.json()).error;return Qa.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function uV({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function kse(t,{refreshToken:e}){const n=uV(t);return n.append("Authorization",Ose(e)),n}async function dV(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Mse(t){return Number(t.replace("s","000"))}function Ose(t){return`${iV} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lse({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=aV(t),s=uV(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:iV,appId:t.appId,sdkVersion:sV},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await dV(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:lV(c.authToken)}}else throw await cV("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jse(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vse=/^[cdef][\w-]{21}$/,p_="";function Fse(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Use(t);return Vse.test(n)?n:p_}catch{return p_}}function Use(t){return jse(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV=new Map;function pV(t,e){const n=ky(t);mV(n,e),Bse(n,e)}function mV(t,e){const n=fV.get(t);if(n)for(const r of n)r(e)}function Bse(t,e){const n=$se();n&&n.postMessage({key:t,fid:e}),zse()}let Ea=null;function $se(){return!Ea&&"BroadcastChannel"in self&&(Ea=new BroadcastChannel("[Firebase] FID Change"),Ea.onmessage=t=>{mV(t.data.key,t.data.fid)}),Ea}function zse(){fV.size===0&&Ea&&(Ea.close(),Ea=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kse="firebase-installations-database",Wse=1,Ya="firebase-installations-store";let hw=null;function BT(){return hw||(hw=XN(Kse,Wse,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ya)}}})),hw}async function Jm(t,e){const n=ky(t),s=(await BT()).transaction(Ya,"readwrite"),i=s.objectStore(Ya),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&pV(t,e.fid),e}async function gV(t){const e=ky(t),r=(await BT()).transaction(Ya,"readwrite");await r.objectStore(Ya).delete(e),await r.done}async function My(t,e){const n=ky(t),s=(await BT()).transaction(Ya,"readwrite"),i=s.objectStore(Ya),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&pV(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $T(t){let e;const n=await My(t.appConfig,r=>{const s=Hse(r),i=qse(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===p_?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Hse(t){const e=t||{fid:Fse(),registrationStatus:0};return yV(e)}function qse(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Qa.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Gse(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Qse(t)}:{installationEntry:e}}async function Gse(t,e){try{const n=await Lse(t,e);return Jm(t.appConfig,n)}catch(n){throw oV(n)&&n.customData.serverCode===409?await gV(t.appConfig):await Jm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Qse(t){let e=await NA(t.appConfig);for(;e.registrationStatus===1;)await hV(100),e=await NA(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await $T(t);return r||n}return e}function NA(t){return My(t,e=>{if(!e)throw Qa.create("installation-not-found");return yV(e)})}function yV(t){return Yse(t)?{fid:t.fid,registrationStatus:0}:t}function Yse(t){return t.registrationStatus===1&&t.registrationTime+rV<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xse({appConfig:t,heartbeatServiceProvider:e},n){const r=Jse(t,n),s=kse(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:sV,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await dV(()=>fetch(r,a));if(l.ok){const c=await l.json();return lV(c)}else throw await cV("Generate Auth Token",l)}function Jse(t,{fid:e}){return`${aV(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zT(t,e=!1){let n;const r=await My(t.appConfig,i=>{if(!vV(i))throw Qa.create("not-registered");const o=i.authToken;if(!e&&tie(o))return i;if(o.requestStatus===1)return n=Zse(t,e),i;{if(!navigator.onLine)throw Qa.create("app-offline");const a=rie(i);return n=eie(t,a),a}});return n?await n:r.authToken}async function Zse(t,e){let n=await DA(t.appConfig);for(;n.authToken.requestStatus===1;)await hV(100),n=await DA(t.appConfig);const r=n.authToken;return r.requestStatus===0?zT(t,e):r}function DA(t){return My(t,e=>{if(!vV(e))throw Qa.create("not-registered");const n=e.authToken;return sie(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function eie(t,e){try{const n=await Xse(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Jm(t.appConfig,r),n}catch(n){if(oV(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await gV(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Jm(t.appConfig,r)}throw n}}function vV(t){return t!==void 0&&t.registrationStatus===2}function tie(t){return t.requestStatus===2&&!nie(t)}function nie(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Pse}function rie(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function sie(t){return t.requestStatus===1&&t.requestTime+rV<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iie(t){const e=t,{installationEntry:n,registrationPromise:r}=await $T(e);return r?r.catch(console.error):zT(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oie(t,e=!1){const n=t;return await aie(n),(await zT(n,e)).token}async function aie(t){const{registrationPromise:e}=await $T(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lie(t){if(!t||!t.options)throw fw("App Configuration");if(!t.name)throw fw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw fw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function fw(t){return Qa.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV="installations",cie="installations-internal",uie=t=>{const e=t.getProvider("app").getImmediate(),n=lie(e),r=Wo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},die=t=>{const e=t.getProvider("app").getImmediate(),n=Wo(e,wV).getImmediate();return{getId:()=>iie(n),getToken:s=>oie(n,s)}};function hie(){fs(new Gr(wV,uie,"PUBLIC")),fs(new Gr(cie,die,"PRIVATE"))}hie();hr(nV,UT);hr(nV,UT,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="analytics",fie="firebase_id",pie="origin",mie=60*1e3,gie="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",KT="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=new Cg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yie={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},br=new nl("analytics","Analytics",yie);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vie(t){if(!t.startsWith(KT)){const e=br.create("invalid-gtag-resource",{gtagURL:t});return fr.warn(e.message),""}return t}function _V(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function wie(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function _ie(t,e){const n=wie("firebase-js-sdk-policy",{createScriptURL:vie}),r=document.createElement("script"),s=`${KT}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function xie(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Eie(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await _V(n)).find(c=>c.measurementId===s);l&&await e[l.appId]}}catch(a){fr.error(a)}t("config",s,i)}async function Tie(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await _V(n);for(const l of o){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(u)i.push(u);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){fr.error(i)}}function Sie(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await Tie(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await Eie(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){fr.error(a)}}return s}function bie(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=Sie(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function Cie(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(KT)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iie=30,Aie=1e3;class Pie{constructor(e={},n=Aie){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const xV=new Pie;function Rie(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Nie(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:Rie(r)},i=gie.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw br.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function Die(t,e=xV,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw br.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw br.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Oie;return setTimeout(async()=>{a.abort()},mie),EV({appId:r,apiKey:s,measurementId:i},o,a,e)}async function EV(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=xV){var i;const{appId:o,measurementId:a}=t;try{await kie(r,e)}catch(l){if(a)return fr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await Nie(t);return s.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!Mie(c)){if(s.deleteThrottleMetadata(o),a)return fr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const u=Number((i=c==null?void 0:c.customData)===null||i===void 0?void 0:i.httpStatus)===503?rC(n,s.intervalMillis,Iie):rC(n,s.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return s.setThrottleMetadata(o,d),fr.debug(`Calling attemptFetch again in ${u} millis`),EV(t,d,r,s)}}function kie(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(br.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Mie(t){if(!(t instanceof Rr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Oie{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Lie(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jie(){if(qN())try{await GN()}catch(t){return fr.warn(br.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return fr.warn(br.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Vie(t,e,n,r,s,i,o){var a;const l=Die(t);l.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&fr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>fr.error(g)),e.push(l);const c=jie().then(g=>{if(g)return r.getId()}),[u,d]=await Promise.all([l,c]);Cie(i)||_ie(i,u.measurementId),s("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[pie]="firebase",p.update=!0,d!=null&&(p[fie]=d),s("config",u.measurementId,p),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fie{constructor(e){this.app=e}_delete(){return delete _d[this.app.options.appId],Promise.resolve()}}let _d={},kA=[];const MA={};let pw="dataLayer",Uie="gtag",OA,TV,LA=!1;function Bie(){const t=[];if(HN()&&t.push("This is a browser extension environment."),N5()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=br.create("invalid-analytics-context",{errorInfo:e});fr.warn(n.message)}}function $ie(t,e,n){Bie();const r=t.options.appId;if(!r)throw br.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)fr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw br.create("no-api-key");if(_d[r]!=null)throw br.create("already-exists",{id:r});if(!LA){xie(pw);const{wrappedGtag:i,gtagCore:o}=bie(_d,kA,MA,pw,Uie);TV=i,OA=o,LA=!0}return _d[r]=Vie(t,kA,MA,e,OA,pw,n),new Fie(t)}function zie(t=Ig()){t=sn(t);const e=Wo(t,Zm);return e.isInitialized()?e.getImmediate():Kie(t)}function Kie(t,e={}){const n=Wo(t,Zm);if(n.isInitialized()){const s=n.getImmediate();if(zd(e,n.getOptions()))return s;throw br.create("already-initialized")}return n.initialize({options:e})}function SV(t,e,n,r){t=sn(t),Lie(TV,_d[t.app.options.appId],e,n,r).catch(s=>fr.error(s))}const jA="@firebase/analytics",VA="0.10.8";function Wie(){fs(new Gr(Zm,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return $ie(r,s,n)},"PUBLIC")),fs(new Gr("analytics-internal",t,"PRIVATE")),hr(jA,VA),hr(jA,VA,"esm2017");function t(e){try{const n=e.getProvider(Zm).getImmediate();return{logEvent:(r,s,i)=>SV(n,r,s,i)}}catch(n){throw br.create("interop-component-reg-failed",{reason:n})}}}Wie();const Hie={apiKey:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",authDomain:"cob-chatbot.firebaseapp.com",projectId:"cob-chatbot",storageBucket:"cob-chatbot.appspot.com",messagingSenderId:"275602489097",appId:"1:275602489097:web:5c490d86e9f69e1314ddd8",measurementId:"G-65F7KP2KRQ"},WT=JN(Hie),qie=zie(WT),HT=$ne(WT),Oy=Tse(WT),m_=async(t,e,n)=>{const r=Dy(Oy,`${e}/${n}`),s=await wse(r,t);if(!s.metadata||s.metadata.fullPath!==r.fullPath)throw new Error(`Error uploading file ${t.name}, metadata does not exist or path does not match`);return await xse(s.ref)},bV=async t=>{const e=Dy(Oy,t),n=await bse(e),r=t.split("/").pop()||"unknown_file";return new File([n],r,{type:n.type})},Gie=async(t,e)=>{const n=Dy(Oy,`${t}/${e}`);return await _se(n)},Qie=async t=>{try{const e=Dy(Oy,t);await Ese(e),ke("File deleted successfully!")}catch(e){e instanceof Error&&ke(e.message)}},Yie=async(t,e,n,r=!1)=>{try{const s=PT(HT,t,e);await sre(s,n,{merge:r})}catch(s){s instanceof Error&&ke(s.message)}},Xie=async(t,e)=>{const n=PT(HT,t,e),r=await rre(n);return r.exists()?r.data():(ke("No such document!"),null)},Jie=(t,e,n)=>{try{const r=PT(HT,t,e);return ire(r,i=>{i.exists()?n(i.data()):(ke("No such document!"),n(null))})}catch(r){throw r instanceof Error&&ke(`Error listening to document: ${r}`),r}},CV=t=>{const{file:e}=dt(v=>v.formData),n=dt(v=>v.setFormData),r=dt(v=>v.setFile),[s,i]=m.useState(!1),[o,a]=m.useState(!1),l=m.useRef(null),c=m.useRef(null);return{file:e,setFile:r,isLinkDialogOpen:o,setIsLinkDialogOpen:a,handleInsertLink:(v,w)=>{const E=c.current;if(E){const _=E.selectionStart,y=E.selectionEnd,S=t.substring(0,_)+`<${w}>{=${v}=}`+t.substring(y);n("answer",S),E.focus(),E.setSelectionRange(_+v.length+4,_+w.length+4)}},handleFileChange:async v=>{v.target.files&&v.target.files[0]&&r(v.target.files[0])},handleRemoveFile:async()=>{e&&(n("fileUrl",null),r(null),l.current&&(l.current.value=""))},fileInputRef:l,answerTextAreaRef:c,getFileData:async v=>{try{i(!0);const w=eh(v);if(!w)return;const E=await bV(`knowledge-files/${w}`);r(E)}catch(w){w instanceof Error&&ke(w.message??"An error occured while getting file data",!0),console.error(w)}finally{i(!1)}},isFetchingFileData:s}},Zie=()=>{const t=dt(d=>d.formData),e=dt(d=>d.setFormData),{isLinkDialogOpen:n,setIsLinkDialogOpen:r,handleFileChange:s,handleInsertLink:i,handleRemoveFile:o,fileInputRef:a,answerTextAreaRef:l,getFileData:c,isFetchingFileData:u}=CV(t.answer);return m.useEffect(()=>{(async()=>{await c(t.fileUrl)})()},[t.fileUrl]),f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-fit",children:f.jsx(gy,{tooltip:$Z,children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("label",{className:"cursor-pointer font-medium ",children:"Answer"}),f.jsx(Lg,{className:"size-4 text-[#64748b] cursor-pointer"})]})})}),f.jsx(hj,{answer:t.answer,handleTextChange:e,onFileChange:s,fileRef:a,textAreaRef:l,isLinkDropDownVisible:n,setIsLinkDropDownVisible:r,onInsertLink:i}),u?f.jsx(tt,{className:"w-full h-[70px]"}):t.file?f.jsx(fj,{file:t.file,removeFile:o}):null]})},IV=t=>{const{knowledgeBaseName:e,...n}=t;return{knowledgeBaseName:e,knowledgeEntry:n}},eoe=async()=>{const{success:t,knowledgeBase:e}=await EE("/api/knowledge/base");if(!t)throw new Error("Failed to fetch knowledge collection");return ke(`Fetched knowledge base list: ${e}`),e},toe=async t=>{const{success:e,knowledgeEntry:n}=await EE(`/api/knowledge/${t}`);if(!e)throw new Error(`Failed to fetch knowledge base ${t} entry`);return ke("Fetched knowledge entry"),n},noe=async t=>{const e=IV(t),{success:n,message:r}=await tu("/api/knowledge",{},e);if(!n)throw new Error(r);return ke(r),r},roe=async t=>{const e=IV(t),{success:n,message:r}=await tu("/api/knowledge/entry",{},e);if(!n)throw new Error(r);ke(r)},soe=async(t,e)=>{const n={knowledgeEntryIntent:t,knowledgeEntry:e},{success:r,message:s}=await ey("/api/knowledge/entry",{},n);if(!r)throw new Error(s)},ioe=async t=>{const{knowledgeBaseName:e,newKnowledgeBaseName:n}=t,r={knowledgeBaseName:e,newKnowledgeBaseName:n},{success:s,message:i}=await ey("/api/knowledge/base",{},r);if(!s)throw new Error(i);return i},ooe=async t=>{const{success:e,message:n}=await TE(`/api/knowledge/${t}`);if(!e)throw new Error(n);ke(n)},aoe=async t=>{const{success:e,message:n}=await TE(`/api/knowledge/entry/${t}`);if(!e)throw new Error(n);ke(n)},Xt=Ho(t=>({knowledgeCollection:{},knowledgeBaseNameList:null,selectedKnowledgeBaseEntryList:null,selectedKnowledgeBaseName:"",selectedKnowledgeBaseItem:"",selectedKnowledgeEntry:null,selectedKnowledgeEntryIntentItem:"",updateKnowledgeCollection:e=>{t(()=>({knowledgeCollection:e}))},setKnowledgeBaseNameList:e=>{t(()=>({knowledgeBaseNameList:e}))},setSelectedKnowledgeBaseEntryList:e=>{t(()=>({selectedKnowledgeBaseEntryList:e}))},setSelectedKnowledgeBaseName:e=>{t(()=>({selectedKnowledgeBaseName:e}))},setSelectedKnowledgeBaseItem:e=>{t(()=>({selectedKnowledgeBaseItem:e}))},setSelectedKnowledgeEntry:e=>{t(()=>({selectedKnowledgeEntry:e}))},setSelectedKnowledgeEntryIntentItem:e=>t({selectedKnowledgeEntryIntentItem:e})})),loe="knowledge-files",FA="image",coe=async t=>{const e=`${loe}/${t}`;await Qie(e)},uoe=(t,e)=>{const n=new Set([...Object.keys(t),...Object.keys(e)]);return Array.from(n).reduce((r,s)=>{if(t[s]instanceof Array&&e[s]instanceof Array){t[s].forEach((a,l)=>{if(a!==e[s][l]){r[s]||(r[s]=[]);const c={index:l,value:e[s][l]};r[s].push(c)}});const i=t[s].length,o=e[s].length;if(i<o){ke("The object has a field value of array and their length does not match"),r.newDocuments=[];for(let a=i;a<o;a++){if(!e[s][a]){ke("falsy value");continue}r.newDocuments.push(e[s][a])}}return r}return t[s]!==e[s]&&(r[s]=e[s]),r},{})},doe=1,hoe=1e6;let mw=0;function foe(){return mw=(mw+1)%Number.MAX_SAFE_INTEGER,mw.toString()}const gw=new Map,UA=t=>{if(gw.has(t))return;const e=setTimeout(()=>{gw.delete(t),xd({type:"REMOVE_TOAST",toastId:t})},hoe);gw.set(t,e)},poe=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,doe)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?UA(n):t.toasts.forEach(r=>{UA(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Wp=[];let Hp={toasts:[]};function xd(t){Hp=poe(Hp,t),Wp.forEach(e=>{e(Hp)})}function moe({...t}){const e=foe(),n=s=>xd({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>xd({type:"DISMISS_TOAST",toastId:e});return xd({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function AV(){const[t,e]=m.useState(Hp);return m.useEffect(()=>(Wp.push(e),()=>{const n=Wp.indexOf(e);n>-1&&Wp.splice(n,1)}),[t]),{...t,toast:moe,dismiss:n=>xd({type:"DISMISS_TOAST",toastId:n})}}const cl=()=>{const{toast:t}=AV();return t},BA="knowledge-files",g_=async t=>{try{const n=(await Gie(BA,t.name)).size||0,r=t.size;if(n===r)throw ke(`Knowledge file ${t.name} already exists with the same size, skipping upload`),new Error(`Knowledge file ${t.name} already exist`);ke(`File ${t.name} exists but with a different size. Uploading new file.`)}catch(e){if(e instanceof Rr&&e.code==="storage/object-not-found")return ke(`No exiting file found, uploading the file: ${t.name}`),await m_(t,BA,t.name);throw e}},goe=()=>{const t=cl(),e=Xt(g=>g.selectedKnowledgeEntry),n=Xt(g=>g.setSelectedKnowledgeEntry),r=dt(g=>g.setFormData),s=dt(g=>g.formData),i=dt(g=>g.setDocuments),o=dt(g=>g.clearFormData),[a,l]=m.useState(!1);m.useEffect(()=>{if(!e)return;const{intent:g,documents:v,answer:w,fileUrl:E}=e;return r("intent",g),v.forEach((_,y)=>{i(_,y)}),r("answer",w),r("fileUrl",E),()=>{o()}},[]);const c=async g=>{const v=eh(g);return await bV(`knowledge-files/${v}`)},u=async(g,v)=>{if(!v)return ke("Uploading new file"),await g_(g);const w=await c(v);return w.name===g.name&&w.size===g.size?(ke("Files are the same, will not re-upload"),v):(w.name!==g.name?(ke("File names differ, deleting old file before uploading new one"),await d(v)):ke("File size or name mismatch, uploading updated file"),await g_(g))},d=async g=>{const v=eh(g);if(!v)return ke("Unable to extract filename from the file url",!0);await coe(v)};return{handleSubmitForm:async()=>{if(e)try{l(!0);const{knowledgeBaseName:g,file:v,...w}=s,E=uoe(e,w);console.log(E),"fileUrl"in E&&E.fileUrl===null&&(console.log("Detected file removal, deleting from storage"),await d(e.fileUrl));let _;v&&(console.log("Updating knowledge file"),_=await u(v,e.fileUrl),r("fileUrl",_??null));const y={...w,..._&&{fileUrl:_}};await soe(e.intent,y),ke("Knowledge Entry updated successfully."),console.log("Updated Knowledge EntryL ",y),n(y),t({title:"Knowledge Entry Updated Successfully",description:Kt()})}catch(g){const v=g instanceof Error?g.message:"Unknown error occurred";ke(`Error during form submission: ${v}`),t({title:v,description:Kt(),variant:"destructive"})}finally{l(!1)}},selectedKnowledgeEntry:e,isLoading:a}},qT=({heading:t,description:e})=>f.jsx("div",{className:"h-[450px] md:h-[600px] w-full flex justify-center items-center mt-2 pb-10",children:f.jsxs("section",{className:"flex flex-col justify-center items-center",children:[f.jsx(Lg,{className:"w-12 h-12 text-blue-500 mb-4"}),f.jsx("h2",{className:"text-2xl font-semibold mb-2",children:t}),f.jsx("p",{className:"text-gray-600 mb-4",children:e})]})}),ul=()=>f.jsx(_W,{className:"mr-2 size-5 animate-spin"}),yoe=()=>{const{handleSubmitForm:t,selectedKnowledgeEntry:e,isLoading:n}=goe(),r=Pt(s=>s.admin);return e?f.jsx(HL,{value:"entryDetails",className:"mt-2",children:f.jsx("div",{className:"h-[450px] md:h-[600px] w-full overflow-y-auto text-sm scrollbar-slim",children:f.jsxs("div",{className:"space-y-3 px-4 pb-4",children:[f.jsx(WZ,{}),f.jsx(HZ,{}),f.jsx(Zie,{}),(r==null?void 0:r.role)!=="viewer"&&f.jsx(ut,{variant:"default",disabled:n,onClick:async()=>await t(),className:"w-20",children:n?f.jsx(ul,{}):"Save"})]})})}):f.jsx(qT,{heading:"No Knowledge Entry Selected",description:"Select a knowledge entry to view its contents here."})},PV=({onRenameKnowledge:t,onDeleteKnowledge:e})=>f.jsxs(Xg,{children:[f.jsx(Jg,{asChild:!0,children:f.jsx(lk,{className:"text-zinc-400 size-6 hover:text-zinc-500 transition-colors"})}),f.jsxs(Hh,{align:"end",className:"w-[8rem] text-sm bg-white border border-neutral-300 p-1 rounded-lg shadow-md",children:[t&&f.jsxs(ho,{className:"flex items-center p-1.5 hover:bg-zinc-100 rounded-sm",onClick:n=>{n.stopPropagation(),t()},children:[f.jsx(SW,{className:"mr-2 h-4 w-4"}),f.jsx("p",{children:"Rename"})]}),f.jsxs(ho,{className:"flex items-center p-1.5 hover:bg-zinc-100 rounded-sm text-red-500",onClick:n=>{n.stopPropagation(),e()},children:[f.jsx(fk,{className:"mr-2 h-4 w-4"}),f.jsx("p",{children:"Delete"})]})]})]}),Ci=Ho(t=>({dialogs:{},openDialog:e=>t(n=>({dialogs:{...n.dialogs,[e]:!0}})),closeDialog:e=>t(n=>({dialogs:{...n.dialogs,[e]:!1}})),toggleDialog:e=>t(n=>({dialogs:{...n.dialogs,[e]:!n.dialogs[e]}})),setDialogState:(e,n)=>t(r=>({dialogs:{...r.dialogs,[e]:n}}))})),voe=({intent:t,onItemClick:e})=>{const n=Pt(a=>a.admin),r=Xt(a=>a.selectedKnowledgeEntry),s=Xt(a=>a.setSelectedKnowledgeEntryIntentItem),i=Ci(a=>a.openDialog),o=()=>{s(t),i("showConfirmDeleteKnowledgeEntryDialog")};return f.jsxs("div",{className:`flex justify-between p-2 rounded-md cursor-pointer ${(r==null?void 0:r.intent)===t?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,onClick:e,children:[t,(n==null?void 0:n.role)!=="viewer"&&f.jsx(ut,{className:"bg-transparent hover:bg-transparent size-8 p-0 h-fit ",children:f.jsx(PV,{onDeleteKnowledge:o})})]})},woe=({knowledgeEntries:t,handleTabChange:e})=>{const n=Xt(s=>s.setSelectedKnowledgeEntry),r=s=>{n(s),e("entryDetails")};return f.jsx("div",{className:"space-y-1",children:t==null?void 0:t.map((s,i)=>f.jsx(voe,{intent:s.intent,onItemClick:()=>r(s)},i))})},qp=["knowledgeBaseList"],Gp=["knowledgeEntry"],Vu=["adminList"];var lu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$c=typeof window>"u"||"Deno"in globalThis;function jr(){}function _oe(t,e){return typeof t=="function"?t(e):t}function y_(t){return typeof t=="number"&&t>=0&&t!==1/0}function RV(t,e){return Math.max(t+(e||0)-Date.now(),0)}function oc(t,e){return typeof t=="function"?t(e):t}function is(t,e){return typeof t=="function"?t(e):t}function $A(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==GT(o,e.options))return!1}else if(!ph(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function zA(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Xa(e.options.mutationKey)!==Xa(i))return!1}else if(!ph(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function GT(t,e){return((e==null?void 0:e.queryKeyHashFn)||Xa)(t)}function Xa(t){return JSON.stringify(t,(e,n)=>v_(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function ph(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!ph(t[n],e[n])):!1}function NV(t,e){if(t===e)return t;const n=KA(t)&&KA(e);if(n||v_(t)&&v_(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const u=n?c:i[c];(!n&&r.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=NV(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function eg(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function KA(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function v_(t){if(!WA(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!WA(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function WA(t){return Object.prototype.toString.call(t)==="[object Object]"}function xoe(t){return new Promise(e=>{setTimeout(e,t)})}function w_(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?NV(t,e):e}function Eoe(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Toe(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var DV=Symbol();function kV(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===DV?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Sa,eo,lc,pP,Soe=(pP=class extends lu{constructor(){super();we(this,Sa,void 0);we(this,eo,void 0);we(this,lc,void 0);he(this,lc,e=>{if(!$c&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){V(this,eo)||this.setEventListener(V(this,lc))}onUnsubscribe(){var e;this.hasListeners()||((e=V(this,eo))==null||e.call(this),he(this,eo,void 0))}setEventListener(e){var n;he(this,lc,e),(n=V(this,eo))==null||n.call(this),he(this,eo,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){V(this,Sa)!==e&&(he(this,Sa,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof V(this,Sa)=="boolean"?V(this,Sa):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Sa=new WeakMap,eo=new WeakMap,lc=new WeakMap,pP),QT=new Soe,cc,to,uc,mP,boe=(mP=class extends lu{constructor(){super();we(this,cc,!0);we(this,to,void 0);we(this,uc,void 0);he(this,uc,e=>{if(!$c&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){V(this,to)||this.setEventListener(V(this,uc))}onUnsubscribe(){var e;this.hasListeners()||((e=V(this,to))==null||e.call(this),he(this,to,void 0))}setEventListener(e){var n;he(this,uc,e),(n=V(this,to))==null||n.call(this),he(this,to,e(this.setOnline.bind(this)))}setOnline(e){V(this,cc)!==e&&(he(this,cc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return V(this,cc)}},cc=new WeakMap,to=new WeakMap,uc=new WeakMap,mP),tg=new boe;function Coe(t){return Math.min(1e3*2**t,3e4)}function MV(t){return(t??"online")==="online"?tg.isOnline():!0}var OV=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function yw(t){return t instanceof OV}function LV(t){let e=!1,n=0,r=!1,s,i,o;const a=new Promise((_,y)=>{i=_,o=y}),l=_=>{var y;r||(v(new OV(_)),(y=t.abort)==null||y.call(t))},c=()=>{e=!0},u=()=>{e=!1},d=()=>QT.isFocused()&&(t.networkMode==="always"||tg.isOnline())&&t.canRun(),p=()=>MV(t.networkMode)&&t.canRun(),g=_=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,_),s==null||s(),i(_))},v=_=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,_),s==null||s(),o(_))},w=()=>new Promise(_=>{var y;s=S=>{(r||d())&&_(S)},(y=t.onPause)==null||y.call(t)}).then(()=>{var _;s=void 0,r||(_=t.onContinue)==null||_.call(t)}),E=()=>{if(r)return;let _;const y=n===0?t.initialPromise:void 0;try{_=y??t.fn()}catch(S){_=Promise.reject(S)}Promise.resolve(_).then(g).catch(S=>{var T;if(r)return;const A=t.retry??($c?0:3),D=t.retryDelay??Coe,O=typeof D=="function"?D(n,S):D,C=A===!0||typeof A=="number"&&n<A||typeof A=="function"&&A(n,S);if(e||!C){v(S);return}n++,(T=t.onFail)==null||T.call(t,n,S),xoe(O).then(()=>d()?void 0:w()).then(()=>{e?v(S):E()})})};return{promise:a,cancel:l,continue:()=>(s==null||s(),a),cancelRetry:c,continueRetry:u,canStart:p,start:()=>(p()?E():w().then(E),a)}}function Ioe(){let t=[],e=0,n=p=>{p()},r=p=>{p()},s=p=>setTimeout(p,0);const i=p=>{s=p},o=p=>{let g;e++;try{g=p()}finally{e--,e||c()}return g},a=p=>{e?t.push(p):s(()=>{n(p)})},l=p=>(...g)=>{a(()=>{p(...g)})},c=()=>{const p=t;t=[],p.length&&s(()=>{r(()=>{p.forEach(g=>{n(g)})})})};return{batch:o,batchCalls:l,schedule:a,setNotifyFunction:p=>{n=p},setBatchNotifyFunction:p=>{r=p},setScheduler:i}}var cn=Ioe(),ba,gP,jV=(gP=class{constructor(){we(this,ba,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),y_(this.gcTime)&&he(this,ba,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??($c?1/0:5*60*1e3))}clearGcTimeout(){V(this,ba)&&(clearTimeout(V(this,ba)),he(this,ba,void 0))}},ba=new WeakMap,gP),dc,hc,Lr,kn,mh,Ca,ts,qs,yP,Aoe=(yP=class extends jV{constructor(e){super();we(this,ts);we(this,dc,void 0);we(this,hc,void 0);we(this,Lr,void 0);we(this,kn,void 0);we(this,mh,void 0);we(this,Ca,void 0);he(this,Ca,!1),he(this,mh,e.defaultOptions),this.setOptions(e.options),this.observers=[],he(this,Lr,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,he(this,dc,Poe(this.options)),this.state=e.state??V(this,dc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=V(this,kn))==null?void 0:e.promise}setOptions(e){this.options={...V(this,mh),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&V(this,Lr).remove(this)}setData(e,n){const r=w_(this.state.data,e,this.options);return $e(this,ts,qs).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){$e(this,ts,qs).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=V(this,kn))==null?void 0:r.promise;return(s=V(this,kn))==null||s.cancel(e),n?n.then(jr).catch(jr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(V(this,dc))}isActive(){return this.observers.some(e=>is(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!RV(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=V(this,kn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=V(this,kn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),V(this,Lr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(V(this,kn)&&(V(this,Ca)?V(this,kn).cancel({revert:!0}):V(this,kn).cancelRetry()),this.scheduleGc()),V(this,Lr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||$e(this,ts,qs).call(this,{type:"invalidate"})}fetch(e,n){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(V(this,kn))return V(this,kn).continueRetry(),V(this,kn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(p=>p.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(he(this,Ca,!0),r.signal)})},i=()=>{const d=kV(this.options,n),p={queryKey:this.queryKey,meta:this.meta};return s(p),he(this,Ca,!1),this.options.persister?this.options.persister(d,p,this):d(p)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),he(this,hc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&$e(this,ts,qs).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const a=d=>{var p,g,v,w;yw(d)&&d.silent||$e(this,ts,qs).call(this,{type:"error",error:d}),yw(d)||((g=(p=V(this,Lr).config).onError)==null||g.call(p,d,this),(w=(v=V(this,Lr).config).onSettled)==null||w.call(v,this.state.data,d,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return he(this,kn,LV({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var p,g,v,w;if(d===void 0){a(new Error(`${this.queryHash} data is undefined`));return}this.setData(d),(g=(p=V(this,Lr).config).onSuccess)==null||g.call(p,d,this),(w=(v=V(this,Lr).config).onSettled)==null||w.call(v,d,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:a,onFail:(d,p)=>{$e(this,ts,qs).call(this,{type:"failed",failureCount:d,error:p})},onPause:()=>{$e(this,ts,qs).call(this,{type:"pause"})},onContinue:()=>{$e(this,ts,qs).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),V(this,kn).start()}},dc=new WeakMap,hc=new WeakMap,Lr=new WeakMap,kn=new WeakMap,mh=new WeakMap,Ca=new WeakMap,ts=new WeakSet,qs=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...VV(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return yw(s)&&s.revert&&V(this,hc)?{...V(this,hc),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),cn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),V(this,Lr).notify({query:this,type:"updated",action:e})})},yP);function VV(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:MV(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Poe(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ts,vP,Roe=(vP=class extends lu{constructor(e={}){super();we(this,Ts,void 0);this.config=e,he(this,Ts,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??GT(s,n);let o=this.get(i);return o||(o=new Aoe({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){V(this,Ts).has(e.queryHash)||(V(this,Ts).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=V(this,Ts).get(e.queryHash);n&&(e.destroy(),n===e&&V(this,Ts).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){cn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return V(this,Ts).get(e)}getAll(){return[...V(this,Ts).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>$A(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>$A(e,r)):n}notify(e){cn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){cn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){cn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ts=new WeakMap,vP),Ss,Gn,Ia,bs,zi,wP,Noe=(wP=class extends jV{constructor(e){super();we(this,bs);we(this,Ss,void 0);we(this,Gn,void 0);we(this,Ia,void 0);this.mutationId=e.mutationId,he(this,Gn,e.mutationCache),he(this,Ss,[]),this.state=e.state||FV(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){V(this,Ss).includes(e)||(V(this,Ss).push(e),this.clearGcTimeout(),V(this,Gn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){he(this,Ss,V(this,Ss).filter(n=>n!==e)),this.scheduleGc(),V(this,Gn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){V(this,Ss).length||(this.state.status==="pending"?this.scheduleGc():V(this,Gn).remove(this))}continue(){var e;return((e=V(this,Ia))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,l,c,u,d,p,g,v,w,E,_,y,S,A,D,O,C;he(this,Ia,LV({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(T,I)=>{$e(this,bs,zi).call(this,{type:"failed",failureCount:T,error:I})},onPause:()=>{$e(this,bs,zi).call(this,{type:"pause"})},onContinue:()=>{$e(this,bs,zi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>V(this,Gn).canRun(this)}));const n=this.state.status==="pending",r=!V(this,Ia).canStart();try{if(!n){$e(this,bs,zi).call(this,{type:"pending",variables:e,isPaused:r}),await((i=(s=V(this,Gn).config).onMutate)==null?void 0:i.call(s,e,this));const I=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));I!==this.state.context&&$e(this,bs,zi).call(this,{type:"pending",context:I,variables:e,isPaused:r})}const T=await V(this,Ia).start();return await((c=(l=V(this,Gn).config).onSuccess)==null?void 0:c.call(l,T,e,this.state.context,this)),await((d=(u=this.options).onSuccess)==null?void 0:d.call(u,T,e,this.state.context)),await((g=(p=V(this,Gn).config).onSettled)==null?void 0:g.call(p,T,null,this.state.variables,this.state.context,this)),await((w=(v=this.options).onSettled)==null?void 0:w.call(v,T,null,e,this.state.context)),$e(this,bs,zi).call(this,{type:"success",data:T}),T}catch(T){try{throw await((_=(E=V(this,Gn).config).onError)==null?void 0:_.call(E,T,e,this.state.context,this)),await((S=(y=this.options).onError)==null?void 0:S.call(y,T,e,this.state.context)),await((D=(A=V(this,Gn).config).onSettled)==null?void 0:D.call(A,void 0,T,this.state.variables,this.state.context,this)),await((C=(O=this.options).onSettled)==null?void 0:C.call(O,void 0,T,e,this.state.context)),T}finally{$e(this,bs,zi).call(this,{type:"error",error:T})}}finally{V(this,Gn).runNext(this)}}},Ss=new WeakMap,Gn=new WeakMap,Ia=new WeakMap,bs=new WeakSet,zi=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),cn.batch(()=>{V(this,Ss).forEach(r=>{r.onMutationUpdate(e)}),V(this,Gn).notify({mutation:this,type:"updated",action:e})})},wP);function FV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var gr,gh,_P,Doe=(_P=class extends lu{constructor(e={}){super();we(this,gr,void 0);we(this,gh,void 0);this.config=e,he(this,gr,new Map),he(this,gh,Date.now())}build(e,n,r){const s=new Noe({mutationCache:this,mutationId:++Pf(this,gh)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=fp(e),r=V(this,gr).get(n)??[];r.push(e),V(this,gr).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=fp(e);if(V(this,gr).has(n)){const s=(r=V(this,gr).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?V(this,gr).delete(n):V(this,gr).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=V(this,gr).get(fp(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=V(this,gr).get(fp(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){cn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...V(this,gr).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>zA(n,r))}findAll(e={}){return this.getAll().filter(n=>zA(e,n))}notify(e){cn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return cn.batch(()=>Promise.all(e.map(n=>n.continue().catch(jr))))}},gr=new WeakMap,gh=new WeakMap,_P);function fp(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function koe(t){return{onFetch:(e,n)=>{const r=async()=>{var v,w,E,_,y;const s=e.options,i=(E=(w=(v=e.fetchOptions)==null?void 0:v.meta)==null?void 0:w.fetchMore)==null?void 0:E.direction,o=((_=e.state.data)==null?void 0:_.pages)||[],a=((y=e.state.data)==null?void 0:y.pageParams)||[],l={pages:[],pageParams:[]};let c=!1;const u=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?c=!0:e.signal.addEventListener("abort",()=>{c=!0}),e.signal)})},d=kV(e.options,e.fetchOptions),p=async(S,A,D)=>{if(c)return Promise.reject();if(A==null&&S.pages.length)return Promise.resolve(S);const O={queryKey:e.queryKey,pageParam:A,direction:D?"backward":"forward",meta:e.options.meta};u(O);const C=await d(O),{maxPages:T}=e.options,I=D?Toe:Eoe;return{pages:I(S.pages,C,T),pageParams:I(S.pageParams,A,T)}};let g;if(i&&o.length){const S=i==="backward",A=S?Moe:HA,D={pages:o,pageParams:a},O=A(s,D);g=await p(D,O,S)}else{g=await p(l,a[0]??s.initialPageParam);const S=t??o.length;for(let A=1;A<S;A++){const D=HA(s,g);if(D==null)break;g=await p(g,D)}}return g};e.options.persister?e.fetchFn=()=>{var s,i;return(i=(s=e.options).persister)==null?void 0:i.call(s,r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=r}}}function HA(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Moe(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Bt,no,ro,fc,pc,so,mc,gc,xP,Ooe=(xP=class{constructor(t={}){we(this,Bt,void 0);we(this,no,void 0);we(this,ro,void 0);we(this,fc,void 0);we(this,pc,void 0);we(this,so,void 0);we(this,mc,void 0);we(this,gc,void 0);he(this,Bt,t.queryCache||new Roe),he(this,no,t.mutationCache||new Doe),he(this,ro,t.defaultOptions||{}),he(this,fc,new Map),he(this,pc,new Map),he(this,so,0)}mount(){Pf(this,so)._++,V(this,so)===1&&(he(this,mc,QT.subscribe(async t=>{t&&(await this.resumePausedMutations(),V(this,Bt).onFocus())})),he(this,gc,tg.subscribe(async t=>{t&&(await this.resumePausedMutations(),V(this,Bt).onOnline())})))}unmount(){var t,e;Pf(this,so)._--,V(this,so)===0&&((t=V(this,mc))==null||t.call(this),he(this,mc,void 0),(e=V(this,gc))==null||e.call(this),he(this,gc,void 0))}isFetching(t){return V(this,Bt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return V(this,no).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=V(this,Bt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=V(this,Bt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(oc(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return V(this,Bt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=V(this,Bt).get(r.queryHash),i=s==null?void 0:s.state.data,o=_oe(e,i);if(o!==void 0)return V(this,Bt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return cn.batch(()=>V(this,Bt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=V(this,Bt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=V(this,Bt);cn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=V(this,Bt),r={type:"active",...t};return cn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=cn.batch(()=>V(this,Bt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(jr).catch(jr)}invalidateQueries(t={},e={}){return cn.batch(()=>{if(V(this,Bt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=cn.batch(()=>V(this,Bt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(jr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(jr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=V(this,Bt).build(this,e);return n.isStaleByTime(oc(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(jr).catch(jr)}fetchInfiniteQuery(t){return t.behavior=koe(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(jr).catch(jr)}resumePausedMutations(){return tg.isOnline()?V(this,no).resumePausedMutations():Promise.resolve()}getQueryCache(){return V(this,Bt)}getMutationCache(){return V(this,no)}getDefaultOptions(){return V(this,ro)}setDefaultOptions(t){he(this,ro,t)}setQueryDefaults(t,e){V(this,fc).set(Xa(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...V(this,fc).values()];let n={};return e.forEach(r=>{ph(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){V(this,pc).set(Xa(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...V(this,pc).values()];let n={};return e.forEach(r=>{ph(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...V(this,ro).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=GT(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===DV&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...V(this,ro).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){V(this,Bt).clear(),V(this,no).clear()}},Bt=new WeakMap,no=new WeakMap,ro=new WeakMap,fc=new WeakMap,pc=new WeakMap,so=new WeakMap,mc=new WeakMap,gc=new WeakMap,xP),sr,et,yh,Qn,Aa,yc,Cs,vh,vc,wc,Pa,Ra,io,_c,Na,Zu,wh,__,_h,x_,xh,E_,Eh,T_,Th,S_,Sh,b_,bh,C_,lg,UV,EP,Loe=(EP=class extends lu{constructor(e,n){super();we(this,Na);we(this,wh);we(this,_h);we(this,xh);we(this,Eh);we(this,Th);we(this,Sh);we(this,bh);we(this,lg);we(this,sr,void 0);we(this,et,void 0);we(this,yh,void 0);we(this,Qn,void 0);we(this,Aa,void 0);we(this,yc,void 0);we(this,Cs,void 0);we(this,vh,void 0);we(this,vc,void 0);we(this,wc,void 0);we(this,Pa,void 0);we(this,Ra,void 0);we(this,io,void 0);we(this,_c,new Set);this.options=n,he(this,sr,e),he(this,Cs,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(V(this,et).addObserver(this),qA(V(this,et),this.options)?$e(this,Na,Zu).call(this):this.updateResult(),$e(this,Eh,T_).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return I_(V(this,et),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return I_(V(this,et),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,$e(this,Th,S_).call(this),$e(this,Sh,b_).call(this),V(this,et).removeObserver(this)}setOptions(e,n){const r=this.options,s=V(this,et);if(this.options=V(this,sr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof is(this.options.enabled,V(this,et))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");$e(this,bh,C_).call(this),V(this,et).setOptions(this.options),r._defaulted&&!eg(this.options,r)&&V(this,sr).getQueryCache().notify({type:"observerOptionsUpdated",query:V(this,et),observer:this});const i=this.hasListeners();i&&GA(V(this,et),s,this.options,r)&&$e(this,Na,Zu).call(this),this.updateResult(n),i&&(V(this,et)!==s||is(this.options.enabled,V(this,et))!==is(r.enabled,V(this,et))||oc(this.options.staleTime,V(this,et))!==oc(r.staleTime,V(this,et)))&&$e(this,wh,__).call(this);const o=$e(this,_h,x_).call(this);i&&(V(this,et)!==s||is(this.options.enabled,V(this,et))!==is(r.enabled,V(this,et))||o!==V(this,io))&&$e(this,xh,E_).call(this,o)}getOptimisticResult(e){const n=V(this,sr).getQueryCache().build(V(this,sr),e),r=this.createResult(n,e);return Voe(this,r)&&(he(this,Qn,r),he(this,yc,this.options),he(this,Aa,V(this,et).state)),r}getCurrentResult(){return V(this,Qn)}trackResult(e,n){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),e[s])})}),r}trackProp(e){V(this,_c).add(e)}getCurrentQuery(){return V(this,et)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=V(this,sr).defaultQueryOptions(e),r=V(this,sr).getQueryCache().build(V(this,sr),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){return $e(this,Na,Zu).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),V(this,Qn)))}createResult(e,n){var C;const r=V(this,et),s=this.options,i=V(this,Qn),o=V(this,Aa),a=V(this,yc),c=e!==r?e.state:V(this,yh),{state:u}=e;let d={...u},p=!1,g;if(n._optimisticResults){const T=this.hasListeners(),I=!T&&qA(e,n),P=T&&GA(e,r,n,s);(I||P)&&(d={...d,...VV(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:v,errorUpdatedAt:w,status:E}=d;if(n.select&&d.data!==void 0)if(i&&d.data===(o==null?void 0:o.data)&&n.select===V(this,vh))g=V(this,vc);else try{he(this,vh,n.select),g=n.select(d.data),g=w_(i==null?void 0:i.data,g,n),he(this,vc,g),he(this,Cs,null)}catch(T){he(this,Cs,T)}else g=d.data;if(n.placeholderData!==void 0&&g===void 0&&E==="pending"){let T;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))T=i.data;else if(T=typeof n.placeholderData=="function"?n.placeholderData((C=V(this,wc))==null?void 0:C.state.data,V(this,wc)):n.placeholderData,n.select&&T!==void 0)try{T=n.select(T),he(this,Cs,null)}catch(I){he(this,Cs,I)}T!==void 0&&(E="success",g=w_(i==null?void 0:i.data,T,n),p=!0)}V(this,Cs)&&(v=V(this,Cs),g=V(this,vc),w=Date.now(),E="error");const _=d.fetchStatus==="fetching",y=E==="pending",S=E==="error",A=y&&_,D=g!==void 0;return{status:E,fetchStatus:d.fetchStatus,isPending:y,isSuccess:E==="success",isError:S,isInitialLoading:A,isLoading:A,data:g,dataUpdatedAt:d.dataUpdatedAt,error:v,errorUpdatedAt:w,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:_,isRefetching:_&&!y,isLoadingError:S&&!D,isPaused:d.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:S&&D,isStale:YT(e,n),refetch:this.refetch}}updateResult(e){const n=V(this,Qn),r=this.createResult(V(this,et),this.options);if(he(this,Aa,V(this,et).state),he(this,yc,this.options),V(this,Aa).data!==void 0&&he(this,wc,V(this,et)),eg(r,n))return;he(this,Qn,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!V(this,_c).size)return!0;const l=new Set(a??V(this,_c));return this.options.throwOnError&&l.add("error"),Object.keys(V(this,Qn)).some(c=>{const u=c;return V(this,Qn)[u]!==n[u]&&l.has(u)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),$e(this,lg,UV).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&$e(this,Eh,T_).call(this)}},sr=new WeakMap,et=new WeakMap,yh=new WeakMap,Qn=new WeakMap,Aa=new WeakMap,yc=new WeakMap,Cs=new WeakMap,vh=new WeakMap,vc=new WeakMap,wc=new WeakMap,Pa=new WeakMap,Ra=new WeakMap,io=new WeakMap,_c=new WeakMap,Na=new WeakSet,Zu=function(e){$e(this,bh,C_).call(this);let n=V(this,et).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(jr)),n},wh=new WeakSet,__=function(){$e(this,Th,S_).call(this);const e=oc(this.options.staleTime,V(this,et));if($c||V(this,Qn).isStale||!y_(e))return;const r=RV(V(this,Qn).dataUpdatedAt,e)+1;he(this,Pa,setTimeout(()=>{V(this,Qn).isStale||this.updateResult()},r))},_h=new WeakSet,x_=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(V(this,et)):this.options.refetchInterval)??!1},xh=new WeakSet,E_=function(e){$e(this,Sh,b_).call(this),he(this,io,e),!($c||is(this.options.enabled,V(this,et))===!1||!y_(V(this,io))||V(this,io)===0)&&he(this,Ra,setInterval(()=>{(this.options.refetchIntervalInBackground||QT.isFocused())&&$e(this,Na,Zu).call(this)},V(this,io)))},Eh=new WeakSet,T_=function(){$e(this,wh,__).call(this),$e(this,xh,E_).call(this,$e(this,_h,x_).call(this))},Th=new WeakSet,S_=function(){V(this,Pa)&&(clearTimeout(V(this,Pa)),he(this,Pa,void 0))},Sh=new WeakSet,b_=function(){V(this,Ra)&&(clearInterval(V(this,Ra)),he(this,Ra,void 0))},bh=new WeakSet,C_=function(){const e=V(this,sr).getQueryCache().build(V(this,sr),this.options);if(e===V(this,et))return;const n=V(this,et);he(this,et,e),he(this,yh,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},lg=new WeakSet,UV=function(e){cn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(V(this,Qn))}),V(this,sr).getQueryCache().notify({query:V(this,et),type:"observerResultsUpdated"})})},EP);function joe(t,e){return is(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function qA(t,e){return joe(t,e)||t.state.data!==void 0&&I_(t,e,e.refetchOnMount)}function I_(t,e,n){if(is(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&YT(t,e)}return!1}function GA(t,e,n,r){return(t!==e||is(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&YT(t,n)}function YT(t,e){return is(e.enabled,t)!==!1&&t.isStaleByTime(oc(e.staleTime,t))}function Voe(t,e){return!eg(t.getCurrentResult(),e)}var oo,ao,ir,Ys,xc,Qp,Ch,A_,TP,Foe=(TP=class extends lu{constructor(n,r){super();we(this,xc);we(this,Ch);we(this,oo,void 0);we(this,ao,void 0);we(this,ir,void 0);we(this,Ys,void 0);he(this,oo,n),this.setOptions(r),this.bindMethods(),$e(this,xc,Qp).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=V(this,oo).defaultMutationOptions(n),eg(this.options,r)||V(this,oo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:V(this,ir),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Xa(r.mutationKey)!==Xa(this.options.mutationKey)?this.reset():((s=V(this,ir))==null?void 0:s.state.status)==="pending"&&V(this,ir).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=V(this,ir))==null||n.removeObserver(this)}onMutationUpdate(n){$e(this,xc,Qp).call(this),$e(this,Ch,A_).call(this,n)}getCurrentResult(){return V(this,ao)}reset(){var n;(n=V(this,ir))==null||n.removeObserver(this),he(this,ir,void 0),$e(this,xc,Qp).call(this),$e(this,Ch,A_).call(this)}mutate(n,r){var s;return he(this,Ys,r),(s=V(this,ir))==null||s.removeObserver(this),he(this,ir,V(this,oo).getMutationCache().build(V(this,oo),this.options)),V(this,ir).addObserver(this),V(this,ir).execute(n)}},oo=new WeakMap,ao=new WeakMap,ir=new WeakMap,Ys=new WeakMap,xc=new WeakSet,Qp=function(){var r;const n=((r=V(this,ir))==null?void 0:r.state)??FV();he(this,ao,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Ch=new WeakSet,A_=function(n){cn.batch(()=>{var r,s,i,o,a,l,c,u;if(V(this,Ys)&&this.hasListeners()){const d=V(this,ao).variables,p=V(this,ao).context;(n==null?void 0:n.type)==="success"?((s=(r=V(this,Ys)).onSuccess)==null||s.call(r,n.data,d,p),(o=(i=V(this,Ys)).onSettled)==null||o.call(i,n.data,null,d,p)):(n==null?void 0:n.type)==="error"&&((l=(a=V(this,Ys)).onError)==null||l.call(a,n.error,d,p),(u=(c=V(this,Ys)).onSettled)==null||u.call(c,void 0,n.error,d,p))}this.listeners.forEach(d=>{d(V(this,ao))})})},TP),BV=m.createContext(void 0),cu=t=>{const e=m.useContext(BV);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Uoe=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(BV.Provider,{value:t,children:e})),$V=m.createContext(!1),Boe=()=>m.useContext($V);$V.Provider;function $oe(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var zoe=m.createContext($oe()),Koe=()=>m.useContext(zoe);function zV(t,e){return typeof t=="function"?t(...e):!!t}function Woe(){}var Hoe=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},qoe=t=>{m.useEffect(()=>{t.clearReset()},[t])},Goe=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&zV(n,[t.error,r]),Qoe=t=>{t.suspense&&(typeof t.staleTime!="number"&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},Yoe=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Xoe=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Joe(t,e,n){var c,u,d,p;const r=cu(),s=Boe(),i=Koe(),o=r.defaultQueryOptions(t);(u=(c=r.getDefaultOptions().queries)==null?void 0:c._experimental_beforeQuery)==null||u.call(c,o),o._optimisticResults=s?"isRestoring":"optimistic",Qoe(o),Hoe(o,i),qoe(i);const[a]=m.useState(()=>new e(r,o)),l=a.getOptimisticResult(o);if(m.useSyncExternalStore(m.useCallback(g=>{const v=s?()=>{}:a.subscribe(cn.batchCalls(g));return a.updateResult(),v},[a,s]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),m.useEffect(()=>{a.setOptions(o,{listeners:!1})},[o,a]),Yoe(o,l))throw Xoe(o,a,i);if(Goe({result:l,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw l.error;return(p=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_afterQuery)==null||p.call(d,o,l),o.notifyOnChangeProps?l:a.trackResult(l)}function XT(t,e){return Joe(t,Loe)}function si(t,e){const n=cu(),[r]=m.useState(()=>new Foe(n,t));m.useEffect(()=>{r.setOptions(t)},[r,t]);const s=m.useSyncExternalStore(m.useCallback(o=>r.subscribe(cn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=m.useCallback((o,a)=>{r.mutate(o,a).catch(Woe)},[r]);if(s.error&&zV(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const KV=({label:t,onButtonClick:e})=>f.jsxs(ut,{variant:"outline",size:"sm",className:"mb-2 hover:bg-gray-100 h-10",onClick:e,children:[f.jsx(Uh,{className:"w-4 h-4 mr-0 md:mr-2"}),f.jsx("p",{className:"hidden md:block",children:t})]}),WV=()=>f.jsxs("div",{className:"h-[450px] md:h-[600px] w-full px-4 flex flex-col pb-4 mt-2",children:[f.jsxs("div",{className:"flex mb-7 space-x-4",children:[f.jsx(tt,{className:"flex-grow h-10 bg-lightGray-darker"}),f.jsx(tt,{className:"h-10 w-[42px] md:w-[198.85px] bg-lightGray-darker"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(tt,{className:"h-[20px] w-[20rem] bg-lightGray-darker"}),f.jsx(tt,{className:"h-[20px] w-[10rem] bg-lightGray-darker"})]})]}),Wr=Ho(t=>({isModalVisible:!1,modalMode:"BASE",openModal:()=>{t(()=>({isModalVisible:!0}))},closeModal:()=>{t(()=>({isModalVisible:!1}))},setMode:e=>{t(()=>({modalMode:e}))}})),Zoe=()=>{const t=Wr(i=>i.openModal),e=Wr(i=>i.setMode),n=dt(i=>i.clearFormData),r=Xt(i=>i.selectedKnowledgeBaseName);return{handleOpenKnowledgeForm:async i=>{if(!r)return window.alert("No Knowledge Base Selected cannot add a knowledge entry");n(),e(i),t()},openModal:t,setMode:e,clearFormData:n}},HV=()=>{const[t,e]=m.useState("");return{filter:t,handleFilterChange:r=>{e(r)}}};function eae(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=d=>{var _;const{scope:p,children:g,...v}=d,w=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,E=m.useMemo(()=>v,Object.values(v));return f.jsx(w.Provider,{value:E,children:g})};c.displayName=i+"Provider";function u(d,p){var w;const g=((w=p==null?void 0:p[t])==null?void 0:w[l])||a,v=m.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,tae(s,...e)]}function tae(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function nae(t,e){const n=m.createContext(e),r=i=>{const{children:o,...a}=i,l=m.useMemo(()=>a,Object.values(a));return f.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=m.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function rae(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=d=>{var _;const{scope:p,children:g,...v}=d,w=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,E=m.useMemo(()=>v,Object.values(v));return f.jsx(w.Provider,{value:E,children:g})};c.displayName=i+"Provider";function u(d,p){var w;const g=((w=p==null?void 0:p[t])==null?void 0:w[l])||a,v=m.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,sae(s,...e)]}function sae(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var iae="DismissableLayer",P_="dismissableLayer.update",oae="dismissableLayer.pointerDownOutside",aae="dismissableLayer.focusOutside",QA,qV=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),GV=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(qV),[u,d]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),v=Me(e,C=>d(C)),w=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=w.indexOf(E),y=u?w.indexOf(u):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,A=y>=_,D=uae(C=>{const T=C.target,I=[...c.branches].some(P=>P.contains(T));!A||I||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),O=dae(C=>{const T=C.target;[...c.branches].some(P=>P.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return Bh(C=>{y===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(QA=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),YA(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=QA)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),YA())},[u,c]),m.useEffect(()=>{const C=()=>g({});return document.addEventListener(P_,C),()=>document.removeEventListener(P_,C)},[]),f.jsx(xe.div,{...l,ref:v,style:{pointerEvents:S?A?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,D.onPointerDownCapture)})});GV.displayName=iae;var lae="DismissableLayerBranch",cae=m.forwardRef((t,e)=>{const n=m.useContext(qV),r=m.useRef(null),s=Me(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(xe.div,{...t,ref:s})});cae.displayName=lae;function uae(t,e=globalThis==null?void 0:globalThis.document){const n=Dt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){QV(oae,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function dae(t,e=globalThis==null?void 0:globalThis.document){const n=Dt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&QV(aae,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function YA(){const t=new CustomEvent(P_);document.dispatchEvent(t)}function QV(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?sl(s,i):s.dispatchEvent(i)}var hae="Portal",YV=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Rt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Dh.createPortal(f.jsx(xe.div,{...r,ref:e}),o):null});YV.displayName=hae;function fae(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var Ly=t=>{const{present:e,children:n}=t,r=pae(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=Me(r.ref,mae(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};Ly.displayName="Presence";function pae(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=fae(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=pp(r.current);i.current=a==="mounted"?c:"none"},[a]),Rt(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=pp(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Rt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=g=>{const w=pp(r.current).includes(g.animationName);if(g.target===e&&w&&(l("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},p=g=>{g.target===e&&(i.current=pp(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function pp(t){return(t==null?void 0:t.animationName)||"none"}function mae(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var JT="Dialog",[XV,JV]=rae(JT),[gae,gs]=XV(JT),ZV=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=m.useRef(null),l=m.useRef(null),[c=!1,u]=No({prop:r,defaultProp:s,onChange:i});return f.jsx(gae,{scope:e,triggerRef:a,contentRef:l,contentId:ds(),titleId:ds(),descriptionId:ds(),open:c,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(d=>!d),[u]),modal:o,children:n})};ZV.displayName=JT;var eF="DialogTrigger",tF=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=gs(eF,n),i=Me(e,s.triggerRef);return f.jsx(xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":tS(s.open),...r,ref:i,onClick:ee(t.onClick,s.onOpenToggle)})});tF.displayName=eF;var ZT="DialogPortal",[yae,nF]=XV(ZT,{forceMount:void 0}),rF=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=gs(ZT,e);return f.jsx(yae,{scope:e,forceMount:n,children:m.Children.map(r,o=>f.jsx(Ly,{present:n||i.open,children:f.jsx(YV,{asChild:!0,container:s,children:o})}))})};rF.displayName=ZT;var ng="DialogOverlay",sF=m.forwardRef((t,e)=>{const n=nF(ng,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=gs(ng,t.__scopeDialog);return i.modal?f.jsx(Ly,{present:r||i.open,children:f.jsx(vae,{...s,ref:e})}):null});sF.displayName=ng;var vae=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=gs(ng,n);return f.jsx(Gg,{as:Do,allowPinchZoom:!0,shards:[s.contentRef],children:f.jsx(xe.div,{"data-state":tS(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ja="DialogContent",iF=m.forwardRef((t,e)=>{const n=nF(Ja,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=gs(Ja,t.__scopeDialog);return f.jsx(Ly,{present:r||i.open,children:i.modal?f.jsx(wae,{...s,ref:e}):f.jsx(_ae,{...s,ref:e})})});iF.displayName=Ja;var wae=m.forwardRef((t,e)=>{const n=gs(Ja,t.__scopeDialog),r=m.useRef(null),s=Me(e,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return uE(i)},[]),f.jsx(oF,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ee(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ee(t.onFocusOutside,i=>i.preventDefault())})}),_ae=m.forwardRef((t,e)=>{const n=gs(Ja,t.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return f.jsx(oF,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),oF=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=gs(Ja,n),l=m.useRef(null),c=Me(e,l);return Xx(),f.jsxs(f.Fragment,{children:[f.jsx(Bg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:f.jsx(GV,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":tS(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(Eae,{titleId:a.titleId}),f.jsx(Sae,{contentRef:l,descriptionId:a.descriptionId})]})]})}),eS="DialogTitle",aF=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=gs(eS,n);return f.jsx(xe.h2,{id:s.titleId,...r,ref:e})});aF.displayName=eS;var lF="DialogDescription",cF=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=gs(lF,n);return f.jsx(xe.p,{id:s.descriptionId,...r,ref:e})});cF.displayName=lF;var uF="DialogClose",dF=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=gs(uF,n);return f.jsx(xe.button,{type:"button",...r,ref:e,onClick:ee(t.onClick,()=>s.onOpenChange(!1))})});dF.displayName=uF;function tS(t){return t?"open":"closed"}var hF="DialogTitleWarning",[xae,fF]=nae(hF,{contentName:Ja,titleName:eS,docsSlug:"dialog"}),Eae=({titleId:t})=>{const e=fF(hF),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Tae="DialogDescriptionWarning",Sae=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${fF(Tae).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},pF=ZV,bae=tF,mF=rF,nS=sF,rS=iF,sS=aF,iS=cF,oS=dF,gF="AlertDialog",[Cae,nde]=eae(gF,[JV]),Pi=JV(),yF=t=>{const{__scopeAlertDialog:e,...n}=t,r=Pi(e);return f.jsx(pF,{...r,...n,modal:!0})};yF.displayName=gF;var Iae="AlertDialogTrigger",Aae=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Pi(n);return f.jsx(bae,{...s,...r,ref:e})});Aae.displayName=Iae;var Pae="AlertDialogPortal",vF=t=>{const{__scopeAlertDialog:e,...n}=t,r=Pi(e);return f.jsx(mF,{...r,...n})};vF.displayName=Pae;var Rae="AlertDialogOverlay",wF=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Pi(n);return f.jsx(nS,{...s,...r,ref:e})});wF.displayName=Rae;var ac="AlertDialogContent",[Nae,Dae]=Cae(ac),_F=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=Pi(n),o=m.useRef(null),a=Me(e,o),l=m.useRef(null);return f.jsx(xae,{contentName:ac,titleName:xF,docsSlug:"alert-dialog",children:f.jsx(Nae,{scope:n,cancelRef:l,children:f.jsxs(rS,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:ee(s.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=l.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[f.jsx(Yx,{children:r}),f.jsx(Mae,{contentRef:o})]})})})});_F.displayName=ac;var xF="AlertDialogTitle",EF=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Pi(n);return f.jsx(sS,{...s,...r,ref:e})});EF.displayName=xF;var TF="AlertDialogDescription",SF=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Pi(n);return f.jsx(iS,{...s,...r,ref:e})});SF.displayName=TF;var kae="AlertDialogAction",bF=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Pi(n);return f.jsx(oS,{...s,...r,ref:e})});bF.displayName=kae;var CF="AlertDialogCancel",IF=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=Dae(CF,n),i=Pi(n),o=Me(e,s);return f.jsx(oS,{...i,...r,ref:o})});IF.displayName=CF;var Mae=({contentRef:t})=>{const e=`\`${ac}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ac}\` by passing a \`${TF}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ac}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Oae=yF,Lae=vF,AF=wF,PF=_F,RF=bF,NF=IF,DF=EF,kF=SF;const jae=Oae,Vae=Lae,MF=m.forwardRef(({className:t,...e},n)=>f.jsx(AF,{className:de("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));MF.displayName=AF.displayName;const OF=m.forwardRef(({className:t,...e},n)=>f.jsxs(Vae,{children:[f.jsx(MF,{}),f.jsx(PF,{ref:n,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));OF.displayName=PF.displayName;const LF=({className:t,...e})=>f.jsx("div",{className:de("flex flex-col space-y-2 text-center sm:text-left",t),...e});LF.displayName="AlertDialogHeader";const jF=({className:t,...e})=>f.jsx("div",{className:de("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});jF.displayName="AlertDialogFooter";const VF=m.forwardRef(({className:t,...e},n)=>f.jsx(DF,{ref:n,className:de("text-lg font-semibold",t),...e}));VF.displayName=DF.displayName;const FF=m.forwardRef(({className:t,...e},n)=>f.jsx(kF,{ref:n,className:de("text-sm text-muted-foreground",t),...e}));FF.displayName=kF.displayName;const UF=m.forwardRef(({className:t,...e},n)=>f.jsx(RF,{ref:n,className:de(CE(),t),...e}));UF.displayName=RF.displayName;const BF=m.forwardRef(({className:t,...e},n)=>f.jsx(NF,{ref:n,className:de(CE({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));BF.displayName=NF.displayName;const aS=({isOpen:t,setDialogState:e,onDelete:n,message:r})=>{const s=async()=>{e(!1),await n()},i=()=>{e(!1)};return f.jsx(jae,{open:t,onOpenChange:o=>{e(o),setTimeout(()=>{o||(document.body.style.pointerEvents="")},100)},children:f.jsxs(OF,{children:[f.jsxs(LF,{children:[f.jsx(VF,{children:"Are you sure you want to delete?"}),f.jsx(FF,{children:r})]}),f.jsxs(jF,{children:[f.jsx(BF,{onClick:i,children:"Cancel"}),f.jsx(UF,{onClick:s,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})},Fae={1:"Base",2:"Entry",3:"Verify"},Uae={1:"Entry",2:"Verify"},$F={base:"This action cannot be undone. This will permanently delete the knowledge base.",entry:"This action cannot be undone. This will permanently delete the knowledge entry."},Bae=({onTabChange:t})=>{const{handleOpenKnowledgeForm:e}=Zoe(),n=cl(),r=cu(),{filter:s,handleFilterChange:i}=HV(),o=Pt(_=>_.admin),a=Xt(_=>_.selectedKnowledgeBaseName),l=Xt(_=>_.selectedKnowledgeEntryIntentItem),c=Xt(_=>_.setSelectedKnowledgeEntryIntentItem),u=Ci(_=>_.dialogs),d=Ci(_=>_.setDialogState),{data:p,isLoading:g}=XT({queryFn:()=>toe(a),queryKey:Gp,enabled:!!a}),{mutateAsync:v}=si({mutationFn:aoe,onSuccess:()=>{r.invalidateQueries({queryKey:Gp}),n({title:`Knowledge Entry with intent ${l} deleted`,description:Kt()})},onError:_=>{n({title:_==null?void 0:_.message,description:Kt()}),ke(_.message||"An Unexpected error occured while deleting knowledge base")}}),w=async()=>{if(!l)throw new Error("No knowledge entry intent selected cannot delete");await v(`${a}&${l}`),c("")},E=m.useMemo(()=>p==null?void 0:p.filter(_=>_.intent.toLowerCase().includes(s.toLowerCase())),[p,s]);return m.useEffect(()=>()=>{r.resetQueries({queryKey:Gp})},[]),g?f.jsx(WV,{}):p?f.jsxs(dy,{value:"knowledgeEntry",className:"mt-2",children:[f.jsxs("div",{className:"h-[450px] md:h-[600px] w-full px-4 flex flex-col pb-4 overflow-y-auto scrollbar-slim",children:[f.jsxs("div",{className:"flex mb-2 space-x-4",children:[f.jsx(on,{className:"flex-grow outline-none focus:outline-none",placeholder:"Search knowledge base...",onChange:_=>i(_.target.value)}),(o==null?void 0:o.role)!=="viewer"&&f.jsx(KV,{label:"Add Knowledge Entry",onButtonClick:()=>e(FZ.entry)})]}),f.jsx(woe,{knowledgeEntries:E,handleTabChange:t})]}),u.showConfirmDeleteKnowledgeEntryDialog&&f.jsx(aS,{isOpen:u.showConfirmDeleteKnowledgeEntryDialog,setDialogState:_=>d("showConfirmDeleteKnowledgeEntryDialog",_),onDelete:w,message:$F.entry})]}):f.jsx(qT,{heading:"No Knowledge Base Selected",description:"Select a knowledge base category to view its contents here."})},zF=t=>{const[e,n]=m.useState(t);return{currentTab:e,setCurrentTab:n,setActiveTab:s=>{n(s)}}},$ae=({base:t,onItemClick:e})=>{const n=Pt(l=>l.admin),r=Xt(l=>l.selectedKnowledgeBaseName),s=Xt(l=>l.setSelectedKnowledgeBaseItem),i=Ci(l=>l.openDialog),o=()=>{s(t),i("showRenameKnowledgeBaseDialog")},a=()=>{s(t),i("showConfirmDeleteKnowledgeBaseDialog")};return f.jsxs("div",{className:`flex justify-between p-2 rounded-md cursor-pointer transition-colors ${r===t?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,onClick:()=>e(t),children:[t,(n==null?void 0:n.role)!=="viewer"&&f.jsx(ut,{className:"bg-transparent hover:bg-transparent size-8 p-0 h-fit",children:f.jsx(PV,{onRenameKnowledge:o,onDeleteKnowledge:a})})]})},zae=({knowledgeBaseNameList:t,handleTabChange:e})=>{const n=Xt(i=>i.setSelectedKnowledgeBaseName),r=Xt(i=>i.selectedKnowledgeBaseName),s=i=>{e("knowledgeEntry"),r!==i&&n(i)};return f.jsx("div",{children:f.jsx(ty,{listStyle:"space-y-2",items:t,renderItem:i=>f.jsx($ae,{base:i,onItemClick:s})})})},jy=pF,Kae=mF,KF=m.forwardRef(({className:t,...e},n)=>f.jsx(nS,{ref:n,className:de("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));KF.displayName=nS.displayName;const lf=m.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(Kae,{children:[f.jsx(KF,{}),f.jsxs(rS,{ref:r,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,f.jsxs(oS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[f.jsx(jg,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));lf.displayName=rS.displayName;const cf=({className:t,...e})=>f.jsx("div",{className:de("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});cf.displayName="DialogHeader";const Vy=({className:t,...e})=>f.jsx("div",{className:de("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Vy.displayName="DialogFooter";const uf=m.forwardRef(({className:t,...e},n)=>f.jsx(sS,{ref:n,className:de("text-lg font-semibold leading-none tracking-tight",t),...e}));uf.displayName=sS.displayName;const df=m.forwardRef(({className:t,...e},n)=>f.jsx(iS,{ref:n,className:de("text-sm text-muted-foreground",t),...e}));df.displayName=iS.displayName;var hf=t=>t.type==="checkbox",Ta=t=>t instanceof Date,Jn=t=>t==null;const WF=t=>typeof t=="object";var Jt=t=>!Jn(t)&&!Array.isArray(t)&&WF(t)&&!Ta(t),HF=t=>Jt(t)&&t.target?hf(t.target)?t.target.checked:t.target.value:t,Wae=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,qF=(t,e)=>t.has(Wae(e)),Hae=t=>{const e=t.constructor&&t.constructor.prototype;return Jt(e)&&e.hasOwnProperty("isPrototypeOf")},lS=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function rr(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(lS&&(t instanceof Blob||t instanceof FileList))&&(n||Jt(t)))if(e=n?[]:{},!n&&!Hae(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=rr(t[r]));else return t;return e}var Fy=t=>Array.isArray(t)?t.filter(Boolean):[],zt=t=>t===void 0,oe=(t,e,n)=>{if(!e||!Jt(t))return n;const r=Fy(e.split(/[,[\].]+?/)).reduce((s,i)=>Jn(s)?s:s[i],t);return zt(r)||r===t?zt(t[e])?n:t[e]:r},Vr=t=>typeof t=="boolean",cS=t=>/^\w*$/.test(t),GF=t=>Fy(t.replace(/["|']|\]/g,"").split(/\.|\[/)),wt=(t,e,n)=>{let r=-1;const s=cS(e)?[e]:GF(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let l=n;if(r!==o){const c=t[a];l=Jt(c)||Array.isArray(c)?c:isNaN(+s[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const rg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},os={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Hs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},qae=Ke.createContext(null),uS=()=>Ke.useContext(qae);var QF=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==os.all&&(e._proxyFormState[o]=!r||os.all),n&&(n[o]=!0),t[o]}});return s},or=t=>Jt(t)&&!Object.keys(t).length,YF=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return or(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||os.all))},Ed=t=>Array.isArray(t)?t:[t],XF=(t,e,n)=>!t||!e||t===e||Ed(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function dS(t){const e=Ke.useRef(t);e.current=t,Ke.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function Gae(t){const e=uS(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,a]=Ke.useState(n._formState),l=Ke.useRef(!0),c=Ke.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=Ke.useRef(s);return u.current=s,dS({disabled:r,next:d=>l.current&&XF(u.current,d.name,i)&&YF(d,c.current,n._updateFormState)&&a({...n._formState,...d}),subject:n._subjects.state}),Ke.useEffect(()=>(l.current=!0,c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),QF(o,n,c.current,!1)}var Rs=t=>typeof t=="string",JF=(t,e,n,r,s)=>Rs(t)?(r&&e.watch.add(t),oe(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),oe(n,i))):(r&&(e.watchAll=!0),n);function Qae(t){const e=uS(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o}=t||{},a=Ke.useRef(r);a.current=r,dS({disabled:i,subject:n._subjects.values,next:u=>{XF(a.current,u.name,o)&&c(rr(JF(a.current,n._names,u.values||n._formValues,!1,s)))}});const[l,c]=Ke.useState(n._getWatch(r,s));return Ke.useEffect(()=>n._removeUnmounted()),l}function Yae(t){const e=uS(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i}=t,o=qF(s._names.array,n),a=Qae({control:s,name:n,defaultValue:oe(s._formValues,n,oe(s._defaultValues,n,t.defaultValue)),exact:!0}),l=Gae({control:s,name:n,exact:!0}),c=Ke.useRef(s.register(n,{...t.rules,value:a,...Vr(t.disabled)?{disabled:t.disabled}:{}}));return Ke.useEffect(()=>{const u=s._options.shouldUnregister||i,d=(p,g)=>{const v=oe(s._fields,p);v&&v._f&&(v._f.mount=g)};if(d(n,!0),u){const p=rr(oe(s._options.defaultValues,n));wt(s._defaultValues,n,p),zt(oe(s._formValues,n))&&wt(s._formValues,n,p)}return()=>{(o?u&&!s._state.action:u)?s.unregister(n):d(n,!1)}},[n,s,o,i]),Ke.useEffect(()=>{oe(s._fields,n)&&s._updateDisabledField({disabled:r,fields:s._fields,name:n,value:oe(s._fields,n)._f.value})},[r,n,s]),{field:{name:n,value:a,...Vr(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:Ke.useCallback(u=>c.current.onChange({target:{value:HF(u),name:n},type:rg.CHANGE}),[n]),onBlur:Ke.useCallback(()=>c.current.onBlur({target:{value:oe(s._formValues,n),name:n},type:rg.BLUR}),[n,s]),ref:Ke.useCallback(u=>{const d=oe(s._fields,n);d&&u&&(d._f.ref={focus:()=>u.focus(),select:()=>u.select(),setCustomValidity:p=>u.setCustomValidity(p),reportValidity:()=>u.reportValidity()})},[s._fields,n])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!oe(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!oe(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!oe(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!oe(l.validatingFields,n)},error:{enumerable:!0,get:()=>oe(l.errors,n)}})}}const Xae=t=>t.render(Yae(t));var Jae=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},XA=t=>({isOnSubmit:!t||t===os.onSubmit,isOnBlur:t===os.onBlur,isOnChange:t===os.onChange,isOnAll:t===os.all,isOnTouch:t===os.onTouched}),JA=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Td=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=oe(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Td(a,e))break}else if(Jt(a)&&Td(a,e))break}}};var Zae=(t,e,n)=>{const r=Ed(oe(t,n));return wt(r,"root",e[n]),wt(t,n,r),t},hS=t=>t.type==="file",ii=t=>typeof t=="function",sg=t=>{if(!lS)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Yp=t=>Rs(t),fS=t=>t.type==="radio",ig=t=>t instanceof RegExp;const ZA={value:!1,isValid:!1},eP={value:!0,isValid:!0};var ZF=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!zt(t[0].attributes.value)?zt(t[0].value)||t[0].value===""?eP:{value:t[0].value,isValid:!0}:eP:ZA}return ZA};const tP={isValid:!1,value:null};var eU=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,tP):tP;function nP(t,e,n="validate"){if(Yp(t)||Array.isArray(t)&&t.every(Yp)||Vr(t)&&!t)return{type:n,message:Yp(t)?t:"",ref:e}}var Sl=t=>Jt(t)&&!ig(t)?t:{value:t,message:""},rP=async(t,e,n,r,s)=>{const{ref:i,refs:o,required:a,maxLength:l,minLength:c,min:u,max:d,pattern:p,validate:g,name:v,valueAsNumber:w,mount:E,disabled:_}=t._f,y=oe(e,v);if(!E||_)return{};const S=o?o[0]:i,A=k=>{r&&S.reportValidity&&(S.setCustomValidity(Vr(k)?"":k||""),S.reportValidity())},D={},O=fS(i),C=hf(i),T=O||C,I=(w||hS(i))&&zt(i.value)&&zt(y)||sg(i)&&i.value===""||y===""||Array.isArray(y)&&!y.length,P=Jae.bind(null,v,n,D),M=(k,N,H,ae=Hs.maxLength,te=Hs.minLength)=>{const ne=k?N:H;D[v]={type:k?ae:te,message:ne,ref:i,...P(k?ae:te,ne)}};if(s?!Array.isArray(y)||!y.length:a&&(!T&&(I||Jn(y))||Vr(y)&&!y||C&&!ZF(o).isValid||O&&!eU(o).isValid)){const{value:k,message:N}=Yp(a)?{value:!!a,message:a}:Sl(a);if(k&&(D[v]={type:Hs.required,message:N,ref:S,...P(Hs.required,N)},!n))return A(N),D}if(!I&&(!Jn(u)||!Jn(d))){let k,N;const H=Sl(d),ae=Sl(u);if(!Jn(y)&&!isNaN(y)){const te=i.valueAsNumber||y&&+y;Jn(H.value)||(k=te>H.value),Jn(ae.value)||(N=te<ae.value)}else{const te=i.valueAsDate||new Date(y),ne=Z=>new Date(new Date().toDateString()+" "+Z),z=i.type=="time",B=i.type=="week";Rs(H.value)&&y&&(k=z?ne(y)>ne(H.value):B?y>H.value:te>new Date(H.value)),Rs(ae.value)&&y&&(N=z?ne(y)<ne(ae.value):B?y<ae.value:te<new Date(ae.value))}if((k||N)&&(M(!!k,H.message,ae.message,Hs.max,Hs.min),!n))return A(D[v].message),D}if((l||c)&&!I&&(Rs(y)||s&&Array.isArray(y))){const k=Sl(l),N=Sl(c),H=!Jn(k.value)&&y.length>+k.value,ae=!Jn(N.value)&&y.length<+N.value;if((H||ae)&&(M(H,k.message,N.message),!n))return A(D[v].message),D}if(p&&!I&&Rs(y)){const{value:k,message:N}=Sl(p);if(ig(k)&&!y.match(k)&&(D[v]={type:Hs.pattern,message:N,ref:i,...P(Hs.pattern,N)},!n))return A(N),D}if(g){if(ii(g)){const k=await g(y,e),N=nP(k,S);if(N&&(D[v]={...N,...P(Hs.validate,N.message)},!n))return A(N.message),D}else if(Jt(g)){let k={};for(const N in g){if(!or(k)&&!n)break;const H=nP(await g[N](y,e),S,N);H&&(k={...H,...P(N,H.message)},A(H.message),n&&(D[v]=k))}if(!or(k)&&(D[v]={ref:S,...k},!n))return D}}return A(!0),D};function ele(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=zt(t)?r++:t[e[r++]];return t}function tle(t){for(const e in t)if(t.hasOwnProperty(e)&&!zt(t[e]))return!1;return!0}function an(t,e){const n=Array.isArray(e)?e:cS(e)?[e]:GF(e),r=n.length===1?t:ele(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(Jt(r)&&or(r)||Array.isArray(r)&&tle(r))&&an(t,n.slice(0,-1)),t}var vw=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},R_=t=>Jn(t)||!WF(t);function Zi(t,e){if(R_(t)||R_(e))return t===e;if(Ta(t)&&Ta(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Ta(i)&&Ta(o)||Jt(i)&&Jt(o)||Array.isArray(i)&&Array.isArray(o)?!Zi(i,o):i!==o)return!1}}return!0}var tU=t=>t.type==="select-multiple",nle=t=>fS(t)||hf(t),ww=t=>sg(t)&&t.isConnected,nU=t=>{for(const e in t)if(ii(t[e]))return!0;return!1};function og(t,e={}){const n=Array.isArray(t);if(Jt(t)||n)for(const r in t)Array.isArray(t[r])||Jt(t[r])&&!nU(t[r])?(e[r]=Array.isArray(t[r])?[]:{},og(t[r],e[r])):Jn(t[r])||(e[r]=!0);return e}function rU(t,e,n){const r=Array.isArray(t);if(Jt(t)||r)for(const s in t)Array.isArray(t[s])||Jt(t[s])&&!nU(t[s])?zt(e)||R_(n[s])?n[s]=Array.isArray(t[s])?og(t[s],[]):{...og(t[s])}:rU(t[s],Jn(e)?{}:e[s],n[s]):n[s]=!Zi(t[s],e[s]);return n}var Fu=(t,e)=>rU(t,e,og(e)),sU=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>zt(t)?t:e?t===""?NaN:t&&+t:n&&Rs(t)?new Date(t):r?r(t):t;function _w(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return hS(e)?e.files:fS(e)?eU(t.refs).value:tU(e)?[...e.selectedOptions].map(({value:n})=>n):hf(e)?ZF(t.refs).value:sU(zt(e.value)?t.ref.value:e.value,t)}var rle=(t,e,n,r)=>{const s={};for(const i of t){const o=oe(e,i);o&&wt(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Uu=t=>zt(t)?t:ig(t)?t.source:Jt(t)?ig(t.value)?t.value.source:t.value:t;const sP="AsyncFunction";var sle=t=>(!t||!t.validate)&&!!(ii(t.validate)&&t.validate.constructor.name===sP||Jt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===sP)),ile=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function iP(t,e,n){const r=oe(t,n);if(r||cS(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=oe(e,i),a=oe(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var ole=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,ale=(t,e)=>!Fy(oe(t,e)).length&&an(t,e);const lle={mode:os.onSubmit,reValidateMode:os.onChange,shouldFocusError:!0};function cle(t={}){let e={...lle,...t},n={submitCount:0,isDirty:!1,isLoading:ii(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=Jt(e.defaultValues)||Jt(e.values)?rr(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:rr(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:vw(),array:vw(),state:vw()},p=XA(e.mode),g=XA(e.reValidateMode),v=e.criteriaMode===os.all,w=L=>$=>{clearTimeout(c),c=setTimeout(L,$)},E=async L=>{if(!t.disabled&&(u.isValid||L)){const $=e.resolver?or((await T()).errors):await P(r,!0);$!==n.isValid&&d.state.next({isValid:$})}},_=(L,$)=>{!t.disabled&&(u.isValidating||u.validatingFields)&&((L||Array.from(a.mount)).forEach(q=>{q&&($?wt(n.validatingFields,q,$):an(n.validatingFields,q))}),d.state.next({validatingFields:n.validatingFields,isValidating:!or(n.validatingFields)}))},y=(L,$=[],q,le,re=!0,J=!0)=>{if(le&&q&&!t.disabled){if(o.action=!0,J&&Array.isArray(oe(r,L))){const Ee=q(oe(r,L),le.argA,le.argB);re&&wt(r,L,Ee)}if(J&&Array.isArray(oe(n.errors,L))){const Ee=q(oe(n.errors,L),le.argA,le.argB);re&&wt(n.errors,L,Ee),ale(n.errors,L)}if(u.touchedFields&&J&&Array.isArray(oe(n.touchedFields,L))){const Ee=q(oe(n.touchedFields,L),le.argA,le.argB);re&&wt(n.touchedFields,L,Ee)}u.dirtyFields&&(n.dirtyFields=Fu(s,i)),d.state.next({name:L,isDirty:k(L,$),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else wt(i,L,$)},S=(L,$)=>{wt(n.errors,L,$),d.state.next({errors:n.errors})},A=L=>{n.errors=L,d.state.next({errors:n.errors,isValid:!1})},D=(L,$,q,le)=>{const re=oe(r,L);if(re){const J=oe(i,L,zt(q)?oe(s,L):q);zt(J)||le&&le.defaultChecked||$?wt(i,L,$?J:_w(re._f)):ae(L,J),o.mount&&E()}},O=(L,$,q,le,re)=>{let J=!1,Ee=!1;const Le={name:L};if(!t.disabled){const je=!!(oe(r,L)&&oe(r,L)._f&&oe(r,L)._f.disabled);if(!q||le){u.isDirty&&(Ee=n.isDirty,n.isDirty=Le.isDirty=k(),J=Ee!==Le.isDirty);const Be=je||Zi(oe(s,L),$);Ee=!!(!je&&oe(n.dirtyFields,L)),Be||je?an(n.dirtyFields,L):wt(n.dirtyFields,L,!0),Le.dirtyFields=n.dirtyFields,J=J||u.dirtyFields&&Ee!==!Be}if(q){const Be=oe(n.touchedFields,L);Be||(wt(n.touchedFields,L,q),Le.touchedFields=n.touchedFields,J=J||u.touchedFields&&Be!==q)}J&&re&&d.state.next(Le)}return J?Le:{}},C=(L,$,q,le)=>{const re=oe(n.errors,L),J=u.isValid&&Vr($)&&n.isValid!==$;if(t.delayError&&q?(l=w(()=>S(L,q)),l(t.delayError)):(clearTimeout(c),l=null,q?wt(n.errors,L,q):an(n.errors,L)),(q?!Zi(re,q):re)||!or(le)||J){const Ee={...le,...J&&Vr($)?{isValid:$}:{},errors:n.errors,name:L};n={...n,...Ee},d.state.next(Ee)}},T=async L=>{_(L,!0);const $=await e.resolver(i,e.context,rle(L||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return _(L),$},I=async L=>{const{errors:$}=await T(L);if(L)for(const q of L){const le=oe($,q);le?wt(n.errors,q,le):an(n.errors,q)}else n.errors=$;return $},P=async(L,$,q={valid:!0})=>{for(const le in L){const re=L[le];if(re){const{_f:J,...Ee}=re;if(J){const Le=a.array.has(J.name),je=re._f&&sle(re._f);je&&u.validatingFields&&_([le],!0);const Be=await rP(re,i,v,e.shouldUseNativeValidation&&!$,Le);if(je&&u.validatingFields&&_([le]),Be[J.name]&&(q.valid=!1,$))break;!$&&(oe(Be,J.name)?Le?Zae(n.errors,Be,J.name):wt(n.errors,J.name,Be[J.name]):an(n.errors,J.name))}!or(Ee)&&await P(Ee,$,q)}}return q.valid},M=()=>{for(const L of a.unMount){const $=oe(r,L);$&&($._f.refs?$._f.refs.every(q=>!ww(q)):!ww($._f.ref))&&qe(L)}a.unMount=new Set},k=(L,$)=>!t.disabled&&(L&&$&&wt(i,L,$),!Zi(pe(),s)),N=(L,$,q)=>JF(L,a,{...o.mount?i:zt($)?s:Rs(L)?{[L]:$}:$},q,$),H=L=>Fy(oe(o.mount?i:s,L,t.shouldUnregister?oe(s,L,[]):[])),ae=(L,$,q={})=>{const le=oe(r,L);let re=$;if(le){const J=le._f;J&&(!J.disabled&&wt(i,L,sU($,J)),re=sg(J.ref)&&Jn($)?"":$,tU(J.ref)?[...J.ref.options].forEach(Ee=>Ee.selected=re.includes(Ee.value)):J.refs?hf(J.ref)?J.refs.length>1?J.refs.forEach(Ee=>(!Ee.defaultChecked||!Ee.disabled)&&(Ee.checked=Array.isArray(re)?!!re.find(Le=>Le===Ee.value):re===Ee.value)):J.refs[0]&&(J.refs[0].checked=!!re):J.refs.forEach(Ee=>Ee.checked=Ee.value===re):hS(J.ref)?J.ref.value="":(J.ref.value=re,J.ref.type||d.values.next({name:L,values:{...i}})))}(q.shouldDirty||q.shouldTouch)&&O(L,re,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&Z(L)},te=(L,$,q)=>{for(const le in $){const re=$[le],J=`${L}.${le}`,Ee=oe(r,J);(a.array.has(L)||Jt(re)||Ee&&!Ee._f)&&!Ta(re)?te(J,re,q):ae(J,re,q)}},ne=(L,$,q={})=>{const le=oe(r,L),re=a.array.has(L),J=rr($);wt(i,L,J),re?(d.array.next({name:L,values:{...i}}),(u.isDirty||u.dirtyFields)&&q.shouldDirty&&d.state.next({name:L,dirtyFields:Fu(s,i),isDirty:k(L,J)})):le&&!le._f&&!Jn(J)?te(L,J,q):ae(L,J,q),JA(L,a)&&d.state.next({...n}),d.values.next({name:o.mount?L:void 0,values:{...i}})},z=async L=>{o.mount=!0;const $=L.target;let q=$.name,le=!0;const re=oe(r,q),J=()=>$.type?_w(re._f):HF(L),Ee=Le=>{le=Number.isNaN(Le)||Ta(Le)&&isNaN(Le.getTime())||Zi(Le,oe(i,q,Le))};if(re){let Le,je;const Be=J(),zn=L.type===rg.BLUR||L.type===rg.FOCUS_OUT,Ri=!ile(re._f)&&!e.resolver&&!oe(n.errors,q)&&!re._f.deps||ole(zn,oe(n.touchedFields,q),n.isSubmitted,g,p),Kn=JA(q,a,zn);wt(i,q,Be),zn?(re._f.onBlur&&re._f.onBlur(L),l&&l(0)):re._f.onChange&&re._f.onChange(L);const Wn=O(q,Be,zn,!1),vs=!or(Wn)||Kn;if(!zn&&d.values.next({name:q,type:L.type,values:{...i}}),Ri)return u.isValid&&(t.mode==="onBlur"?zn&&E():E()),vs&&d.state.next({name:q,...Kn?{}:Wn});if(!zn&&Kn&&d.state.next({...n}),e.resolver){const{errors:ws}=await T([q]);if(Ee(Be),le){const dl=iP(n.errors,r,q),Hn=iP(ws,r,dl.name||q);Le=Hn.error,q=Hn.name,je=or(ws)}}else _([q],!0),Le=(await rP(re,i,v,e.shouldUseNativeValidation))[q],_([q]),Ee(Be),le&&(Le?je=!1:u.isValid&&(je=await P(r,!0)));le&&(re._f.deps&&Z(re._f.deps),C(q,je,Le,Wn))}},B=(L,$)=>{if(oe(n.errors,$)&&L.focus)return L.focus(),1},Z=async(L,$={})=>{let q,le;const re=Ed(L);if(e.resolver){const J=await I(zt(L)?L:re);q=or(J),le=L?!re.some(Ee=>oe(J,Ee)):q}else L?(le=(await Promise.all(re.map(async J=>{const Ee=oe(r,J);return await P(Ee&&Ee._f?{[J]:Ee}:Ee)}))).every(Boolean),!(!le&&!n.isValid)&&E()):le=q=await P(r);return d.state.next({...!Rs(L)||u.isValid&&q!==n.isValid?{}:{name:L},...e.resolver||!L?{isValid:q}:{},errors:n.errors}),$.shouldFocus&&!le&&Td(r,B,L?re:a.mount),le},pe=L=>{const $={...o.mount?i:s};return zt(L)?$:Rs(L)?oe($,L):L.map(q=>oe($,q))},Te=(L,$)=>({invalid:!!oe(($||n).errors,L),isDirty:!!oe(($||n).dirtyFields,L),error:oe(($||n).errors,L),isValidating:!!oe(n.validatingFields,L),isTouched:!!oe(($||n).touchedFields,L)}),Ae=L=>{L&&Ed(L).forEach($=>an(n.errors,$)),d.state.next({errors:L?n.errors:{}})},Je=(L,$,q)=>{const le=(oe(r,L,{_f:{}})._f||{}).ref,re=oe(n.errors,L)||{},{ref:J,message:Ee,type:Le,...je}=re;wt(n.errors,L,{...je,...$,ref:le}),d.state.next({name:L,errors:n.errors,isValid:!1}),q&&q.shouldFocus&&le&&le.focus&&le.focus()},yt=(L,$)=>ii(L)?d.values.subscribe({next:q=>L(N(void 0,$),q)}):N(L,$,!0),qe=(L,$={})=>{for(const q of L?Ed(L):a.mount)a.mount.delete(q),a.array.delete(q),$.keepValue||(an(r,q),an(i,q)),!$.keepError&&an(n.errors,q),!$.keepDirty&&an(n.dirtyFields,q),!$.keepTouched&&an(n.touchedFields,q),!$.keepIsValidating&&an(n.validatingFields,q),!e.shouldUnregister&&!$.keepDefaultValue&&an(s,q);d.values.next({values:{...i}}),d.state.next({...n,...$.keepDirty?{isDirty:k()}:{}}),!$.keepIsValid&&E()},ce=({disabled:L,name:$,field:q,fields:le,value:re})=>{if(Vr(L)&&o.mount||L){const J=L?void 0:zt(re)?_w(q?q._f:oe(le,$)._f):re;wt(i,$,J),O($,J,!1,!1,!0)}},Ve=(L,$={})=>{let q=oe(r,L);const le=Vr($.disabled)||Vr(t.disabled);return wt(r,L,{...q||{},_f:{...q&&q._f?q._f:{ref:{name:L}},name:L,mount:!0,...$}}),a.mount.add(L),q?ce({field:q,disabled:Vr($.disabled)?$.disabled:t.disabled,name:L,value:$.value}):D(L,!0,$.value),{...le?{disabled:$.disabled||t.disabled}:{},...e.progressive?{required:!!$.required,min:Uu($.min),max:Uu($.max),minLength:Uu($.minLength),maxLength:Uu($.maxLength),pattern:Uu($.pattern)}:{},name:L,onChange:z,onBlur:z,ref:re=>{if(re){Ve(L,$),q=oe(r,L);const J=zt(re.value)&&re.querySelectorAll&&re.querySelectorAll("input,select,textarea")[0]||re,Ee=nle(J),Le=q._f.refs||[];if(Ee?Le.find(je=>je===J):J===q._f.ref)return;wt(r,L,{_f:{...q._f,...Ee?{refs:[...Le.filter(ww),J,...Array.isArray(oe(s,L))?[{}]:[]],ref:{type:J.type,name:L}}:{ref:J}}}),D(L,!1,void 0,J)}else q=oe(r,L,{}),q._f&&(q._f.mount=!1),(e.shouldUnregister||$.shouldUnregister)&&!(qF(a.array,L)&&o.action)&&a.unMount.add(L)}}},st=()=>e.shouldFocusError&&Td(r,B,a.mount),Fe=L=>{Vr(L)&&(d.state.next({disabled:L}),Td(r,($,q)=>{const le=oe(r,q);le&&($.disabled=le._f.disabled||L,Array.isArray(le._f.refs)&&le._f.refs.forEach(re=>{re.disabled=le._f.disabled||L}))},0,!1))},ze=(L,$)=>async q=>{let le;q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let re=rr(i);if(d.state.next({isSubmitting:!0}),e.resolver){const{errors:J,values:Ee}=await T();n.errors=J,re=Ee}else await P(r);if(an(n.errors,"root"),or(n.errors)){d.state.next({errors:{}});try{await L(re,q)}catch(J){le=J}}else $&&await $({...n.errors},q),st(),setTimeout(st);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:or(n.errors)&&!le,submitCount:n.submitCount+1,errors:n.errors}),le)throw le},Qe=(L,$={})=>{oe(r,L)&&(zt($.defaultValue)?ne(L,rr(oe(s,L))):(ne(L,$.defaultValue),wt(s,L,rr($.defaultValue))),$.keepTouched||an(n.touchedFields,L),$.keepDirty||(an(n.dirtyFields,L),n.isDirty=$.defaultValue?k(L,rr(oe(s,L))):k()),$.keepError||(an(n.errors,L),u.isValid&&E()),d.state.next({...n}))},Ft=(L,$={})=>{const q=L?rr(L):s,le=rr(q),re=or(L),J=re?s:le;if($.keepDefaultValues||(s=q),!$.keepValues){if($.keepDirtyValues){const Ee=new Set([...a.mount,...Object.keys(Fu(s,i))]);for(const Le of Array.from(Ee))oe(n.dirtyFields,Le)?wt(J,Le,oe(i,Le)):ne(Le,oe(J,Le))}else{if(lS&&zt(L))for(const Ee of a.mount){const Le=oe(r,Ee);if(Le&&Le._f){const je=Array.isArray(Le._f.refs)?Le._f.refs[0]:Le._f.ref;if(sg(je)){const Be=je.closest("form");if(Be){Be.reset();break}}}}r={}}i=t.shouldUnregister?$.keepDefaultValues?rr(s):{}:rr(J),d.array.next({values:{...J}}),d.values.next({values:{...J}})}a={mount:$.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!$.keepIsValid||!!$.keepDirtyValues,o.watch=!!t.shouldUnregister,d.state.next({submitCount:$.keepSubmitCount?n.submitCount:0,isDirty:re?!1:$.keepDirty?n.isDirty:!!($.keepDefaultValues&&!Zi(L,s)),isSubmitted:$.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:re?{}:$.keepDirtyValues?$.keepDefaultValues&&i?Fu(s,i):n.dirtyFields:$.keepDefaultValues&&L?Fu(s,L):$.keepDirty?n.dirtyFields:{},touchedFields:$.keepTouched?n.touchedFields:{},errors:$.keepErrors?n.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},it=(L,$)=>Ft(ii(L)?L(i):L,$);return{control:{register:Ve,unregister:qe,getFieldState:Te,handleSubmit:ze,setError:Je,_executeSchema:T,_getWatch:N,_getDirty:k,_updateValid:E,_removeUnmounted:M,_updateFieldArray:y,_updateDisabledField:ce,_getFieldArray:H,_reset:Ft,_resetDefaultValues:()=>ii(e.defaultValues)&&e.defaultValues().then(L=>{it(L,e.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:L=>{n={...n,...L}},_disableForm:Fe,_subjects:d,_proxyFormState:u,_setErrors:A,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(L){o=L},get _defaultValues(){return s},get _names(){return a},set _names(L){a=L},get _formState(){return n},set _formState(L){n=L},get _options(){return e},set _options(L){e={...e,...L}}},trigger:Z,register:Ve,handleSubmit:ze,watch:yt,setValue:ne,getValues:pe,reset:it,resetField:Qe,clearErrors:Ae,unregister:qe,setError:Je,setFocus:(L,$={})=>{const q=oe(r,L),le=q&&q._f;if(le){const re=le.refs?le.refs[0]:le.ref;re.focus&&(re.focus(),$.shouldSelect&&re.select())}},getFieldState:Te}}function pS(t={}){const e=Ke.useRef(),n=Ke.useRef(),[r,s]=Ke.useState({isDirty:!1,isValidating:!1,isLoading:ii(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:ii(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...cle(t),formState:r});const i=e.current.control;return i._options=t,dS({subject:i._subjects.state,next:o=>{YF(o,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),Ke.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Ke.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),Ke.useEffect(()=>{t.values&&!Zi(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),Ke.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),Ke.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),Ke.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),Ke.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=QF(r,i),e.current}const ule=({isOpen:t,setDialogState:e,onRenameKnowledge:n,isLoading:r})=>{const{register:s,reset:i,handleSubmit:o,formState:{errors:a,isSubmitted:l}}=pS(),c=async d=>{await n(d.newKnowledgeBaseName),u()},u=(d=void 0)=>{e(d??!1),i({}),setTimeout(()=>{d||(document.body.style.pointerEvents="")},100)};return f.jsx(jy,{open:t,onOpenChange:d=>{u(d)},children:f.jsxs(lf,{className:"sm:max-w-[425px]",children:[f.jsxs(cf,{children:[f.jsx(uf,{className:"text-2xl font-bold",children:"Rename Knowledge Base"}),f.jsx(df,{children:"Enter a new name for the knowledge base to update its name."})]}),f.jsxs("form",{onSubmit:o(c),className:"text-sm space-y-2",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsx(Fn,{htmlFor:"current-password",children:"Knowledge Base Name"}),f.jsx(on,{placeholder:"Enter new knowledge base name",...s("newKnowledgeBaseName",{required:"Please enter a new Knowledge Base name",minLength:{value:4,message:"Knowledge base name must be atleast 4 characters"}})}),l&&a.newKnowledgeBaseName&&f.jsx("p",{className:"text-red-500",children:a.newKnowledgeBaseName.message})]}),f.jsx(Vy,{children:f.jsx(ut,{type:"submit",className:"w-40",children:r?f.jsx(ul,{}):"Rename"})})]})]})})},dle=({onTabChange:t})=>{const e=cu(),n=cl(),{handleFilterChange:r,filter:s}=HV(),i=Pt(I=>I.admin),o=Xt(I=>I.selectedKnowledgeBaseItem),a=Xt(I=>I.setSelectedKnowledgeBaseItem),l=Xt(I=>I.selectedKnowledgeBaseName),c=Xt(I=>I.setSelectedKnowledgeBaseName),u=Xt(I=>I.setSelectedKnowledgeEntry),d=Wr(I=>I.openModal),p=Wr(I=>I.setMode),g=dt(I=>I.clearFormData),v=Ci(I=>I.dialogs),w=Ci(I=>I.setDialogState),{data:E,isLoading:_}=XT({queryFn:()=>eoe(),queryKey:qp}),{mutateAsync:y}=si({mutationFn:ooe,onSuccess:()=>{e.invalidateQueries({queryKey:qp}),n({title:`Knowledge Base ${o} deleted`,description:Kt()})},onError:I=>{n({title:I==null?void 0:I.message,description:Kt(),variant:"destructive"}),ke(I.message||"An Unexpected error occured while deleting knowledge base")}}),{mutateAsync:S,isPending:A}=si({mutationFn:ioe,onSuccess:I=>{e.invalidateQueries({queryKey:qp}),n({title:I,description:Kt()})},onError:I=>{n({title:I==null?void 0:I.message,description:Kt(),variant:"destructive"}),ke(I.message||"An Unexpected error occured while deleting knowledge base")}}),D=m.useMemo(()=>E==null?void 0:E.filter(I=>I.toLowerCase().includes(s.toLowerCase())),[E,s]),O=async()=>{if(!o)throw new Error("No knowledge base selected cannot delete");await y(o),a(""),l&&l===o&&(c(""),u(null))},C=async I=>{try{if(!o)throw new Error("No selected knowledge base");await S({knowledgeBaseName:o,newKnowledgeBaseName:I}),l&&l===o&&c(I)}catch(P){if(P instanceof Error){ke(P.message,!0);return}console.error("Am umexpected error occured: ",P)}},T=I=>{g(),p(I),d()};return _?f.jsx(WV,{}):E?f.jsxs(dy,{value:"knowledgeBase",className:"mt-2",children:[f.jsxs("div",{className:"h-[450px] md:h-[600px] w-full px-4 pb-4 flex flex-col overflow-y-auto scrollbar-slim",children:[f.jsxs("div",{className:"flex mb-2 space-x-4",children:[f.jsx(on,{className:"flex-grow outline-none focus:outline-none",placeholder:"Search knowledge base...",onChange:I=>r(I.target.value)}),(i==null?void 0:i.role)!=="viewer"&&f.jsx(KV,{label:"Add Knowledge Base",onButtonClick:()=>T("BASE")})]}),f.jsx(zae,{knowledgeBaseNameList:D,handleTabChange:t})]}),v.showConfirmDeleteKnowledgeBaseDialog&&f.jsx(aS,{isOpen:v.showConfirmDeleteKnowledgeBaseDialog,setDialogState:I=>w("showConfirmDeleteKnowledgeBaseDialog",I),onDelete:O,message:$F.base}),v.showRenameKnowledgeBaseDialog&&f.jsx(ule,{isOpen:v.showRenameKnowledgeBaseDialog,setDialogState:I=>w("showRenameKnowledgeBaseDialog",I),onRenameKnowledge:C,isLoading:A})]}):f.jsx(qT,{heading:"Empty Knowledge Base",description:"No knowledge base found"})},hle=()=>{const{currentTab:t,setCurrentTab:e,setActiveTab:n}=zF("knowledgeBase");return f.jsxs(iZ,{value:t,onValueChange:r=>e(r),className:"w-full p-0 border-neutral-200 bg-white border shadow-sm text-sm md:text-base rounded-md overflow-hidden box-border",children:[f.jsx(lZ,{tabs:oZ}),t==="knowledgeBase"&&f.jsx(dle,{onTabChange:n}),t==="knowledgeEntry"&&f.jsx(Bae,{onTabChange:n}),t==="entryDetails"&&f.jsx(yoe,{})]})},oi=Ho((t,e)=>({currentStep:1,totalStep:3,nextStep:()=>{e().currentStep!==e().totalStep&&t(n=>({currentStep:n.currentStep+1}))},prevStep:()=>{e().currentStep!==1&&t(n=>({currentStep:n.currentStep-1}))},setTotalStep:n=>{if(n==="BASE")return t(()=>({totalStep:3}));t(()=>({totalStep:2}))},resetCurrentStep:()=>{t(()=>({currentStep:1}))}})),fle=({progressData:t})=>{const e=oi(s=>s.totalStep),n=oi(s=>s.currentStep),r=(n-1)/(e-1)*100;return f.jsxs("div",{className:"mt-4 mb-8",children:[f.jsx("div",{className:"flex justify-between mb-2",children:[...Array(e)].map((s,i)=>f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${n>=i+1?"bg-lightGray text-htext":"bg-lightGray-darker text-muted-foreground"}`,children:i+1}),f.jsx("span",{className:"text-xs mt-1",children:t[i+1]})]},i))}),f.jsx("div",{className:"h-2 bg-muted rounded-full",children:f.jsx("div",{className:"h-full bg-blue-600 rounded-full transition-all duration-300 ease-in-out",style:{width:`${r}%`}})})]})},Sd=({errorMessage:t})=>f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(AW,{className:"text-destructive size-5",strokeWidth:1.5}),f.jsx("div",{className:"text-destructive text-sm",children:t})]}),ple=()=>{const{knowledgeBaseName:t}=dt(r=>r.formData),{knowledgeBaseName:e}=dt(r=>r.formDataErrors),n=dt(r=>r.setFormData);return f.jsx("div",{className:"space-y-1",children:f.jsxs(f.Fragment,{children:[f.jsx("label",{htmlFor:"knowledgeBaseName",className:"block text-sm font-medium",children:"Knowledge Base Name"}),f.jsx(on,{name:"knowledgeBaseName",placeholder:"Enter knowledge base name",value:t,className:de(e&&"border-destructive"),onChange:r=>n(r.target.name,r.target.value)}),e&&f.jsx(Sd,{errorMessage:e})]})})},oP=()=>{const{intent:t,documents:e,answer:n}=dt(A=>A.formData),{intent:r,documents:s,answer:i}=dt(A=>A.formDataErrors),o=dt(A=>A.setDocuments),a=dt(A=>A.removeDocument),l=dt(A=>A.setFormData),c=dt(A=>A.addDocument),u=Xt(A=>A.selectedKnowledgeBaseName),d=Wr(A=>A.modalMode),{file:p,isLinkDialogOpen:g,setIsLinkDialogOpen:v,handleFileChange:w,handleInsertLink:E,handleRemoveFile:_,fileInputRef:y,answerTextAreaRef:S}=CV(n);return m.useEffect(()=>{d==="ENTRY"&&l("knowledgeBaseName",u)},[]),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx(Fn,{children:"Intent"}),f.jsx(on,{placeholder:"Enter the intent",value:t,className:de(r&&"border-destructive"),onChange:A=>l("intent",A.target.value)}),r&&f.jsx(Sd,{errorMessage:r})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx(Fn,{children:"Documents"}),e.map((A,D)=>f.jsxs("div",{className:"flex space-x-2 relative",children:[f.jsx(on,{placeholder:`Enter document ${D+1}`,className:de(s&&"border-destructive"),value:A,onChange:O=>o(O.target.value,D)},D),f.jsxs(ut,{type:"button",variant:"ghost",size:"icon",onClick:()=>a(D),className:"absolute right-2 top-1/2 -translate-y-1/2 hover:bg-transparent",children:[f.jsx(Qx,{className:"h-4 w-4 text-gray-500 hover:text-gray-700"}),f.jsx("span",{className:"sr-only",children:"Remove document"})]})]},D)),s&&f.jsx(Sd,{errorMessage:s}),f.jsxs(ut,{variant:"outline",onClick:c,className:"w-full",children:[f.jsx(Uh,{className:"mr-2 h-4 w-4"})," Add Document"]})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx(Fn,{children:"Answer"}),f.jsx(hj,{answer:n,handleTextChange:l,onFileChange:w,fileRef:y,textAreaRef:S,isError:!!i,isLinkDropDownVisible:g,setIsLinkDropDownVisible:v,onInsertLink:E}),i&&f.jsx(Sd,{errorMessage:i})]}),p&&f.jsx(fj,{file:p,removeFile:_})]})},mle=({file:t})=>f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium",children:"File Details:"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:t.name})]}),aP=()=>{const{knowledgeBaseName:t,intent:e,documents:n,answer:r,file:s}=dt(i=>i.formData);return f.jsxs("div",{className:"space-y-4 break-words",children:[f.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Review Your Entry"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium",children:"Knowledge Base Name:"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium",children:"Intent:"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:e})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium",children:"Documents:"}),f.jsx("ul",{className:"list-disc pl-5 text-sm text-muted-foreground",children:n.map((i,o)=>f.jsx("li",{children:i},o))})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium",children:"Answer:"}),f.jsx("p",{className:"text-sm text-muted-foreground line-clamp-4",children:r})]}),s&&f.jsx(mle,{file:s})]})},gle=()=>{const t=oi(r=>r.currentStep),e=Wr(r=>r.modalMode),n=()=>({1:{BASE:f.jsx(ple,{}),ENTRY:f.jsx(oP,{})},2:{BASE:f.jsx(oP,{}),ENTRY:f.jsx(aP,{})},3:{BASE:f.jsx(aP,{})}})[t][e]||f.jsx(f.Fragment,{children:"No Modal Section"});return f.jsx(f.Fragment,{children:n()})},yle=()=>{const t=cl(),e=cu(),n=Wr(l=>l.closeModal),[r,s]=m.useState(!1),{mutateAsync:i}=si({mutationFn:l=>noe(l),onSuccess:()=>{e.invalidateQueries({queryKey:qp}),t({title:"Knowledge Base saved successfully.",description:Kt()})},onError:l=>{t({title:l.message,description:Kt(),variant:"destructive"})}}),{mutateAsync:o}=si({mutationFn:l=>roe(l),onSuccess:()=>{e.invalidateQueries({queryKey:Gp}),t({title:"Knowledge Entry saved successfully.",description:Kt()})},onError:l=>{t({title:l.message,description:Kt(),variant:"destructive"})}});return{handleSubmitForm:async(l,c)=>{try{s(!0);let u=null;l.file&&(u=await g_(l.file)),c==="BASE"?await i(u?{...l,fileUrl:u}:l):await o(u?{...l,fileUrl:u}:l)}catch(u){if(u instanceof Error&&u.message.includes("E11000"))return;console.error("Unexpected error occured ",u)}finally{s(!1),n()}},isLoading:r}},vle=(t,e)=>{const n={};return t===1&&(e.knowledgeBaseName.trim()||(n.knowledgeBaseName="Knowledge Base Name is required")),t===2&&(e.intent.trim()||(n.intent="Intent is required"),e.documents.some(s=>s.trim()==="")&&(n.documents="Document is required"),e.answer.trim()||(n.answer="Answer is required")),{isValid:Object.keys(n).length===0,errors:n}},wle=()=>{const{handleSubmitForm:t,isLoading:e}=yle(),n=Wr(u=>u.modalMode),r=dt(u=>u.formData),s=oi(u=>u.currentStep),i=oi(u=>u.totalStep),o=oi(u=>u.nextStep),a=oi(u=>u.prevStep),l=dt(u=>u.setFormDataErrors),c=()=>{const{isValid:u,errors:d}=vle(n==="BASE"?s:s+1,r);if(!u){l(d);return}l({}),o()};return f.jsxs("div",{className:"flex justify-between items-center mt-6",children:[f.jsx("div",{}),f.jsxs("div",{className:"flex ",children:[s>1&&f.jsxs(ut,{variant:"outline",onClick:a,className:"mr-2",children:[f.jsx(fW,{className:"mr-2 h-4 w-4"})," Back"]}),s<i?f.jsxs(ut,{onClick:c,children:["Next ",f.jsx(ok,{className:"ml-2 h-4 w-4"})]}):f.jsx(ut,{className:"w-52",onClick:async()=>{t(r,n)},children:e?f.jsx(ul,{}):"Save Knowledge Base"})]})]})},_le=()=>{const t=dt(a=>a.clearFormData),e=Wr(a=>a.isModalVisible),n=Wr(a=>a.modalMode),r=Wr(a=>a.closeModal),s=oi(a=>a.setTotalStep),i=oi(a=>a.resetCurrentStep),o=n==="BASE"?Fae:Uae;return m.useEffect(()=>(s(n),()=>{t(),i()}),[s]),f.jsx(jy,{open:e,onOpenChange:r,children:f.jsxs(lf,{className:"sm:max-w-[550px] ",children:[f.jsxs(cf,{children:[f.jsx(uf,{className:"text-2xl font-bold",children:"Create New Knowledge Base"}),f.jsx(df,{children:"Fill in the details to create a new knowledge base."})]}),f.jsx(fle,{progressData:o}),f.jsx(yy,{children:f.jsx(vy,{className:"pt-6 max-h-[30rem] max-w-[498px] overflow-y-scroll",children:f.jsx(gle,{})})}),f.jsx(wle,{})]})})},xle=()=>{const t=Wr(r=>r.isModalVisible),e=Xt(r=>r.setSelectedKnowledgeEntry),n=Xt(r=>r.selectedKnowledgeBaseName);return m.useEffect(()=>{n&&e(null)},[n,e]),f.jsxs("div",{className:"flex items-center flex-col w-[84rem] px-20 space-y-6",children:[f.jsx(JJ,{}),f.jsx(hle,{}),t&&f.jsx(_le,{})]})},gt=Ho(t=>({botName:"",errors:{botName:""},interactionIcon:null,interactionIconPreview:"",widgetIcon:null,widgetIconPreview:"",metadata:[],setBotName:e=>{t(()=>({botName:e}))},setErrors:(e,n)=>{t(r=>({errors:{...r.errors,[e]:n}}))},setInteractionIcon:e=>{t(()=>({interactionIcon:e}))},setInteractionIconPreview:e=>{t(()=>({interactionIconPreview:e}))},setWidgetIcon:e=>{t(()=>({widgetIcon:e}))},setWidgetIconPreview:e=>{t(()=>({widgetIconPreview:e}))},setMetadata:e=>{t(()=>({metadata:e}))}})),Ele=({inputRef:t})=>{const e=Pt(a=>a.admin),n=gt(a=>a.botName),r=gt(a=>a.setBotName),s=gt(a=>a.errors),i=gt(a=>a.setErrors),o=a=>{r(a),a?i("botName",""):i("botName","Bot name field is required")};return f.jsxs("section",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"botName",className:"block text-sm font-medium text-black/80 mb-1",children:"Bot Name"}),f.jsx(on,{ref:t,type:"text",value:n,onChange:a=>o(a.target.value),className:de("w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",s.botName&&"border-destructive"),readOnly:(e==null?void 0:e.role)==="viewer"}),s.botName&&f.jsx(Sd,{errorMessage:s.botName})]})},Tle=()=>({handleIconChange:(n,r,s)=>{if(n.target.files&&n.target.files[0]){const i=n.target.files[0];if(i.type==="image/png"||i.type==="image/gif"||i.type==="image/jpeg"){r(i);const o=new FileReader;o.onload=a=>{var l;s((l=a.target)==null?void 0:l.result)},o.readAsDataURL(i)}else alert("Please upload a PNG, JPEG or GIF file."),n.target.value=""}},handleRemoveIcon:(n,r,s)=>{r(null),s(null),n.current&&(n.current.value="")}}),ls="https://firebasestorage.googleapis.com/v0/b/cob-chatbot.appspot.com/o/image%2Fdefault-icon.png?alt=media&token=7d708bba-dcf2-47a0-b81b-3ac8d0e02648",Sle=async(t,e,n,r=[])=>{try{const s=gt.getState().interactionIconPreview,i=gt.getState().widgetIconPreview,o=gt.getState().setInteractionIcon,a=gt.getState().setWidgetIcon,l=r.reduce((d,p)=>({...d,[p.key]:p.value}),{}),c={botName:n,metadata:l,interactionIconURL:s??ls,widgetIconUrl:i??ls};t&&(c.interactionIconURL=await m_(t,FA,"interaction-icon")??ls,o(null)),e&&(console.time("Upload Time"),c.widgetIconUrl=await m_(e,FA,"widget-icon")??ls,a(null),console.timeEnd("Upload Time")),await Yie("profile","botProfile",c,!1),ke("Upload bot profile success")}catch(s){console.error(s)}},iU=({iconRef:t,setIcon:e,setIconPreview:n,iconPreview:r,acceptedFormat:s})=>{const{handleIconChange:i,handleRemoveIcon:o}=Tle();return f.jsxs("div",{className:"flex items-center ",children:[f.jsx(on,{id:"widget-icon-upload",type:"file",className:"hidden",ref:t,accept:s,onChange:a=>i(a,e,n)}),f.jsx(ut,{type:"button",variant:"outline",size:"sm",onClick:()=>{var a;return(a=t.current)==null?void 0:a.click()},children:r&&r!==ls?f.jsxs("span",{className:"flex items-center text-sm gap-2",children:[f.jsx(JC,{className:"size-5"}),"Change Icon"]}):f.jsxs("span",{className:"flex items-center text-sm gap-2",children:[f.jsx(JC,{className:"size-5"}),"Upload Icon"]})}),r&&r!==ls&&f.jsx(ut,{type:"button",variant:"ghost",size:"sm",className:"ml-2",onClick:()=>o(t,e,n),children:"Remove"})]})},ble=()=>{const t=gt(i=>i.setInteractionIcon),e=gt(i=>i.setInteractionIconPreview),n=gt(i=>i.interactionIconPreview),r=m.useRef(null),s=Pt(i=>i.admin);return f.jsxs("section",{className:"space-y-2",children:[f.jsx("label",{className:"block text-sm font-medium text-black/80",children:"Interaction Icon"}),f.jsxs("div",{className:"mt-1 flex items-center h-[4rem] space-x-4",children:[f.jsxs("div",{className:"size-16 rounded-full bg-gray-100 flex items-center justify-center overflow-hidden",children:[n&&f.jsx("img",{src:n,className:"size-full object-cover rounded-full"}),!n&&f.jsx("img",{src:ls,className:"size-full object-cover rounded-full"})]}),(s==null?void 0:s.role)!=="viewer"&&f.jsx(iU,{iconRef:r,setIcon:t,setIconPreview:e,iconPreview:n,acceptedFormat:".png,.jpg"})]}),(s==null?void 0:s.role)!=="viewer"&&f.jsx("p",{className:"text-sm text-muted-foreground",children:"PNG or JPG only. Max file size: 2MB."})]})},Cle=()=>{const t=gt(i=>i.setWidgetIcon),e=gt(i=>i.widgetIconPreview),n=gt(i=>i.setWidgetIconPreview),r=m.useRef(null),s=Pt(i=>i.admin);return f.jsxs("section",{className:"space-y-2",children:[f.jsx("label",{className:"block text-sm font-medium text-black/80",children:"Widget Icon"}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs("div",{className:"size-16 rounded-full bg-gray-100 flex items-center justify-center overflow-hidden",children:[e&&f.jsx("img",{src:e,className:"size-full object-cover rounded-full"}),!e&&f.jsx("img",{src:ls,className:"size-full object-cover rounded-full"})]}),(s==null?void 0:s.role)!=="viewer"&&f.jsx(iU,{iconRef:r,setIcon:t,setIconPreview:n,iconPreview:e,acceptedFormat:".png,.jpg,.gif"})]}),(s==null?void 0:s.role)!=="viewer"&&f.jsx("p",{className:"text-sm text-muted-foreground",children:"PNG, JPEG OR GIF only. Max file size: 30MB."})]})},Ile=({botNameInputRef:t})=>f.jsxs("form",{className:"space-y-4",children:[f.jsx(Ele,{inputRef:t}),f.jsx(ble,{}),f.jsx(Cle,{})]}),Ale=({handleCloseChatbox:t})=>{const e=gt(r=>r.botName),n=gt(r=>r.interactionIconPreview);return f.jsx("section",{children:f.jsxs("div",{className:"bg-white h-[24rem] rounded-lg shadow-lg p-4 max-w-sm mx-auto flex flex-col",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[n?f.jsx("img",{src:n,alt:"interaction-icon-preview",className:"w-11 h-11 object-cover rounded-full"}):f.jsx("img",{src:ls,alt:"interaction-icon-preview",className:"w-11 h-11 object-cover rounded-full"}),f.jsx("span",{className:"text-sm font-medium text-gray-700",children:e||"Chatbot"})]}),f.jsx("div",{className:"cursor-pointer hover:scale-110 transition-transform",onClick:t,children:f.jsx(jg,{className:"w-5 h-5 text-gray-500"})})]}),f.jsx("div",{className:"flex-1"}),f.jsx("div",{className:" rounded-lg py-3 mb-4",children:f.jsxs("div",{className:"flex items-center",children:[n?f.jsx("img",{src:n,alt:"interaction-icon-preview",className:"w-10 h-10 object-cover rounded-full"}):f.jsx("img",{src:ls,alt:"interaction-icon-preview",className:"w-10 h-10 object-cover rounded-full"}),f.jsx("p",{className:"ml-2 text-sm text-gray-700 bg-gray-100 p-2.5 rounded-xl",children:"Hi! What can I help you with?"})]})}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{disabled:!0,type:"text",placeholder:"Message...",className:"flex-grow h-10 px-3 py-2 text-sm border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),f.jsx("div",{className:"h-10 px-3 py-2 bg-blue-500 text-white rounded-r-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 flex items-center justify-center",children:f.jsx(hk,{className:"w-5 h-5"})})]})]})})},Ple=()=>{const[t,e]=m.useState(!1),n=gt(r=>r.widgetIconPreview);return f.jsx("section",{children:f.jsx("div",{className:"border h-[28rem] border-gray-300 rounded-lg p-4 bg-gray-50 mt-4 mb-2",style:{backgroundImage:"radial-gradient(#d1d5db 1px, transparent 1px)",backgroundSize:"20px 20px"},children:f.jsx("div",{className:"h-full flex justify-end items-end",children:t?f.jsx(Ale,{handleCloseChatbox:()=>e(!1)}):f.jsx("div",{className:"size-[14rem] flex items-center justify-center",onClick:()=>e(!0),children:n?f.jsx("img",{src:n,alt:"Widget icon preview",className:"cursor-pointer"}):f.jsx("img",{src:ls,alt:"Widget icon preview",className:"cursor-pointer"})})})})})},Rle=()=>{const t=gt(o=>o.metadata),e=gt(o=>o.setMetadata),n=Pt(o=>o.admin),r=()=>{const o={id:Date.now().toString(),key:"",value:""};e([...t,o])},s=(o,a,l)=>{const c=t.map(u=>u.id===o?{...u,[a]:l}:u);e(c)},i=o=>{const a=t.filter((l,c)=>c!==o);e(a)};return f.jsxs("div",{className:"space-y-4",children:[t.map((o,a)=>f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(on,{placeholder:"Key",value:o.key,onChange:l=>s(o.id,"key",l.target.value),className:"flex-1",readOnly:(n==null?void 0:n.role)==="viewer"}),f.jsx(on,{placeholder:"Value",value:o.value,onChange:l=>s(o.id,"value",l.target.value),className:"flex-1",readOnly:(n==null?void 0:n.role)==="viewer"}),(n==null?void 0:n.role)!=="viewer"&&f.jsx(ut,{type:"button",variant:"ghost",size:"icon",className:"hover:text-red-600",onClick:()=>i(a),children:f.jsx(Qx,{className:"size-5 transition-transform ease-in"})})]},a)),(n==null?void 0:n.role)!=="viewer"&&f.jsxs(ut,{type:"button",variant:"outline",size:"sm",onClick:r,className:"mt-2",children:[f.jsx(Uh,{className:"size-5 mr-2"}),"Add Field"]})]})},Nle=async()=>await Xie("profile","botProfile"),Dle=()=>{const t=cl(),e=gt(E=>E.interactionIcon),n=gt(E=>E.setInteractionIconPreview),r=gt(E=>E.widgetIcon),s=gt(E=>E.setWidgetIconPreview),i=gt(E=>E.botName),o=gt(E=>E.setBotName),a=gt(E=>E.setErrors),l=gt(E=>E.metadata),c=gt(E=>E.setMetadata),[u,d]=m.useState(!1),[p,g]=m.useState(!0),v=m.useRef(null);return m.useEffect(()=>((async()=>{g(!0);const _=await Nle();if(!_)return;o(_.botName),n(_.interactionIconURL),s(_.widgetIconUrl);const y=eG(_.metadata);c(y),g(!1)})(),()=>{a("botName","")}),[]),{isLoading:u,handleSubmitForm:async()=>{var _;if(!i.trim()){a("botName","Bot name field is required"),(_=v.current)==null||_.scrollIntoView({behavior:"smooth",block:"center"});return}try{d(!0),await Sle(e,r,i,l),d(!1),t({title:"Bot profile has been successfully updated",description:Kt()})}catch(y){y instanceof Error&&t({title:y.message,description:Kt(),variant:"destructive"}),console.error("Unexpected error occured ",y)}},isPageLoading:p,botNameInputRef:v}},kle=()=>f.jsxs("section",{className:"flex-1 flex-col space-y-4",children:[f.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[f.jsx("header",{className:"text-2xl font-medium pb-5 leading-none tracking-tight",children:"Bot Profile"}),f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsx(tt,{className:"h-4 w-16"}),f.jsx(tt,{className:"h-10 w-full mb-3"}),f.jsx(tt,{className:"h-4 w-24"}),f.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[f.jsx(tt,{className:"size-[64px] rounded-full"}),f.jsx(tt,{className:"h-9 w-36"}),f.jsx(tt,{className:"h-9 w-36"})]}),f.jsx(tt,{className:"h-4 w-24"}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx(tt,{className:"size-[64px] rounded-full"}),f.jsx(tt,{className:"h-9 w-36"}),f.jsx(tt,{className:"h-9 w-36"})]})]})]}),f.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[f.jsx("header",{className:"text-2xl font-medium pb-5",children:"Additional Information"}),f.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[f.jsx(tt,{className:"flex-1 h-10"}),f.jsx(tt,{className:"flex-1 h-10"}),f.jsx(tt,{className:"w-10 h-10"})]}),f.jsx(tt,{className:"h-9 w-36"})]}),f.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[f.jsx("header",{className:"text-2xl font-medium pb-5",children:"Preview"}),f.jsx(tt,{className:"h-[28rem] w-full mb-2"})]}),f.jsx(tt,{className:"bg-blue-200 h-10 w-full"})]}),Mle=()=>{const{isLoading:t,handleSubmitForm:e,isPageLoading:n,botNameInputRef:r}=Dle(),s=Pt(i=>i.admin);return n?f.jsx(kle,{}):f.jsxs("section",{className:"flex-1 flex-col space-y-4",children:[f.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[f.jsx("header",{className:"text-2xl font-medium pb-5 leading-none tracking-tight",children:"Bot Profile"}),f.jsx(Ile,{botNameInputRef:r})]}),f.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[f.jsx("header",{className:"text-2xl font-medium pb-5",children:"Additional Information"}),f.jsx(Rle,{})]}),f.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[f.jsx("header",{className:"text-2xl font-medium",children:"Preview"}),f.jsx(Ple,{})]}),(s==null?void 0:s.role)!=="viewer"&&f.jsx("footer",{className:"mt-4 pb-4",children:f.jsx(ut,{className:"w-full",disabled:t,onClick:e,children:t?f.jsx(ul,{}):"Save changes"})})]})},Ole=[{id:"team",icon:f.jsx(RW,{}),label:"Team",comingSoon:!1},{id:"botProfile",icon:f.jsx(dW,{}),label:"Bot Profile",comingSoon:!1},{id:"botModel",icon:f.jsx(cW,{}),label:"Bot Model",comingSoon:!1}],Lle=({onTabChange:t,activeTab:e})=>f.jsx("nav",{className:"w-[14rem] px-2 space-y-2 text-htext font-medium",children:Ole.map(n=>f.jsxs("div",{className:"relative group",children:[f.jsxs("li",{className:de("flex items-center gap-3 py-3 px-2  cursor-pointer rounded-md transition-colors hover:text-opacity-80",e===n.id?"bg-blue-500 text-white":"hover:bg-slate-100 text-opacity-100"),onClick:()=>t(n.id),children:[n.icon," ",n.label]}),n.comingSoon&&f.jsx(Gh,{variant:"secondary",className:"absolute -top-2 right-0 text-[10px] font-normal px-1 py-0.5 bg-blue-100 text-blue-800 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Coming Soon"})]},n.id))}),jle=(t,e,n)=>Jie(t,e,n),Vle=()=>{const t=Pt(a=>a.admin),[e,n]=m.useState(!1),[r,s]=m.useState(null),i=cl(),o=async()=>{n(!0),await lG(),n(!1),i({title:"Model Training Complete",description:"Your AI model is fully trained and ready for use. You can now run queries with the latest data."})};return m.useEffect(()=>{const a=jle("profile","model",l=>{const{timeFinishedTraining:c}=l;s(c)});return()=>a()},[]),f.jsxs("section",{className:"flex-1 flex-col space-y-4",children:[f.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[f.jsx("header",{className:"text-2xl font-medium pb-5 leading-none tracking-tight",children:"Bot Model"}),f.jsxs("div",{className:"flex items-center mb-4",children:[f.jsx("p",{className:"font-medium flex-1",children:"Current Version"}),f.jsx("div",{className:"flex-1",children:f.jsx(Gh,{variant:"secondary",className:"text-lg",children:"v1.0.0"})})]}),f.jsx("div",{className:"grid grid-cols-2 gap-4",children:f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Trained"}),f.jsx("div",{className:"font-medium",children:r||f.jsx(tt,{className:"w-48 h-6"})})]})})]}),f.jsx("footer",{className:"mt-4 pb-4",children:(t==null?void 0:t.role)!=="viewer"&&f.jsx(ut,{className:"w-full",disabled:e,onClick:o,children:e?f.jsx(ul,{}):f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(hW,{size:20})," Train Model"]})})})]})},Fle=({adminId:t,adminRole:e,onDeleteAction:n,onResetPasswordAction:r,onUpdateRoleAction:s})=>f.jsxs(Xg,{modal:!1,children:[f.jsx(Jg,{asChild:!0,children:f.jsx(ut,{variant:"ghost",className:" hover:bg-gray-100 size-8 p-1 group",children:f.jsx(lk,{className:"text-zinc-400 size-5 group-hover:text-zinc-600 transition-colors"})})}),f.jsxs(Hh,{align:"end",className:"w-auto bg-white border border-neutral-300 p-1 rounded-lg shadow-md",children:[t!=="672ca434f2191d3bb7606f0d"?f.jsxs(f.Fragment,{children:[e!=="editor"&&f.jsx(ho,{className:"flex items-center p-2 hover:bg-zinc-100",onClick:async()=>{await s("editor")},children:"Set as Editor"}),e!=="viewer"&&f.jsx(ho,{className:"flex items-center p-2 hover:bg-zinc-100",onClick:async()=>{await s("viewer")},children:"Set as Viewer"}),f.jsx(_E,{}),f.jsxs(ho,{className:"flex items-center p-2 hover:bg-zinc-100 text-red-600",onClick:()=>{n()},children:[f.jsx(fk,{className:"mr-2 h-4 w-4"}),"Delete"]})]}):null,f.jsxs(ho,{className:"flex items-center p-2 hover:bg-zinc-100",onClick:()=>{r()},children:[f.jsx(xW,{className:"mr-2 h-4 w-4"}),"Reset Password"]})]})]}),oU=Ho(t=>({adminId:null,setAdminId:e=>t({adminId:e})})),Ule=({adminInfo:t,onUpdateRole:e})=>{const n=Pt(u=>u.admin),{email:r,role:s,_id:i}=t,o=oU(u=>u.setAdminId),a=Ci(u=>u.openDialog),l=()=>{o(i),a("showConfirmDeleteDialog")},c=()=>{o(i),a("showResetPasswordDialog")};return f.jsxs("section",{className:"flex items-center w-full py-2 font-medium text-sm",children:[f.jsx("div",{className:"flex-1 max-w-[438px] text-zinc-700 truncate",title:r,children:r}),f.jsx("div",{className:"w-[14rem] text-zinc-500",children:"1d ago"}),f.jsx("div",{className:"w-[8rem]",children:f.jsx(Gh,{className:de("flex w-16 items-center justify-center pointer-events-none select-none",s==="admin"&&"bg-red-200 text-red-800",s==="editor"&&"bg-blue-200 text-blue-800",s==="viewer"&&"bg-green-200 text-green-800"),children:xE(s)})}),f.jsx("div",{className:`w-[6rem] ${(n==null?void 0:n.role)==="viewer"&&"py-3"} ${(n==null?void 0:n.role)==="editor"&&"py-3"}`,children:(n==null?void 0:n.role)!=="viewer"&&(n==null?void 0:n.role)!=="editor"&&f.jsx(Fle,{adminId:i,adminRole:s,onDeleteAction:l,onResetPasswordAction:c,onUpdateRoleAction:async u=>await e(u,i)})})]})},bd=({id:t,field:e,placeholderText:n,register:r,message:s,isError:i,validate:o})=>{const[a,l]=m.useState(!1);return f.jsxs("div",{className:"relative",children:[f.jsx(on,{id:t??void 0,className:de(i&&"border-destructive"),type:a?"text":"password",placeholder:n,...r(e,{required:s,minLength:{value:9,message:"Password must be atleast 9 characters"},validate:o})}),f.jsx(ut,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(c=>!c),"aria-label":a?"Hide password":"Show password",children:a?f.jsx(ck,{className:"h-4 w-4 text-gray-500"}):f.jsx(Gx,{className:"h-4 w-4 text-gray-500"})})]})};function lP(t,[e,n]){return Math.min(n,Math.max(e,t))}function Ble(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=d=>{var _;const{scope:p,children:g,...v}=d,w=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,E=m.useMemo(()=>v,Object.values(v));return f.jsx(w.Provider,{value:E,children:g})};c.displayName=i+"Provider";function u(d,p){var w;const g=((w=p==null?void 0:p[t])==null?void 0:w[l])||a,v=m.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,$le(s,...e)]}function $le(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var zle="DismissableLayer",N_="dismissableLayer.update",Kle="dismissableLayer.pointerDownOutside",Wle="dismissableLayer.focusOutside",cP,aU=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lU=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(aU),[u,d]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),v=Me(e,C=>d(C)),w=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=w.indexOf(E),y=u?w.indexOf(u):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,A=y>=_,D=Gle(C=>{const T=C.target,I=[...c.branches].some(P=>P.contains(T));!A||I||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),O=Qle(C=>{const T=C.target;[...c.branches].some(P=>P.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return Bh(C=>{y===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(cP=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),uP(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=cP)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),uP())},[u,c]),m.useEffect(()=>{const C=()=>g({});return document.addEventListener(N_,C),()=>document.removeEventListener(N_,C)},[]),f.jsx(xe.div,{...l,ref:v,style:{pointerEvents:S?A?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,D.onPointerDownCapture)})});lU.displayName=zle;var Hle="DismissableLayerBranch",qle=m.forwardRef((t,e)=>{const n=m.useContext(aU),r=m.useRef(null),s=Me(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(xe.div,{...t,ref:s})});qle.displayName=Hle;function Gle(t,e=globalThis==null?void 0:globalThis.document){const n=Dt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){cU(Kle,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Qle(t,e=globalThis==null?void 0:globalThis.document){const n=Dt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&cU(Wle,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function uP(){const t=new CustomEvent(N_);document.dispatchEvent(t)}function cU(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?sl(s,i):s.dispatchEvent(i)}var Yle="Portal",uU=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Rt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Dh.createPortal(f.jsx(xe.div,{...r,ref:e}),o):null});uU.displayName=Yle;function Xle(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Jle=[" ","Enter","ArrowUp","ArrowDown"],Zle=[" ","Enter"],ff="Select",[Uy,By,ece]=Fg(ff),[uu,rde]=Ble(ff,[ece,Zc]),$y=Zc(),[tce,Jo]=uu(ff),[nce,rce]=uu(ff),dU=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:p,required:g,form:v}=t,w=$y(e),[E,_]=m.useState(null),[y,S]=m.useState(null),[A,D]=m.useState(!1),O=Ug(c),[C=!1,T]=No({prop:r,defaultProp:s,onChange:i}),[I,P]=No({prop:o,defaultProp:a,onChange:l}),M=m.useRef(null),k=E?v||!!E.closest("form"):!0,[N,H]=m.useState(new Set),ae=Array.from(N).map(te=>te.props.value).join(";");return f.jsx(oE,{...w,children:f.jsxs(tce,{required:g,scope:e,trigger:E,onTriggerChange:_,valueNode:y,onValueNodeChange:S,valueNodeHasChildren:A,onValueNodeHasChildrenChange:D,contentId:ds(),value:I,onValueChange:P,open:C,onOpenChange:T,dir:O,triggerPointerDownPosRef:M,disabled:p,children:[f.jsx(Uy.Provider,{scope:e,children:f.jsx(nce,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(te=>{H(ne=>new Set(ne).add(te))},[]),onNativeOptionRemove:m.useCallback(te=>{H(ne=>{const z=new Set(ne);return z.delete(te),z})},[]),children:n})}),k?f.jsxs(jU,{"aria-hidden":!0,required:g,tabIndex:-1,name:u,autoComplete:d,value:I,onChange:te=>P(te.target.value),disabled:p,form:v,children:[I===void 0?f.jsx("option",{value:""}):null,Array.from(N)]},ae):null]})})};dU.displayName=ff;var hU="SelectTrigger",fU=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=$y(n),o=Jo(hU,n),a=o.disabled||r,l=Me(e,o.onTriggerChange),c=By(n),u=m.useRef("touch"),[d,p,g]=VU(w=>{const E=c().filter(S=>!S.disabled),_=E.find(S=>S.value===o.value),y=FU(E,w,_);y!==void 0&&o.onValueChange(y.value)}),v=w=>{a||(o.onOpenChange(!0),g()),w&&(o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return f.jsx(aE,{asChild:!0,...i,children:f.jsx(xe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":LU(o.value)?"":void 0,...s,ref:l,onClick:ee(s.onClick,w=>{w.currentTarget.focus(),u.current!=="mouse"&&v(w)}),onPointerDown:ee(s.onPointerDown,w=>{u.current=w.pointerType;const E=w.target;E.hasPointerCapture(w.pointerId)&&E.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(v(w),w.preventDefault())}),onKeyDown:ee(s.onKeyDown,w=>{const E=d.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&p(w.key),!(E&&w.key===" ")&&Jle.includes(w.key)&&(v(),w.preventDefault())})})})});fU.displayName=hU;var pU="SelectValue",mU=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Jo(pU,n),{onValueNodeHasChildrenChange:c}=l,u=i!==void 0,d=Me(e,l.onValueNodeChange);return Rt(()=>{c(u)},[c,u]),f.jsx(xe.span,{...a,ref:d,style:{pointerEvents:"none"},children:LU(l.value)?f.jsx(f.Fragment,{children:o}):i})});mU.displayName=pU;var sce="SelectIcon",gU=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return f.jsx(xe.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});gU.displayName=sce;var ice="SelectPortal",yU=t=>f.jsx(uU,{asChild:!0,...t});yU.displayName=ice;var Za="SelectContent",vU=m.forwardRef((t,e)=>{const n=Jo(Za,t.__scopeSelect),[r,s]=m.useState();if(Rt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Ai.createPortal(f.jsx(wU,{scope:t.__scopeSelect,children:f.jsx(Uy.Slot,{scope:t.__scopeSelect,children:f.jsx("div",{children:t.children})})}),i):null}return f.jsx(_U,{...t,ref:e})});vU.displayName=Za;var Zr=10,[wU,Zo]=uu(Za),oce="SelectContentImpl",_U=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:g,sticky:v,hideWhenDetached:w,avoidCollisions:E,..._}=t,y=Jo(Za,n),[S,A]=m.useState(null),[D,O]=m.useState(null),C=Me(e,ce=>A(ce)),[T,I]=m.useState(null),[P,M]=m.useState(null),k=By(n),[N,H]=m.useState(!1),ae=m.useRef(!1);m.useEffect(()=>{if(S)return uE(S)},[S]),Xx();const te=m.useCallback(ce=>{const[Ve,...st]=k().map(Qe=>Qe.ref.current),[Fe]=st.slice(-1),ze=document.activeElement;for(const Qe of ce)if(Qe===ze||(Qe==null||Qe.scrollIntoView({block:"nearest"}),Qe===Ve&&D&&(D.scrollTop=0),Qe===Fe&&D&&(D.scrollTop=D.scrollHeight),Qe==null||Qe.focus(),document.activeElement!==ze))return},[k,D]),ne=m.useCallback(()=>te([T,S]),[te,T,S]);m.useEffect(()=>{N&&ne()},[N,ne]);const{onOpenChange:z,triggerPointerDownPosRef:B}=y;m.useEffect(()=>{if(S){let ce={x:0,y:0};const Ve=Fe=>{var ze,Qe;ce={x:Math.abs(Math.round(Fe.pageX)-(((ze=B.current)==null?void 0:ze.x)??0)),y:Math.abs(Math.round(Fe.pageY)-(((Qe=B.current)==null?void 0:Qe.y)??0))}},st=Fe=>{ce.x<=10&&ce.y<=10?Fe.preventDefault():S.contains(Fe.target)||z(!1),document.removeEventListener("pointermove",Ve),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",Ve),document.addEventListener("pointerup",st,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ve),document.removeEventListener("pointerup",st,{capture:!0})}}},[S,z,B]),m.useEffect(()=>{const ce=()=>z(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[z]);const[Z,pe]=VU(ce=>{const Ve=k().filter(ze=>!ze.disabled),st=Ve.find(ze=>ze.ref.current===document.activeElement),Fe=FU(Ve,ce,st);Fe&&setTimeout(()=>Fe.ref.current.focus())}),Te=m.useCallback((ce,Ve,st)=>{const Fe=!ae.current&&!st;(y.value!==void 0&&y.value===Ve||Fe)&&(I(ce),Fe&&(ae.current=!0))},[y.value]),Ae=m.useCallback(()=>S==null?void 0:S.focus(),[S]),Je=m.useCallback((ce,Ve,st)=>{const Fe=!ae.current&&!st;(y.value!==void 0&&y.value===Ve||Fe)&&M(ce)},[y.value]),yt=r==="popper"?D_:xU,qe=yt===D_?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:g,sticky:v,hideWhenDetached:w,avoidCollisions:E}:{};return f.jsx(wU,{scope:n,content:S,viewport:D,onViewportChange:O,itemRefCallback:Te,selectedItem:T,onItemLeave:Ae,itemTextRefCallback:Je,focusSelectedItem:ne,selectedItemText:P,position:r,isPositioned:N,searchRef:Z,children:f.jsx(Gg,{as:Do,allowPinchZoom:!0,children:f.jsx(Bg,{asChild:!0,trapped:y.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:ee(s,ce=>{var Ve;(Ve=y.trigger)==null||Ve.focus({preventScroll:!0}),ce.preventDefault()}),children:f.jsx(lU,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:f.jsx(yt,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:ce=>ce.preventDefault(),..._,...qe,onPlaced:()=>H(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:ee(_.onKeyDown,ce=>{const Ve=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!Ve&&ce.key.length===1&&pe(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let Fe=k().filter(ze=>!ze.disabled).map(ze=>ze.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(Fe=Fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const ze=ce.target,Qe=Fe.indexOf(ze);Fe=Fe.slice(Qe+1)}setTimeout(()=>te(Fe)),ce.preventDefault()}})})})})})})});_U.displayName=oce;var ace="SelectItemAlignedPosition",xU=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Jo(Za,n),o=Zo(Za,n),[a,l]=m.useState(null),[c,u]=m.useState(null),d=Me(e,C=>u(C)),p=By(n),g=m.useRef(!1),v=m.useRef(!0),{viewport:w,selectedItem:E,selectedItemText:_,focusSelectedItem:y}=o,S=m.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&w&&E&&_){const C=i.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),P=_.getBoundingClientRect();if(i.dir!=="rtl"){const ze=P.left-T.left,Qe=I.left-ze,Ft=C.left-Qe,it=C.width+Ft,gn=Math.max(it,T.width),Nr=window.innerWidth-Zr,ys=lP(Qe,[Zr,Math.max(Zr,Nr-gn)]);a.style.minWidth=it+"px",a.style.left=ys+"px"}else{const ze=T.right-P.right,Qe=window.innerWidth-I.right-ze,Ft=window.innerWidth-C.right-Qe,it=C.width+Ft,gn=Math.max(it,T.width),Nr=window.innerWidth-Zr,ys=lP(Qe,[Zr,Math.max(Zr,Nr-gn)]);a.style.minWidth=it+"px",a.style.right=ys+"px"}const M=p(),k=window.innerHeight-Zr*2,N=w.scrollHeight,H=window.getComputedStyle(c),ae=parseInt(H.borderTopWidth,10),te=parseInt(H.paddingTop,10),ne=parseInt(H.borderBottomWidth,10),z=parseInt(H.paddingBottom,10),B=ae+te+N+z+ne,Z=Math.min(E.offsetHeight*5,B),pe=window.getComputedStyle(w),Te=parseInt(pe.paddingTop,10),Ae=parseInt(pe.paddingBottom,10),Je=C.top+C.height/2-Zr,yt=k-Je,qe=E.offsetHeight/2,ce=E.offsetTop+qe,Ve=ae+te+ce,st=B-Ve;if(Ve<=Je){const ze=M.length>0&&E===M[M.length-1].ref.current;a.style.bottom="0px";const Qe=c.clientHeight-w.offsetTop-w.offsetHeight,Ft=Math.max(yt,qe+(ze?Ae:0)+Qe+ne),it=Ve+Ft;a.style.height=it+"px"}else{const ze=M.length>0&&E===M[0].ref.current;a.style.top="0px";const Ft=Math.max(Je,ae+w.offsetTop+(ze?Te:0)+qe)+st;a.style.height=Ft+"px",w.scrollTop=Ve-Je+w.offsetTop}a.style.margin=`${Zr}px 0`,a.style.minHeight=Z+"px",a.style.maxHeight=k+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[p,i.trigger,i.valueNode,a,c,w,E,_,i.dir,r]);Rt(()=>S(),[S]);const[A,D]=m.useState();Rt(()=>{c&&D(window.getComputedStyle(c).zIndex)},[c]);const O=m.useCallback(C=>{C&&v.current===!0&&(S(),y==null||y(),v.current=!1)},[S,y]);return f.jsx(cce,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:O,children:f.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:f.jsx(xe.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});xU.displayName=ace;var lce="SelectPopperPosition",D_=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Zr,...i}=t,o=$y(n);return f.jsx(lE,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});D_.displayName=lce;var[cce,mS]=uu(Za,{}),k_="SelectViewport",EU=m.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Zo(k_,n),o=mS(k_,n),a=Me(e,i.onViewportChange),l=m.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),f.jsx(Uy.Slot,{scope:n,children:f.jsx(xe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ee(s.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&d){const g=Math.abs(l.current-u.scrollTop);if(g>0){const v=window.innerHeight-Zr*2,w=parseFloat(d.style.minHeight),E=parseFloat(d.style.height),_=Math.max(w,E);if(_<v){const y=_+g,S=Math.min(v,y),A=y-S;d.style.height=S+"px",d.style.bottom==="0px"&&(u.scrollTop=A>0?A:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});EU.displayName=k_;var TU="SelectGroup",[uce,dce]=uu(TU),SU=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ds();return f.jsx(uce,{scope:n,id:s,children:f.jsx(xe.div,{role:"group","aria-labelledby":s,...r,ref:e})})});SU.displayName=TU;var bU="SelectLabel",CU=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=dce(bU,n);return f.jsx(xe.div,{id:s.id,...r,ref:e})});CU.displayName=bU;var ag="SelectItem",[hce,IU]=uu(ag),AU=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Jo(ag,n),l=Zo(ag,n),c=a.value===r,[u,d]=m.useState(i??""),[p,g]=m.useState(!1),v=Me(e,y=>{var S;return(S=l.itemRefCallback)==null?void 0:S.call(l,y,r,s)}),w=ds(),E=m.useRef("touch"),_=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(hce,{scope:n,value:r,disabled:s,textId:w,isSelected:c,onItemTextChange:m.useCallback(y=>{d(S=>S||((y==null?void 0:y.textContent)??"").trim())},[]),children:f.jsx(Uy.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:f.jsx(xe.div,{role:"option","aria-labelledby":w,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:v,onFocus:ee(o.onFocus,()=>g(!0)),onBlur:ee(o.onBlur,()=>g(!1)),onClick:ee(o.onClick,()=>{E.current!=="mouse"&&_()}),onPointerUp:ee(o.onPointerUp,()=>{E.current==="mouse"&&_()}),onPointerDown:ee(o.onPointerDown,y=>{E.current=y.pointerType}),onPointerMove:ee(o.onPointerMove,y=>{var S;E.current=y.pointerType,s?(S=l.onItemLeave)==null||S.call(l):E.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ee(o.onPointerLeave,y=>{var S;y.currentTarget===document.activeElement&&((S=l.onItemLeave)==null||S.call(l))}),onKeyDown:ee(o.onKeyDown,y=>{var A;((A=l.searchRef)==null?void 0:A.current)!==""&&y.key===" "||(Zle.includes(y.key)&&_(),y.key===" "&&y.preventDefault())})})})})});AU.displayName=ag;var ed="SelectItemText",PU=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Jo(ed,n),a=Zo(ed,n),l=IU(ed,n),c=rce(ed,n),[u,d]=m.useState(null),p=Me(e,_=>d(_),l.onItemTextChange,_=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,_,l.value,l.disabled)}),g=u==null?void 0:u.textContent,v=m.useMemo(()=>f.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:w,onNativeOptionRemove:E}=c;return Rt(()=>(w(v),()=>E(v)),[w,E,v]),f.jsxs(f.Fragment,{children:[f.jsx(xe.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ai.createPortal(i.children,o.valueNode):null]})});PU.displayName=ed;var RU="SelectItemIndicator",NU=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return IU(RU,n).isSelected?f.jsx(xe.span,{"aria-hidden":!0,...r,ref:e}):null});NU.displayName=RU;var M_="SelectScrollUpButton",DU=m.forwardRef((t,e)=>{const n=Zo(M_,t.__scopeSelect),r=mS(M_,t.__scopeSelect),[s,i]=m.useState(!1),o=Me(e,r.onScrollButtonChange);return Rt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?f.jsx(MU,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});DU.displayName=M_;var O_="SelectScrollDownButton",kU=m.forwardRef((t,e)=>{const n=Zo(O_,t.__scopeSelect),r=mS(O_,t.__scopeSelect),[s,i]=m.useState(!1),o=Me(e,r.onScrollButtonChange);return Rt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?f.jsx(MU,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});kU.displayName=O_;var MU=m.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Zo("SelectScrollButton",n),o=m.useRef(null),a=By(n),l=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>l(),[l]),Rt(()=>{var u;const c=a().find(d=>d.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),f.jsx(xe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ee(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ee(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ee(s.onPointerLeave,()=>{l()})})}),fce="SelectSeparator",OU=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return f.jsx(xe.div,{"aria-hidden":!0,...r,ref:e})});OU.displayName=fce;var L_="SelectArrow",pce=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=$y(n),i=Jo(L_,n),o=Zo(L_,n);return i.open&&o.position==="popper"?f.jsx(cE,{...s,...r,ref:e}):null});pce.displayName=L_;function LU(t){return t===""||t===void 0}var jU=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=m.useRef(null),i=Me(e,s),o=Xle(n);return m.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&u){const d=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(d)}},[o,n]),f.jsx(Zh,{asChild:!0,children:f.jsx("select",{...r,ref:i,defaultValue:n})})});jU.displayName="BubbleSelect";function VU(t){const e=Dt(t),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function FU(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=mce(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function mce(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var gce=dU,UU=fU,yce=mU,vce=gU,wce=yU,BU=vU,_ce=EU,xce=SU,$U=CU,zU=AU,Ece=PU,Tce=NU,KU=DU,WU=kU,HU=OU;const Sce=gce,bce=xce,Cce=yce,qU=m.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(UU,{ref:r,className:de("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,f.jsx(vce,{asChild:!0,children:f.jsx(ik,{className:"h-4 w-4 opacity-50"})})]}));qU.displayName=UU.displayName;const GU=m.forwardRef(({className:t,...e},n)=>f.jsx(KU,{ref:n,className:de("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(pW,{className:"h-4 w-4"})}));GU.displayName=KU.displayName;const QU=m.forwardRef(({className:t,...e},n)=>f.jsx(WU,{ref:n,className:de("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(ik,{className:"h-4 w-4"})}));QU.displayName=WU.displayName;const YU=m.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>f.jsx(wce,{children:f.jsxs(BU,{ref:s,className:de("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[f.jsx(GU,{}),f.jsx(_ce,{className:de("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),f.jsx(QU,{})]})}));YU.displayName=BU.displayName;const Ice=m.forwardRef(({className:t,...e},n)=>f.jsx($U,{ref:n,className:de("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Ice.displayName=$U.displayName;const XU=m.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(zU,{ref:r,className:de("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(Tce,{children:f.jsx(sk,{className:"h-4 w-4"})})}),f.jsx(Ece,{children:e})]}));XU.displayName=zU.displayName;const Ace=m.forwardRef(({className:t,...e},n)=>f.jsx(HU,{ref:n,className:de("-mx-1 my-1 h-px bg-muted",t),...e}));Ace.displayName=HU.displayName;const Pce=["editor","viewer"],Rce=({isOpen:t,setDialogState:e,onAddAdmin:n,isLoading:r})=>{const{register:s,watch:i,formState:{errors:o,isSubmitted:a},control:l,handleSubmit:c,reset:u}=pS(),d=i("password"),p=async v=>{const{confirmPassword:w,...E}=v;console.log(E),await n(E),g()},g=(v=void 0)=>{u({email:"",password:"",confirmPassword:""}),e("showAddAdminDialog",v??!1)};return f.jsx(jy,{open:t,onOpenChange:v=>{g(v)},children:f.jsxs(lf,{className:"sm:max-w-[425px]",children:[f.jsxs(cf,{children:[f.jsx(uf,{className:"text-2xl font-bold",children:"Add Admin"}),f.jsx(df,{children:"Create a new admin account."})]}),f.jsxs("form",{onSubmit:c(p),className:"text-sm space-y-2",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsx(Fn,{htmlFor:"current-password",children:"Email"}),f.jsx(on,{className:de(!!o.email&&"border-destructive"),type:"text",placeholder:"Enter your email",...s("email",{required:"Email is required",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Please enter a valid email address"}})}),a&&o.email&&f.jsx("p",{className:"text-red-500",children:o.email.message})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx(Fn,{htmlFor:"current-password",children:"Password"}),f.jsx(bd,{field:"password",placeholderText:"Enter your password",register:s,message:"Password is required",isError:!!o.password}),a&&o.password&&f.jsx("p",{className:"text-red-500",children:o.password.message})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx(Fn,{htmlFor:"new-password",children:"Confirm Password"}),f.jsx(bd,{field:"confirmPassword",placeholderText:"Re-enter your password",register:s,message:"Confirm password is required",isError:!!o.confirmPassword,validate:v=>v===d||"Password does not match"}),a&&o.confirmPassword&&f.jsx("p",{className:"text-red-500",children:o.confirmPassword.message})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx(Fn,{children:"Role"}),f.jsx(Xae,{name:"role",control:l,rules:{required:"Role is required"},render:({field:v})=>f.jsxs(Sce,{onValueChange:v.onChange,value:v.value,children:[f.jsx(qU,{className:de("w-[180px]",!!o.role&&"border-destructive"),children:f.jsx(Cce,{placeholder:"Select a Role"})}),f.jsx(YU,{children:f.jsx(bce,{children:f.jsx(ty,{items:Pce,renderItem:w=>f.jsx(XU,{value:w,children:xE(w)})})})})]})}),a&&o.role&&f.jsx("p",{className:"text-red-500",children:o.role.message})]}),f.jsx(Vy,{children:f.jsx(ut,{disabled:r,type:"submit",className:"w-40",children:r?f.jsx(ul,{}):"Save changes"})})]})]})})},Nce=({isOpen:t,setDialogState:e,onResetPassword:n,isLoading:r})=>{const{register:s,formState:{errors:i,isSubmitted:o},setError:a,watch:l,handleSubmit:c,reset:u}=pS(),d=l("newPassword"),p=async v=>{const{confirmNewPassword:w,...E}=v,_=await n(E);if(_&&_===fo.passwordIncorrect){a("password",{type:"manual",message:_});return}if(_&&_===fo.passwordSameAsOld){a("newPassword",{type:"manual",message:_});return}g(!1)},g=(v=void 0)=>{e("showResetPasswordDialog",v??!1),u({})};return f.jsx(jy,{open:t,onOpenChange:v=>{g(v),setTimeout(()=>{v||(document.body.style.pointerEvents="")},100)},children:f.jsxs(lf,{className:"sm:max-w-[425px]",children:[f.jsxs(cf,{children:[f.jsx(uf,{className:"text-2xl font-bold",children:"Reset Password"}),f.jsx(df,{children:"Reset admin password and provide a new password."})]}),f.jsxs("form",{onSubmit:c(p),className:"text-sm space-y-2",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsx(Fn,{htmlFor:"current-password",children:"Current Password"}),f.jsx(bd,{id:"current-password",field:"password",placeholderText:"Enter new password",register:s,message:"Password is required",isError:!!i.password}),o&&i.password&&f.jsx("p",{className:"text-red-500",children:i.password.message})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx(Fn,{htmlFor:"newPassword",children:"New Password"}),f.jsx(bd,{id:"newPassword",field:"newPassword",placeholderText:"Enter new password",register:s,message:"Password is required",isError:!!i.newPassword}),o&&i.newPassword&&f.jsx("p",{className:"text-red-500",children:i.newPassword.message})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx(Fn,{htmlFor:"new-password",children:"Confirm New Password"}),f.jsx(bd,{id:"new-password",field:"confirmNewPassword",placeholderText:"Re-enter your password",register:s,message:"Confirm password is required",isError:!!i.confirmNewPassword,validate:v=>v===d||"Password does not match"}),o&&i.confirmNewPassword&&f.jsx("p",{className:"text-red-500",children:i.confirmNewPassword.message})]}),f.jsx(Vy,{children:f.jsx(ut,{type:"submit",className:"w-40",children:r?f.jsx(ul,{}):"Reset Password"})})]})]})})},Dce=()=>f.jsx("section",{className:"flex-1 flex-col space-y-4 relative",children:f.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[f.jsxs("header",{className:"text-2xl flex items-center justify-between font-medium pb-5 leading-none tracking-tight",children:[f.jsxs("div",{children:["Team",f.jsx("p",{className:"ml-3 inline-block min-w-6 text-xs font-medium text-zinc-600",children:"1/1"})]}),f.jsx(tt,{className:"w-[125.556px] h-[36px]"})]}),f.jsxs("div",{children:[f.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[f.jsx("h4",{className:"flex-1",children:f.jsx(tt,{className:"w-16 h-[20px]"})}),f.jsx("h4",{className:"w-[14rem]",children:f.jsx(tt,{className:"w-24 h-[20px]"})}),f.jsx("h4",{className:"w-[8rem]",children:f.jsx(tt,{className:"w-12 h-[20px]"})}),f.jsx("h4",{className:"w-[6rem]"})]}),f.jsx("hr",{className:"border-customBorderColor"}),f.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[f.jsx("h4",{className:"flex-1",children:f.jsx(tt,{className:"w-32 h-[20px]"})}),f.jsx("h4",{className:"w-[14rem]",children:f.jsx(tt,{className:"w-12 h-[20px]"})}),f.jsx("h4",{className:"w-[8rem]",children:f.jsx(tt,{className:"w-20 h-[20px]"})}),f.jsx("h4",{className:"w-[6rem]"})]}),f.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[f.jsx("h4",{className:"flex-1",children:f.jsx(tt,{className:"w-40 h-[20px]"})}),f.jsx("h4",{className:"w-[14rem]",children:f.jsx(tt,{className:"w-16 h-[20px]"})}),f.jsx("h4",{className:"w-[8rem]",children:f.jsx(tt,{className:"w-12 h-[20px]"})}),f.jsx("h4",{className:"w-[6rem]"})]}),f.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[f.jsx("h4",{className:"flex-1",children:f.jsx(tt,{className:"w-32 h-[20px]"})}),f.jsx("h4",{className:"w-[14rem]",children:f.jsx(tt,{className:"w-12 h-[20px]"})}),f.jsx("h4",{className:"w-[8rem]",children:f.jsx(tt,{className:"w-20 h-[20px]"})}),f.jsx("h4",{className:"w-[6rem]"})]})]})]})}),kce=async(t,e)=>{const n={email:t,password:e},{success:r,accessToken:s,admin:i}=await tu("/api/auth/login",{},n);if(!r)throw new Error("Error loggin in");return{accessToken:s,admin:i}},Mce=async()=>{const{admins:t}=await EE("/api/auth/admins");return t},Oce=async t=>{const{message:e}=await tu("/api/auth/register",{},t);return e},Lce=async t=>{const{message:e}=await TE(`/api/auth/${t}`);return e},jce=async t=>{const{message:e}=await ey("/api/auth/reset",{},t);if(e===fo.passwordIncorrect||e===fo.passwordSameAsOld)throw new Error(e);return e},Vce=async t=>{const{message:e}=await ey("/api/auth/role",{},t);return e},Fce=()=>{const t=cu(),e=JM(),n=cl(),r=Ci(y=>y.dialogs),s=Ci(y=>y.setDialogState),i=oU(y=>y.adminId),{data:o,isLoading:a}=XT({queryFn:()=>Mce(),queryKey:Vu}),{mutateAsync:l}=si({mutationFn:Lce,onSuccess:y=>{t.invalidateQueries({queryKey:Vu}),n({title:y,description:Kt()})},onError:y=>{n({title:y==null?void 0:y.message,description:Kt(),variant:"destructive"}),ke(y.message||"An Unexpected error occured while deleting admin account")}}),{mutateAsync:c,isPending:u}=si({mutationFn:Oce,onSuccess:y=>{t.invalidateQueries({queryKey:Vu}),n({title:y,description:Kt()})},onError:y=>{n({title:y==null?void 0:y.message,description:Kt(),variant:"destructive"}),ke(y.message||"An Unexpected error occured while adding admin account")}}),{mutateAsync:d,isPending:p}=si({mutationFn:jce,onSuccess:y=>{t.invalidateQueries({queryKey:Vu}),n({title:y,description:Kt()})},onError:y=>{y.message===fo.passwordIncorrect||y.message===fo.passwordSameAsOld||(n({title:y==null?void 0:y.message,description:Kt(),variant:"destructive"}),ke(y.message??"An error occured while updating admin account"))}}),{mutateAsync:g}=si({mutationFn:Vce,onSuccess:async y=>{t.invalidateQueries({queryKey:Vu}),await e(1e3),n({title:y,description:Kt()})},onError:y=>{n({title:y==null?void 0:y.message,description:Kt(),variant:"destructive"}),ke(y.message||"An Unexpected error occured while updating admin role")}});return{setDialogState:s,isAdminListLoading:a,adminList:o,handleAddAdmin:async y=>{try{await c(y)}catch(S){S instanceof Error&&ke(S.message??"An error occured adding admin account"),console.error("An unexpected error occured: ",S)}},handleDeleteAdmin:async()=>{try{if(!i)throw new Error("No admin selected cannot delete");await l(i)}catch(y){y instanceof Error&&ke(y.message??"An error occured deleting admin account"),console.error("An unexpected error occured: ",y)}},handleResetAdminPassword:async y=>{try{if(!i)throw new Error("Admin ID not found, cannot proceed");await d({...y,_id:i})}catch(S){if(S instanceof Error&&(ke(S.message??"An error occured deleting admin account"),S.message===fo.passwordIncorrect||S.message===fo.passwordSameAsOld))return S.message;console.error("An unexpected error occured: ",S)}},handleUpdateAdminRole:async(y,S)=>{try{if(!S)throw new Error("Admin is not available cannot update role");await g({role:y,_id:S})}catch(A){A instanceof Error&&ke(A.message??`An error occured: ${A}`),console.error("An unexpected error occured: ",A)}},dialogs:r,isPending:u,resetAdminPasswordIsPending:p}},Uce=()=>{const t=Pt(d=>d.admin),{adminList:e,dialogs:n,isAdminListLoading:r,isPending:s,handleAddAdmin:i,handleDeleteAdmin:o,handleResetAdminPassword:a,handleUpdateAdminRole:l,resetAdminPasswordIsPending:c,setDialogState:u}=Fce();return r?f.jsx(Dce,{}):f.jsxs("section",{className:"flex-1 flex-col space-y-4 relative",children:[f.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[f.jsxs("header",{className:"text-2xl flex items-center justify-between font-medium pb-5 leading-none tracking-tight",children:[f.jsxs("div",{children:["Team",f.jsx(gy,{tooltip:"Maximum of 5 admins can be created",children:f.jsx("p",{className:"ml-3 inline-block min-w-6 text-xs font-medium text-zinc-600",children:`${e==null?void 0:e.length}/${KZ}`})})]}),f.jsx("div",{children:(t==null?void 0:t.role)!=="viewer"&&(t==null?void 0:t.role)!=="editor"&&f.jsxs(ut,{size:"sm",onClick:()=>u("showAddAdminDialog",!0),disabled:(e==null?void 0:e.length)===5,children:[f.jsx(Uh,{className:"size-5 mr-2"}),"Add Admin"]})})]}),f.jsxs("div",{children:[f.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[f.jsx("h4",{className:"flex-1",children:"User"}),f.jsx("h4",{className:"w-[14rem]",children:"Last Active"}),f.jsx("h4",{className:"w-[8rem]",children:"Role"}),f.jsx("h4",{className:"w-[6rem]"})]}),f.jsx("hr",{className:"border-customBorderColor"}),f.jsx(ty,{items:e,renderItem:d=>f.jsx(Ule,{adminInfo:d,onUpdateRole:l})})]})]}),f.jsx(Rce,{isOpen:n.showAddAdminDialog,setDialogState:u,onAddAdmin:i,isLoading:s}),(n==null?void 0:n.showConfirmDeleteDialog)&&f.jsx(aS,{isOpen:n.showConfirmDeleteDialog,setDialogState:d=>u("showConfirmDeleteDialog",d),onDelete:o,message:"This action cannot be undone. This will permanently delete the admin account"}),(n==null?void 0:n.showResetPasswordDialog)&&f.jsx(Nce,{isOpen:n.showResetPasswordDialog,setDialogState:u,onResetPassword:a,isLoading:c})]})},Bce=()=>{const{currentTab:t,setActiveTab:e}=zF("team");return f.jsxs("section",{className:"flex space-x-2",children:[f.jsx(Lle,{activeTab:t,onTabChange:e}),t==="team"&&f.jsx(Uce,{}),t==="botProfile"&&f.jsx(Mle,{}),t==="botModel"&&f.jsx(Vle,{})]})},$ce=()=>f.jsx("header",{className:"py-4 text-3xl font-semibold",children:"Settings"}),zce=()=>f.jsxs("div",{className:"flex flex-col md:w-[84rem] w-[68rem] px-20 space-y-6",children:[f.jsx($ce,{}),f.jsx(Bce,{})]}),Kce=({id:t,text:e,onChange:n,checked:r})=>f.jsxs(f.Fragment,{children:[f.jsx("input",{type:"radio",id:t,name:"nav-btn",value:e,className:"hidden peer",checked:r,onChange:n}),f.jsx("label",{htmlFor:t,className:"flex-1 flex w-[190px] justify-center items-center py-3 px-4 cursor-pointer uppercase text-sm font-[500]",children:e})]}),Wce=({labels:t,selectedTab:e,setSelectedTab:n})=>{const r=s=>{ke(s),n(s)};return f.jsx("nav",{className:"tabs relative flex after:absolute after:bottom-0 after:pointer-events-none after:border after:border-blue-500",children:t==null?void 0:t.map(s=>f.jsx(Kce,{id:s,text:s,checked:e==s,onChange:()=>r(s)},s))})},Hce={siteName:"COB-CHATBOT",botName:"AI NLP Assistant"},qce={chatbot:XJ,settings:zce,knowledge:xle},Gce=()=>{const[t,e]=m.useState("chatbot"),n=["chatbot","knowledge","settings"],r=qce[t]||null;return f.jsxs("div",{className:"min-h-[100dvh] flex flex-col bg-[#F8F9FB] scrollbar-slim",children:[f.jsxs(sG,{text:Hce.siteName,children:[f.jsx(Wce,{labels:n,selectedTab:t,setSelectedTab:e}),f.jsx("hr",{className:"w-full border-neutral-300"})]}),r&&f.jsx(iG,{Component:r})]})};function Qce(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=d=>{var _;const{scope:p,children:g,...v}=d,w=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,E=m.useMemo(()=>v,Object.values(v));return f.jsx(w.Provider,{value:E,children:g})};c.displayName=i+"Provider";function u(d,p){var w;const g=((w=p==null?void 0:p[t])==null?void 0:w[l])||a,v=m.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Yce(s,...e)]}function Yce(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Xce="DismissableLayer",j_="dismissableLayer.update",Jce="dismissableLayer.pointerDownOutside",Zce="dismissableLayer.focusOutside",dP,JU=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ZU=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(JU),[u,d]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),v=Me(e,C=>d(C)),w=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=w.indexOf(E),y=u?w.indexOf(u):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,A=y>=_,D=tue(C=>{const T=C.target,I=[...c.branches].some(P=>P.contains(T));!A||I||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),O=nue(C=>{const T=C.target;[...c.branches].some(P=>P.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return Bh(C=>{y===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(dP=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),hP(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=dP)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),hP())},[u,c]),m.useEffect(()=>{const C=()=>g({});return document.addEventListener(j_,C),()=>document.removeEventListener(j_,C)},[]),f.jsx(xe.div,{...l,ref:v,style:{pointerEvents:S?A?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,D.onPointerDownCapture)})});ZU.displayName=Xce;var eue="DismissableLayerBranch",e4=m.forwardRef((t,e)=>{const n=m.useContext(JU),r=m.useRef(null),s=Me(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(xe.div,{...t,ref:s})});e4.displayName=eue;function tue(t,e=globalThis==null?void 0:globalThis.document){const n=Dt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){t4(Jce,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function nue(t,e=globalThis==null?void 0:globalThis.document){const n=Dt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&t4(Zce,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function hP(){const t=new CustomEvent(j_);document.dispatchEvent(t)}function t4(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?sl(s,i):s.dispatchEvent(i)}var rue=ZU,sue=e4,iue="Portal",n4=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Rt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Dh.createPortal(f.jsx(xe.div,{...r,ref:e}),o):null});n4.displayName=iue;function oue(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var r4=t=>{const{present:e,children:n}=t,r=aue(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=Me(r.ref,lue(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};r4.displayName="Presence";function aue(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=oue(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=mp(r.current);i.current=a==="mounted"?c:"none"},[a]),Rt(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=mp(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Rt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=g=>{const w=mp(r.current).includes(g.animationName);if(g.target===e&&w&&(l("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},p=g=>{g.target===e&&(i.current=mp(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function mp(t){return(t==null?void 0:t.animationName)||"none"}function lue(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var gS="ToastProvider",[yS,cue,uue]=Fg("Toast"),[s4,sde]=Qce("Toast",[uue]),[due,zy]=s4(gS),i4=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=m.useState(null),[c,u]=m.useState(0),d=m.useRef(!1),p=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${gS}\`. Expected non-empty \`string\`.`),f.jsx(yS.Provider,{scope:e,children:f.jsx(due,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>u(g=>g+1),[]),onToastRemove:m.useCallback(()=>u(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:p,children:o})})};i4.displayName=gS;var o4="ToastViewport",hue=["F8"],V_="toast.viewportPause",F_="toast.viewportResume",a4=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=hue,label:s="Notifications ({hotkey})",...i}=t,o=zy(o4,n),a=cue(n),l=m.useRef(null),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),p=Me(e,d,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;m.useEffect(()=>{const E=_=>{var S;r.length!==0&&r.every(A=>_[A]||_.code===A)&&((S=d.current)==null||S.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),m.useEffect(()=>{const E=l.current,_=d.current;if(v&&E&&_){const y=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(V_);_.dispatchEvent(O),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(F_);_.dispatchEvent(O),o.isClosePausedRef.current=!1}},A=O=>{!E.contains(O.relatedTarget)&&S()},D=()=>{E.contains(document.activeElement)||S()};return E.addEventListener("focusin",y),E.addEventListener("focusout",A),E.addEventListener("pointermove",y),E.addEventListener("pointerleave",D),window.addEventListener("blur",y),window.addEventListener("focus",S),()=>{E.removeEventListener("focusin",y),E.removeEventListener("focusout",A),E.removeEventListener("pointermove",y),E.removeEventListener("pointerleave",D),window.removeEventListener("blur",y),window.removeEventListener("focus",S)}}},[v,o.isClosePausedRef]);const w=m.useCallback(({tabbingDirection:E})=>{const y=a().map(S=>{const A=S.ref.current,D=[A,...bue(A)];return E==="forwards"?D:D.reverse()});return(E==="forwards"?y.reverse():y).flat()},[a]);return m.useEffect(()=>{const E=d.current;if(E){const _=y=>{var D,O,C;const S=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!S){const T=document.activeElement,I=y.shiftKey;if(y.target===E&&I){(D=c.current)==null||D.focus();return}const k=w({tabbingDirection:I?"backwards":"forwards"}),N=k.findIndex(H=>H===T);xw(k.slice(N+1))?y.preventDefault():I?(O=c.current)==null||O.focus():(C=u.current)==null||C.focus()}};return E.addEventListener("keydown",_),()=>E.removeEventListener("keydown",_)}},[a,w]),f.jsxs(sue,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&f.jsx(U_,{ref:c,onFocusFromOutsideViewport:()=>{const E=w({tabbingDirection:"forwards"});xw(E)}}),f.jsx(yS.Slot,{scope:n,children:f.jsx(xe.ol,{tabIndex:-1,...i,ref:p})}),v&&f.jsx(U_,{ref:u,onFocusFromOutsideViewport:()=>{const E=w({tabbingDirection:"backwards"});xw(E)}})]})});a4.displayName=o4;var l4="ToastFocusProxy",U_=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=zy(l4,n);return f.jsx(Zh,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});U_.displayName=l4;var Ky="Toast",fue="toast.swipeStart",pue="toast.swipeMove",mue="toast.swipeCancel",gue="toast.swipeEnd",c4=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=No({prop:r,defaultProp:s,onChange:i});return f.jsx(r4,{present:n||a,children:f.jsx(wue,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Dt(t.onPause),onResume:Dt(t.onResume),onSwipeStart:ee(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ee(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:ee(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ee(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});c4.displayName=Ky;var[yue,vue]=s4(Ky,{onClose(){}}),wue=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:p,onSwipeEnd:g,...v}=t,w=zy(Ky,n),[E,_]=m.useState(null),y=Me(e,H=>_(H)),S=m.useRef(null),A=m.useRef(null),D=s||w.duration,O=m.useRef(0),C=m.useRef(D),T=m.useRef(0),{onToastAdd:I,onToastRemove:P}=w,M=Dt(()=>{var ae;(E==null?void 0:E.contains(document.activeElement))&&((ae=w.viewport)==null||ae.focus()),o()}),k=m.useCallback(H=>{!H||H===1/0||(window.clearTimeout(T.current),O.current=new Date().getTime(),T.current=window.setTimeout(M,H))},[M]);m.useEffect(()=>{const H=w.viewport;if(H){const ae=()=>{k(C.current),c==null||c()},te=()=>{const ne=new Date().getTime()-O.current;C.current=C.current-ne,window.clearTimeout(T.current),l==null||l()};return H.addEventListener(V_,te),H.addEventListener(F_,ae),()=>{H.removeEventListener(V_,te),H.removeEventListener(F_,ae)}}},[w.viewport,D,l,c,k]),m.useEffect(()=>{i&&!w.isClosePausedRef.current&&k(D)},[i,D,w.isClosePausedRef,k]),m.useEffect(()=>(I(),()=>P()),[I,P]);const N=m.useMemo(()=>E?g4(E):null,[E]);return w.viewport?f.jsxs(f.Fragment,{children:[N&&f.jsx(_ue,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),f.jsx(yue,{scope:n,onClose:M,children:Ai.createPortal(f.jsx(yS.ItemSlot,{scope:n,children:f.jsx(rue,{asChild:!0,onEscapeKeyDown:ee(a,()=>{w.isFocusedToastEscapeKeyDownRef.current||M(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(xe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":w.swipeDirection,...v,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ee(t.onKeyDown,H=>{H.key==="Escape"&&(a==null||a(H.nativeEvent),H.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:ee(t.onPointerDown,H=>{H.button===0&&(S.current={x:H.clientX,y:H.clientY})}),onPointerMove:ee(t.onPointerMove,H=>{if(!S.current)return;const ae=H.clientX-S.current.x,te=H.clientY-S.current.y,ne=!!A.current,z=["left","right"].includes(w.swipeDirection),B=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,Z=z?B(0,ae):0,pe=z?0:B(0,te),Te=H.pointerType==="touch"?10:2,Ae={x:Z,y:pe},Je={originalEvent:H,delta:Ae};ne?(A.current=Ae,gp(pue,d,Je,{discrete:!1})):fP(Ae,w.swipeDirection,Te)?(A.current=Ae,gp(fue,u,Je,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(ae)>Te||Math.abs(te)>Te)&&(S.current=null)}),onPointerUp:ee(t.onPointerUp,H=>{const ae=A.current,te=H.target;if(te.hasPointerCapture(H.pointerId)&&te.releasePointerCapture(H.pointerId),A.current=null,S.current=null,ae){const ne=H.currentTarget,z={originalEvent:H,delta:ae};fP(ae,w.swipeDirection,w.swipeThreshold)?gp(gue,g,z,{discrete:!0}):gp(mue,p,z,{discrete:!0}),ne.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),_ue=t=>{const{__scopeToast:e,children:n,...r}=t,s=zy(Ky,e),[i,o]=m.useState(!1),[a,l]=m.useState(!1);return Tue(()=>o(!0)),m.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:f.jsx(n4,{asChild:!0,children:f.jsx(Zh,{...r,children:i&&f.jsxs(f.Fragment,{children:[s.label," ",n]})})})},xue="ToastTitle",u4=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(xe.div,{...r,ref:e})});u4.displayName=xue;var Eue="ToastDescription",d4=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(xe.div,{...r,ref:e})});d4.displayName=Eue;var h4="ToastAction",f4=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?f.jsx(m4,{altText:n,asChild:!0,children:f.jsx(vS,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${h4}\`. Expected non-empty \`string\`.`),null)});f4.displayName=h4;var p4="ToastClose",vS=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=vue(p4,n);return f.jsx(m4,{asChild:!0,children:f.jsx(xe.button,{type:"button",...r,ref:e,onClick:ee(t.onClick,s.onClose)})})});vS.displayName=p4;var m4=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return f.jsx(xe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function g4(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Sue(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...g4(r))}}),e}function gp(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?sl(s,i):s.dispatchEvent(i)}var fP=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function Tue(t=()=>{}){const e=Dt(t);Rt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Sue(t){return t.nodeType===t.ELEMENT_NODE}function bue(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function xw(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var Cue=i4,y4=a4,v4=c4,w4=u4,_4=d4,x4=f4,E4=vS;const Iue=Cue,T4=m.forwardRef(({className:t,...e},n)=>f.jsx(y4,{ref:n,className:de("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));T4.displayName=y4.displayName;const Aue=qh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),S4=m.forwardRef(({className:t,variant:e,...n},r)=>f.jsx(v4,{ref:r,className:de(Aue({variant:e}),t),...n}));S4.displayName=v4.displayName;const Pue=m.forwardRef(({className:t,...e},n)=>f.jsx(x4,{ref:n,className:de("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Pue.displayName=x4.displayName;const b4=m.forwardRef(({className:t,...e},n)=>f.jsx(E4,{ref:n,className:de("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:f.jsx(jg,{className:"h-4 w-4"})}));b4.displayName=E4.displayName;const C4=m.forwardRef(({className:t,...e},n)=>f.jsx(w4,{ref:n,className:de("text-sm font-semibold",t),...e}));C4.displayName=w4.displayName;const I4=m.forwardRef(({className:t,...e},n)=>f.jsx(_4,{ref:n,className:de("text-sm opacity-90",t),...e}));I4.displayName=_4.displayName;function Rue(){const{toasts:t}=AV();return f.jsxs(Iue,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return f.jsxs(S4,{...i,children:[f.jsxs("div",{className:"grid gap-1",children:[n&&f.jsx(C4,{children:n}),r&&f.jsx(I4,{children:r})]}),s,f.jsx(b4,{})]},e)}),f.jsx(T4,{})]})}const Nue=()=>{const t=Qc();m.useEffect(()=>{SV(qie,"page_view",{page_path:t.pathname})},[t])},Due=()=>{const t=Pt(r=>r.isAuth),e=Pt(r=>r.admin),n=new Ooe;return iW(),Nue(),!t&&!e?f.jsx(nk,{to:"/login"}):f.jsx(Uoe,{client:n,children:f.jsxs("main",{children:[f.jsx(Gce,{}),f.jsx(Rue,{})]})})},kue=qh("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),A4=m.forwardRef(({className:t,variant:e,...n},r)=>f.jsx("div",{ref:r,role:"alert",className:de(kue({variant:e}),t),...n}));A4.displayName="Alert";const Mue=m.forwardRef(({className:t,...e},n)=>f.jsx("h5",{ref:n,className:de("mb-1 font-medium leading-none tracking-tight",t),...e}));Mue.displayName="AlertTitle";const P4=m.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:de("text-sm [&_p]:leading-relaxed",t),...e}));P4.displayName="AlertDescription";const Oue=({password:t,setPassword:e})=>{const[n,r]=m.useState(!1);return f.jsxs("div",{className:"relative",children:[f.jsx(on,{id:"password",type:n?"text":"password",placeholder:"",value:t,onChange:s=>e(s.target.value),required:!0}),f.jsx(ut,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>r(s=>!s),"aria-label":n?"Hide password":"Show password",children:n?f.jsx(ck,{className:"h-4 w-4 text-gray-500"}):f.jsx(Gx,{className:"h-4 w-4 text-gray-500"})})]})},Lue=()=>{const t=Fh(),[e,n]=m.useState(""),[r,s]=m.useState(""),[i,o]=m.useState(""),[a,l]=m.useState(!1),c=Pt(p=>p.login),u=Pt(p=>p.isAuth),d=async p=>{p.preventDefault(),o(""),l(!0);try{const{accessToken:g,admin:v}=await kce(e,r);c(g,v),t("/")}catch{o("Invalid credentials, Please try again.")}finally{l(!1)}};return u?f.jsx(nk,{to:"/"}):f.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-r from-gray-100 to-gray-200 relative",children:[f.jsx("div",{className:"absolute inset-0 opacity-10 bg-cover bg-center z-0",style:{backgroundImage:"url('/placeholder.svg?height=1080&width=1920')",filter:"blur(3px)"},"aria-hidden":"true"}),f.jsxs(yy,{className:"w-full max-w-md z-10",children:[f.jsxs(ij,{children:[f.jsx(oj,{className:"text-2xl font-bold text-center",children:"Welcome Back"}),f.jsx(aj,{className:"text-center",children:"Please sign in to your account"})]}),f.jsx(vy,{children:f.jsxs("form",{onSubmit:d,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fn,{htmlFor:"email",children:"Email"}),f.jsx(on,{id:"email",type:"email",placeholder:"email@address.com",value:e,onChange:p=>n(p.target.value),required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fn,{htmlFor:"password",children:"Password"}),f.jsx(Oue,{password:r,setPassword:s})]}),i&&f.jsxs(A4,{variant:"destructive",children:[f.jsx(ak,{className:"h-4 w-4"}),f.jsx(P4,{children:i})]}),f.jsx(ut,{type:"submit",className:"w-full",disabled:a,children:a?"Signing In...":"Sign In"})]})}),f.jsxs(lj,{className:"flex flex-col items-center justify-center space-y-2",children:[f.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Powered by cob-chatbot"}),f.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Intelligent conversations, seamless interactions"})]})]})]})};function jue(){var n;const t=tk();let e;return Vh(t)?e=t.statusText||((n=t.data)==null?void 0:n.message)||"An unexpected error occurred.":t instanceof Error?e=t.message:typeof t=="string"?e=t:(console.error(t),e="An unknown error occurred."),f.jsx("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center items-center px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"max-w-md w-full space-y-8 text-center",children:[f.jsx("div",{className:"flex justify-center",children:f.jsx(ak,{className:"h-24 w-24 text-red-600"})}),f.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Oops! Something went wrong"}),f.jsx("p",{className:"mt-2 text-sm text-gray-600",children:e}),f.jsx("div",{className:"mt-5",children:f.jsx(rW,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Go back home"})})]})})}const Vue=zK([{path:"/",element:f.jsx(Due,{}),errorElement:f.jsx(jue,{})},{path:"/login",element:f.jsx(Lue,{})}],{basename:"/admin"});Ew.createRoot(document.getElementById("root")).render(f.jsx(Ke.StrictMode,{children:f.jsx(JK,{router:Vue})}));
