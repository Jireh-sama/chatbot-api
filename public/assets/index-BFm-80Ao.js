var ng=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var L=(t,e,n)=>(ng(t,e,"read from private field"),n?n.call(t):e.get(t)),se=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Z=(t,e,n,r)=>(ng(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var mh=(t,e,n,r)=>({set _(i){Z(t,e,i,n)},get _(){return L(t,e,r)}}),xe=(t,e,n)=>(ng(t,e,"access private method"),n);function m1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Rw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var g1={exports:{}},Mp={},y1={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sd=Symbol.for("react.element"),BL=Symbol.for("react.portal"),$L=Symbol.for("react.fragment"),zL=Symbol.for("react.strict_mode"),WL=Symbol.for("react.profiler"),KL=Symbol.for("react.provider"),HL=Symbol.for("react.context"),GL=Symbol.for("react.forward_ref"),qL=Symbol.for("react.suspense"),QL=Symbol.for("react.memo"),YL=Symbol.for("react.lazy"),ox=Symbol.iterator;function XL(t){return t===null||typeof t!="object"?null:(t=ox&&t[ox]||t["@@iterator"],typeof t=="function"?t:null)}var v1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w1=Object.assign,_1={};function Hl(t,e,n){this.props=t,this.context=e,this.refs=_1,this.updater=n||v1}Hl.prototype.isReactComponent={};Hl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Hl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function E1(){}E1.prototype=Hl.prototype;function Iw(t,e,n){this.props=t,this.context=e,this.refs=_1,this.updater=n||v1}var Pw=Iw.prototype=new E1;Pw.constructor=Iw;w1(Pw,Hl.prototype);Pw.isPureReactComponent=!0;var ax=Array.isArray,x1=Object.prototype.hasOwnProperty,Aw={current:null},T1={key:!0,ref:!0,__self:!0,__source:!0};function S1(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)x1.call(e,r)&&!T1.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Sd,type:t,key:s,ref:o,props:i,_owner:Aw.current}}function JL(t,e){return{$$typeof:Sd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function kw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sd}function ZL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var lx=/\/+/g;function rg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ZL(""+t.key):e.toString(36)}function tf(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Sd:case BL:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+rg(o,0):r,ax(i)?(n="",t!=null&&(n=t.replace(lx,"$&/")+"/"),tf(i,e,n,"",function(u){return u})):i!=null&&(kw(i)&&(i=JL(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(lx,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",ax(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+rg(s,a);o+=tf(s,e,n,l,i)}else if(l=XL(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+rg(s,a++),o+=tf(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function gh(t,e,n){if(t==null)return t;var r=[],i=0;return tf(t,r,"","",function(s){return e.call(n,s,i++)}),r}function e2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var bn={current:null},nf={transition:null},t2={ReactCurrentDispatcher:bn,ReactCurrentBatchConfig:nf,ReactCurrentOwner:Aw};function b1(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:gh,forEach:function(t,e,n){gh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gh(t,function(){e++}),e},toArray:function(t){return gh(t,function(e){return e})||[]},only:function(t){if(!kw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ce.Component=Hl;Ce.Fragment=$L;Ce.Profiler=WL;Ce.PureComponent=Iw;Ce.StrictMode=zL;Ce.Suspense=qL;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t2;Ce.act=b1;Ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=w1({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Aw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)x1.call(e,l)&&!T1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Sd,type:t.type,key:i,ref:s,props:r,_owner:o}};Ce.createContext=function(t){return t={$$typeof:HL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:KL,_context:t},t.Consumer=t};Ce.createElement=S1;Ce.createFactory=function(t){var e=S1.bind(null,t);return e.type=t,e};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(t){return{$$typeof:GL,render:t}};Ce.isValidElement=kw;Ce.lazy=function(t){return{$$typeof:YL,_payload:{_status:-1,_result:t},_init:e2}};Ce.memo=function(t,e){return{$$typeof:QL,type:t,compare:e===void 0?null:e}};Ce.startTransition=function(t){var e=nf.transition;nf.transition={};try{t()}finally{nf.transition=e}};Ce.unstable_act=b1;Ce.useCallback=function(t,e){return bn.current.useCallback(t,e)};Ce.useContext=function(t){return bn.current.useContext(t)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(t){return bn.current.useDeferredValue(t)};Ce.useEffect=function(t,e){return bn.current.useEffect(t,e)};Ce.useId=function(){return bn.current.useId()};Ce.useImperativeHandle=function(t,e,n){return bn.current.useImperativeHandle(t,e,n)};Ce.useInsertionEffect=function(t,e){return bn.current.useInsertionEffect(t,e)};Ce.useLayoutEffect=function(t,e){return bn.current.useLayoutEffect(t,e)};Ce.useMemo=function(t,e){return bn.current.useMemo(t,e)};Ce.useReducer=function(t,e,n){return bn.current.useReducer(t,e,n)};Ce.useRef=function(t){return bn.current.useRef(t)};Ce.useState=function(t){return bn.current.useState(t)};Ce.useSyncExternalStore=function(t,e,n){return bn.current.useSyncExternalStore(t,e,n)};Ce.useTransition=function(){return bn.current.useTransition()};Ce.version="18.3.1";y1.exports=Ce;var y=y1.exports;const jr=Rw(y),C1=m1({__proto__:null,default:jr},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n2=y,r2=Symbol.for("react.element"),i2=Symbol.for("react.fragment"),s2=Object.prototype.hasOwnProperty,o2=n2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a2={key:!0,ref:!0,__self:!0,__source:!0};function R1(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)s2.call(e,r)&&!a2.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:r2,type:t,key:s,ref:o,props:i,_owner:o2.current}}Mp.Fragment=i2;Mp.jsx=R1;Mp.jsxs=R1;g1.exports=Mp;var m=g1.exports,Ey={},I1={exports:{}},qn={},P1={exports:{}},A1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,$){var Y=z.length;z.push($);e:for(;0<Y;){var ae=Y-1>>>1,ge=z[ae];if(0<i(ge,$))z[ae]=$,z[Y]=ge,Y=ae;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var $=z[0],Y=z.pop();if(Y!==$){z[0]=Y;e:for(var ae=0,ge=z.length,be=ge>>>1;ae<be;){var ht=2*(ae+1)-1,Ct=z[ht],$e=ht+1,ze=z[$e];if(0>i(Ct,Y))$e<ge&&0>i(ze,Ct)?(z[ae]=ze,z[$e]=Y,ae=$e):(z[ae]=Ct,z[ht]=Y,ae=ht);else if($e<ge&&0>i(ze,Y))z[ae]=ze,z[$e]=Y,ae=$e;else break e}}return $}function i(z,$){var Y=z.sortIndex-$.sortIndex;return Y!==0?Y:z.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,p=!1,E=!1,v=!1,T=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(z){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=z)r(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(u)}}function I(z){if(v=!1,b(z),!E)if(n(l)!==null)E=!0,fe(N);else{var $=n(u);$!==null&&le(I,$.startTime-z)}}function N(z,$){E=!1,v&&(v=!1,x(w),w=-1),p=!0;var Y=f;try{for(b($),h=n(l);h!==null&&(!(h.expirationTime>$)||z&&!D());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,f=h.priorityLevel;var ge=ae(h.expirationTime<=$);$=t.unstable_now(),typeof ge=="function"?h.callback=ge:h===n(l)&&r(l),b($)}else r(l);h=n(l)}if(h!==null)var be=!0;else{var ht=n(u);ht!==null&&le(I,ht.startTime-$),be=!1}return be}finally{h=null,f=Y,p=!1}}var F=!1,C=null,w=-1,R=5,A=-1;function D(){return!(t.unstable_now()-A<R)}function M(){if(C!==null){var z=t.unstable_now();A=z;var $=!0;try{$=C(!0,z)}finally{$?k():(F=!1,C=null)}}else F=!1}var k;if(typeof _=="function")k=function(){_(M)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,Se=J.port2;J.port1.onmessage=M,k=function(){Se.postMessage(null)}}else k=function(){T(M,0)};function fe(z){C=z,F||(F=!0,k())}function le(z,$){w=T(function(){z(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){E||p||(E=!0,fe(N))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var Y=f;f=$;try{return z()}finally{f=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,$){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Y=f;f=z;try{return $()}finally{f=Y}},t.unstable_scheduleCallback=function(z,$,Y){var ae=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ae+Y:ae):Y=ae,z){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=Y+ge,z={id:d++,callback:$,priorityLevel:z,startTime:Y,expirationTime:ge,sortIndex:-1},Y>ae?(z.sortIndex=Y,e(u,z),n(l)===null&&z===n(u)&&(v?(x(w),w=-1):v=!0,le(I,Y-ae))):(z.sortIndex=ge,e(l,z),E||p||(E=!0,fe(N))),z},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(z){var $=f;return function(){var Y=f;f=$;try{return z.apply(this,arguments)}finally{f=Y}}}})(A1);P1.exports=A1;var l2=P1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u2=y,Kn=l2;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var k1=new Set,Sc={};function aa(t,e){Sl(t,e),Sl(t+"Capture",e)}function Sl(t,e){for(Sc[t]=e,t=0;t<e.length;t++)k1.add(e[t])}var Ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xy=Object.prototype.hasOwnProperty,c2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ux={},cx={};function d2(t){return xy.call(cx,t)?!0:xy.call(ux,t)?!1:c2.test(t)?cx[t]=!0:(ux[t]=!0,!1)}function h2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function f2(t,e,n,r){if(e===null||typeof e>"u"||h2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Cn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qt[t]=new Cn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qt[e]=new Cn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qt[t]=new Cn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qt[t]=new Cn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qt[t]=new Cn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qt[t]=new Cn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qt[t]=new Cn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qt[t]=new Cn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qt[t]=new Cn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Nw=/[\-:]([a-z])/g;function Dw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Nw,Dw);qt[e]=new Cn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Nw,Dw);qt[e]=new Cn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Nw,Dw);qt[e]=new Cn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qt[t]=new Cn(t,1,!1,t.toLowerCase(),null,!1,!1)});qt.xlinkHref=new Cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qt[t]=new Cn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Mw(t,e,n,r){var i=qt.hasOwnProperty(e)?qt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(f2(e,n,i,r)&&(n=null),r||i===null?d2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var zi=u2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yh=Symbol.for("react.element"),ka=Symbol.for("react.portal"),Na=Symbol.for("react.fragment"),Ow=Symbol.for("react.strict_mode"),Ty=Symbol.for("react.profiler"),N1=Symbol.for("react.provider"),D1=Symbol.for("react.context"),Lw=Symbol.for("react.forward_ref"),Sy=Symbol.for("react.suspense"),by=Symbol.for("react.suspense_list"),Vw=Symbol.for("react.memo"),ss=Symbol.for("react.lazy"),M1=Symbol.for("react.offscreen"),dx=Symbol.iterator;function Pu(t){return t===null||typeof t!="object"?null:(t=dx&&t[dx]||t["@@iterator"],typeof t=="function"?t:null)}var ct=Object.assign,ig;function Ku(t){if(ig===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ig=e&&e[1]||""}return`
`+ig+t}var sg=!1;function og(t,e){if(!t||sg)return"";sg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{sg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ku(t):""}function p2(t){switch(t.tag){case 5:return Ku(t.type);case 16:return Ku("Lazy");case 13:return Ku("Suspense");case 19:return Ku("SuspenseList");case 0:case 2:case 15:return t=og(t.type,!1),t;case 11:return t=og(t.type.render,!1),t;case 1:return t=og(t.type,!0),t;default:return""}}function Cy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Na:return"Fragment";case ka:return"Portal";case Ty:return"Profiler";case Ow:return"StrictMode";case Sy:return"Suspense";case by:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D1:return(t.displayName||"Context")+".Consumer";case N1:return(t._context.displayName||"Context")+".Provider";case Lw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Vw:return e=t.displayName||null,e!==null?e:Cy(t.type)||"Memo";case ss:e=t._payload,t=t._init;try{return Cy(t(e))}catch{}}return null}function m2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cy(e);case 8:return e===Ow?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function js(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function O1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function g2(t){var e=O1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vh(t){t._valueTracker||(t._valueTracker=g2(t))}function L1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=O1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function If(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ry(t,e){var n=e.checked;return ct({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function hx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=js(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function V1(t,e){e=e.checked,e!=null&&Mw(t,"checked",e,!1)}function Iy(t,e){V1(t,e);var n=js(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Py(t,e.type,n):e.hasOwnProperty("defaultValue")&&Py(t,e.type,js(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function fx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Py(t,e,n){(e!=="number"||If(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Hu=Array.isArray;function Ya(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+js(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ay(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return ct({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function px(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if(Hu(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:js(n)}}function F1(t,e){var n=js(e.value),r=js(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function mx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function j1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ky(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?j1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wh,U1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wh=wh||document.createElement("div"),wh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function bc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var rc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},y2=["Webkit","ms","Moz","O"];Object.keys(rc).forEach(function(t){y2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),rc[e]=rc[t]})});function B1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||rc.hasOwnProperty(t)&&rc[t]?(""+e).trim():e+"px"}function $1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=B1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var v2=ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ny(t,e){if(e){if(v2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function Dy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var My=null;function Fw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Oy=null,Xa=null,Ja=null;function gx(t){if(t=Rd(t)){if(typeof Oy!="function")throw Error(G(280));var e=t.stateNode;e&&(e=jp(e),Oy(t.stateNode,t.type,e))}}function z1(t){Xa?Ja?Ja.push(t):Ja=[t]:Xa=t}function W1(){if(Xa){var t=Xa,e=Ja;if(Ja=Xa=null,gx(t),e)for(t=0;t<e.length;t++)gx(e[t])}}function K1(t,e){return t(e)}function H1(){}var ag=!1;function G1(t,e,n){if(ag)return t(e,n);ag=!0;try{return K1(t,e,n)}finally{ag=!1,(Xa!==null||Ja!==null)&&(H1(),W1())}}function Cc(t,e){var n=t.stateNode;if(n===null)return null;var r=jp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var Ly=!1;if(Ai)try{var Au={};Object.defineProperty(Au,"passive",{get:function(){Ly=!0}}),window.addEventListener("test",Au,Au),window.removeEventListener("test",Au,Au)}catch{Ly=!1}function w2(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var ic=!1,Pf=null,Af=!1,Vy=null,_2={onError:function(t){ic=!0,Pf=t}};function E2(t,e,n,r,i,s,o,a,l){ic=!1,Pf=null,w2.apply(_2,arguments)}function x2(t,e,n,r,i,s,o,a,l){if(E2.apply(this,arguments),ic){if(ic){var u=Pf;ic=!1,Pf=null}else throw Error(G(198));Af||(Af=!0,Vy=u)}}function la(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function q1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function yx(t){if(la(t)!==t)throw Error(G(188))}function T2(t){var e=t.alternate;if(!e){if(e=la(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return yx(i),t;if(s===r)return yx(i),e;s=s.sibling}throw Error(G(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function Q1(t){return t=T2(t),t!==null?Y1(t):null}function Y1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Y1(t);if(e!==null)return e;t=t.sibling}return null}var X1=Kn.unstable_scheduleCallback,vx=Kn.unstable_cancelCallback,S2=Kn.unstable_shouldYield,b2=Kn.unstable_requestPaint,bt=Kn.unstable_now,C2=Kn.unstable_getCurrentPriorityLevel,jw=Kn.unstable_ImmediatePriority,J1=Kn.unstable_UserBlockingPriority,kf=Kn.unstable_NormalPriority,R2=Kn.unstable_LowPriority,Z1=Kn.unstable_IdlePriority,Op=null,Hr=null;function I2(t){if(Hr&&typeof Hr.onCommitFiberRoot=="function")try{Hr.onCommitFiberRoot(Op,t,void 0,(t.current.flags&128)===128)}catch{}}var Ar=Math.clz32?Math.clz32:k2,P2=Math.log,A2=Math.LN2;function k2(t){return t>>>=0,t===0?32:31-(P2(t)/A2|0)|0}var _h=64,Eh=4194304;function Gu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Nf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Gu(a):(s&=o,s!==0&&(r=Gu(s)))}else o=n&~i,o!==0?r=Gu(o):s!==0&&(r=Gu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ar(e),i=1<<n,r|=t[n],e&=~i;return r}function N2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function D2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ar(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=N2(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Fy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function eR(){var t=_h;return _h<<=1,!(_h&4194240)&&(_h=64),t}function lg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function bd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ar(e),t[e]=n}function M2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ar(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Uw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ar(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Fe=0;function tR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var nR,Bw,rR,iR,sR,jy=!1,xh=[],Cs=null,Rs=null,Is=null,Rc=new Map,Ic=new Map,as=[],O2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wx(t,e){switch(t){case"focusin":case"focusout":Cs=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":Is=null;break;case"pointerover":case"pointerout":Rc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ic.delete(e.pointerId)}}function ku(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Rd(e),e!==null&&Bw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function L2(t,e,n,r,i){switch(e){case"focusin":return Cs=ku(Cs,t,e,n,r,i),!0;case"dragenter":return Rs=ku(Rs,t,e,n,r,i),!0;case"mouseover":return Is=ku(Is,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Rc.set(s,ku(Rc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ic.set(s,ku(Ic.get(s)||null,t,e,n,r,i)),!0}return!1}function oR(t){var e=Co(t.target);if(e!==null){var n=la(e);if(n!==null){if(e=n.tag,e===13){if(e=q1(n),e!==null){t.blockedOn=e,sR(t.priority,function(){rR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Uy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);My=r,n.target.dispatchEvent(r),My=null}else return e=Rd(n),e!==null&&Bw(e),t.blockedOn=n,!1;e.shift()}return!0}function _x(t,e,n){rf(t)&&n.delete(e)}function V2(){jy=!1,Cs!==null&&rf(Cs)&&(Cs=null),Rs!==null&&rf(Rs)&&(Rs=null),Is!==null&&rf(Is)&&(Is=null),Rc.forEach(_x),Ic.forEach(_x)}function Nu(t,e){t.blockedOn===e&&(t.blockedOn=null,jy||(jy=!0,Kn.unstable_scheduleCallback(Kn.unstable_NormalPriority,V2)))}function Pc(t){function e(i){return Nu(i,t)}if(0<xh.length){Nu(xh[0],t);for(var n=1;n<xh.length;n++){var r=xh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Cs!==null&&Nu(Cs,t),Rs!==null&&Nu(Rs,t),Is!==null&&Nu(Is,t),Rc.forEach(e),Ic.forEach(e),n=0;n<as.length;n++)r=as[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<as.length&&(n=as[0],n.blockedOn===null);)oR(n),n.blockedOn===null&&as.shift()}var Za=zi.ReactCurrentBatchConfig,Df=!0;function F2(t,e,n,r){var i=Fe,s=Za.transition;Za.transition=null;try{Fe=1,$w(t,e,n,r)}finally{Fe=i,Za.transition=s}}function j2(t,e,n,r){var i=Fe,s=Za.transition;Za.transition=null;try{Fe=4,$w(t,e,n,r)}finally{Fe=i,Za.transition=s}}function $w(t,e,n,r){if(Df){var i=Uy(t,e,n,r);if(i===null)vg(t,e,r,Mf,n),wx(t,r);else if(L2(i,t,e,n,r))r.stopPropagation();else if(wx(t,r),e&4&&-1<O2.indexOf(t)){for(;i!==null;){var s=Rd(i);if(s!==null&&nR(s),s=Uy(t,e,n,r),s===null&&vg(t,e,r,Mf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else vg(t,e,r,null,n)}}var Mf=null;function Uy(t,e,n,r){if(Mf=null,t=Fw(r),t=Co(t),t!==null)if(e=la(t),e===null)t=null;else if(n=e.tag,n===13){if(t=q1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Mf=t,null}function aR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(C2()){case jw:return 1;case J1:return 4;case kf:case R2:return 16;case Z1:return 536870912;default:return 16}default:return 16}}var xs=null,zw=null,sf=null;function lR(){if(sf)return sf;var t,e=zw,n=e.length,r,i="value"in xs?xs.value:xs.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return sf=i.slice(t,1<r?1-r:void 0)}function of(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Th(){return!0}function Ex(){return!1}function Qn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Th:Ex,this.isPropagationStopped=Ex,this}return ct(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Th)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Th)},persist:function(){},isPersistent:Th}),e}var Gl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ww=Qn(Gl),Cd=ct({},Gl,{view:0,detail:0}),U2=Qn(Cd),ug,cg,Du,Lp=ct({},Cd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Du&&(Du&&t.type==="mousemove"?(ug=t.screenX-Du.screenX,cg=t.screenY-Du.screenY):cg=ug=0,Du=t),ug)},movementY:function(t){return"movementY"in t?t.movementY:cg}}),xx=Qn(Lp),B2=ct({},Lp,{dataTransfer:0}),$2=Qn(B2),z2=ct({},Cd,{relatedTarget:0}),dg=Qn(z2),W2=ct({},Gl,{animationName:0,elapsedTime:0,pseudoElement:0}),K2=Qn(W2),H2=ct({},Gl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),G2=Qn(H2),q2=ct({},Gl,{data:0}),Tx=Qn(q2),Q2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function J2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=X2[t])?!!e[t]:!1}function Kw(){return J2}var Z2=ct({},Cd,{key:function(t){if(t.key){var e=Q2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=of(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Y2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kw,charCode:function(t){return t.type==="keypress"?of(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?of(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),eV=Qn(Z2),tV=ct({},Lp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sx=Qn(tV),nV=ct({},Cd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kw}),rV=Qn(nV),iV=ct({},Gl,{propertyName:0,elapsedTime:0,pseudoElement:0}),sV=Qn(iV),oV=ct({},Lp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),aV=Qn(oV),lV=[9,13,27,32],Hw=Ai&&"CompositionEvent"in window,sc=null;Ai&&"documentMode"in document&&(sc=document.documentMode);var uV=Ai&&"TextEvent"in window&&!sc,uR=Ai&&(!Hw||sc&&8<sc&&11>=sc),bx=" ",Cx=!1;function cR(t,e){switch(t){case"keyup":return lV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Da=!1;function cV(t,e){switch(t){case"compositionend":return dR(e);case"keypress":return e.which!==32?null:(Cx=!0,bx);case"textInput":return t=e.data,t===bx&&Cx?null:t;default:return null}}function dV(t,e){if(Da)return t==="compositionend"||!Hw&&cR(t,e)?(t=lR(),sf=zw=xs=null,Da=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uR&&e.locale!=="ko"?null:e.data;default:return null}}var hV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hV[t.type]:e==="textarea"}function hR(t,e,n,r){z1(r),e=Of(e,"onChange"),0<e.length&&(n=new Ww("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var oc=null,Ac=null;function fV(t){TR(t,0)}function Vp(t){var e=La(t);if(L1(e))return t}function pV(t,e){if(t==="change")return e}var fR=!1;if(Ai){var hg;if(Ai){var fg="oninput"in document;if(!fg){var Ix=document.createElement("div");Ix.setAttribute("oninput","return;"),fg=typeof Ix.oninput=="function"}hg=fg}else hg=!1;fR=hg&&(!document.documentMode||9<document.documentMode)}function Px(){oc&&(oc.detachEvent("onpropertychange",pR),Ac=oc=null)}function pR(t){if(t.propertyName==="value"&&Vp(Ac)){var e=[];hR(e,Ac,t,Fw(t)),G1(fV,e)}}function mV(t,e,n){t==="focusin"?(Px(),oc=e,Ac=n,oc.attachEvent("onpropertychange",pR)):t==="focusout"&&Px()}function gV(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vp(Ac)}function yV(t,e){if(t==="click")return Vp(e)}function vV(t,e){if(t==="input"||t==="change")return Vp(e)}function wV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nr=typeof Object.is=="function"?Object.is:wV;function kc(t,e){if(Nr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!xy.call(e,i)||!Nr(t[i],e[i]))return!1}return!0}function Ax(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kx(t,e){var n=Ax(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ax(n)}}function mR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?mR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gR(){for(var t=window,e=If();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=If(t.document)}return e}function Gw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function _V(t){var e=gR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&mR(n.ownerDocument.documentElement,n)){if(r!==null&&Gw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=kx(n,s);var o=kx(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var EV=Ai&&"documentMode"in document&&11>=document.documentMode,Ma=null,By=null,ac=null,$y=!1;function Nx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$y||Ma==null||Ma!==If(r)||(r=Ma,"selectionStart"in r&&Gw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ac&&kc(ac,r)||(ac=r,r=Of(By,"onSelect"),0<r.length&&(e=new Ww("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ma)))}function Sh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Oa={animationend:Sh("Animation","AnimationEnd"),animationiteration:Sh("Animation","AnimationIteration"),animationstart:Sh("Animation","AnimationStart"),transitionend:Sh("Transition","TransitionEnd")},pg={},yR={};Ai&&(yR=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Fp(t){if(pg[t])return pg[t];if(!Oa[t])return t;var e=Oa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in yR)return pg[t]=e[n];return t}var vR=Fp("animationend"),wR=Fp("animationiteration"),_R=Fp("animationstart"),ER=Fp("transitionend"),xR=new Map,Dx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Js(t,e){xR.set(t,e),aa(e,[t])}for(var mg=0;mg<Dx.length;mg++){var gg=Dx[mg],xV=gg.toLowerCase(),TV=gg[0].toUpperCase()+gg.slice(1);Js(xV,"on"+TV)}Js(vR,"onAnimationEnd");Js(wR,"onAnimationIteration");Js(_R,"onAnimationStart");Js("dblclick","onDoubleClick");Js("focusin","onFocus");Js("focusout","onBlur");Js(ER,"onTransitionEnd");Sl("onMouseEnter",["mouseout","mouseover"]);Sl("onMouseLeave",["mouseout","mouseover"]);Sl("onPointerEnter",["pointerout","pointerover"]);Sl("onPointerLeave",["pointerout","pointerover"]);aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));aa("onBeforeInput",["compositionend","keypress","textInput","paste"]);aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SV=new Set("cancel close invalid load scroll toggle".split(" ").concat(qu));function Mx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,x2(r,e,void 0,t),t.currentTarget=null}function TR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Mx(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Mx(i,a,u),s=l}}}if(Af)throw t=Vy,Af=!1,Vy=null,t}function Ze(t,e){var n=e[Gy];n===void 0&&(n=e[Gy]=new Set);var r=t+"__bubble";n.has(r)||(SR(e,t,2,!1),n.add(r))}function yg(t,e,n){var r=0;e&&(r|=4),SR(n,t,r,e)}var bh="_reactListening"+Math.random().toString(36).slice(2);function Nc(t){if(!t[bh]){t[bh]=!0,k1.forEach(function(n){n!=="selectionchange"&&(SV.has(n)||yg(n,!1,t),yg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bh]||(e[bh]=!0,yg("selectionchange",!1,e))}}function SR(t,e,n,r){switch(aR(e)){case 1:var i=F2;break;case 4:i=j2;break;default:i=$w}n=i.bind(null,e,n,t),i=void 0,!Ly||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function vg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Co(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}G1(function(){var u=s,d=Fw(n),h=[];e:{var f=xR.get(t);if(f!==void 0){var p=Ww,E=t;switch(t){case"keypress":if(of(n)===0)break e;case"keydown":case"keyup":p=eV;break;case"focusin":E="focus",p=dg;break;case"focusout":E="blur",p=dg;break;case"beforeblur":case"afterblur":p=dg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=xx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=$2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=rV;break;case vR:case wR:case _R:p=K2;break;case ER:p=sV;break;case"scroll":p=U2;break;case"wheel":p=aV;break;case"copy":case"cut":case"paste":p=G2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Sx}var v=(e&4)!==0,T=!v&&t==="scroll",x=v?f!==null?f+"Capture":null:f;v=[];for(var _=u,b;_!==null;){b=_;var I=b.stateNode;if(b.tag===5&&I!==null&&(b=I,x!==null&&(I=Cc(_,x),I!=null&&v.push(Dc(_,I,b)))),T)break;_=_.return}0<v.length&&(f=new p(f,E,null,n,d),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==My&&(E=n.relatedTarget||n.fromElement)&&(Co(E)||E[ki]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(E=n.relatedTarget||n.toElement,p=u,E=E?Co(E):null,E!==null&&(T=la(E),E!==T||E.tag!==5&&E.tag!==6)&&(E=null)):(p=null,E=u),p!==E)){if(v=xx,I="onMouseLeave",x="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(v=Sx,I="onPointerLeave",x="onPointerEnter",_="pointer"),T=p==null?f:La(p),b=E==null?f:La(E),f=new v(I,_+"leave",p,n,d),f.target=T,f.relatedTarget=b,I=null,Co(d)===u&&(v=new v(x,_+"enter",E,n,d),v.target=b,v.relatedTarget=T,I=v),T=I,p&&E)t:{for(v=p,x=E,_=0,b=v;b;b=Ea(b))_++;for(b=0,I=x;I;I=Ea(I))b++;for(;0<_-b;)v=Ea(v),_--;for(;0<b-_;)x=Ea(x),b--;for(;_--;){if(v===x||x!==null&&v===x.alternate)break t;v=Ea(v),x=Ea(x)}v=null}else v=null;p!==null&&Ox(h,f,p,v,!1),E!==null&&T!==null&&Ox(h,T,E,v,!0)}}e:{if(f=u?La(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var N=pV;else if(Rx(f))if(fR)N=vV;else{N=gV;var F=mV}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=yV);if(N&&(N=N(t,u))){hR(h,N,n,d);break e}F&&F(t,f,u),t==="focusout"&&(F=f._wrapperState)&&F.controlled&&f.type==="number"&&Py(f,"number",f.value)}switch(F=u?La(u):window,t){case"focusin":(Rx(F)||F.contentEditable==="true")&&(Ma=F,By=u,ac=null);break;case"focusout":ac=By=Ma=null;break;case"mousedown":$y=!0;break;case"contextmenu":case"mouseup":case"dragend":$y=!1,Nx(h,n,d);break;case"selectionchange":if(EV)break;case"keydown":case"keyup":Nx(h,n,d)}var C;if(Hw)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Da?cR(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(uR&&n.locale!=="ko"&&(Da||w!=="onCompositionStart"?w==="onCompositionEnd"&&Da&&(C=lR()):(xs=d,zw="value"in xs?xs.value:xs.textContent,Da=!0)),F=Of(u,w),0<F.length&&(w=new Tx(w,t,null,n,d),h.push({event:w,listeners:F}),C?w.data=C:(C=dR(n),C!==null&&(w.data=C)))),(C=uV?cV(t,n):dV(t,n))&&(u=Of(u,"onBeforeInput"),0<u.length&&(d=new Tx("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=C))}TR(h,e)})}function Dc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Of(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Cc(t,n),s!=null&&r.unshift(Dc(t,s,i)),s=Cc(t,e),s!=null&&r.push(Dc(t,s,i))),t=t.return}return r}function Ea(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ox(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Cc(n,s),l!=null&&o.unshift(Dc(n,l,a))):i||(l=Cc(n,s),l!=null&&o.push(Dc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var bV=/\r\n?/g,CV=/\u0000|\uFFFD/g;function Lx(t){return(typeof t=="string"?t:""+t).replace(bV,`
`).replace(CV,"")}function Ch(t,e,n){if(e=Lx(e),Lx(t)!==e&&n)throw Error(G(425))}function Lf(){}var zy=null,Wy=null;function Ky(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hy=typeof setTimeout=="function"?setTimeout:void 0,RV=typeof clearTimeout=="function"?clearTimeout:void 0,Vx=typeof Promise=="function"?Promise:void 0,IV=typeof queueMicrotask=="function"?queueMicrotask:typeof Vx<"u"?function(t){return Vx.resolve(null).then(t).catch(PV)}:Hy;function PV(t){setTimeout(function(){throw t})}function wg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Pc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Pc(e)}function Ps(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Fx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ql=Math.random().toString(36).slice(2),Wr="__reactFiber$"+ql,Mc="__reactProps$"+ql,ki="__reactContainer$"+ql,Gy="__reactEvents$"+ql,AV="__reactListeners$"+ql,kV="__reactHandles$"+ql;function Co(t){var e=t[Wr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ki]||n[Wr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Fx(t);t!==null;){if(n=t[Wr])return n;t=Fx(t)}return e}t=n,n=t.parentNode}return null}function Rd(t){return t=t[Wr]||t[ki],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function La(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function jp(t){return t[Mc]||null}var qy=[],Va=-1;function Zs(t){return{current:t}}function et(t){0>Va||(t.current=qy[Va],qy[Va]=null,Va--)}function Ge(t,e){Va++,qy[Va]=t.current,t.current=e}var Us={},fn=Zs(Us),kn=Zs(!1),Ko=Us;function bl(t,e){var n=t.type.contextTypes;if(!n)return Us;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Nn(t){return t=t.childContextTypes,t!=null}function Vf(){et(kn),et(fn)}function jx(t,e,n){if(fn.current!==Us)throw Error(G(168));Ge(fn,e),Ge(kn,n)}function bR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(G(108,m2(t)||"Unknown",i));return ct({},n,r)}function Ff(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Us,Ko=fn.current,Ge(fn,t),Ge(kn,kn.current),!0}function Ux(t,e,n){var r=t.stateNode;if(!r)throw Error(G(169));n?(t=bR(t,e,Ko),r.__reactInternalMemoizedMergedChildContext=t,et(kn),et(fn),Ge(fn,t)):et(kn),Ge(kn,n)}var fi=null,Up=!1,_g=!1;function CR(t){fi===null?fi=[t]:fi.push(t)}function NV(t){Up=!0,CR(t)}function eo(){if(!_g&&fi!==null){_g=!0;var t=0,e=Fe;try{var n=fi;for(Fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}fi=null,Up=!1}catch(i){throw fi!==null&&(fi=fi.slice(t+1)),X1(jw,eo),i}finally{Fe=e,_g=!1}}return null}var Fa=[],ja=0,jf=null,Uf=0,ir=[],sr=0,Ho=null,mi=1,gi="";function _o(t,e){Fa[ja++]=Uf,Fa[ja++]=jf,jf=t,Uf=e}function RR(t,e,n){ir[sr++]=mi,ir[sr++]=gi,ir[sr++]=Ho,Ho=t;var r=mi;t=gi;var i=32-Ar(r)-1;r&=~(1<<i),n+=1;var s=32-Ar(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,mi=1<<32-Ar(e)+i|n<<i|r,gi=s+t}else mi=1<<s|n<<i|r,gi=t}function qw(t){t.return!==null&&(_o(t,1),RR(t,1,0))}function Qw(t){for(;t===jf;)jf=Fa[--ja],Fa[ja]=null,Uf=Fa[--ja],Fa[ja]=null;for(;t===Ho;)Ho=ir[--sr],ir[sr]=null,gi=ir[--sr],ir[sr]=null,mi=ir[--sr],ir[sr]=null}var zn=null,Bn=null,rt=!1,Rr=null;function IR(t,e){var n=ar(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Bx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zn=t,Bn=Ps(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zn=t,Bn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ho!==null?{id:mi,overflow:gi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ar(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,zn=t,Bn=null,!0):!1;default:return!1}}function Qy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Yy(t){if(rt){var e=Bn;if(e){var n=e;if(!Bx(t,e)){if(Qy(t))throw Error(G(418));e=Ps(n.nextSibling);var r=zn;e&&Bx(t,e)?IR(r,n):(t.flags=t.flags&-4097|2,rt=!1,zn=t)}}else{if(Qy(t))throw Error(G(418));t.flags=t.flags&-4097|2,rt=!1,zn=t}}}function $x(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zn=t}function Rh(t){if(t!==zn)return!1;if(!rt)return $x(t),rt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ky(t.type,t.memoizedProps)),e&&(e=Bn)){if(Qy(t))throw PR(),Error(G(418));for(;e;)IR(t,e),e=Ps(e.nextSibling)}if($x(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Bn=Ps(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Bn=null}}else Bn=zn?Ps(t.stateNode.nextSibling):null;return!0}function PR(){for(var t=Bn;t;)t=Ps(t.nextSibling)}function Cl(){Bn=zn=null,rt=!1}function Yw(t){Rr===null?Rr=[t]:Rr.push(t)}var DV=zi.ReactCurrentBatchConfig;function Mu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function Ih(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zx(t){var e=t._init;return e(t._payload)}function AR(t){function e(x,_){if(t){var b=x.deletions;b===null?(x.deletions=[_],x.flags|=16):b.push(_)}}function n(x,_){if(!t)return null;for(;_!==null;)e(x,_),_=_.sibling;return null}function r(x,_){for(x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function i(x,_){return x=Ds(x,_),x.index=0,x.sibling=null,x}function s(x,_,b){return x.index=b,t?(b=x.alternate,b!==null?(b=b.index,b<_?(x.flags|=2,_):b):(x.flags|=2,_)):(x.flags|=1048576,_)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,_,b,I){return _===null||_.tag!==6?(_=Rg(b,x.mode,I),_.return=x,_):(_=i(_,b),_.return=x,_)}function l(x,_,b,I){var N=b.type;return N===Na?d(x,_,b.props.children,I,b.key):_!==null&&(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ss&&zx(N)===_.type)?(I=i(_,b.props),I.ref=Mu(x,_,b),I.return=x,I):(I=ff(b.type,b.key,b.props,null,x.mode,I),I.ref=Mu(x,_,b),I.return=x,I)}function u(x,_,b,I){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=Ig(b,x.mode,I),_.return=x,_):(_=i(_,b.children||[]),_.return=x,_)}function d(x,_,b,I,N){return _===null||_.tag!==7?(_=Bo(b,x.mode,I,N),_.return=x,_):(_=i(_,b),_.return=x,_)}function h(x,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Rg(""+_,x.mode,b),_.return=x,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case yh:return b=ff(_.type,_.key,_.props,null,x.mode,b),b.ref=Mu(x,null,_),b.return=x,b;case ka:return _=Ig(_,x.mode,b),_.return=x,_;case ss:var I=_._init;return h(x,I(_._payload),b)}if(Hu(_)||Pu(_))return _=Bo(_,x.mode,b,null),_.return=x,_;Ih(x,_)}return null}function f(x,_,b,I){var N=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:a(x,_,""+b,I);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case yh:return b.key===N?l(x,_,b,I):null;case ka:return b.key===N?u(x,_,b,I):null;case ss:return N=b._init,f(x,_,N(b._payload),I)}if(Hu(b)||Pu(b))return N!==null?null:d(x,_,b,I,null);Ih(x,b)}return null}function p(x,_,b,I,N){if(typeof I=="string"&&I!==""||typeof I=="number")return x=x.get(b)||null,a(_,x,""+I,N);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case yh:return x=x.get(I.key===null?b:I.key)||null,l(_,x,I,N);case ka:return x=x.get(I.key===null?b:I.key)||null,u(_,x,I,N);case ss:var F=I._init;return p(x,_,b,F(I._payload),N)}if(Hu(I)||Pu(I))return x=x.get(b)||null,d(_,x,I,N,null);Ih(_,I)}return null}function E(x,_,b,I){for(var N=null,F=null,C=_,w=_=0,R=null;C!==null&&w<b.length;w++){C.index>w?(R=C,C=null):R=C.sibling;var A=f(x,C,b[w],I);if(A===null){C===null&&(C=R);break}t&&C&&A.alternate===null&&e(x,C),_=s(A,_,w),F===null?N=A:F.sibling=A,F=A,C=R}if(w===b.length)return n(x,C),rt&&_o(x,w),N;if(C===null){for(;w<b.length;w++)C=h(x,b[w],I),C!==null&&(_=s(C,_,w),F===null?N=C:F.sibling=C,F=C);return rt&&_o(x,w),N}for(C=r(x,C);w<b.length;w++)R=p(C,x,w,b[w],I),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?w:R.key),_=s(R,_,w),F===null?N=R:F.sibling=R,F=R);return t&&C.forEach(function(D){return e(x,D)}),rt&&_o(x,w),N}function v(x,_,b,I){var N=Pu(b);if(typeof N!="function")throw Error(G(150));if(b=N.call(b),b==null)throw Error(G(151));for(var F=N=null,C=_,w=_=0,R=null,A=b.next();C!==null&&!A.done;w++,A=b.next()){C.index>w?(R=C,C=null):R=C.sibling;var D=f(x,C,A.value,I);if(D===null){C===null&&(C=R);break}t&&C&&D.alternate===null&&e(x,C),_=s(D,_,w),F===null?N=D:F.sibling=D,F=D,C=R}if(A.done)return n(x,C),rt&&_o(x,w),N;if(C===null){for(;!A.done;w++,A=b.next())A=h(x,A.value,I),A!==null&&(_=s(A,_,w),F===null?N=A:F.sibling=A,F=A);return rt&&_o(x,w),N}for(C=r(x,C);!A.done;w++,A=b.next())A=p(C,x,w,A.value,I),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?w:A.key),_=s(A,_,w),F===null?N=A:F.sibling=A,F=A);return t&&C.forEach(function(M){return e(x,M)}),rt&&_o(x,w),N}function T(x,_,b,I){if(typeof b=="object"&&b!==null&&b.type===Na&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case yh:e:{for(var N=b.key,F=_;F!==null;){if(F.key===N){if(N=b.type,N===Na){if(F.tag===7){n(x,F.sibling),_=i(F,b.props.children),_.return=x,x=_;break e}}else if(F.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ss&&zx(N)===F.type){n(x,F.sibling),_=i(F,b.props),_.ref=Mu(x,F,b),_.return=x,x=_;break e}n(x,F);break}else e(x,F);F=F.sibling}b.type===Na?(_=Bo(b.props.children,x.mode,I,b.key),_.return=x,x=_):(I=ff(b.type,b.key,b.props,null,x.mode,I),I.ref=Mu(x,_,b),I.return=x,x=I)}return o(x);case ka:e:{for(F=b.key;_!==null;){if(_.key===F)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){n(x,_.sibling),_=i(_,b.children||[]),_.return=x,x=_;break e}else{n(x,_);break}else e(x,_);_=_.sibling}_=Ig(b,x.mode,I),_.return=x,x=_}return o(x);case ss:return F=b._init,T(x,_,F(b._payload),I)}if(Hu(b))return E(x,_,b,I);if(Pu(b))return v(x,_,b,I);Ih(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,_!==null&&_.tag===6?(n(x,_.sibling),_=i(_,b),_.return=x,x=_):(n(x,_),_=Rg(b,x.mode,I),_.return=x,x=_),o(x)):n(x,_)}return T}var Rl=AR(!0),kR=AR(!1),Bf=Zs(null),$f=null,Ua=null,Xw=null;function Jw(){Xw=Ua=$f=null}function Zw(t){var e=Bf.current;et(Bf),t._currentValue=e}function Xy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function el(t,e){$f=t,Xw=Ua=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(An=!0),t.firstContext=null)}function hr(t){var e=t._currentValue;if(Xw!==t)if(t={context:t,memoizedValue:e,next:null},Ua===null){if($f===null)throw Error(G(308));Ua=t,$f.dependencies={lanes:0,firstContext:t}}else Ua=Ua.next=t;return e}var Ro=null;function e0(t){Ro===null?Ro=[t]:Ro.push(t)}function NR(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,e0(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ni(t,r)}function Ni(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var os=!1;function t0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ti(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function As(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Me&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ni(t,n)}return i=r.interleaved,i===null?(e.next=e,e0(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ni(t,n)}function af(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Uw(t,n)}}function Wx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zf(t,e,n,r){var i=t.updateQueue;os=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,v=a;switch(f=e,p=n,v.tag){case 1:if(E=v.payload,typeof E=="function"){h=E.call(p,h,f);break e}h=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=v.payload,f=typeof E=="function"?E.call(p,h,f):E,f==null)break e;h=ct({},h,f);break e;case 2:os=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,l=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);qo|=o,t.lanes=o,t.memoizedState=h}}function Kx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(G(191,i));i.call(r)}}}var Id={},Gr=Zs(Id),Oc=Zs(Id),Lc=Zs(Id);function Io(t){if(t===Id)throw Error(G(174));return t}function n0(t,e){switch(Ge(Lc,e),Ge(Oc,t),Ge(Gr,Id),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ky(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ky(e,t)}et(Gr),Ge(Gr,e)}function Il(){et(Gr),et(Oc),et(Lc)}function MR(t){Io(Lc.current);var e=Io(Gr.current),n=ky(e,t.type);e!==n&&(Ge(Oc,t),Ge(Gr,n))}function r0(t){Oc.current===t&&(et(Gr),et(Oc))}var ot=Zs(0);function Wf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Eg=[];function i0(){for(var t=0;t<Eg.length;t++)Eg[t]._workInProgressVersionPrimary=null;Eg.length=0}var lf=zi.ReactCurrentDispatcher,xg=zi.ReactCurrentBatchConfig,Go=0,ut=null,Dt=null,jt=null,Kf=!1,lc=!1,Vc=0,MV=0;function tn(){throw Error(G(321))}function s0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nr(t[n],e[n]))return!1;return!0}function o0(t,e,n,r,i,s){if(Go=s,ut=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,lf.current=t===null||t.memoizedState===null?FV:jV,t=n(r,i),lc){s=0;do{if(lc=!1,Vc=0,25<=s)throw Error(G(301));s+=1,jt=Dt=null,e.updateQueue=null,lf.current=UV,t=n(r,i)}while(lc)}if(lf.current=Hf,e=Dt!==null&&Dt.next!==null,Go=0,jt=Dt=ut=null,Kf=!1,e)throw Error(G(300));return t}function a0(){var t=Vc!==0;return Vc=0,t}function Fr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?ut.memoizedState=jt=t:jt=jt.next=t,jt}function fr(){if(Dt===null){var t=ut.alternate;t=t!==null?t.memoizedState:null}else t=Dt.next;var e=jt===null?ut.memoizedState:jt.next;if(e!==null)jt=e,Dt=t;else{if(t===null)throw Error(G(310));Dt=t,t={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},jt===null?ut.memoizedState=jt=t:jt=jt.next=t}return jt}function Fc(t,e){return typeof e=="function"?e(t):e}function Tg(t){var e=fr(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=Dt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((Go&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ut.lanes|=d,qo|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Nr(r,e.memoizedState)||(An=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ut.lanes|=s,qo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Sg(t){var e=fr(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Nr(s,e.memoizedState)||(An=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function OR(){}function LR(t,e){var n=ut,r=fr(),i=e(),s=!Nr(r.memoizedState,i);if(s&&(r.memoizedState=i,An=!0),r=r.queue,l0(jR.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||jt!==null&&jt.memoizedState.tag&1){if(n.flags|=2048,jc(9,FR.bind(null,n,r,i,e),void 0,null),Ut===null)throw Error(G(349));Go&30||VR(n,e,i)}return i}function VR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function FR(t,e,n,r){e.value=n,e.getSnapshot=r,UR(e)&&BR(t)}function jR(t,e,n){return n(function(){UR(e)&&BR(t)})}function UR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nr(t,n)}catch{return!0}}function BR(t){var e=Ni(t,1);e!==null&&kr(e,t,1,-1)}function Hx(t){var e=Fr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fc,lastRenderedState:t},e.queue=t,t=t.dispatch=VV.bind(null,ut,t),[e.memoizedState,t]}function jc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function $R(){return fr().memoizedState}function uf(t,e,n,r){var i=Fr();ut.flags|=t,i.memoizedState=jc(1|e,n,void 0,r===void 0?null:r)}function Bp(t,e,n,r){var i=fr();r=r===void 0?null:r;var s=void 0;if(Dt!==null){var o=Dt.memoizedState;if(s=o.destroy,r!==null&&s0(r,o.deps)){i.memoizedState=jc(e,n,s,r);return}}ut.flags|=t,i.memoizedState=jc(1|e,n,s,r)}function Gx(t,e){return uf(8390656,8,t,e)}function l0(t,e){return Bp(2048,8,t,e)}function zR(t,e){return Bp(4,2,t,e)}function WR(t,e){return Bp(4,4,t,e)}function KR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function HR(t,e,n){return n=n!=null?n.concat([t]):null,Bp(4,4,KR.bind(null,e,t),n)}function u0(){}function GR(t,e){var n=fr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&s0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function qR(t,e){var n=fr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&s0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function QR(t,e,n){return Go&21?(Nr(n,e)||(n=eR(),ut.lanes|=n,qo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,An=!0),t.memoizedState=n)}function OV(t,e){var n=Fe;Fe=n!==0&&4>n?n:4,t(!0);var r=xg.transition;xg.transition={};try{t(!1),e()}finally{Fe=n,xg.transition=r}}function YR(){return fr().memoizedState}function LV(t,e,n){var r=Ns(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},XR(t))JR(e,n);else if(n=NR(t,e,n,r),n!==null){var i=Sn();kr(n,t,r,i),ZR(n,e,r)}}function VV(t,e,n){var r=Ns(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(XR(t))JR(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Nr(a,o)){var l=e.interleaved;l===null?(i.next=i,e0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=NR(t,e,i,r),n!==null&&(i=Sn(),kr(n,t,r,i),ZR(n,e,r))}}function XR(t){var e=t.alternate;return t===ut||e!==null&&e===ut}function JR(t,e){lc=Kf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ZR(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Uw(t,n)}}var Hf={readContext:hr,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},FV={readContext:hr,useCallback:function(t,e){return Fr().memoizedState=[t,e===void 0?null:e],t},useContext:hr,useEffect:Gx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,uf(4194308,4,KR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return uf(4194308,4,t,e)},useInsertionEffect:function(t,e){return uf(4,2,t,e)},useMemo:function(t,e){var n=Fr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Fr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=LV.bind(null,ut,t),[r.memoizedState,t]},useRef:function(t){var e=Fr();return t={current:t},e.memoizedState=t},useState:Hx,useDebugValue:u0,useDeferredValue:function(t){return Fr().memoizedState=t},useTransition:function(){var t=Hx(!1),e=t[0];return t=OV.bind(null,t[1]),Fr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ut,i=Fr();if(rt){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),Ut===null)throw Error(G(349));Go&30||VR(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Gx(jR.bind(null,r,s,t),[t]),r.flags|=2048,jc(9,FR.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Fr(),e=Ut.identifierPrefix;if(rt){var n=gi,r=mi;n=(r&~(1<<32-Ar(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Vc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=MV++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},jV={readContext:hr,useCallback:GR,useContext:hr,useEffect:l0,useImperativeHandle:HR,useInsertionEffect:zR,useLayoutEffect:WR,useMemo:qR,useReducer:Tg,useRef:$R,useState:function(){return Tg(Fc)},useDebugValue:u0,useDeferredValue:function(t){var e=fr();return QR(e,Dt.memoizedState,t)},useTransition:function(){var t=Tg(Fc)[0],e=fr().memoizedState;return[t,e]},useMutableSource:OR,useSyncExternalStore:LR,useId:YR,unstable_isNewReconciler:!1},UV={readContext:hr,useCallback:GR,useContext:hr,useEffect:l0,useImperativeHandle:HR,useInsertionEffect:zR,useLayoutEffect:WR,useMemo:qR,useReducer:Sg,useRef:$R,useState:function(){return Sg(Fc)},useDebugValue:u0,useDeferredValue:function(t){var e=fr();return Dt===null?e.memoizedState=t:QR(e,Dt.memoizedState,t)},useTransition:function(){var t=Sg(Fc)[0],e=fr().memoizedState;return[t,e]},useMutableSource:OR,useSyncExternalStore:LR,useId:YR,unstable_isNewReconciler:!1};function Tr(t,e){if(t&&t.defaultProps){e=ct({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Jy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ct({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var $p={isMounted:function(t){return(t=t._reactInternals)?la(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Sn(),i=Ns(t),s=Ti(r,i);s.payload=e,n!=null&&(s.callback=n),e=As(t,s,i),e!==null&&(kr(e,t,i,r),af(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Sn(),i=Ns(t),s=Ti(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=As(t,s,i),e!==null&&(kr(e,t,i,r),af(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Sn(),r=Ns(t),i=Ti(n,r);i.tag=2,e!=null&&(i.callback=e),e=As(t,i,r),e!==null&&(kr(e,t,r,n),af(e,t,r))}};function qx(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!kc(n,r)||!kc(i,s):!0}function eI(t,e,n){var r=!1,i=Us,s=e.contextType;return typeof s=="object"&&s!==null?s=hr(s):(i=Nn(e)?Ko:fn.current,r=e.contextTypes,s=(r=r!=null)?bl(t,i):Us),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$p,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Qx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&$p.enqueueReplaceState(e,e.state,null)}function Zy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},t0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=hr(s):(s=Nn(e)?Ko:fn.current,i.context=bl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Jy(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&$p.enqueueReplaceState(i,i.state,null),zf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Pl(t,e){try{var n="",r=e;do n+=p2(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function bg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ev(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var BV=typeof WeakMap=="function"?WeakMap:Map;function tI(t,e,n){n=Ti(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){qf||(qf=!0,cv=r),ev(t,e)},n}function nI(t,e,n){n=Ti(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ev(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ev(t,e),typeof r!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Yx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new BV;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=tF.bind(null,t,e,n),e.then(t,t))}function Xx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Jx(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ti(-1,1),e.tag=2,As(n,e,1))),n.lanes|=1),t)}var $V=zi.ReactCurrentOwner,An=!1;function Tn(t,e,n,r){e.child=t===null?kR(e,null,n,r):Rl(e,t.child,n,r)}function Zx(t,e,n,r,i){n=n.render;var s=e.ref;return el(e,i),r=o0(t,e,n,r,s,i),n=a0(),t!==null&&!An?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Di(t,e,i)):(rt&&n&&qw(e),e.flags|=1,Tn(t,e,r,i),e.child)}function eT(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!y0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,rI(t,e,s,r,i)):(t=ff(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:kc,n(o,r)&&t.ref===e.ref)return Di(t,e,i)}return e.flags|=1,t=Ds(s,r),t.ref=e.ref,t.return=e,e.child=t}function rI(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(kc(s,r)&&t.ref===e.ref)if(An=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(An=!0);else return e.lanes=t.lanes,Di(t,e,i)}return tv(t,e,n,r,i)}function iI(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge($a,Fn),Fn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ge($a,Fn),Fn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ge($a,Fn),Fn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ge($a,Fn),Fn|=r;return Tn(t,e,i,n),e.child}function sI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function tv(t,e,n,r,i){var s=Nn(n)?Ko:fn.current;return s=bl(e,s),el(e,i),n=o0(t,e,n,r,s,i),r=a0(),t!==null&&!An?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Di(t,e,i)):(rt&&r&&qw(e),e.flags|=1,Tn(t,e,n,i),e.child)}function tT(t,e,n,r,i){if(Nn(n)){var s=!0;Ff(e)}else s=!1;if(el(e,i),e.stateNode===null)cf(t,e),eI(e,n,r),Zy(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=hr(u):(u=Nn(n)?Ko:fn.current,u=bl(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Qx(e,o,r,u),os=!1;var f=e.memoizedState;o.state=f,zf(e,r,o,i),l=e.memoizedState,a!==r||f!==l||kn.current||os?(typeof d=="function"&&(Jy(e,n,d,r),l=e.memoizedState),(a=os||qx(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,DR(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Tr(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=hr(l):(l=Nn(n)?Ko:fn.current,l=bl(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Qx(e,o,r,l),os=!1,f=e.memoizedState,o.state=f,zf(e,r,o,i);var E=e.memoizedState;a!==h||f!==E||kn.current||os?(typeof p=="function"&&(Jy(e,n,p,r),E=e.memoizedState),(u=os||qx(e,n,u,r,f,E,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return nv(t,e,n,r,s,i)}function nv(t,e,n,r,i,s){sI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Ux(e,n,!1),Di(t,e,s);r=e.stateNode,$V.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Rl(e,t.child,null,s),e.child=Rl(e,null,a,s)):Tn(t,e,a,s),e.memoizedState=r.state,i&&Ux(e,n,!0),e.child}function oI(t){var e=t.stateNode;e.pendingContext?jx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&jx(t,e.context,!1),n0(t,e.containerInfo)}function nT(t,e,n,r,i){return Cl(),Yw(i),e.flags|=256,Tn(t,e,n,r),e.child}var rv={dehydrated:null,treeContext:null,retryLane:0};function iv(t){return{baseLanes:t,cachePool:null,transitions:null}}function aI(t,e,n){var r=e.pendingProps,i=ot.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ge(ot,i&1),t===null)return Yy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Kp(o,r,0,null),t=Bo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=iv(n),e.memoizedState=rv,t):c0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return zV(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ds(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ds(a,s):(s=Bo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?iv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=rv,r}return s=t.child,t=s.sibling,r=Ds(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function c0(t,e){return e=Kp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ph(t,e,n,r){return r!==null&&Yw(r),Rl(e,t.child,null,n),t=c0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zV(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=bg(Error(G(422))),Ph(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Kp({mode:"visible",children:r.children},i,0,null),s=Bo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Rl(e,t.child,null,o),e.child.memoizedState=iv(o),e.memoizedState=rv,s);if(!(e.mode&1))return Ph(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(G(419)),r=bg(s,r,void 0),Ph(t,e,o,r)}if(a=(o&t.childLanes)!==0,An||a){if(r=Ut,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ni(t,i),kr(r,t,i,-1))}return g0(),r=bg(Error(G(421))),Ph(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=nF.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Bn=Ps(i.nextSibling),zn=e,rt=!0,Rr=null,t!==null&&(ir[sr++]=mi,ir[sr++]=gi,ir[sr++]=Ho,mi=t.id,gi=t.overflow,Ho=e),e=c0(e,r.children),e.flags|=4096,e)}function rT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Xy(t.return,e,n)}function Cg(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function lI(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Tn(t,e,r.children,n),r=ot.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rT(t,n,e);else if(t.tag===19)rT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ge(ot,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Wf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Cg(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Wf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Cg(e,!0,n,null,s);break;case"together":Cg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function cf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Di(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=Ds(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ds(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function WV(t,e,n){switch(e.tag){case 3:oI(e),Cl();break;case 5:MR(e);break;case 1:Nn(e.type)&&Ff(e);break;case 4:n0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ge(Bf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ge(ot,ot.current&1),e.flags|=128,null):n&e.child.childLanes?aI(t,e,n):(Ge(ot,ot.current&1),t=Di(t,e,n),t!==null?t.sibling:null);Ge(ot,ot.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return lI(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ge(ot,ot.current),r)break;return null;case 22:case 23:return e.lanes=0,iI(t,e,n)}return Di(t,e,n)}var uI,sv,cI,dI;uI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sv=function(){};cI=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Io(Gr.current);var s=null;switch(n){case"input":i=Ry(t,i),r=Ry(t,r),s=[];break;case"select":i=ct({},i,{value:void 0}),r=ct({},r,{value:void 0}),s=[];break;case"textarea":i=Ay(t,i),r=Ay(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Lf)}Ny(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Sc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Sc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ze("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};dI=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ou(t,e){if(!rt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function nn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function KV(t,e,n){var r=e.pendingProps;switch(Qw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(e),null;case 1:return Nn(e.type)&&Vf(),nn(e),null;case 3:return r=e.stateNode,Il(),et(kn),et(fn),i0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Rh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rr!==null&&(fv(Rr),Rr=null))),sv(t,e),nn(e),null;case 5:r0(e);var i=Io(Lc.current);if(n=e.type,t!==null&&e.stateNode!=null)cI(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(G(166));return nn(e),null}if(t=Io(Gr.current),Rh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Wr]=e,r[Mc]=s,t=(e.mode&1)!==0,n){case"dialog":Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":case"embed":Ze("load",r);break;case"video":case"audio":for(i=0;i<qu.length;i++)Ze(qu[i],r);break;case"source":Ze("error",r);break;case"img":case"image":case"link":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"input":hx(r,s),Ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ze("invalid",r);break;case"textarea":px(r,s),Ze("invalid",r)}Ny(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ch(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ch(r.textContent,a,t),i=["children",""+a]):Sc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ze("scroll",r)}switch(n){case"input":vh(r),fx(r,s,!0);break;case"textarea":vh(r),mx(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Lf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=j1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Wr]=e,t[Mc]=r,uI(t,e,!1,!1),e.stateNode=t;e:{switch(o=Dy(n,r),n){case"dialog":Ze("cancel",t),Ze("close",t),i=r;break;case"iframe":case"object":case"embed":Ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<qu.length;i++)Ze(qu[i],t);i=r;break;case"source":Ze("error",t),i=r;break;case"img":case"image":case"link":Ze("error",t),Ze("load",t),i=r;break;case"details":Ze("toggle",t),i=r;break;case"input":hx(t,r),i=Ry(t,r),Ze("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ct({},r,{value:void 0}),Ze("invalid",t);break;case"textarea":px(t,r),i=Ay(t,r),Ze("invalid",t);break;default:i=r}Ny(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?$1(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&U1(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&bc(t,l):typeof l=="number"&&bc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Sc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ze("scroll",t):l!=null&&Mw(t,s,l,o))}switch(n){case"input":vh(t),fx(t,r,!1);break;case"textarea":vh(t),mx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+js(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ya(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ya(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Lf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return nn(e),null;case 6:if(t&&e.stateNode!=null)dI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(n=Io(Lc.current),Io(Gr.current),Rh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Wr]=e,(s=r.nodeValue!==n)&&(t=zn,t!==null))switch(t.tag){case 3:Ch(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ch(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wr]=e,e.stateNode=r}return nn(e),null;case 13:if(et(ot),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(rt&&Bn!==null&&e.mode&1&&!(e.flags&128))PR(),Cl(),e.flags|=98560,s=!1;else if(s=Rh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(G(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(G(317));s[Wr]=e}else Cl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;nn(e),s=!1}else Rr!==null&&(fv(Rr),Rr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ot.current&1?Lt===0&&(Lt=3):g0())),e.updateQueue!==null&&(e.flags|=4),nn(e),null);case 4:return Il(),sv(t,e),t===null&&Nc(e.stateNode.containerInfo),nn(e),null;case 10:return Zw(e.type._context),nn(e),null;case 17:return Nn(e.type)&&Vf(),nn(e),null;case 19:if(et(ot),s=e.memoizedState,s===null)return nn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ou(s,!1);else{if(Lt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Wf(t),o!==null){for(e.flags|=128,Ou(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ge(ot,ot.current&1|2),e.child}t=t.sibling}s.tail!==null&&bt()>Al&&(e.flags|=128,r=!0,Ou(s,!1),e.lanes=4194304)}else{if(!r)if(t=Wf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ou(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!rt)return nn(e),null}else 2*bt()-s.renderingStartTime>Al&&n!==1073741824&&(e.flags|=128,r=!0,Ou(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=bt(),e.sibling=null,n=ot.current,Ge(ot,r?n&1|2:n&1),e):(nn(e),null);case 22:case 23:return m0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Fn&1073741824&&(nn(e),e.subtreeFlags&6&&(e.flags|=8192)):nn(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function HV(t,e){switch(Qw(e),e.tag){case 1:return Nn(e.type)&&Vf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Il(),et(kn),et(fn),i0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return r0(e),null;case 13:if(et(ot),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));Cl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return et(ot),null;case 4:return Il(),null;case 10:return Zw(e.type._context),null;case 22:case 23:return m0(),null;case 24:return null;default:return null}}var Ah=!1,ln=!1,GV=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Ba(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gt(t,e,r)}else n.current=null}function ov(t,e,n){try{n()}catch(r){gt(t,e,r)}}var iT=!1;function qV(t,e){if(zy=Df,t=gR(),Gw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++d===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wy={focusedElem:t,selectionRange:n},Df=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var v=E.memoizedProps,T=E.memoizedState,x=e.stateNode,_=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:Tr(e.type,v),T);x.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(I){gt(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return E=iT,iT=!1,E}function uc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ov(e,n,s)}i=i.next}while(i!==r)}}function zp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function av(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function hI(t){var e=t.alternate;e!==null&&(t.alternate=null,hI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wr],delete e[Mc],delete e[Gy],delete e[AV],delete e[kV])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fI(t){return t.tag===5||t.tag===3||t.tag===4}function sT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Lf));else if(r!==4&&(t=t.child,t!==null))for(lv(t,e,n),t=t.sibling;t!==null;)lv(t,e,n),t=t.sibling}function uv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(uv(t,e,n),t=t.sibling;t!==null;)uv(t,e,n),t=t.sibling}var $t=null,br=!1;function Xi(t,e,n){for(n=n.child;n!==null;)pI(t,e,n),n=n.sibling}function pI(t,e,n){if(Hr&&typeof Hr.onCommitFiberUnmount=="function")try{Hr.onCommitFiberUnmount(Op,n)}catch{}switch(n.tag){case 5:ln||Ba(n,e);case 6:var r=$t,i=br;$t=null,Xi(t,e,n),$t=r,br=i,$t!==null&&(br?(t=$t,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$t.removeChild(n.stateNode));break;case 18:$t!==null&&(br?(t=$t,n=n.stateNode,t.nodeType===8?wg(t.parentNode,n):t.nodeType===1&&wg(t,n),Pc(t)):wg($t,n.stateNode));break;case 4:r=$t,i=br,$t=n.stateNode.containerInfo,br=!0,Xi(t,e,n),$t=r,br=i;break;case 0:case 11:case 14:case 15:if(!ln&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ov(n,e,o),i=i.next}while(i!==r)}Xi(t,e,n);break;case 1:if(!ln&&(Ba(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){gt(n,e,a)}Xi(t,e,n);break;case 21:Xi(t,e,n);break;case 22:n.mode&1?(ln=(r=ln)||n.memoizedState!==null,Xi(t,e,n),ln=r):Xi(t,e,n);break;default:Xi(t,e,n)}}function oT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new GV),e.forEach(function(r){var i=rF.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:$t=a.stateNode,br=!1;break e;case 3:$t=a.stateNode.containerInfo,br=!0;break e;case 4:$t=a.stateNode.containerInfo,br=!0;break e}a=a.return}if($t===null)throw Error(G(160));pI(s,o,i),$t=null,br=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){gt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mI(e,t),e=e.sibling}function mI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xr(e,t),Vr(t),r&4){try{uc(3,t,t.return),zp(3,t)}catch(v){gt(t,t.return,v)}try{uc(5,t,t.return)}catch(v){gt(t,t.return,v)}}break;case 1:xr(e,t),Vr(t),r&512&&n!==null&&Ba(n,n.return);break;case 5:if(xr(e,t),Vr(t),r&512&&n!==null&&Ba(n,n.return),t.flags&32){var i=t.stateNode;try{bc(i,"")}catch(v){gt(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&V1(i,s),Dy(a,o);var u=Dy(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?$1(i,h):d==="dangerouslySetInnerHTML"?U1(i,h):d==="children"?bc(i,h):Mw(i,d,h,u)}switch(a){case"input":Iy(i,s);break;case"textarea":F1(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Ya(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Ya(i,!!s.multiple,s.defaultValue,!0):Ya(i,!!s.multiple,s.multiple?[]:"",!1))}i[Mc]=s}catch(v){gt(t,t.return,v)}}break;case 6:if(xr(e,t),Vr(t),r&4){if(t.stateNode===null)throw Error(G(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){gt(t,t.return,v)}}break;case 3:if(xr(e,t),Vr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pc(e.containerInfo)}catch(v){gt(t,t.return,v)}break;case 4:xr(e,t),Vr(t);break;case 13:xr(e,t),Vr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(f0=bt())),r&4&&oT(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ln=(u=ln)||d,xr(e,t),ln=u):xr(e,t),Vr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ee=t,d=t.child;d!==null;){for(h=ee=d;ee!==null;){switch(f=ee,p=f.child,f.tag){case 0:case 11:case 14:case 15:uc(4,f,f.return);break;case 1:Ba(f,f.return);var E=f.stateNode;if(typeof E.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(v){gt(r,n,v)}}break;case 5:Ba(f,f.return);break;case 22:if(f.memoizedState!==null){lT(h);continue}}p!==null?(p.return=f,ee=p):lT(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=B1("display",o))}catch(v){gt(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){gt(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:xr(e,t),Vr(t),r&4&&oT(t);break;case 21:break;default:xr(e,t),Vr(t)}}function Vr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(fI(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(bc(i,""),r.flags&=-33);var s=sT(t);uv(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=sT(t);lv(t,a,o);break;default:throw Error(G(161))}}catch(l){gt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function QV(t,e,n){ee=t,gI(t)}function gI(t,e,n){for(var r=(t.mode&1)!==0;ee!==null;){var i=ee,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ah;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ln;a=Ah;var u=ln;if(Ah=o,(ln=l)&&!u)for(ee=i;ee!==null;)o=ee,l=o.child,o.tag===22&&o.memoizedState!==null?uT(i):l!==null?(l.return=o,ee=l):uT(i);for(;s!==null;)ee=s,gI(s),s=s.sibling;ee=i,Ah=a,ln=u}aT(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ee=s):aT(t)}}function aT(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ln||zp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ln)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Tr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Kx(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Kx(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Pc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}ln||e.flags&512&&av(e)}catch(f){gt(e,e.return,f)}}if(e===t){ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}}function lT(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ee=n;break}ee=e.return}}function uT(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{zp(4,e)}catch(l){gt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){gt(e,i,l)}}var s=e.return;try{av(e)}catch(l){gt(e,s,l)}break;case 5:var o=e.return;try{av(e)}catch(l){gt(e,o,l)}}}catch(l){gt(e,e.return,l)}if(e===t){ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ee=a;break}ee=e.return}}var YV=Math.ceil,Gf=zi.ReactCurrentDispatcher,d0=zi.ReactCurrentOwner,lr=zi.ReactCurrentBatchConfig,Me=0,Ut=null,Nt=null,Ht=0,Fn=0,$a=Zs(0),Lt=0,Uc=null,qo=0,Wp=0,h0=0,cc=null,Pn=null,f0=0,Al=1/0,hi=null,qf=!1,cv=null,ks=null,kh=!1,Ts=null,Qf=0,dc=0,dv=null,df=-1,hf=0;function Sn(){return Me&6?bt():df!==-1?df:df=bt()}function Ns(t){return t.mode&1?Me&2&&Ht!==0?Ht&-Ht:DV.transition!==null?(hf===0&&(hf=eR()),hf):(t=Fe,t!==0||(t=window.event,t=t===void 0?16:aR(t.type)),t):1}function kr(t,e,n,r){if(50<dc)throw dc=0,dv=null,Error(G(185));bd(t,n,r),(!(Me&2)||t!==Ut)&&(t===Ut&&(!(Me&2)&&(Wp|=n),Lt===4&&ls(t,Ht)),Dn(t,r),n===1&&Me===0&&!(e.mode&1)&&(Al=bt()+500,Up&&eo()))}function Dn(t,e){var n=t.callbackNode;D2(t,e);var r=Nf(t,t===Ut?Ht:0);if(r===0)n!==null&&vx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&vx(n),e===1)t.tag===0?NV(cT.bind(null,t)):CR(cT.bind(null,t)),IV(function(){!(Me&6)&&eo()}),n=null;else{switch(tR(r)){case 1:n=jw;break;case 4:n=J1;break;case 16:n=kf;break;case 536870912:n=Z1;break;default:n=kf}n=SI(n,yI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function yI(t,e){if(df=-1,hf=0,Me&6)throw Error(G(327));var n=t.callbackNode;if(tl()&&t.callbackNode!==n)return null;var r=Nf(t,t===Ut?Ht:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Yf(t,r);else{e=r;var i=Me;Me|=2;var s=wI();(Ut!==t||Ht!==e)&&(hi=null,Al=bt()+500,Uo(t,e));do try{ZV();break}catch(a){vI(t,a)}while(!0);Jw(),Gf.current=s,Me=i,Nt!==null?e=0:(Ut=null,Ht=0,e=Lt)}if(e!==0){if(e===2&&(i=Fy(t),i!==0&&(r=i,e=hv(t,i))),e===1)throw n=Uc,Uo(t,0),ls(t,r),Dn(t,bt()),n;if(e===6)ls(t,r);else{if(i=t.current.alternate,!(r&30)&&!XV(i)&&(e=Yf(t,r),e===2&&(s=Fy(t),s!==0&&(r=s,e=hv(t,s))),e===1))throw n=Uc,Uo(t,0),ls(t,r),Dn(t,bt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(G(345));case 2:Eo(t,Pn,hi);break;case 3:if(ls(t,r),(r&130023424)===r&&(e=f0+500-bt(),10<e)){if(Nf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Sn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Hy(Eo.bind(null,t,Pn,hi),e);break}Eo(t,Pn,hi);break;case 4:if(ls(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ar(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=bt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*YV(r/1960))-r,10<r){t.timeoutHandle=Hy(Eo.bind(null,t,Pn,hi),r);break}Eo(t,Pn,hi);break;case 5:Eo(t,Pn,hi);break;default:throw Error(G(329))}}}return Dn(t,bt()),t.callbackNode===n?yI.bind(null,t):null}function hv(t,e){var n=cc;return t.current.memoizedState.isDehydrated&&(Uo(t,e).flags|=256),t=Yf(t,e),t!==2&&(e=Pn,Pn=n,e!==null&&fv(e)),t}function fv(t){Pn===null?Pn=t:Pn.push.apply(Pn,t)}function XV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Nr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ls(t,e){for(e&=~h0,e&=~Wp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ar(e),r=1<<n;t[n]=-1,e&=~r}}function cT(t){if(Me&6)throw Error(G(327));tl();var e=Nf(t,0);if(!(e&1))return Dn(t,bt()),null;var n=Yf(t,e);if(t.tag!==0&&n===2){var r=Fy(t);r!==0&&(e=r,n=hv(t,r))}if(n===1)throw n=Uc,Uo(t,0),ls(t,e),Dn(t,bt()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Eo(t,Pn,hi),Dn(t,bt()),null}function p0(t,e){var n=Me;Me|=1;try{return t(e)}finally{Me=n,Me===0&&(Al=bt()+500,Up&&eo())}}function Qo(t){Ts!==null&&Ts.tag===0&&!(Me&6)&&tl();var e=Me;Me|=1;var n=lr.transition,r=Fe;try{if(lr.transition=null,Fe=1,t)return t()}finally{Fe=r,lr.transition=n,Me=e,!(Me&6)&&eo()}}function m0(){Fn=$a.current,et($a)}function Uo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,RV(n)),Nt!==null)for(n=Nt.return;n!==null;){var r=n;switch(Qw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vf();break;case 3:Il(),et(kn),et(fn),i0();break;case 5:r0(r);break;case 4:Il();break;case 13:et(ot);break;case 19:et(ot);break;case 10:Zw(r.type._context);break;case 22:case 23:m0()}n=n.return}if(Ut=t,Nt=t=Ds(t.current,null),Ht=Fn=e,Lt=0,Uc=null,h0=Wp=qo=0,Pn=cc=null,Ro!==null){for(e=0;e<Ro.length;e++)if(n=Ro[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ro=null}return t}function vI(t,e){do{var n=Nt;try{if(Jw(),lf.current=Hf,Kf){for(var r=ut.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Kf=!1}if(Go=0,jt=Dt=ut=null,lc=!1,Vc=0,d0.current=null,n===null||n.return===null){Lt=1,Uc=e,Nt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ht,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Xx(o);if(p!==null){p.flags&=-257,Jx(p,o,a,s,e),p.mode&1&&Yx(s,u,e),e=p,l=u;var E=e.updateQueue;if(E===null){var v=new Set;v.add(l),e.updateQueue=v}else E.add(l);break e}else{if(!(e&1)){Yx(s,u,e),g0();break e}l=Error(G(426))}}else if(rt&&a.mode&1){var T=Xx(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),Jx(T,o,a,s,e),Yw(Pl(l,a));break e}}s=l=Pl(l,a),Lt!==4&&(Lt=2),cc===null?cc=[s]:cc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=tI(s,l,e);Wx(s,x);break e;case 1:a=l;var _=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ks===null||!ks.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var I=nI(s,a,e);Wx(s,I);break e}}s=s.return}while(s!==null)}EI(n)}catch(N){e=N,Nt===n&&n!==null&&(Nt=n=n.return);continue}break}while(!0)}function wI(){var t=Gf.current;return Gf.current=Hf,t===null?Hf:t}function g0(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),Ut===null||!(qo&268435455)&&!(Wp&268435455)||ls(Ut,Ht)}function Yf(t,e){var n=Me;Me|=2;var r=wI();(Ut!==t||Ht!==e)&&(hi=null,Uo(t,e));do try{JV();break}catch(i){vI(t,i)}while(!0);if(Jw(),Me=n,Gf.current=r,Nt!==null)throw Error(G(261));return Ut=null,Ht=0,Lt}function JV(){for(;Nt!==null;)_I(Nt)}function ZV(){for(;Nt!==null&&!S2();)_I(Nt)}function _I(t){var e=TI(t.alternate,t,Fn);t.memoizedProps=t.pendingProps,e===null?EI(t):Nt=e,d0.current=null}function EI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=HV(n,e),n!==null){n.flags&=32767,Nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Lt=6,Nt=null;return}}else if(n=KV(n,e,Fn),n!==null){Nt=n;return}if(e=e.sibling,e!==null){Nt=e;return}Nt=e=t}while(e!==null);Lt===0&&(Lt=5)}function Eo(t,e,n){var r=Fe,i=lr.transition;try{lr.transition=null,Fe=1,eF(t,e,n,r)}finally{lr.transition=i,Fe=r}return null}function eF(t,e,n,r){do tl();while(Ts!==null);if(Me&6)throw Error(G(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(M2(t,s),t===Ut&&(Nt=Ut=null,Ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||kh||(kh=!0,SI(kf,function(){return tl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=lr.transition,lr.transition=null;var o=Fe;Fe=1;var a=Me;Me|=4,d0.current=null,qV(t,n),mI(n,t),_V(Wy),Df=!!zy,Wy=zy=null,t.current=n,QV(n),b2(),Me=a,Fe=o,lr.transition=s}else t.current=n;if(kh&&(kh=!1,Ts=t,Qf=i),s=t.pendingLanes,s===0&&(ks=null),I2(n.stateNode),Dn(t,bt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(qf)throw qf=!1,t=cv,cv=null,t;return Qf&1&&t.tag!==0&&tl(),s=t.pendingLanes,s&1?t===dv?dc++:(dc=0,dv=t):dc=0,eo(),null}function tl(){if(Ts!==null){var t=tR(Qf),e=lr.transition,n=Fe;try{if(lr.transition=null,Fe=16>t?16:t,Ts===null)var r=!1;else{if(t=Ts,Ts=null,Qf=0,Me&6)throw Error(G(331));var i=Me;for(Me|=4,ee=t.current;ee!==null;){var s=ee,o=s.child;if(ee.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ee=u;ee!==null;){var d=ee;switch(d.tag){case 0:case 11:case 15:uc(8,d,s)}var h=d.child;if(h!==null)h.return=d,ee=h;else for(;ee!==null;){d=ee;var f=d.sibling,p=d.return;if(hI(d),d===u){ee=null;break}if(f!==null){f.return=p,ee=f;break}ee=p}}}var E=s.alternate;if(E!==null){var v=E.child;if(v!==null){E.child=null;do{var T=v.sibling;v.sibling=null,v=T}while(v!==null)}}ee=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ee=o;else e:for(;ee!==null;){if(s=ee,s.flags&2048)switch(s.tag){case 0:case 11:case 15:uc(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,ee=x;break e}ee=s.return}}var _=t.current;for(ee=_;ee!==null;){o=ee;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ee=b;else e:for(o=_;ee!==null;){if(a=ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:zp(9,a)}}catch(N){gt(a,a.return,N)}if(a===o){ee=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,ee=I;break e}ee=a.return}}if(Me=i,eo(),Hr&&typeof Hr.onPostCommitFiberRoot=="function")try{Hr.onPostCommitFiberRoot(Op,t)}catch{}r=!0}return r}finally{Fe=n,lr.transition=e}}return!1}function dT(t,e,n){e=Pl(n,e),e=tI(t,e,1),t=As(t,e,1),e=Sn(),t!==null&&(bd(t,1,e),Dn(t,e))}function gt(t,e,n){if(t.tag===3)dT(t,t,n);else for(;e!==null;){if(e.tag===3){dT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ks===null||!ks.has(r))){t=Pl(n,t),t=nI(e,t,1),e=As(e,t,1),t=Sn(),e!==null&&(bd(e,1,t),Dn(e,t));break}}e=e.return}}function tF(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Sn(),t.pingedLanes|=t.suspendedLanes&n,Ut===t&&(Ht&n)===n&&(Lt===4||Lt===3&&(Ht&130023424)===Ht&&500>bt()-f0?Uo(t,0):h0|=n),Dn(t,e)}function xI(t,e){e===0&&(t.mode&1?(e=Eh,Eh<<=1,!(Eh&130023424)&&(Eh=4194304)):e=1);var n=Sn();t=Ni(t,e),t!==null&&(bd(t,e,n),Dn(t,n))}function nF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),xI(t,n)}function rF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(e),xI(t,n)}var TI;TI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||kn.current)An=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return An=!1,WV(t,e,n);An=!!(t.flags&131072)}else An=!1,rt&&e.flags&1048576&&RR(e,Uf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;cf(t,e),t=e.pendingProps;var i=bl(e,fn.current);el(e,n),i=o0(null,e,r,t,i,n);var s=a0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Nn(r)?(s=!0,Ff(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,t0(e),i.updater=$p,e.stateNode=i,i._reactInternals=e,Zy(e,r,t,n),e=nv(null,e,r,!0,s,n)):(e.tag=0,rt&&s&&qw(e),Tn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(cf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=sF(r),t=Tr(r,t),i){case 0:e=tv(null,e,r,t,n);break e;case 1:e=tT(null,e,r,t,n);break e;case 11:e=Zx(null,e,r,t,n);break e;case 14:e=eT(null,e,r,Tr(r.type,t),n);break e}throw Error(G(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tr(r,i),tv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tr(r,i),tT(t,e,r,i,n);case 3:e:{if(oI(e),t===null)throw Error(G(387));r=e.pendingProps,s=e.memoizedState,i=s.element,DR(t,e),zf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Pl(Error(G(423)),e),e=nT(t,e,r,n,i);break e}else if(r!==i){i=Pl(Error(G(424)),e),e=nT(t,e,r,n,i);break e}else for(Bn=Ps(e.stateNode.containerInfo.firstChild),zn=e,rt=!0,Rr=null,n=kR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Cl(),r===i){e=Di(t,e,n);break e}Tn(t,e,r,n)}e=e.child}return e;case 5:return MR(e),t===null&&Yy(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Ky(r,i)?o=null:s!==null&&Ky(r,s)&&(e.flags|=32),sI(t,e),Tn(t,e,o,n),e.child;case 6:return t===null&&Yy(e),null;case 13:return aI(t,e,n);case 4:return n0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Rl(e,null,r,n):Tn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tr(r,i),Zx(t,e,r,i,n);case 7:return Tn(t,e,e.pendingProps,n),e.child;case 8:return Tn(t,e,e.pendingProps.children,n),e.child;case 12:return Tn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ge(Bf,r._currentValue),r._currentValue=o,s!==null)if(Nr(s.value,o)){if(s.children===i.children&&!kn.current){e=Di(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ti(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Xy(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(G(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Xy(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Tn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,el(e,n),i=hr(i),r=r(i),e.flags|=1,Tn(t,e,r,n),e.child;case 14:return r=e.type,i=Tr(r,e.pendingProps),i=Tr(r.type,i),eT(t,e,r,i,n);case 15:return rI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tr(r,i),cf(t,e),e.tag=1,Nn(r)?(t=!0,Ff(e)):t=!1,el(e,n),eI(e,r,i),Zy(e,r,i,n),nv(null,e,r,!0,t,n);case 19:return lI(t,e,n);case 22:return iI(t,e,n)}throw Error(G(156,e.tag))};function SI(t,e){return X1(t,e)}function iF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(t,e,n,r){return new iF(t,e,n,r)}function y0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sF(t){if(typeof t=="function")return y0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Lw)return 11;if(t===Vw)return 14}return 2}function Ds(t,e){var n=t.alternate;return n===null?(n=ar(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ff(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")y0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Na:return Bo(n.children,i,s,e);case Ow:o=8,i|=8;break;case Ty:return t=ar(12,n,e,i|2),t.elementType=Ty,t.lanes=s,t;case Sy:return t=ar(13,n,e,i),t.elementType=Sy,t.lanes=s,t;case by:return t=ar(19,n,e,i),t.elementType=by,t.lanes=s,t;case M1:return Kp(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case N1:o=10;break e;case D1:o=9;break e;case Lw:o=11;break e;case Vw:o=14;break e;case ss:o=16,r=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=ar(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Bo(t,e,n,r){return t=ar(7,t,r,e),t.lanes=n,t}function Kp(t,e,n,r){return t=ar(22,t,r,e),t.elementType=M1,t.lanes=n,t.stateNode={isHidden:!1},t}function Rg(t,e,n){return t=ar(6,t,null,e),t.lanes=n,t}function Ig(t,e,n){return e=ar(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function oF(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lg(0),this.expirationTimes=lg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function v0(t,e,n,r,i,s,o,a,l){return t=new oF(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ar(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},t0(s),t}function aF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ka,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function bI(t){if(!t)return Us;t=t._reactInternals;e:{if(la(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Nn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(Nn(n))return bR(t,n,e)}return e}function CI(t,e,n,r,i,s,o,a,l){return t=v0(n,r,!0,t,i,s,o,a,l),t.context=bI(null),n=t.current,r=Sn(),i=Ns(n),s=Ti(r,i),s.callback=e??null,As(n,s,i),t.current.lanes=i,bd(t,i,r),Dn(t,r),t}function Hp(t,e,n,r){var i=e.current,s=Sn(),o=Ns(i);return n=bI(n),e.context===null?e.context=n:e.pendingContext=n,e=Ti(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=As(i,e,o),t!==null&&(kr(t,i,o,s),af(t,i,o)),o}function Xf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function w0(t,e){hT(t,e),(t=t.alternate)&&hT(t,e)}function lF(){return null}var RI=typeof reportError=="function"?reportError:function(t){console.error(t)};function _0(t){this._internalRoot=t}Gp.prototype.render=_0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));Hp(t,e,null,null)};Gp.prototype.unmount=_0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qo(function(){Hp(null,t,null,null)}),e[ki]=null}};function Gp(t){this._internalRoot=t}Gp.prototype.unstable_scheduleHydration=function(t){if(t){var e=iR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<as.length&&e!==0&&e<as[n].priority;n++);as.splice(n,0,t),n===0&&oR(t)}};function E0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fT(){}function uF(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Xf(o);s.call(u)}}var o=CI(e,r,t,0,null,!1,!1,"",fT);return t._reactRootContainer=o,t[ki]=o.current,Nc(t.nodeType===8?t.parentNode:t),Qo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Xf(l);a.call(u)}}var l=v0(t,0,!1,null,null,!1,!1,"",fT);return t._reactRootContainer=l,t[ki]=l.current,Nc(t.nodeType===8?t.parentNode:t),Qo(function(){Hp(e,l,n,r)}),l}function Qp(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Xf(o);a.call(l)}}Hp(e,o,t,i)}else o=uF(n,e,t,i,r);return Xf(o)}nR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Gu(e.pendingLanes);n!==0&&(Uw(e,n|1),Dn(e,bt()),!(Me&6)&&(Al=bt()+500,eo()))}break;case 13:Qo(function(){var r=Ni(t,1);if(r!==null){var i=Sn();kr(r,t,1,i)}}),w0(t,1)}};Bw=function(t){if(t.tag===13){var e=Ni(t,134217728);if(e!==null){var n=Sn();kr(e,t,134217728,n)}w0(t,134217728)}};rR=function(t){if(t.tag===13){var e=Ns(t),n=Ni(t,e);if(n!==null){var r=Sn();kr(n,t,e,r)}w0(t,e)}};iR=function(){return Fe};sR=function(t,e){var n=Fe;try{return Fe=t,e()}finally{Fe=n}};Oy=function(t,e,n){switch(e){case"input":if(Iy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=jp(r);if(!i)throw Error(G(90));L1(r),Iy(r,i)}}}break;case"textarea":F1(t,n);break;case"select":e=n.value,e!=null&&Ya(t,!!n.multiple,e,!1)}};K1=p0;H1=Qo;var cF={usingClientEntryPoint:!1,Events:[Rd,La,jp,z1,W1,p0]},Lu={findFiberByHostInstance:Co,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dF={bundleType:Lu.bundleType,version:Lu.version,rendererPackageName:Lu.rendererPackageName,rendererConfig:Lu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Q1(t),t===null?null:t.stateNode},findFiberByHostInstance:Lu.findFiberByHostInstance||lF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nh.isDisabled&&Nh.supportsFiber)try{Op=Nh.inject(dF),Hr=Nh}catch{}}qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cF;qn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E0(e))throw Error(G(200));return aF(t,e,null,n)};qn.createRoot=function(t,e){if(!E0(t))throw Error(G(299));var n=!1,r="",i=RI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=v0(t,1,!1,null,null,n,!1,r,i),t[ki]=e.current,Nc(t.nodeType===8?t.parentNode:t),new _0(e)};qn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=Q1(e),t=t===null?null:t.stateNode,t};qn.flushSync=function(t){return Qo(t)};qn.hydrate=function(t,e,n){if(!qp(e))throw Error(G(200));return Qp(null,t,e,!0,n)};qn.hydrateRoot=function(t,e,n){if(!E0(t))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=RI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=CI(e,null,t,1,n??null,i,!1,s,o),t[ki]=e.current,Nc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Gp(e)};qn.render=function(t,e,n){if(!qp(e))throw Error(G(200));return Qp(null,t,e,!1,n)};qn.unmountComponentAtNode=function(t){if(!qp(t))throw Error(G(40));return t._reactRootContainer?(Qo(function(){Qp(null,null,t,!1,function(){t._reactRootContainer=null,t[ki]=null})}),!0):!1};qn.unstable_batchedUpdates=p0;qn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!qp(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return Qp(t,e,n,!1,r)};qn.version="18.3.1-next-f1338f8080-20240426";function II(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(II)}catch(t){console.error(t)}}II(),I1.exports=qn;var Ql=I1.exports;const PI=Rw(Ql),hF=m1({__proto__:null,default:PI},[Ql]);var pT=Ql;Ey.createRoot=pT.createRoot,Ey.hydrateRoot=pT.hydrateRoot;var mT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},fF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},kI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[d],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(AI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new pF;const f=s<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const E=u<<6&192|h;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mF=function(t){const e=AI(t);return kI.encodeByteArray(e,!0)},Jf=function(t){return mF(t).replace(/\./g,"")},NI=function(t){try{return kI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF=()=>gF().__FIREBASE_DEFAULTS__,vF=()=>{if(typeof process>"u"||typeof mT>"u")return;const t=mT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&NI(t[1]);return e&&JSON.parse(e)},Yp=()=>{try{return yF()||vF()||wF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},DI=t=>{var e,n;return(n=(e=Yp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},MI=t=>{const e=DI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},OI=()=>{var t;return(t=Yp())===null||t===void 0?void 0:t.config},LI=t=>{var e;return(e=Yp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _F=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Jf(JSON.stringify(n)),Jf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function xF(){var t;const e=(t=Yp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CF(){const t=pn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function RF(){return!xF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IF(){try{return typeof indexedDB=="object"}catch{return!1}}function PF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF="FirebaseError";class ii extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=AF,Object.setPrototypeOf(this,ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pd.prototype.create)}}class Pd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?kF(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ii(i,a,r)}}function kF(t,e){return t.replace(NF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const NF=/\{\$([^}]+)}/g;function DF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(gT(s)&&gT(o)){if(!Zf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function gT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function MF(t,e){const n=new OF(t,e);return n.subscribe.bind(n)}class OF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");LF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Pg),i.error===void 0&&(i.error=Pg),i.complete===void 0&&(i.complete=Pg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Pg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(t){return t&&t._delegate?t._delegate:t}class Bs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VF=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _F;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jF(e))try{this.getOrInitializeService({instanceIdentifier:xo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=xo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xo){return this.instances.has(e)}getOptions(e=xo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xo){return this.component?this.component.multipleInstances?e:xo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function FF(t){return t===xo?void 0:t}function jF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const BF={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},$F=ke.INFO,zF={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},WF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=zF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class x0{constructor(e){this.name=e,this._logLevel=$F,this._logHandler=WF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const KF=(t,e)=>e.some(n=>t instanceof n);let yT,vT;function HF(){return yT||(yT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GF(){return vT||(vT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FI=new WeakMap,pv=new WeakMap,jI=new WeakMap,Ag=new WeakMap,T0=new WeakMap;function qF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ms(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&FI.set(n,t)}).catch(()=>{}),T0.set(e,t),e}function QF(t){if(pv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});pv.set(t,e)}let mv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return pv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ms(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function YF(t){mv=t(mv)}function XF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(kg(this),e,...n);return jI.set(r,e.sort?e.sort():[e]),Ms(r)}:GF().includes(t)?function(...e){return t.apply(kg(this),e),Ms(FI.get(this))}:function(...e){return Ms(t.apply(kg(this),e))}}function JF(t){return typeof t=="function"?XF(t):(t instanceof IDBTransaction&&QF(t),KF(t,HF())?new Proxy(t,mv):t)}function Ms(t){if(t instanceof IDBRequest)return qF(t);if(Ag.has(t))return Ag.get(t);const e=JF(t);return e!==t&&(Ag.set(t,e),T0.set(e,t)),e}const kg=t=>T0.get(t);function ZF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ms(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ms(o.result),l.oldVersion,l.newVersion,Ms(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const ej=["get","getKey","getAll","getAllKeys","count"],tj=["put","add","delete","clear"],Ng=new Map;function wT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ng.get(e))return Ng.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=tj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ej.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Ng.set(e,s),s}YF(t=>({...t,get:(e,n,r)=>wT(e,n)||t.get(e,n,r),has:(e,n)=>!!wT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function rj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gv="@firebase/app",_T="0.10.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new x0("@firebase/app"),ij="@firebase/app-compat",sj="@firebase/analytics-compat",oj="@firebase/analytics",aj="@firebase/app-check-compat",lj="@firebase/app-check",uj="@firebase/auth",cj="@firebase/auth-compat",dj="@firebase/database",hj="@firebase/database-compat",fj="@firebase/functions",pj="@firebase/functions-compat",mj="@firebase/installations",gj="@firebase/installations-compat",yj="@firebase/messaging",vj="@firebase/messaging-compat",wj="@firebase/performance",_j="@firebase/performance-compat",Ej="@firebase/remote-config",xj="@firebase/remote-config-compat",Tj="@firebase/storage",Sj="@firebase/storage-compat",bj="@firebase/firestore",Cj="@firebase/vertexai-preview",Rj="@firebase/firestore-compat",Ij="firebase",Pj="10.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="[DEFAULT]",Aj={[gv]:"fire-core",[ij]:"fire-core-compat",[oj]:"fire-analytics",[sj]:"fire-analytics-compat",[lj]:"fire-app-check",[aj]:"fire-app-check-compat",[uj]:"fire-auth",[cj]:"fire-auth-compat",[dj]:"fire-rtdb",[hj]:"fire-rtdb-compat",[fj]:"fire-fn",[pj]:"fire-fn-compat",[mj]:"fire-iid",[gj]:"fire-iid-compat",[yj]:"fire-fcm",[vj]:"fire-fcm-compat",[wj]:"fire-perf",[_j]:"fire-perf-compat",[Ej]:"fire-rc",[xj]:"fire-rc-compat",[Tj]:"fire-gcs",[Sj]:"fire-gcs-compat",[bj]:"fire-fst",[Rj]:"fire-fst-compat",[Cj]:"fire-vertex","fire-js":"fire-js",[Ij]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep=new Map,kj=new Map,vv=new Map;function ET(t,e){try{t.container.addComponent(e)}catch(n){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yo(t){const e=t.name;if(vv.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;vv.set(e,t);for(const n of ep.values())ET(n,t);for(const n of kj.values())ET(n,t);return!0}function Xp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function yi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Os=new Pd("app","Firebase",Nj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=Pj;function UI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:yv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Os.create("bad-app-name",{appName:String(i)});if(n||(n=OI()),!n)throw Os.create("no-options");const s=ep.get(i);if(s){if(Zf(n,s.options)&&Zf(r,s.config))return s;throw Os.create("duplicate-app",{appName:i})}const o=new UF(i);for(const l of vv.values())o.addComponent(l);const a=new Dj(n,r,o);return ep.set(i,a),a}function S0(t=yv){const e=ep.get(t);if(!e&&t===yv&&OI())return UI();if(!e)throw Os.create("no-app",{appName:t});return e}function qr(t,e,n){var r;let i=(r=Aj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(a.join(" "));return}Yo(new Bs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj="firebase-heartbeat-database",Oj=1,Bc="firebase-heartbeat-store";let Dg=null;function BI(){return Dg||(Dg=ZF(Mj,Oj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Os.create("idb-open",{originalErrorMessage:t.message})})),Dg}async function Lj(t){try{const n=(await BI()).transaction(Bc),r=await n.objectStore(Bc).get($I(t));return await n.done,r}catch(e){if(e instanceof ii)Mi.warn(e.message);else{const n=Os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(n.message)}}}async function xT(t,e){try{const r=(await BI()).transaction(Bc,"readwrite");await r.objectStore(Bc).put(e,$I(t)),await r.done}catch(n){if(n instanceof ii)Mi.warn(n.message);else{const r=Os.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mi.warn(r.message)}}}function $I(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj=1024,Fj=30*24*60*60*1e3;class jj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Bj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=TT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Fj}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Mi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=TT(),{heartbeatsToSend:r,unsentEntries:i}=Uj(this._heartbeatsCache.heartbeats),s=Jf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Mi.warn(n),""}}}function TT(){return new Date().toISOString().substring(0,10)}function Uj(t,e=Vj){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ST(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ST(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Bj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IF()?PF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Lj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return xT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return xT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ST(t){return Jf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(t){Yo(new Bs("platform-logger",e=>new nj(e),"PRIVATE")),Yo(new Bs("heartbeat",e=>new jj(e),"PRIVATE")),qr(gv,_T,t),qr(gv,_T,"esm2017"),qr("fire-js","")}$j("");var cn=function(){return cn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},cn.apply(this,arguments)};function Yl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function zI(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function WI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zj=WI,KI=new Pd("auth","Firebase",WI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp=new x0("@firebase/auth");function Wj(t,...e){tp.logLevel<=ke.WARN&&tp.warn(`Auth (${ua}): ${t}`,...e)}function pf(t,...e){tp.logLevel<=ke.ERROR&&tp.error(`Auth (${ua}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(t,...e){throw b0(t,...e)}function Qr(t,...e){return b0(t,...e)}function HI(t,e,n){const r=Object.assign(Object.assign({},zj()),{[e]:n});return new Pd("auth","Firebase",r).create(e,{appName:t.name})}function Ls(t){return HI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function b0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return KI.create(t,...e)}function me(t,e,...n){if(!t)throw b0(e,...n)}function vi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw pf(e),new Error(e)}function Li(t,e){t||vi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Kj(){return bT()==="http:"||bT()==="https:"}function bT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Kj()||SF()||"connection"in navigator)?navigator.onLine:!0}function Gj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Li(n>e,"Short delay should be less than long delay!"),this.isMobile=EF()||bF()}get(){return Hj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(t,e){Li(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj=new kd(3e4,6e4);function Jp(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Xl(t,e,n,r,i={}){return qI(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ad(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return TF()||(u.referrerPolicy="no-referrer"),GI.fetch()(YI(t,t.config.apiHost,n,a),u)})}async function qI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},qj),e);try{const i=new Yj(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Dh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Dh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Dh(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw HI(t,d,u);Oi(t,d)}}catch(i){if(i instanceof ii)throw i;Oi(t,"network-request-failed",{message:String(i)})}}async function QI(t,e,n,r,i={}){const s=await Xl(t,e,n,r,i);return"mfaPendingCredential"in s&&Oi(t,"multi-factor-auth-required",{_serverResponse:s}),s}function YI(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?C0(t.config,i):`${t.config.apiScheme}://${i}`}class Yj{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qr(this.auth,"network-request-failed")),Qj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Qr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xj(t,e){return Xl(t,"POST","/v1/accounts:delete",e)}async function XI(t,e){return Xl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Jj(t,e=!1){const n=mn(t),r=await n.getIdToken(e),i=R0(r);me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:hc(Mg(i.auth_time)),issuedAtTime:hc(Mg(i.iat)),expirationTime:hc(Mg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Mg(t){return Number(t)*1e3}function R0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return pf("JWT malformed, contained fewer than 3 sections"),null;try{const i=NI(n);return i?JSON.parse(i):(pf("Failed to decode base64 JWT payload"),null)}catch(i){return pf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function CT(t){const e=R0(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $c(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ii&&Zj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Zj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hc(this.lastLoginAt),this.creationTime=hc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function np(t){var e;const n=t.auth,r=await t.getIdToken(),i=await $c(t,XI(n,{idToken:r}));me(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?JI(s.providerUserInfo):[],a=nU(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new _v(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function tU(t){const e=mn(t);await np(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function JI(t){return t.map(e=>{var{providerId:n}=e,r=Yl(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rU(t,e){const n=await qI(t,{},async()=>{const r=Ad({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=YI(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",GI.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iU(t,e){return Xl(t,"POST","/v2/accounts:revokeToken",Jp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):CT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){me(e.length!==0,"internal-error");const n=CT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await rU(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new nl;return r&&(me(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(me(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nl,this.toJSON())}_performRefresh(){return vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class wi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Yl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new eU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new _v(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await $c(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Jj(this,e)}reload(){return tU(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await np(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yi(this.auth.app))return Promise.reject(Ls(this.auth));const e=await this.getIdToken();return await $c(this,Xj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:b,emailVerified:I,isAnonymous:N,providerData:F,stsTokenManager:C}=n;me(b&&C,e,"internal-error");const w=nl.fromJSON(this.name,C);me(typeof b=="string",e,"internal-error"),Ji(h,e.name),Ji(f,e.name),me(typeof I=="boolean",e,"internal-error"),me(typeof N=="boolean",e,"internal-error"),Ji(p,e.name),Ji(E,e.name),Ji(v,e.name),Ji(T,e.name),Ji(x,e.name),Ji(_,e.name);const R=new wi({uid:b,auth:e,email:f,emailVerified:I,displayName:h,isAnonymous:N,photoURL:E,phoneNumber:p,tenantId:v,stsTokenManager:w,createdAt:x,lastLoginAt:_});return F&&Array.isArray(F)&&(R.providerData=F.map(A=>Object.assign({},A))),T&&(R._redirectEventId=T),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new nl;i.updateFromServerResponse(n);const s=new wi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await np(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];me(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?JI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new nl;a.updateFromIdToken(r);const l=new wi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new _v(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=new Map;function _i(t){Li(t instanceof Function,"Expected a class definition");let e=RT.get(t);return e?(Li(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,RT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ZI.type="NONE";const IT=ZI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(t,e,n){return`firebase:${t}:${e}:${n}`}class rl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=mf(this.userKey,i.apiKey,s),this.fullPersistenceKey=mf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?wi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new rl(_i(IT),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||_i(IT);const o=mf(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const h=wi._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new rl(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new rl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sP(e))return"Blackberry";if(oP(e))return"Webos";if(tP(e))return"Safari";if((e.includes("chrome/")||nP(e))&&!e.includes("edge/"))return"Chrome";if(iP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function eP(t=pn()){return/firefox\//i.test(t)}function tP(t=pn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nP(t=pn()){return/crios\//i.test(t)}function rP(t=pn()){return/iemobile/i.test(t)}function iP(t=pn()){return/android/i.test(t)}function sP(t=pn()){return/blackberry/i.test(t)}function oP(t=pn()){return/webos/i.test(t)}function I0(t=pn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function sU(t=pn()){var e;return I0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function oU(){return CF()&&document.documentMode===10}function aP(t=pn()){return I0(t)||iP(t)||oP(t)||sP(t)||/windows phone/i.test(t)||rP(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(t,e=[]){let n;switch(t){case"Browser":n=PT(pn());break;case"Worker":n=`${PT(pn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ua}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lU(t,e={}){return Xl(t,"GET","/v2/passwordPolicy",Jp(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU=6;class cU{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:uU,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new AT(this),this.idTokenSubscription=new AT(this),this.beforeStateQueue=new aU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_i(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await rl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await XI(this,{idToken:e}),r=await wi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(yi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await np(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Gj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yi(this.app))return Promise.reject(Ls(this));const n=e?mn(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yi(this.app)?Promise.reject(Ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yi(this.app)?Promise.reject(Ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await lU(this),n=new cU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await iU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_i(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await rl.create(this,[_i(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Wj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Zp(t){return mn(t)}class AT{constructor(e){this.auth=e,this.observer=null,this.addObserver=MF(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hU(t){P0=t}function fU(t){return P0.loadJS(t)}function pU(){return P0.gapiScript}function mU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(t,e){const n=Xp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Zf(s,e??{}))return i;Oi(i,"already-initialized")}return n.initialize({options:e})}function yU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_i);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function vU(t,e,n){const r=Zp(t);me(r._canInitEmulator,r,"emulator-config-failed"),me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=uP(e),{host:o,port:a}=wU(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),_U()}function uP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wU(t){const e=uP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:kT(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:kT(o)}}}function kT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _U(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vi("not implemented")}_getIdTokenResponse(e){return vi("not implemented")}_linkToIdToken(e,n){return vi("not implemented")}_getReauthenticationResolver(e){return vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(t,e){return QI(t,"POST","/v1/accounts:signInWithIdp",Jp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU="http://localhost";class Xo extends cP{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Oi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Yl(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Xo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return il(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,il(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,il(e,n)}buildRequest(){const e={requestUri:EU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ad(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd extends dP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends Nd{constructor(){super("facebook.com")}static credential(e){return Xo._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.FACEBOOK_SIGN_IN_METHOD="facebook.com";us.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends Nd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xo._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return cs.credential(n,r)}catch{return null}}}cs.GOOGLE_SIGN_IN_METHOD="google.com";cs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends Nd{constructor(){super("github.com")}static credential(e){return Xo._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.GITHUB_SIGN_IN_METHOD="github.com";ds.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends Nd{constructor(){super("twitter.com")}static credential(e,n){return Xo._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return hs.credential(n,r)}catch{return null}}}hs.TWITTER_SIGN_IN_METHOD="twitter.com";hs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xU(t,e){return QI(t,"POST","/v1/accounts:signUp",Jp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await wi._fromIdTokenResponse(e,r,i),o=NT(r);return new $s({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=NT(r);return new $s({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function NT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TU(t){var e;if(yi(t.app))return Promise.reject(Ls(t));const n=Zp(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new $s({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await xU(n,{returnSecureToken:!0}),i=await $s._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp extends ii{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,rp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new rp(e,n,r,i)}}function hP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?rp._fromErrorAndOperation(t,s,e,r):s})}async function SU(t,e,n=!1){const r=await $c(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $s._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bU(t,e,n=!1){const{auth:r}=t;if(yi(r.app))return Promise.reject(Ls(r));const i="reauthenticate";try{const s=await $c(t,hP(r,i,e,t),n);me(s.idToken,r,"internal-error");const o=R0(s.idToken);me(o,r,"internal-error");const{sub:a}=o;return me(t.uid===a,r,"user-mismatch"),$s._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Oi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CU(t,e,n=!1){if(yi(t.app))return Promise.reject(Ls(t));const r="signIn",i=await hP(t,r,e),s=await $s._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function RU(t,e,n,r){return mn(t).onIdTokenChanged(e,n,r)}function IU(t,e,n){return mn(t).beforeAuthStateChanged(e,n)}const ip="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ip,"1"),this.storage.removeItem(ip),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU=1e3,AU=10;class pP extends fP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);oU()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,AU):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},PU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}pP.type="LOCAL";const kU=pP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP extends fP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}mP.type="SESSION";const gP=mP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new em(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await NU(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}em.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=A0("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(){return window}function MU(t){Yr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(){return typeof Yr().WorkerGlobalScope<"u"&&typeof Yr().importScripts=="function"}async function OU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function VU(){return yP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP="firebaseLocalStorageDb",FU=1,sp="firebaseLocalStorage",wP="fbase_key";class Dd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tm(t,e){return t.transaction([sp],e?"readwrite":"readonly").objectStore(sp)}function jU(){const t=indexedDB.deleteDatabase(vP);return new Dd(t).toPromise()}function Ev(){const t=indexedDB.open(vP,FU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(sp,{keyPath:wP})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(sp)?e(r):(r.close(),await jU(),e(await Ev()))})})}async function DT(t,e,n){const r=tm(t,!0).put({[wP]:e,value:n});return new Dd(r).toPromise()}async function UU(t,e){const n=tm(t,!1).get(e),r=await new Dd(n).toPromise();return r===void 0?null:r.value}function MT(t,e){const n=tm(t,!0).delete(e);return new Dd(n).toPromise()}const BU=800,$U=3;class _P{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ev(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$U)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=em._getInstance(VU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await OU(),!this.activeServiceWorker)return;this.sender=new DU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||LU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ev();return await DT(e,ip,"1"),await MT(e,ip),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>DT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>UU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>MT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=tm(i,!1).getAll();return new Dd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_P.type="LOCAL";const zU=_P;new kd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(t,e){return e?_i(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0 extends cP{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return il(e,this._buildIdpRequest())}_linkToIdToken(e,n){return il(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return il(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function KU(t){return CU(t.auth,new k0(t),t.bypassAuthState)}function HU(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),bU(n,new k0(t),t.bypassAuthState)}async function GU(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),SU(n,new k0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KU;case"linkViaPopup":case"linkViaRedirect":return GU;case"reauthViaPopup":case"reauthViaRedirect":return HU;default:Oi(this.auth,"internal-error")}}resolve(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qU=new kd(2e3,1e4);class za extends EP{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,za.currentPopupAction&&za.currentPopupAction.cancel(),za.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){Li(this.filter.length===1,"Popup operations only handle one event");const e=A0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,za.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qU.get())};e()}}za.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU="pendingRedirect",gf=new Map;class YU extends EP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=gf.get(this.auth._key());if(!e){try{const r=await XU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}gf.set(this.auth._key(),e)}return this.bypassAuthState||gf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XU(t,e){const n=e4(e),r=ZU(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function JU(t,e){gf.set(t._key(),e)}function ZU(t){return _i(t._redirectPersistence)}function e4(t){return mf(QU,t.config.apiKey,t.name)}async function t4(t,e,n=!1){if(yi(t.app))return Promise.reject(Ls(t));const r=Zp(t),i=WU(r,e),o=await new YU(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=10*60*1e3;class r4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!xP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=n4&&this.cachedEventUids.clear(),this.cachedEventUids.has(OT(e))}saveEventToCache(e){this.cachedEventUids.add(OT(e)),this.lastProcessedEventTime=Date.now()}}function OT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function xP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function i4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s4(t,e={}){return Xl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a4=/^https?/;async function l4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await s4(t);for(const n of e)try{if(u4(n))return}catch{}Oi(t,"unauthorized-domain")}function u4(t){const e=wv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!a4.test(n))return!1;if(o4.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=new kd(3e4,6e4);function LT(){const t=Yr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function d4(t){return new Promise((e,n)=>{var r,i,s;function o(){LT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LT(),n(Qr(t,"network-request-failed"))},timeout:c4.get()})}if(!((i=(r=Yr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Yr().gapi)===null||s===void 0)&&s.load)o();else{const a=mU("iframefcb");return Yr()[a]=()=>{gapi.load?o():n(Qr(t,"network-request-failed"))},fU(`${pU()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw yf=null,e})}let yf=null;function h4(t){return yf=yf||d4(t),yf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=new kd(5e3,15e3),p4="__/auth/iframe",m4="emulator/auth/iframe",g4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function v4(t){const e=t.config;me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?C0(e,m4):`https://${t.config.authDomain}/${p4}`,r={apiKey:e.apiKey,appName:t.name,v:ua},i=y4.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ad(r).slice(1)}`}async function w4(t){const e=await h4(t),n=Yr().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:v4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:g4,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Qr(t,"network-request-failed"),a=Yr().setTimeout(()=>{s(o)},f4.get());function l(){Yr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},E4=500,x4=600,T4="_blank",S4="http://localhost";class VT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function b4(t,e,n,r=E4,i=x4){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},_4),{width:r.toString(),height:i.toString(),top:s,left:o}),u=pn().toLowerCase();n&&(a=nP(u)?T4:n),eP(u)&&(e=e||S4,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[p,E])=>`${f}${p}=${E},`,"");if(sU(u)&&a!=="_self")return C4(e||"",a),new VT(null);const h=window.open(e||"",a,d);me(h,t,"popup-blocked");try{h.focus()}catch{}return new VT(h)}function C4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4="__/auth/handler",I4="emulator/auth/handler",P4=encodeURIComponent("fac");async function FT(t,e,n,r,i,s){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ua,eventId:i};if(e instanceof dP){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",DF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Nd){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${P4}=${encodeURIComponent(l)}`:"";return`${A4(t)}?${Ad(a).slice(1)}${u}`}function A4({config:t}){return t.emulator?C0(t,I4):`https://${t.authDomain}/${R4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="webStorageSupport";class k4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gP,this._completeRedirectFn=t4,this._overrideRedirectResult=JU}async _openPopup(e,n,r,i){var s;Li((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await FT(e,n,r,wv(),i);return b4(e,o,A0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await FT(e,n,r,wv(),i);return MU(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Li(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await w4(e),r=new r4(e);return n.register("authEvent",i=>(me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Og,{type:Og},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Og];o!==void 0&&n(!!o),Oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=l4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aP()||tP()||I0()}}const N4=k4;var jT="@firebase/auth",UT="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function O4(t){Yo(new Bs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;me(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lP(t)},u=new dU(r,i,s,l);return yU(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Yo(new Bs("auth-internal",e=>{const n=Zp(e.getProvider("auth").getImmediate());return(r=>new D4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qr(jT,UT,M4(t)),qr(jT,UT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=5*60,V4=LI("authIdTokenMaxAge")||L4;let BT=null;const F4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>V4)return;const i=n==null?void 0:n.token;BT!==i&&(BT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function j4(t=S0()){const e=Xp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=gU(t,{popupRedirectResolver:N4,persistence:[zU,kU,gP]}),r=LI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=F4(s.toString());IU(n,o,()=>o(n.currentUser)),RU(n,a=>o(a))}}const i=DI("auth");return i&&vU(n,`http://${i}`),n}function U4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}hU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Qr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",U4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});O4("Browser");const N0=t=>{};var B4={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"production",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://chatbot-api-0zup.onrender.com",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const $T=t=>{let e;const n=new Set,r=(d,h)=>{const f=typeof d=="function"?d(e):d;if(!Object.is(f,e)){const p=e;e=h??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(E=>E(e,p))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(B4?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,i,l);return l},$4=t=>t?$T(t):$T;var TP={exports:{}},SP={},bP={exports:{}},CP={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kl=y;function z4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var W4=typeof Object.is=="function"?Object.is:z4,K4=kl.useState,H4=kl.useEffect,G4=kl.useLayoutEffect,q4=kl.useDebugValue;function Q4(t,e){var n=e(),r=K4({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return G4(function(){i.value=n,i.getSnapshot=e,Lg(i)&&s({inst:i})},[t,n,e]),H4(function(){return Lg(i)&&s({inst:i}),t(function(){Lg(i)&&s({inst:i})})},[t]),q4(n),n}function Lg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!W4(t,n)}catch{return!0}}function Y4(t,e){return e()}var X4=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Y4:Q4;CP.useSyncExternalStore=kl.useSyncExternalStore!==void 0?kl.useSyncExternalStore:X4;bP.exports=CP;var J4=bP.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm=y,Z4=J4;function eB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tB=typeof Object.is=="function"?Object.is:eB,nB=Z4.useSyncExternalStore,rB=nm.useRef,iB=nm.useEffect,sB=nm.useMemo,oB=nm.useDebugValue;SP.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=rB(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=sB(function(){function l(p){if(!u){if(u=!0,d=p,p=r(p),i!==void 0&&o.hasValue){var E=o.value;if(i(E,p))return h=E}return h=p}if(E=h,tB(d,p))return E;var v=r(p);return i!==void 0&&i(E,v)?E:(d=p,h=v)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=nB(t,s[0],s[1]);return iB(function(){o.hasValue=!0,o.value=a},[a]),oB(a),a};TP.exports=SP;var aB=TP.exports;const lB=Rw(aB);var RP={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"production",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://chatbot-api-0zup.onrender.com",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:uB}=jr,{useSyncExternalStoreWithSelector:cB}=lB;let zT=!1;const dB=t=>t;function hB(t,e=dB,n){(RP?"production":void 0)!=="production"&&n&&!zT&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),zT=!0);const r=cB(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return uB(r),r}const WT=t=>{(RP?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?$4(t):t,n=(r,i)=>hB(e,r,i);return Object.assign(n,e),n},Jl=t=>t?WT(t):WT;var fB={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"production",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://chatbot-api-0zup.onrender.com",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function IP(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const o=l=>l===null?null:JSON.parse(l,void 0),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const zc=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return zc(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return zc(r)(n)}}}},pB=(t,e)=>(n,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:T=>T,version:0,merge:(T,x)=>({...x,...T}),...e},o=!1;const a=new Set,l=new Set;let u;try{u=s.getStorage()}catch{}if(!u)return t((...T)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...T)},r,i);const d=zc(s.serialize),h=()=>{const T=s.partialize({...r()});let x;const _=d({state:T,version:s.version}).then(b=>u.setItem(s.name,b)).catch(b=>{x=b});if(x)throw x;return _},f=i.setState;i.setState=(T,x)=>{f(T,x),h()};const p=t((...T)=>{n(...T),h()},r,i);let E;const v=()=>{var T;if(!u)return;o=!1,a.forEach(_=>_(r()));const x=((T=s.onRehydrateStorage)==null?void 0:T.call(s,r()))||void 0;return zc(u.getItem.bind(u))(s.name).then(_=>{if(_)return s.deserialize(_)}).then(_=>{if(_)if(typeof _.version=="number"&&_.version!==s.version){if(s.migrate)return s.migrate(_.state,_.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return _.state}).then(_=>{var b;return E=s.merge(_,(b=r())!=null?b:p),n(E,!0),h()}).then(()=>{x==null||x(E,void 0),o=!0,l.forEach(_=>_(E))}).catch(_=>{x==null||x(void 0,_)})};return i.persist={setOptions:T=>{s={...s,...T},T.getStorage&&(u=T.getStorage())},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:T=>(a.add(T),()=>{a.delete(T)}),onFinishHydration:T=>(l.add(T),()=>{l.delete(T)})},v(),E||p},mB=(t,e)=>(n,r,i)=>{let s={storage:IP(()=>localStorage),partialize:v=>v,version:0,merge:(v,T)=>({...T,...v}),...e},o=!1;const a=new Set,l=new Set;let u=s.storage;if(!u)return t((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...v)},r,i);const d=()=>{const v=s.partialize({...r()});return u.setItem(s.name,{state:v,version:s.version})},h=i.setState;i.setState=(v,T)=>{h(v,T),d()};const f=t((...v)=>{n(...v),d()},r,i);i.getInitialState=()=>f;let p;const E=()=>{var v,T;if(!u)return;o=!1,a.forEach(_=>{var b;return _((b=r())!=null?b:f)});const x=((T=s.onRehydrateStorage)==null?void 0:T.call(s,(v=r())!=null?v:f))||void 0;return zc(u.getItem.bind(u))(s.name).then(_=>{if(_)if(typeof _.version=="number"&&_.version!==s.version){if(s.migrate)return[!0,s.migrate(_.state,_.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,_.state];return[!1,void 0]}).then(_=>{var b;const[I,N]=_;if(p=s.merge(N,(b=r())!=null?b:f),n(p,!0),I)return d()}).then(()=>{x==null||x(p,void 0),p=r(),o=!0,l.forEach(_=>_(p))}).catch(_=>{x==null||x(void 0,_)})};return i.persist={setOptions:v=>{s={...s,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>E(),hasHydrated:()=>o,onHydrate:v=>(a.add(v),()=>{a.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},s.skipHydration||E(),p||f},gB=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((fB?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),pB(t,e)):mB(t,e),yB=gB,Nl=Jl()(yB(t=>({isAuth:!1,accessToken:null,setAccessToken:e=>t({accessToken:e}),login:e=>t({isAuth:!0,accessToken:e}),logout:()=>t({isAuth:!1,accessToken:null})}),{name:"auth-storage",storage:IP(()=>sessionStorage)}));/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function st(){return st=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},st.apply(this,arguments)}var kt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(kt||(kt={}));const KT="popstate";function vB(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Wc("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Jo(i)}return _B(e,n,null,t)}function Te(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Dl(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wB(){return Math.random().toString(36).substr(2,8)}function HT(t,e){return{usr:t.state,key:t.key,idx:e}}function Wc(t,e,n,r){return n===void 0&&(n=null),st({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?to(e):e,{state:n,key:e&&e.key||r||wB()})}function Jo(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function to(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function _B(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=kt.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(st({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=kt.Pop;let T=d(),x=T==null?null:T-u;u=T,l&&l({action:a,location:v.location,delta:x})}function f(T,x){a=kt.Push;let _=Wc(v.location,T,x);u=d()+1;let b=HT(_,u),I=v.createHref(_);try{o.pushState(b,"",I)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(I)}s&&l&&l({action:a,location:v.location,delta:1})}function p(T,x){a=kt.Replace;let _=Wc(v.location,T,x);u=d();let b=HT(_,u),I=v.createHref(_);o.replaceState(b,"",I),s&&l&&l({action:a,location:v.location,delta:0})}function E(T){let x=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof T=="string"?T:Jo(T);return _=_.replace(/ $/,"%20"),Te(x,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,x)}let v={get action(){return a},get location(){return t(i,o)},listen(T){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(KT,h),l=T,()=>{i.removeEventListener(KT,h),l=null}},createHref(T){return e(i,T)},createURL:E,encodeLocation(T){let x=E(T);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:p,go(T){return o.go(T)}};return v}var Be;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Be||(Be={}));const EB=new Set(["lazy","caseSensitive","path","id","index","children"]);function xB(t){return t.index===!0}function Kc(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(Te(i.index!==!0||!i.children,"Cannot specify children on an index route"),Te(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),xB(i)){let l=st({},i,e(i),{id:a});return r[a]=l,l}else{let l=st({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Kc(i.children,e,o,r)),l}})}function bo(t,e,n){return n===void 0&&(n="/"),vf(t,e,n,!1)}function vf(t,e,n,r){let i=typeof e=="string"?to(e):e,s=Zl(i.pathname||"/",n);if(s==null)return null;let o=PP(t);SB(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=OB(s);a=DB(o[l],u,r)}return a}function TB(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function PP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Te(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Si([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Te(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),PP(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:kB(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of AP(s.path))i(s,o,l)}),e}function AP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=AP(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function SB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:NB(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const bB=/^:[\w-]+$/,CB=3,RB=2,IB=1,PB=10,AB=-2,GT=t=>t==="*";function kB(t,e){let n=t.split("/"),r=n.length;return n.some(GT)&&(r+=AB),e&&(r+=RB),n.filter(i=>!GT(i)).reduce((i,s)=>i+(bB.test(s)?CB:s===""?IB:PB),r)}function NB(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function DB(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=qT({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=qT({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Si([s,h.pathname]),pathnameBase:FB(Si([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Si([s,h.pathnameBase]))}return o}function qT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=MB(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let v=a[h]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const E=a[h];return p&&!E?u[f]=void 0:u[f]=(E||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function MB(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Dl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function OB(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dl(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Zl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function LB(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?to(t):t;return{pathname:n?n.startsWith("/")?n:VB(n,e):e,search:jB(r),hash:UB(i)}}function VB(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Vg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function rm(t,e){let n=kP(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function im(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=to(t):(i=st({},t),Te(!i.pathname||!i.pathname.includes("?"),Vg("?","pathname","search",i)),Te(!i.pathname||!i.pathname.includes("#"),Vg("#","pathname","hash",i)),Te(!i.search||!i.search.includes("#"),Vg("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=LB(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Si=t=>t.join("/").replace(/\/\/+/g,"/"),FB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,UB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class op{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Md(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const NP=["post","put","patch","delete"],BB=new Set(NP),$B=["get",...NP],zB=new Set($B),WB=new Set([301,302,303,307,308]),KB=new Set([307,308]),Fg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},HB={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Vu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},D0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,GB=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),DP="remix-router-transitions";function qB(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Te(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let O=t.detectErrorBoundary;i=V=>({hasErrorBoundary:O(V)})}else i=GB;let s={},o=Kc(t.routes,i,void 0,s),a,l=t.basename||"/",u=t.unstable_dataStrategy||e3,d=t.unstable_patchRoutesOnNavigation,h=st({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,p=new Set,E=1e3,v=new Set,T=null,x=null,_=null,b=t.hydrationData!=null,I=bo(o,t.history.location,l),N=null;if(I==null&&!d){let O=xn(404,{pathname:t.history.location.pathname}),{matches:V,route:U}=rS(o);I=V,N={[U.id]:O}}I&&!t.hydrationData&&Rt(I,o,t.history.location.pathname).active&&(I=null);let F;if(I)if(I.some(O=>O.route.lazy))F=!1;else if(!I.some(O=>O.route.loader))F=!0;else if(h.v7_partialHydration){let O=t.hydrationData?t.hydrationData.loaderData:null,V=t.hydrationData?t.hydrationData.errors:null,U=W=>W.route.loader?typeof W.route.loader=="function"&&W.route.loader.hydrate===!0?!1:O&&O[W.route.id]!==void 0||V&&V[W.route.id]!==void 0:!0;if(V){let W=I.findIndex(X=>V[X.route.id]!==void 0);F=I.slice(0,W+1).every(U)}else F=I.every(U)}else F=t.hydrationData!=null;else if(F=!1,I=[],h.v7_partialHydration){let O=Rt(null,o,t.history.location.pathname);O.active&&O.matches&&(I=O.matches)}let C,w={historyAction:t.history.action,location:t.history.location,matches:I,initialized:F,navigation:Fg,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||N,fetchers:new Map,blockers:new Map},R=kt.Pop,A=!1,D,M=!1,k=new Map,J=null,Se=!1,fe=!1,le=[],z=new Set,$=new Map,Y=0,ae=-1,ge=new Map,be=new Set,ht=new Map,Ct=new Map,$e=new Set,ze=new Map,yn=new Map,Yt=new Map,vn;function oi(){if(f=t.history.listen(O=>{let{action:V,location:U,delta:W}=O;if(vn){vn(),vn=void 0;return}Dl(yn.size===0||W!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let X=ma({currentLocation:w.location,nextLocation:U,historyAction:V});if(X&&W!=null){let oe=new Promise(pe=>{vn=pe});t.history.go(W*-1),Lr(X,{state:"blocked",location:U,proceed(){Lr(X,{state:"proceeding",proceed:void 0,reset:void 0,location:U}),oe.then(()=>t.history.go(W))},reset(){let pe=new Map(w.blockers);pe.set(X,Vu),ft({blockers:pe})}});return}return gr(V,U)}),n){m3(e,k);let O=()=>g3(e,k);e.addEventListener("pagehide",O),J=()=>e.removeEventListener("pagehide",O)}return w.initialized||gr(kt.Pop,w.location,{initialHydration:!0}),C}function Wi(){f&&f(),J&&J(),p.clear(),D&&D.abort(),w.fetchers.forEach((O,V)=>lo(V)),w.blockers.forEach((O,V)=>vu(V))}function mr(O){return p.add(O),()=>p.delete(O)}function ft(O,V){V===void 0&&(V={}),w=st({},w,O);let U=[],W=[];h.v7_fetcherPersist&&w.fetchers.forEach((X,oe)=>{X.state==="idle"&&($e.has(oe)?W.push(oe):U.push(oe))}),[...p].forEach(X=>X(w,{deletedFetchers:W,unstable_viewTransitionOpts:V.viewTransitionOpts,unstable_flushSync:V.flushSync===!0})),h.v7_fetcherPersist&&(U.forEach(X=>w.fetchers.delete(X)),W.forEach(X=>lo(X)))}function Yn(O,V,U){var W,X;let{flushSync:oe}=U===void 0?{}:U,pe=w.actionData!=null&&w.navigation.formMethod!=null&&Cr(w.navigation.formMethod)&&w.navigation.state==="loading"&&((W=O.state)==null?void 0:W._isRedirect)!==!0,q;V.actionData?Object.keys(V.actionData).length>0?q=V.actionData:q=null:pe?q=w.actionData:q=null;let ie=V.loaderData?tS(w.loaderData,V.loaderData,V.matches||[],V.errors):w.loaderData,te=w.blockers;te.size>0&&(te=new Map(te),te.forEach((De,Ue)=>te.set(Ue,Vu)));let re=A===!0||w.navigation.formMethod!=null&&Cr(w.navigation.formMethod)&&((X=O.state)==null?void 0:X._isRedirect)!==!0;a&&(o=a,a=void 0),Se||R===kt.Pop||(R===kt.Push?t.history.push(O,O.state):R===kt.Replace&&t.history.replace(O,O.state));let Pe;if(R===kt.Pop){let De=k.get(w.location.pathname);De&&De.has(O.pathname)?Pe={currentLocation:w.location,nextLocation:O}:k.has(O.pathname)&&(Pe={currentLocation:O,nextLocation:w.location})}else if(M){let De=k.get(w.location.pathname);De?De.add(O.pathname):(De=new Set([O.pathname]),k.set(w.location.pathname,De)),Pe={currentLocation:w.location,nextLocation:O}}ft(st({},V,{actionData:q,loaderData:ie,historyAction:R,location:O,initialized:!0,navigation:Fg,revalidation:"idle",restoreScrollPosition:_u(O,V.matches||w.matches),preventScrollReset:re,blockers:te}),{viewTransitionOpts:Pe,flushSync:oe===!0}),R=kt.Pop,A=!1,M=!1,Se=!1,fe=!1,le=[]}async function oo(O,V){if(typeof O=="number"){t.history.go(O);return}let U=xv(w.location,w.matches,l,h.v7_prependBasename,O,h.v7_relativeSplatPath,V==null?void 0:V.fromRouteId,V==null?void 0:V.relative),{path:W,submission:X,error:oe}=QT(h.v7_normalizeFormMethod,!1,U,V),pe=w.location,q=Wc(w.location,W,V&&V.state);q=st({},q,t.history.encodeLocation(q));let ie=V&&V.replace!=null?V.replace:void 0,te=kt.Push;ie===!0?te=kt.Replace:ie===!1||X!=null&&Cr(X.formMethod)&&X.formAction===w.location.pathname+w.location.search&&(te=kt.Replace);let re=V&&"preventScrollReset"in V?V.preventScrollReset===!0:void 0,Pe=(V&&V.unstable_flushSync)===!0,De=ma({currentLocation:pe,nextLocation:q,historyAction:te});if(De){Lr(De,{state:"blocked",location:q,proceed(){Lr(De,{state:"proceeding",proceed:void 0,reset:void 0,location:q}),oo(O,V)},reset(){let Ue=new Map(w.blockers);Ue.set(De,Vu),ft({blockers:Ue})}});return}return await gr(te,q,{submission:X,pendingError:oe,preventScrollReset:re,replace:V&&V.replace,enableViewTransition:V&&V.unstable_viewTransition,flushSync:Pe})}function fu(){if(fa(),ft({revalidation:"loading"}),w.navigation.state!=="submitting"){if(w.navigation.state==="idle"){gr(w.historyAction,w.location,{startUninterruptedRevalidation:!0});return}gr(R||w.historyAction,w.navigation.location,{overrideNavigation:w.navigation,enableViewTransition:M===!0})}}async function gr(O,V,U){D&&D.abort(),D=null,R=O,Se=(U&&U.startUninterruptedRevalidation)===!0,co(w.location,w.matches),A=(U&&U.preventScrollReset)===!0,M=(U&&U.enableViewTransition)===!0;let W=a||o,X=U&&U.overrideNavigation,oe=bo(W,V,l),pe=(U&&U.flushSync)===!0,q=Rt(oe,W,V.pathname);if(q.active&&q.matches&&(oe=q.matches),!oe){let{error:Re,notFoundMatches:It,route:Qe}=uo(V.pathname);Yn(V,{matches:It,loaderData:{},errors:{[Qe.id]:Re}},{flushSync:pe});return}if(w.initialized&&!fe&&o3(w.location,V)&&!(U&&U.submission&&Cr(U.submission.formMethod))){Yn(V,{matches:oe},{flushSync:pe});return}D=new AbortController;let ie=xa(t.history,V,D.signal,U&&U.submission),te;if(U&&U.pendingError)te=[Wa(oe).route.id,{type:Be.error,error:U.pendingError}];else if(U&&U.submission&&Cr(U.submission.formMethod)){let Re=await ai(ie,V,U.submission,oe,q.active,{replace:U.replace,flushSync:pe});if(Re.shortCircuited)return;if(Re.pendingActionResult){let[It,Qe]=Re.pendingActionResult;if(jn(Qe)&&Md(Qe.error)&&Qe.error.status===404){D=null,Yn(V,{matches:Re.matches,loaderData:{},errors:{[It]:Qe.error}});return}}oe=Re.matches||oe,te=Re.pendingActionResult,X=jg(V,U.submission),pe=!1,q.active=!1,ie=xa(t.history,ie.url,ie.signal)}let{shortCircuited:re,matches:Pe,loaderData:De,errors:Ue}=await pu(ie,V,oe,q.active,X,U&&U.submission,U&&U.fetcherSubmission,U&&U.replace,U&&U.initialHydration===!0,pe,te);re||(D=null,Yn(V,st({matches:Pe||oe},nS(te),{loaderData:De,errors:Ue})))}async function ai(O,V,U,W,X,oe){oe===void 0&&(oe={}),fa();let pe=f3(V,U);if(ft({navigation:pe},{flushSync:oe.flushSync===!0}),X){let te=await ho(W,V.pathname,O.signal);if(te.type==="aborted")return{shortCircuited:!0};if(te.type==="error"){let{boundaryId:re,error:Pe}=Jn(V.pathname,te);return{matches:te.partialMatches,pendingActionResult:[re,{type:Be.error,error:Pe}]}}else if(te.matches)W=te.matches;else{let{notFoundMatches:re,error:Pe,route:De}=uo(V.pathname);return{matches:re,pendingActionResult:[De.id,{type:Be.error,error:Pe}]}}}let q,ie=Qu(W,V);if(!ie.route.action&&!ie.route.lazy)q={type:Be.error,error:xn(405,{method:O.method,pathname:V.pathname,routeId:ie.route.id})};else if(q=(await xt("action",w,O,[ie],W,null))[ie.route.id],O.signal.aborted)return{shortCircuited:!0};if(Po(q)){let te;return oe&&oe.replace!=null?te=oe.replace:te=JT(q.response.headers.get("Location"),new URL(O.url),l)===w.location.pathname+w.location.search,await nt(O,q,!0,{submission:U,replace:te}),{shortCircuited:!0}}if(Ss(q))throw xn(400,{type:"defer-action"});if(jn(q)){let te=Wa(W,ie.route.id);return(oe&&oe.replace)!==!0&&(R=kt.Push),{matches:W,pendingActionResult:[te.route.id,q]}}return{matches:W,pendingActionResult:[ie.route.id,q]}}async function pu(O,V,U,W,X,oe,pe,q,ie,te,re){let Pe=X||jg(V,oe),De=oe||pe||sS(Pe),Ue=!Se&&(!h.v7_partialHydration||!ie);if(W){if(Ue){let He=mu(re);ft(st({navigation:Pe},He!==void 0?{actionData:He}:{}),{flushSync:te})}let ve=await ho(U,V.pathname,O.signal);if(ve.type==="aborted")return{shortCircuited:!0};if(ve.type==="error"){let{boundaryId:He,error:Jt}=Jn(V.pathname,ve);return{matches:ve.partialMatches,loaderData:{},errors:{[He]:Jt}}}else if(ve.matches)U=ve.matches;else{let{error:He,notFoundMatches:Jt,route:Ye}=uo(V.pathname);return{matches:Jt,loaderData:{},errors:{[Ye.id]:He}}}}let Re=a||o,[It,Qe]=YT(t.history,w,U,De,V,h.v7_partialHydration&&ie===!0,h.v7_skipActionErrorRevalidation,fe,le,z,$e,ht,be,Re,l,re);if(ga(ve=>!(U&&U.some(He=>He.route.id===ve))||It&&It.some(He=>He.route.id===ve)),ae=++Y,It.length===0&&Qe.length===0){let ve=th();return Yn(V,st({matches:U,loaderData:{},errors:re&&jn(re[1])?{[re[0]]:re[1].error}:null},nS(re),ve?{fetchers:new Map(w.fetchers)}:{}),{flushSync:te}),{shortCircuited:!0}}if(Ue){let ve={};if(!W){ve.navigation=Pe;let He=mu(re);He!==void 0&&(ve.actionData=He)}Qe.length>0&&(ve.fetchers=Qm(Qe)),ft(ve,{flushSync:te})}Qe.forEach(ve=>{$.has(ve.key)&&Xn(ve.key),ve.controller&&$.set(ve.key,ve.controller)});let Gi=()=>Qe.forEach(ve=>Xn(ve.key));D&&D.signal.addEventListener("abort",Gi);let{loaderResults:On,fetcherResults:Zn}=await ao(w,U,It,Qe,O);if(O.signal.aborted)return{shortCircuited:!0};D&&D.signal.removeEventListener("abort",Gi),Qe.forEach(ve=>$.delete(ve.key));let Xt=Mh(On);if(Xt)return await nt(O,Xt.result,!0,{replace:q}),{shortCircuited:!0};if(Xt=Mh(Zn),Xt)return be.add(Xt.key),await nt(O,Xt.result,!0,{replace:q}),{shortCircuited:!0};let{loaderData:qi,errors:wr}=eS(w,U,It,On,re,Qe,Zn,ze);ze.forEach((ve,He)=>{ve.subscribe(Jt=>{(Jt||ve.done)&&ze.delete(He)})}),h.v7_partialHydration&&ie&&w.errors&&Object.entries(w.errors).filter(ve=>{let[He]=ve;return!It.some(Jt=>Jt.route.id===He)}).forEach(ve=>{let[He,Jt]=ve;wr=Object.assign(wr||{},{[He]:Jt})});let po=th(),mo=pa(ae),go=po||mo||Qe.length>0;return st({matches:U,loaderData:qi,errors:wr},go?{fetchers:new Map(w.fetchers)}:{})}function mu(O){if(O&&!jn(O[1]))return{[O[0]]:O[1].data};if(w.actionData)return Object.keys(w.actionData).length===0?null:w.actionData}function Qm(O){return O.forEach(V=>{let U=w.fetchers.get(V.key),W=Fu(void 0,U?U.data:void 0);w.fetchers.set(V.key,W)}),new Map(w.fetchers)}function gu(O,V,U,W){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");$.has(O)&&Xn(O);let X=(W&&W.unstable_flushSync)===!0,oe=a||o,pe=xv(w.location,w.matches,l,h.v7_prependBasename,U,h.v7_relativeSplatPath,V,W==null?void 0:W.relative),q=bo(oe,pe,l),ie=Rt(q,oe,pe);if(ie.active&&ie.matches&&(q=ie.matches),!q){vr(O,V,xn(404,{pathname:pe}),{flushSync:X});return}let{path:te,submission:re,error:Pe}=QT(h.v7_normalizeFormMethod,!0,pe,W);if(Pe){vr(O,V,Pe,{flushSync:X});return}let De=Qu(q,te);if(A=(W&&W.preventScrollReset)===!0,re&&Cr(re.formMethod)){yu(O,V,te,De,q,ie.active,X,re);return}ht.set(O,{routeId:V,path:te}),Jd(O,V,te,De,q,ie.active,X,re)}async function yu(O,V,U,W,X,oe,pe,q){fa(),ht.delete(O);function ie(Ye){if(!Ye.route.action&&!Ye.route.lazy){let _r=xn(405,{method:q.formMethod,pathname:U,routeId:V});return vr(O,V,_r,{flushSync:pe}),!0}return!1}if(!oe&&ie(W))return;let te=w.fetchers.get(O);yr(O,p3(q,te),{flushSync:pe});let re=new AbortController,Pe=xa(t.history,U,re.signal,q);if(oe){let Ye=await ho(X,U,Pe.signal);if(Ye.type==="aborted")return;if(Ye.type==="error"){let{error:_r}=Jn(U,Ye);vr(O,V,_r,{flushSync:pe});return}else if(Ye.matches){if(X=Ye.matches,W=Qu(X,U),ie(W))return}else{vr(O,V,xn(404,{pathname:U}),{flushSync:pe});return}}$.set(O,re);let De=Y,Re=(await xt("action",w,Pe,[W],X,O))[W.route.id];if(Pe.signal.aborted){$.get(O)===re&&$.delete(O);return}if(h.v7_fetcherPersist&&$e.has(O)){if(Po(Re)||jn(Re)){yr(O,ts(void 0));return}}else{if(Po(Re))if($.delete(O),ae>De){yr(O,ts(void 0));return}else return be.add(O),yr(O,Fu(q)),nt(Pe,Re,!1,{fetcherSubmission:q});if(jn(Re)){vr(O,V,Re.error);return}}if(Ss(Re))throw xn(400,{type:"defer-action"});let It=w.navigation.location||w.location,Qe=xa(t.history,It,re.signal),Gi=a||o,On=w.navigation.state!=="idle"?bo(Gi,w.navigation.location,l):w.matches;Te(On,"Didn't find any matches after fetcher action");let Zn=++Y;ge.set(O,Zn);let Xt=Fu(q,Re.data);w.fetchers.set(O,Xt);let[qi,wr]=YT(t.history,w,On,q,It,!1,h.v7_skipActionErrorRevalidation,fe,le,z,$e,ht,be,Gi,l,[W.route.id,Re]);wr.filter(Ye=>Ye.key!==O).forEach(Ye=>{let _r=Ye.key,rh=w.fetchers.get(_r),ih=Fu(void 0,rh?rh.data:void 0);w.fetchers.set(_r,ih),$.has(_r)&&Xn(_r),Ye.controller&&$.set(_r,Ye.controller)}),ft({fetchers:new Map(w.fetchers)});let po=()=>wr.forEach(Ye=>Xn(Ye.key));re.signal.addEventListener("abort",po);let{loaderResults:mo,fetcherResults:go}=await ao(w,On,qi,wr,Qe);if(re.signal.aborted)return;re.signal.removeEventListener("abort",po),ge.delete(O),$.delete(O),wr.forEach(Ye=>$.delete(Ye.key));let ve=Mh(mo);if(ve)return nt(Qe,ve.result,!1);if(ve=Mh(go),ve)return be.add(ve.key),nt(Qe,ve.result,!1);let{loaderData:He,errors:Jt}=eS(w,On,qi,mo,void 0,wr,go,ze);if(w.fetchers.has(O)){let Ye=ts(Re.data);w.fetchers.set(O,Ye)}pa(Zn),w.navigation.state==="loading"&&Zn>ae?(Te(R,"Expected pending action"),D&&D.abort(),Yn(w.navigation.location,{matches:On,loaderData:He,errors:Jt,fetchers:new Map(w.fetchers)})):(ft({errors:Jt,loaderData:tS(w.loaderData,He,On,Jt),fetchers:new Map(w.fetchers)}),fe=!1)}async function Jd(O,V,U,W,X,oe,pe,q){let ie=w.fetchers.get(O);yr(O,Fu(q,ie?ie.data:void 0),{flushSync:pe});let te=new AbortController,re=xa(t.history,U,te.signal);if(oe){let Re=await ho(X,U,re.signal);if(Re.type==="aborted")return;if(Re.type==="error"){let{error:It}=Jn(U,Re);vr(O,V,It,{flushSync:pe});return}else if(Re.matches)X=Re.matches,W=Qu(X,U);else{vr(O,V,xn(404,{pathname:U}),{flushSync:pe});return}}$.set(O,te);let Pe=Y,Ue=(await xt("loader",w,re,[W],X,O))[W.route.id];if(Ss(Ue)&&(Ue=await M0(Ue,re.signal,!0)||Ue),$.get(O)===te&&$.delete(O),!re.signal.aborted){if($e.has(O)){yr(O,ts(void 0));return}if(Po(Ue))if(ae>Pe){yr(O,ts(void 0));return}else{be.add(O),await nt(re,Ue,!1);return}if(jn(Ue)){vr(O,V,Ue.error);return}Te(!Ss(Ue),"Unhandled fetcher deferred data"),yr(O,ts(Ue.data))}}async function nt(O,V,U,W){let{submission:X,fetcherSubmission:oe,replace:pe}=W===void 0?{}:W;V.response.headers.has("X-Remix-Revalidate")&&(fe=!0);let q=V.response.headers.get("Location");Te(q,"Expected a Location header on the redirect Response"),q=JT(q,new URL(O.url),l);let ie=Wc(w.location,q,{_isRedirect:!0});if(n){let Re=!1;if(V.response.headers.has("X-Remix-Reload-Document"))Re=!0;else if(D0.test(q)){const It=t.history.createURL(q);Re=It.origin!==e.location.origin||Zl(It.pathname,l)==null}if(Re){pe?e.location.replace(q):e.location.assign(q);return}}D=null;let te=pe===!0||V.response.headers.has("X-Remix-Replace")?kt.Replace:kt.Push,{formMethod:re,formAction:Pe,formEncType:De}=w.navigation;!X&&!oe&&re&&Pe&&De&&(X=sS(w.navigation));let Ue=X||oe;if(KB.has(V.response.status)&&Ue&&Cr(Ue.formMethod))await gr(te,ie,{submission:st({},Ue,{formAction:q}),preventScrollReset:A,enableViewTransition:U?M:void 0});else{let Re=jg(ie,X);await gr(te,ie,{overrideNavigation:Re,fetcherSubmission:oe,preventScrollReset:A,enableViewTransition:U?M:void 0})}}async function xt(O,V,U,W,X,oe){let pe,q={};try{pe=await t3(u,O,V,U,W,X,oe,s,i)}catch(ie){return W.forEach(te=>{q[te.route.id]={type:Be.error,error:ie}}),q}for(let[ie,te]of Object.entries(pe))if(l3(te)){let re=te.result;q[ie]={type:Be.redirect,response:i3(re,U,ie,X,l,h.v7_relativeSplatPath)}}else q[ie]=await r3(te);return q}async function ao(O,V,U,W,X){let oe=O.matches,pe=xt("loader",O,X,U,V,null),q=Promise.all(W.map(async re=>{if(re.matches&&re.match&&re.controller){let De=(await xt("loader",O,xa(t.history,re.path,re.controller.signal),[re.match],re.matches,re.key))[re.match.route.id];return{[re.key]:De}}else return Promise.resolve({[re.key]:{type:Be.error,error:xn(404,{pathname:re.path})}})})),ie=await pe,te=(await q).reduce((re,Pe)=>Object.assign(re,Pe),{});return await Promise.all([d3(V,ie,X.signal,oe,O.loaderData),h3(V,te,W)]),{loaderResults:ie,fetcherResults:te}}function fa(){fe=!0,le.push(...ga()),ht.forEach((O,V)=>{$.has(V)&&(z.add(V),Xn(V))})}function yr(O,V,U){U===void 0&&(U={}),w.fetchers.set(O,V),ft({fetchers:new Map(w.fetchers)},{flushSync:(U&&U.flushSync)===!0})}function vr(O,V,U,W){W===void 0&&(W={});let X=Wa(w.matches,V);lo(O),ft({errors:{[X.route.id]:U},fetchers:new Map(w.fetchers)},{flushSync:(W&&W.flushSync)===!0})}function Ki(O){return h.v7_fetcherPersist&&(Ct.set(O,(Ct.get(O)||0)+1),$e.has(O)&&$e.delete(O)),w.fetchers.get(O)||HB}function lo(O){let V=w.fetchers.get(O);$.has(O)&&!(V&&V.state==="loading"&&ge.has(O))&&Xn(O),ht.delete(O),ge.delete(O),be.delete(O),$e.delete(O),z.delete(O),w.fetchers.delete(O)}function Zd(O){if(h.v7_fetcherPersist){let V=(Ct.get(O)||0)-1;V<=0?(Ct.delete(O),$e.add(O)):Ct.set(O,V)}else lo(O);ft({fetchers:new Map(w.fetchers)})}function Xn(O){let V=$.get(O);Te(V,"Expected fetch controller: "+O),V.abort(),$.delete(O)}function eh(O){for(let V of O){let U=Ki(V),W=ts(U.data);w.fetchers.set(V,W)}}function th(){let O=[],V=!1;for(let U of be){let W=w.fetchers.get(U);Te(W,"Expected fetcher: "+U),W.state==="loading"&&(be.delete(U),O.push(U),V=!0)}return eh(O),V}function pa(O){let V=[];for(let[U,W]of ge)if(W<O){let X=w.fetchers.get(U);Te(X,"Expected fetcher: "+U),X.state==="loading"&&(Xn(U),ge.delete(U),V.push(U))}return eh(V),V.length>0}function nh(O,V){let U=w.blockers.get(O)||Vu;return yn.get(O)!==V&&yn.set(O,V),U}function vu(O){w.blockers.delete(O),yn.delete(O)}function Lr(O,V){let U=w.blockers.get(O)||Vu;Te(U.state==="unblocked"&&V.state==="blocked"||U.state==="blocked"&&V.state==="blocked"||U.state==="blocked"&&V.state==="proceeding"||U.state==="blocked"&&V.state==="unblocked"||U.state==="proceeding"&&V.state==="unblocked","Invalid blocker state transition: "+U.state+" -> "+V.state);let W=new Map(w.blockers);W.set(O,V),ft({blockers:W})}function ma(O){let{currentLocation:V,nextLocation:U,historyAction:W}=O;if(yn.size===0)return;yn.size>1&&Dl(!1,"A router only supports one blocker at a time");let X=Array.from(yn.entries()),[oe,pe]=X[X.length-1],q=w.blockers.get(oe);if(!(q&&q.state==="proceeding")&&pe({currentLocation:V,nextLocation:U,historyAction:W}))return oe}function uo(O){let V=xn(404,{pathname:O}),U=a||o,{matches:W,route:X}=rS(U);return ga(),{notFoundMatches:W,route:X,error:V}}function Jn(O,V){return{boundaryId:Wa(V.partialMatches).route.id,error:xn(400,{type:"route-discovery",pathname:O,message:V.error!=null&&"message"in V.error?V.error:String(V.error)})}}function ga(O){let V=[];return ze.forEach((U,W)=>{(!O||O(W))&&(U.cancel(),V.push(W),ze.delete(W))}),V}function ya(O,V,U){if(T=O,_=V,x=U||null,!b&&w.navigation===Fg){b=!0;let W=_u(w.location,w.matches);W!=null&&ft({restoreScrollPosition:W})}return()=>{T=null,_=null,x=null}}function wu(O,V){return x&&x(O,V.map(W=>TB(W,w.loaderData)))||O.key}function co(O,V){if(T&&_){let U=wu(O,V);T[U]=_()}}function _u(O,V){if(T){let U=wu(O,V),W=T[U];if(typeof W=="number")return W}return null}function Rt(O,V,U){if(d){if(v.has(U))return{active:!1,matches:O};if(O){if(Object.keys(O[0].params).length>0)return{active:!0,matches:vf(V,U,l,!0)}}else return{active:!0,matches:vf(V,U,l,!0)||[]}}return{active:!1,matches:null}}async function ho(O,V,U){let W=O;for(;;){let X=a==null,oe=a||o;try{await JB(d,V,W,oe,s,i,Yt,U)}catch(ie){return{type:"error",error:ie,partialMatches:W}}finally{X&&(o=[...o])}if(U.aborted)return{type:"aborted"};let pe=bo(oe,V,l);if(pe)return Hi(V,v),{type:"success",matches:pe};let q=vf(oe,V,l,!0);if(!q||W.length===q.length&&W.every((ie,te)=>ie.route.id===q[te].route.id))return Hi(V,v),{type:"success",matches:null};W=q}}function Hi(O,V){if(V.size>=E){let U=V.values().next().value;V.delete(U)}V.add(O)}function fo(O){s={},a=Kc(O,i,void 0,s)}function Ym(O,V){let U=a==null;OP(O,V,a||o,s,i),U&&(o=[...o],ft({}))}return C={get basename(){return l},get future(){return h},get state(){return w},get routes(){return o},get window(){return e},initialize:oi,subscribe:mr,enableScrollRestoration:ya,navigate:oo,fetch:gu,revalidate:fu,createHref:O=>t.history.createHref(O),encodeLocation:O=>t.history.encodeLocation(O),getFetcher:Ki,deleteFetcher:Zd,dispose:Wi,getBlocker:nh,deleteBlocker:vu,patchRoutes:Ym,_internalFetchControllers:$,_internalActiveDeferreds:ze,_internalSetRoutes:fo},C}function QB(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function xv(t,e,n,r,i,s,o,a){let l,u;if(o){l=[];for(let h of e)if(l.push(h),h.route.id===o){u=h;break}}else l=e,u=e[e.length-1];let d=im(i||".",rm(l,s),Zl(t.pathname,n)||t.pathname,a==="path");return i==null&&(d.search=t.search,d.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!O0(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:Si([n,d.pathname])),Jo(d)}function QT(t,e,n,r){if(!r||!QB(r))return{path:n};if(r.formMethod&&!c3(r.formMethod))return{path:n,error:xn(405,{method:r.formMethod})};let i=()=>({path:n,error:xn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=LP(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Cr(o))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,E)=>{let[v,T]=E;return""+p+v+"="+T+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!Cr(o))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}Te(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=Tv(r.formData),u=r.formData;else if(r.body instanceof FormData)l=Tv(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=ZT(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=ZT(l)}catch{return i()}let d={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Cr(d.formMethod))return{path:n,submission:d};let h=to(n);return e&&h.search&&O0(h.search)&&l.append("index",""),h.search="?"+l,{path:Jo(h),submission:d}}function YB(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function YT(t,e,n,r,i,s,o,a,l,u,d,h,f,p,E,v){let T=v?jn(v[1])?v[1].error:v[1].data:void 0,x=t.createURL(e.location),_=t.createURL(i),b=v&&jn(v[1])?v[0]:void 0,I=b?YB(n,b):n,N=v?v[1].statusCode:void 0,F=o&&N&&N>=400,C=I.filter((R,A)=>{let{route:D}=R;if(D.lazy)return!0;if(D.loader==null)return!1;if(s)return typeof D.loader!="function"||D.loader.hydrate?!0:e.loaderData[D.id]===void 0&&(!e.errors||e.errors[D.id]===void 0);if(XB(e.loaderData,e.matches[A],R)||l.some(J=>J===R.route.id))return!0;let M=e.matches[A],k=R;return XT(R,st({currentUrl:x,currentParams:M.params,nextUrl:_,nextParams:k.params},r,{actionResult:T,actionStatus:N,defaultShouldRevalidate:F?!1:a||x.pathname+x.search===_.pathname+_.search||x.search!==_.search||MP(M,k)}))}),w=[];return h.forEach((R,A)=>{if(s||!n.some(Se=>Se.route.id===R.routeId)||d.has(A))return;let D=bo(p,R.path,E);if(!D){w.push({key:A,routeId:R.routeId,path:R.path,matches:null,match:null,controller:null});return}let M=e.fetchers.get(A),k=Qu(D,R.path),J=!1;f.has(A)?J=!1:u.has(A)?(u.delete(A),J=!0):M&&M.state!=="idle"&&M.data===void 0?J=a:J=XT(k,st({currentUrl:x,currentParams:e.matches[e.matches.length-1].params,nextUrl:_,nextParams:n[n.length-1].params},r,{actionResult:T,actionStatus:N,defaultShouldRevalidate:F?!1:a})),J&&w.push({key:A,routeId:R.routeId,path:R.path,matches:D,match:k,controller:new AbortController})}),[C,w]}function XB(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function MP(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function XT(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function JB(t,e,n,r,i,s,o,a){let l=[e,...n.map(u=>u.route.id)].join("-");try{let u=o.get(l);u||(u=t({path:e,matches:n,patch:(d,h)=>{a.aborted||OP(d,h,r,i,s)}}),o.set(l,u)),u&&a3(u)&&await u}finally{o.delete(l)}}function OP(t,e,n,r,i){if(t){var s;let o=r[t];Te(o,"No route found to patch children into: routeId = "+t);let a=Kc(e,i,[t,"patch",String(((s=o.children)==null?void 0:s.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=Kc(e,i,["patch",String(n.length||"0")],r);n.push(...o)}}async function ZB(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Te(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Dl(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!EB.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,st({},e(i),{lazy:void 0}))}async function e3(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function t3(t,e,n,r,i,s,o,a,l,u){let d=s.map(p=>p.route.lazy?ZB(p.route,l,a):void 0),h=s.map((p,E)=>{let v=d[E],T=i.some(_=>_.route.id===p.route.id);return st({},p,{shouldLoad:T,resolve:async _=>(_&&r.method==="GET"&&(p.route.lazy||p.route.loader)&&(T=!0),T?n3(e,r,p,v,_,u):Promise.resolve({type:Be.data,result:void 0}))})}),f=await t({matches:h,request:r,params:s[0].params,fetcherKey:o,context:u});try{await Promise.all(d)}catch{}return f}async function n3(t,e,n,r,i,s){let o,a,l=u=>{let d,h=new Promise((E,v)=>d=v);a=()=>d(),e.signal.addEventListener("abort",a);let f=E=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):u({request:e,params:n.params,context:s},...E!==void 0?[E]:[]),p=(async()=>{try{return{type:"data",result:await(i?i(v=>f(v)):f())}}catch(E){return{type:"error",result:E}}})();return Promise.race([p,h])};try{let u=n.route[t];if(r)if(u){let d,[h]=await Promise.all([l(u).catch(f=>{d=f}),r]);if(d!==void 0)throw d;o=h}else if(await r,u=n.route[t],u)o=await l(u);else if(t==="action"){let d=new URL(e.url),h=d.pathname+d.search;throw xn(405,{method:e.method,pathname:h,routeId:n.route.id})}else return{type:Be.data,result:void 0};else if(u)o=await l(u);else{let d=new URL(e.url),h=d.pathname+d.search;throw xn(404,{pathname:h})}Te(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:Be.error,result:u}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function r3(t){let{result:e,type:n}=t;if(VP(e)){let u;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(d){return{type:Be.error,error:d}}return n===Be.error?{type:Be.error,error:new op(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:Be.data,data:u,statusCode:e.status,headers:e.headers}}if(n===Be.error){if(iS(e)){var r;if(e.data instanceof Error){var i;return{type:Be.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new op(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Be.error,error:e,statusCode:Md(e)?e.status:void 0}}if(u3(e)){var s,o;return{type:Be.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(iS(e)){var a,l;return{type:Be.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Be.data,data:e}}function i3(t,e,n,r,i,s){let o=t.headers.get("Location");if(Te(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!D0.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=xv(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function JT(t,e,n){if(D0.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Zl(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function xa(t,e,n,r){let i=t.createURL(LP(e)).toString(),s={signal:n};if(r&&Cr(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=Tv(r.formData):s.body=r.formData}return new Request(i,s)}function Tv(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function ZT(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function s3(t,e,n,r,i){let s={},o=null,a,l=!1,u={},d=n&&jn(n[1])?n[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let f=h.route.id,p=e[f];if(Te(!Po(p),"Cannot handle redirect results in processLoaderData"),jn(p)){let E=p.error;d!==void 0&&(E=d,d=void 0),o=o||{};{let v=Wa(t,f);o[v.route.id]==null&&(o[v.route.id]=E)}s[f]=void 0,l||(l=!0,a=Md(p.error)?p.error.status:500),p.headers&&(u[f]=p.headers)}else Ss(p)?(r.set(f,p.deferredData),s[f]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(u[f]=p.headers)):(s[f]=p.data,p.statusCode&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(u[f]=p.headers))}),d!==void 0&&n&&(o={[n[0]]:d},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function eS(t,e,n,r,i,s,o,a){let{loaderData:l,errors:u}=s3(e,r,i,a);return s.forEach(d=>{let{key:h,match:f,controller:p}=d,E=o[h];if(Te(E,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(jn(E)){let v=Wa(t.matches,f==null?void 0:f.route.id);u&&u[v.route.id]||(u=st({},u,{[v.route.id]:E.error})),t.fetchers.delete(h)}else if(Po(E))Te(!1,"Unhandled fetcher revalidation redirect");else if(Ss(E))Te(!1,"Unhandled fetcher deferred data");else{let v=ts(E.data);t.fetchers.set(h,v)}}),{loaderData:l,errors:u}}function tS(t,e,n,r){let i=st({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function nS(t){return t?jn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Wa(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function rS(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function xn(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",s==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new op(t||500,a,new Error(l),!0)}function Mh(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(Po(i))return{key:r,result:i}}}function LP(t){let e=typeof t=="string"?to(t):t;return Jo(st({},e,{hash:""}))}function o3(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function a3(t){return typeof t=="object"&&t!=null&&"then"in t}function l3(t){return VP(t.result)&&WB.has(t.result.status)}function Ss(t){return t.type===Be.deferred}function jn(t){return t.type===Be.error}function Po(t){return(t&&t.type)===Be.redirect}function iS(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function u3(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function VP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function c3(t){return zB.has(t.toLowerCase())}function Cr(t){return BB.has(t.toLowerCase())}async function d3(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,l]=s[o],u=t.find(f=>(f==null?void 0:f.route.id)===a);if(!u)continue;let d=r.find(f=>f.route.id===u.route.id),h=d!=null&&!MP(d,u)&&(i&&i[u.route.id])!==void 0;Ss(l)&&h&&await M0(l,n,!1).then(f=>{f&&(e[a]=f)})}}async function h3(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],a=e[i];t.find(u=>(u==null?void 0:u.route.id)===s)&&Ss(a)&&(Te(o,"Expected an AbortController for revalidating fetcher deferred result"),await M0(a,o.signal,!0).then(u=>{u&&(e[i]=u)}))}}async function M0(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Be.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Be.error,error:i}}return{type:Be.data,data:t.deferredData.data}}}function O0(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Qu(t,e){let n=typeof e=="string"?to(e).search:e.search;if(t[t.length-1].route.index&&O0(n||""))return t[t.length-1];let r=kP(t);return r[r.length-1]}function sS(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function jg(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function f3(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Fu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function p3(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ts(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function m3(t,e){try{let n=t.sessionStorage.getItem(DP);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function g3(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(DP,JSON.stringify(n))}catch(r){Dl(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ap(){return ap=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ap.apply(this,arguments)}const sm=y.createContext(null),FP=y.createContext(null),no=y.createContext(null),L0=y.createContext(null),ro=y.createContext({outlet:null,matches:[],isDataRoute:!1}),jP=y.createContext(null);function y3(t,e){let{relative:n}=e===void 0?{}:e;eu()||Te(!1);let{basename:r,navigator:i}=y.useContext(no),{hash:s,pathname:o,search:a}=BP(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Si([r,o])),i.createHref({pathname:l,search:a,hash:s})}function eu(){return y.useContext(L0)!=null}function Od(){return eu()||Te(!1),y.useContext(L0).location}function UP(t){y.useContext(no).static||y.useLayoutEffect(t)}function om(){let{isDataRoute:t}=y.useContext(ro);return t?I3():v3()}function v3(){eu()||Te(!1);let t=y.useContext(sm),{basename:e,future:n,navigator:r}=y.useContext(no),{matches:i}=y.useContext(ro),{pathname:s}=Od(),o=JSON.stringify(rm(i,n.v7_relativeSplatPath)),a=y.useRef(!1);return UP(()=>{a.current=!0}),y.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=im(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Si([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}function BP(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=y.useContext(no),{matches:i}=y.useContext(ro),{pathname:s}=Od(),o=JSON.stringify(rm(i,r.v7_relativeSplatPath));return y.useMemo(()=>im(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function w3(t,e,n,r){eu()||Te(!1);let{navigator:i}=y.useContext(no),{matches:s}=y.useContext(ro),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Od(),d;d=u;let h=d.pathname||"/",f=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let p=bo(t,{pathname:f});return S3(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:Si([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Si([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r)}function _3(){let t=WP(),e=Md(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:i},n):null,null)}const E3=y.createElement(_3,null);class x3 extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(ro.Provider,{value:this.props.routeContext},y.createElement(jP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function T3(t){let{routeContext:e,match:n,children:r}=t,i=y.useContext(sm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(ro.Provider,{value:e},r)}function S3(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Te(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=n,E=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||E){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,E=!1,v=null,T=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||E3,l&&(u<0&&f===0?(P3("route-fallback"),E=!0,T=null):u===f&&(E=!0,T=h.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,f+1)),_=()=>{let b;return p?b=v:E?b=T:h.route.Component?b=y.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=d,y.createElement(T3,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?y.createElement(x3,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:_(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):_()},null)}var $P=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}($P||{}),lp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(lp||{});function b3(t){let e=y.useContext(sm);return e||Te(!1),e}function C3(t){let e=y.useContext(FP);return e||Te(!1),e}function R3(t){let e=y.useContext(ro);return e||Te(!1),e}function zP(t){let e=R3(),n=e.matches[e.matches.length-1];return n.route.id||Te(!1),n.route.id}function WP(){var t;let e=y.useContext(jP),n=C3(lp.UseRouteError),r=zP(lp.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function I3(){let{router:t}=b3($P.UseNavigateStable),e=zP(lp.UseNavigateStable),n=y.useRef(!1);return UP(()=>{n.current=!0}),y.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ap({fromRouteId:e},s)))},[t,e])}const oS={};function P3(t,e,n){oS[t]||(oS[t]=!0)}function KP(t){let{to:e,replace:n,state:r,relative:i}=t;eu()||Te(!1);let{future:s,static:o}=y.useContext(no),{matches:a}=y.useContext(ro),{pathname:l}=Od(),u=om(),d=im(e,rm(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return y.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:i}),[u,h,i,n,r]),null}function A3(t){let{basename:e="/",children:n=null,location:r,navigationType:i=kt.Pop,navigator:s,static:o=!1,future:a}=t;eu()&&Te(!1);let l=e.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:l,navigator:s,static:o,future:ap({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=to(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:E="default"}=r,v=y.useMemo(()=>{let T=Zl(d,l);return T==null?null:{location:{pathname:T,search:h,hash:f,state:p,key:E},navigationType:i}},[l,d,h,f,p,E,i]);return v==null?null:y.createElement(no.Provider,{value:u},y.createElement(L0.Provider,{children:n,value:v}))}new Promise(()=>{});function k3(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:y.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:y.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:y.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hc(){return Hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hc.apply(this,arguments)}function N3(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function D3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function M3(t,e){return t.button===0&&(!e||e==="_self")&&!D3(t)}const O3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],L3="6";try{window.__reactRouterVersion=L3}catch{}function V3(t,e){return qB({basename:void 0,future:Hc({},void 0,{v7_prependBasename:!0}),history:vB({window:void 0}),hydrationData:F3(),routes:t,mapRouteProperties:k3,unstable_dataStrategy:void 0,unstable_patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function F3(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Hc({},e,{errors:j3(e.errors)})),e}function j3(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new op(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const U3=y.createContext({isTransitioning:!1}),B3=y.createContext(new Map),$3="startTransition",aS=C1[$3],z3="flushSync",lS=hF[z3];function W3(t){aS?aS(t):t()}function ju(t){lS?lS(t):t()}class K3{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function H3(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=y.useState(n.state),[o,a]=y.useState(),[l,u]=y.useState({isTransitioning:!1}),[d,h]=y.useState(),[f,p]=y.useState(),[E,v]=y.useState(),T=y.useRef(new Map),{v7_startTransition:x}=r||{},_=y.useCallback(w=>{x?W3(w):w()},[x]),b=y.useCallback((w,R)=>{let{deletedFetchers:A,unstable_flushSync:D,unstable_viewTransitionOpts:M}=R;A.forEach(J=>T.current.delete(J)),w.fetchers.forEach((J,Se)=>{J.data!==void 0&&T.current.set(Se,J.data)});let k=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!M||k){D?ju(()=>s(w)):_(()=>s(w));return}if(D){ju(()=>{f&&(d&&d.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:M.currentLocation,nextLocation:M.nextLocation})});let J=n.window.document.startViewTransition(()=>{ju(()=>s(w))});J.finished.finally(()=>{ju(()=>{h(void 0),p(void 0),a(void 0),u({isTransitioning:!1})})}),ju(()=>p(J));return}f?(d&&d.resolve(),f.skipTransition(),v({state:w,currentLocation:M.currentLocation,nextLocation:M.nextLocation})):(a(w),u({isTransitioning:!0,flushSync:!1,currentLocation:M.currentLocation,nextLocation:M.nextLocation}))},[n.window,f,d,T,_]);y.useLayoutEffect(()=>n.subscribe(b),[n,b]),y.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new K3)},[l]),y.useEffect(()=>{if(d&&o&&n.window){let w=o,R=d.promise,A=n.window.document.startViewTransition(async()=>{_(()=>s(w)),await R});A.finished.finally(()=>{h(void 0),p(void 0),a(void 0),u({isTransitioning:!1})}),p(A)}},[_,o,d,n.window]),y.useEffect(()=>{d&&o&&i.location.key===o.location.key&&d.resolve()},[d,f,i.location,o]),y.useEffect(()=>{!l.isTransitioning&&E&&(a(E.state),u({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),v(void 0))},[l.isTransitioning,E]),y.useEffect(()=>{},[]);let I=y.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:w=>n.navigate(w),push:(w,R,A)=>n.navigate(w,{state:R,preventScrollReset:A==null?void 0:A.preventScrollReset}),replace:(w,R,A)=>n.navigate(w,{replace:!0,state:R,preventScrollReset:A==null?void 0:A.preventScrollReset})}),[n]),N=n.basename||"/",F=y.useMemo(()=>({router:n,navigator:I,static:!1,basename:N}),[n,I,N]),C=y.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return y.createElement(y.Fragment,null,y.createElement(sm.Provider,{value:F},y.createElement(FP.Provider,{value:i},y.createElement(B3.Provider,{value:T.current},y.createElement(U3.Provider,{value:l},y.createElement(A3,{basename:N,location:i.location,navigationType:i.historyAction,navigator:I,future:C},i.initialized||n.future.v7_partialHydration?y.createElement(G3,{routes:n.routes,future:n.future,state:i}):e))))),null)}const G3=y.memo(q3);function q3(t){let{routes:e,future:n,state:r}=t;return w3(e,void 0,r,n)}const Q3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Y3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X3=y.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,unstable_viewTransition:h}=e,f=N3(e,O3),{basename:p}=y.useContext(no),E,v=!1;if(typeof u=="string"&&Y3.test(u)&&(E=u,Q3))try{let b=new URL(window.location.href),I=u.startsWith("//")?new URL(b.protocol+u):new URL(u),N=Zl(I.pathname,p);I.origin===b.origin&&N!=null?u=N+I.search+I.hash:v=!0}catch{}let T=y3(u,{relative:i}),x=J3(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,unstable_viewTransition:h});function _(b){r&&r(b),b.defaultPrevented||x(b)}return y.createElement("a",Hc({},f,{href:E||T,onClick:v||s?r:_,ref:n,target:l}))});var uS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(uS||(uS={}));var cS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(cS||(cS={}));function J3(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=om(),u=Od(),d=BP(t,{relative:o});return y.useCallback(h=>{if(M3(h,n)){h.preventDefault();let f=r!==void 0?r:Jo(u)===Jo(d);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,d,r,i,n,t,s,o,a])}const Z3=()=>{const t=Nl(n=>n.isAuth),e=om();y.useEffect(()=>{(async()=>{try{const r=j4();await TU(r),N0("Sign in success")}catch{}})()},[]),y.useEffect(()=>{if(!t)return e("/login")},[t])};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HP=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var t$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,...t$,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:HP("lucide",i),...a},[...o.map(([u,d])=>y.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=(t,e)=>{const n=y.forwardRef(({className:r,...i},s)=>y.createElement(n$,{ref:s,iconNode:e,className:HP(`lucide-${e$(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=tt("Blocks",[["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["path",{d:"M10 21V8a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H3",key:"1fpvtg"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=tt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=tt("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=tt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=tt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=tt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=tt("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=tt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=tt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=tt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=tt("FileChartColumn",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-1",key:"zg0ygc"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"M16 18v-3",key:"j5jt4h"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=tt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=tt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=tt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=tt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=tt("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=tt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=tt("SendHorizontal",[["path",{d:"m3 3 3 9-3 9 19-9Z",key:"1aobqy"}],["path",{d:"M6 12h16",key:"s4cdu5"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=tt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=tt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=tt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=tt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=tt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=tt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=tt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function ue(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function E$(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function lm(...t){return e=>t.forEach(n=>E$(n,e))}function wt(...t){return y.useCallback(lm(...t),t)}function x$(t,e=[]){let n=[];function r(s,o){const a=y.createContext(o),l=n.length;n=[...n,o];const u=h=>{var x;const{scope:f,children:p,...E}=h,v=((x=f==null?void 0:f[t])==null?void 0:x[l])||a,T=y.useMemo(()=>E,Object.values(E));return m.jsx(v.Provider,{value:T,children:p})};u.displayName=s+"Provider";function d(h,f){var v;const p=((v=f==null?void 0:f[t])==null?void 0:v[l])||a,E=y.useContext(p);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,T$(i,...e)]}function T$(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(s)[`__scope${u}`];return{...a,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Hn(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Ld({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=S$({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=Hn(n),l=y.useCallback(u=>{if(s){const h=typeof u=="function"?u(t):u;h!==t&&a(h)}else i(u)},[s,t,i,a]);return[o,l]}function S$({defaultProp:t,onChange:e}){const n=y.useState(t),[r]=n,i=y.useRef(r),s=Hn(e);return y.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var Zo=y.forwardRef((t,e)=>{const{children:n,...r}=t,i=y.Children.toArray(n),s=i.find(b$);if(s){const o=s.props.children,a=i.map(l=>l===s?y.Children.count(o)>1?y.Children.only(null):y.isValidElement(o)?o.props.children:null:l);return m.jsx(Sv,{...r,ref:e,children:y.isValidElement(o)?y.cloneElement(o,void 0,a):null})}return m.jsx(Sv,{...r,ref:e,children:n})});Zo.displayName="Slot";var Sv=y.forwardRef((t,e)=>{const{children:n,...r}=t;if(y.isValidElement(n)){const i=R$(n);return y.cloneElement(n,{...C$(r,n.props),ref:e?lm(e,i):i})}return y.Children.count(n)>1?y.Children.only(null):null});Sv.displayName="SlotClone";var XP=({children:t})=>m.jsx(m.Fragment,{children:t});function b$(t){return y.isValidElement(t)&&t.type===XP}function C$(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function R$(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var I$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],je=I$.reduce((t,e)=>{const n=y.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?Zo:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function F0(t,e){t&&Ql.flushSync(()=>t.dispatchEvent(e))}function P$(t,e){const n=y.createContext(e);function r(s){const{children:o,...a}=s,l=y.useMemo(()=>a,Object.values(a));return m.jsx(n.Provider,{value:l,children:o})}function i(s){const o=y.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return r.displayName=t+"Provider",[r,i]}function tu(t,e=[]){let n=[];function r(s,o){const a=y.createContext(o),l=n.length;n=[...n,o];function u(h){const{scope:f,children:p,...E}=h,v=(f==null?void 0:f[t][l])||a,T=y.useMemo(()=>E,Object.values(E));return m.jsx(v.Provider,{value:T,children:p})}function d(h,f){const p=(f==null?void 0:f[t][l])||a,E=y.useContext(p);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,A$(i,...e)]}function A$(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(s)[`__scope${u}`];return{...a,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function JP(t){const e=t+"CollectionProvider",[n,r]=tu(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:E,children:v}=p,T=jr.useRef(null),x=jr.useRef(new Map).current;return m.jsx(i,{scope:E,itemMap:x,collectionRef:T,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=jr.forwardRef((p,E)=>{const{scope:v,children:T}=p,x=s(a,v),_=wt(E,x.collectionRef);return m.jsx(Zo,{ref:_,children:T})});l.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",h=jr.forwardRef((p,E)=>{const{scope:v,children:T,...x}=p,_=jr.useRef(null),b=wt(E,_),I=s(u,v);return jr.useEffect(()=>(I.itemMap.set(_,{ref:_,...x}),()=>void I.itemMap.delete(_))),m.jsx(Zo,{[d]:"",ref:b,children:T})});h.displayName=u;function f(p){const E=s(t+"CollectionConsumer",p);return jr.useCallback(()=>{const T=E.collectionRef.current;if(!T)return[];const x=Array.from(T.querySelectorAll(`[${d}]`));return Array.from(E.itemMap.values()).sort((I,N)=>x.indexOf(I.ref.current)-x.indexOf(N.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},f,r]}function k$(t,e=[]){let n=[];function r(s,o){const a=y.createContext(o),l=n.length;n=[...n,o];const u=h=>{var x;const{scope:f,children:p,...E}=h,v=((x=f==null?void 0:f[t])==null?void 0:x[l])||a,T=y.useMemo(()=>E,Object.values(E));return m.jsx(v.Provider,{value:T,children:p})};u.displayName=s+"Provider";function d(h,f){var v;const p=((v=f==null?void 0:f[t])==null?void 0:v[l])||a,E=y.useContext(p);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,N$(i,...e)]}function N$(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(s)[`__scope${u}`];return{...a,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var D$=y.createContext(void 0);function j0(t){const e=y.useContext(D$);return t||e||"ltr"}function ZP(t,e=globalThis==null?void 0:globalThis.document){const n=Hn(t);y.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var M$="DismissableLayer",bv="dismissableLayer.update",O$="dismissableLayer.pointerDownOutside",L$="dismissableLayer.focusOutside",dS,eA=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tA=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,u=y.useContext(eA),[d,h]=y.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=y.useState({}),E=wt(e,C=>h(C)),v=Array.from(u.layers),[T]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(T),_=d?v.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,I=_>=x,N=j$(C=>{const w=C.target,R=[...u.branches].some(A=>A.contains(w));!I||R||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},f),F=U$(C=>{const w=C.target;[...u.branches].some(A=>A.contains(w))||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},f);return ZP(C=>{_===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},f),y.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(dS=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),hS(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=dS)}},[d,f,n,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),hS())},[d,u]),y.useEffect(()=>{const C=()=>p({});return document.addEventListener(bv,C),()=>document.removeEventListener(bv,C)},[]),m.jsx(je.div,{...l,ref:E,style:{pointerEvents:b?I?"auto":"none":void 0,...t.style},onFocusCapture:ue(t.onFocusCapture,F.onFocusCapture),onBlurCapture:ue(t.onBlurCapture,F.onBlurCapture),onPointerDownCapture:ue(t.onPointerDownCapture,N.onPointerDownCapture)})});tA.displayName=M$;var V$="DismissableLayerBranch",F$=y.forwardRef((t,e)=>{const n=y.useContext(eA),r=y.useRef(null),i=wt(e,r);return y.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),m.jsx(je.div,{...t,ref:i})});F$.displayName=V$;function j$(t,e=globalThis==null?void 0:globalThis.document){const n=Hn(t),r=y.useRef(!1),i=y.useRef(()=>{});return y.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){nA(O$,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function U$(t,e=globalThis==null?void 0:globalThis.document){const n=Hn(t),r=y.useRef(!1);return y.useEffect(()=>{const i=s=>{s.target&&!r.current&&nA(L$,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function hS(){const t=new CustomEvent(bv);document.dispatchEvent(t)}function nA(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?F0(i,s):i.dispatchEvent(s)}var Ug=0;function B$(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??fS()),document.body.insertAdjacentElement("beforeend",t[1]??fS()),Ug++,()=>{Ug===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ug--}},[])}function fS(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Bg="focusScope.autoFocusOnMount",$g="focusScope.autoFocusOnUnmount",pS={bubbles:!1,cancelable:!0},$$="FocusScope",U0=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=y.useState(null),u=Hn(i),d=Hn(s),h=y.useRef(null),f=wt(e,v=>l(v)),p=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let v=function(b){if(p.paused||!a)return;const I=b.target;a.contains(I)?h.current=I:ns(h.current,{select:!0})},T=function(b){if(p.paused||!a)return;const I=b.relatedTarget;I!==null&&(a.contains(I)||ns(h.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const N of b)N.removedNodes.length>0&&ns(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",T);const _=new MutationObserver(x);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",T),_.disconnect()}}},[r,a,p.paused]),y.useEffect(()=>{if(a){gS.add(p);const v=document.activeElement;if(!a.contains(v)){const x=new CustomEvent(Bg,pS);a.addEventListener(Bg,u),a.dispatchEvent(x),x.defaultPrevented||(z$(q$(rA(a)),{select:!0}),document.activeElement===v&&ns(a))}return()=>{a.removeEventListener(Bg,u),setTimeout(()=>{const x=new CustomEvent($g,pS);a.addEventListener($g,d),a.dispatchEvent(x),x.defaultPrevented||ns(v??document.body,{select:!0}),a.removeEventListener($g,d),gS.remove(p)},0)}}},[a,u,d,p]);const E=y.useCallback(v=>{if(!n&&!r||p.paused)return;const T=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(T&&x){const _=v.currentTarget,[b,I]=W$(_);b&&I?!v.shiftKey&&x===I?(v.preventDefault(),n&&ns(b,{select:!0})):v.shiftKey&&x===b&&(v.preventDefault(),n&&ns(I,{select:!0})):x===_&&v.preventDefault()}},[n,r,p.paused]);return m.jsx(je.div,{tabIndex:-1,...o,ref:f,onKeyDown:E})});U0.displayName=$$;function z$(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ns(r,{select:e}),document.activeElement!==n)return}function W$(t){const e=rA(t),n=mS(e,t),r=mS(e.reverse(),t);return[n,r]}function rA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function mS(t,e){for(const n of t)if(!K$(n,{upTo:e}))return n}function K$(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function H$(t){return t instanceof HTMLInputElement&&"select"in t}function ns(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&H$(t)&&e&&t.select()}}var gS=G$();function G$(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=yS(t,e),t.unshift(e)},remove(e){var n;t=yS(t,e),(n=t[0])==null||n.resume()}}}function yS(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function q$(t){return t.filter(e=>e.tagName!=="A")}var Vi=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},Q$=C1.useId||(()=>{}),Y$=0;function Vs(t){const[e,n]=y.useState(Q$());return Vi(()=>{t||n(r=>r??String(Y$++))},[t]),t||(e?`radix-${e}`:"")}const X$=["top","right","bottom","left"],zs=Math.min,Un=Math.max,cp=Math.round,Oh=Math.floor,Ws=t=>({x:t,y:t}),J$={left:"right",right:"left",bottom:"top",top:"bottom"},Z$={start:"end",end:"start"};function Cv(t,e,n){return Un(t,zs(e,n))}function Fi(t,e){return typeof t=="function"?t(e):t}function ji(t){return t.split("-")[0]}function nu(t){return t.split("-")[1]}function B0(t){return t==="x"?"y":"x"}function $0(t){return t==="y"?"height":"width"}function Ks(t){return["top","bottom"].includes(ji(t))?"y":"x"}function z0(t){return B0(Ks(t))}function ez(t,e,n){n===void 0&&(n=!1);const r=nu(t),i=z0(t),s=$0(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=dp(o)),[o,dp(o)]}function tz(t){const e=dp(t);return[Rv(t),e,Rv(e)]}function Rv(t){return t.replace(/start|end/g,e=>Z$[e])}function nz(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function rz(t,e,n,r){const i=nu(t);let s=nz(ji(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Rv)))),s}function dp(t){return t.replace(/left|right|bottom|top/g,e=>J$[e])}function iz(t){return{top:0,right:0,bottom:0,left:0,...t}}function iA(t){return typeof t!="number"?iz(t):{top:t,right:t,bottom:t,left:t}}function hp(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function vS(t,e,n){let{reference:r,floating:i}=t;const s=Ks(e),o=z0(e),a=$0(o),l=ji(e),u=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-i.width,y:h};break;default:p={x:r.x,y:r.y}}switch(nu(e)){case"start":p[o]-=f*(n&&u?-1:1);break;case"end":p[o]+=f*(n&&u?-1:1);break}return p}const sz=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=vS(u,r,l),f=r,p={},E=0;for(let v=0;v<a.length;v++){const{name:T,fn:x}=a[v],{x:_,y:b,data:I,reset:N}=await x({x:d,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:u,platform:o,elements:{reference:t,floating:e}});d=_??d,h=b??h,p={...p,[T]:{...p[T],...I}},N&&E<=50&&(E++,typeof N=="object"&&(N.placement&&(f=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):N.rects),{x:d,y:h}=vS(u,f,l)),v=-1)}return{x:d,y:h,placement:f,strategy:i,middlewareData:p}};async function Gc(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=Fi(e,t),E=iA(p),T=a[f?h==="floating"?"reference":"floating":h],x=hp(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(T)))==null||n?T:T.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),_=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),I=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},N=hp(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:b,strategy:l}):_);return{top:(x.top-N.top+E.top)/I.y,bottom:(N.bottom-x.bottom+E.bottom)/I.y,left:(x.left-N.left+E.left)/I.x,right:(N.right-x.right+E.right)/I.x}}const oz=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=Fi(t,e)||{};if(u==null)return{};const h=iA(d),f={x:n,y:r},p=z0(i),E=$0(p),v=await o.getDimensions(u),T=p==="y",x=T?"top":"left",_=T?"bottom":"right",b=T?"clientHeight":"clientWidth",I=s.reference[E]+s.reference[p]-f[p]-s.floating[E],N=f[p]-s.reference[p],F=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=F?F[b]:0;(!C||!await(o.isElement==null?void 0:o.isElement(F)))&&(C=a.floating[b]||s.floating[E]);const w=I/2-N/2,R=C/2-v[E]/2-1,A=zs(h[x],R),D=zs(h[_],R),M=A,k=C-v[E]-D,J=C/2-v[E]/2+w,Se=Cv(M,J,k),fe=!l.arrow&&nu(i)!=null&&J!==Se&&s.reference[E]/2-(J<M?A:D)-v[E]/2<0,le=fe?J<M?J-M:J-k:0;return{[p]:f[p]+le,data:{[p]:Se,centerOffset:J-Se-le,...fe&&{alignmentOffset:le}},reset:fe}}}),az=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:v=!0,...T}=Fi(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const x=ji(i),_=Ks(a),b=ji(a)===a,I=await(l.isRTL==null?void 0:l.isRTL(u.floating)),N=f||(b||!v?[dp(a)]:tz(a)),F=E!=="none";!f&&F&&N.push(...rz(a,v,E,I));const C=[a,...N],w=await Gc(e,T),R=[];let A=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&R.push(w[x]),h){const J=ez(i,o,I);R.push(w[J[0]],w[J[1]])}if(A=[...A,{placement:i,overflows:R}],!R.every(J=>J<=0)){var D,M;const J=(((D=s.flip)==null?void 0:D.index)||0)+1,Se=C[J];if(Se)return{data:{index:J,overflows:A},reset:{placement:Se}};let fe=(M=A.filter(le=>le.overflows[0]<=0).sort((le,z)=>le.overflows[1]-z.overflows[1])[0])==null?void 0:M.placement;if(!fe)switch(p){case"bestFit":{var k;const le=(k=A.filter(z=>{if(F){const $=Ks(z.placement);return $===_||$==="y"}return!0}).map(z=>[z.placement,z.overflows.filter($=>$>0).reduce(($,Y)=>$+Y,0)]).sort((z,$)=>z[1]-$[1])[0])==null?void 0:k[0];le&&(fe=le);break}case"initialPlacement":fe=a;break}if(i!==fe)return{reset:{placement:fe}}}return{}}}};function wS(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function _S(t){return X$.some(e=>t[e]>=0)}const lz=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Fi(t,e);switch(r){case"referenceHidden":{const s=await Gc(e,{...i,elementContext:"reference"}),o=wS(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:_S(o)}}}case"escaped":{const s=await Gc(e,{...i,altBoundary:!0}),o=wS(s,n.floating);return{data:{escapedOffsets:o,escaped:_S(o)}}}default:return{}}}}};async function uz(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=ji(n),a=nu(n),l=Ks(n)==="y",u=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,h=Fi(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:E}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof E=="number"&&(p=a==="end"?E*-1:E),l?{x:p*d,y:f*u}:{x:f*u,y:p*d}}const cz=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await uz(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},dz=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:T=>{let{x,y:_}=T;return{x,y:_}}},...l}=Fi(t,e),u={x:n,y:r},d=await Gc(e,l),h=Ks(ji(i)),f=B0(h);let p=u[f],E=u[h];if(s){const T=f==="y"?"top":"left",x=f==="y"?"bottom":"right",_=p+d[T],b=p-d[x];p=Cv(_,p,b)}if(o){const T=h==="y"?"top":"left",x=h==="y"?"bottom":"right",_=E+d[T],b=E-d[x];E=Cv(_,E,b)}const v=a.fn({...e,[f]:p,[h]:E});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[f]:s,[h]:o}}}}}},hz=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Fi(t,e),d={x:n,y:r},h=Ks(i),f=B0(h);let p=d[f],E=d[h];const v=Fi(a,e),T=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const b=f==="y"?"height":"width",I=s.reference[f]-s.floating[b]+T.mainAxis,N=s.reference[f]+s.reference[b]-T.mainAxis;p<I?p=I:p>N&&(p=N)}if(u){var x,_;const b=f==="y"?"width":"height",I=["top","left"].includes(ji(i)),N=s.reference[h]-s.floating[b]+(I&&((x=o.offset)==null?void 0:x[h])||0)+(I?0:T.crossAxis),F=s.reference[h]+s.reference[b]+(I?0:((_=o.offset)==null?void 0:_[h])||0)-(I?T.crossAxis:0);E<N?E=N:E>F&&(E=F)}return{[f]:p,[h]:E}}}},fz=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...u}=Fi(t,e),d=await Gc(e,u),h=ji(i),f=nu(i),p=Ks(i)==="y",{width:E,height:v}=s.floating;let T,x;h==="top"||h==="bottom"?(T=h,x=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=h,T=f==="end"?"top":"bottom");const _=v-d.top-d.bottom,b=E-d.left-d.right,I=zs(v-d[T],_),N=zs(E-d[x],b),F=!e.middlewareData.shift;let C=I,w=N;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(w=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=_),F&&!f){const A=Un(d.left,0),D=Un(d.right,0),M=Un(d.top,0),k=Un(d.bottom,0);p?w=E-2*(A!==0||D!==0?A+D:Un(d.left,d.right)):C=v-2*(M!==0||k!==0?M+k:Un(d.top,d.bottom))}await l({...e,availableWidth:w,availableHeight:C});const R=await o.getDimensions(a.floating);return E!==R.width||v!==R.height?{reset:{rects:!0}}:{}}}};function um(){return typeof window<"u"}function ru(t){return sA(t)?(t.nodeName||"").toLowerCase():"#document"}function Wn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function si(t){var e;return(e=(sA(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function sA(t){return um()?t instanceof Node||t instanceof Wn(t).Node:!1}function Dr(t){return um()?t instanceof Element||t instanceof Wn(t).Element:!1}function ti(t){return um()?t instanceof HTMLElement||t instanceof Wn(t).HTMLElement:!1}function ES(t){return!um()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Wn(t).ShadowRoot}function Vd(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Mr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function pz(t){return["table","td","th"].includes(ru(t))}function cm(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function W0(t){const e=K0(),n=Dr(t)?Mr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function mz(t){let e=Hs(t);for(;ti(e)&&!Ml(e);){if(W0(e))return e;if(cm(e))return null;e=Hs(e)}return null}function K0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ml(t){return["html","body","#document"].includes(ru(t))}function Mr(t){return Wn(t).getComputedStyle(t)}function dm(t){return Dr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Hs(t){if(ru(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ES(t)&&t.host||si(t);return ES(e)?e.host:e}function oA(t){const e=Hs(t);return Ml(e)?t.ownerDocument?t.ownerDocument.body:t.body:ti(e)&&Vd(e)?e:oA(e)}function qc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=oA(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Wn(i);if(s){const a=Iv(o);return e.concat(o,o.visualViewport||[],Vd(i)?i:[],a&&n?qc(a):[])}return e.concat(i,qc(i,[],n))}function Iv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function aA(t){const e=Mr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ti(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=cp(n)!==s||cp(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function H0(t){return Dr(t)?t:t.contextElement}function sl(t){const e=H0(t);if(!ti(e))return Ws(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=aA(e);let o=(s?cp(n.width):n.width)/r,a=(s?cp(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const gz=Ws(0);function lA(t){const e=Wn(t);return!K0()||!e.visualViewport?gz:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function yz(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Wn(t)?!1:e}function ea(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=H0(t);let o=Ws(1);e&&(r?Dr(r)&&(o=sl(r)):o=sl(t));const a=yz(s,n,r)?lA(s):Ws(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const f=Wn(s),p=r&&Dr(r)?Wn(r):r;let E=f,v=Iv(E);for(;v&&r&&p!==E;){const T=sl(v),x=v.getBoundingClientRect(),_=Mr(v),b=x.left+(v.clientLeft+parseFloat(_.paddingLeft))*T.x,I=x.top+(v.clientTop+parseFloat(_.paddingTop))*T.y;l*=T.x,u*=T.y,d*=T.x,h*=T.y,l+=b,u+=I,E=Wn(v),v=Iv(E)}}return hp({width:d,height:h,x:l,y:u})}function vz(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=si(r),a=e?cm(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=Ws(1);const d=Ws(0),h=ti(r);if((h||!h&&!s)&&((ru(r)!=="body"||Vd(o))&&(l=dm(r)),ti(r))){const f=ea(r);u=sl(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x,y:n.y*u.y-l.scrollTop*u.y+d.y}}function wz(t){return Array.from(t.getClientRects())}function Pv(t,e){const n=dm(t).scrollLeft;return e?e.left+n:ea(si(t)).left+n}function _z(t){const e=si(t),n=dm(t),r=t.ownerDocument.body,i=Un(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Un(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Pv(t);const a=-n.scrollTop;return Mr(r).direction==="rtl"&&(o+=Un(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function Ez(t,e){const n=Wn(t),r=si(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=K0();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function xz(t,e){const n=ea(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=ti(t)?sl(t):Ws(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function xS(t,e,n){let r;if(e==="viewport")r=Ez(t,n);else if(e==="document")r=_z(si(t));else if(Dr(e))r=xz(e,n);else{const i=lA(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return hp(r)}function uA(t,e){const n=Hs(t);return n===e||!Dr(n)||Ml(n)?!1:Mr(n).position==="fixed"||uA(n,e)}function Tz(t,e){const n=e.get(t);if(n)return n;let r=qc(t,[],!1).filter(a=>Dr(a)&&ru(a)!=="body"),i=null;const s=Mr(t).position==="fixed";let o=s?Hs(t):t;for(;Dr(o)&&!Ml(o);){const a=Mr(o),l=W0(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Vd(o)&&!l&&uA(t,o))?r=r.filter(d=>d!==o):i=a,o=Hs(o)}return e.set(t,r),r}function Sz(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?cm(e)?[]:Tz(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const h=xS(e,d,i);return u.top=Un(h.top,u.top),u.right=zs(h.right,u.right),u.bottom=zs(h.bottom,u.bottom),u.left=Un(h.left,u.left),u},xS(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function bz(t){const{width:e,height:n}=aA(t);return{width:e,height:n}}function Cz(t,e,n){const r=ti(e),i=si(e),s=n==="fixed",o=ea(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Ws(0);if(r||!r&&!s)if((ru(e)!=="body"||Vd(i))&&(a=dm(e)),r){const p=ea(e,!0,s,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&(l.x=Pv(i));let u=0,d=0;if(i&&!r&&!s){const p=i.getBoundingClientRect();d=p.top+a.scrollTop,u=p.left+a.scrollLeft-Pv(i,p)}const h=o.left+a.scrollLeft-l.x-u,f=o.top+a.scrollTop-l.y-d;return{x:h,y:f,width:o.width,height:o.height}}function zg(t){return Mr(t).position==="static"}function TS(t,e){if(!ti(t)||Mr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return si(t)===n&&(n=n.ownerDocument.body),n}function cA(t,e){const n=Wn(t);if(cm(t))return n;if(!ti(t)){let i=Hs(t);for(;i&&!Ml(i);){if(Dr(i)&&!zg(i))return i;i=Hs(i)}return n}let r=TS(t,e);for(;r&&pz(r)&&zg(r);)r=TS(r,e);return r&&Ml(r)&&zg(r)&&!W0(r)?n:r||mz(t)||n}const Rz=async function(t){const e=this.getOffsetParent||cA,n=this.getDimensions,r=await n(t.floating);return{reference:Cz(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Iz(t){return Mr(t).direction==="rtl"}const Pz={convertOffsetParentRelativeRectToViewportRelativeRect:vz,getDocumentElement:si,getClippingRect:Sz,getOffsetParent:cA,getElementRects:Rz,getClientRects:wz,getDimensions:bz,getScale:sl,isElement:Dr,isRTL:Iz};function Az(t,e){let n=null,r;const i=si(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:u,top:d,width:h,height:f}=t.getBoundingClientRect();if(a||e(),!h||!f)return;const p=Oh(d),E=Oh(i.clientWidth-(u+h)),v=Oh(i.clientHeight-(d+f)),T=Oh(u),_={rootMargin:-p+"px "+-E+"px "+-v+"px "+-T+"px",threshold:Un(0,zs(1,l))||1};let b=!0;function I(N){const F=N[0].intersectionRatio;if(F!==l){if(!b)return o();F?o(!1,F):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(I,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(I,_)}n.observe(t)}return o(!0),s}function kz(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=H0(t),d=i||s?[...u?qc(u):[],...qc(e)]:[];d.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),s&&x.addEventListener("resize",n)});const h=u&&a?Az(u,n):null;let f=-1,p=null;o&&(p=new ResizeObserver(x=>{let[_]=x;_&&_.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(e)})),n()}),u&&!l&&p.observe(u),p.observe(e));let E,v=l?ea(t):null;l&&T();function T(){const x=ea(t);v&&(x.x!==v.x||x.y!==v.y||x.width!==v.width||x.height!==v.height)&&n(),v=x,E=requestAnimationFrame(T)}return n(),()=>{var x;d.forEach(_=>{i&&_.removeEventListener("scroll",n),s&&_.removeEventListener("resize",n)}),h==null||h(),(x=p)==null||x.disconnect(),p=null,l&&cancelAnimationFrame(E)}}const Nz=cz,Dz=dz,Mz=az,Oz=fz,Lz=lz,SS=oz,Vz=hz,Fz=(t,e,n)=>{const r=new Map,i={platform:Pz,...n},s={...i.platform,_c:r};return sz(t,e,{...i,platform:s})};var wf=typeof document<"u"?y.useLayoutEffect:y.useEffect;function fp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!fp(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!fp(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function dA(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function bS(t,e){const n=dA(t);return Math.round(e*n)/n}function Wg(t){const e=y.useRef(t);return wf(()=>{e.current=t}),e}function jz(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,h]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=y.useState(r);fp(f,r)||p(r);const[E,v]=y.useState(null),[T,x]=y.useState(null),_=y.useCallback(z=>{z!==F.current&&(F.current=z,v(z))},[]),b=y.useCallback(z=>{z!==C.current&&(C.current=z,x(z))},[]),I=s||E,N=o||T,F=y.useRef(null),C=y.useRef(null),w=y.useRef(d),R=l!=null,A=Wg(l),D=Wg(i),M=Wg(u),k=y.useCallback(()=>{if(!F.current||!C.current)return;const z={placement:e,strategy:n,middleware:f};D.current&&(z.platform=D.current),Fz(F.current,C.current,z).then($=>{const Y={...$,isPositioned:M.current!==!1};J.current&&!fp(w.current,Y)&&(w.current=Y,Ql.flushSync(()=>{h(Y)}))})},[f,e,n,D,M]);wf(()=>{u===!1&&w.current.isPositioned&&(w.current.isPositioned=!1,h(z=>({...z,isPositioned:!1})))},[u]);const J=y.useRef(!1);wf(()=>(J.current=!0,()=>{J.current=!1}),[]),wf(()=>{if(I&&(F.current=I),N&&(C.current=N),I&&N){if(A.current)return A.current(I,N,k);k()}},[I,N,k,A,R]);const Se=y.useMemo(()=>({reference:F,floating:C,setReference:_,setFloating:b}),[_,b]),fe=y.useMemo(()=>({reference:I,floating:N}),[I,N]),le=y.useMemo(()=>{const z={position:n,left:0,top:0};if(!fe.floating)return z;const $=bS(fe.floating,d.x),Y=bS(fe.floating,d.y);return a?{...z,transform:"translate("+$+"px, "+Y+"px)",...dA(fe.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:Y}},[n,a,fe.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:k,refs:Se,elements:fe,floatingStyles:le}),[d,k,Se,fe,le])}const Uz=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?SS({element:r.current,padding:i}).fn(n):{}:r?SS({element:r,padding:i}).fn(n):{}}}},Bz=(t,e)=>({...Nz(t),options:[t,e]}),$z=(t,e)=>({...Dz(t),options:[t,e]}),zz=(t,e)=>({...Vz(t),options:[t,e]}),Wz=(t,e)=>({...Mz(t),options:[t,e]}),Kz=(t,e)=>({...Oz(t),options:[t,e]}),Hz=(t,e)=>({...Lz(t),options:[t,e]}),Gz=(t,e)=>({...Uz(t),options:[t,e]});var qz="Arrow",hA=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return m.jsx(je.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});hA.displayName=qz;var Qz=hA;function Yz(t){const[e,n]=y.useState(void 0);return Vi(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var G0="Popper",[fA,hm]=tu(G0),[Xz,pA]=fA(G0),mA=t=>{const{__scopePopper:e,children:n}=t,[r,i]=y.useState(null);return m.jsx(Xz,{scope:e,anchor:r,onAnchorChange:i,children:n})};mA.displayName=G0;var gA="PopperAnchor",yA=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=pA(gA,n),o=y.useRef(null),a=wt(e,o);return y.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:m.jsx(je.div,{...i,ref:a})});yA.displayName=gA;var q0="PopperContent",[Jz,Zz]=fA(q0),vA=y.forwardRef((t,e)=>{var ze,yn,Yt,vn,oi,Wi;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:E,...v}=t,T=pA(q0,n),[x,_]=y.useState(null),b=wt(e,mr=>_(mr)),[I,N]=y.useState(null),F=Yz(I),C=(F==null?void 0:F.width)??0,w=(F==null?void 0:F.height)??0,R=r+(s!=="center"?"-"+s:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],M=D.length>0,k={padding:A,boundary:D.filter(t9),altBoundary:M},{refs:J,floatingStyles:Se,placement:fe,isPositioned:le,middlewareData:z}=jz({strategy:"fixed",placement:R,whileElementsMounted:(...mr)=>kz(...mr,{animationFrame:p==="always"}),elements:{reference:T.anchor},middleware:[Bz({mainAxis:i+w,alignmentAxis:o}),l&&$z({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?zz():void 0,...k}),l&&Wz({...k}),Kz({...k,apply:({elements:mr,rects:ft,availableWidth:Yn,availableHeight:oo})=>{const{width:fu,height:gr}=ft.reference,ai=mr.floating.style;ai.setProperty("--radix-popper-available-width",`${Yn}px`),ai.setProperty("--radix-popper-available-height",`${oo}px`),ai.setProperty("--radix-popper-anchor-width",`${fu}px`),ai.setProperty("--radix-popper-anchor-height",`${gr}px`)}}),I&&Gz({element:I,padding:a}),n9({arrowWidth:C,arrowHeight:w}),f&&Hz({strategy:"referenceHidden",...k})]}),[$,Y]=EA(fe),ae=Hn(E);Vi(()=>{le&&(ae==null||ae())},[le,ae]);const ge=(ze=z.arrow)==null?void 0:ze.x,be=(yn=z.arrow)==null?void 0:yn.y,ht=((Yt=z.arrow)==null?void 0:Yt.centerOffset)!==0,[Ct,$e]=y.useState();return Vi(()=>{x&&$e(window.getComputedStyle(x).zIndex)},[x]),m.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...Se,transform:le?Se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ct,"--radix-popper-transform-origin":[(vn=z.transformOrigin)==null?void 0:vn.x,(oi=z.transformOrigin)==null?void 0:oi.y].join(" "),...((Wi=z.hide)==null?void 0:Wi.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:m.jsx(Jz,{scope:n,placedSide:$,onArrowChange:N,arrowX:ge,arrowY:be,shouldHideArrow:ht,children:m.jsx(je.div,{"data-side":$,"data-align":Y,...v,ref:b,style:{...v.style,animation:le?void 0:"none"}})})})});vA.displayName=q0;var wA="PopperArrow",e9={top:"bottom",right:"left",bottom:"top",left:"right"},_A=y.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=Zz(wA,r),o=e9[s.placedSide];return m.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:m.jsx(Qz,{...i,ref:n,style:{...i.style,display:"block"}})})});_A.displayName=wA;function t9(t){return t!==null}var n9=t=>({name:"transformOrigin",options:t,fn(e){var T,x,_;const{placement:n,rects:r,middlewareData:i}=e,o=((T=i.arrow)==null?void 0:T.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=EA(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((x=i.arrow)==null?void 0:x.x)??0)+a/2,p=(((_=i.arrow)==null?void 0:_.y)??0)+l/2;let E="",v="";return u==="bottom"?(E=o?h:`${f}px`,v=`${-l}px`):u==="top"?(E=o?h:`${f}px`,v=`${r.floating.height+l}px`):u==="right"?(E=`${-l}px`,v=o?h:`${p}px`):u==="left"&&(E=`${r.floating.width+l}px`,v=o?h:`${p}px`),{data:{x:E,y:v}}}});function EA(t){const[e,n="center"]=t.split("-");return[e,n]}var xA=mA,TA=yA,SA=vA,bA=_A;function r9(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var fm=t=>{const{present:e,children:n}=t,r=i9(e),i=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),s=wt(r.ref,s9(i));return typeof n=="function"||r.isPresent?y.cloneElement(i,{ref:s}):null};fm.displayName="Presence";function i9(t){const[e,n]=y.useState(),r=y.useRef({}),i=y.useRef(t),s=y.useRef("none"),o=t?"mounted":"unmounted",[a,l]=r9(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=Lh(r.current);s.current=a==="mounted"?u:"none"},[a]),Vi(()=>{const u=r.current,d=i.current;if(d!==t){const f=s.current,p=Lh(u);t?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Vi(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=p=>{const v=Lh(r.current).includes(p.animationName);if(p.target===e&&v&&(l("ANIMATION_END"),!i.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},f=p=>{p.target===e&&(s.current=Lh(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Lh(t){return(t==null?void 0:t.animationName)||"none"}function s9(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Kg="rovingFocusGroup.onEntryFocus",o9={bubbles:!1,cancelable:!0},pm="RovingFocusGroup",[Av,CA,a9]=JP(pm),[l9,mm]=tu(pm,[a9]),[u9,c9]=l9(pm),RA=y.forwardRef((t,e)=>m.jsx(Av.Provider,{scope:t.__scopeRovingFocusGroup,children:m.jsx(Av.Slot,{scope:t.__scopeRovingFocusGroup,children:m.jsx(d9,{...t,ref:e})})}));RA.displayName=pm;var d9=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,f=y.useRef(null),p=wt(e,f),E=j0(s),[v=null,T]=Ld({prop:o,defaultProp:a,onChange:l}),[x,_]=y.useState(!1),b=Hn(u),I=CA(n),N=y.useRef(!1),[F,C]=y.useState(0);return y.useEffect(()=>{const w=f.current;if(w)return w.addEventListener(Kg,b),()=>w.removeEventListener(Kg,b)},[b]),m.jsx(u9,{scope:n,orientation:r,dir:E,loop:i,currentTabStopId:v,onItemFocus:y.useCallback(w=>T(w),[T]),onItemShiftTab:y.useCallback(()=>_(!0),[]),onFocusableItemAdd:y.useCallback(()=>C(w=>w+1),[]),onFocusableItemRemove:y.useCallback(()=>C(w=>w-1),[]),children:m.jsx(je.div,{tabIndex:x||F===0?-1:0,"data-orientation":r,...h,ref:p,style:{outline:"none",...t.style},onMouseDown:ue(t.onMouseDown,()=>{N.current=!0}),onFocus:ue(t.onFocus,w=>{const R=!N.current;if(w.target===w.currentTarget&&R&&!x){const A=new CustomEvent(Kg,o9);if(w.currentTarget.dispatchEvent(A),!A.defaultPrevented){const D=I().filter(fe=>fe.focusable),M=D.find(fe=>fe.active),k=D.find(fe=>fe.id===v),Se=[M,k,...D].filter(Boolean).map(fe=>fe.ref.current);AA(Se,d)}}N.current=!1}),onBlur:ue(t.onBlur,()=>_(!1))})})}),IA="RovingFocusGroupItem",PA=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,a=Vs(),l=s||a,u=c9(IA,n),d=u.currentTabStopId===l,h=CA(n),{onFocusableItemAdd:f,onFocusableItemRemove:p}=u;return y.useEffect(()=>{if(r)return f(),()=>p()},[r,f,p]),m.jsx(Av.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:m.jsx(je.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:ue(t.onMouseDown,E=>{r?u.onItemFocus(l):E.preventDefault()}),onFocus:ue(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:ue(t.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){u.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const v=p9(E,u.orientation,u.dir);if(v!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let x=h().filter(_=>_.focusable).map(_=>_.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const _=x.indexOf(E.currentTarget);x=u.loop?m9(x,_+1):x.slice(_+1)}setTimeout(()=>AA(x))}})})})});PA.displayName=IA;var h9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function f9(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function p9(t,e,n){const r=f9(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return h9[r]}function AA(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function m9(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var kA=RA,NA=PA,g9=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ta=new WeakMap,Vh=new WeakMap,Fh={},Hg=0,DA=function(t){return t&&(t.host||DA(t.parentNode))},y9=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=DA(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},v9=function(t,e,n,r){var i=y9(e,Array.isArray(t)?t:[t]);Fh[n]||(Fh[n]=new WeakMap);var s=Fh[n],o=[],a=new Set,l=new Set(i),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};i.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))d(f);else try{var p=f.getAttribute(r),E=p!==null&&p!=="false",v=(Ta.get(f)||0)+1,T=(s.get(f)||0)+1;Ta.set(f,v),s.set(f,T),o.push(f),v===1&&E&&Vh.set(f,!0),T===1&&f.setAttribute(n,"true"),E||f.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",f,x)}})};return d(e),a.clear(),Hg++,function(){o.forEach(function(h){var f=Ta.get(h)-1,p=s.get(h)-1;Ta.set(h,f),s.set(h,p),f||(Vh.has(h)||h.removeAttribute(r),Vh.delete(h)),p||h.removeAttribute(n)}),Hg--,Hg||(Ta=new WeakMap,Ta=new WeakMap,Vh=new WeakMap,Fh={})}},MA=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=g9(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),v9(r,i,n,"aria-hidden")):function(){return null}},fc="right-scroll-bar-position",pc="width-before-scroll-bar",w9="with-scroll-bars-hidden",_9="--removed-body-scroll-bar-size";function Gg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function E9(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var x9=typeof window<"u"?y.useLayoutEffect:y.useEffect,CS=new WeakMap;function OA(t,e){var n=E9(null,function(r){return t.forEach(function(i){return Gg(i,r)})});return x9(function(){var r=CS.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||Gg(a,null)}),s.forEach(function(a){i.has(a)||Gg(a,o)})}CS.set(n,t)},[t]),n}function T9(t){return t}function S9(t,e){e===void 0&&(e=T9);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function LA(t){t===void 0&&(t={});var e=S9(null);return e.options=cn({async:!0,ssr:!1},t),e}var VA=function(t){var e=t.sideCar,n=Yl(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,cn({},n))};VA.isSideCarExport=!0;function FA(t,e){return t.useMedium(e),VA}var jA=LA(),qg=function(){},gm=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:qg,onWheelCapture:qg,onTouchMoveCapture:qg}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,p=t.noIsolation,E=t.inert,v=t.allowPinchZoom,T=t.as,x=T===void 0?"div":T,_=t.gapMode,b=Yl(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=f,N=OA([n,e]),F=cn(cn({},b),i);return y.createElement(y.Fragment,null,d&&y.createElement(I,{sideCar:jA,removeScrollBar:u,shards:h,noIsolation:p,inert:E,setCallbacks:s,allowPinchZoom:!!v,lockRef:n,gapMode:_}),o?y.cloneElement(y.Children.only(a),cn(cn({},F),{ref:N})):y.createElement(x,cn({},F,{className:l,ref:N}),a))});gm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gm.classNames={fullWidth:pc,zeroRight:fc};var b9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function C9(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=b9();return e&&t.setAttribute("nonce",e),t}function R9(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function I9(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var P9=function(){var t=0,e=null;return{add:function(n){t==0&&(e=C9())&&(R9(e,n),I9(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},A9=function(){var t=P9();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Q0=function(){var t=A9(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},k9={left:0,top:0,right:0,gap:0},Qg=function(t){return parseInt(t||"",10)||0},N9=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Qg(n),Qg(r),Qg(i)]},D9=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return k9;var e=N9(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},M9=Q0(),ol="data-scroll-locked",O9=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(w9,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ol,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(fc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(pc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(fc," .").concat(fc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(pc," .").concat(pc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ol,`] {
    `).concat(_9,": ").concat(a,`px;
  }
`)},RS=function(){var t=parseInt(document.body.getAttribute(ol)||"0",10);return isFinite(t)?t:0},L9=function(){y.useEffect(function(){return document.body.setAttribute(ol,(RS()+1).toString()),function(){var t=RS()-1;t<=0?document.body.removeAttribute(ol):document.body.setAttribute(ol,t.toString())}},[])},UA=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;L9();var s=y.useMemo(function(){return D9(i)},[i]);return y.createElement(M9,{styles:O9(s,!e,i,n?"":"!important")})},kv=!1;if(typeof window<"u")try{var jh=Object.defineProperty({},"passive",{get:function(){return kv=!0,!0}});window.addEventListener("test",jh,jh),window.removeEventListener("test",jh,jh)}catch{kv=!1}var Sa=kv?{passive:!1}:!1,V9=function(t){return t.tagName==="TEXTAREA"},BA=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!V9(t)&&n[e]==="visible")},F9=function(t){return BA(t,"overflowY")},j9=function(t){return BA(t,"overflowX")},IS=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=$A(t,r);if(i){var s=zA(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},U9=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},B9=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},$A=function(t,e){return t==="v"?F9(e):j9(e)},zA=function(t,e){return t==="v"?U9(e):B9(e)},$9=function(t,e){return t==="h"&&e==="rtl"?-1:1},z9=function(t,e,n,r,i){var s=$9(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),u=!1,d=o>0,h=0,f=0;do{var p=zA(t,a),E=p[0],v=p[1],T=p[2],x=v-T-s*E;(E||x)&&$A(t,a)&&(h+=x,f+=E),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(h)<1||!i)||!d&&(Math.abs(f)<1||!i))&&(u=!0),u},Uh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},PS=function(t){return[t.deltaX,t.deltaY]},AS=function(t){return t&&"current"in t?t.current:t},W9=function(t,e){return t[0]===e[0]&&t[1]===e[1]},K9=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},H9=0,ba=[];function G9(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),i=y.useState(H9++)[0],s=y.useState(Q0)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=zI([t.lockRef.current],(t.shards||[]).map(AS),!0).filter(Boolean);return v.forEach(function(T){return T.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(v,T){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var x=Uh(v),_=n.current,b="deltaX"in v?v.deltaX:_[0]-x[0],I="deltaY"in v?v.deltaY:_[1]-x[1],N,F=v.target,C=Math.abs(b)>Math.abs(I)?"h":"v";if("touches"in v&&C==="h"&&F.type==="range")return!1;var w=IS(C,F);if(!w)return!0;if(w?N=C:(N=C==="v"?"h":"v",w=IS(C,F)),!w)return!1;if(!r.current&&"changedTouches"in v&&(b||I)&&(r.current=N),!N)return!0;var R=r.current||N;return z9(R,T,v,R==="h"?b:I,!0)},[]),l=y.useCallback(function(v){var T=v;if(!(!ba.length||ba[ba.length-1]!==s)){var x="deltaY"in T?PS(T):Uh(T),_=e.current.filter(function(N){return N.name===T.type&&(N.target===T.target||T.target===N.shadowParent)&&W9(N.delta,x)})[0];if(_&&_.should){T.cancelable&&T.preventDefault();return}if(!_){var b=(o.current.shards||[]).map(AS).filter(Boolean).filter(function(N){return N.contains(T.target)}),I=b.length>0?a(T,b[0]):!o.current.noIsolation;I&&T.cancelable&&T.preventDefault()}}},[]),u=y.useCallback(function(v,T,x,_){var b={name:v,delta:T,target:x,should:_,shadowParent:q9(x)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(I){return I!==b})},1)},[]),d=y.useCallback(function(v){n.current=Uh(v),r.current=void 0},[]),h=y.useCallback(function(v){u(v.type,PS(v),v.target,a(v,t.lockRef.current))},[]),f=y.useCallback(function(v){u(v.type,Uh(v),v.target,a(v,t.lockRef.current))},[]);y.useEffect(function(){return ba.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Sa),document.addEventListener("touchmove",l,Sa),document.addEventListener("touchstart",d,Sa),function(){ba=ba.filter(function(v){return v!==s}),document.removeEventListener("wheel",l,Sa),document.removeEventListener("touchmove",l,Sa),document.removeEventListener("touchstart",d,Sa)}},[]);var p=t.removeScrollBar,E=t.inert;return y.createElement(y.Fragment,null,E?y.createElement(s,{styles:K9(i)}):null,p?y.createElement(UA,{gapMode:t.gapMode}):null)}function q9(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Q9=FA(jA,G9);var WA=y.forwardRef(function(t,e){return y.createElement(gm,cn({},t,{ref:e,sideCar:Q9}))});WA.classNames=gm.classNames;var Nv=["Enter"," "],Y9=["ArrowDown","PageUp","Home"],KA=["ArrowUp","PageDown","End"],X9=[...Y9,...KA],J9={ltr:[...Nv,"ArrowRight"],rtl:[...Nv,"ArrowLeft"]},Z9={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Fd="Menu",[Qc,e5,t5]=JP(Fd),[ca,HA]=k$(Fd,[t5,hm,mm]),ym=hm(),GA=mm(),[n5,iu]=ca(Fd),[r5,jd]=ca(Fd),qA=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=t,a=ym(e),[l,u]=y.useState(null),d=y.useRef(!1),h=Hn(s),f=j0(i);return y.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",E,{capture:!0,once:!0}),document.addEventListener("pointermove",E,{capture:!0,once:!0})},E=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",E,{capture:!0}),document.removeEventListener("pointermove",E,{capture:!0})}},[]),m.jsx(xA,{...a,children:m.jsx(n5,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:u,children:m.jsx(r5,{scope:e,onClose:y.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:o,children:r})})})};qA.displayName=Fd;var i5="MenuAnchor",Y0=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=ym(n);return m.jsx(TA,{...i,...r,ref:e})});Y0.displayName=i5;var s5="MenuPortal",[Nee,QA]=ca(s5,{forceMount:void 0}),ur="MenuContent",[o5,X0]=ca(ur),YA=y.forwardRef((t,e)=>{const n=QA(ur,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=iu(ur,t.__scopeMenu),o=jd(ur,t.__scopeMenu);return m.jsx(Qc.Provider,{scope:t.__scopeMenu,children:m.jsx(fm,{present:r||s.open,children:m.jsx(Qc.Slot,{scope:t.__scopeMenu,children:o.modal?m.jsx(a5,{...i,ref:e}):m.jsx(l5,{...i,ref:e})})})})}),a5=y.forwardRef((t,e)=>{const n=iu(ur,t.__scopeMenu),r=y.useRef(null),i=wt(e,r);return y.useEffect(()=>{const s=r.current;if(s)return MA(s)},[]),m.jsx(J0,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ue(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),l5=y.forwardRef((t,e)=>{const n=iu(ur,t.__scopeMenu);return m.jsx(J0,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),J0=y.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:p,disableOutsideScroll:E,...v}=t,T=iu(ur,n),x=jd(ur,n),_=ym(n),b=GA(n),I=e5(n),[N,F]=y.useState(null),C=y.useRef(null),w=wt(e,C,T.onContentChange),R=y.useRef(0),A=y.useRef(""),D=y.useRef(0),M=y.useRef(null),k=y.useRef("right"),J=y.useRef(0),Se=E?WA:y.Fragment,fe=E?{as:Zo,allowPinchZoom:!0}:void 0,le=$=>{var ze,yn;const Y=A.current+$,ae=I().filter(Yt=>!Yt.disabled),ge=document.activeElement,be=(ze=ae.find(Yt=>Yt.ref.current===ge))==null?void 0:ze.textValue,ht=ae.map(Yt=>Yt.textValue),Ct=_5(ht,Y,be),$e=(yn=ae.find(Yt=>Yt.textValue===Ct))==null?void 0:yn.ref.current;(function Yt(vn){A.current=vn,window.clearTimeout(R.current),vn!==""&&(R.current=window.setTimeout(()=>Yt(""),1e3))})(Y),$e&&setTimeout(()=>$e.focus())};y.useEffect(()=>()=>window.clearTimeout(R.current),[]),B$();const z=y.useCallback($=>{var ae,ge;return k.current===((ae=M.current)==null?void 0:ae.side)&&x5($,(ge=M.current)==null?void 0:ge.area)},[]);return m.jsx(o5,{scope:n,searchRef:A,onItemEnter:y.useCallback($=>{z($)&&$.preventDefault()},[z]),onItemLeave:y.useCallback($=>{var Y;z($)||((Y=C.current)==null||Y.focus(),F(null))},[z]),onTriggerLeave:y.useCallback($=>{z($)&&$.preventDefault()},[z]),pointerGraceTimerRef:D,onPointerGraceIntentChange:y.useCallback($=>{M.current=$},[]),children:m.jsx(Se,{...fe,children:m.jsx(U0,{asChild:!0,trapped:i,onMountAutoFocus:ue(s,$=>{var Y;$.preventDefault(),(Y=C.current)==null||Y.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:m.jsx(tA,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:p,children:m.jsx(kA,{asChild:!0,...b,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:F,onEntryFocus:ue(l,$=>{x.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:m.jsx(SA,{role:"menu","aria-orientation":"vertical","data-state":hk(T.open),"data-radix-menu-content":"",dir:x.dir,..._,...v,ref:w,style:{outline:"none",...v.style},onKeyDown:ue(v.onKeyDown,$=>{const ae=$.target.closest("[data-radix-menu-content]")===$.currentTarget,ge=$.ctrlKey||$.altKey||$.metaKey,be=$.key.length===1;ae&&($.key==="Tab"&&$.preventDefault(),!ge&&be&&le($.key));const ht=C.current;if($.target!==ht||!X9.includes($.key))return;$.preventDefault();const $e=I().filter(ze=>!ze.disabled).map(ze=>ze.ref.current);KA.includes($.key)&&$e.reverse(),v5($e)}),onBlur:ue(t.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(R.current),A.current="")}),onPointerMove:ue(t.onPointerMove,Yc($=>{const Y=$.target,ae=J.current!==$.clientX;if($.currentTarget.contains(Y)&&ae){const ge=$.clientX>J.current?"right":"left";k.current=ge,J.current=$.clientX}}))})})})})})})});YA.displayName=ur;var u5="MenuGroup",Z0=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return m.jsx(je.div,{role:"group",...r,ref:e})});Z0.displayName=u5;var c5="MenuLabel",XA=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return m.jsx(je.div,{...r,ref:e})});XA.displayName=c5;var pp="MenuItem",kS="menu.itemSelect",vm=y.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=y.useRef(null),o=jd(pp,t.__scopeMenu),a=X0(pp,t.__scopeMenu),l=wt(e,s),u=y.useRef(!1),d=()=>{const h=s.current;if(!n&&h){const f=new CustomEvent(kS,{bubbles:!0,cancelable:!0});h.addEventListener(kS,p=>r==null?void 0:r(p),{once:!0}),F0(h,f),f.defaultPrevented?u.current=!1:o.onClose()}};return m.jsx(JA,{...i,ref:l,disabled:n,onClick:ue(t.onClick,d),onPointerDown:h=>{var f;(f=t.onPointerDown)==null||f.call(t,h),u.current=!0},onPointerUp:ue(t.onPointerUp,h=>{var f;u.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:ue(t.onKeyDown,h=>{const f=a.searchRef.current!=="";n||f&&h.key===" "||Nv.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});vm.displayName=pp;var JA=y.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=X0(pp,n),a=GA(n),l=y.useRef(null),u=wt(e,l),[d,h]=y.useState(!1),[f,p]=y.useState("");return y.useEffect(()=>{const E=l.current;E&&p((E.textContent??"").trim())},[s.children]),m.jsx(Qc.ItemSlot,{scope:n,disabled:r,textValue:i??f,children:m.jsx(NA,{asChild:!0,...a,focusable:!r,children:m.jsx(je.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:u,onPointerMove:ue(t.onPointerMove,Yc(E=>{r?o.onItemLeave(E):(o.onItemEnter(E),E.defaultPrevented||E.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ue(t.onPointerLeave,Yc(E=>o.onItemLeave(E))),onFocus:ue(t.onFocus,()=>h(!0)),onBlur:ue(t.onBlur,()=>h(!1))})})})}),d5="MenuCheckboxItem",ZA=y.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return m.jsx(ik,{scope:t.__scopeMenu,checked:n,children:m.jsx(vm,{role:"menuitemcheckbox","aria-checked":mp(n)?"mixed":n,...i,ref:e,"data-state":t_(n),onSelect:ue(i.onSelect,()=>r==null?void 0:r(mp(n)?!0:!n),{checkForDefaultPrevented:!1})})})});ZA.displayName=d5;var ek="MenuRadioGroup",[h5,f5]=ca(ek,{value:void 0,onValueChange:()=>{}}),tk=y.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=Hn(r);return m.jsx(h5,{scope:t.__scopeMenu,value:n,onValueChange:s,children:m.jsx(Z0,{...i,ref:e})})});tk.displayName=ek;var nk="MenuRadioItem",rk=y.forwardRef((t,e)=>{const{value:n,...r}=t,i=f5(nk,t.__scopeMenu),s=n===i.value;return m.jsx(ik,{scope:t.__scopeMenu,checked:s,children:m.jsx(vm,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":t_(s),onSelect:ue(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});rk.displayName=nk;var e_="MenuItemIndicator",[ik,p5]=ca(e_,{checked:!1}),sk=y.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=p5(e_,n);return m.jsx(fm,{present:r||mp(s.checked)||s.checked===!0,children:m.jsx(je.span,{...i,ref:e,"data-state":t_(s.checked)})})});sk.displayName=e_;var m5="MenuSeparator",ok=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return m.jsx(je.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});ok.displayName=m5;var g5="MenuArrow",ak=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=ym(n);return m.jsx(bA,{...i,...r,ref:e})});ak.displayName=g5;var y5="MenuSub",[Dee,lk]=ca(y5),Yu="MenuSubTrigger",uk=y.forwardRef((t,e)=>{const n=iu(Yu,t.__scopeMenu),r=jd(Yu,t.__scopeMenu),i=lk(Yu,t.__scopeMenu),s=X0(Yu,t.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,u={__scopeMenu:t.__scopeMenu},d=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>d,[d]),y.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),m.jsx(Y0,{asChild:!0,...u,children:m.jsx(JA,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":hk(n.open),...t,ref:lm(e,i.onTriggerChange),onClick:h=>{var f;(f=t.onClick)==null||f.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ue(t.onPointerMove,Yc(h=>{s.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:ue(t.onPointerLeave,Yc(h=>{var p,E;d();const f=(p=n.content)==null?void 0:p.getBoundingClientRect();if(f){const v=(E=n.content)==null?void 0:E.dataset.side,T=v==="right",x=T?-5:5,_=f[T?"left":"right"],b=f[T?"right":"left"];s.onPointerGraceIntentChange({area:[{x:h.clientX+x,y:h.clientY},{x:_,y:f.top},{x:b,y:f.top},{x:b,y:f.bottom},{x:_,y:f.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(h),h.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:ue(t.onKeyDown,h=>{var p;const f=s.searchRef.current!=="";t.disabled||f&&h.key===" "||J9[r.dir].includes(h.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),h.preventDefault())})})})});uk.displayName=Yu;var ck="MenuSubContent",dk=y.forwardRef((t,e)=>{const n=QA(ur,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=iu(ur,t.__scopeMenu),o=jd(ur,t.__scopeMenu),a=lk(ck,t.__scopeMenu),l=y.useRef(null),u=wt(e,l);return m.jsx(Qc.Provider,{scope:t.__scopeMenu,children:m.jsx(fm,{present:r||s.open,children:m.jsx(Qc.Slot,{scope:t.__scopeMenu,children:m.jsx(J0,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ue(t.onFocusOutside,d=>{d.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:ue(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:ue(t.onKeyDown,d=>{var p;const h=d.currentTarget.contains(d.target),f=Z9[o.dir].includes(d.key);h&&f&&(s.onOpenChange(!1),(p=a.trigger)==null||p.focus(),d.preventDefault())})})})})})});dk.displayName=ck;function hk(t){return t?"open":"closed"}function mp(t){return t==="indeterminate"}function t_(t){return mp(t)?"indeterminate":t?"checked":"unchecked"}function v5(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function w5(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function _5(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=w5(t,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function E5(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,u=e[o].x,d=e[o].y;l>r!=d>r&&n<(u-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function x5(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return E5(n,e)}function Yc(t){return e=>e.pointerType==="mouse"?t(e):void 0}var T5=qA,S5=Y0,b5=YA,C5=Z0,R5=XA,I5=vm,P5=ZA,A5=tk,k5=rk,N5=sk,D5=ok,M5=ak,O5=uk,L5=dk,n_="DropdownMenu",[V5,Mee]=x$(n_,[HA]),Mn=HA(),[F5,fk]=V5(n_),pk=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,l=Mn(e),u=y.useRef(null),[d=!1,h]=Ld({prop:i,defaultProp:s,onChange:o});return m.jsx(F5,{scope:e,triggerId:Vs(),triggerRef:u,contentId:Vs(),open:d,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(f=>!f),[h]),modal:a,children:m.jsx(T5,{...l,open:d,onOpenChange:h,dir:r,modal:a,children:n})})};pk.displayName=n_;var mk="DropdownMenuTrigger",gk=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=fk(mk,n),o=Mn(n);return m.jsx(S5,{asChild:!0,...o,children:m.jsx(je.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:lm(e,s.triggerRef),onPointerDown:ue(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:ue(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});gk.displayName=mk;var yk="DropdownMenuContent",vk=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=fk(yk,n),s=Mn(n),o=y.useRef(!1);return m.jsx(b5,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:ue(t.onCloseAutoFocus,a=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:ue(t.onInteractOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});vk.displayName=yk;var j5="DropdownMenuGroup",U5=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Mn(n);return m.jsx(C5,{...i,...r,ref:e})});U5.displayName=j5;var B5="DropdownMenuLabel",$5=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Mn(n);return m.jsx(R5,{...i,...r,ref:e})});$5.displayName=B5;var z5="DropdownMenuItem",wk=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Mn(n);return m.jsx(I5,{...i,...r,ref:e})});wk.displayName=z5;var W5="DropdownMenuCheckboxItem",K5=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Mn(n);return m.jsx(P5,{...i,...r,ref:e})});K5.displayName=W5;var H5="DropdownMenuRadioGroup",G5=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Mn(n);return m.jsx(A5,{...i,...r,ref:e})});G5.displayName=H5;var q5="DropdownMenuRadioItem",Q5=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Mn(n);return m.jsx(k5,{...i,...r,ref:e})});Q5.displayName=q5;var Y5="DropdownMenuItemIndicator",X5=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Mn(n);return m.jsx(N5,{...i,...r,ref:e})});X5.displayName=Y5;var J5="DropdownMenuSeparator",Z5=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Mn(n);return m.jsx(D5,{...i,...r,ref:e})});Z5.displayName=J5;var e6="DropdownMenuArrow",t6=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Mn(n);return m.jsx(M5,{...i,...r,ref:e})});t6.displayName=e6;var n6="DropdownMenuSubTrigger",r6=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Mn(n);return m.jsx(O5,{...i,...r,ref:e})});r6.displayName=n6;var i6="DropdownMenuSubContent",s6=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Mn(n);return m.jsx(L5,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});s6.displayName=i6;const o6=({children:t,text:e})=>{const n=Nl(r=>r.logout);return m.jsxs("header",{className:"w-full flex flex-col items-center ",children:[m.jsxs("div",{className:"w-full px-8 h-14 flex items-center justify-between",children:[m.jsx("p",{children:e}),m.jsxs(pk,{children:[m.jsx(gk,{asChild:!0,children:m.jsx("div",{className:"hover:bg-slate-200 rounded-lg p-2 cursor-pointer",children:m.jsx(w$,{})})}),m.jsx(vk,{align:"end",className:"w-[8rem] border border-neutral-300 p-1 rounded-lg",children:m.jsx(wk,{className:"outline-none hover:bg-gray-200 px-2 py-1 rounded-md cursor-pointer",onSelect:()=>n(),children:"Logout"})})]})]}),t]})},a6=({Component:t})=>m.jsx("div",{className:"flex-1 flex justify-center =py-3",children:m.jsx(t,{})}),l6=({headerText:t})=>m.jsx("header",{className:"py-4 text-3xl font-semibold w-full",children:t}),u6=({message:t,setMessage:e,handleSubmit:n})=>{const r=i=>{e(i.target.value)};return m.jsxs("div",{className:"w-full h-[5rem] border-t border-t-customBorderColor flex items-center justify-between px-4 space-x-2",children:[m.jsx("input",{type:"text",value:t,placeholder:"Type message here",onChange:r,className:"bg-transparent outline-none md:flex-1"}),m.jsx("button",{onClick:()=>{n(t),e("")},children:m.jsx(g$,{})})]})},c6=({message:t})=>{const{text:e,sender:n}=t;return m.jsx("div",{className:`py-2 px-5 bg-customBorderColor w-fit rounded-tl-3xl rounded-tr-3xl  ${n==="user"?"ml-auto rounded-bl-3xl":"mr-auto rounded-br-3xl"}`,children:e})},_k=({items:t,renderItem:e,listStyle:n})=>m.jsx("div",{className:n,children:t==null?void 0:t.map((r,i)=>m.jsx(y.Fragment,{children:e(r)},i))}),Ek={siteName:"COB-CHATBOT",botName:"Viviane"};function NS(){return Date.now().toString()}const Yg="https://chatbot-api-0zup.onrender.com",r_=async(t,e)=>{const{method:n="GET",headers:r={},body:i}=e,{accessToken:s,setAccessToken:o,logout:a}=Nl.getState(),l={method:n,credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer ${s}`,...r},...i&&{body:JSON.stringify(i)}};try{let u=await fetch(`${Yg}${t}`,l);if(u.status===401){N0("Fetching new access token");const h=await fetch(`${Yg}/api/auth/refresh-token`,{method:"POST",credentials:"include"});h.status===404&&a();const{accessToken:f}=await h.json();o(f),l.headers={...l.headers,authorization:`Bearer ${f}`},u=await fetch(`${Yg}${t}`,l)}return await u.json()}catch(u){throw console.error("Request failed:",u),u}},xk=(t,e)=>r_(t,{method:"GET",headers:e}),Ud=(t,e,n)=>r_(t,{method:"POST",headers:e,body:n}),d6=(t,e,n)=>r_(t,{method:"PUT",headers:e,body:n}),h6=async t=>{const e={userQuery:t},{success:n,response:r}=await Ud("/api/chatbot/query-admin",{},e);if(!n)throw new Error(`Sending query to chatbot was unsuccessful: ${r}`);return r},f6=async()=>{const{success:t,response:e}=await Ud("/api/chatbot/train",{});if(!t)throw new Error(`Training model is unsuccessful: ${e}`)},p6=()=>{const[t,e]=y.useState([]),[n,r]=y.useState(""),i=y.useRef(null),s=()=>{var u;(u=i.current)==null||u.scrollIntoView({behavior:"smooth"})};y.useEffect(()=>{s()},[t]);const o=(u,d="bot")=>{const h={uuid:NS(),text:u,sender:d};e(f=>[...f,h])},a=(u,d)=>{const h={uuid:NS(),text:u,sender:d};e(f=>[...f,h])};return{messageHistory:t,handleSubmitMessage:async u=>{try{if(!u)throw new Error("Message is empty");a(u,"user");const d=await h6(u);a(d.answer||"Bot has no answer","bot")}catch(d){if(d instanceof Error){if(d.message==="Message is empty"){console.error(d.message);return}console.error(d.message),o("An error occured failed to send chat.")}console.error("Unknown error occured: ",d)}},message:n,setMessage:r,endOfMessagesRef:i}};function m6(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}function Xc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Dv=t=>Array.isArray(t);function Tk(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Jc(t){return typeof t=="string"||Array.isArray(t)}function DS(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function i_(t,e,n,r){if(typeof e=="function"){const[i,s]=DS(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=DS(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function wm(t,e,n){const r=t.getProps();return i_(r,e,n!==void 0?n:r.custom,t)}const s_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],o_=["initial",...s_],Bd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],io=new Set(Bd),bi=t=>t*1e3,Ci=t=>t/1e3,g6={type:"spring",stiffness:500,damping:25,restSpeed:10},y6=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),v6={type:"keyframes",duration:.8},w6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_6=(t,{keyframes:e})=>e.length>2?v6:io.has(t)?t.startsWith("scale")?y6(e[1]):g6:w6;function E6({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function a_(t,e){return t[e]||t.default||t}const x6={skipAnimations:!1,useManualTiming:!1},T6=t=>t!==null;function _m(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(T6),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const hn=t=>t;function S6(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){s.has(u)&&(l.schedule(u),t()),u(o)}const l={schedule:(u,d=!1,h=!1)=>{const p=h&&r?e:n;return d&&s.add(u),p.has(u)||p.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,r){i=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,i&&(i=!1,l.process(u))}};return l}const Bh=["read","resolveKeyframes","update","preRender","render","postRender"],b6=40;function Sk(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Bh.reduce((x,_)=>(x[_]=S6(s),x),{}),{read:a,resolveKeyframes:l,update:u,preRender:d,render:h,postRender:f}=o,p=()=>{const x=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(x-i.timestamp,b6),1),i.timestamp=x,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),d.process(i),h.process(i),f.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(p))},E=()=>{n=!0,r=!0,i.isProcessing||t(p)};return{schedule:Bh.reduce((x,_)=>{const b=o[_];return x[_]=(I,N=!1,F=!1)=>(n||E(),b.schedule(I,N,F)),x},{}),cancel:x=>{for(let _=0;_<Bh.length;_++)o[Bh[_]].cancel(x)},state:i,steps:o}}const{schedule:Ve,cancel:Ui,state:zt,steps:Xg}=Sk(typeof requestAnimationFrame<"u"?requestAnimationFrame:hn,!0),bk=t=>/^0[^.\s]+$/u.test(t);function C6(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||bk(t):!0}let Mv=hn;const Ck=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Rk=t=>e=>typeof e=="string"&&e.startsWith(t),Ik=Rk("--"),R6=Rk("var(--"),l_=t=>R6(t)?I6.test(t.split("/*")[0].trim()):!1,I6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,P6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function A6(t){const e=P6.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function Pk(t,e,n=1){const[r,i]=A6(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return Ck(o)?parseFloat(o):o}return l_(i)?Pk(i,e,n+1):i}const Gs=(t,e,n)=>n>e?e:n<t?t:n,su={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},mc={...su,transform:t=>Gs(0,1,t)},$h={...su,default:1},gc=t=>Math.round(t*1e5)/1e5,u_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,k6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,N6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function $d(t){return typeof t=="string"}function D6(t){return t==null}const zd=t=>({test:e=>$d(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),rs=zd("deg"),Xr=zd("%"),he=zd("px"),M6=zd("vh"),O6=zd("vw"),MS={...Xr,parse:t=>Xr.parse(t)/100,transform:t=>Xr.transform(t*100)},L6=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),OS=t=>t===su||t===he,LS=(t,e)=>parseFloat(t.split(", ")[e]),VS=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return LS(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?LS(s[1],t):0}},V6=new Set(["x","y","z"]),F6=Bd.filter(t=>!V6.has(t));function j6(t){const e=[];return F6.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ol={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:VS(4,13),y:VS(5,14)};Ol.translateX=Ol.x;Ol.translateY=Ol.y;const Ak=t=>e=>e.test(t),U6={test:t=>t==="auto",parse:t=>t},kk=[su,he,Xr,rs,O6,M6,U6],FS=t=>kk.find(Ak(t)),$o=new Set;let Ov=!1,Lv=!1;function Nk(){if(Lv){const t=Array.from($o).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=j6(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Lv=!1,Ov=!1,$o.forEach(t=>t.complete()),$o.clear()}function Dk(){$o.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Lv=!0)})}function B6(){Dk(),Nk()}class c_{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?($o.add(this),Ov||(Ov=!0,Ve.read(Dk),Ve.resolveKeyframes(Nk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),$o.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,$o.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const d_=(t,e)=>n=>!!($d(n)&&N6.test(n)&&n.startsWith(t)||e&&!D6(n)&&Object.prototype.hasOwnProperty.call(n,e)),Mk=(t,e,n)=>r=>{if(!$d(r))return r;const[i,s,o,a]=r.match(u_);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},$6=t=>Gs(0,255,t),Jg={...su,transform:t=>Math.round($6(t))},Ao={test:d_("rgb","red"),parse:Mk("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Jg.transform(t)+", "+Jg.transform(e)+", "+Jg.transform(n)+", "+gc(mc.transform(r))+")"};function z6(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Vv={test:d_("#"),parse:z6,transform:Ao.transform},Ka={test:d_("hsl","hue"),parse:Mk("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Xr.transform(gc(e))+", "+Xr.transform(gc(n))+", "+gc(mc.transform(r))+")"},on={test:t=>Ao.test(t)||Vv.test(t)||Ka.test(t),parse:t=>Ao.test(t)?Ao.parse(t):Ka.test(t)?Ka.parse(t):Vv.parse(t),transform:t=>$d(t)?t:t.hasOwnProperty("red")?Ao.transform(t):Ka.transform(t)};function W6(t){var e,n;return isNaN(t)&&$d(t)&&(((e=t.match(u_))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(k6))===null||n===void 0?void 0:n.length)||0)>0}const Ok="number",Lk="color",K6="var",H6="var(",jS="${}",G6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Zc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(G6,l=>(on.test(l)?(r.color.push(s),i.push(Lk),n.push(on.parse(l))):l.startsWith(H6)?(r.var.push(s),i.push(K6),n.push(l)):(r.number.push(s),i.push(Ok),n.push(parseFloat(l))),++s,jS)).split(jS);return{values:n,split:a,indexes:r,types:i}}function Vk(t){return Zc(t).values}function Fk(t){const{split:e,types:n}=Zc(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===Ok?s+=gc(i[o]):a===Lk?s+=on.transform(i[o]):s+=i[o]}return s}}const q6=t=>typeof t=="number"?0:t;function Q6(t){const e=Vk(t);return Fk(t)(e.map(q6))}const qs={test:W6,parse:Vk,createTransformer:Fk,getAnimatableNone:Q6},Y6=new Set(["brightness","contrast","saturate","opacity"]);function X6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(u_)||[];if(!r)return t;const i=n.replace(r,"");let s=Y6.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const J6=/\b([a-z-]*)\(.*?\)/gu,Fv={...qs,getAnimatableNone:t=>{const e=t.match(J6);return e?e.map(X6).join(" "):t}},US={...su,transform:Math.round},h_={borderWidth:he,borderTopWidth:he,borderRightWidth:he,borderBottomWidth:he,borderLeftWidth:he,borderRadius:he,radius:he,borderTopLeftRadius:he,borderTopRightRadius:he,borderBottomRightRadius:he,borderBottomLeftRadius:he,width:he,maxWidth:he,height:he,maxHeight:he,size:he,top:he,right:he,bottom:he,left:he,padding:he,paddingTop:he,paddingRight:he,paddingBottom:he,paddingLeft:he,margin:he,marginTop:he,marginRight:he,marginBottom:he,marginLeft:he,rotate:rs,rotateX:rs,rotateY:rs,rotateZ:rs,scale:$h,scaleX:$h,scaleY:$h,scaleZ:$h,skew:rs,skewX:rs,skewY:rs,distance:he,translateX:he,translateY:he,translateZ:he,x:he,y:he,z:he,perspective:he,transformPerspective:he,opacity:mc,originX:MS,originY:MS,originZ:he,zIndex:US,backgroundPositionX:he,backgroundPositionY:he,fillOpacity:mc,strokeOpacity:mc,numOctaves:US},Z6={...h_,color:on,backgroundColor:on,outlineColor:on,fill:on,stroke:on,borderColor:on,borderTopColor:on,borderRightColor:on,borderBottomColor:on,borderLeftColor:on,filter:Fv,WebkitFilter:Fv},f_=t=>Z6[t];function jk(t,e){let n=f_(t);return n!==Fv&&(n=qs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const eW=new Set(["auto","none","0"]);function tW(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!eW.has(s)&&Zc(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=jk(n,i)}class Uk extends c_{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),l_(u))){const d=Pk(u,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!L6.has(r)||e.length!==2)return;const[i,s]=e,o=FS(i),a=FS(s);if(o!==a)if(OS(o)&&OS(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)C6(e[i])&&r.push(i);r.length&&tW(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ol[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=Ol[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function Bk(t){let e;return()=>(e===void 0&&(e=t()),e)}let _f;function nW(){_f=void 0}const Jr={now:()=>(_f===void 0&&Jr.set(zt.isProcessing||x6.useManualTiming?zt.timestamp:performance.now()),_f),set:t=>{_f=t,queueMicrotask(nW)}},BS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(qs.test(t)||t==="0")&&!t.startsWith("url("));function rW(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function iW(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=BS(i,e),a=BS(s,e);return!o||!a?!1:rW(t)||n==="spring"&&r}const sW=40;class $k{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Jr.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>sW?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&B6(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Jr.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!iW(e,r,i,s))if(o)this.options.duration=0;else{l==null||l(_m(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function zk(t,e){return e?t*(1e3/e):0}const oW=5;function Wk(t,e,n){const r=Math.max(e-oW,0);return zk(n-t(r),e-r)}const Zg=.001,aW=.01,lW=10,uW=.05,cW=1;function dW({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=Gs(uW,cW,o),t=Gs(aW,lW,Ci(t)),o<1?(i=u=>{const d=u*o,h=d*t,f=d-n,p=jv(u,o),E=Math.exp(-h);return Zg-f/p*E},s=u=>{const h=u*o*t,f=h*n+n,p=Math.pow(o,2)*Math.pow(u,2)*t,E=Math.exp(-h),v=jv(Math.pow(u,2),o);return(-i(u)+Zg>0?-1:1)*((f-p)*E)/v}):(i=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-Zg+d*h},s=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const a=5/t,l=fW(i,s,a);if(t=bi(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const hW=12;function fW(t,e,n){let r=n;for(let i=1;i<hW;i++)r=r-t(r)/e(r);return r}function jv(t,e){return t*Math.sqrt(1-e*e)}const pW=["duration","bounce"],mW=["stiffness","damping","mass"];function $S(t,e){return e.some(n=>t[n]!==void 0)}function gW(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!$S(t,mW)&&$S(t,pW)){const n=dW(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function Kk({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=gW({...r,velocity:-Ci(r.velocity||0)}),p=h||0,E=l/(2*Math.sqrt(a*u)),v=s-i,T=Ci(Math.sqrt(a/u)),x=Math.abs(v)<5;n||(n=x?.01:2),e||(e=x?.005:.5);let _;if(E<1){const b=jv(T,E);_=I=>{const N=Math.exp(-E*T*I);return s-N*((p+E*T*v)/b*Math.sin(b*I)+v*Math.cos(b*I))}}else if(E===1)_=b=>s-Math.exp(-T*b)*(v+(p+T*v)*b);else{const b=T*Math.sqrt(E*E-1);_=I=>{const N=Math.exp(-E*T*I),F=Math.min(b*I,300);return s-N*((p+E*T*v)*Math.sinh(F)+b*v*Math.cosh(F))/b}}return{calculatedDuration:f&&d||null,next:b=>{const I=_(b);if(f)o.done=b>=d;else{let N=0;E<1&&(N=b===0?bi(p):Wk(_,b,I));const F=Math.abs(N)<=n,C=Math.abs(s-I)<=e;o.done=F&&C}return o.value=o.done?s:I,o}}}function zS({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},p=w=>a!==void 0&&w<a||l!==void 0&&w>l,E=w=>a===void 0?l:l===void 0||Math.abs(a-w)<Math.abs(l-w)?a:l;let v=n*e;const T=h+v,x=o===void 0?T:o(T);x!==T&&(v=x-h);const _=w=>-v*Math.exp(-w/r),b=w=>x+_(w),I=w=>{const R=_(w),A=b(w);f.done=Math.abs(R)<=u,f.value=f.done?x:A};let N,F;const C=w=>{p(f.value)&&(N=w,F=Kk({keyframes:[f.value,E(f.value)],velocity:Wk(b,w,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:w=>{let R=!1;return!F&&N===void 0&&(R=!0,I(w),C(w)),N!==void 0&&w>=N?F.next(w-N):(!R&&I(w),f)}}}const Hk=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,yW=1e-7,vW=12;function wW(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=Hk(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>yW&&++a<vW);return o}function Wd(t,e,n,r){if(t===e&&n===r)return hn;const i=s=>wW(s,0,1,t,n);return s=>s===0||s===1?s:Hk(i(s),e,r)}const _W=Wd(.42,0,1,1),EW=Wd(0,0,.58,1),Gk=Wd(.42,0,.58,1),xW=t=>Array.isArray(t)&&typeof t[0]!="number",qk=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Qk=t=>e=>1-t(1-e),p_=t=>1-Math.sin(Math.acos(t)),Yk=Qk(p_),TW=qk(p_),Xk=Wd(.33,1.53,.69,.99),m_=Qk(Xk),SW=qk(m_),bW=t=>(t*=2)<1?.5*m_(t):.5*(2-Math.pow(2,-10*(t-1))),WS={linear:hn,easeIn:_W,easeInOut:Gk,easeOut:EW,circIn:p_,circInOut:TW,circOut:Yk,backIn:m_,backInOut:SW,backOut:Xk,anticipate:bW},KS=t=>{if(Array.isArray(t)){Mv(t.length===4);const[e,n,r,i]=t;return Wd(e,n,r,i)}else if(typeof t=="string")return Mv(WS[t]!==void 0),WS[t];return t},CW=(t,e)=>n=>e(t(n)),Ri=(...t)=>t.reduce(CW),ed=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},at=(t,e,n)=>t+(e-t)*n;function ey(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function RW({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=ey(l,a,t+1/3),s=ey(l,a,t),o=ey(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function gp(t,e){return n=>n>0?e:t}const ty=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},IW=[Vv,Ao,Ka],PW=t=>IW.find(e=>e.test(t));function HS(t){const e=PW(t);if(!e)return!1;let n=e.parse(t);return e===Ka&&(n=RW(n)),n}const GS=(t,e)=>{const n=HS(t),r=HS(e);if(!n||!r)return gp(t,e);const i={...n};return s=>(i.red=ty(n.red,r.red,s),i.green=ty(n.green,r.green,s),i.blue=ty(n.blue,r.blue,s),i.alpha=at(n.alpha,r.alpha,s),Ao.transform(i))},Uv=new Set(["none","hidden"]);function AW(t,e){return Uv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function kW(t,e){return n=>at(t,e,n)}function g_(t){return typeof t=="number"?kW:typeof t=="string"?l_(t)?gp:on.test(t)?GS:MW:Array.isArray(t)?Jk:typeof t=="object"?on.test(t)?GS:NW:gp}function Jk(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>g_(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function NW(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=g_(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function DW(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const MW=(t,e)=>{const n=qs.createTransformer(e),r=Zc(t),i=Zc(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Uv.has(t)&&!i.values.length||Uv.has(e)&&!r.values.length?AW(t,e):Ri(Jk(DW(r,i),i.values),n):gp(t,e)};function Zk(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?at(t,e,n):g_(t)(t,e)}function OW(t,e,n){const r=[],i=n||Zk,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||hn:e;a=Ri(l,a)}r.push(a)}return r}function LW(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Mv(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=OW(e,r,i),a=o.length,l=u=>{let d=0;if(a>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=ed(t[d],t[d+1],u);return o[d](h)};return n?u=>l(Gs(t[0],t[s-1],u)):l}function VW(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=ed(0,e,r);t.push(at(n,1,i))}}function FW(t){const e=[0];return VW(e,t.length-1),e}function jW(t,e){return t.map(n=>n*e)}function UW(t,e){return t.map(()=>e||Gk).splice(0,t.length-1)}function yp({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=xW(r)?r.map(KS):KS(r),s={done:!1,value:e[0]},o=jW(n&&n.length===e.length?n:FW(e),t),a=LW(o,e,{ease:Array.isArray(i)?i:UW(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const qS=2e4;function BW(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<qS;)e+=n,r=t.next(e);return e>=qS?1/0:e}const $W=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ve.update(e,!0),stop:()=>Ui(e),now:()=>zt.isProcessing?zt.timestamp:Jr.now()}},zW={decay:zS,inertia:zS,tween:yp,keyframes:yp,spring:Kk},WW=t=>t/100;class y_ extends $k{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||c_,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=zW[n]||yp;let l,u;a!==yp&&typeof e[0]!="number"&&(l=Ri(WW,Zk(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});s==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=BW(d));const{calculatedDuration:h}=d,f=h+i,p=f*(r+1)-i;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:w}=this.options;return{done:!0,value:w[w.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return s.next(0);const{delay:f,repeat:p,repeatType:E,repeatDelay:v,onUpdate:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const x=this.currentTime-f*(this.speed>=0?1:-1),_=this.speed>=0?x<0:x>d;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let b=this.currentTime,I=s;if(p){const w=Math.min(this.currentTime,d)/h;let R=Math.floor(w),A=w%1;!A&&w>=1&&(A=1),A===1&&R--,R=Math.min(R,p+1),!!(R%2)&&(E==="reverse"?(A=1-A,v&&(A-=v/h)):E==="mirror"&&(I=o)),b=Gs(0,1,A)*h}const N=_?{done:!1,value:l[0]}:I.next(b);a&&(N.value=a(N.value));let{done:F}=N;!_&&u!==null&&(F=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return C&&i!==void 0&&(N.value=_m(l,this.options,i)),T&&T(N.value),C&&this.finish(),N}get duration(){const{resolved:e}=this;return e?Ci(e.calculatedDuration):0}get time(){return Ci(this.currentTime)}set time(e){e=bi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ci(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=$W,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const eN=new Set(["opacity","clipPath","filter","transform"]),tN=t=>Array.isArray(t)&&typeof t[0]=="number";function nN(t){return!!(!t||typeof t=="string"&&t in v_||tN(t)||Array.isArray(t)&&t.every(nN))}const Xu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,v_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xu([0,.65,.55,1]),circOut:Xu([.55,0,1,.45]),backIn:Xu([.31,.01,.66,-.59]),backOut:Xu([.33,1.53,.69,.99])};function KW(t){return rN(t)||v_.easeOut}function rN(t){if(t)return tN(t)?Xu(t):Array.isArray(t)?t.map(KW):v_[t]}function HW(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const d=rN(a);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const GW=Bk(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),vp=10,qW=2e4;function QW(t){return t.type==="spring"||!nN(t.ease)}function YW(t,e){const n=new y_({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<qW;)r=n.sample(s),i.push(r.value),s+=vp;return{times:void 0,keyframes:i,duration:s-vp,ease:"linear"}}class QS extends $k{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new Uk(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:u,startTime:d}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(QW(this.options)){const{onComplete:f,onUpdate:p,motionValue:E,element:v,...T}=this.options,x=YW(e,T);e=x.keyframes,e.length===1&&(e[1]=e[0]),i=x.duration,s=x.times,o=x.ease,a="keyframes"}const h=HW(l.owner.current,u,e,{...this.options,duration:i,times:s,ease:o});return h.startTime=d??this.calcStartTime(),this.pendingTimeline?(h.timeline=this.pendingTimeline,this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:f}=this.options;l.set(_m(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ci(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ci(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=bi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return hn;const{animation:r}=n;r.timeline=e,r.onfinish=null}return hn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...p}=this.options,E=new y_({...p,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),v=bi(this.time);u.setWithVelocity(E.sample(v-vp).value,E.sample(v).value,vp)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return GW()&&r&&eN.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}function XW(t,e){let n;const r=()=>{const{currentTime:i}=e,o=(i===null?0:i.value)/100;n!==o&&t(o),n=o};return Ve.update(r,!0),()=>Ui(r)}const JW=Bk(()=>window.ScrollTimeline!==void 0);class ZW{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>{if(JW()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),XW(i=>{r.time=r.duration*i},e)});return()=>{n.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const w_=(t,e,n,r={},i,s,o)=>a=>{const l=a_(r,t)||{},u=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-bi(u);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:p=>{e.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{a(),l.onComplete&&l.onComplete(),o&&o()},onStop:o,name:t,motionValue:e,element:s?void 0:i};E6(l)||(h={...h,..._6(t,h)}),h.duration&&(h.duration=bi(h.duration)),h.repeatDelay&&(h.repeatDelay=bi(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(f=!0)),f&&!s&&e.get()!==void 0){const p=_m(h.keyframes,l);if(p!==void 0)return Ve.update(()=>{h.onUpdate(p),h.onComplete()}),new ZW([])}return!s&&QS.supports(h)?new QS(h):new y_(h)},eK=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),tK=t=>Dv(t)?t[t.length-1]||0:t;function Em(t,e){t.indexOf(e)===-1&&t.push(e)}function xm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class __{constructor(){this.subscriptions=[]}add(e){return Em(this.subscriptions,e),()=>xm(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const YS=30,nK=t=>!isNaN(parseFloat(t));class iN{constructor(e,n={}){this.version="11.5.6",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Jr.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Jr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=nK(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new __);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ve.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Jr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>YS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,YS);return zk(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function td(t,e){return new iN(t,e)}function rK(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,td(n))}function iK(t,e){const n=wm(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=tK(s[o]);rK(t,o,a)}}const Tm=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),sK="framerAppearId",sN="data-"+Tm(sK);function oN(t){return t.props[sN]}function aN(t){if(io.has(t))return"transform";if(eN.has(t))return Tm(t)}class oK extends iN{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(e){const n=aN(e);if(!n)return;const r=this.counts.get(n)||0;this.counts.set(n,r+1),r===0&&(this.output.push(n),this.update());let i=!1;return()=>{if(i)return;i=!0;const s=this.counts.get(n)-1;this.counts.set(n,s),s===0&&(xm(this.output,n),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}const dn=t=>!!(t&&t.getVelocity);function aK(t){return!!(dn(t)&&t.add)}function Bv(t,e){var n;if(!t.applyWillChange)return;let r=t.getValue("willChange");if(!r&&!(!((n=t.props.style)===null||n===void 0)&&n.willChange)&&(r=new oK("auto"),t.addValue("willChange",r)),aK(r))return r.add(e)}function lK({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function lN(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in l){const f=t.getValue(h,(s=t.latestValues[h])!==null&&s!==void 0?s:null),p=l[h];if(p===void 0||d&&lK(d,h))continue;const E={delay:n,...a_(o||{},h)};let v=!1;if(window.MotionHandoffAnimation){const x=oN(t);if(x){const _=window.MotionHandoffAnimation(x,h,Ve);_!==null&&(E.startTime=_,v=!0)}}f.start(w_(h,f,p,t.shouldReduceMotion&&io.has(h)?{type:!1}:E,t,v,Bv(t,h)));const T=f.animation;T&&u.push(T)}return a&&Promise.all(u).then(()=>{Ve.update(()=>{a&&iK(t,a)})}),u}function $v(t,e,n={}){var r;const i=wm(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(lN(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return uK(t,e,d+u,h,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function uK(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(cK).forEach((u,d)=>{u.notify("AnimationStart",e),o.push($v(u,e,{...s,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function cK(t,e){return t.sortNodePosition(e)}function dK(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>$v(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=$v(t,e,n);else{const i=typeof e=="function"?wm(t,e,n.custom):e;r=Promise.all(lN(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const hK=o_.length;function uN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?uN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<hK;n++){const r=o_[n],i=t.props[r];(Jc(i)||i===!1)&&(e[r]=i)}return e}const fK=[...s_].reverse(),pK=s_.length;function mK(t){return e=>Promise.all(e.map(({animation:n,options:r})=>dK(t,n,r)))}function gK(t){let e=mK(t),n=XS(),r=!0;const i=l=>(u,d)=>{var h;const f=wm(t,d,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:E,...v}=f;u={...u,...v,...E}}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,d=uN(t.parent)||{},h=[],f=new Set;let p={},E=1/0;for(let T=0;T<pK;T++){const x=fK[T],_=n[x],b=u[x]!==void 0?u[x]:d[x],I=Jc(b),N=x===l?_.isActive:null;N===!1&&(E=T);let F=b===d[x]&&b!==u[x]&&I;if(F&&r&&t.manuallyAnimateOnMount&&(F=!1),_.protectedKeys={...p},!_.isActive&&N===null||!b&&!_.prevProp||Xc(b)||typeof b=="boolean")continue;const C=yK(_.prevProp,b);let w=C||x===l&&_.isActive&&!F&&I||T>E&&I,R=!1;const A=Array.isArray(b)?b:[b];let D=A.reduce(i(x),{});N===!1&&(D={});const{prevResolvedValues:M={}}=_,k={...M,...D},J=le=>{w=!0,f.has(le)&&(R=!0,f.delete(le)),_.needsAnimating[le]=!0;const z=t.getValue(le);z&&(z.liveStyle=!1)};for(const le in k){const z=D[le],$=M[le];if(p.hasOwnProperty(le))continue;let Y=!1;Dv(z)&&Dv($)?Y=!Tk(z,$):Y=z!==$,Y?z!=null?J(le):f.add(le):z!==void 0&&f.has(le)?J(le):_.protectedKeys[le]=!0}_.prevProp=b,_.prevResolvedValues=D,_.isActive&&(p={...p,...D}),r&&t.blockInitialAnimation&&(w=!1),w&&(!(F&&C)||R)&&h.push(...A.map(le=>({animation:le,options:{type:x}})))}if(f.size){const T={};f.forEach(x=>{const _=t.getBaseTarget(x),b=t.getValue(x);b&&(b.liveStyle=!0),T[x]=_??null}),h.push({animation:T})}let v=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(h):Promise.resolve()}function a(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(l,u)}),n[l].isActive=u;const h=o(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=XS(),r=!0}}}function yK(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Tk(e,t):!1}function wo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function XS(){return{animate:wo(!0),whileInView:wo(),whileHover:wo(),whileTap:wo(),whileDrag:wo(),whileFocus:wo(),exit:wo()}}class so{constructor(e){this.isMounted=!1,this.node=e}update(){}}class vK extends so{constructor(e){super(e),e.animationState||(e.animationState=gK(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Xc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let wK=0;class _K extends so{constructor(){super(...arguments),this.id=wK++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const EK={animation:{Feature:vK},exit:{Feature:_K}},cN=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Sm(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const xK=t=>e=>cN(e)&&t(e,Sm(e));function Ei(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ii(t,e,n,r){return Ei(t,e,xK(n),r)}const JS=(t,e)=>Math.abs(t-e);function TK(t,e){const n=JS(t.x,e.x),r=JS(t.y,e.y);return Math.sqrt(n**2+r**2)}class dN{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=ry(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=TK(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:E}=h,{timestamp:v}=zt;this.history.push({...E,timestamp:v});const{onStart:T,onMove:x}=this.handlers;f||(T&&T(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=ny(f,this.transformPagePoint),Ve.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:E,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=ry(h.type==="pointercancel"?this.lastMoveEventInfo:ny(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,T),E&&E(h,T)},!cN(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Sm(e),a=ny(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=zt;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,ry(a,this.history)),this.removeListeners=Ri(Ii(this.contextWindow,"pointermove",this.handlePointerMove),Ii(this.contextWindow,"pointerup",this.handlePointerUp),Ii(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ui(this.updatePoint)}}function ny(t,e){return e?{point:e(t.point)}:t}function ZS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ry({point:t},e){return{point:t,delta:ZS(t,hN(e)),offset:ZS(t,SK(e)),velocity:bK(e,.1)}}function SK(t){return t[0]}function hN(t){return t[t.length-1]}function bK(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=hN(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>bi(e)));)n--;if(!r)return{x:0,y:0};const s=Ci(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function fN(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const eb=fN("dragHorizontal"),tb=fN("dragVertical");function pN(t){let e=!1;if(t==="y")e=tb();else if(t==="x")e=eb();else{const n=eb(),r=tb();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function mN(){const t=pN(!0);return t?(t(),!1):!0}function Ha(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const gN=1e-4,CK=1-gN,RK=1+gN,yN=.01,IK=0-yN,PK=0+yN;function Gn(t){return t.max-t.min}function AK(t,e,n){return Math.abs(t-e)<=n}function nb(t,e,n,r=.5){t.origin=r,t.originPoint=at(e.min,e.max,t.origin),t.scale=Gn(n)/Gn(e),t.translate=at(n.min,n.max,t.origin)-t.originPoint,(t.scale>=CK&&t.scale<=RK||isNaN(t.scale))&&(t.scale=1),(t.translate>=IK&&t.translate<=PK||isNaN(t.translate))&&(t.translate=0)}function yc(t,e,n,r){nb(t.x,e.x,n.x,r?r.originX:void 0),nb(t.y,e.y,n.y,r?r.originY:void 0)}function rb(t,e,n){t.min=n.min+e.min,t.max=t.min+Gn(e)}function kK(t,e,n){rb(t.x,e.x,n.x),rb(t.y,e.y,n.y)}function ib(t,e,n){t.min=e.min-n.min,t.max=t.min+Gn(e)}function vc(t,e,n){ib(t.x,e.x,n.x),ib(t.y,e.y,n.y)}function NK(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?at(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?at(n,t,r.max):Math.min(t,n)),t}function sb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function DK(t,{top:e,left:n,bottom:r,right:i}){return{x:sb(t.x,n,i),y:sb(t.y,e,r)}}function ob(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function MK(t,e){return{x:ob(t.x,e.x),y:ob(t.y,e.y)}}function OK(t,e){let n=.5;const r=Gn(t),i=Gn(e);return i>r?n=ed(e.min,e.max-r,t.min):r>i&&(n=ed(t.min,t.max-i,e.min)),Gs(0,1,n)}function LK(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const zv=.35;function VK(t=zv){return t===!1?t=0:t===!0&&(t=zv),{x:ab(t,"left","right"),y:ab(t,"top","bottom")}}function ab(t,e,n){return{min:lb(t,e),max:lb(t,n)}}function lb(t,e){return typeof t=="number"?t:t[e]||0}const ub=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ga=()=>({x:ub(),y:ub()}),cb=()=>({min:0,max:0}),Tt=()=>({x:cb(),y:cb()});function tr(t){return[t("x"),t("y")]}function vN({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function FK({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function jK(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function iy(t){return t===void 0||t===1}function Wv({scale:t,scaleX:e,scaleY:n}){return!iy(t)||!iy(e)||!iy(n)}function To(t){return Wv(t)||wN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function wN(t){return db(t.x)||db(t.y)}function db(t){return t&&t!=="0%"}function wp(t,e,n){const r=t-n,i=e*r;return n+i}function hb(t,e,n,r,i){return i!==void 0&&(t=wp(t,i,r)),wp(t,n,r)+e}function Kv(t,e=0,n=1,r,i){t.min=hb(t.min,e,n,r,i),t.max=hb(t.max,e,n,r,i)}function _N(t,{x:e,y:n}){Kv(t.x,e.translate,e.scale,e.originPoint),Kv(t.y,n.translate,n.scale,n.originPoint)}const fb=.999999999999,pb=1.0000000000001;function UK(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Qa(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,_N(t,o)),r&&To(s.latestValues)&&Qa(t,s.latestValues))}e.x<pb&&e.x>fb&&(e.x=1),e.y<pb&&e.y>fb&&(e.y=1)}function qa(t,e){t.min=t.min+e,t.max=t.max+e}function mb(t,e,n,r,i=.5){const s=at(t.min,t.max,i);Kv(t,e,n,s,r)}function Qa(t,e){mb(t.x,e.x,e.scaleX,e.scale,e.originX),mb(t.y,e.y,e.scaleY,e.scale,e.originY)}function EN(t,e){return vN(jK(t.getBoundingClientRect(),e))}function BK(t,e,n){const r=EN(t,n),{scroll:i}=e;return i&&(qa(r.x,i.offset.x),qa(r.y,i.offset.y)),r}const xN=({current:t})=>t?t.ownerDocument.defaultView:null,$K=new WeakMap;class zK{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Sm(d,"page").point)},s=(d,h)=>{var f;const{drag:p,dragPropagation:E,onDragStart:v}=this.getProps();if(p&&!E&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=pN(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),tr(x=>{let _=this.getAxisMotionValue(x).get()||0;if(Xr.test(_)){const{projection:b}=this.visualElement;if(b&&b.layout){const I=b.layout.layoutBox[x];I&&(_=Gn(I)*(parseFloat(_)/100))}}this.originPoint[x]=_}),v&&Ve.postRender(()=>v(d,h)),(f=this.removeWillChange)===null||f===void 0||f.call(this),this.removeWillChange=Bv(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:E,onDrag:v}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:T}=h;if(p&&this.currentDirection===null){this.currentDirection=WK(T),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",h.point,T),this.updateAxis("y",h.point,T),this.visualElement.render(),v&&v(d,h)},a=(d,h)=>this.stop(d,h),l=()=>tr(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new dN(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:xN(this.visualElement)})}stop(e,n){var r;(r=this.removeWillChange)===null||r===void 0||r.call(this);const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Ve.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!zh(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=NK(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Ha(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=DK(i.layoutBox,n):this.constraints=!1,this.elastic=VK(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&tr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=LK(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ha(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=BK(r,i.root,this.visualElement.getTransformPagePoint());let o=MK(i.layout.layoutBox,s);if(n){const a=n(FK(o));this.hasMutatedConstraints=!!a,a&&(o=vN(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=tr(d=>{if(!zh(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=i?200:1e6,p=i?40:1e7,E={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,E)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(w_(e,r,0,n,this.visualElement,!1,Bv(this.visualElement,e)))}stopAnimation(){tr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){tr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){tr(n=>{const{drag:r}=this.getProps();if(!zh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-at(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ha(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};tr(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=OK({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),tr(o=>{if(!zh(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(at(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;$K.set(this.visualElement,this);const e=this.visualElement.current,n=Ii(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ha(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ve.read(r);const o=Ei(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(tr(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=zv,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function zh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function WK(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class KK extends so{constructor(e){super(e),this.removeGroupControls=hn,this.removeListeners=hn,this.controls=new zK(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||hn}unmount(){this.removeGroupControls(),this.removeListeners()}}const gb=t=>(e,n)=>{t&&Ve.postRender(()=>t(e,n))};class HK extends so{constructor(){super(...arguments),this.removePointerDownListener=hn}onPointerDown(e){this.session=new dN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:gb(e),onStart:gb(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ve.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Ii(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const bm=y.createContext(null);function GK(){const t=y.useContext(bm);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=y.useId();y.useEffect(()=>r(i),[]);const s=y.useCallback(()=>n&&n(i),[i,n]);return!e&&n?[!1,s]:[!0]}const E_=y.createContext({}),TN=y.createContext({}),Ef={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Uu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(he.test(t))t=parseFloat(t);else return t;const n=yb(t,e.target.x),r=yb(t,e.target.y);return`${n}% ${r}%`}},qK={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=qs.parse(t);if(i.length>5)return r;const s=qs.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=at(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}},_p={};function QK(t){Object.assign(_p,t)}const{schedule:x_,cancel:Oee}=Sk(queueMicrotask,!1);class YK extends y.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;QK(XK),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Ef.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ve.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),x_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function SN(t){const[e,n]=GK(),r=y.useContext(E_);return m.jsx(YK,{...t,layoutGroup:r,switchLayoutGroup:y.useContext(TN),isPresent:e,safeToRemove:n})}const XK={borderRadius:{...Uu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Uu,borderTopRightRadius:Uu,borderBottomLeftRadius:Uu,borderBottomRightRadius:Uu,boxShadow:qK},bN=["TopLeft","TopRight","BottomLeft","BottomRight"],JK=bN.length,vb=t=>typeof t=="string"?parseFloat(t):t,wb=t=>typeof t=="number"||he.test(t);function ZK(t,e,n,r,i,s){i?(t.opacity=at(0,n.opacity!==void 0?n.opacity:1,eH(r)),t.opacityExit=at(e.opacity!==void 0?e.opacity:1,0,tH(r))):s&&(t.opacity=at(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<JK;o++){const a=`border${bN[o]}Radius`;let l=_b(e,a),u=_b(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||wb(l)===wb(u)?(t[a]=Math.max(at(vb(l),vb(u),r),0),(Xr.test(u)||Xr.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=at(e.rotate||0,n.rotate||0,r))}function _b(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const eH=CN(0,.5,Yk),tH=CN(.5,.95,hn);function CN(t,e,n){return r=>r<t?0:r>e?1:n(ed(t,e,r))}function Eb(t,e){t.min=e.min,t.max=e.max}function er(t,e){Eb(t.x,e.x),Eb(t.y,e.y)}function xb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Tb(t,e,n,r,i){return t-=e,t=wp(t,1/n,r),i!==void 0&&(t=wp(t,1/i,r)),t}function nH(t,e=0,n=1,r=.5,i,s=t,o=t){if(Xr.test(e)&&(e=parseFloat(e),e=at(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=at(s.min,s.max,r);t===s&&(a-=e),t.min=Tb(t.min,e,n,a,i),t.max=Tb(t.max,e,n,a,i)}function Sb(t,e,[n,r,i],s,o){nH(t,e[n],e[r],e[i],e.scale,s,o)}const rH=["x","scaleX","originX"],iH=["y","scaleY","originY"];function bb(t,e,n,r){Sb(t.x,e,rH,n?n.x:void 0,r?r.x:void 0),Sb(t.y,e,iH,n?n.y:void 0,r?r.y:void 0)}function Cb(t){return t.translate===0&&t.scale===1}function RN(t){return Cb(t.x)&&Cb(t.y)}function Rb(t,e){return t.min===e.min&&t.max===e.max}function sH(t,e){return Rb(t.x,e.x)&&Rb(t.y,e.y)}function Ib(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function IN(t,e){return Ib(t.x,e.x)&&Ib(t.y,e.y)}function Pb(t){return Gn(t.x)/Gn(t.y)}function Ab(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class oH{constructor(){this.members=[]}add(e){Em(this.members,e),e.scheduleRender()}remove(e){if(xm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function aH(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:p,skewY:E}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),E&&(r+=`skewY(${E}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const lH=(t,e)=>t.depth-e.depth;class uH{constructor(){this.children=[],this.isDirty=!1}add(e){Em(this.children,e),this.isDirty=!0}remove(e){xm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(lH),this.isDirty=!1,this.children.forEach(e)}}function xf(t){const e=dn(t)?t.get():t;return eK(e)?e.toValue():e}function cH(t,e){const n=Jr.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Ui(r),t(s-e))};return Ve.read(r,!0),()=>Ui(r)}function dH(t){return t instanceof SVGElement&&t.tagName!=="svg"}function hH(t,e,n){const r=dn(t)?t:td(t);return r.start(w_("",r,e,n)),r.animation}const So={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ju=typeof window<"u"&&window.MotionDebug!==void 0,sy=["","X","Y","Z"],fH={visibility:"hidden"},kb=1e3;let pH=0;function oy(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function PN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=oN(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ve,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&PN(r)}function AN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=pH++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ju&&(So.totalNodes=So.resolvedTargetDeltas=So.recalculatedProjection=0),this.nodes.forEach(yH),this.nodes.forEach(xH),this.nodes.forEach(TH),this.nodes.forEach(vH),Ju&&window.MotionDebug.record(So)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new uH)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new __),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=dH(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=cH(f,250),Ef.hasAnimatedSinceResize&&(Ef.hasAnimatedSinceResize=!1,this.nodes.forEach(Db))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||IH,{onLayoutAnimationStart:T,onLayoutAnimationComplete:x}=d.getProps(),_=!this.targetLayout||!IN(this.targetLayout,E)||p,b=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||f&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const I={...a_(v,"layout"),onPlay:T,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I)}else f||Db(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ui(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(SH),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&PN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Nb);return}this.isUpdating||this.nodes.forEach(_H),this.isUpdating=!1,this.nodes.forEach(EH),this.nodes.forEach(mH),this.nodes.forEach(gH),this.clearAllSnapshots();const a=Jr.now();zt.delta=Gs(0,1e3/60,a-zt.timestamp),zt.timestamp=a,zt.isProcessing=!0,Xg.update.process(zt),Xg.preRender.process(zt),Xg.render.process(zt),zt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,x_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(wH),this.sharedNodes.forEach(bH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ve.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ve.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!RN(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||To(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),PH(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Tt();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(AH))){const{scroll:d}=this.root;d&&(qa(l.x,d.offset.x),qa(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=Tt();if(er(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&er(l,o),qa(l.x,h.offset.x),qa(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=Tt();er(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Qa(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),To(d.latestValues)&&Qa(l,d.latestValues)}return To(this.latestValues)&&Qa(l,this.latestValues),l}removeTransform(o){const a=Tt();er(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!To(u.latestValues))continue;Wv(u.latestValues)&&u.updateSnapshot();const d=Tt(),h=u.measurePageBox();er(d,h),bb(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return To(this.latestValues)&&bb(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=zt.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),vc(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),er(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Tt(),this.targetWithTransforms=Tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kK(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):er(this.target,this.layout.layoutBox),_N(this.target,this.targetDelta)):er(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),vc(this.relativeTargetOrigin,this.target,p.target),er(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ju&&So.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Wv(this.parent.latestValues)||wN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===zt.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;er(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;UK(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Tt());const{target:E}=a;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(xb(this.prevProjectionDelta.x,this.projectionDelta.x),xb(this.prevProjectionDelta.y,this.projectionDelta.y)),yc(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!Ab(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ab(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E)),Ju&&So.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ga(),this.projectionDelta=Ga(),this.projectionDeltaWithTransform=Ga()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=Ga();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Tt(),p=l?l.source:void 0,E=this.layout?this.layout.source:void 0,v=p!==E,T=this.getStack(),x=!T||T.members.length<=1,_=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(RH));this.animationProgress=0;let b;this.mixTargetDelta=I=>{const N=I/1e3;Mb(h.x,o.x,N),Mb(h.y,o.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vc(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),CH(this.relativeTarget,this.relativeTargetOrigin,f,N),b&&sH(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Tt()),er(b,this.relativeTarget)),v&&(this.animationValues=d,ZK(d,u,this.latestValues,N,_,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ui(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ve.update(()=>{Ef.hasAnimatedSinceResize=!0,this.currentAnimation=hH(0,kb,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&kN(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Tt();const h=Gn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Gn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}er(a,l),Qa(a,d),yc(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new oH),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&oy("z",o,u,this.animationValues);for(let d=0;d<sy.length;d++)oy(`rotate${sy[d]}`,o,u,this.animationValues),oy(`skew${sy[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return fH;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=xf(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=xf(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!To(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=aH(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:p,y:E}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${E.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in _p){if(f[v]===void 0)continue;const{correct:T,applyTo:x}=_p[v],_=u.transform==="none"?f[v]:T(f[v],h);if(x){const b=x.length;for(let I=0;I<b;I++)u[x[I]]=_}else u[v]=_}return this.options.layoutId&&(u.pointerEvents=h===this?xf(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Nb),this.root.sharedNodes.clear()}}}function mH(t){t.updateLayout()}function gH(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?tr(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=Gn(f);f.min=r[h].min,f.max=f.min+p}):kN(s,n.layoutBox,r)&&tr(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=Gn(r[h]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const a=Ga();yc(a,r,n.layoutBox);const l=Ga();o?yc(l,t.applyTransform(i,!0),n.measuredBox):yc(l,r,n.layoutBox);const u=!RN(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const E=Tt();vc(E,n.layoutBox,f.layoutBox);const v=Tt();vc(v,r,p.layoutBox),IN(E,v)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=E,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function yH(t){Ju&&So.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function vH(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function wH(t){t.clearSnapshot()}function Nb(t){t.clearMeasurements()}function _H(t){t.isLayoutDirty=!1}function EH(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Db(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function xH(t){t.resolveTargetDelta()}function TH(t){t.calcProjection()}function SH(t){t.resetSkewAndRotation()}function bH(t){t.removeLeadSnapshot()}function Mb(t,e,n){t.translate=at(e.translate,0,n),t.scale=at(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Ob(t,e,n,r){t.min=at(e.min,n.min,r),t.max=at(e.max,n.max,r)}function CH(t,e,n,r){Ob(t.x,e.x,n.x,r),Ob(t.y,e.y,n.y,r)}function RH(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const IH={duration:.45,ease:[.4,0,.1,1]},Lb=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Vb=Lb("applewebkit/")&&!Lb("chrome/")?Math.round:hn;function Fb(t){t.min=Vb(t.min),t.max=Vb(t.max)}function PH(t){Fb(t.x),Fb(t.y)}function kN(t,e,n){return t==="position"||t==="preserve-aspect"&&!AK(Pb(e),Pb(n),.2)}function AH(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const kH=AN({attachResizeListener:(t,e)=>Ei(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ay={current:void 0},NN=AN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ay.current){const t=new kH({});t.mount(window),t.setOptions({layoutScroll:!0}),ay.current=t}return ay.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),NH={pan:{Feature:HK},drag:{Feature:KK,ProjectionNode:NN,MeasureLayout:SN}};function jb(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,o)=>{if(s.pointerType==="touch"||mN())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&Ve.postRender(()=>l(s,o))};return Ii(t.current,n,i,{passive:!t.getProps()[r]})}class DH extends so{mount(){this.unmount=Ri(jb(this.node,!0),jb(this.node,!1))}unmount(){}}class MH extends so{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ri(Ei(this.node.current,"focus",()=>this.onFocus()),Ei(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const DN=(t,e)=>e?t===e?!0:DN(t,e.parentElement):!1;function ly(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Sm(n))}class OH extends so{constructor(){super(...arguments),this.removeStartListeners=hn,this.removeEndListeners=hn,this.removeAccessibleListeners=hn,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Ii(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps(),f=!h&&!DN(this.node.current,a.target)?d:u;f&&Ve.update(()=>f(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=Ii(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Ri(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||ly("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&Ve.postRender(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=Ei(this.node.current,"keyup",o),ly("down",(a,l)=>{this.startPress(a,l)})},n=Ei(this.node.current,"keydown",e),r=()=>{this.isPressing&&ly("cancel",(s,o)=>this.cancelPress(s,o))},i=Ei(this.node.current,"blur",r);this.removeAccessibleListeners=Ri(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ve.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!mN()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ve.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Ii(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Ei(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ri(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Hv=new WeakMap,uy=new WeakMap,LH=t=>{const e=Hv.get(t.target);e&&e(t)},VH=t=>{t.forEach(LH)};function FH({root:t,...e}){const n=t||document;uy.has(n)||uy.set(n,{});const r=uy.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(VH,{root:t,...e})),r[i]}function jH(t,e,n){const r=FH(e);return Hv.set(t,n),r.observe(t),()=>{Hv.delete(t),r.unobserve(t)}}const UH={some:0,all:1};class BH extends so{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:UH[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(l)};return jH(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some($H(e,n))&&this.startObserver()}unmount(){}}function $H({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const zH={inView:{Feature:BH},tap:{Feature:OH},focus:{Feature:MH},hover:{Feature:DH}},WH={layout:{ProjectionNode:NN,MeasureLayout:SN}},T_=y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Cm=y.createContext({}),S_=typeof window<"u",MN=S_?y.useLayoutEffect:y.useEffect,ON=y.createContext({strict:!1});let Ub=!1;function KH(t,e,n,r,i){var s;const{visualElement:o}=y.useContext(Cm),a=y.useContext(ON),l=y.useContext(bm),u=y.useContext(T_).reducedMotion,d=y.useRef();r=r||a.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const h=d.current,f=y.useContext(TN);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&GH(d.current,n,i,f),y.useInsertionEffect(()=>{h&&h.update(n,l)});const p=n[sN],E=y.useRef(!!p&&!window.MotionHandoffIsComplete&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,p)));return MN(()=>{h&&(h.updateFeatures(),x_.render(h.render),E.current&&h.animationState&&h.animationState.animateChanges())}),y.useEffect(()=>{h&&(!E.current&&h.animationState&&h.animationState.animateChanges(),E.current=!1,Ub||(Ub=!0,queueMicrotask(HH)))}),h}function HH(){window.MotionHandoffIsComplete=!0}function GH(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:LN(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Ha(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function LN(t){if(t)return t.options.allowProjection!==!1?t.projection:LN(t.parent)}function qH(t,e,n){return y.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ha(n)&&(n.current=r))},[e])}function Rm(t){return Xc(t.animate)||o_.some(e=>Jc(t[e]))}function VN(t){return!!(Rm(t)||t.variants)}function QH(t,e){if(Rm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Jc(n)?n:void 0,animate:Jc(r)?r:void 0}}return t.inherit!==!1?e:{}}function YH(t){const{initial:e,animate:n}=QH(t,y.useContext(Cm));return y.useMemo(()=>({initial:e,animate:n}),[Bb(e),Bb(n)])}function Bb(t){return Array.isArray(t)?t.join(" "):t}const $b={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ll={};for(const t in $b)Ll[t]={isEnabled:e=>$b[t].some(n=>!!e[n])};function XH(t){for(const e in t)Ll[e]={...Ll[e],...t[e]}}const JH=Symbol.for("motionComponentSymbol");function ZH({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&XH(t);function s(a,l){let u;const d={...y.useContext(T_),...a,layoutId:e8(a)},{isStatic:h}=d,f=YH(a),p=r(a,h);if(!h&&S_){t8();const E=n8(d);u=E.MeasureLayout,f.visualElement=KH(i,p,d,e,E.ProjectionNode)}return m.jsxs(Cm.Provider,{value:f,children:[u&&f.visualElement?m.jsx(u,{visualElement:f.visualElement,...d}):null,n(i,a,qH(p,f.visualElement,l),p,h,f.visualElement)]})}const o=y.forwardRef(s);return o[JH]=i,o}function e8({layoutId:t}){const e=y.useContext(E_).id;return e&&t!==void 0?e+"-"+t:t}function t8(t,e){y.useContext(ON).strict}function n8(t){const{drag:e,layout:n}=Ll;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const r8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function b_(t){return typeof t!="string"||t.includes("-")?!1:!!(r8.indexOf(t)>-1||/[A-Z]/u.test(t))}function FN(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const jN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function UN(t,e,n,r){FN(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(jN.has(i)?i:Tm(i),e.attrs[i])}function BN(t,{layout:e,layoutId:n}){return io.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!_p[t]||t==="opacity")}function C_(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(dn(i[o])||e.style&&dn(e.style[o])||BN(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return n&&i&&typeof i.willChange=="string"&&(n.applyWillChange=!1),s}function $N(t,e,n){const r=C_(t,e,n);for(const i in t)if(dn(t[i])||dn(e[i])){const s=Bd.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function R_(t){const e=y.useRef(null);return e.current===null&&(e.current=t()),e.current}function i8({applyWillChange:t=!1,scrapeMotionValuesFromProps:e,createRenderState:n,onMount:r},i,s,o,a){const l={latestValues:o8(i,s,o,a?!1:t,e),renderState:n()};return r&&(l.mount=u=>r(i,u,l)),l}const zN=t=>(e,n)=>{const r=y.useContext(Cm),i=y.useContext(bm),s=()=>i8(t,e,r,i,n);return n?s():R_(s)};function s8(t,e){const n=aN(e);n&&Em(t,n)}function zb(t,e,n){const r=Array.isArray(e)?e:[e];for(let i=0;i<r.length;i++){const s=i_(t,r[i]);if(s){const{transitionEnd:o,transition:a,...l}=s;n(l,o)}}}function o8(t,e,n,r,i){var s;const o={},a=[],l=r&&((s=t.style)===null||s===void 0?void 0:s.willChange)===void 0,u=i(t,{});for(const T in u)o[T]=xf(u[T]);let{initial:d,animate:h}=t;const f=Rm(t),p=VN(t);e&&p&&!f&&t.inherit!==!1&&(d===void 0&&(d=e.initial),h===void 0&&(h=e.animate));let E=n?n.initial===!1:!1;E=E||d===!1;const v=E?h:d;return v&&typeof v!="boolean"&&!Xc(v)&&zb(t,v,(T,x)=>{for(const _ in T){let b=T[_];if(Array.isArray(b)){const I=E?b.length-1:0;b=b[I]}b!==null&&(o[_]=b)}for(const _ in x)o[_]=x[_]}),l&&(h&&d!==!1&&!Xc(h)&&zb(t,h,T=>{for(const x in T)s8(a,x)}),a.length&&(o.willChange=a.join(","))),o}const I_=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),WN=()=>({...I_(),attrs:{}}),KN=(t,e)=>e&&typeof t=="number"?e.transform(t):t,a8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},l8=Bd.length;function u8(t,e,n){let r="",i=!0;for(let s=0;s<l8;s++){const o=Bd[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=KN(a,h_[o]);if(!l){i=!1;const d=a8[o]||o;r+=`${d}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function P_(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(io.has(l)){o=!0;continue}else if(Ik(l)){i[l]=u;continue}else{const d=KN(u,h_[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=u8(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${u} ${d}`}}function Wb(t,e,n){return typeof t=="string"?t:he.transform(e+n*t)}function c8(t,e,n){const r=Wb(e,t.x,t.width),i=Wb(n,t.y,t.height);return`${r} ${i}`}const d8={offset:"stroke-dashoffset",array:"stroke-dasharray"},h8={offset:"strokeDashoffset",array:"strokeDasharray"};function f8(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?d8:h8;t[s.offset]=he.transform(-r);const o=he.transform(e),a=he.transform(n);t[s.array]=`${o} ${a}`}function A_(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},d,h){if(P_(t,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p,dimensions:E}=t;f.transform&&(E&&(p.transform=f.transform),delete f.transform),E&&(i!==void 0||s!==void 0||p.transform)&&(p.transformOrigin=c8(E,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&f8(f,o,a,l,!1)}const k_=t=>typeof t=="string"&&t.toLowerCase()==="svg",p8={useVisualState:zN({scrapeMotionValuesFromProps:$N,createRenderState:WN,onMount:(t,e,{renderState:n,latestValues:r})=>{Ve.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ve.render(()=>{A_(n,r,k_(e.tagName),t.transformTemplate),UN(e,n)})}})},m8={useVisualState:zN({applyWillChange:!0,scrapeMotionValuesFromProps:C_,createRenderState:I_})};function HN(t,e,n){for(const r in e)!dn(e[r])&&!BN(r,n)&&(t[r]=e[r])}function g8({transformTemplate:t},e){return y.useMemo(()=>{const n=I_();return P_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function y8(t,e){const n=t.style||{},r={};return HN(r,n,t),Object.assign(r,g8(t,e)),r}function v8(t,e){const n={},r=y8(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const w8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ep(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||w8.has(t)}let GN=t=>!Ep(t);function _8(t){t&&(GN=e=>e.startsWith("on")?!Ep(e):t(e))}try{_8(require("@emotion/is-prop-valid").default)}catch{}function E8(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(GN(i)||n===!0&&Ep(i)||!e&&!Ep(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function x8(t,e,n,r){const i=y.useMemo(()=>{const s=WN();return A_(s,e,k_(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};HN(s,t.style,t),i.style={...s,...i.style}}return i}function T8(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(b_(n)?x8:v8)(r,s,o,n),u=E8(r,typeof n=="string",t),d=n!==y.Fragment?{...u,...l,ref:i}:{},{children:h}=r,f=y.useMemo(()=>dn(h)?h.get():h,[h]);return y.createElement(n,{...d,children:f})}}function S8(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...b_(r)?p8:m8,preloadedFeatures:t,useRender:T8(i),createVisualElement:e,Component:r};return ZH(o)}}const Gv={current:null},qN={current:!1};function b8(){if(qN.current=!0,!!S_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Gv.current=t.matches;t.addListener(e),e()}else Gv.current=!1}function C8(t,e,n){for(const r in e){const i=e[r],s=n[r];if(dn(i))t.addValue(r,i);else if(dn(s))t.addValue(r,td(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,td(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Kb=new WeakMap,R8=[...kk,on,qs],I8=t=>R8.find(Ak(t)),Hb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class P8{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=c_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Jr.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Ve.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Rm(n),this.isVariantNode=VN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const p=h[f];l[f]!==void 0&&dn(p)&&p.set(l[f],!1)}}mount(e){this.current=e,Kb.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),qN.current||b8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Gv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Kb.delete(this.current),this.projection&&this.projection.unmount(),Ui(this.notifyUpdate),Ui(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=io.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Ve.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ll){const n=Ll[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Hb.length;r++){const i=Hb[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=C8(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=td(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Ck(i)||bk(i))?i=parseFloat(i):!I8(i)&&qs.test(n)&&(i=jk(e,n)),this.setBaseTarget(e,dn(i)?i.get():i)),dn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=i_(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!dn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new __),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class QN extends P8{constructor(){super(...arguments),this.KeyframeResolver=Uk}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function A8(t){return window.getComputedStyle(t)}class k8 extends QN{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=FN}readValueFromInstance(e,n){if(io.has(n)){const r=f_(n);return r&&r.default||0}else{const r=A8(e),i=(Ik(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return EN(e,n)}build(e,n,r){P_(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return C_(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;dn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class N8 extends QN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(io.has(n)){const r=f_(n);return r&&r.default||0}return n=jN.has(n)?n:Tm(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return $N(e,n,r)}build(e,n,r){A_(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){UN(e,n,r,i)}mount(e){this.isSVGTag=k_(e.tagName),super.mount(e)}}const D8=(t,e)=>b_(t)?new N8(e):new k8(e,{allowProjection:t!==y.Fragment}),M8=S8({...EK,...zH,...NH,...WH},D8),O8=m6(M8);class L8 extends y.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function V8({children:t,isPresent:e}){const n=y.useId(),r=y.useRef(null),i=y.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=y.useContext(T_);return y.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return s&&(d.nonce=s),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),m.jsx(L8,{isPresent:e,childRef:r,sizeRef:i,children:y.cloneElement(t,{ref:r})})}const F8=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=R_(j8),l=y.useId(),u=y.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:d=>{a.set(d,!0);for(const h of a.values())if(!h)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),s?[Math.random()]:[n]);return y.useMemo(()=>{a.forEach((d,h)=>a.set(h,!1))},[n]),y.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=m.jsx(V8,{isPresent:n,children:t})),m.jsx(bm.Provider,{value:u,children:t})};function j8(){return new Map}const Wh=t=>t.key||"";function Gb(t){const e=[];return y.Children.forEach(t,n=>{y.isValidElement(n)&&e.push(n)}),e}const U8=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=y.useMemo(()=>Gb(t),[t]),l=a.map(Wh),u=y.useRef(!0),d=y.useRef(a),h=R_(()=>new Map),[f,p]=y.useState(a),[E,v]=y.useState(a);MN(()=>{u.current=!1,d.current=a;for(let _=0;_<E.length;_++){const b=Wh(E[_]);l.includes(b)?h.delete(b):h.get(b)!==!0&&h.set(b,!1)}},[E,l.length,l.join("-")]);const T=[];if(a!==f){let _=[...a];for(let b=0;b<E.length;b++){const I=E[b],N=Wh(I);l.includes(N)||(_.splice(b,0,I),T.push(I))}o==="wait"&&T.length&&(_=T),v(Gb(_)),p(a);return}const{forceRender:x}=y.useContext(E_);return m.jsx(m.Fragment,{children:E.map(_=>{const b=Wh(_),I=a===E||l.includes(b),N=()=>{if(h.has(b))h.set(b,!0);else return;let F=!0;h.forEach(C=>{C||(F=!1)}),F&&(x==null||x(),v(d.current),i&&i())};return m.jsx(F8,{isPresent:I,initial:!u.current||r?void 0:!1,custom:I?void 0:n,presenceAffectsLayout:s,mode:o,onExitComplete:I?void 0:N,children:_},b)})})},B8=()=>{const{messageHistory:t,handleSubmitMessage:e,message:n,setMessage:r,endOfMessagesRef:i}=p6();return m.jsxs("div",{className:"h-[40rem] w-[29rem] flex flex-col  border border-customBorderColor rounded-md",children:[m.jsx("header",{className:"h-[3rem] flex items-center justify-start px-4 border-b border-customBorderColor bg-lightGray-darker",children:Ek.botName}),m.jsxs("section",{className:"h-[32rem] scrollbar-slim overflow-y-auto py-4",children:[m.jsx(U8,{children:m.jsx(_k,{items:t,renderItem:s=>m.jsx(O8.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`mb-4 ${s.sender==="admin"?"text-right":"text-left"}`,children:m.jsx(c6,{message:s})},s.id),listStyle:"px-4 flex flex-col space-y-4"})}),m.jsx("div",{ref:i})]}),m.jsx(u6,{message:n,setMessage:r,handleSubmit:e})]})},$8=()=>m.jsxs("div",{className:"flex items-center flex-col w-[84rem] px-20 space-y-6",children:[m.jsx(l6,{headerText:"Chatbot"}),m.jsx(B8,{})]}),z8=()=>m.jsx("header",{className:"py-4 text-3xl font-semibold w-full",children:"Knowledge"}),W8=[{name:"Base",value:10},{name:"Entry",value:10},{name:"Size",value:"239 Kb"}],K8=()=>m.jsxs("div",{className:"border border-neutral-200 bg-white h-[10rem] w-[25rem] rounded-lg shadow-sm p-6",children:[m.jsxs("header",{className:"flex items-center space-x-2 mb-4",children:[m.jsx("div",{className:"border border-neutral-200 w-fit p-[0.4rem] rounded-md shadow-sm",children:m.jsx(h$,{className:"text-[#576476] size-5"})}),m.jsx("p",{className:"text-[#334155] text-sm font-medium",children:"Knowledge Collection"})]}),m.jsx("section",{className:"w-full flex space-x-10",children:W8.map((t,e)=>m.jsxs("div",{className:"p-2",children:[m.jsx("header",{className:"text-sm",children:t.name}),m.jsx("p",{className:"text-xl",children:t.value})]},t.name))})]}),H8=()=>m.jsx("article",{className:"w-full flex space-x-6 pb-8",children:m.jsx(K8,{})});function G8(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var ou=t=>{const{present:e,children:n}=t,r=q8(e),i=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),s=wt(r.ref,Q8(i));return typeof n=="function"||r.isPresent?y.cloneElement(i,{ref:s}):null};ou.displayName="Presence";function q8(t){const[e,n]=y.useState(),r=y.useRef({}),i=y.useRef(t),s=y.useRef("none"),o=t?"mounted":"unmounted",[a,l]=G8(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=Kh(r.current);s.current=a==="mounted"?u:"none"},[a]),Vi(()=>{const u=r.current,d=i.current;if(d!==t){const f=s.current,p=Kh(u);t?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Vi(()=>{if(e){const u=h=>{const p=Kh(r.current).includes(h.animationName);h.target===e&&p&&Ql.flushSync(()=>l("ANIMATION_END"))},d=h=>{h.target===e&&(s.current=Kh(r.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",u),e.addEventListener("animationend",u),()=>{e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",u),e.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Kh(t){return(t==null?void 0:t.animationName)||"none"}function Q8(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var N_="Tabs",[Y8,Vee]=tu(N_,[mm]),YN=mm(),[X8,D_]=Y8(N_),XN=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=t,d=j0(a),[h,f]=Ld({prop:r,onChange:i,defaultProp:s});return m.jsx(X8,{scope:n,baseId:Vs(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:l,children:m.jsx(je.div,{dir:d,"data-orientation":o,...u,ref:e})})});XN.displayName=N_;var JN="TabsList",ZN=y.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=D_(JN,n),o=YN(n);return m.jsx(kA,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:m.jsx(je.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});ZN.displayName=JN;var eD="TabsTrigger",tD=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=D_(eD,n),a=YN(n),l=rD(o.baseId,r),u=iD(o.baseId,r),d=r===o.value;return m.jsx(NA,{asChild:!0,...a,focusable:!i,active:d,children:m.jsx(je.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:ue(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:ue(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:ue(t.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!i&&h&&o.onValueChange(r)})})})});tD.displayName=eD;var nD="TabsContent",Im=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,a=D_(nD,n),l=rD(a.baseId,r),u=iD(a.baseId,r),d=r===a.value,h=y.useRef(d);return y.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),m.jsx(ou,{present:i||d,children:({present:f})=>m.jsx(je.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&s})})});Im.displayName=nD;function rD(t,e){return`${t}-trigger-${e}`}function iD(t,e){return`${t}-content-${e}`}var J8=XN,sD=ZN,oD=tD,aD=Im;function lD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=lD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Z8(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=lD(t))&&(r&&(r+=" "),r+=e);return r}const M_="-",e7=t=>{const e=n7(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(M_);return a[0]===""&&a.length!==1&&a.shift(),uD(a,e)||t7(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},uD=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?uD(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(M_);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},qb=/^\[(.+)\]$/,t7=t=>{if(qb.test(t)){const e=qb.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},n7=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return i7(Object.entries(t.classGroups),n).forEach(([s,o])=>{qv(o,r,s,e)}),r},qv=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:Qb(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(r7(i)){qv(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{qv(o,Qb(e,s),n,r)})})},Qb=(t,e)=>{let n=t;return e.split(M_).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},r7=t=>t.isThemeGetter,i7=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,s7=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},cD="!",o7=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let u=0,d=0,h;for(let T=0;T<a.length;T++){let x=a[T];if(u===0){if(x===i&&(r||a.slice(T,T+s)===e)){l.push(a.slice(d,T)),d=T+s;continue}if(x==="/"){h=T;continue}}x==="["?u++:x==="]"&&u--}const f=l.length===0?a:a.substring(d),p=f.startsWith(cD),E=p?f.substring(1):f,v=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:E,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},a7=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},l7=t=>({cache:s7(t.cacheSize),parseClassName:o7(t),...e7(t)}),u7=/\s+/,c7=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(u7);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=n(u);let E=!!p,v=r(E?f.substring(0,p):f);if(!v){if(!E){a=u+(a.length>0?" "+a:a);continue}if(v=r(f),!v){a=u+(a.length>0?" "+a:a);continue}E=!1}const T=a7(d).join(":"),x=h?T+cD:T,_=x+v;if(s.includes(_))continue;s.push(_);const b=i(v,E);for(let I=0;I<b.length;++I){const N=b[I];s.push(x+N)}a=u+(a.length>0?" "+a:a)}return a};function d7(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=dD(e))&&(r&&(r+=" "),r+=n);return r}const dD=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=dD(t[r]))&&(n&&(n+=" "),n+=e);return n};function h7(t,...e){let n,r,i,s=o;function o(l){const u=e.reduce((d,h)=>h(d),t());return n=l7(u),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=c7(l,n);return i(l,d),d}return function(){return s(d7.apply(null,arguments))}}const Je=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},hD=/^\[(?:([a-z-]+):)?(.+)\]$/i,f7=/^\d+\/\d+$/,p7=new Set(["px","full","screen"]),m7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,g7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,y7=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,v7=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,w7=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ci=t=>al(t)||p7.has(t)||f7.test(t),Zi=t=>au(t,"length",R7),al=t=>!!t&&!Number.isNaN(Number(t)),cy=t=>au(t,"number",al),Bu=t=>!!t&&Number.isInteger(Number(t)),_7=t=>t.endsWith("%")&&al(t.slice(0,-1)),Ee=t=>hD.test(t),es=t=>m7.test(t),E7=new Set(["length","size","percentage"]),x7=t=>au(t,E7,fD),T7=t=>au(t,"position",fD),S7=new Set(["image","url"]),b7=t=>au(t,S7,P7),C7=t=>au(t,"",I7),$u=()=>!0,au=(t,e,n)=>{const r=hD.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},R7=t=>g7.test(t)&&!y7.test(t),fD=()=>!1,I7=t=>v7.test(t),P7=t=>w7.test(t),A7=()=>{const t=Je("colors"),e=Je("spacing"),n=Je("blur"),r=Je("brightness"),i=Je("borderColor"),s=Je("borderRadius"),o=Je("borderSpacing"),a=Je("borderWidth"),l=Je("contrast"),u=Je("grayscale"),d=Je("hueRotate"),h=Je("invert"),f=Je("gap"),p=Je("gradientColorStops"),E=Je("gradientColorStopPositions"),v=Je("inset"),T=Je("margin"),x=Je("opacity"),_=Je("padding"),b=Je("saturate"),I=Je("scale"),N=Je("sepia"),F=Je("skew"),C=Je("space"),w=Je("translate"),R=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Ee,e],M=()=>[Ee,e],k=()=>["",ci,Zi],J=()=>["auto",al,Ee],Se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],fe=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",Ee],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>[al,Ee];return{cacheSize:500,separator:":",theme:{colors:[$u],spacing:[ci,Zi],blur:["none","",es,Ee],brightness:ae(),borderColor:[t],borderRadius:["none","","full",es,Ee],borderSpacing:M(),borderWidth:k(),contrast:ae(),grayscale:$(),hueRotate:ae(),invert:$(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[_7,Zi],inset:D(),margin:D(),opacity:ae(),padding:M(),saturate:ae(),scale:ae(),sepia:$(),skew:ae(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Ee]}],container:["container"],columns:[{columns:[es]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Se(),Ee]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Bu,Ee]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ee]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Bu,Ee]}],"grid-cols":[{"grid-cols":[$u]}],"col-start-end":[{col:["auto",{span:["full",Bu,Ee]},Ee]}],"col-start":[{"col-start":J()}],"col-end":[{"col-end":J()}],"grid-rows":[{"grid-rows":[$u]}],"row-start-end":[{row:["auto",{span:[Bu,Ee]},Ee]}],"row-start":[{"row-start":J()}],"row-end":[{"row-end":J()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ee]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ee,e]}],"min-w":[{"min-w":[Ee,e,"min","max","fit"]}],"max-w":[{"max-w":[Ee,e,"none","full","min","max","fit","prose",{screen:[es]},es]}],h:[{h:[Ee,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ee,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ee,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ee,e,"auto","min","max","fit"]}],"font-size":[{text:["base",es,Zi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",cy]}],"font-family":[{font:[$u]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ee]}],"line-clamp":[{"line-clamp":["none",al,cy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ci,Ee]}],"list-image":[{"list-image":["none",Ee]}],"list-style-type":[{list:["none","disc","decimal",Ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ci,Zi]}],"underline-offset":[{"underline-offset":["auto",ci,Ee]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Se(),T7]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",x7]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},b7]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...fe(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:fe()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...fe()]}],"outline-offset":[{"outline-offset":[ci,Ee]}],"outline-w":[{outline:[ci,Zi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[ci,Zi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",es,C7]}],"shadow-color":[{shadow:[$u]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",es,Ee]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ee]}],duration:[{duration:ae()}],ease:[{ease:["linear","in","out","in-out",Ee]}],delay:[{delay:ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[Bu,Ee]}],"translate-x":[{"translate-x":[w]}],"translate-y":[{"translate-y":[w]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ee]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ci,Zi,cy]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},k7=h7(A7);function qe(...t){return k7(Z8(t))}const N7=J8,pD=y.forwardRef(({className:t,...e},n)=>m.jsx(sD,{ref:n,className:qe("inline-flex min-h-10 items-center justify-center rounded-tl-md rounded-tr-md bg-muted px-4 py-3 text-muted-foreground",t),...e}));pD.displayName=sD.displayName;const mD=y.forwardRef(({className:t,...e},n)=>m.jsx(oD,{ref:n,className:qe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-2 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));mD.displayName=oD.displayName;const gD=y.forwardRef(({className:t,...e},n)=>m.jsx(aD,{ref:n,className:qe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));gD.displayName=aD.displayName;const D7=[{tabValue:"knowledgeBase",tabName:"Knowledge Base"},{tabValue:"knowledgeEntry",tabName:"Knowledge Entry"},{tabValue:"entryDetails",tabName:"Entry Details"}],M7={knowledgeBase:u$,knowledgeEntry:i$,entryDetails:f$},O7=({tabs:t})=>m.jsx(pD,{className:"grid w-full grid-cols-3 bg-heading",children:t.map(({tabName:e,tabValue:n})=>{const r=M7[n];return m.jsxs(mD,{value:n,className:"data-[state=active]:bg-primary data-[state=active]:text-white",children:[m.jsx(r,{className:"size-5 mr-2"}),m.jsx("p",{className:"hidden md:block",children:e})]},e)})});var L7="DismissableLayer",Qv="dismissableLayer.update",V7="dismissableLayer.pointerDownOutside",F7="dismissableLayer.focusOutside",Yb,yD=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),O_=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,u=y.useContext(yD),[d,h]=y.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=y.useState({}),E=wt(e,C=>h(C)),v=Array.from(u.layers),[T]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(T),_=d?v.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,I=_>=x,N=B7(C=>{const w=C.target,R=[...u.branches].some(A=>A.contains(w));!I||R||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},f),F=$7(C=>{const w=C.target;[...u.branches].some(A=>A.contains(w))||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},f);return ZP(C=>{_===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},f),y.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Yb=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Xb(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Yb)}},[d,f,n,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Xb())},[d,u]),y.useEffect(()=>{const C=()=>p({});return document.addEventListener(Qv,C),()=>document.removeEventListener(Qv,C)},[]),m.jsx(je.div,{...l,ref:E,style:{pointerEvents:b?I?"auto":"none":void 0,...t.style},onFocusCapture:ue(t.onFocusCapture,F.onFocusCapture),onBlurCapture:ue(t.onBlurCapture,F.onBlurCapture),onPointerDownCapture:ue(t.onPointerDownCapture,N.onPointerDownCapture)})});O_.displayName=L7;var j7="DismissableLayerBranch",U7=y.forwardRef((t,e)=>{const n=y.useContext(yD),r=y.useRef(null),i=wt(e,r);return y.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),m.jsx(je.div,{...t,ref:i})});U7.displayName=j7;function B7(t,e=globalThis==null?void 0:globalThis.document){const n=Hn(t),r=y.useRef(!1),i=y.useRef(()=>{});return y.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){vD(V7,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function $7(t,e=globalThis==null?void 0:globalThis.document){const n=Hn(t),r=y.useRef(!1);return y.useEffect(()=>{const i=s=>{s.target&&!r.current&&vD(F7,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Xb(){const t=new CustomEvent(Qv);document.dispatchEvent(t)}function vD(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?F0(i,s):i.dispatchEvent(s)}var z7="Portal",wD=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=y.useState(!1);Vi(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?PI.createPortal(m.jsx(je.div,{...r,ref:e}),o):null});wD.displayName=z7;var W7="VisuallyHidden",_D=y.forwardRef((t,e)=>m.jsx(je.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));_D.displayName=W7;var K7=_D,[Pm,Fee]=tu("Tooltip",[hm]),Am=hm(),ED="TooltipProvider",H7=700,Yv="tooltip.open",[G7,L_]=Pm(ED),xD=t=>{const{__scopeTooltip:e,delayDuration:n=H7,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,[o,a]=y.useState(!0),l=y.useRef(!1),u=y.useRef(0);return y.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),m.jsx(G7,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:y.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:y.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:s})};xD.displayName=ED;var km="Tooltip",[q7,Nm]=Pm(km),TD=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=t,l=L_(km,t.__scopeTooltip),u=Am(e),[d,h]=y.useState(null),f=Vs(),p=y.useRef(0),E=o??l.disableHoverableContent,v=a??l.delayDuration,T=y.useRef(!1),[x=!1,_]=Ld({prop:r,defaultProp:i,onChange:C=>{C?(l.onOpen(),document.dispatchEvent(new CustomEvent(Yv))):l.onClose(),s==null||s(C)}}),b=y.useMemo(()=>x?T.current?"delayed-open":"instant-open":"closed",[x]),I=y.useCallback(()=>{window.clearTimeout(p.current),T.current=!1,_(!0)},[_]),N=y.useCallback(()=>{window.clearTimeout(p.current),_(!1)},[_]),F=y.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{T.current=!0,_(!0)},v)},[v,_]);return y.useEffect(()=>()=>window.clearTimeout(p.current),[]),m.jsx(xA,{...u,children:m.jsx(q7,{scope:e,contentId:f,open:x,stateAttribute:b,trigger:d,onTriggerChange:h,onTriggerEnter:y.useCallback(()=>{l.isOpenDelayed?F():I()},[l.isOpenDelayed,F,I]),onTriggerLeave:y.useCallback(()=>{E?N():window.clearTimeout(p.current)},[N,E]),onOpen:I,onClose:N,disableHoverableContent:E,children:n})})};TD.displayName=km;var Xv="TooltipTrigger",SD=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Nm(Xv,n),s=L_(Xv,n),o=Am(n),a=y.useRef(null),l=wt(e,a,i.onTriggerChange),u=y.useRef(!1),d=y.useRef(!1),h=y.useCallback(()=>u.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),m.jsx(TA,{asChild:!0,...o,children:m.jsx(je.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:ue(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:ue(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:ue(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ue(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:ue(t.onBlur,i.onClose),onClick:ue(t.onClick,i.onClose)})})});SD.displayName=Xv;var Q7="TooltipPortal",[jee,Y7]=Pm(Q7,{forceMount:void 0}),Vl="TooltipContent",bD=y.forwardRef((t,e)=>{const n=Y7(Vl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Nm(Vl,t.__scopeTooltip);return m.jsx(ou,{present:r||o.open,children:o.disableHoverableContent?m.jsx(CD,{side:i,...s,ref:e}):m.jsx(X7,{side:i,...s,ref:e})})}),X7=y.forwardRef((t,e)=>{const n=Nm(Vl,t.__scopeTooltip),r=L_(Vl,t.__scopeTooltip),i=y.useRef(null),s=wt(e,i),[o,a]=y.useState(null),{trigger:l,onClose:u}=n,d=i.current,{onPointerInTransitChange:h}=r,f=y.useCallback(()=>{a(null),h(!1)},[h]),p=y.useCallback((E,v)=>{const T=E.currentTarget,x={x:E.clientX,y:E.clientY},_=tG(x,T.getBoundingClientRect()),b=nG(x,_),I=rG(v.getBoundingClientRect()),N=sG([...b,...I]);a(N),h(!0)},[h]);return y.useEffect(()=>()=>f(),[f]),y.useEffect(()=>{if(l&&d){const E=T=>p(T,d),v=T=>p(T,l);return l.addEventListener("pointerleave",E),d.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",E),d.removeEventListener("pointerleave",v)}}},[l,d,p,f]),y.useEffect(()=>{if(o){const E=v=>{const T=v.target,x={x:v.clientX,y:v.clientY},_=(l==null?void 0:l.contains(T))||(d==null?void 0:d.contains(T)),b=!iG(x,o);_?f():b&&(f(),u())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[l,d,o,u,f]),m.jsx(CD,{...t,ref:s})}),[J7,Z7]=Pm(km,{isInside:!1}),CD=y.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=Nm(Vl,n),u=Am(n),{onClose:d}=l;return y.useEffect(()=>(document.addEventListener(Yv,d),()=>document.removeEventListener(Yv,d)),[d]),y.useEffect(()=>{if(l.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),m.jsx(O_,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:m.jsxs(SA,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[m.jsx(XP,{children:r}),m.jsx(J7,{scope:n,isInside:!0,children:m.jsx(K7,{id:l.contentId,role:"tooltip",children:i||r})})]})})});bD.displayName=Vl;var RD="TooltipArrow",eG=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Am(n);return Z7(RD,n).isInside?null:m.jsx(bA,{...i,...r,ref:e})});eG.displayName=RD;function tG(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function nG(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function rG(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function iG(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,u=e[o].x,d=e[o].y;l>r!=d>r&&n<(u-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function sG(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),oG(e)}function oG(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var aG=xD,lG=TD,uG=SD,ID=bD;const cG=aG,dG=lG,hG=uG,PD=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>m.jsx(ID,{ref:r,sideOffset:e,className:qe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));PD.displayName=ID.displayName;const V_=({label:t,htmlFor:e,tooltip:n})=>m.jsx(cG,{children:m.jsxs(dG,{children:[m.jsx(hG,{asChild:!0,children:m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("label",{htmlFor:e,className:"cursor-pointer font-medium ",children:t}),m.jsx(qP,{className:"size-4 text-[#64748b] cursor-pointer"})]})}),m.jsx(PD,{className:"max-w-xs",children:m.jsx("p",{children:n})})]})}),gn=y.forwardRef(({className:t,type:e,...n},r)=>m.jsx("input",{type:e,className:qe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));gn.displayName="Input";const fG={entry:"ENTRY",base:"BASE"},pG="A unique action or purpose the user wants to achieve",mG="Example phrases the bot associates with the intent during training",gG="The bot's response to the query",yG=8,vG={1:"Base",2:"Entry",3:"Verify"},wG={1:"Entry",2:"Verify"},lt=Jl((t,e)=>({formData:{knowledgeBaseName:"",intent:"",documents:[""],answer:"",fileUrl:""},setFormData:(n,r)=>{t(i=>({formData:{...i.formData,[n]:r}}))},setDocuments:(n,r)=>{const i=e().formData.documents;i[r]=n,t(s=>({formData:{...s.formData,documents:i}}))},addDocument:()=>{e().formData.documents.length>=yG||t(n=>({formData:{...n.formData,documents:[...n.formData.documents,""]}}))},removeDocument:n=>{const r=e().formData.documents;if(r.length===1)throw new Error("Documents cannot be empty");r.splice(n,1),t(i=>({formData:{...i.formData,documents:r}}))},clearFormData:()=>{t(()=>({formData:{knowledgeBaseName:"",intent:"",documents:[""],answer:"",fileUrl:""}}))}})),_G=()=>{const{intent:t}=lt(n=>n.formData),e=lt(n=>n.setFormData);return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"w-fit",children:m.jsx(V_,{label:"Intent",htmlFor:"intent",tooltip:pG})}),m.jsx(gn,{id:"intent",placeholder:"Enter intent",value:t,className:"mt-1",onChange:n=>e("intent",n.target.value)})]})};function AD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=AD(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function EG(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=AD(t))&&(r&&(r+=" "),r+=e);return r}const Jb=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,Zb=EG,Dm=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Zb(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],h=s==null?void 0:s[u];if(d===null)return null;const f=Jb(d)||Jb(h);return i[u][f]}),a=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(E=>{let[v,T]=E;return Array.isArray(T)?T.includes({...s,...a}[v]):{...s,...a}[v]===T})?[...u,h,f]:u},[]);return Zb(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},xG=Dm("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),vt=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?Zo:"button";return m.jsx(o,{className:qe(xG({variant:e,size:n,className:t})),ref:s,...i})});vt.displayName="Button";const Mm=y.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:qe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Mm.displayName="Card";const kD=y.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:qe("flex flex-col space-y-1.5 p-6",t),...e}));kD.displayName="CardHeader";const ND=y.forwardRef(({className:t,...e},n)=>m.jsx("h3",{ref:n,className:qe("text-2xl font-semibold leading-none tracking-tight",t),...e}));ND.displayName="CardTitle";const DD=y.forwardRef(({className:t,...e},n)=>m.jsx("p",{ref:n,className:qe("text-sm text-muted-foreground",t),...e}));DD.displayName="CardDescription";const Om=y.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:qe("p-6 pt-0",t),...e}));Om.displayName="CardContent";const MD=y.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:qe("flex items-center p-6 pt-0",t),...e}));MD.displayName="CardFooter";const TG=()=>{var s;const t=lt(o=>o.formData),e=lt(o=>o.setDocuments),n=lt(o=>o.addDocument),r=lt(o=>o.removeDocument),i=async o=>{try{if(!t.intent)return;if(t.documents.length===1)return window.alert("Documents cannot be empty");r(o)}catch(a){console.error(a)}};return m.jsxs("div",{children:[m.jsx("div",{className:"w-fit",children:m.jsx(V_,{label:"Document",htmlFor:"document",tooltip:mG})}),m.jsx("div",{className:"space-y-2 mt-1",children:(s=t.documents)==null?void 0:s.map((o,a)=>m.jsx(Mm,{className:"w-full hover:bg-accent transition-colors",children:m.jsxs(Om,{className:"p-4 w-full flex items-center justify-between-",children:[m.jsx("div",{className:"flex w-full items-center space-x-4",children:m.jsx("input",{value:o,id:"document",className:"text-sm bg-transparent outline-none w-full py-2",placeholder:"Enter document",onChange:l=>e(l.target.value,a)})}),m.jsx("div",{className:"flex space-x-2",children:m.jsxs(vt,{variant:"ghost",size:"icon",onClick:async()=>{await i(a)},children:[m.jsx(YP,{className:"size-5 font-bold hover:text-red-600 ease-in",strokeWidth:2}),m.jsx("span",{className:"sr-only",children:"Delete"})]})})]})},a))}),m.jsxs(vt,{variant:"outline",size:"sm",className:"mt-2",onClick:n,disabled:!t.intent,children:[m.jsx(am,{className:"w-4 h-4 mr-2"})," Add Document"]})]})},OD=y.forwardRef(({className:t,...e},n)=>m.jsx("textarea",{className:qe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));OD.displayName="Textarea";const SG=".png,.jpg,.mp4,.pdf",bG=({fileRef:t,changeFile:e})=>m.jsxs("div",{children:[m.jsx(gn,{id:"file-upload",type:"file",className:"hidden",ref:t,accept:SG,onChange:e}),m.jsx(vt,{variant:"ghost",size:"icon",className:"size-8 rounded-full hover:bg-neutral-100 p-1.5",onClick:()=>{var n;return(n=t.current)==null?void 0:n.click()},children:m.jsx(QP,{className:"size-4"})})]}),LD=({answer:t,handleTextChange:e,onFileChange:n,fileRef:r,textAreaRef:i,showAddLinkDialog:s})=>m.jsxs("div",{className:"relative mb-4",children:[m.jsx(OD,{name:"answer",ref:i,placeholder:"Enter the answer",className:"min-h-[100px]",value:t,onChange:o=>e("answer",o.target.value)}),m.jsxs("div",{className:"absolute bottom-2 left-2 flex space-x-2",children:[m.jsx(vt,{variant:"ghost",size:"icon",className:"size-8 rounded-full hover:bg-neutral-100 p-1.5",onClick:s,children:m.jsx(p$,{className:"size-4"})}),m.jsx(bG,{fileRef:r,changeFile:n})]})]}),CG=t=>Object.entries(t).map(([e,n])=>({id:Date.now().toString(),key:e,value:n})),RG=t=>t<1024?t+" bytes":t<1048576?(t/1024).toFixed(1)+" KB":(t/1048576).toFixed(1)+" MB",IG=t=>{try{const e=decodeURIComponent(t),n=e.lastIndexOf("/")+1,r=e.indexOf("?alt=");return n!==-1&&r!==-1?e.substring(n,r):null}catch(e){return console.error("Failed to extract filename:",e),null}},VD=({file:t,removeFile:e})=>m.jsx("div",{className:"mt-4 p-4 border rounded-md bg-muted",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex w-full items-center space-x-2",children:[m.jsx(QP,{className:"h-4 w-4 text-muted-foreground"}),m.jsx("div",{className:"font-medium line-clamp-1",children:t.name}),m.jsxs("div",{className:"text-sm text-center text-muted-foreground w-20",children:["(",RG(t.size),")"]})]}),m.jsxs(vt,{variant:"ghost",size:"icon",onClick:e,className:"h-8 w-8",children:[m.jsx(V0,{className:"h-4 w-4"}),m.jsx("span",{className:"sr-only",children:"Remove file"})]})]})});var PG="firebase",AG="10.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr(PG,AG,"app");var eC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zo,FD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,w){function R(){}R.prototype=w.prototype,C.D=w.prototype,C.prototype=new R,C.prototype.constructor=C,C.C=function(A,D,M){for(var k=Array(arguments.length-2),J=2;J<arguments.length;J++)k[J-2]=arguments[J];return w.prototype[D].apply(A,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,w,R){R||(R=0);var A=Array(16);if(typeof w=="string")for(var D=0;16>D;++D)A[D]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(D=0;16>D;++D)A[D]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=C.g[0],R=C.g[1],D=C.g[2];var M=C.g[3],k=w+(M^R&(D^M))+A[0]+3614090360&4294967295;w=R+(k<<7&4294967295|k>>>25),k=M+(D^w&(R^D))+A[1]+3905402710&4294967295,M=w+(k<<12&4294967295|k>>>20),k=D+(R^M&(w^R))+A[2]+606105819&4294967295,D=M+(k<<17&4294967295|k>>>15),k=R+(w^D&(M^w))+A[3]+3250441966&4294967295,R=D+(k<<22&4294967295|k>>>10),k=w+(M^R&(D^M))+A[4]+4118548399&4294967295,w=R+(k<<7&4294967295|k>>>25),k=M+(D^w&(R^D))+A[5]+1200080426&4294967295,M=w+(k<<12&4294967295|k>>>20),k=D+(R^M&(w^R))+A[6]+2821735955&4294967295,D=M+(k<<17&4294967295|k>>>15),k=R+(w^D&(M^w))+A[7]+4249261313&4294967295,R=D+(k<<22&4294967295|k>>>10),k=w+(M^R&(D^M))+A[8]+1770035416&4294967295,w=R+(k<<7&4294967295|k>>>25),k=M+(D^w&(R^D))+A[9]+2336552879&4294967295,M=w+(k<<12&4294967295|k>>>20),k=D+(R^M&(w^R))+A[10]+4294925233&4294967295,D=M+(k<<17&4294967295|k>>>15),k=R+(w^D&(M^w))+A[11]+2304563134&4294967295,R=D+(k<<22&4294967295|k>>>10),k=w+(M^R&(D^M))+A[12]+1804603682&4294967295,w=R+(k<<7&4294967295|k>>>25),k=M+(D^w&(R^D))+A[13]+4254626195&4294967295,M=w+(k<<12&4294967295|k>>>20),k=D+(R^M&(w^R))+A[14]+2792965006&4294967295,D=M+(k<<17&4294967295|k>>>15),k=R+(w^D&(M^w))+A[15]+1236535329&4294967295,R=D+(k<<22&4294967295|k>>>10),k=w+(D^M&(R^D))+A[1]+4129170786&4294967295,w=R+(k<<5&4294967295|k>>>27),k=M+(R^D&(w^R))+A[6]+3225465664&4294967295,M=w+(k<<9&4294967295|k>>>23),k=D+(w^R&(M^w))+A[11]+643717713&4294967295,D=M+(k<<14&4294967295|k>>>18),k=R+(M^w&(D^M))+A[0]+3921069994&4294967295,R=D+(k<<20&4294967295|k>>>12),k=w+(D^M&(R^D))+A[5]+3593408605&4294967295,w=R+(k<<5&4294967295|k>>>27),k=M+(R^D&(w^R))+A[10]+38016083&4294967295,M=w+(k<<9&4294967295|k>>>23),k=D+(w^R&(M^w))+A[15]+3634488961&4294967295,D=M+(k<<14&4294967295|k>>>18),k=R+(M^w&(D^M))+A[4]+3889429448&4294967295,R=D+(k<<20&4294967295|k>>>12),k=w+(D^M&(R^D))+A[9]+568446438&4294967295,w=R+(k<<5&4294967295|k>>>27),k=M+(R^D&(w^R))+A[14]+3275163606&4294967295,M=w+(k<<9&4294967295|k>>>23),k=D+(w^R&(M^w))+A[3]+4107603335&4294967295,D=M+(k<<14&4294967295|k>>>18),k=R+(M^w&(D^M))+A[8]+1163531501&4294967295,R=D+(k<<20&4294967295|k>>>12),k=w+(D^M&(R^D))+A[13]+2850285829&4294967295,w=R+(k<<5&4294967295|k>>>27),k=M+(R^D&(w^R))+A[2]+4243563512&4294967295,M=w+(k<<9&4294967295|k>>>23),k=D+(w^R&(M^w))+A[7]+1735328473&4294967295,D=M+(k<<14&4294967295|k>>>18),k=R+(M^w&(D^M))+A[12]+2368359562&4294967295,R=D+(k<<20&4294967295|k>>>12),k=w+(R^D^M)+A[5]+4294588738&4294967295,w=R+(k<<4&4294967295|k>>>28),k=M+(w^R^D)+A[8]+2272392833&4294967295,M=w+(k<<11&4294967295|k>>>21),k=D+(M^w^R)+A[11]+1839030562&4294967295,D=M+(k<<16&4294967295|k>>>16),k=R+(D^M^w)+A[14]+4259657740&4294967295,R=D+(k<<23&4294967295|k>>>9),k=w+(R^D^M)+A[1]+2763975236&4294967295,w=R+(k<<4&4294967295|k>>>28),k=M+(w^R^D)+A[4]+1272893353&4294967295,M=w+(k<<11&4294967295|k>>>21),k=D+(M^w^R)+A[7]+4139469664&4294967295,D=M+(k<<16&4294967295|k>>>16),k=R+(D^M^w)+A[10]+3200236656&4294967295,R=D+(k<<23&4294967295|k>>>9),k=w+(R^D^M)+A[13]+681279174&4294967295,w=R+(k<<4&4294967295|k>>>28),k=M+(w^R^D)+A[0]+3936430074&4294967295,M=w+(k<<11&4294967295|k>>>21),k=D+(M^w^R)+A[3]+3572445317&4294967295,D=M+(k<<16&4294967295|k>>>16),k=R+(D^M^w)+A[6]+76029189&4294967295,R=D+(k<<23&4294967295|k>>>9),k=w+(R^D^M)+A[9]+3654602809&4294967295,w=R+(k<<4&4294967295|k>>>28),k=M+(w^R^D)+A[12]+3873151461&4294967295,M=w+(k<<11&4294967295|k>>>21),k=D+(M^w^R)+A[15]+530742520&4294967295,D=M+(k<<16&4294967295|k>>>16),k=R+(D^M^w)+A[2]+3299628645&4294967295,R=D+(k<<23&4294967295|k>>>9),k=w+(D^(R|~M))+A[0]+4096336452&4294967295,w=R+(k<<6&4294967295|k>>>26),k=M+(R^(w|~D))+A[7]+1126891415&4294967295,M=w+(k<<10&4294967295|k>>>22),k=D+(w^(M|~R))+A[14]+2878612391&4294967295,D=M+(k<<15&4294967295|k>>>17),k=R+(M^(D|~w))+A[5]+4237533241&4294967295,R=D+(k<<21&4294967295|k>>>11),k=w+(D^(R|~M))+A[12]+1700485571&4294967295,w=R+(k<<6&4294967295|k>>>26),k=M+(R^(w|~D))+A[3]+2399980690&4294967295,M=w+(k<<10&4294967295|k>>>22),k=D+(w^(M|~R))+A[10]+4293915773&4294967295,D=M+(k<<15&4294967295|k>>>17),k=R+(M^(D|~w))+A[1]+2240044497&4294967295,R=D+(k<<21&4294967295|k>>>11),k=w+(D^(R|~M))+A[8]+1873313359&4294967295,w=R+(k<<6&4294967295|k>>>26),k=M+(R^(w|~D))+A[15]+4264355552&4294967295,M=w+(k<<10&4294967295|k>>>22),k=D+(w^(M|~R))+A[6]+2734768916&4294967295,D=M+(k<<15&4294967295|k>>>17),k=R+(M^(D|~w))+A[13]+1309151649&4294967295,R=D+(k<<21&4294967295|k>>>11),k=w+(D^(R|~M))+A[4]+4149444226&4294967295,w=R+(k<<6&4294967295|k>>>26),k=M+(R^(w|~D))+A[11]+3174756917&4294967295,M=w+(k<<10&4294967295|k>>>22),k=D+(w^(M|~R))+A[2]+718787259&4294967295,D=M+(k<<15&4294967295|k>>>17),k=R+(M^(D|~w))+A[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(D+(k<<21&4294967295|k>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+M&4294967295}r.prototype.u=function(C,w){w===void 0&&(w=C.length);for(var R=w-this.blockSize,A=this.B,D=this.h,M=0;M<w;){if(D==0)for(;M<=R;)i(this,C,M),M+=this.blockSize;if(typeof C=="string"){for(;M<w;)if(A[D++]=C.charCodeAt(M++),D==this.blockSize){i(this,A),D=0;break}}else for(;M<w;)if(A[D++]=C[M++],D==this.blockSize){i(this,A),D=0;break}}this.h=D,this.o+=w},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;var R=8*this.o;for(w=C.length-8;w<C.length;++w)C[w]=R&255,R/=256;for(this.u(C),C=Array(16),w=R=0;4>w;++w)for(var A=0;32>A;A+=8)C[R++]=this.g[w]>>>A&255;return C};function s(C,w){var R=a;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=w(C)}function o(C,w){this.h=w;for(var R=[],A=!0,D=C.length-1;0<=D;D--){var M=C[D]|0;A&&M==w||(R[D]=M,A=!1)}this.g=R}var a={};function l(C){return-128<=C&&128>C?s(C,function(w){return new o([w|0],0>w?-1:0)}):new o([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return h;if(0>C)return T(u(-C));for(var w=[],R=1,A=0;C>=R;A++)w[A]=C/R|0,R*=4294967296;return new o(w,0)}function d(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return T(d(C.substring(1),w));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=u(Math.pow(w,8)),A=h,D=0;D<C.length;D+=8){var M=Math.min(8,C.length-D),k=parseInt(C.substring(D,D+M),w);8>M?(M=u(Math.pow(w,M)),A=A.j(M).add(u(k))):(A=A.j(R),A=A.add(u(k)))}return A}var h=l(0),f=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-T(this).m();for(var C=0,w=1,R=0;R<this.g.length;R++){var A=this.i(R);C+=(0<=A?A:4294967296+A)*w,w*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(E(this))return"0";if(v(this))return"-"+T(this).toString(C);for(var w=u(Math.pow(C,6)),R=this,A="";;){var D=I(R,w).g;R=x(R,D.j(w));var M=((0<R.g.length?R.g[0]:R.h)>>>0).toString(C);if(R=D,E(R))return M+A;for(;6>M.length;)M="0"+M;A=M+A}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function E(C){if(C.h!=0)return!1;for(var w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function v(C){return C.h==-1}t.l=function(C){return C=x(this,C),v(C)?-1:E(C)?0:1};function T(C){for(var w=C.g.length,R=[],A=0;A<w;A++)R[A]=~C.g[A];return new o(R,~C.h).add(f)}t.abs=function(){return v(this)?T(this):this},t.add=function(C){for(var w=Math.max(this.g.length,C.g.length),R=[],A=0,D=0;D<=w;D++){var M=A+(this.i(D)&65535)+(C.i(D)&65535),k=(M>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);A=k>>>16,M&=65535,k&=65535,R[D]=k<<16|M}return new o(R,R[R.length-1]&-2147483648?-1:0)};function x(C,w){return C.add(T(w))}t.j=function(C){if(E(this)||E(C))return h;if(v(this))return v(C)?T(this).j(T(C)):T(T(this).j(C));if(v(C))return T(this.j(T(C)));if(0>this.l(p)&&0>C.l(p))return u(this.m()*C.m());for(var w=this.g.length+C.g.length,R=[],A=0;A<2*w;A++)R[A]=0;for(A=0;A<this.g.length;A++)for(var D=0;D<C.g.length;D++){var M=this.i(A)>>>16,k=this.i(A)&65535,J=C.i(D)>>>16,Se=C.i(D)&65535;R[2*A+2*D]+=k*Se,_(R,2*A+2*D),R[2*A+2*D+1]+=M*Se,_(R,2*A+2*D+1),R[2*A+2*D+1]+=k*J,_(R,2*A+2*D+1),R[2*A+2*D+2]+=M*J,_(R,2*A+2*D+2)}for(A=0;A<w;A++)R[A]=R[2*A+1]<<16|R[2*A];for(A=w;A<2*w;A++)R[A]=0;return new o(R,0)};function _(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function b(C,w){this.g=C,this.h=w}function I(C,w){if(E(w))throw Error("division by zero");if(E(C))return new b(h,h);if(v(C))return w=I(T(C),w),new b(T(w.g),T(w.h));if(v(w))return w=I(C,T(w)),new b(T(w.g),w.h);if(30<C.g.length){if(v(C)||v(w))throw Error("slowDivide_ only works with positive integers.");for(var R=f,A=w;0>=A.l(C);)R=N(R),A=N(A);var D=F(R,1),M=F(A,1);for(A=F(A,2),R=F(R,2);!E(A);){var k=M.add(A);0>=k.l(C)&&(D=D.add(R),M=k),A=F(A,1),R=F(R,1)}return w=x(C,D.j(w)),new b(D,w)}for(D=h;0<=C.l(w);){for(R=Math.max(1,Math.floor(C.m()/w.m())),A=Math.ceil(Math.log(R)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),M=u(R),k=M.j(w);v(k)||0<k.l(C);)R-=A,M=u(R),k=M.j(w);E(M)&&(M=f),D=D.add(M),C=x(C,k)}return new b(D,C)}t.A=function(C){return I(this,C).h},t.and=function(C){for(var w=Math.max(this.g.length,C.g.length),R=[],A=0;A<w;A++)R[A]=this.i(A)&C.i(A);return new o(R,this.h&C.h)},t.or=function(C){for(var w=Math.max(this.g.length,C.g.length),R=[],A=0;A<w;A++)R[A]=this.i(A)|C.i(A);return new o(R,this.h|C.h)},t.xor=function(C){for(var w=Math.max(this.g.length,C.g.length),R=[],A=0;A<w;A++)R[A]=this.i(A)^C.i(A);return new o(R,this.h^C.h)};function N(C){for(var w=C.g.length+1,R=[],A=0;A<w;A++)R[A]=C.i(A)<<1|C.i(A-1)>>>31;return new o(R,C.h)}function F(C,w){var R=w>>5;w%=32;for(var A=C.g.length-R,D=[],M=0;M<A;M++)D[M]=0<w?C.i(M+R)>>>w|C.i(M+R+1)<<32-w:C.i(M+R);return new o(D,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,FD=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,zo=o}).apply(typeof eC<"u"?eC:typeof self<"u"?self:typeof window<"u"?window:{});var Hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jD,UD,Zu,BD,Tf,Jv,$D,zD,WD;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,S){return c==Array.prototype||c==Object.prototype||(c[g]=S.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hh=="object"&&Hh];for(var g=0;g<c.length;++g){var S=c[g];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function i(c,g){if(g)e:{var S=r;c=c.split(".");for(var P=0;P<c.length-1;P++){var j=c[P];if(!(j in S))break e;S=S[j]}c=c[c.length-1],P=S[c],g=g(P),g!=P&&g!=null&&e(S,c,{configurable:!0,writable:!0,value:g})}}function s(c,g){c instanceof String&&(c+="");var S=0,P=!1,j={next:function(){if(!P&&S<c.length){var B=S++;return{value:g(B,c[B]),done:!1}}return P=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}i("Array.prototype.values",function(c){return c||function(){return s(this,function(g,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function u(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function d(c,g,S){return c.call.apply(c.bind,arguments)}function h(c,g,S){if(!c)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,P),c.apply(g,j)}}return function(){return c.apply(g,arguments)}}function f(c,g,S){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function p(c,g){var S=Array.prototype.slice.call(arguments,1);return function(){var P=S.slice();return P.push.apply(P,arguments),c.apply(this,P)}}function E(c,g){function S(){}S.prototype=g.prototype,c.aa=g.prototype,c.prototype=new S,c.prototype.constructor=c,c.Qb=function(P,j,B){for(var Q=Array(arguments.length-2),We=2;We<arguments.length;We++)Q[We-2]=arguments[We];return g.prototype[j].apply(P,Q)}}function v(c){const g=c.length;if(0<g){const S=Array(g);for(let P=0;P<g;P++)S[P]=c[P];return S}return[]}function T(c,g){for(let S=1;S<arguments.length;S++){const P=arguments[S];if(l(P)){const j=c.length||0,B=P.length||0;c.length=j+B;for(let Q=0;Q<B;Q++)c[j+Q]=P[Q]}else c.push(P)}}class x{constructor(g,S){this.i=g,this.j=S,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function _(c){return/^[\s\xa0]*$/.test(c)}function b(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function I(c){return I[" "](c),c}I[" "]=function(){};var N=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function F(c,g,S){for(const P in c)g.call(S,c[P],P,c)}function C(c,g){for(const S in c)g.call(void 0,c[S],S,c)}function w(c){const g={};for(const S in c)g[S]=c[S];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(c,g){let S,P;for(let j=1;j<arguments.length;j++){P=arguments[j];for(S in P)c[S]=P[S];for(let B=0;B<R.length;B++)S=R[B],Object.prototype.hasOwnProperty.call(P,S)&&(c[S]=P[S])}}function D(c){var g=1;c=c.split(":");const S=[];for(;0<g&&c.length;)S.push(c.shift()),g--;return c.length&&S.push(c.join(":")),S}function M(c){a.setTimeout(()=>{throw c},0)}function k(){var c=$;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class J{constructor(){this.h=this.g=null}add(g,S){const P=Se.get();P.set(g,S),this.h?this.h.next=P:this.g=P,this.h=P}}var Se=new x(()=>new fe,c=>c.reset());class fe{constructor(){this.next=this.g=this.h=null}set(g,S){this.h=g,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let le,z=!1,$=new J,Y=()=>{const c=a.Promise.resolve(void 0);le=()=>{c.then(ae)}};var ae=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(S){M(S)}var g=Se;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}z=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function be(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}be.prototype.h=function(){this.defaultPrevented=!0};var ht=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const S=()=>{};a.addEventListener("test",S,g),a.removeEventListener("test",S,g)}catch{}return c}();function Ct(c,g){if(be.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var S=this.type=c.type,P=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(N){e:{try{I(g.nodeName);var j=!0;break e}catch{}j=!1}j||(g=null)}}else S=="mouseover"?g=c.fromElement:S=="mouseout"&&(g=c.toElement);this.relatedTarget=g,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:$e[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ct.aa.h.call(this)}}E(Ct,be);var $e={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ze="closure_listenable_"+(1e6*Math.random()|0),yn=0;function Yt(c,g,S,P,j){this.listener=c,this.proxy=null,this.src=g,this.type=S,this.capture=!!P,this.ha=j,this.key=++yn,this.da=this.fa=!1}function vn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function oi(c){this.src=c,this.g={},this.h=0}oi.prototype.add=function(c,g,S,P,j){var B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);var Q=mr(c,g,P,j);return-1<Q?(g=c[Q],S||(g.fa=!1)):(g=new Yt(g,this.src,B,!!P,j),g.fa=S,c.push(g)),g};function Wi(c,g){var S=g.type;if(S in c.g){var P=c.g[S],j=Array.prototype.indexOf.call(P,g,void 0),B;(B=0<=j)&&Array.prototype.splice.call(P,j,1),B&&(vn(g),c.g[S].length==0&&(delete c.g[S],c.h--))}}function mr(c,g,S,P){for(var j=0;j<c.length;++j){var B=c[j];if(!B.da&&B.listener==g&&B.capture==!!S&&B.ha==P)return j}return-1}var ft="closure_lm_"+(1e6*Math.random()|0),Yn={};function oo(c,g,S,P,j){if(Array.isArray(g)){for(var B=0;B<g.length;B++)oo(c,g[B],S,P,j);return null}return S=Jd(S),c&&c[ze]?c.K(g,S,u(P)?!!P.capture:!!P,j):fu(c,g,S,!1,P,j)}function fu(c,g,S,P,j,B){if(!g)throw Error("Invalid event type");var Q=u(j)?!!j.capture:!!j,We=gu(c);if(We||(c[ft]=We=new oi(c)),S=We.add(g,S,P,Q,B),S.proxy)return S;if(P=gr(),S.proxy=P,P.src=c,P.listener=S,c.addEventListener)ht||(j=Q),j===void 0&&(j=!1),c.addEventListener(g.toString(),P,j);else if(c.attachEvent)c.attachEvent(mu(g.toString()),P);else if(c.addListener&&c.removeListener)c.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return S}function gr(){function c(S){return g.call(c.src,c.listener,S)}const g=Qm;return c}function ai(c,g,S,P,j){if(Array.isArray(g))for(var B=0;B<g.length;B++)ai(c,g[B],S,P,j);else P=u(P)?!!P.capture:!!P,S=Jd(S),c&&c[ze]?(c=c.i,g=String(g).toString(),g in c.g&&(B=c.g[g],S=mr(B,S,P,j),-1<S&&(vn(B[S]),Array.prototype.splice.call(B,S,1),B.length==0&&(delete c.g[g],c.h--)))):c&&(c=gu(c))&&(g=c.g[g.toString()],c=-1,g&&(c=mr(g,S,P,j)),(S=-1<c?g[c]:null)&&pu(S))}function pu(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ze])Wi(g.i,c);else{var S=c.type,P=c.proxy;g.removeEventListener?g.removeEventListener(S,P,c.capture):g.detachEvent?g.detachEvent(mu(S),P):g.addListener&&g.removeListener&&g.removeListener(P),(S=gu(g))?(Wi(S,c),S.h==0&&(S.src=null,g[ft]=null)):vn(c)}}}function mu(c){return c in Yn?Yn[c]:Yn[c]="on"+c}function Qm(c,g){if(c.da)c=!0;else{g=new Ct(g,this);var S=c.listener,P=c.ha||c.src;c.fa&&pu(c),c=S.call(P,g)}return c}function gu(c){return c=c[ft],c instanceof oi?c:null}var yu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jd(c){return typeof c=="function"?c:(c[yu]||(c[yu]=function(g){return c.handleEvent(g)}),c[yu])}function nt(){ge.call(this),this.i=new oi(this),this.M=this,this.F=null}E(nt,ge),nt.prototype[ze]=!0,nt.prototype.removeEventListener=function(c,g,S,P){ai(this,c,g,S,P)};function xt(c,g){var S,P=c.F;if(P)for(S=[];P;P=P.F)S.push(P);if(c=c.M,P=g.type||g,typeof g=="string")g=new be(g,c);else if(g instanceof be)g.target=g.target||c;else{var j=g;g=new be(P,c),A(g,j)}if(j=!0,S)for(var B=S.length-1;0<=B;B--){var Q=g.g=S[B];j=ao(Q,P,!0,g)&&j}if(Q=g.g=c,j=ao(Q,P,!0,g)&&j,j=ao(Q,P,!1,g)&&j,S)for(B=0;B<S.length;B++)Q=g.g=S[B],j=ao(Q,P,!1,g)&&j}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var S=c.g[g],P=0;P<S.length;P++)vn(S[P]);delete c.g[g],c.h--}}this.F=null},nt.prototype.K=function(c,g,S,P){return this.i.add(String(c),g,!1,S,P)},nt.prototype.L=function(c,g,S,P){return this.i.add(String(c),g,!0,S,P)};function ao(c,g,S,P){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var j=!0,B=0;B<g.length;++B){var Q=g[B];if(Q&&!Q.da&&Q.capture==S){var We=Q.listener,Bt=Q.ha||Q.src;Q.fa&&Wi(c.i,Q),j=We.call(Bt,P)!==!1&&j}}return j&&!P.defaultPrevented}function fa(c,g,S){if(typeof c=="function")S&&(c=f(c,S));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(c,g||0)}function yr(c){c.g=fa(()=>{c.g=null,c.i&&(c.i=!1,yr(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class vr extends ge{constructor(g,S){super(),this.m=g,this.l=S,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:yr(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ki(c){ge.call(this),this.h=c,this.g={}}E(Ki,ge);var lo=[];function Zd(c){F(c.g,function(g,S){this.g.hasOwnProperty(S)&&pu(g)},c),c.g={}}Ki.prototype.N=function(){Ki.aa.N.call(this),Zd(this)},Ki.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xn=a.JSON.stringify,eh=a.JSON.parse,th=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function pa(){}pa.prototype.h=null;function nh(c){return c.h||(c.h=c.i())}function vu(){}var Lr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ma(){be.call(this,"d")}E(ma,be);function uo(){be.call(this,"c")}E(uo,be);var Jn={},ga=null;function ya(){return ga=ga||new nt}Jn.La="serverreachability";function wu(c){be.call(this,Jn.La,c)}E(wu,be);function co(c){const g=ya();xt(g,new wu(g))}Jn.STAT_EVENT="statevent";function _u(c,g){be.call(this,Jn.STAT_EVENT,c),this.stat=g}E(_u,be);function Rt(c){const g=ya();xt(g,new _u(g,c))}Jn.Ma="timingevent";function ho(c,g){be.call(this,Jn.Ma,c),this.size=g}E(ho,be);function Hi(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},g)}function fo(){this.g=!0}fo.prototype.xa=function(){this.g=!1};function Ym(c,g,S,P,j,B){c.info(function(){if(c.g)if(B)for(var Q="",We=B.split("&"),Bt=0;Bt<We.length;Bt++){var Oe=We[Bt].split("=");if(1<Oe.length){var Zt=Oe[0];Oe=Oe[1];var en=Zt.split("_");Q=2<=en.length&&en[1]=="type"?Q+(Zt+"="+Oe+"&"):Q+(Zt+"=redacted&")}}else Q=null;else Q=B;return"XMLHTTP REQ ("+P+") [attempt "+j+"]: "+g+`
`+S+`
`+Q})}function O(c,g,S,P,j,B,Q){c.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+j+"]: "+g+`
`+S+`
`+B+" "+Q})}function V(c,g,S,P){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+W(c,S)+(P?" "+P:"")})}function U(c,g){c.info(function(){return"TIMEOUT: "+g})}fo.prototype.info=function(){};function W(c,g){if(!c.g)return g;if(!g)return null;try{var S=JSON.parse(g);if(S){for(c=0;c<S.length;c++)if(Array.isArray(S[c])){var P=S[c];if(!(2>P.length)){var j=P[1];if(Array.isArray(j)&&!(1>j.length)){var B=j[0];if(B!="noop"&&B!="stop"&&B!="close")for(var Q=1;Q<j.length;Q++)j[Q]=""}}}}return Xn(S)}catch{return g}}var X={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pe;function q(){}E(q,pa),q.prototype.g=function(){return new XMLHttpRequest},q.prototype.i=function(){return{}},pe=new q;function ie(c,g,S,P){this.j=c,this.i=g,this.l=S,this.R=P||1,this.U=new Ki(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new te}function te(){this.i=null,this.g="",this.h=!1}var re={},Pe={};function De(c,g,S){c.L=1,c.v=ah(li(g)),c.m=S,c.P=!0,Ue(c,null)}function Ue(c,g){c.F=Date.now(),Qe(c),c.A=li(c.v);var S=c.A,P=c.R;Array.isArray(P)||(P=[String(P)]),FE(S.i,"t",P),c.C=0,S=c.j.J,c.h=new te,c.g=nx(c.j,S?g:null,!c.m),0<c.O&&(c.M=new vr(f(c.Y,c,c.g),c.O)),g=c.U,S=c.g,P=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(lo[0]=j.toString()),j=lo);for(var B=0;B<j.length;B++){var Q=oo(S,j[B],P||g.handleEvent,!1,g.h||g);if(!Q)break;g.g[Q.key]=Q}g=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),co(),Ym(c.i,c.u,c.A,c.l,c.R,c.m)}ie.prototype.ca=function(c){c=c.target;const g=this.M;g&&ui(c)==3?g.j():this.Y(c)},ie.prototype.Y=function(c){try{if(c==this.g)e:{const en=ui(this.g);var g=this.g.Ba();const _a=this.g.Z();if(!(3>en)&&(en!=3||this.g&&(this.h.h||this.g.oa()||KE(this.g)))){this.J||en!=4||g==7||(g==8||0>=_a?co(3):co(2)),On(this);var S=this.g.Z();this.X=S;t:if(Re(this)){var P=KE(this.g);c="";var j=P.length,B=ui(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xt(this),Zn(this);var Q="";break t}this.h.i=new a.TextDecoder}for(g=0;g<j;g++)this.h.h=!0,c+=this.h.i.decode(P[g],{stream:!(B&&g==j-1)});P.length=0,this.h.g+=c,this.C=0,Q=this.h.g}else Q=this.g.oa();if(this.o=S==200,O(this.i,this.u,this.A,this.l,this.R,en,S),this.o){if(this.T&&!this.K){t:{if(this.g){var We,Bt=this.g;if((We=Bt.g?Bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(We)){var Oe=We;break t}}Oe=null}if(S=Oe)V(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qi(this,S);else{this.o=!1,this.s=3,Rt(12),Xt(this),Zn(this);break e}}if(this.P){S=!0;let Er;for(;!this.J&&this.C<Q.length;)if(Er=It(this,Q),Er==Pe){en==4&&(this.s=4,Rt(14),S=!1),V(this.i,this.l,null,"[Incomplete Response]");break}else if(Er==re){this.s=4,Rt(15),V(this.i,this.l,Q,"[Invalid Chunk]"),S=!1;break}else V(this.i,this.l,Er,null),qi(this,Er);if(Re(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||Q.length!=0||this.h.h||(this.s=1,Rt(16),S=!1),this.o=this.o&&S,!S)V(this.i,this.l,Q,"[Invalid Chunked Response]"),Xt(this),Zn(this);else if(0<Q.length&&!this.W){this.W=!0;var Zt=this.j;Zt.g==this&&Zt.ba&&!Zt.M&&(Zt.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),eg(Zt),Zt.M=!0,Rt(11))}}else V(this.i,this.l,Q,null),qi(this,Q);en==4&&Xt(this),this.o&&!this.J&&(en==4?JE(this.j,this):(this.o=!1,Qe(this)))}else jL(this.g),S==400&&0<Q.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),Xt(this),Zn(this)}}}catch{}finally{}};function Re(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function It(c,g){var S=c.C,P=g.indexOf(`
`,S);return P==-1?Pe:(S=Number(g.substring(S,P)),isNaN(S)?re:(P+=1,P+S>g.length?Pe:(g=g.slice(P,P+S),c.C=P+S,g)))}ie.prototype.cancel=function(){this.J=!0,Xt(this)};function Qe(c){c.S=Date.now()+c.I,Gi(c,c.I)}function Gi(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Hi(f(c.ba,c),g)}function On(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ie.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(U(this.i,this.A),this.L!=2&&(co(),Rt(17)),Xt(this),this.s=2,Zn(this)):Gi(this,this.S-c)};function Zn(c){c.j.G==0||c.J||JE(c.j,c)}function Xt(c){On(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Zd(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function qi(c,g){try{var S=c.j;if(S.G!=0&&(S.g==c||ve(S.h,c))){if(!c.K&&ve(S.h,c)&&S.G==3){try{var P=S.Da.g.parse(g)}catch{P=null}if(Array.isArray(P)&&P.length==3){var j=P;if(j[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<c.F)hh(S),ch(S);else break e;Zm(S),Rt(18)}}else S.za=j[1],0<S.za-S.T&&37500>j[2]&&S.F&&S.v==0&&!S.C&&(S.C=Hi(f(S.Za,S),6e3));if(1>=go(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else vo(S,11)}else if((c.K||S.g==c)&&hh(S),!_(g))for(j=S.Da.g.parse(g),g=0;g<j.length;g++){let Oe=j[g];if(S.T=Oe[0],Oe=Oe[1],S.G==2)if(Oe[0]=="c"){S.K=Oe[1],S.ia=Oe[2];const Zt=Oe[3];Zt!=null&&(S.la=Zt,S.j.info("VER="+S.la));const en=Oe[4];en!=null&&(S.Aa=en,S.j.info("SVER="+S.Aa));const _a=Oe[5];_a!=null&&typeof _a=="number"&&0<_a&&(P=1.5*_a,S.L=P,S.j.info("backChannelRequestTimeoutMs_="+P)),P=S;const Er=c.g;if(Er){const ph=Er.g?Er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ph){var B=P.h;B.g||ph.indexOf("spdy")==-1&&ph.indexOf("quic")==-1&&ph.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(He(B,B.h),B.h=null))}if(P.D){const tg=Er.g?Er.g.getResponseHeader("X-HTTP-Session-Id"):null;tg&&(P.ya=tg,Xe(P.I,P.D,tg))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-c.F,S.j.info("Handshake RTT: "+S.R+"ms")),P=S;var Q=c;if(P.qa=tx(P,P.J?P.ia:null,P.W),Q.K){Jt(P.h,Q);var We=Q,Bt=P.L;Bt&&(We.I=Bt),We.B&&(On(We),Qe(We)),P.g=Q}else YE(P);0<S.i.length&&dh(S)}else Oe[0]!="stop"&&Oe[0]!="close"||vo(S,7);else S.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?vo(S,7):Jm(S):Oe[0]!="noop"&&S.l&&S.l.ta(Oe),S.v=0)}}co(4)}catch{}}var wr=class{constructor(c,g){this.g=c,this.map=g}};function po(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function go(c){return c.h?1:c.g?c.g.size:0}function ve(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function He(c,g){c.g?c.g.add(g):c.h=g}function Jt(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}po.prototype.cancel=function(){if(this.i=Ye(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ye(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const S of c.g.values())g=g.concat(S.D);return g}return v(c.i)}function _r(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var g=[],S=c.length,P=0;P<S;P++)g.push(c[P]);return g}g=[],S=0;for(P in c)g[S++]=c[P];return g}function rh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var g=[];c=c.length;for(var S=0;S<c;S++)g.push(S);return g}g=[],S=0;for(const P in c)g[S++]=P;return g}}}function ih(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var S=rh(c),P=_r(c),j=P.length,B=0;B<j;B++)g.call(void 0,P[B],S&&S[B],c)}var DE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function CL(c,g){if(c){c=c.split("&");for(var S=0;S<c.length;S++){var P=c[S].indexOf("="),j=null;if(0<=P){var B=c[S].substring(0,P);j=c[S].substring(P+1)}else B=c[S];g(B,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function yo(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof yo){this.h=c.h,sh(this,c.j),this.o=c.o,this.g=c.g,oh(this,c.s),this.l=c.l;var g=c.i,S=new Tu;S.i=g.i,g.g&&(S.g=new Map(g.g),S.h=g.h),ME(this,S),this.m=c.m}else c&&(g=String(c).match(DE))?(this.h=!1,sh(this,g[1]||"",!0),this.o=Eu(g[2]||""),this.g=Eu(g[3]||"",!0),oh(this,g[4]),this.l=Eu(g[5]||"",!0),ME(this,g[6]||"",!0),this.m=Eu(g[7]||"")):(this.h=!1,this.i=new Tu(null,this.h))}yo.prototype.toString=function(){var c=[],g=this.j;g&&c.push(xu(g,OE,!0),":");var S=this.g;return(S||g=="file")&&(c.push("//"),(g=this.o)&&c.push(xu(g,OE,!0),"@"),c.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&c.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&c.push("/"),c.push(xu(S,S.charAt(0)=="/"?PL:IL,!0))),(S=this.i.toString())&&c.push("?",S),(S=this.m)&&c.push("#",xu(S,kL)),c.join("")};function li(c){return new yo(c)}function sh(c,g,S){c.j=S?Eu(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function oh(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function ME(c,g,S){g instanceof Tu?(c.i=g,NL(c.i,c.h)):(S||(g=xu(g,AL)),c.i=new Tu(g,c.h))}function Xe(c,g,S){c.i.set(g,S)}function ah(c){return Xe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Eu(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function xu(c,g,S){return typeof c=="string"?(c=encodeURI(c).replace(g,RL),S&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function RL(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var OE=/[#\/\?@]/g,IL=/[#\?:]/g,PL=/[#\?]/g,AL=/[#\?@]/g,kL=/#/g;function Tu(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Qi(c){c.g||(c.g=new Map,c.h=0,c.i&&CL(c.i,function(g,S){c.add(decodeURIComponent(g.replace(/\+/g," ")),S)}))}t=Tu.prototype,t.add=function(c,g){Qi(this),this.i=null,c=va(this,c);var S=this.g.get(c);return S||this.g.set(c,S=[]),S.push(g),this.h+=1,this};function LE(c,g){Qi(c),g=va(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function VE(c,g){return Qi(c),g=va(c,g),c.g.has(g)}t.forEach=function(c,g){Qi(this),this.g.forEach(function(S,P){S.forEach(function(j){c.call(g,j,P,this)},this)},this)},t.na=function(){Qi(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),S=[];for(let P=0;P<g.length;P++){const j=c[P];for(let B=0;B<j.length;B++)S.push(g[P])}return S},t.V=function(c){Qi(this);let g=[];if(typeof c=="string")VE(this,c)&&(g=g.concat(this.g.get(va(this,c))));else{c=Array.from(this.g.values());for(let S=0;S<c.length;S++)g=g.concat(c[S])}return g},t.set=function(c,g){return Qi(this),this.i=null,c=va(this,c),VE(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},t.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function FE(c,g,S){LE(c,g),0<S.length&&(c.i=null,c.g.set(va(c,g),v(S)),c.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var S=0;S<g.length;S++){var P=g[S];const B=encodeURIComponent(String(P)),Q=this.V(P);for(P=0;P<Q.length;P++){var j=B;Q[P]!==""&&(j+="="+encodeURIComponent(String(Q[P]))),c.push(j)}}return this.i=c.join("&")};function va(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function NL(c,g){g&&!c.j&&(Qi(c),c.i=null,c.g.forEach(function(S,P){var j=P.toLowerCase();P!=j&&(LE(this,P),FE(this,j,S))},c)),c.j=g}function DL(c,g){const S=new fo;if(a.Image){const P=new Image;P.onload=p(Yi,S,"TestLoadImage: loaded",!0,g,P),P.onerror=p(Yi,S,"TestLoadImage: error",!1,g,P),P.onabort=p(Yi,S,"TestLoadImage: abort",!1,g,P),P.ontimeout=p(Yi,S,"TestLoadImage: timeout",!1,g,P),a.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=c}else g(!1)}function ML(c,g){const S=new fo,P=new AbortController,j=setTimeout(()=>{P.abort(),Yi(S,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:P.signal}).then(B=>{clearTimeout(j),B.ok?Yi(S,"TestPingServer: ok",!0,g):Yi(S,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),Yi(S,"TestPingServer: error",!1,g)})}function Yi(c,g,S,P,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),P(S)}catch{}}function OL(){this.g=new th}function LL(c,g,S){const P=S||"";try{ih(c,function(j,B){let Q=j;u(j)&&(Q=Xn(j)),g.push(P+B+"="+encodeURIComponent(Q))})}catch(j){throw g.push(P+"type="+encodeURIComponent("_badmap")),j}}function Su(c){this.l=c.Ub||null,this.j=c.eb||!1}E(Su,pa),Su.prototype.g=function(){return new lh(this.l,this.j)},Su.prototype.i=function(c){return function(){return c}}({});function lh(c,g){nt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(lh,nt),t=lh.prototype,t.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Cu(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bu(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Cu(this)),this.g&&(this.readyState=3,Cu(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jE(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function jE(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?bu(this):Cu(this),this.readyState==3&&jE(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,bu(this))},t.Qa=function(c){this.g&&(this.response=c,bu(this))},t.ga=function(){this.g&&bu(this)};function bu(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Cu(c)}t.setRequestHeader=function(c,g){this.u.append(c,g)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var S=g.next();!S.done;)S=S.value,c.push(S[0]+": "+S[1]),S=g.next();return c.join(`\r
`)};function Cu(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(lh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function UE(c){let g="";return F(c,function(S,P){g+=P,g+=":",g+=S,g+=`\r
`}),g}function Xm(c,g,S){e:{for(P in S){var P=!1;break e}P=!0}P||(S=UE(S),typeof c=="string"?S!=null&&encodeURIComponent(String(S)):Xe(c,g,S))}function pt(c){nt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(pt,nt);var VL=/^https?$/i,FL=["POST","PUT"];t=pt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,g,S,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pe.g(),this.v=this.o?nh(this.o):nh(pe),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(B){BE(this,B);return}if(c=S||"",S=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var j in P)S.set(j,P[j]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const B of P.keys())S.set(B,P.get(B));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(S.keys()).find(B=>B.toLowerCase()=="content-type"),j=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(FL,g,void 0))||P||j||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,Q]of S)this.g.setRequestHeader(B,Q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{WE(this),this.u=!0,this.g.send(c),this.u=!1}catch(B){BE(this,B)}};function BE(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,$E(c),uh(c)}function $E(c){c.A||(c.A=!0,xt(c,"complete"),xt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,xt(this,"complete"),xt(this,"abort"),uh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),uh(this,!0)),pt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?zE(this):this.bb())},t.bb=function(){zE(this)};function zE(c){if(c.h&&typeof o<"u"&&(!c.v[1]||ui(c)!=4||c.Z()!=2)){if(c.u&&ui(c)==4)fa(c.Ea,0,c);else if(xt(c,"readystatechange"),ui(c)==4){c.h=!1;try{const Q=c.Z();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var S;if(!(S=g)){var P;if(P=Q===0){var j=String(c.D).match(DE)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),P=!VL.test(j?j.toLowerCase():"")}S=P}if(S)xt(c,"complete"),xt(c,"success");else{c.m=6;try{var B=2<ui(c)?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.Z()+"]",$E(c)}}finally{uh(c)}}}}function uh(c,g){if(c.g){WE(c);const S=c.g,P=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||xt(c,"ready");try{S.onreadystatechange=P}catch{}}}function WE(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function ui(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<ui(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),eh(g)}};function KE(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function jL(c){const g={};c=(c.g&&2<=ui(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<c.length;P++){if(_(c[P]))continue;var S=D(c[P]);const j=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const B=g[j]||[];g[j]=B,B.push(S)}C(g,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ru(c,g,S){return S&&S.internalChannelParams&&S.internalChannelParams[c]||g}function HE(c){this.Aa=0,this.i=[],this.j=new fo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ru("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ru("baseRetryDelayMs",5e3,c),this.cb=Ru("retryDelaySeedMs",1e4,c),this.Wa=Ru("forwardChannelMaxRetries",2,c),this.wa=Ru("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new po(c&&c.concurrentRequestLimit),this.Da=new OL,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=HE.prototype,t.la=8,t.G=1,t.connect=function(c,g,S,P){Rt(0),this.W=c,this.H=g||{},S&&P!==void 0&&(this.H.OSID=S,this.H.OAID=P),this.F=this.X,this.I=tx(this,null,this.W),dh(this)};function Jm(c){if(GE(c),c.G==3){var g=c.U++,S=li(c.I);if(Xe(S,"SID",c.K),Xe(S,"RID",g),Xe(S,"TYPE","terminate"),Iu(c,S),g=new ie(c,c.j,g),g.L=2,g.v=ah(li(S)),S=!1,a.navigator&&a.navigator.sendBeacon)try{S=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!S&&a.Image&&(new Image().src=g.v,S=!0),S||(g.g=nx(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Qe(g)}ex(c)}function ch(c){c.g&&(eg(c),c.g.cancel(),c.g=null)}function GE(c){ch(c),c.u&&(a.clearTimeout(c.u),c.u=null),hh(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function dh(c){if(!mo(c.h)&&!c.s){c.s=!0;var g=c.Ga;le||Y(),z||(le(),z=!0),$.add(g,c),c.B=0}}function UL(c,g){return go(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Hi(f(c.Ga,c,g),ZE(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new ie(this,this.j,c);let B=this.o;if(this.S&&(B?(B=w(B),A(B,this.S)):B=this.S),this.m!==null||this.O||(j.H=B,B=null),this.P)e:{for(var g=0,S=0;S<this.i.length;S++){t:{var P=this.i[S];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(g+=P,4096<g){g=S;break e}if(g===4096||S===this.i.length-1){g=S+1;break e}}g=1e3}else g=1e3;g=QE(this,j,g),S=li(this.I),Xe(S,"RID",c),Xe(S,"CVER",22),this.D&&Xe(S,"X-HTTP-Session-Id",this.D),Iu(this,S),B&&(this.O?g="headers="+encodeURIComponent(String(UE(B)))+"&"+g:this.m&&Xm(S,this.m,B)),He(this.h,j),this.Ua&&Xe(S,"TYPE","init"),this.P?(Xe(S,"$req",g),Xe(S,"SID","null"),j.T=!0,De(j,S,null)):De(j,S,g),this.G=2}}else this.G==3&&(c?qE(this,c):this.i.length==0||mo(this.h)||qE(this))};function qE(c,g){var S;g?S=g.l:S=c.U++;const P=li(c.I);Xe(P,"SID",c.K),Xe(P,"RID",S),Xe(P,"AID",c.T),Iu(c,P),c.m&&c.o&&Xm(P,c.m,c.o),S=new ie(c,c.j,S,c.B+1),c.m===null&&(S.H=c.o),g&&(c.i=g.D.concat(c.i)),g=QE(c,S,1e3),S.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),He(c.h,S),De(S,P,g)}function Iu(c,g){c.H&&F(c.H,function(S,P){Xe(g,P,S)}),c.l&&ih({},function(S,P){Xe(g,P,S)})}function QE(c,g,S){S=Math.min(c.i.length,S);var P=c.l?f(c.l.Na,c.l,c):null;e:{var j=c.i;let B=-1;for(;;){const Q=["count="+S];B==-1?0<S?(B=j[0].g,Q.push("ofs="+B)):B=0:Q.push("ofs="+B);let We=!0;for(let Bt=0;Bt<S;Bt++){let Oe=j[Bt].g;const Zt=j[Bt].map;if(Oe-=B,0>Oe)B=Math.max(0,j[Bt].g-100),We=!1;else try{LL(Zt,Q,"req"+Oe+"_")}catch{P&&P(Zt)}}if(We){P=Q.join("&");break e}}}return c=c.i.splice(0,S),g.D=c,P}function YE(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;le||Y(),z||(le(),z=!0),$.add(g,c),c.v=0}}function Zm(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Hi(f(c.Fa,c),ZE(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,XE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Hi(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),ch(this),XE(this))};function eg(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function XE(c){c.g=new ie(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=li(c.qa);Xe(g,"RID","rpc"),Xe(g,"SID",c.K),Xe(g,"AID",c.T),Xe(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Xe(g,"TO",c.ja),Xe(g,"TYPE","xmlhttp"),Iu(c,g),c.m&&c.o&&Xm(g,c.m,c.o),c.L&&(c.g.I=c.L);var S=c.g;c=c.ia,S.L=1,S.v=ah(li(g)),S.m=null,S.P=!0,Ue(S,c)}t.Za=function(){this.C!=null&&(this.C=null,ch(this),Zm(this),Rt(19))};function hh(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function JE(c,g){var S=null;if(c.g==g){hh(c),eg(c),c.g=null;var P=2}else if(ve(c.h,g))S=g.D,Jt(c.h,g),P=1;else return;if(c.G!=0){if(g.o)if(P==1){S=g.m?g.m.length:0,g=Date.now()-g.F;var j=c.B;P=ya(),xt(P,new ho(P,S)),dh(c)}else YE(c);else if(j=g.s,j==3||j==0&&0<g.X||!(P==1&&UL(c,g)||P==2&&Zm(c)))switch(S&&0<S.length&&(g=c.h,g.i=g.i.concat(S)),j){case 1:vo(c,5);break;case 4:vo(c,10);break;case 3:vo(c,6);break;default:vo(c,2)}}}function ZE(c,g){let S=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(S*=2),S*g}function vo(c,g){if(c.j.info("Error code "+g),g==2){var S=f(c.fb,c),P=c.Xa;const j=!P;P=new yo(P||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||sh(P,"https"),ah(P),j?DL(P.toString(),S):ML(P.toString(),S)}else Rt(2);c.G=0,c.l&&c.l.sa(g),ex(c),GE(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function ex(c){if(c.G=0,c.ka=[],c.l){const g=Ye(c.h);(g.length!=0||c.i.length!=0)&&(T(c.ka,g),T(c.ka,c.i),c.h.i.length=0,v(c.i),c.i.length=0),c.l.ra()}}function tx(c,g,S){var P=S instanceof yo?li(S):new yo(S);if(P.g!="")g&&(P.g=g+"."+P.g),oh(P,P.s);else{var j=a.location;P=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;var B=new yo(null);P&&sh(B,P),g&&(B.g=g),j&&oh(B,j),S&&(B.l=S),P=B}return S=c.D,g=c.ya,S&&g&&Xe(P,S,g),Xe(P,"VER",c.la),Iu(c,P),P}function nx(c,g,S){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new pt(new Su({eb:S})):new pt(c.pa),g.Ha(c.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rx(){}t=rx.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function fh(){}fh.prototype.g=function(c,g){return new Ln(c,g)};function Ln(c,g){nt.call(this),this.g=new HE(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!_(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!_(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new wa(this)}E(Ln,nt),Ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){Jm(this.g)},Ln.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var S={};S.__data__=c,c=S}else this.u&&(S={},S.__data__=Xn(c),c=S);g.i.push(new wr(g.Ya++,c)),g.G==3&&dh(g)},Ln.prototype.N=function(){this.g.l=null,delete this.j,Jm(this.g),delete this.g,Ln.aa.N.call(this)};function ix(c){ma.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const S in g){c=S;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}E(ix,ma);function sx(){uo.call(this),this.status=1}E(sx,uo);function wa(c){this.g=c}E(wa,rx),wa.prototype.ua=function(){xt(this.g,"a")},wa.prototype.ta=function(c){xt(this.g,new ix(c))},wa.prototype.sa=function(c){xt(this.g,new sx)},wa.prototype.ra=function(){xt(this.g,"b")},fh.prototype.createWebChannel=fh.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,WD=function(){return new fh},zD=function(){return ya()},$D=Jn,Jv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},X.NO_ERROR=0,X.TIMEOUT=8,X.HTTP_ERROR=6,Tf=X,oe.COMPLETE="complete",BD=oe,vu.EventType=Lr,Lr.OPEN="a",Lr.CLOSE="b",Lr.ERROR="c",Lr.MESSAGE="d",nt.prototype.listen=nt.prototype.K,Zu=vu,UD=Su,pt.prototype.listenOnce=pt.prototype.L,pt.prototype.getLastError=pt.prototype.Ka,pt.prototype.getLastErrorCode=pt.prototype.Ba,pt.prototype.getStatus=pt.prototype.Z,pt.prototype.getResponseJson=pt.prototype.Oa,pt.prototype.getResponseText=pt.prototype.oa,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Ha,jD=pt}).apply(typeof Hh<"u"?Hh:typeof self<"u"?self:typeof window<"u"?window:{});const tC="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lu="10.13.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=new x0("@firebase/firestore");function zu(){return ta.logLevel}function ne(t,...e){if(ta.logLevel<=ke.DEBUG){const n=e.map(F_);ta.debug(`Firestore (${lu}): ${t}`,...n)}}function Bi(t,...e){if(ta.logLevel<=ke.ERROR){const n=e.map(F_);ta.error(`Firestore (${lu}): ${t}`,...n)}}function Fl(t,...e){if(ta.logLevel<=ke.WARN){const n=e.map(F_);ta.warn(`Firestore (${lu}): ${t}`,...n)}}function F_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(t="Unexpected state"){const e=`FIRESTORE (${lu}) INTERNAL ASSERTION FAILED: `+t;throw Bi(e),new Error(e)}function Ke(t,e){t||ye()}function _e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends ii{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kG{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(an.UNAUTHENTICATED))}shutdown(){}}class NG{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class DG{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Fs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Fs,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Fs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string"),new KD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new an(e)}}class MG{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class OG{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new MG(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LG{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VG{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string"),this.R=n.token,new LG(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FG(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=FG(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Le(t,e){return t<e?-1:t>e?1:0}function jl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ce(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Vt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.timestamp=e}static fromTimestamp(e){return new we(e)}static min(){return new we(new Vt(0,0))}static max(){return new we(new Vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n,r){n===void 0?n=0:n>e.length&&ye(),r===void 0?r=e.length-n:r>e.length-n&&ye(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return nd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof nd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class yt extends nd{construct(e,n,r){return new yt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new yt(n)}static emptyPath(){return new yt([])}}const jG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends nd{construct(e,n,r){return new Kt(e,n,r)}static isValidIdentifier(e){return jG.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Kt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ce(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ce(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ce(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ce(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(yt.fromString(e))}static fromName(e){return new de(yt.fromString(e).popFirst(5))}static empty(){return new de(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return yt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new yt(e.slice()))}}function UG(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=we.fromTimestamp(r===1e9?new Vt(n+1,0):new Vt(n,r));return new Qs(i,de.empty(),e)}function BG(t){return new Qs(t.readTime,t.key,-1)}class Qs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Qs(we.min(),de.empty(),-1)}static max(){return new Qs(we.max(),de.empty(),-1)}}function $G(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WG{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kd(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==zG)throw t;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,r)=>{n(e)})}static reject(e){return new K((n,r)=>{r(e)})}static waitFor(e){return new K((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=K.resolve(!1);for(const r of e)n=n.next(i=>i?K.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new K((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new K((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function KG(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Hd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}j_.oe=-1;function Lm(t){return t==null}function xp(t){return t===0&&1/t==-1/0}function HG(t){return typeof t=="number"&&Number.isInteger(t)&&!xp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function uu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function GD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gh(this.root,e,this.comparator,!0)}}class Gh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Wt.RED,this.left=i??Wt.EMPTY,this.right=s??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Wt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Wt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();const e=this.left.check();if(e!==this.right.check())throw ye();return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye()}get value(){throw ye()}get color(){throw ye()}get left(){throw ye()}get right(){throw ye()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rC(this.data.getIterator())}getIteratorFrom(e){return new rC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Gt(this.comparator);return n.data=e,n}}class rC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Pr([])}unionWith(e){let n=new Gt(Kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Pr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new qD("Invalid base64 string: "+s):s}}(e);return new Qt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const GG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(t){if(Ke(!!t),typeof t=="string"){let e=0;const n=GG.exec(t);if(Ke(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:St(t.seconds),nanos:St(t.nanos)}}function St(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function na(t){return typeof t=="string"?Qt.fromBase64String(t):Qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function B_(t){const e=t.mapValue.fields.__previous_value__;return U_(e)?B_(e):e}function rd(t){const e=Ys(t.mapValue.fields.__local_write_time__.timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qG{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class id{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new id("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof id&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ra(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?U_(t)?4:YG(t)?9007199254740991:QG(t)?10:11:ye()}function ni(t,e){if(t===e)return!0;const n=ra(t);if(n!==ra(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rd(t).isEqual(rd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ys(i.timestampValue),a=Ys(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return na(i.bytesValue).isEqual(na(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return St(i.geoPointValue.latitude)===St(s.geoPointValue.latitude)&&St(i.geoPointValue.longitude)===St(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return St(i.integerValue)===St(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=St(i.doubleValue),a=St(s.doubleValue);return o===a?xp(o)===xp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return jl(t.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(nC(o)!==nC(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ni(o[l],a[l])))return!1;return!0}(t,e);default:return ye()}}function sd(t,e){return(t.values||[]).find(n=>ni(n,e))!==void 0}function Ul(t,e){if(t===e)return 0;const n=ra(t),r=ra(e);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=St(s.integerValue||s.doubleValue),l=St(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return iC(t.timestampValue,e.timestampValue);case 4:return iC(rd(t),rd(e));case 5:return Le(t.stringValue,e.stringValue);case 6:return function(s,o){const a=na(s),l=na(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=Le(a[u],l[u]);if(d!==0)return d}return Le(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Le(St(s.latitude),St(o.latitude));return a!==0?a:Le(St(s.longitude),St(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return sC(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;const h=s.fields||{},f=o.fields||{},p=(a=h.value)===null||a===void 0?void 0:a.arrayValue,E=(l=f.value)===null||l===void 0?void 0:l.arrayValue,v=Le(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((d=E==null?void 0:E.values)===null||d===void 0?void 0:d.length)||0);return v!==0?v:sC(p,E)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===qh.mapValue&&o===qh.mapValue)return 0;if(s===qh.mapValue)return 1;if(o===qh.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=Le(l[h],d[h]);if(f!==0)return f;const p=Ul(a[l[h]],u[d[h]]);if(p!==0)return p}return Le(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ye()}}function iC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=Ys(t),r=Ys(e),i=Le(n.seconds,r.seconds);return i!==0?i:Le(n.nanos,r.nanos)}function sC(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ul(n[i],r[i]);if(s)return s}return Le(n.length,r.length)}function Bl(t){return Zv(t)}function Zv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ys(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return na(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return de.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Zv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Zv(n.fields[o])}`;return i+"}"}(t.mapValue):ye()}function ew(t){return!!t&&"integerValue"in t}function $_(t){return!!t&&"arrayValue"in t}function oC(t){return!!t&&"nullValue"in t}function aC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sf(t){return!!t&&"mapValue"in t}function QG(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function wc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return uu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function YG(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.value=e}static empty(){return new or({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wc(n)}setAll(e){let n=Kt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=wc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Sf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Sf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){uu(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new or(wc(this.value))}}function QD(t){const e=[];return uu(t.fields,(n,r)=>{const i=new Kt([n]);if(Sf(r)){const s=QD(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new un(e,0,we.min(),we.min(),we.min(),or.empty(),0)}static newFoundDocument(e,n,r,i){return new un(e,1,n,we.min(),r,i,0)}static newNoDocument(e,n){return new un(e,2,n,we.min(),we.min(),or.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,we.min(),we.min(),or.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n){this.position=e,this.inclusive=n}}function lC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=de.comparator(de.fromName(o.referenceValue),n.key):r=Ul(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function uC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ni(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,n="asc"){this.field=e,this.dir=n}}function XG(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{}class Ot extends YD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ZG(e,n,r):n==="array-contains"?new nq(e,r):n==="in"?new rq(e,r):n==="not-in"?new iq(e,r):n==="array-contains-any"?new sq(e,r):new Ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new eq(e,r):new tq(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ul(n,this.value)):n!==null&&ra(this.value)===ra(n)&&this.matchesComparison(Ul(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends YD{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ri(e,n)}matches(e){return XD(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function XD(t){return t.op==="and"}function JD(t){return JG(t)&&XD(t)}function JG(t){for(const e of t.filters)if(e instanceof ri)return!1;return!0}function tw(t){if(t instanceof Ot)return t.field.canonicalString()+t.op.toString()+Bl(t.value);if(JD(t))return t.filters.map(e=>tw(e)).join(",");{const e=t.filters.map(n=>tw(n)).join(",");return`${t.op}(${e})`}}function ZD(t,e){return t instanceof Ot?function(r,i){return i instanceof Ot&&r.op===i.op&&r.field.isEqual(i.field)&&ni(r.value,i.value)}(t,e):t instanceof ri?function(r,i){return i instanceof ri&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&ZD(o,i.filters[a]),!0):!1}(t,e):void ye()}function eM(t){return t instanceof Ot?function(n){return`${n.field.canonicalString()} ${n.op} ${Bl(n.value)}`}(t):t instanceof ri?function(n){return n.op.toString()+" {"+n.getFilters().map(eM).join(" ,")+"}"}(t):"Filter"}class ZG extends Ot{constructor(e,n,r){super(e,n,r),this.key=de.fromName(r.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class eq extends Ot{constructor(e,n){super(e,"in",n),this.keys=tM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class tq extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=tM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>de.fromName(r.referenceValue))}class nq extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $_(n)&&sd(n.arrayValue,this.value)}}class rq extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&sd(this.value.arrayValue,n)}}class iq extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(sd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!sd(this.value.arrayValue,n)}}class sq extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>sd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function cC(t,e=null,n=[],r=[],i=null,s=null,o=null){return new oq(t,e,n,r,i,s,o)}function z_(t){const e=_e(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>tw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Lm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Bl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Bl(r)).join(",")),e.ue=n}return e.ue}function W_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!XG(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!uC(t.startAt,e.startAt)&&uC(t.endAt,e.endAt)}function nw(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function aq(t,e,n,r,i,s,o,a){return new Vm(t,e,n,r,i,s,o,a)}function K_(t){return new Vm(t)}function dC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function lq(t){return t.collectionGroup!==null}function _c(t){const e=_e(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Gt(Kt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Sp(s,r))}),n.has(Kt.keyField().canonicalString())||e.ce.push(new Sp(Kt.keyField(),r))}return e.ce}function Zr(t){const e=_e(t);return e.le||(e.le=uq(e,_c(t))),e.le}function uq(t,e){if(t.limitType==="F")return cC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Sp(i.field,s)});const n=t.endAt?new Tp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Tp(t.startAt.position,t.startAt.inclusive):null;return cC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function rw(t,e,n){return new Vm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fm(t,e){return W_(Zr(t),Zr(e))&&t.limitType===e.limitType}function nM(t){return`${z_(Zr(t))}|lt:${t.limitType}`}function Ia(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>eM(i)).join(", ")}]`),Lm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Bl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Bl(i)).join(",")),`Target(${r})`}(Zr(t))}; limitType=${t.limitType})`}function jm(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):de.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of _c(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=lC(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,_c(r),i)||r.endAt&&!function(o,a,l){const u=lC(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,_c(r),i))}(t,e)}function cq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function rM(t){return(e,n)=>{let r=!1;for(const i of _c(t)){const s=dq(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function dq(t,e,n){const r=t.field.isKeyField()?de.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Ul(l,u):ye()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){uu(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return GD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hq=new dt(de.comparator);function $i(){return hq}const iM=new dt(de.comparator);function ec(...t){let e=iM;for(const n of t)e=e.insert(n.key,n);return e}function sM(t){let e=iM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ko(){return Ec()}function oM(){return Ec()}function Ec(){return new cu(t=>t.toString(),(t,e)=>t.isEqual(e))}const fq=new dt(de.comparator),pq=new Gt(de.comparator);function Ie(...t){let e=pq;for(const n of t)e=e.add(n);return e}const mq=new Gt(Le);function gq(){return mq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xp(e)?"-0":e}}function aM(t){return{integerValue:""+t}}function yq(t,e){return HG(e)?aM(e):H_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(){this._=void 0}}function vq(t,e,n){return t instanceof bp?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&U_(s)&&(s=B_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof od?uM(t,e):t instanceof ad?cM(t,e):function(i,s){const o=lM(i,s),a=hC(o)+hC(i.Pe);return ew(o)&&ew(i.Pe)?aM(a):H_(i.serializer,a)}(t,e)}function wq(t,e,n){return t instanceof od?uM(t,e):t instanceof ad?cM(t,e):n}function lM(t,e){return t instanceof Cp?function(r){return ew(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class bp extends Um{}class od extends Um{constructor(e){super(),this.elements=e}}function uM(t,e){const n=dM(e);for(const r of t.elements)n.some(i=>ni(i,r))||n.push(r);return{arrayValue:{values:n}}}class ad extends Um{constructor(e){super(),this.elements=e}}function cM(t,e){let n=dM(e);for(const r of t.elements)n=n.filter(i=>!ni(i,r));return{arrayValue:{values:n}}}class Cp extends Um{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function hC(t){return St(t.integerValue||t.doubleValue)}function dM(t){return $_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function _q(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof od&&i instanceof od||r instanceof ad&&i instanceof ad?jl(r.elements,i.elements,ni):r instanceof Cp&&i instanceof Cp?ni(r.Pe,i.Pe):r instanceof bp&&i instanceof bp}(t.transform,e.transform)}class Eq{constructor(e,n){this.version=e,this.transformResults=n}}class Pi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pi}static exists(e){return new Pi(void 0,e)}static updateTime(e){return new Pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let Bm=class{};function hM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new pM(t.key,Pi.none()):new Gd(t.key,t.data,Pi.none());{const n=t.data,r=or.empty();let i=new Gt(Kt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new da(t.key,r,new Pr(i.toArray()),Pi.none())}}function xq(t,e,n){t instanceof Gd?function(i,s,o){const a=i.value.clone(),l=pC(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof da?function(i,s,o){if(!bf(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=pC(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(fM(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function xc(t,e,n,r){return t instanceof Gd?function(s,o,a,l){if(!bf(s.precondition,o))return a;const u=s.value.clone(),d=mC(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof da?function(s,o,a,l){if(!bf(s.precondition,o))return a;const u=mC(s.fieldTransforms,l,o),d=o.data;return d.setAll(fM(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return bf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Tq(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=lM(r.transform,i||null);s!=null&&(n===null&&(n=or.empty()),n.set(r.field,s))}return n||null}function fC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&jl(r,i,(s,o)=>_q(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Gd extends Bm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class da extends Bm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function fM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function pC(t,e,n){const r=new Map;Ke(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,wq(o,a,n[i]))}return r}function mC(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,vq(s,o,e))}return r}class pM extends Bm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sq extends Bm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bq{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&xq(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=xc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=xc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=oM();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=hM(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&jl(this.mutations,e.mutations,(n,r)=>fC(n,r))&&jl(this.baseMutations,e.baseMutations,(n,r)=>fC(n,r))}}class G_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ke(e.mutations.length===r.length);let i=function(){return fq}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new G_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cq=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Ne;function Iq(t){switch(t){default:return ye();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function mM(t){if(t===void 0)return Bi("GRPC error has no .code"),H.UNKNOWN;switch(t){case Pt.OK:return H.OK;case Pt.CANCELLED:return H.CANCELLED;case Pt.UNKNOWN:return H.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return H.INTERNAL;case Pt.UNAVAILABLE:return H.UNAVAILABLE;case Pt.UNAUTHENTICATED:return H.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case Pt.NOT_FOUND:return H.NOT_FOUND;case Pt.ALREADY_EXISTS:return H.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return H.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case Pt.ABORTED:return H.ABORTED;case Pt.OUT_OF_RANGE:return H.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return H.UNIMPLEMENTED;case Pt.DATA_LOSS:return H.DATA_LOSS;default:return ye()}}(Ne=Pt||(Pt={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pq(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aq=new zo([4294967295,4294967295],0);function gC(t){const e=Pq().encode(t),n=new FD;return n.update(e),new Uint8Array(n.digest())}function yC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new zo([n,r],0),new zo([i,s],0)]}class q_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new tc(`Invalid padding: ${n}`);if(r<0)throw new tc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new tc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new tc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=zo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(zo.fromNumber(r)));return i.compare(Aq)===1&&(i=new zo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=gC(e),[r,i]=yC(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new q_(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=gC(e),[r,i]=yC(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class tc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,qd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new $m(we.min(),i,new dt(Le),$i(),Ie())}}class qd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new qd(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class gM{constructor(e,n){this.targetId=e,this.me=n}}class yM{constructor(e,n,r=Qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class vC{constructor(){this.fe=0,this.ge=_C(),this.pe=Qt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ie(),n=Ie(),r=Ie();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ye()}}),new qd(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=_C()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class kq{constructor(e){this.Le=e,this.Be=new Map,this.ke=$i(),this.qe=wC(),this.Qe=new dt(Le)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ye()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(nw(s))if(r===0){const o=new de(s.path);this.Ue(n,o,un.newNoDocument(o,we.min()))}else Ke(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=na(r).toUint8Array()}catch(l){if(l instanceof qD)return Fl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new q_(o,i,s)}catch(l){return Fl(l instanceof tc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&nw(a.target)){const l=new de(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,un.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Ie();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new $m(e,n,this.Qe,this.ke,r);return this.ke=$i(),this.qe=wC(),this.Qe=new dt(Le),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new vC,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Gt(Le),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new vC),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function wC(){return new dt(de.comparator)}function _C(){return new dt(de.comparator)}const Nq={asc:"ASCENDING",desc:"DESCENDING"},Dq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mq={and:"AND",or:"OR"};class Oq{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function iw(t,e){return t.useProto3Json||Lm(e)?e:{value:e}}function Rp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Lq(t,e){return Rp(t,e.toTimestamp())}function ei(t){return Ke(!!t),we.fromTimestamp(function(n){const r=Ys(n);return new Vt(r.seconds,r.nanos)}(t))}function Q_(t,e){return sw(t,e).canonicalString()}function sw(t,e){const n=function(i){return new yt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function wM(t){const e=yt.fromString(t);return Ke(SM(e)),e}function ow(t,e){return Q_(t.databaseId,e.path)}function dy(t,e){const n=wM(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de(EM(n))}function _M(t,e){return Q_(t.databaseId,e)}function Vq(t){const e=wM(t);return e.length===4?yt.emptyPath():EM(e)}function aw(t){return new yt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function EM(t){return Ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function EC(t,e,n){return{name:ow(t,e),fields:n.value.mapValue.fields}}function Fq(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Ke(d===void 0||typeof d=="string"),Qt.fromBase64String(d||"")):(Ke(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Qt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?H.UNKNOWN:mM(u.code);return new ce(d,u.message||"")}(o);n=new yM(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=dy(t,r.document.name),s=ei(r.document.updateTime),o=r.document.createTime?ei(r.document.createTime):we.min(),a=new or({mapValue:{fields:r.document.fields}}),l=un.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Cf(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=dy(t,r.document),s=r.readTime?ei(r.readTime):we.min(),o=un.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Cf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=dy(t,r.document),s=r.removedTargetIds||[];n=new Cf([],s,i,null)}else{if(!("filter"in e))return ye();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Rq(i,s),a=r.targetId;n=new gM(a,o)}}return n}function jq(t,e){let n;if(e instanceof Gd)n={update:EC(t,e.key,e.value)};else if(e instanceof pM)n={delete:ow(t,e.key)};else if(e instanceof da)n={update:EC(t,e.key,e.data),updateMask:qq(e.fieldMask)};else{if(!(e instanceof Sq))return ye();n={verify:ow(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof bp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof od)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ad)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Cp)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ye()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Lq(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ye()}(t,e.precondition)),n}function Uq(t,e){return t&&t.length>0?(Ke(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ei(i.updateTime):ei(s);return o.isEqual(we.min())&&(o=ei(s)),new Eq(o,i.transformResults||[])}(n,e))):[]}function Bq(t,e){return{documents:[_M(t,e.path)]}}function $q(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=_M(t,i);const s=function(u){if(u.length!==0)return TM(ri.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:Pa(f.field),direction:Kq(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=iw(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function zq(t){let e=Vq(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ke(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=xM(h);return f instanceof ri&&JD(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(E){return new Sp(Aa(E.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Lm(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new Tp(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,p=h.values||[];return new Tp(p,f)}(n.endAt)),aq(e,i,o,s,a,"F",l,u)}function Wq(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function xM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Aa(n.unaryFilter.field);return Ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Aa(n.unaryFilter.field);return Ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Aa(n.unaryFilter.field);return Ot.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Aa(n.unaryFilter.field);return Ot.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ye()}}(t):t.fieldFilter!==void 0?function(n){return Ot.create(Aa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ye()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ri.create(n.compositeFilter.filters.map(r=>xM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ye()}}(n.compositeFilter.op))}(t):ye()}function Kq(t){return Nq[t]}function Hq(t){return Dq[t]}function Gq(t){return Mq[t]}function Pa(t){return{fieldPath:t.canonicalString()}}function Aa(t){return Kt.fromServerFormat(t.fieldPath)}function TM(t){return t instanceof Ot?function(n){if(n.op==="=="){if(aC(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NAN"}};if(oC(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(aC(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NOT_NAN"}};if(oC(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pa(n.field),op:Hq(n.op),value:n.value}}}(t):t instanceof ri?function(n){const r=n.getFilters().map(i=>TM(i));return r.length===1?r[0]:{compositeFilter:{op:Gq(n.op),filters:r}}}(t):ye()}function qq(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function SM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n,r,i,s=we.min(),o=we.min(),a=Qt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qq{constructor(e){this.ct=e}}function Yq(t){const e=zq({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(){this.un=new Jq}addToCollectionParentIndex(e,n){return this.un.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(Qs.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(Qs.min())}updateCollectionGroup(e,n,r){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class Jq{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Gt(yt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Gt(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new $l(0)}static kn(){return new $l(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{constructor(){this.changes=new cu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?K.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tQ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&xc(r.mutation,i,Pr.empty(),Vt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){const i=ko();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ec();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ko();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=$i();const o=Ec(),a=function(){return Ec()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof da)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),xc(d.mutation,u,d.mutation.getFieldMask(),Vt.now())):o.set(u.key,Pr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new eQ(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ec();let i=new dt((o,a)=>o-a),s=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Pr.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(i.get(a.batchId)||Ie()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=oM();d.forEach(f=>{if(!s.has(f)){const p=hM(n.get(f),r.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return K.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return de.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):lq(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):K.resolve(ko());let a=-1,l=s;return o.next(u=>K.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?K.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ie())).next(d=>({batchId:a,changes:sM(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next(r=>{let i=ec();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ec();return this.indexManager.getCollectionParents(e,s).next(a=>K.forEach(a,l=>{const u=function(h,f){return new Vm(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,un.newInvalidDocument(d)))});let a=ec();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&xc(d.mutation,u,Pr.empty(),Vt.now()),jm(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nQ{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return K.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ei(i.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Yq(i.bundledQuery),readTime:ei(i.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rQ{constructor(){this.overlays=new dt(de.comparator),this.Ir=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ko();return K.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),K.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),K.resolve()}getOverlaysForCollection(e,n,r){const i=ko(),s=n.length+1,o=new de(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return K.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new dt((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=ko(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=ko(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return K.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Cq(n,r));let s=this.Ir.get(n);s===void 0&&(s=Ie(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iQ{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(){this.Tr=new Gt(Ft.Er),this.dr=new Gt(Ft.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ft(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ft(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new de(new yt([])),r=new Ft(n,e),i=new Ft(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new de(new yt([])),r=new Ft(n,e),i=new Ft(n,e+1);let s=Ie();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ft(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ft{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return de.comparator(e.key,n.key)||Le(e.wr,n.wr)}static Ar(e,n){return Le(e.wr,n.wr)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sQ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Gt(Ft.Er)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new bq(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Ft(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return K.resolve(o)}lookupMutationBatch(e,n){return K.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return K.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ft(n,0),i=new Ft(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),K.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Gt(Le);return n.forEach(i=>{const s=new Ft(i,0),o=new Ft(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),K.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;de.isDocumentKey(s)||(s=s.child(""));const o=new Ft(new de(s),0);let a=new Gt(Le);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),K.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ke(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return K.forEach(n.mutations,i=>{const s=new Ft(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ft(n,0),i=this.br.firstAfterOrEqual(r);return K.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oQ{constructor(e){this.Mr=e,this.docs=function(){return new dt(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return K.resolve(r?r.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let r=$i();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():un.newInvalidDocument(i))}),K.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=$i();const o=n.path,a=new de(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||$G(BG(d),r)<=0||(i.has(d.key)||jm(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return K.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ye()}Or(e,n){return K.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new aQ(this)}getSize(e){return K.resolve(this.size)}}class aQ extends Zq{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),K.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lQ{constructor(e){this.persistence=e,this.Nr=new cu(n=>z_(n),W_),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Y_,this.targetCount=0,this.kr=$l.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),K.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new $l(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.Kn(n),K.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),K.waitFor(s).next(()=>i)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return K.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),K.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),K.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),K.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return K.resolve(r)}containsKey(e,n){return K.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uQ{constructor(e,n){this.qr={},this.overlays={},this.Qr=new j_(0),this.Kr=!1,this.Kr=!0,this.$r=new iQ,this.referenceDelegate=e(this),this.Ur=new lQ(this),this.indexManager=new Xq,this.remoteDocumentCache=function(i){return new oQ(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Qq(n),this.Gr=new nQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rQ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new sQ(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ne("MemoryPersistence","Starting transaction:",e);const i=new cQ(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return K.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class cQ extends WG{constructor(e){super(),this.currentSequenceNumber=e}}class X_{constructor(e){this.persistence=e,this.Jr=new Y_,this.Yr=null}static Zr(e){return new X_(e)}get Xr(){if(this.Yr)return this.Yr;throw ye()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),K.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),K.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Xr,r=>{const i=de.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,we.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return K.or([()=>K.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ie(),i=Ie();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new J_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hQ{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return RF()?8:KG(pn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new dQ;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(zu()<=ke.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",Ia(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),K.resolve()):(zu()<=ke.DEBUG&&ne("QueryEngine","Query:",Ia(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(zu()<=ke.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",Ia(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zr(n))):K.resolve())}Yi(e,n){if(dC(n))return K.resolve(null);let r=Zr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=rw(n,null,"F"),r=Zr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ie(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,rw(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return dC(n)||i.isEqual(we.min())?K.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?K.resolve(null):(zu()<=ke.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ia(n)),this.rs(e,o,n,UG(i,-1)).next(a=>a))})}ts(e,n){let r=new Gt(rM(e));return n.forEach((i,s)=>{jm(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return zu()<=ke.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",Ia(n)),this.Ji.getDocumentsMatchingQuery(e,n,Qs.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fQ{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new dt(Le),this._s=new cu(s=>z_(s),W_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tQ(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function pQ(t,e,n,r){return new fQ(t,e,n,r)}async function bM(t,e){const n=_e(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ie();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function mQ(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,f=h.keys();let p=K.resolve();return f.forEach(E=>{p=p.next(()=>d.getEntry(l,E)).next(v=>{const T=u.docVersions.get(E);Ke(T!==null),v.version.compareTo(T)<0&&(h.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),d.addEntry(v)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ie();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function CM(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function gQ(t,e){const n=_e(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Qt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),i=i.insert(h,p),function(v,T,x){return v.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(f,p,d)&&a.push(n.Ur.updateTargetData(s,p))});let l=$i(),u=Ie();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(yQ(s,o,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!r.isEqual(we.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return K.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function yQ(t,e,n){let r=Ie(),i=Ie();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=$i();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(we.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ne("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function vQ(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function wQ(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,K.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new bs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function lw(t,e,n){const r=_e(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Hd(o))throw o;ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function xC(t,e,n){const r=_e(t);let i=we.min(),s=Ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=_e(l),f=h._s.get(d);return f!==void 0?K.resolve(h.os.get(f)):h.Ur.getTargetData(u,d)}(r,o,Zr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:we.min(),n?s:Ie())).next(a=>(_Q(r,cq(e),a),{documents:a,Ts:s})))}function _Q(t,e,n){let r=t.us.get(e)||we.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class TC{constructor(){this.activeTargetIds=gq()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class EQ{constructor(){this.so=new TC,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new TC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xQ{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh=null;function hy(){return Qh===null?Qh=function(){return 268435456+Math.round(2147483648*Math.random())}():Qh++,"0x"+Qh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SQ{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class bQ extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=hy(),l=this.xo(n,r.toUriEncodedString());ne("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(d=>(ne("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Fl("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+lu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=TQ[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=hy();return new Promise((o,a)=>{const l=new jD;l.setWithCredentials(!0),l.listenOnce(BD.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Tf.NO_ERROR:const d=l.getResponseJson();ne(rn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Tf.TIMEOUT:ne(rn,`RPC '${e}' ${s} timed out`),a(new ce(H.DEADLINE_EXCEEDED,"Request time out"));break;case Tf.HTTP_ERROR:const h=l.getStatus();if(ne(rn,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const E=function(T){const x=T.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(x)>=0?x:H.UNKNOWN}(p.status);a(new ce(E,p.message))}else a(new ce(H.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ce(H.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{ne(rn,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);ne(rn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=hy(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=WD(),a=zD(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new UD({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");ne(rn,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,p=!1;const E=new SQ({Io:T=>{p?ne(rn,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(f||(ne(rn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),ne(rn,`RPC '${e}' stream ${i} sending:`,T),h.send(T))},To:()=>h.close()}),v=(T,x,_)=>{T.listen(x,b=>{try{_(b)}catch(I){setTimeout(()=>{throw I},0)}})};return v(h,Zu.EventType.OPEN,()=>{p||(ne(rn,`RPC '${e}' stream ${i} transport opened.`),E.yo())}),v(h,Zu.EventType.CLOSE,()=>{p||(p=!0,ne(rn,`RPC '${e}' stream ${i} transport closed`),E.So())}),v(h,Zu.EventType.ERROR,T=>{p||(p=!0,Fl(rn,`RPC '${e}' stream ${i} transport errored:`,T),E.So(new ce(H.UNAVAILABLE,"The operation could not be completed")))}),v(h,Zu.EventType.MESSAGE,T=>{var x;if(!p){const _=T.data[0];Ke(!!_);const b=_,I=b.error||((x=b[0])===null||x===void 0?void 0:x.error);if(I){ne(rn,`RPC '${e}' stream ${i} received error:`,I);const N=I.status;let F=function(R){const A=Pt[R];if(A!==void 0)return mM(A)}(N),C=I.message;F===void 0&&(F=H.INTERNAL,C="Unknown error status: "+N+" with message "+I.message),p=!0,E.So(new ce(F,C)),h.close()}else ne(rn,`RPC '${e}' stream ${i} received:`,_),E.bo(_)}}),v(a,$D.STAT_EVENT,T=>{T.stat===Jv.PROXY?ne(rn,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===Jv.NOPROXY&&ne(rn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}}function fy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(t){return new Oq(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new RM(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(Bi(n.toString()),Bi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ce(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CQ extends IM{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Fq(this.serializer,e),r=function(s){if(!("targetChange"in s))return we.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?we.min():o.readTime?ei(o.readTime):we.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=aw(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=nw(l)?{documents:Bq(s,l)}:{query:$q(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=vM(s,o.resumeToken);const u=iw(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(we.min())>0){a.readTime=Rp(s,o.snapshotVersion.toTimestamp());const u=iw(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=Wq(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=aw(this.serializer),n.removeTarget=e,this.a_(n)}}class RQ extends IM{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Uq(e.writeResults,e.commitTime),r=ei(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=aw(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>jq(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IQ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ce(H.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,sw(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ce(H.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,sw(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(H.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class PQ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Bi(n),this.D_=!1):ne("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AQ{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{ha(this)&&(ne("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=_e(l);u.L_.add(4),await Qd(u),u.q_.set("Unknown"),u.L_.delete(4),await Wm(u)}(this))})}),this.q_=new PQ(r,i)}}async function Wm(t){if(ha(t))for(const e of t.B_)await e(!0)}async function Qd(t){for(const e of t.B_)await e(!1)}function PM(t,e){const n=_e(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),nE(n)?tE(n):du(n).r_()&&eE(n,e))}function Z_(t,e){const n=_e(t),r=du(n);n.N_.delete(e),r.r_()&&AM(n,e),n.N_.size===0&&(r.r_()?r.o_():ha(n)&&n.q_.set("Unknown"))}function eE(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}du(t).A_(e)}function AM(t,e){t.Q_.xe(e),du(t).R_(e)}function tE(t){t.Q_=new kq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),du(t).start(),t.q_.v_()}function nE(t){return ha(t)&&!du(t).n_()&&t.N_.size>0}function ha(t){return _e(t).L_.size===0}function kM(t){t.Q_=void 0}async function kQ(t){t.q_.set("Online")}async function NQ(t){t.N_.forEach((e,n)=>{eE(t,e)})}async function DQ(t,e){kM(t),nE(t)?(t.q_.M_(e),tE(t)):t.q_.set("Unknown")}async function MQ(t,e,n){if(t.q_.set("Online"),e instanceof yM&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ip(t,r)}else if(e instanceof Cf?t.Q_.Ke(e):e instanceof gM?t.Q_.He(e):t.Q_.We(e),!n.isEqual(we.min()))try{const r=await CM(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(Qt.EMPTY_BYTE_STRING,d.snapshotVersion)),AM(s,l);const h=new bs(d.target,l,u,d.sequenceNumber);eE(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ne("RemoteStore","Failed to raise snapshot:",r),await Ip(t,r)}}async function Ip(t,e,n){if(!Hd(e))throw e;t.L_.add(1),await Qd(t),t.q_.set("Offline"),n||(n=()=>CM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ne("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Wm(t)})}function NM(t,e){return e().catch(n=>Ip(t,n,e))}async function Km(t){const e=_e(t),n=Xs(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;OQ(e);)try{const i=await vQ(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,LQ(e,i)}catch(i){await Ip(e,i)}DM(e)&&MM(e)}function OQ(t){return ha(t)&&t.O_.length<10}function LQ(t,e){t.O_.push(e);const n=Xs(t);n.r_()&&n.V_&&n.m_(e.mutations)}function DM(t){return ha(t)&&!Xs(t).n_()&&t.O_.length>0}function MM(t){Xs(t).start()}async function VQ(t){Xs(t).p_()}async function FQ(t){const e=Xs(t);for(const n of t.O_)e.m_(n.mutations)}async function jQ(t,e,n){const r=t.O_.shift(),i=G_.from(r,e,n);await NM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Km(t)}async function UQ(t,e){e&&Xs(t).V_&&await async function(r,i){if(function(o){return Iq(o)&&o!==H.ABORTED}(i.code)){const s=r.O_.shift();Xs(r).s_(),await NM(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Km(r)}}(t,e),DM(t)&&MM(t)}async function bC(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),ne("RemoteStore","RemoteStore received new credentials");const r=ha(n);n.L_.add(3),await Qd(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Wm(n)}async function BQ(t,e){const n=_e(t);e?(n.L_.delete(2),await Wm(n)):e||(n.L_.add(2),await Qd(n),n.q_.set("Unknown"))}function du(t){return t.K_||(t.K_=function(n,r,i){const s=_e(n);return s.w_(),new CQ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:kQ.bind(null,t),Ro:NQ.bind(null,t),mo:DQ.bind(null,t),d_:MQ.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),nE(t)?tE(t):t.q_.set("Unknown")):(await t.K_.stop(),kM(t))})),t.K_}function Xs(t){return t.U_||(t.U_=function(n,r,i){const s=_e(n);return s.w_(),new RQ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:VQ.bind(null,t),mo:UQ.bind(null,t),f_:FQ.bind(null,t),g_:jQ.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Km(t)):(await t.U_.stop(),t.O_.length>0&&(ne("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new rE(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iE(t,e){if(Bi("AsyncQueue",`${e}: ${t}`),Hd(t))return new ce(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this.comparator=e?(n,r)=>e(n,r)||de.comparator(n.key,r.key):(n,r)=>de.comparator(n.key,r.key),this.keyedMap=ec(),this.sortedSet=new dt(this.comparator)}static emptySet(e){return new ll(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ll)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ll;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(){this.W_=new dt(de.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ye():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class zl{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new zl(e,n,ll.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Q{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class zQ{constructor(){this.queries=RC(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=_e(n),s=i.queries;i.queries=RC(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ce(H.ABORTED,"Firestore shutting down"))}}function RC(){return new cu(t=>nM(t),Fm)}async function WQ(t,e){const n=_e(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new $Q,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=iE(o,`Initialization of query '${Ia(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&sE(n)}async function KQ(t,e){const n=_e(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function HQ(t,e){const n=_e(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&sE(n)}function GQ(t,e,n){const r=_e(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function sE(t){t.Y_.forEach(e=>{e.next()})}var uw,IC;(IC=uw||(uw={})).ea="default",IC.Cache="cache";class qQ{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new zl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=zl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==uw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e){this.key=e}}class LM{constructor(e){this.key=e}}class QQ{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ie(),this.mutatedKeys=Ie(),this.Aa=rM(e),this.Ra=new ll(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new CC,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),p=jm(this.query,h)?h:null,E=!!f&&this.mutatedKeys.has(f.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let T=!1;f&&p?f.data.isEqual(p.data)?E!==v&&(r.track({type:3,doc:p}),T=!0):this.ga(f,p)||(r.track({type:2,doc:p}),T=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),T=!0):f&&!p&&(r.track({type:1,doc:f}),T=!0,(l||u)&&(a=!0)),T&&(p?(o=o.add(p),s=v?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(p,E){const v=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return v(p)-v(E)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new zl(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new CC,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ie(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new LM(r))}),this.da.forEach(r=>{e.has(r)||n.push(new OM(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ie();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return zl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class YQ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class XQ{constructor(e){this.key=e,this.va=!1}}class JQ{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new cu(a=>nM(a),Fm),this.Ma=new Map,this.xa=new Set,this.Oa=new dt(de.comparator),this.Na=new Map,this.La=new Y_,this.Ba={},this.ka=new Map,this.qa=$l.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function ZQ(t,e,n=!0){const r=$M(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await VM(r,e,n,!0),i}async function eY(t,e){const n=$M(t);await VM(n,e,!0,!1)}async function VM(t,e,n,r){const i=await wQ(t.localStore,Zr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await tY(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&PM(t.remoteStore,i),a}async function tY(t,e,n,r,i){t.Ka=(h,f,p)=>async function(v,T,x,_){let b=T.view.ma(x);b.ns&&(b=await xC(v.localStore,T.query,!1).then(({documents:C})=>T.view.ma(C,b)));const I=_&&_.targetChanges.get(T.targetId),N=_&&_.targetMismatches.get(T.targetId)!=null,F=T.view.applyChanges(b,v.isPrimaryClient,I,N);return AC(v,T.targetId,F.wa),F.snapshot}(t,h,f,p);const s=await xC(t.localStore,e,!0),o=new QQ(e,s.Ts),a=o.ma(s.documents),l=qd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);AC(t,n,u.wa);const d=new YQ(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function nY(t,e,n){const r=_e(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Fm(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await lw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Z_(r.remoteStore,i.targetId),cw(r,i.targetId)}).catch(Kd)):(cw(r,i.targetId),await lw(r.localStore,i.targetId,!0))}async function rY(t,e){const n=_e(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Z_(n.remoteStore,r.targetId))}async function iY(t,e,n){const r=dY(t);try{const i=await function(o,a){const l=_e(o),u=Vt.now(),d=a.reduce((p,E)=>p.add(E.key),Ie());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let E=$i(),v=Ie();return l.cs.getEntries(p,d).next(T=>{E=T,E.forEach((x,_)=>{_.isValidDocument()||(v=v.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,E)).next(T=>{h=T;const x=[];for(const _ of a){const b=Tq(_,h.get(_.key).overlayedDocument);b!=null&&x.push(new da(_.key,b,QD(b.value.mapValue),Pi.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,x,a)}).next(T=>{f=T;const x=T.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(p,T.batchId,x)})}).then(()=>({batchId:f.batchId,changes:sM(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new dt(Le)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await Yd(r,i.changes),await Km(r.remoteStore)}catch(i){const s=iE(i,"Failed to persist write");n.reject(s)}}async function FM(t,e){const n=_e(t);try{const r=await gQ(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ke(o.va):i.removedDocuments.size>0&&(Ke(o.va),o.va=!1))}),await Yd(n,r,e)}catch(r){await Kd(r)}}function PC(t,e,n){const r=_e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=_e(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const f of h.j_)f.Z_(a)&&(u=!0)}),u&&sE(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sY(t,e,n){const r=_e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new dt(de.comparator);o=o.insert(s,un.newNoDocument(s,we.min()));const a=Ie().add(s),l=new $m(we.min(),new Map,new dt(Le),o,a);await FM(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),oE(r)}else await lw(r.localStore,e,!1).then(()=>cw(r,e,n)).catch(Kd)}async function oY(t,e){const n=_e(t),r=e.batch.batchId;try{const i=await mQ(n.localStore,e);UM(n,r,null),jM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Yd(n,i)}catch(i){await Kd(i)}}async function aY(t,e,n){const r=_e(t);try{const i=await function(o,a){const l=_e(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Ke(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);UM(r,e,n),jM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Yd(r,i)}catch(i){await Kd(i)}}function jM(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function UM(t,e,n){const r=_e(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function cw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||BM(t,r)})}function BM(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Z_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),oE(t))}function AC(t,e,n){for(const r of n)r instanceof OM?(t.La.addReference(r.key,e),lY(t,r)):r instanceof LM?(ne("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||BM(t,r.key)):ye()}function lY(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ne("SyncEngine","New document in limbo: "+n),t.xa.add(r),oE(t))}function oE(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new de(yt.fromString(e)),r=t.qa.next();t.Na.set(r,new XQ(n)),t.Oa=t.Oa.insert(n,r),PM(t.remoteStore,new bs(Zr(K_(n.path)),r,"TargetPurposeLimboResolution",j_.oe))}}async function Yd(t,e,n){const r=_e(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=J_.Wi(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const d=_e(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>K.forEach(u,f=>K.forEach(f.$i,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>K.forEach(f.Ui,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Hd(h))throw h;ne("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=d.os.get(f),E=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(E);d.os=d.os.insert(f,v)}}}(r.localStore,s))}async function uY(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){ne("SyncEngine","User change. New user:",e.toKey());const r=await bM(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new ce(H.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Yd(n,r.hs)}}function cY(t,e){const n=_e(t),r=n.Na.get(e);if(r&&r.va)return Ie().add(r.key);{let i=Ie();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function $M(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sY.bind(null,e),e.Ca.d_=HQ.bind(null,e.eventManager),e.Ca.$a=GQ.bind(null,e.eventManager),e}function dY(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aY.bind(null,e),e}class kC{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=zm(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return pQ(this.persistence,new hQ,e.initialUser,this.serializer)}createPersistence(e){return new uQ(X_.Zr,this.serializer)}createSharedClientState(e){return new EQ}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class hY{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>PC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=uY.bind(null,this.syncEngine),await BQ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zQ}()}createDatastore(e){const n=zm(e.databaseInfo.databaseId),r=function(s){return new bQ(s)}(e.databaseInfo);return function(s,o,a,l){return new IQ(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new AQ(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>PC(this.syncEngine,n,0),function(){return SC.D()?new SC:new xQ}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const h=new JQ(i,s,o,a,l,u);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=_e(i);ne("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Qd(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fY{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Bi("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pY{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=an.UNAUTHENTICATED,this.clientId=HD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ne("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ne("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ce(H.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=iE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function py(t,e){t.asyncQueue.verifyOperationInProgress(),ne("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await bM(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function NC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await gY(t);ne("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>bC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>bC(e.remoteStore,i)),t._onlineComponents=e}function mY(t){return t.name==="FirebaseError"?t.code===H.FAILED_PRECONDITION||t.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function gY(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne("FirestoreClient","Using user provided OfflineComponentProvider");try{await py(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!mY(n))throw n;Fl("Error using user provided cache. Falling back to memory cache: "+n),await py(t,new kC)}}else ne("FirestoreClient","Using default OfflineComponentProvider"),await py(t,new kC);return t._offlineComponents}async function zM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne("FirestoreClient","Using user provided OnlineComponentProvider"),await NC(t,t._uninitializedComponentsProvider._online)):(ne("FirestoreClient","Using default OnlineComponentProvider"),await NC(t,new hY))),t._onlineComponents}function yY(t){return zM(t).then(e=>e.syncEngine)}async function vY(t){const e=await zM(t),n=e.eventManager;return n.onListen=ZQ.bind(null,e.syncEngine),n.onUnlisten=nY.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=eY.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=rY.bind(null,e.syncEngine),n}function wY(t,e,n={}){const r=new Fs;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new fY({next:f=>{o.enqueueAndForget(()=>KQ(s,h));const p=f.docs.has(a);!p&&f.fromCache?u.reject(new ce(H.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?u.reject(new ce(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new qQ(K_(a.path),d,{includeMetadataChanges:!0,_a:!0});return WQ(s,h)}(await vY(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Y(t,e,n){if(!n)throw new ce(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function EY(t,e,n,r){if(e===!0&&r===!0)throw new ce(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function MC(t){if(!de.isDocumentKey(t))throw new ce(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function aE(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ye()}function ld(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=aE(t);throw new ce(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EY("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lE{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OC({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ce(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ce(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OC(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new kG;switch(r.type){case"firstParty":return new OG(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=DC.get(n);r&&(ne("ComponentProvider","Removing Datastore"),DC.delete(n),r.terminate())}(this),Promise.resolve()}}function xY(t,e,n,r={}){var i;const s=(t=ld(t,lE))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Fl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=an.MOCK_USER;else{a=VI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ce(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new an(u)}t._authCredentials=new NG(new KD(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TY=class KM{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new KM(this.firestore,e,this._query)}};class cr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ud(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cr(this.firestore,e,this._key)}}class ud extends TY{constructor(e,n,r){super(e,n,K_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cr(this.firestore,null,new de(e))}withConverter(e){return new ud(this.firestore,e,this._path)}}function HM(t,e,...n){if(t=mn(t),arguments.length===1&&(e=HD.newId()),_Y("doc","path",e),t instanceof lE){const r=yt.fromString(e,...n);return MC(r),new cr(t,null,new de(r))}{if(!(t instanceof cr||t instanceof ud))throw new ce(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(yt.fromString(e,...n));return MC(r),new cr(t.firestore,t instanceof ud?t.converter:null,new de(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SY{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new RM(this,"async_queue_retry"),this.Eu=()=>{const n=fy();n&&ne("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=fy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=fy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new Fs;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Hd(e))throw e;ne("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Bi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=rE.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&ye()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class uE extends lE{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new SY}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||qM(this),this._firestoreClient.terminate()}}function bY(t,e){const n=typeof t=="object"?t:S0(),r=typeof t=="string"?t:"(default)",i=Xp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=MI("firestore");s&&xY(i,...s)}return i}function GM(t){return t._firestoreClient||qM(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function qM(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new qG(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,WM(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new pY(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wl(Qt.fromBase64String(e))}catch(n){throw new ce(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wl(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CY=/^__.*__$/;class RY{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new da(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gd(e,this.data,n,this.fieldTransforms)}}function YM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}class fE{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new fE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Pp(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(YM(this.wu)&&CY.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class IY{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zm(e)}Nu(e,n,r,i=!1){return new fE({wu:e,methodName:n,Ou:r,path:Kt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function PY(t){const e=t._freezeSettings(),n=zm(t._databaseId);return new IY(t._databaseId,!!e.ignoreUndefinedProperties,n)}function AY(t,e,n,r,i,s={}){const o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);eO("Data must be an object, but it was:",o,r);const a=JM(r,o);let l,u;if(s.merge)l=new Pr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=kY(e,h,n);if(!o.contains(f))throw new ce(H.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);DY(d,f)||d.push(f)}l=new Pr(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new RY(new or(a),l,u)}function XM(t,e){if(ZM(t=mn(t)))return eO("Unsupported field value:",e,t),JM(t,e);if(t instanceof QM)return function(r,i){if(!YM(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=XM(a,i.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=mn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Vt.fromDate(r);return{timestampValue:Rp(i.serializer,s)}}if(r instanceof Vt){const s=new Vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rp(i.serializer,s)}}if(r instanceof dE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wl)return{bytesValue:vM(i.serializer,r._byteString)};if(r instanceof cr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Q_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof hE)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return H_(a.serializer,l)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${aE(r)}`)}(t,e)}function JM(t,e){const n={};return GD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uu(t,(r,i)=>{const s=XM(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function ZM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Vt||t instanceof dE||t instanceof Wl||t instanceof cr||t instanceof QM||t instanceof hE)}function eO(t,e,n){if(!ZM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=aE(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function kY(t,e,n){if((e=mn(e))instanceof cE)return e._internalPath;if(typeof e=="string")return tO(t,e);throw Pp("Field path arguments must be of type string or ",t,!1,void 0,n)}const NY=new RegExp("[~\\*/\\[\\]]");function tO(t,e,n){if(e.search(NY)>=0)throw Pp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new cE(...e.split("."))._internalPath}catch{throw Pp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ce(H.INVALID_ARGUMENT,a+t+l)}function DY(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new cr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rO("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class MY extends nO{data(){return super.data()}}function rO(t,e){return typeof e=="string"?tO(t,e):e instanceof cE?e._internalPath:e._delegate._internalPath}class OY{convertValue(e,n="none"){switch(ra(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return uu(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>St(o.doubleValue));return new hE(s)}convertGeoPoint(e){return new dE(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=B_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rd(e));default:return null}}convertTimestamp(e){const n=Ys(e);return new Vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=yt.fromString(e);Ke(SM(r));const i=new id(r.get(1),r.get(3)),s=new de(r.popFirst(5));return i.isEqual(n)||Bi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LY(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VY{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class iO extends nO{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new FY(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(rO("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class FY extends iO{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jY(t){t=ld(t,cr);const e=ld(t.firestore,uE);return wY(GM(e),t._key).then(n=>zY(e,t,n))}class UY extends OY{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cr(this.firestore,null,n)}}function BY(t,e,n){t=ld(t,cr);const r=ld(t.firestore,uE),i=LY(t.converter,e);return $Y(r,[AY(PY(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Pi.none())])}function $Y(t,e){return function(r,i){const s=new Fs;return r.asyncQueue.enqueueAndForget(async()=>iY(await yY(r),i,s)),s.promise}(GM(t),e)}function zY(t,e,n){const r=n.docs.get(e._key),i=new UY(t);return new iO(t,i,e._key,r,new VY(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){lu=i})(ua),Yo(new Bs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new uE(new DG(r.getProvider("auth-internal")),new VG(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ce(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new id(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),qr(tC,"4.7.2",e),qr(tC,"4.7.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO="firebasestorage.googleapis.com",oO="storageBucket",WY=2*60*1e3,KY=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et extends ii{constructor(e,n,r=0){super(my(e),`Firebase Storage: ${n} (${my(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Et.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return my(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _t;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_t||(_t={}));function my(t){return"storage/"+t}function pE(){const t="An unknown error occurred, please check the error payload for server response.";return new Et(_t.UNKNOWN,t)}function HY(t){return new Et(_t.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function GY(t){return new Et(_t.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function qY(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Et(_t.UNAUTHENTICATED,t)}function QY(){return new Et(_t.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function YY(t){return new Et(_t.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function XY(){return new Et(_t.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function JY(){return new Et(_t.CANCELED,"User canceled the upload/download.")}function ZY(t){return new Et(_t.INVALID_URL,"Invalid URL '"+t+"'.")}function eX(t){return new Et(_t.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function tX(){return new Et(_t.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+oO+"' property when initializing the app?")}function nX(){return new Et(_t.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function rX(){return new Et(_t.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function iX(t){return new Et(_t.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function dw(t){return new Et(_t.INVALID_ARGUMENT,t)}function aO(){return new Et(_t.APP_DELETED,"The Firebase app was deleted.")}function sX(t){return new Et(_t.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Tc(t,e){return new Et(_t.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Wu(t){throw new Et(_t.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=$n.makeFromUrl(e,n)}catch{return new $n(e,"")}if(r.path==="")return r;throw eX(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(I){I.path_=decodeURIComponent(I.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${d}/b/${i}/o${f}`,"i"),E={bucket:1,path:3},v=n===sO?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",x=new RegExp(`^https?://${v}/${i}/${T}`,"i"),b=[{regex:a,indices:l,postModify:s},{regex:p,indices:E,postModify:u},{regex:x,indices:{bucket:1,path:2},postModify:u}];for(let I=0;I<b.length;I++){const N=b[I],F=N.regex.exec(e);if(F){const C=F[N.indices.bucket];let w=F[N.indices.path];w||(w=""),r=new $n(C,w),N.postModify(r);break}}if(r==null)throw ZY(e);return r}}class oX{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aX(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function d(...T){u||(u=!0,e.apply(null,T))}function h(T){i=setTimeout(()=>{i=null,t(p,l())},T)}function f(){s&&clearTimeout(s)}function p(T,...x){if(u){f();return}if(T){f(),d.call(null,T,...x);return}if(l()||o){f(),d.call(null,T,...x);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,h(b)}let E=!1;function v(T){E||(E=!0,f(),!u&&(i!==null?(T||(a=2),clearTimeout(i),h(0)):T||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,v(!0)},n),v}function lX(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uX(t){return t!==void 0}function cX(t){return typeof t=="object"&&!Array.isArray(t)}function mE(t){return typeof t=="string"||t instanceof String}function LC(t){return gE()&&t instanceof Blob}function gE(){return typeof Blob<"u"}function VC(t,e,n,r){if(r<e)throw dw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw dw(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function lO(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Wo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Wo||(Wo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dX(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hX{constructor(e,n,r,i,s,o,a,l,u,d,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,E)=>{this.resolve_=p,this.reject_=E,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Yh(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Wo.NO_ERROR,l=s.getStatus();if(!a||dX(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===Wo.ABORT;r(!1,new Yh(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Yh(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());uX(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=pE();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?aO():JY();o(l)}else{const l=XY();o(l)}};this.canceled_?n(!1,new Yh(!1,null,!0)):this.backoffId_=aX(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&lX(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function fX(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function pX(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function mX(t,e){e&&(t["X-Firebase-GMPID"]=e)}function gX(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function yX(t,e,n,r,i,s,o=!0){const a=lO(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return mX(u,e),fX(u,n),pX(u,s),gX(u,r),new hX(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vX(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function wX(...t){const e=vX();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(gE())return new Blob(t);throw new Et(_t.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function _X(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EX(t){if(typeof atob>"u")throw iX("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class gy{constructor(e,n){this.data=e,this.contentType=n||null}}function xX(t,e){switch(t){case Kr.RAW:return new gy(uO(e));case Kr.BASE64:case Kr.BASE64URL:return new gy(cO(t,e));case Kr.DATA_URL:return new gy(SX(e),bX(e))}throw pE()}function uO(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function TX(t){let e;try{e=decodeURIComponent(t)}catch{throw Tc(Kr.DATA_URL,"Malformed data URL.")}return uO(e)}function cO(t,e){switch(t){case Kr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Tc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Kr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Tc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=EX(e)}catch(i){throw i.message.includes("polyfill")?i:Tc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class dO{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Tc(Kr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=CX(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function SX(t){const e=new dO(t);return e.base64?cO(Kr.BASE64,e.rest):TX(e.rest)}function bX(t){return new dO(t).contentType}function CX(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n){let r=0,i="";LC(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(LC(this.data_)){const r=this.data_,i=_X(r,e,n);return i===null?null:new fs(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new fs(r,!0)}}static getBlob(...e){if(gE()){const n=e.map(r=>r instanceof fs?r.data_:r);return new fs(wX.apply(null,n))}else{const n=e.map(o=>mE(o)?xX(Kr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new fs(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(t){let e;try{e=JSON.parse(t)}catch{return null}return cX(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RX(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function IX(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function fO(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PX(t,e){return e}class wn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||PX}}let Xh=null;function AX(t){return!mE(t)||t.length<2?t:fO(t)}function pO(){if(Xh)return Xh;const t=[];t.push(new wn("bucket")),t.push(new wn("generation")),t.push(new wn("metageneration")),t.push(new wn("name","fullPath",!0));function e(s,o){return AX(o)}const n=new wn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new wn("size");return i.xform=r,t.push(i),t.push(new wn("timeCreated")),t.push(new wn("updated")),t.push(new wn("md5Hash",null,!0)),t.push(new wn("cacheControl",null,!0)),t.push(new wn("contentDisposition",null,!0)),t.push(new wn("contentEncoding",null,!0)),t.push(new wn("contentLanguage",null,!0)),t.push(new wn("contentType",null,!0)),t.push(new wn("metadata","customMetadata",!0)),Xh=t,Xh}function kX(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new $n(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function NX(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return kX(r,t),r}function mO(t,e,n){const r=hO(e);return r===null?null:NX(t,r,n)}function DX(t,e,n,r){const i=hO(e);if(i===null||!mE(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const d=t.bucket,h=t.fullPath,f="/b/"+o(d)+"/o/"+o(h),p=Xd(f,n,r),E=lO({alt:"media",token:u});return p+E})[0]}function MX(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Hm{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(t){if(!t)throw pE()}function OX(t,e){function n(r,i){const s=mO(t,i,e);return gO(s!==null),s}return n}function LX(t,e){function n(r,i){const s=mO(t,i,e);return gO(s!==null),DX(s,i,t.host,t._protocol)}return n}function yO(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=QY():i=qY():n.getStatus()===402?i=GY(t.bucket):n.getStatus()===403?i=YY(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function yE(t){const e=yO(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=HY(t.path)),s.serverResponse=i.serverResponse,s}return n}function VX(t,e,n){const r=e.fullServerUrl(),i=Xd(r,t.host,t._protocol)+"?alt=media",s="GET",o=t.maxOperationRetryTime,a=new Hm(i,s,(l,u)=>u,o);return a.errorHandler=yE(e),a}function FX(t,e,n){const r=e.fullServerUrl(),i=Xd(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Hm(i,s,LX(t,n),o);return a.errorHandler=yE(e),a}function jX(t,e){const n=e.fullServerUrl(),r=Xd(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,u){}const a=new Hm(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=yE(e),a}function UX(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function BX(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=UX(null,e)),r}function $X(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let I=0;I<2;I++)b=b+Math.random().toString().slice(2);return b}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=BX(e,r,i),d=MX(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=fs.getBlob(h,r,f);if(p===null)throw nX();const E={name:u.fullPath},v=Xd(s,t.host,t._protocol),T="POST",x=t.maxUploadRetryTime,_=new Hm(v,T,OX(t,n),x);return _.urlParams=E,_.headers=o,_.body=p.uploadData(),_.errorHandler=yO(e),_}class vO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Wo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Wo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Wo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Wu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Wu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Wu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Wu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Wu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class zX extends vO{initXhr(){this.xhr_.responseType="text"}}function vE(){return new zX}class WX extends vO{initXhr(){this.xhr_.responseType="blob"}}function KX(){return new WX}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n){this._service=e,n instanceof $n?this._location=n:this._location=$n.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ia(e,n)}get root(){const e=new $n(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return fO(this._location.path)}get storage(){return this._service}get parent(){const e=RX(this._location.path);if(e===null)return null;const n=new $n(this._location.bucket,e);return new ia(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw sX(e)}}function HX(t,e){t._throwIfRoot("getBlob");const n=VX(t.storage,t._location);return t.storage.makeRequestWithTokens(n,KX).then(r=>r)}function GX(t,e,n){t._throwIfRoot("uploadBytes");const r=$X(t.storage,t._location,pO(),new fs(e,!0),n);return t.storage.makeRequestWithTokens(r,vE).then(i=>({metadata:i,ref:t}))}function qX(t){t._throwIfRoot("getDownloadURL");const e=FX(t.storage,t._location,pO());return t.storage.makeRequestWithTokens(e,vE).then(n=>{if(n===null)throw rX();return n})}function QX(t){t._throwIfRoot("deleteObject");const e=jX(t.storage,t._location);return t.storage.makeRequestWithTokens(e,vE)}function YX(t,e){const n=IX(t._location.path,e),r=new $n(t._location.bucket,n);return new ia(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XX(t){return/^[A-Za-z]+:\/\//.test(t)}function JX(t,e){return new ia(t,e)}function wO(t,e){if(t instanceof wE){const n=t;if(n._bucket==null)throw tX();const r=new ia(n,n._bucket);return e!=null?wO(r,e):r}else return e!==void 0?YX(t,e):t}function ZX(t,e){if(e&&XX(e)){if(t instanceof wE)return JX(t,e);throw dw("To use ref(service, url), the first argument must be a Storage instance.")}else return wO(t,e)}function FC(t,e){const n=e==null?void 0:e[oO];return n==null?null:$n.makeFromBucketSpec(n,t)}function eJ(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:VI(i,t.app.options.projectId))}class wE{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=sO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=WY,this._maxUploadRetryTime=KY,this._requests=new Set,i!=null?this._bucket=$n.makeFromBucketSpec(i,this._host):this._bucket=FC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=$n.makeFromBucketSpec(this._url,e):this._bucket=FC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){VC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){VC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ia(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new oX(aO());{const o=yX(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const jC="@firebase/storage",UC="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O="storage";function tJ(t,e,n){return t=mn(t),GX(t,e,n)}function nJ(t){return t=mn(t),qX(t)}function rJ(t){return t=mn(t),QX(t)}function _E(t,e){return t=mn(t),ZX(t,e)}function iJ(t=S0(),e){t=mn(t);const r=Xp(t,_O).getImmediate({identifier:e}),i=MI("storage");return i&&sJ(r,...i),r}function sJ(t,e,n,r={}){eJ(t,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oJ(t,e){return t=mn(t),HX(t)}function aJ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new wE(n,r,i,e,ua)}function lJ(){Yo(new Bs(_O,aJ,"PUBLIC").setMultipleInstances(!0)),qr(jC,UC,""),qr(jC,UC,"esm2017")}lJ();const uJ={apiKey:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",authDomain:"cob-chatbot.firebaseapp.com",projectId:"cob-chatbot",storageBucket:"cob-chatbot.appspot.com",messagingSenderId:"275602489097",appId:"1:275602489097:web:5c490d86e9f69e1314ddd8"},EO=UI(uJ),xO=bY(EO),EE=iJ(EO),hw=async(t,e,n)=>{try{const r=_E(EE,`${e}/${n}`),i=await tJ(r,t);return await nJ(i.ref)}catch(r){console.log(r)}},cJ=async t=>{const e=_E(EE,t),n=await oJ(e),r=t.split("/").pop()||"unknown_file";return new File([n],r,{type:n.type})},dJ=async t=>{try{const e=_E(EE,t);await rJ(e),console.log("File deleted successfully!")}catch(e){console.error(e)}},hJ=async(t,e,n)=>{try{const r=HM(xO,t,e);await BY(r,n)}catch(r){console.error("Error adding document: ",r)}},fJ=async(t,e)=>{const n=HM(xO,t,e),r=await jY(n);if(r.exists())return r;console.log("No such document!")},pJ="knowledge-files",BC="image",mJ=async t=>{const e=`${pJ}/${t}`;await dJ(e)},gJ="knowledge-files",yJ=async t=>await hw(t,gJ,t.name),TO=(t,e)=>{const[n,r]=y.useState(!1),[i,s]=y.useState(null),o=y.useRef(null),a=y.useRef(null);return{file:i,setFile:s,isLinkDialogOpen:n,setIsLinkDialogOpen:r,handleInsertLink:(f,p)=>{const E=a.current;if(E){const v=E.selectionStart,T=E.selectionEnd,x=t.substring(0,v)+`[${p}]{=${f}=}`+t.substring(T);e("answer",x),E.focus(),E.setSelectionRange(v+f.length+4,v+p.length+4)}},handleFileChange:async f=>{if(f.target.files&&f.target.files[0]){const p=await yJ(f.target.files[0]);p&&e("fileUrl",p),s(f.target.files[0])}},handleRemoveFile:async()=>{i&&(await mJ(i.name),s(null),o.current&&(o.current.value=""))},fileInputRef:o,answerTextAreaRef:a,getFileData:async f=>{const p=IG(f);if(!p)return;const E=await cJ(`knowledge-files/${p}`);s(E)}}};var vJ="Label",SO=y.forwardRef((t,e)=>m.jsx(je.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));SO.displayName=vJ;var bO=SO;const wJ=Dm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),cd=y.forwardRef(({className:t,...e},n)=>m.jsx(bO,{ref:n,className:qe(wJ(),t),...e}));cd.displayName=bO.displayName;var yy=0;function _J(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??$C()),document.body.insertAdjacentElement("beforeend",t[1]??$C()),yy++,()=>{yy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),yy--}},[])}function $C(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}var CO=LA(),vy=function(){},Gm=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:vy,onWheelCapture:vy,onTouchMoveCapture:vy}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,p=t.noIsolation,E=t.inert,v=t.allowPinchZoom,T=t.as,x=T===void 0?"div":T,_=t.gapMode,b=Yl(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=f,N=OA([n,e]),F=cn(cn({},b),i);return y.createElement(y.Fragment,null,d&&y.createElement(I,{sideCar:CO,removeScrollBar:u,shards:h,noIsolation:p,inert:E,setCallbacks:s,allowPinchZoom:!!v,lockRef:n,gapMode:_}),o?y.cloneElement(y.Children.only(a),cn(cn({},F),{ref:N})):y.createElement(x,cn({},F,{className:l,ref:N}),a))});Gm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Gm.classNames={fullWidth:pc,zeroRight:fc};var fw=!1;if(typeof window<"u")try{var Jh=Object.defineProperty({},"passive",{get:function(){return fw=!0,!0}});window.addEventListener("test",Jh,Jh),window.removeEventListener("test",Jh,Jh)}catch{fw=!1}var Ca=fw?{passive:!1}:!1,EJ=function(t){return t.tagName==="TEXTAREA"},RO=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!EJ(t)&&n[e]==="visible")},xJ=function(t){return RO(t,"overflowY")},TJ=function(t){return RO(t,"overflowX")},zC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=IO(t,r);if(i){var s=PO(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},SJ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},bJ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},IO=function(t,e){return t==="v"?xJ(e):TJ(e)},PO=function(t,e){return t==="v"?SJ(e):bJ(e)},CJ=function(t,e){return t==="h"&&e==="rtl"?-1:1},RJ=function(t,e,n,r,i){var s=CJ(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),u=!1,d=o>0,h=0,f=0;do{var p=PO(t,a),E=p[0],v=p[1],T=p[2],x=v-T-s*E;(E||x)&&IO(t,a)&&(h+=x,f+=E),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(h)<1||!i)||!d&&(Math.abs(f)<1||!i))&&(u=!0),u},Zh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},WC=function(t){return[t.deltaX,t.deltaY]},KC=function(t){return t&&"current"in t?t.current:t},IJ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},PJ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},AJ=0,Ra=[];function kJ(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),i=y.useState(AJ++)[0],s=y.useState(Q0)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=zI([t.lockRef.current],(t.shards||[]).map(KC),!0).filter(Boolean);return v.forEach(function(T){return T.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(v,T){if("touches"in v&&v.touches.length===2)return!o.current.allowPinchZoom;var x=Zh(v),_=n.current,b="deltaX"in v?v.deltaX:_[0]-x[0],I="deltaY"in v?v.deltaY:_[1]-x[1],N,F=v.target,C=Math.abs(b)>Math.abs(I)?"h":"v";if("touches"in v&&C==="h"&&F.type==="range")return!1;var w=zC(C,F);if(!w)return!0;if(w?N=C:(N=C==="v"?"h":"v",w=zC(C,F)),!w)return!1;if(!r.current&&"changedTouches"in v&&(b||I)&&(r.current=N),!N)return!0;var R=r.current||N;return RJ(R,T,v,R==="h"?b:I,!0)},[]),l=y.useCallback(function(v){var T=v;if(!(!Ra.length||Ra[Ra.length-1]!==s)){var x="deltaY"in T?WC(T):Zh(T),_=e.current.filter(function(N){return N.name===T.type&&(N.target===T.target||T.target===N.shadowParent)&&IJ(N.delta,x)})[0];if(_&&_.should){T.cancelable&&T.preventDefault();return}if(!_){var b=(o.current.shards||[]).map(KC).filter(Boolean).filter(function(N){return N.contains(T.target)}),I=b.length>0?a(T,b[0]):!o.current.noIsolation;I&&T.cancelable&&T.preventDefault()}}},[]),u=y.useCallback(function(v,T,x,_){var b={name:v,delta:T,target:x,should:_,shadowParent:NJ(x)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(I){return I!==b})},1)},[]),d=y.useCallback(function(v){n.current=Zh(v),r.current=void 0},[]),h=y.useCallback(function(v){u(v.type,WC(v),v.target,a(v,t.lockRef.current))},[]),f=y.useCallback(function(v){u(v.type,Zh(v),v.target,a(v,t.lockRef.current))},[]);y.useEffect(function(){return Ra.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Ca),document.addEventListener("touchmove",l,Ca),document.addEventListener("touchstart",d,Ca),function(){Ra=Ra.filter(function(v){return v!==s}),document.removeEventListener("wheel",l,Ca),document.removeEventListener("touchmove",l,Ca),document.removeEventListener("touchstart",d,Ca)}},[]);var p=t.removeScrollBar,E=t.inert;return y.createElement(y.Fragment,null,E?y.createElement(s,{styles:PJ(i)}):null,p?y.createElement(UA,{gapMode:t.gapMode}):null)}function NJ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const DJ=FA(CO,kJ);var AO=y.forwardRef(function(t,e){return y.createElement(Gm,cn({},t,{ref:e,sideCar:DJ}))});AO.classNames=Gm.classNames;var xE="Dialog",[kO,Kee]=tu(xE),[MJ,Or]=kO(xE),NO=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=y.useRef(null),l=y.useRef(null),[u=!1,d]=Ld({prop:r,defaultProp:i,onChange:s});return m.jsx(MJ,{scope:e,triggerRef:a,contentRef:l,contentId:Vs(),titleId:Vs(),descriptionId:Vs(),open:u,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};NO.displayName=xE;var DO="DialogTrigger",OJ=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Or(DO,n),s=wt(e,i.triggerRef);return m.jsx(je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":bE(i.open),...r,ref:s,onClick:ue(t.onClick,i.onOpenToggle)})});OJ.displayName=DO;var TE="DialogPortal",[LJ,MO]=kO(TE,{forceMount:void 0}),OO=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=Or(TE,e);return m.jsx(LJ,{scope:e,forceMount:n,children:y.Children.map(r,o=>m.jsx(ou,{present:n||s.open,children:m.jsx(wD,{asChild:!0,container:i,children:o})}))})};OO.displayName=TE;var Ap="DialogOverlay",LO=y.forwardRef((t,e)=>{const n=MO(Ap,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Or(Ap,t.__scopeDialog);return s.modal?m.jsx(ou,{present:r||s.open,children:m.jsx(VJ,{...i,ref:e})}):null});LO.displayName=Ap;var VJ=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Or(Ap,n);return m.jsx(AO,{as:Zo,allowPinchZoom:!0,shards:[i.contentRef],children:m.jsx(je.div,{"data-state":bE(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),sa="DialogContent",VO=y.forwardRef((t,e)=>{const n=MO(sa,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Or(sa,t.__scopeDialog);return m.jsx(ou,{present:r||s.open,children:s.modal?m.jsx(FJ,{...i,ref:e}):m.jsx(jJ,{...i,ref:e})})});VO.displayName=sa;var FJ=y.forwardRef((t,e)=>{const n=Or(sa,t.__scopeDialog),r=y.useRef(null),i=wt(e,n.contentRef,r);return y.useEffect(()=>{const s=r.current;if(s)return MA(s)},[]),m.jsx(FO,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ue(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:ue(t.onFocusOutside,s=>s.preventDefault())})}),jJ=y.forwardRef((t,e)=>{const n=Or(sa,t.__scopeDialog),r=y.useRef(!1),i=y.useRef(!1);return m.jsx(FO,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),FO=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=Or(sa,n),l=y.useRef(null),u=wt(e,l);return _J(),m.jsxs(m.Fragment,{children:[m.jsx(U0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:m.jsx(O_,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":bE(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),m.jsxs(m.Fragment,{children:[m.jsx(UJ,{titleId:a.titleId}),m.jsx($J,{contentRef:l,descriptionId:a.descriptionId})]})]})}),SE="DialogTitle",jO=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Or(SE,n);return m.jsx(je.h2,{id:i.titleId,...r,ref:e})});jO.displayName=SE;var UO="DialogDescription",BO=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Or(UO,n);return m.jsx(je.p,{id:i.descriptionId,...r,ref:e})});BO.displayName=UO;var $O="DialogClose",zO=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Or($O,n);return m.jsx(je.button,{type:"button",...r,ref:e,onClick:ue(t.onClick,()=>i.onOpenChange(!1))})});zO.displayName=$O;function bE(t){return t?"open":"closed"}var WO="DialogTitleWarning",[Hee,KO]=P$(WO,{contentName:sa,titleName:SE,docsSlug:"dialog"}),UJ=({titleId:t})=>{const e=KO(WO),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},BJ="DialogDescriptionWarning",$J=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${KO(BJ).contentName}}.`;return y.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},zJ=NO,WJ=OO,HO=LO,GO=VO,qO=jO,QO=BO,KJ=zO;const YO=zJ,HJ=WJ,XO=y.forwardRef(({className:t,...e},n)=>m.jsx(HO,{ref:n,className:qe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));XO.displayName=HO.displayName;const CE=y.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(HJ,{children:[m.jsx(XO,{}),m.jsxs(GO,{ref:r,className:qe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,m.jsxs(KJ,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[m.jsx(V0,{className:"h-4 w-4"}),m.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));CE.displayName=GO.displayName;const RE=({className:t,...e})=>m.jsx("div",{className:qe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});RE.displayName="DialogHeader";const JO=({className:t,...e})=>m.jsx("div",{className:qe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});JO.displayName="DialogFooter";const IE=y.forwardRef(({className:t,...e},n)=>m.jsx(qO,{ref:n,className:qe("text-lg font-semibold leading-none tracking-tight",t),...e}));IE.displayName=qO.displayName;const PE=y.forwardRef(({className:t,...e},n)=>m.jsx(QO,{ref:n,className:qe("text-sm text-muted-foreground",t),...e}));PE.displayName=QO.displayName;const ZO=({isDialogOpen:t,setIsDialogOpen:e,handleInsertLink:n})=>{const[r,i]=y.useState(""),[s,o]=y.useState("");return m.jsx(YO,{open:t,onOpenChange:e,children:m.jsxs(CE,{children:[m.jsxs(RE,{children:[m.jsx(IE,{className:"text-2xl font-bold",children:"Add Link"}),m.jsx(PE,{children:"Input a URL and display text to create a clickable link."})]}),m.jsxs("div",{className:"flex flex-col py-4 space-y-4",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx(cd,{htmlFor:"link-url",className:"mb-1",children:"URL"}),m.jsx(gn,{id:"link-url",value:r,onChange:a=>i(a.target.value),className:"col-span-3"})]}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx(cd,{htmlFor:"link-text",className:"mb-1",children:"Text"}),m.jsx(gn,{id:"link-text",value:s,onChange:a=>o(a.target.value),className:"col-span-3"})]})]}),m.jsx(JO,{children:m.jsx(vt,{onClick:()=>{e(!1),n(r,s)},children:"Insert Link"})})]})})},GJ=()=>{const{answer:t,fileUrl:e}=lt(f=>f.formData),n=lt(f=>f.setFormData),{file:r,isLinkDialogOpen:i,setIsLinkDialogOpen:s,handleFileChange:o,handleInsertLink:a,handleRemoveFile:l,fileInputRef:u,answerTextAreaRef:d,getFileData:h}=TO(t,n);return y.useEffect(()=>{h(e)},[e]),m.jsxs("div",{children:[m.jsx("div",{className:"w-fit",children:m.jsx(V_,{label:"Answer",htmlFor:"answer",tooltip:gG})}),m.jsx(LD,{answer:t,handleTextChange:n,onFileChange:o,fileRef:u,textAreaRef:d,showAddLinkDialog:()=>s(!0)}),r&&m.jsx(VD,{file:r,removeFile:l}),i&&m.jsx(ZO,{isDialogOpen:i,setIsDialogOpen:s,handleInsertLink:a})]})},eL=t=>{const{knowledgeBaseName:e,...n}=t;return{knowledgeBaseName:e,knowledgeEntry:n}},qJ=async()=>{const{success:t,knowledgeBase:e}=await xk("/api/knowledge/base");if(!t)throw new Error("Failed to fetch knowledge collection");return e},QJ=async t=>{const{success:e,knowledgeEntry:n}=await xk(`/api/knowledge/${t}`);if(!e)throw new Error(`Failed to fetch knowledge base ${t} entry`);return n},YJ=async t=>{const e=eL(t),{success:n,message:r}=await Ud("/api/knowledge",{},e);if(!n)throw new Error(r);return r},XJ=async t=>{const e=eL(t),{success:n,message:r}=await Ud("/api/knowledge/entry",{},e);if(!n)throw new Error(r)},HC=async(t,e)=>{const n={knowledgeEntryIntent:t,knowledgeEntry:e},{success:r,message:i}=await d6("/api/knowledge/entry",{},n);if(!r)throw new Error(i)},pr=Jl(t=>({knowledgeCollection:{},knowledgeBaseNameList:null,selectedKnowledgeBaseEntryList:null,selectedKnowledgeBaseName:"",selectedKnowledgeEntry:null,updateKnowledgeCollection:e=>{t(()=>({knowledgeCollection:e}))},setKnowledgeBaseNameList:e=>{t(()=>({knowledgeBaseNameList:e}))},setSelectedKnowledgeBaseEntryList:e=>{t(()=>({selectedKnowledgeBaseEntryList:e}))},setSelectedKnowledgeBaseName:e=>{t(()=>({selectedKnowledgeBaseName:e}))},setSelectedKnowledgeEntry:e=>{t(()=>({selectedKnowledgeEntry:e}))}})),GC=(t,e)=>{const n=new Set([...Object.keys(t),...Object.keys(e)]);return Array.from(n).reduce((r,i)=>{if(t[i]instanceof Array&&e[i]instanceof Array){t[i].forEach((a,l)=>{if(a!==e[i][l]){r[i]||(r[i]=[]);const u={index:l,value:e[i][l]};r[i].push(u)}});const s=t[i].length,o=e[i].length;if(s<o){r.newDocuments=[];for(let a=s;a<o;a++)e[i][a]&&r.newDocuments.push(e[i][a])}return r}return t[i]!==e[i]&&(r[i]=e[i]),r},{})},qC=t=>t===""||t===null||t===void 0||typeof t=="object"&&Object.keys(t).length===0||Array.isArray(t)&&t.length===0,JJ=()=>{const t=pr(u=>u.selectedKnowledgeEntry),e=pr(u=>u.setSelectedKnowledgeEntry),n=lt(u=>u.setFormData),r=lt(u=>u.formData),i=lt(u=>u.setDocuments),s=lt(u=>u.clearFormData),[o,a]=y.useState(!0);y.useEffect(()=>{if(!t)return;const{knowledgeBaseName:u,...d}=r,h=GC(t,d);a(qC(h))},[r,t]),y.useEffect(()=>{if(!t)return;const{intent:u,documents:d,answer:h,fileUrl:f}=t;return n("intent",u),d.forEach((p,E)=>{i(p,E)}),n("answer",h),n("fileUrl",f),()=>{s()}},[t]);const l=y.useCallback(async()=>{if(!t)return;const{knowledgeBaseName:u,...d}=r,h=GC(t,d);if(!qC(h))try{await HC(t.intent,d),e(d)}catch(f){console.error("Error updating knowledge entry:",f)}},[t,r,HC,e]);return{isDisabled:o,handleSubmitForm:l}},ZJ=()=>{const{handleSubmitForm:t,isDisabled:e}=JJ();return m.jsx(gD,{value:"entryDetails",className:"mt-2",children:m.jsx("div",{className:"h-[450px] w-full overflow-y-auto text-sm scrollbar-slim",children:m.jsxs("div",{className:"space-y-3 px-4 pb-4",children:[m.jsx(_G,{}),m.jsx(TG,{}),m.jsx(GJ,{}),m.jsx(vt,{variant:"default",disabled:e,onClick:async()=>await t(),children:"Save"})]})})})},eZ=({intent:t,onItemClick:e})=>{const n=pr(r=>r.selectedKnowledgeEntry);return m.jsx("div",{className:`p-2 rounded-md cursor-pointer ${(n==null?void 0:n.intent)===t?"bg-lightGray":"hover:bg-lightGray-darker"}`,onClick:e,children:t})},tZ=({knowledgeEntries:t,handleTabChange:e})=>{const n=pr(i=>i.setSelectedKnowledgeEntry),r=i=>{n(i),e("entryDetails")};return m.jsx("div",{className:"space-y-1",children:t==null?void 0:t.map((i,s)=>m.jsx(eZ,{intent:i.intent,onItemClick:()=>r(i)},s))})},tL=["knowledgeBaseList"],pw=["knowledgeEntry"];var hu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Kl=typeof window>"u"||"Deno"in globalThis;function rr(){}function nZ(t,e){return typeof t=="function"?t(e):t}function mw(t){return typeof t=="number"&&t>=0&&t!==1/0}function nL(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ul(t,e){return typeof t=="function"?t(e):t}function Ir(t,e){return typeof t=="function"?t(e):t}function QC(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==AE(o,e.options))return!1}else if(!dd(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function YC(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(oa(e.options.mutationKey)!==oa(s))return!1}else if(!dd(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function AE(t,e){return((e==null?void 0:e.queryKeyHashFn)||oa)(t)}function oa(t){return JSON.stringify(t,(e,n)=>gw(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function dd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!dd(t[n],e[n])):!1}function rL(t,e){if(t===e)return t;const n=XC(t)&&XC(e);if(n||gw(t)&&gw(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let l=0;for(let u=0;u<o;u++){const d=n?u:s[u];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=rL(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function kp(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function XC(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function gw(t){if(!JC(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!JC(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function JC(t){return Object.prototype.toString.call(t)==="[object Object]"}function rZ(t){return new Promise(e=>{setTimeout(e,t)})}function yw(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?rL(t,e):e}function iZ(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function sZ(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var iL=Symbol();function sL(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===iL?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var No,ps,cl,s1,oZ=(s1=class extends hu{constructor(){super();se(this,No,void 0);se(this,ps,void 0);se(this,cl,void 0);Z(this,cl,e=>{if(!Kl&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){L(this,ps)||this.setEventListener(L(this,cl))}onUnsubscribe(){var e;this.hasListeners()||((e=L(this,ps))==null||e.call(this),Z(this,ps,void 0))}setEventListener(e){var n;Z(this,cl,e),(n=L(this,ps))==null||n.call(this),Z(this,ps,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){L(this,No)!==e&&(Z(this,No,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof L(this,No)=="boolean"?L(this,No):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},No=new WeakMap,ps=new WeakMap,cl=new WeakMap,s1),kE=new oZ,dl,ms,hl,o1,aZ=(o1=class extends hu{constructor(){super();se(this,dl,!0);se(this,ms,void 0);se(this,hl,void 0);Z(this,hl,e=>{if(!Kl&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){L(this,ms)||this.setEventListener(L(this,hl))}onUnsubscribe(){var e;this.hasListeners()||((e=L(this,ms))==null||e.call(this),Z(this,ms,void 0))}setEventListener(e){var n;Z(this,hl,e),(n=L(this,ms))==null||n.call(this),Z(this,ms,e(this.setOnline.bind(this)))}setOnline(e){L(this,dl)!==e&&(Z(this,dl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return L(this,dl)}},dl=new WeakMap,ms=new WeakMap,hl=new WeakMap,o1),Np=new aZ;function lZ(t){return Math.min(1e3*2**t,3e4)}function oL(t){return(t??"online")==="online"?Np.isOnline():!0}var aL=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function wy(t){return t instanceof aL}function lL(t){let e=!1,n=0,r=!1,i,s,o;const a=new Promise((x,_)=>{s=x,o=_}),l=x=>{var _;r||(E(new aL(x)),(_=t.abort)==null||_.call(t))},u=()=>{e=!0},d=()=>{e=!1},h=()=>kE.isFocused()&&(t.networkMode==="always"||Np.isOnline())&&t.canRun(),f=()=>oL(t.networkMode)&&t.canRun(),p=x=>{var _;r||(r=!0,(_=t.onSuccess)==null||_.call(t,x),i==null||i(),s(x))},E=x=>{var _;r||(r=!0,(_=t.onError)==null||_.call(t,x),i==null||i(),o(x))},v=()=>new Promise(x=>{var _;i=b=>{(r||h())&&x(b)},(_=t.onPause)==null||_.call(t)}).then(()=>{var x;i=void 0,r||(x=t.onContinue)==null||x.call(t)}),T=()=>{if(r)return;let x;const _=n===0?t.initialPromise:void 0;try{x=_??t.fn()}catch(b){x=Promise.reject(b)}Promise.resolve(x).then(p).catch(b=>{var w;if(r)return;const I=t.retry??(Kl?0:3),N=t.retryDelay??lZ,F=typeof N=="function"?N(n,b):N,C=I===!0||typeof I=="number"&&n<I||typeof I=="function"&&I(n,b);if(e||!C){E(b);return}n++,(w=t.onFail)==null||w.call(t,n,b),rZ(F).then(()=>h()?void 0:v()).then(()=>{e?E(b):T()})})};return{promise:a,cancel:l,continue:()=>(i==null||i(),a),cancelRetry:u,continueRetry:d,canStart:f,start:()=>(f()?T():v().then(T),a)}}function uZ(){let t=[],e=0,n=f=>{f()},r=f=>{f()},i=f=>setTimeout(f,0);const s=f=>{i=f},o=f=>{let p;e++;try{p=f()}finally{e--,e||u()}return p},a=f=>{e?t.push(f):i(()=>{n(f)})},l=f=>(...p)=>{a(()=>{f(...p)})},u=()=>{const f=t;t=[],f.length&&i(()=>{r(()=>{f.forEach(p=>{n(p)})})})};return{batch:o,batchCalls:l,schedule:a,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{r=f},setScheduler:s}}var Mt=uZ(),Do,a1,uL=(a1=class{constructor(){se(this,Do,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),mw(this.gcTime)&&Z(this,Do,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Kl?1/0:5*60*1e3))}clearGcTimeout(){L(this,Do)&&(clearTimeout(L(this,Do)),Z(this,Do,void 0))}},Do=new WeakMap,a1),fl,pl,nr,sn,hd,Mo,Sr,di,l1,cZ=(l1=class extends uL{constructor(e){super();se(this,Sr);se(this,fl,void 0);se(this,pl,void 0);se(this,nr,void 0);se(this,sn,void 0);se(this,hd,void 0);se(this,Mo,void 0);Z(this,Mo,!1),Z(this,hd,e.defaultOptions),this.setOptions(e.options),this.observers=[],Z(this,nr,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Z(this,fl,dZ(this.options)),this.state=e.state??L(this,fl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=L(this,sn))==null?void 0:e.promise}setOptions(e){this.options={...L(this,hd),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&L(this,nr).remove(this)}setData(e,n){const r=yw(this.state.data,e,this.options);return xe(this,Sr,di).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){xe(this,Sr,di).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=L(this,sn))==null?void 0:r.promise;return(i=L(this,sn))==null||i.cancel(e),n?n.then(rr).catch(rr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(L(this,fl))}isActive(){return this.observers.some(e=>Ir(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!nL(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=L(this,sn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=L(this,sn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),L(this,nr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(L(this,sn)&&(L(this,Mo)?L(this,sn).cancel({revert:!0}):L(this,sn).cancelRetry()),this.scheduleGc()),L(this,nr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||xe(this,Sr,di).call(this,{type:"invalidate"})}fetch(e,n){var l,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(L(this,sn))return L(this,sn).continueRetry(),L(this,sn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Z(this,Mo,!0),r.signal)})},s=()=>{const h=sL(this.options,n),f={queryKey:this.queryKey,meta:this.meta};return i(f),Z(this,Mo,!1),this.options.persister?this.options.persister(h,f,this):h(f)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(o),(l=this.options.behavior)==null||l.onFetch(o,this),Z(this,pl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&xe(this,Sr,di).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const a=h=>{var f,p,E,v;wy(h)&&h.silent||xe(this,Sr,di).call(this,{type:"error",error:h}),wy(h)||((p=(f=L(this,nr).config).onError)==null||p.call(f,h,this),(v=(E=L(this,nr).config).onSettled)==null||v.call(E,this.state.data,h,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return Z(this,sn,lL({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var f,p,E,v;if(h===void 0){a(new Error(`${this.queryHash} data is undefined`));return}this.setData(h),(p=(f=L(this,nr).config).onSuccess)==null||p.call(f,h,this),(v=(E=L(this,nr).config).onSettled)==null||v.call(E,h,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:a,onFail:(h,f)=>{xe(this,Sr,di).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{xe(this,Sr,di).call(this,{type:"pause"})},onContinue:()=>{xe(this,Sr,di).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),L(this,sn).start()}},fl=new WeakMap,pl=new WeakMap,nr=new WeakMap,sn=new WeakMap,hd=new WeakMap,Mo=new WeakMap,Sr=new WeakSet,di=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...cL(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return wy(i)&&i.revert&&L(this,pl)?{...L(this,pl),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Mt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),L(this,nr).notify({query:this,type:"updated",action:e})})},l1);function cL(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:oL(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function dZ(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ur,u1,hZ=(u1=class extends hu{constructor(e={}){super();se(this,Ur,void 0);this.config=e,Z(this,Ur,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??AE(i,n);let o=this.get(s);return o||(o=new cZ({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){L(this,Ur).has(e.queryHash)||(L(this,Ur).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=L(this,Ur).get(e.queryHash);n&&(e.destroy(),n===e&&L(this,Ur).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Mt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return L(this,Ur).get(e)}getAll(){return[...L(this,Ur).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>QC(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>QC(e,r)):n}notify(e){Mt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Mt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Mt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ur=new WeakMap,u1),Br,_n,Oo,$r,is,c1,fZ=(c1=class extends uL{constructor(e){super();se(this,$r);se(this,Br,void 0);se(this,_n,void 0);se(this,Oo,void 0);this.mutationId=e.mutationId,Z(this,_n,e.mutationCache),Z(this,Br,[]),this.state=e.state||dL(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){L(this,Br).includes(e)||(L(this,Br).push(e),this.clearGcTimeout(),L(this,_n).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Z(this,Br,L(this,Br).filter(n=>n!==e)),this.scheduleGc(),L(this,_n).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){L(this,Br).length||(this.state.status==="pending"?this.scheduleGc():L(this,_n).remove(this))}continue(){var e;return((e=L(this,Oo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,s,o,a,l,u,d,h,f,p,E,v,T,x,_,b,I,N,F,C;Z(this,Oo,lL({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(w,R)=>{xe(this,$r,is).call(this,{type:"failed",failureCount:w,error:R})},onPause:()=>{xe(this,$r,is).call(this,{type:"pause"})},onContinue:()=>{xe(this,$r,is).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>L(this,_n).canRun(this)}));const n=this.state.status==="pending",r=!L(this,Oo).canStart();try{if(!n){xe(this,$r,is).call(this,{type:"pending",variables:e,isPaused:r}),await((s=(i=L(this,_n).config).onMutate)==null?void 0:s.call(i,e,this));const R=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));R!==this.state.context&&xe(this,$r,is).call(this,{type:"pending",context:R,variables:e,isPaused:r})}const w=await L(this,Oo).start();return await((u=(l=L(this,_n).config).onSuccess)==null?void 0:u.call(l,w,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,w,e,this.state.context)),await((p=(f=L(this,_n).config).onSettled)==null?void 0:p.call(f,w,null,this.state.variables,this.state.context,this)),await((v=(E=this.options).onSettled)==null?void 0:v.call(E,w,null,e,this.state.context)),xe(this,$r,is).call(this,{type:"success",data:w}),w}catch(w){try{throw await((x=(T=L(this,_n).config).onError)==null?void 0:x.call(T,w,e,this.state.context,this)),await((b=(_=this.options).onError)==null?void 0:b.call(_,w,e,this.state.context)),await((N=(I=L(this,_n).config).onSettled)==null?void 0:N.call(I,void 0,w,this.state.variables,this.state.context,this)),await((C=(F=this.options).onSettled)==null?void 0:C.call(F,void 0,w,e,this.state.context)),w}finally{xe(this,$r,is).call(this,{type:"error",error:w})}}finally{L(this,_n).runNext(this)}}},Br=new WeakMap,_n=new WeakMap,Oo=new WeakMap,$r=new WeakSet,is=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Mt.batch(()=>{L(this,Br).forEach(r=>{r.onMutationUpdate(e)}),L(this,_n).notify({mutation:this,type:"updated",action:e})})},c1);function dL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Vn,fd,d1,pZ=(d1=class extends hu{constructor(e={}){super();se(this,Vn,void 0);se(this,fd,void 0);this.config=e,Z(this,Vn,new Map),Z(this,fd,Date.now())}build(e,n,r){const i=new fZ({mutationCache:this,mutationId:++mh(this,fd)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=ef(e),r=L(this,Vn).get(n)??[];r.push(e),L(this,Vn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=ef(e);if(L(this,Vn).has(n)){const i=(r=L(this,Vn).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?L(this,Vn).delete(n):L(this,Vn).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=L(this,Vn).get(ef(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=L(this,Vn).get(ef(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Mt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...L(this,Vn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>YC(n,r))}findAll(e={}){return this.getAll().filter(n=>YC(e,n))}notify(e){Mt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Mt.batch(()=>Promise.all(e.map(n=>n.continue().catch(rr))))}},Vn=new WeakMap,fd=new WeakMap,d1);function ef(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function mZ(t){return{onFetch:(e,n)=>{const r=async()=>{var E,v,T,x,_;const i=e.options,s=(T=(v=(E=e.fetchOptions)==null?void 0:E.meta)==null?void 0:v.fetchMore)==null?void 0:T.direction,o=((x=e.state.data)==null?void 0:x.pages)||[],a=((_=e.state.data)==null?void 0:_.pageParams)||[],l={pages:[],pageParams:[]};let u=!1;const d=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?u=!0:e.signal.addEventListener("abort",()=>{u=!0}),e.signal)})},h=sL(e.options,e.fetchOptions),f=async(b,I,N)=>{if(u)return Promise.reject();if(I==null&&b.pages.length)return Promise.resolve(b);const F={queryKey:e.queryKey,pageParam:I,direction:N?"backward":"forward",meta:e.options.meta};d(F);const C=await h(F),{maxPages:w}=e.options,R=N?sZ:iZ;return{pages:R(b.pages,C,w),pageParams:R(b.pageParams,I,w)}};let p;if(s&&o.length){const b=s==="backward",I=b?gZ:ZC,N={pages:o,pageParams:a},F=I(i,N);p=await f(N,F,b)}else{p=await f(l,a[0]??i.initialPageParam);const b=t??o.length;for(let I=1;I<b;I++){const N=ZC(i,p);if(N==null)break;p=await f(p,N)}}return p};e.options.persister?e.fetchFn=()=>{var i,s;return(s=(i=e.options).persister)==null?void 0:s.call(i,r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=r}}}function ZC(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function gZ(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var mt,gs,ys,ml,gl,vs,yl,vl,h1,yZ=(h1=class{constructor(t={}){se(this,mt,void 0);se(this,gs,void 0);se(this,ys,void 0);se(this,ml,void 0);se(this,gl,void 0);se(this,vs,void 0);se(this,yl,void 0);se(this,vl,void 0);Z(this,mt,t.queryCache||new hZ),Z(this,gs,t.mutationCache||new pZ),Z(this,ys,t.defaultOptions||{}),Z(this,ml,new Map),Z(this,gl,new Map),Z(this,vs,0)}mount(){mh(this,vs)._++,L(this,vs)===1&&(Z(this,yl,kE.subscribe(async t=>{t&&(await this.resumePausedMutations(),L(this,mt).onFocus())})),Z(this,vl,Np.subscribe(async t=>{t&&(await this.resumePausedMutations(),L(this,mt).onOnline())})))}unmount(){var t,e;mh(this,vs)._--,L(this,vs)===0&&((t=L(this,yl))==null||t.call(this),Z(this,yl,void 0),(e=L(this,vl))==null||e.call(this),Z(this,vl,void 0))}isFetching(t){return L(this,mt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return L(this,gs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=L(this,mt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=L(this,mt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(ul(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return L(this,mt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=L(this,mt).get(r.queryHash),s=i==null?void 0:i.state.data,o=nZ(e,s);if(o!==void 0)return L(this,mt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Mt.batch(()=>L(this,mt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=L(this,mt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=L(this,mt);Mt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=L(this,mt),r={type:"active",...t};return Mt.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Mt.batch(()=>L(this,mt).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(rr).catch(rr)}invalidateQueries(t={},e={}){return Mt.batch(()=>{if(L(this,mt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Mt.batch(()=>L(this,mt).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(rr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(rr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=L(this,mt).build(this,e);return n.isStaleByTime(ul(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(rr).catch(rr)}fetchInfiniteQuery(t){return t.behavior=mZ(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(rr).catch(rr)}resumePausedMutations(){return Np.isOnline()?L(this,gs).resumePausedMutations():Promise.resolve()}getQueryCache(){return L(this,mt)}getMutationCache(){return L(this,gs)}getDefaultOptions(){return L(this,ys)}setDefaultOptions(t){Z(this,ys,t)}setQueryDefaults(t,e){L(this,ml).set(oa(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...L(this,ml).values()];let n={};return e.forEach(r=>{dd(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){L(this,gl).set(oa(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...L(this,gl).values()];let n={};return e.forEach(r=>{dd(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...L(this,ys).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=AE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===iL&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...L(this,ys).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){L(this,mt).clear(),L(this,gs).clear()}},mt=new WeakMap,gs=new WeakMap,ys=new WeakMap,ml=new WeakMap,gl=new WeakMap,vs=new WeakMap,yl=new WeakMap,vl=new WeakMap,h1),Rn,Ae,pd,En,Lo,wl,zr,md,_l,El,Vo,Fo,ws,xl,jo,nc,gd,vw,yd,ww,vd,_w,wd,Ew,_d,xw,Ed,Tw,xd,Sw,Dp,hL,f1,vZ=(f1=class extends hu{constructor(e,n){super();se(this,jo);se(this,gd);se(this,yd);se(this,vd);se(this,wd);se(this,_d);se(this,Ed);se(this,xd);se(this,Dp);se(this,Rn,void 0);se(this,Ae,void 0);se(this,pd,void 0);se(this,En,void 0);se(this,Lo,void 0);se(this,wl,void 0);se(this,zr,void 0);se(this,md,void 0);se(this,_l,void 0);se(this,El,void 0);se(this,Vo,void 0);se(this,Fo,void 0);se(this,ws,void 0);se(this,xl,new Set);this.options=n,Z(this,Rn,e),Z(this,zr,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(L(this,Ae).addObserver(this),e1(L(this,Ae),this.options)?xe(this,jo,nc).call(this):this.updateResult(),xe(this,wd,Ew).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return bw(L(this,Ae),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return bw(L(this,Ae),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,xe(this,_d,xw).call(this),xe(this,Ed,Tw).call(this),L(this,Ae).removeObserver(this)}setOptions(e,n){const r=this.options,i=L(this,Ae);if(this.options=L(this,Rn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ir(this.options.enabled,L(this,Ae))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");xe(this,xd,Sw).call(this),L(this,Ae).setOptions(this.options),r._defaulted&&!kp(this.options,r)&&L(this,Rn).getQueryCache().notify({type:"observerOptionsUpdated",query:L(this,Ae),observer:this});const s=this.hasListeners();s&&t1(L(this,Ae),i,this.options,r)&&xe(this,jo,nc).call(this),this.updateResult(n),s&&(L(this,Ae)!==i||Ir(this.options.enabled,L(this,Ae))!==Ir(r.enabled,L(this,Ae))||ul(this.options.staleTime,L(this,Ae))!==ul(r.staleTime,L(this,Ae)))&&xe(this,gd,vw).call(this);const o=xe(this,yd,ww).call(this);s&&(L(this,Ae)!==i||Ir(this.options.enabled,L(this,Ae))!==Ir(r.enabled,L(this,Ae))||o!==L(this,ws))&&xe(this,vd,_w).call(this,o)}getOptimisticResult(e){const n=L(this,Rn).getQueryCache().build(L(this,Rn),e),r=this.createResult(n,e);return _Z(this,r)&&(Z(this,En,r),Z(this,wl,this.options),Z(this,Lo,L(this,Ae).state)),r}getCurrentResult(){return L(this,En)}trackResult(e,n){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),e[i])})}),r}trackProp(e){L(this,xl).add(e)}getCurrentQuery(){return L(this,Ae)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=L(this,Rn).defaultQueryOptions(e),r=L(this,Rn).getQueryCache().build(L(this,Rn),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){return xe(this,jo,nc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),L(this,En)))}createResult(e,n){var C;const r=L(this,Ae),i=this.options,s=L(this,En),o=L(this,Lo),a=L(this,wl),u=e!==r?e.state:L(this,pd),{state:d}=e;let h={...d},f=!1,p;if(n._optimisticResults){const w=this.hasListeners(),R=!w&&e1(e,n),A=w&&t1(e,r,n,i);(R||A)&&(h={...h,...cL(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:E,errorUpdatedAt:v,status:T}=h;if(n.select&&h.data!==void 0)if(s&&h.data===(o==null?void 0:o.data)&&n.select===L(this,md))p=L(this,_l);else try{Z(this,md,n.select),p=n.select(h.data),p=yw(s==null?void 0:s.data,p,n),Z(this,_l,p),Z(this,zr,null)}catch(w){Z(this,zr,w)}else p=h.data;if(n.placeholderData!==void 0&&p===void 0&&T==="pending"){let w;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))w=s.data;else if(w=typeof n.placeholderData=="function"?n.placeholderData((C=L(this,El))==null?void 0:C.state.data,L(this,El)):n.placeholderData,n.select&&w!==void 0)try{w=n.select(w),Z(this,zr,null)}catch(R){Z(this,zr,R)}w!==void 0&&(T="success",p=yw(s==null?void 0:s.data,w,n),f=!0)}L(this,zr)&&(E=L(this,zr),p=L(this,_l),v=Date.now(),T="error");const x=h.fetchStatus==="fetching",_=T==="pending",b=T==="error",I=_&&x,N=p!==void 0;return{status:T,fetchStatus:h.fetchStatus,isPending:_,isSuccess:T==="success",isError:b,isInitialLoading:I,isLoading:I,data:p,dataUpdatedAt:h.dataUpdatedAt,error:E,errorUpdatedAt:v,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!_,isLoadingError:b&&!N,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:b&&N,isStale:NE(e,n),refetch:this.refetch}}updateResult(e){const n=L(this,En),r=this.createResult(L(this,Ae),this.options);if(Z(this,Lo,L(this,Ae).state),Z(this,wl,this.options),L(this,Lo).data!==void 0&&Z(this,El,L(this,Ae)),kp(r,n))return;Z(this,En,r);const i={},s=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!L(this,xl).size)return!0;const l=new Set(a??L(this,xl));return this.options.throwOnError&&l.add("error"),Object.keys(L(this,En)).some(u=>{const d=u;return L(this,En)[d]!==n[d]&&l.has(d)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),xe(this,Dp,hL).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&xe(this,wd,Ew).call(this)}},Rn=new WeakMap,Ae=new WeakMap,pd=new WeakMap,En=new WeakMap,Lo=new WeakMap,wl=new WeakMap,zr=new WeakMap,md=new WeakMap,_l=new WeakMap,El=new WeakMap,Vo=new WeakMap,Fo=new WeakMap,ws=new WeakMap,xl=new WeakMap,jo=new WeakSet,nc=function(e){xe(this,xd,Sw).call(this);let n=L(this,Ae).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(rr)),n},gd=new WeakSet,vw=function(){xe(this,_d,xw).call(this);const e=ul(this.options.staleTime,L(this,Ae));if(Kl||L(this,En).isStale||!mw(e))return;const r=nL(L(this,En).dataUpdatedAt,e)+1;Z(this,Vo,setTimeout(()=>{L(this,En).isStale||this.updateResult()},r))},yd=new WeakSet,ww=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(L(this,Ae)):this.options.refetchInterval)??!1},vd=new WeakSet,_w=function(e){xe(this,Ed,Tw).call(this),Z(this,ws,e),!(Kl||Ir(this.options.enabled,L(this,Ae))===!1||!mw(L(this,ws))||L(this,ws)===0)&&Z(this,Fo,setInterval(()=>{(this.options.refetchIntervalInBackground||kE.isFocused())&&xe(this,jo,nc).call(this)},L(this,ws)))},wd=new WeakSet,Ew=function(){xe(this,gd,vw).call(this),xe(this,vd,_w).call(this,xe(this,yd,ww).call(this))},_d=new WeakSet,xw=function(){L(this,Vo)&&(clearTimeout(L(this,Vo)),Z(this,Vo,void 0))},Ed=new WeakSet,Tw=function(){L(this,Fo)&&(clearInterval(L(this,Fo)),Z(this,Fo,void 0))},xd=new WeakSet,Sw=function(){const e=L(this,Rn).getQueryCache().build(L(this,Rn),this.options);if(e===L(this,Ae))return;const n=L(this,Ae);Z(this,Ae,e),Z(this,pd,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},Dp=new WeakSet,hL=function(e){Mt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(L(this,En))}),L(this,Rn).getQueryCache().notify({query:L(this,Ae),type:"observerResultsUpdated"})})},f1);function wZ(t,e){return Ir(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function e1(t,e){return wZ(t,e)||t.state.data!==void 0&&bw(t,e,e.refetchOnMount)}function bw(t,e,n){if(Ir(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&NE(t,e)}return!1}function t1(t,e,n,r){return(t!==e||Ir(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&NE(t,n)}function NE(t,e){return Ir(e.enabled,t)!==!1&&t.isStaleByTime(ul(e.staleTime,t))}function _Z(t,e){return!kp(t.getCurrentResult(),e)}var _s,Es,In,pi,Tl,Rf,Td,Cw,p1,EZ=(p1=class extends hu{constructor(n,r){super();se(this,Tl);se(this,Td);se(this,_s,void 0);se(this,Es,void 0);se(this,In,void 0);se(this,pi,void 0);Z(this,_s,n),this.setOptions(r),this.bindMethods(),xe(this,Tl,Rf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=L(this,_s).defaultMutationOptions(n),kp(this.options,r)||L(this,_s).getMutationCache().notify({type:"observerOptionsUpdated",mutation:L(this,In),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&oa(r.mutationKey)!==oa(this.options.mutationKey)?this.reset():((i=L(this,In))==null?void 0:i.state.status)==="pending"&&L(this,In).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=L(this,In))==null||n.removeObserver(this)}onMutationUpdate(n){xe(this,Tl,Rf).call(this),xe(this,Td,Cw).call(this,n)}getCurrentResult(){return L(this,Es)}reset(){var n;(n=L(this,In))==null||n.removeObserver(this),Z(this,In,void 0),xe(this,Tl,Rf).call(this),xe(this,Td,Cw).call(this)}mutate(n,r){var i;return Z(this,pi,r),(i=L(this,In))==null||i.removeObserver(this),Z(this,In,L(this,_s).getMutationCache().build(L(this,_s),this.options)),L(this,In).addObserver(this),L(this,In).execute(n)}},_s=new WeakMap,Es=new WeakMap,In=new WeakMap,pi=new WeakMap,Tl=new WeakSet,Rf=function(){var r;const n=((r=L(this,In))==null?void 0:r.state)??dL();Z(this,Es,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Td=new WeakSet,Cw=function(n){Mt.batch(()=>{var r,i,s,o,a,l,u,d;if(L(this,pi)&&this.hasListeners()){const h=L(this,Es).variables,f=L(this,Es).context;(n==null?void 0:n.type)==="success"?((i=(r=L(this,pi)).onSuccess)==null||i.call(r,n.data,h,f),(o=(s=L(this,pi)).onSettled)==null||o.call(s,n.data,null,h,f)):(n==null?void 0:n.type)==="error"&&((l=(a=L(this,pi)).onError)==null||l.call(a,n.error,h,f),(d=(u=L(this,pi)).onSettled)==null||d.call(u,void 0,n.error,h,f))}this.listeners.forEach(h=>{h(L(this,Es))})})},p1),fL=y.createContext(void 0),qm=t=>{const e=y.useContext(fL);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},xZ=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(fL.Provider,{value:t,children:e})),pL=y.createContext(!1),TZ=()=>y.useContext(pL);pL.Provider;function SZ(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var bZ=y.createContext(SZ()),CZ=()=>y.useContext(bZ);function mL(t,e){return typeof t=="function"?t(...e):!!t}function RZ(){}var IZ=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},PZ=t=>{y.useEffect(()=>{t.clearReset()},[t])},AZ=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&mL(n,[t.error,r]),kZ=t=>{t.suspense&&(typeof t.staleTime!="number"&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},NZ=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,DZ=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function MZ(t,e,n){var u,d,h,f;const r=qm(),i=TZ(),s=CZ(),o=r.defaultQueryOptions(t);(d=(u=r.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||d.call(u,o),o._optimisticResults=i?"isRestoring":"optimistic",kZ(o),IZ(o,s),PZ(s);const[a]=y.useState(()=>new e(r,o)),l=a.getOptimisticResult(o);if(y.useSyncExternalStore(y.useCallback(p=>{const E=i?()=>{}:a.subscribe(Mt.batchCalls(p));return a.updateResult(),E},[a,i]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),y.useEffect(()=>{a.setOptions(o,{listeners:!1})},[o,a]),NZ(o,l))throw DZ(o,a,s);if(AZ({result:l,errorResetBoundary:s,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw l.error;return(f=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||f.call(h,o,l),o.notifyOnChangeProps?l:a.trackResult(l)}function gL(t,e){return MZ(t,vZ)}function n1(t,e){const n=qm(),[r]=y.useState(()=>new EZ(n,t));y.useEffect(()=>{r.setOptions(t)},[r,t]);const i=y.useSyncExternalStore(y.useCallback(o=>r.subscribe(Mt.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=y.useCallback((o,a)=>{r.mutate(o,a).catch(RZ)},[r]);if(i.error&&mL(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}const yL=({label:t,onButtonClick:e})=>m.jsxs(vt,{variant:"outline",size:"sm",className:"mb-2 hover:bg-gray-100 h-10",onClick:e,children:[m.jsx(am,{className:"w-4 h-4 mr-0 md:mr-2"}),m.jsx("p",{className:"hidden md:block",children:t})]}),OZ=()=>m.jsx("div",{className:"h-[450px] w-full flex justify-center items-center mt-2 pb-10",children:m.jsxs("section",{className:"flex flex-col justify-center items-center",children:[m.jsx(qP,{className:"w-12 h-12 text-blue-500 mb-4"}),m.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"No Knowledge Base Selected"}),m.jsx("p",{className:"text-gray-600 mb-4",children:"Select a knowledge base category to view its contents here."})]})});function At({className:t,...e}){return m.jsx("div",{className:qe("animate-pulse rounded-md bg-muted",t),...e})}const vL=()=>m.jsxs("div",{className:"h-[450px] w-full px-4 flex flex-col pb-4 mt-2",children:[m.jsxs("div",{className:"flex mb-7 space-x-4",children:[m.jsx(At,{className:"flex-grow h-10 bg-lightGray-darker"}),m.jsx(At,{className:"h-10 w-[42px] md:w-[198.85px] bg-lightGray-darker"})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx(At,{className:"h-[20px] w-[20rem] bg-lightGray-darker"}),m.jsx(At,{className:"h-[20px] w-[10rem] bg-lightGray-darker"})]})]}),dr=Jl(t=>({isModalVisible:!1,modalMode:"BASE",openModal:()=>{t(()=>({isModalVisible:!0}))},closeModal:()=>{t(()=>({isModalVisible:!1}))},setMode:e=>{t(()=>({modalMode:e}))}})),LZ=()=>{const t=dr(s=>s.openModal),e=dr(s=>s.setMode),n=lt(s=>s.clearFormData),r=pr(s=>s.selectedKnowledgeBaseName);return{handleOpenKnowledgeForm:async s=>{if(!r)return window.alert("No Knowledge Base Selected cannot add a knowledge entry");n(),e(s),t()},openModal:t,setMode:e,clearFormData:n}},wL=()=>{const[t,e]=y.useState("");return{filter:t,handleFilterChange:r=>{e(r)}}},VZ=({onTabChange:t})=>{const e=pr(u=>u.selectedKnowledgeBaseName),{handleOpenKnowledgeForm:n}=LZ(),r=qm(),{data:i,isLoading:s}=gL({queryFn:()=>QJ(e),queryKey:pw,enabled:!!e}),{filter:o,handleFilterChange:a}=wL(),l=y.useMemo(()=>i==null?void 0:i.filter(u=>u.intent.toLowerCase().includes(o.toLowerCase())),[i,o]);return y.useEffect(()=>()=>{r.resetQueries({queryKey:pw})},[]),s?m.jsx(vL,{}):i?m.jsx(Im,{value:"knowledgeEntry",className:"mt-2",children:m.jsxs("div",{className:"h-[450px] w-full px-4 flex flex-col pb-4 overflow-y-auto scrollbar-slim",children:[m.jsxs("div",{className:"flex mb-2 space-x-4",children:[m.jsx(gn,{className:"flex-grow outline-none focus:outline-none",placeholder:"Search knowledge base...",onChange:u=>a(u.target.value)}),m.jsx(yL,{label:"Add knowledge entry",onButtonClick:()=>n(fG.entry)})]}),m.jsx(tZ,{knowledgeEntries:l,handleTabChange:t})]})}):m.jsx(OZ,{})},_L=t=>{const[e,n]=y.useState(t);return{currentTab:e,setCurrentTab:n,setActiveTab:i=>{n(i)}}},FZ=({base:t,onItemClick:e})=>{const n=pr(r=>r.selectedKnowledgeBaseName);return m.jsx("div",{className:`p-2 rounded-md cursor-pointer transition-colors ${n===t?"bg-lightGray":"hover:bg-lightGray-darker"}`,onClick:()=>e(t),children:t})},jZ=({knowledgeBaseNameList:t,handleTabChange:e})=>{const n=pr(s=>s.setSelectedKnowledgeBaseName),r=pr(s=>s.selectedKnowledgeBaseName),i=s=>{e("knowledgeEntry"),r!==s&&n(s)};return m.jsx("div",{children:m.jsx(_k,{items:t,renderItem:s=>m.jsx(FZ,{base:s,onItemClick:i})})})},UZ=({onTabChange:t})=>{const{data:e,isLoading:n}=gL({queryFn:()=>qJ(),queryKey:tL}),{handleFilterChange:r,filter:i}=wL(),s=dr(d=>d.openModal),o=dr(d=>d.setMode),a=lt(d=>d.clearFormData),l=y.useMemo(()=>e==null?void 0:e.filter(d=>d.toLowerCase().includes(i.toLowerCase())),[e,i]),u=d=>{a(),o(d),s()};return n?m.jsx(vL,{}):e?m.jsx(Im,{value:"knowledgeBase",className:"mt-2",children:m.jsxs("div",{className:"h-[450px] w-full px-4 pb-4 flex flex-col overflow-y-auto scrollbar-slim",children:[m.jsxs("div",{className:"flex mb-2 space-x-4",children:[m.jsx(gn,{className:"flex-grow outline-none focus:outline-none",placeholder:"Search knowledge base...",onChange:d=>r(d.target.value)}),m.jsx(yL,{label:"Add Knowledge Base",onButtonClick:()=>u("BASE")})]}),m.jsx(jZ,{knowledgeBaseNameList:l,handleTabChange:t})]})}):m.jsx(m.Fragment,{children:"No knowledge base list found"})},BZ=()=>{const{currentTab:t,setCurrentTab:e,setActiveTab:n}=_L("knowledgeBase");return m.jsxs(N7,{value:t,onValueChange:r=>e(r),className:"w-full p-0 border-neutral-200 bg-white border shadow-sm text-sm md:text-base rounded-md overflow-hidden box-border",children:[m.jsx(O7,{tabs:D7}),t==="knowledgeBase"&&m.jsx(UZ,{onTabChange:n}),t==="knowledgeEntry"&&m.jsx(VZ,{onTabChange:n}),t==="entryDetails"&&m.jsx(ZJ,{})]})},xi=Jl((t,e)=>({currentStep:1,totalStep:3,nextStep:()=>{e().currentStep!==e().totalStep&&t(n=>({currentStep:n.currentStep+1}))},prevStep:()=>{e().currentStep!==1&&t(n=>({currentStep:n.currentStep-1}))},setTotalStep:n=>{if(n==="BASE")return t(()=>({totalStep:3}));t(()=>({totalStep:2}))},resetCurrentStep:()=>{t(()=>({currentStep:1}))}})),$Z=({progressData:t})=>{const e=xi(i=>i.totalStep),n=xi(i=>i.currentStep),r=(n-1)/(e-1)*100;return m.jsxs("div",{className:"mt-4 mb-8",children:[m.jsx("div",{className:"flex justify-between mb-2",children:[...Array(e)].map((i,s)=>m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${n>=s+1?"bg-lightGray text-htext":"bg-lightGray-darker text-muted-foreground"}`,children:s+1}),m.jsx("span",{className:"text-xs mt-1",children:t[s+1]})]},s))}),m.jsx("div",{className:"h-2 bg-muted rounded-full",children:m.jsx("div",{className:"h-full bg-blue-600 rounded-full transition-all duration-300 ease-in-out",style:{width:`${r}%`}})})]})},zZ=()=>{const{knowledgeBaseName:t}=lt(n=>n.formData),e=lt(n=>n.setFormData);return m.jsx("div",{className:"space-y-4",children:m.jsxs("div",{children:[m.jsx("label",{htmlFor:"knowledgeBaseName",className:"block text-sm font-medium mb-1",children:"Knowledge Base Name"}),m.jsx(gn,{name:"knowledgeBaseName",placeholder:"Enter knowledge base name",value:t,onChange:n=>e(n.target.name,n.target.value)})]})})},_y=({labelText:t})=>m.jsx("label",{htmlFor:"answer",className:"block text-sm font-medium mb-1",children:t}),r1=()=>{const{intent:t,documents:e,answer:n}=lt(T=>T.formData),r=lt(T=>T.setDocuments),i=lt(T=>T.setFormData),s=lt(T=>T.addDocument),o=pr(T=>T.selectedKnowledgeBaseName),a=dr(T=>T.modalMode),{file:l,isLinkDialogOpen:u,setIsLinkDialogOpen:d,handleFileChange:h,handleInsertLink:f,handleRemoveFile:p,fileInputRef:E,answerTextAreaRef:v}=TO(n,i);return y.useEffect(()=>{a==="ENTRY"&&i("knowledgeBaseName",o)},[]),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(_y,{labelText:"Intent"}),m.jsx(gn,{placeholder:"Enter the intent",value:t,onChange:T=>i("intent",T.target.value)})]}),m.jsxs("div",{children:[m.jsx(_y,{labelText:"Documents"}),e.map((T,x)=>m.jsx(gn,{placeholder:`Enter document ${x+1}`,className:"mb-2",value:T,onChange:_=>r(_.target.value,x)},x)),m.jsxs(vt,{variant:"outline",onClick:s,className:"w-full mt-2",children:[m.jsx(am,{className:"mr-2 h-4 w-4"})," Add Document"]})]}),m.jsxs("div",{children:[m.jsx(_y,{labelText:"Answer"}),m.jsx(LD,{answer:n,handleTextChange:i,onFileChange:h,fileRef:E,textAreaRef:v,showAddLinkDialog:()=>d(!0)}),l&&m.jsx(VD,{file:l,removeFile:p}),u&&m.jsx(ZO,{isDialogOpen:u,setIsDialogOpen:d,handleInsertLink:f})]})]})},i1=()=>{const{knowledgeBaseName:t,intent:e,documents:n,answer:r}=lt(i=>i.formData);return m.jsxs("div",{className:"space-y-4 break-words",children:[m.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Review Your Entry"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium",children:"Knowledge Base Name:"}),m.jsx("p",{className:"text-muted-foreground",children:t})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium",children:"Intent:"}),m.jsx("p",{className:"text-muted-foreground",children:e})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium",children:"Documents:"}),m.jsx("ul",{className:"list-disc pl-5 text-muted-foreground",children:n.map((i,s)=>m.jsx("li",{children:i},s))})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium",children:"Answer:"}),m.jsx("p",{className:"text-muted-foreground",children:r})]})]})},WZ=()=>{const t=xi(r=>r.currentStep),e=dr(r=>r.modalMode),n=()=>({1:{BASE:m.jsx(zZ,{}),ENTRY:m.jsx(r1,{})},2:{BASE:m.jsx(r1,{}),ENTRY:m.jsx(i1,{})},3:{BASE:m.jsx(i1,{})}})[t][e]||m.jsx(m.Fragment,{children:"No Modal Section"});return m.jsx(m.Fragment,{children:n()})},KZ=()=>{const t=qm(),e=dr(s=>s.closeModal),{mutateAsync:n}=n1({mutationFn:s=>YJ(s),onSuccess:()=>{t.invalidateQueries({queryKey:tL})}}),{mutateAsync:r}=n1({mutationFn:s=>XJ(s),onSuccess:()=>{t.invalidateQueries({queryKey:pw})}});return{handleSubmitForm:async(s,o)=>{o==="BASE"?await n(s):await r(s),e()}}},HZ=()=>{const{handleSubmitForm:t}=KZ(),e=dr(a=>a.modalMode),n=lt(a=>a.formData),r=xi(a=>a.currentStep),i=xi(a=>a.totalStep),s=xi(a=>a.nextStep),o=xi(a=>a.prevStep);return m.jsxs("div",{className:"flex justify-between items-center mt-6",children:[m.jsx(vt,{variant:"outline",size:"icon",children:m.jsx(l$,{className:"h-4 w-4"})}),m.jsxs("div",{children:[r>1&&m.jsxs(vt,{variant:"outline",onClick:o,className:"mr-2",children:[m.jsx(o$,{className:"mr-2 h-4 w-4"})," Back"]}),r<i?m.jsxs(vt,{onClick:s,children:["Next ",m.jsx(a$,{className:"ml-2 h-4 w-4"})]}):m.jsx(vt,{onClick:async()=>{t(n,e)},children:"Save Knowledge Base"})]})]})},GZ=()=>{const t=lt(a=>a.clearFormData),e=dr(a=>a.isModalVisible),n=dr(a=>a.modalMode),r=dr(a=>a.closeModal),i=xi(a=>a.setTotalStep),s=xi(a=>a.resetCurrentStep),o=n==="BASE"?vG:wG;return y.useEffect(()=>(i(n),()=>{t(),s()}),[i]),m.jsx(YO,{open:e,onOpenChange:r,children:m.jsxs(CE,{className:"sm:max-w-[550px] ",children:[m.jsxs(RE,{children:[m.jsx(IE,{className:"text-2xl font-bold",children:"Create New Knowledge Base"}),m.jsx(PE,{children:"Fill in the details to create a new knowledge base."})]}),m.jsx($Z,{progressData:o}),m.jsx(Mm,{children:m.jsx(Om,{className:"pt-6 max-h-[30rem] max-w-[498px] overflow-y-scroll",children:m.jsx(WZ,{})})}),m.jsx(HZ,{})]})})},qZ=()=>{const t=dr(r=>r.isModalVisible),e=pr(r=>r.setSelectedKnowledgeEntry),n=pr(r=>r.selectedKnowledgeBaseName);return y.useEffect(()=>{n&&e(null)},[n,e]),m.jsxs("div",{className:"flex items-center flex-col w-[84rem] px-20 space-y-6",children:[m.jsx(z8,{}),m.jsx(BZ,{}),m.jsx(H8,{}),t&&m.jsx(GZ,{})]})},it=Jl(t=>({botName:"",interactionIcon:null,interactionIconPreview:"",widgetIcon:null,widgetIconPreview:"",metadata:[],setBotName:e=>{t(()=>({botName:e}))},setInteractionIcon:e=>{t(()=>({interactionIcon:e}))},setInteractionIconPreview:e=>{t(()=>({interactionIconPreview:e}))},setWidgetIcon:e=>{t(()=>({widgetIcon:e}))},setWidgetIconPreview:e=>{t(()=>({widgetIconPreview:e}))},setMetadata:e=>{t(()=>({metadata:e}))}})),QZ=()=>{const t=it(n=>n.botName),e=it(n=>n.setBotName);return m.jsxs("section",{children:[m.jsx("label",{htmlFor:"botName",className:"block text-sm font-medium text-black/80 mb-1",children:"Bot Name"}),m.jsx(gn,{type:"text",value:t,onChange:n=>e(n.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})},YZ=()=>({handleIconChange:(n,r,i)=>{if(n.target.files&&n.target.files[0]){const s=n.target.files[0];if(s.type==="image/png"||s.type==="image/gif"||s.type==="image/jpeg"){r(s);const o=new FileReader;o.onload=a=>{var l;i((l=a.target)==null?void 0:l.result)},o.readAsDataURL(s)}else alert("Please upload a PNG, JPEG or GIF file."),n.target.value=""}},handleRemoveIcon:(n,r,i)=>{r(null),i(null),n.current&&(n.current.value="")}}),EL=({iconRef:t,setIcon:e,setIconPreview:n,iconPreview:r,acceptedFormat:i})=>{const{handleIconChange:s,handleRemoveIcon:o}=YZ();return m.jsxs("div",{className:"flex items-center ",children:[m.jsx(gn,{id:"widget-icon-upload",type:"file",className:"hidden",ref:t,accept:i,onChange:a=>s(a,e,n)}),m.jsx(vt,{type:"button",variant:"outline",size:"sm",onClick:()=>{var a;return(a=t.current)==null?void 0:a.click()},children:r?m.jsxs("span",{className:"flex items-center text-sm gap-2",children:[m.jsx(up,{className:"size-5"}),"Change Icon"]}):m.jsxs("span",{className:"flex items-center text-sm gap-2",children:[m.jsx(up,{className:"size-5"}),"Upload Icon"]})}),r&&m.jsx(vt,{type:"button",variant:"ghost",size:"sm",className:"ml-2",onClick:()=>o(t,e,n),children:"Remove"})]})},XZ=()=>{const t=it(i=>i.setInteractionIcon),e=it(i=>i.setInteractionIconPreview),n=it(i=>i.interactionIconPreview),r=y.useRef(null);return m.jsxs("section",{children:[m.jsx("label",{className:"block text-sm font-medium text-black/80 mb-1 mt-4",children:"Interaction Icon"}),m.jsxs("div",{className:"mt-1 flex items-center h-[4rem] space-x-4",children:[m.jsxs("div",{className:"size-16 rounded-full bg-gray-100 flex items-center justify-center overflow-hidden",children:[n&&m.jsx("img",{src:n,className:"size-full object-cover rounded-full"}),!n&&m.jsx(up,{className:"w-8 h-8 text-gray-400"})]}),m.jsx(EL,{iconRef:r,setIcon:t,setIconPreview:e,iconPreview:n,acceptedFormat:".png,.jpg"})]}),m.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"PNG or JPG only. Max file size: 2MB."})]})},JZ=()=>{const t=it(i=>i.setWidgetIcon),e=it(i=>i.widgetIconPreview),n=it(i=>i.setWidgetIconPreview),r=y.useRef(null);return m.jsxs("section",{children:[m.jsx("label",{className:"block text-sm font-medium text-black/80 mb-1 mt-4",children:"Widget Icon"}),m.jsxs("div",{className:"mt-1 flex items-center space-x-4",children:[m.jsxs("div",{className:"size-16 rounded-full bg-gray-100 flex items-center justify-center overflow-hidden",children:[e&&m.jsx("img",{src:e,className:"size-full object-cover rounded-full"}),!e&&m.jsx(up,{className:"w-8 h-8 text-gray-400"})]}),m.jsx(EL,{iconRef:r,setIcon:t,setIconPreview:n,iconPreview:e,acceptedFormat:".png,.jpg,.gif"})]}),m.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"PNG, JPEG OR GIF only. Max file size: 30MB."})]})},ZZ=()=>m.jsxs("form",{children:[m.jsx(QZ,{}),m.jsx(XZ,{}),m.jsx(JZ,{})]}),eee=({handleCloseChatbox:t})=>{const e=it(r=>r.botName),n=it(r=>r.interactionIconPreview);return m.jsx("section",{children:m.jsxs("div",{className:"bg-white h-[24rem] rounded-lg shadow-lg p-4 max-w-sm mx-auto flex flex-col",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[n?m.jsx("img",{src:n,alt:"interaction-icon-preview",className:"w-11 h-11 object-cover rounded-full"}):m.jsx("div",{className:"w-11 h-11 object-cover rounded-full bg-gray-200"}),m.jsx("span",{className:"text-sm font-medium text-gray-700",children:e||"Chatbot"})]}),m.jsx("div",{className:"cursor-pointer hover:scale-110 transition-transform",onClick:t,children:m.jsx(V0,{className:"w-5 h-5 text-gray-500"})})]}),m.jsx("div",{className:"flex-1"}),m.jsx("div",{className:" rounded-lg py-3 mb-4",children:m.jsxs("div",{className:"flex items-center",children:[n?m.jsx("img",{src:n,alt:"interaction-icon-preview",className:"w-10 h-10 object-cover rounded-full"}):m.jsx("div",{className:"w-11 h-11 object-cover rounded-full bg-gray-200"}),m.jsx("p",{className:"ml-2 text-sm text-gray-700 bg-gray-100 p-2.5 rounded-xl",children:"Hi! What can I help you with?"})]})}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{disabled:!0,type:"text",placeholder:"Message...",className:"flex-grow h-10 px-3 py-2 text-sm border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),m.jsx("div",{className:"h-10 px-3 py-2 bg-blue-500 text-white rounded-r-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 flex items-center justify-center",children:m.jsx(y$,{className:"w-5 h-5"})})]})]})})},tee=()=>{const[t,e]=y.useState(!1),n=it(r=>r.widgetIconPreview);return m.jsx("section",{children:m.jsx("div",{className:"border h-[28rem] border-gray-300 rounded-lg p-4 bg-gray-50 mt-4 mb-2",style:{backgroundImage:"radial-gradient(#d1d5db 1px, transparent 1px)",backgroundSize:"20px 20px"},children:m.jsx("div",{className:"h-full flex justify-end items-end",children:t?m.jsx(eee,{handleCloseChatbox:()=>e(!1)}):m.jsx("div",{className:"size-[14rem] flex items-center justify-center",onClick:()=>e(!0),children:n?m.jsx("img",{src:n,alt:"Widget icon preview",className:"cursor-pointer"}):m.jsx("span",{className:"text-gray-400 cursor-pointer",children:"No icon"})})})})})},nee=()=>{const t=it(s=>s.metadata),e=it(s=>s.setMetadata),n=()=>{const s={id:Date.now().toString(),key:"",value:""};e([...t,s])},r=(s,o,a)=>{const l=t.map(u=>u.id===s?{...u,[o]:a}:u);e(l)},i=s=>{const o=t.filter(a=>a.id!==s);e(o)};return m.jsxs("div",{className:"space-y-4",children:[t.map(s=>m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(gn,{placeholder:"Key",value:s.key,onChange:o=>r(s.id,"key",o.target.value),className:"flex-1"}),m.jsx(gn,{placeholder:"Value",value:s.value,onChange:o=>r(s.id,"value",o.target.value),className:"flex-1"}),m.jsx(vt,{type:"button",variant:"ghost",size:"icon",className:"hover:text-red-600 group",onClick:()=>i(s.id),children:m.jsx(YP,{className:"size-5 group-hover:scale-125 transition-transform ease-in"})})]},s.id)),m.jsxs(vt,{type:"button",variant:"outline",size:"sm",onClick:n,className:"mt-2",children:[m.jsx(am,{className:"size-5 mr-2"}),"Add Field"]})]})},xL=()=>m.jsx(m$,{className:"mr-2 size-5 animate-spin"}),ree=async()=>{const t=await fJ("profile","botProfile");return t==null?void 0:t.data()},iee=async(t,e,n,r=[])=>{try{const i=r.reduce((l,u)=>({...l,[u.key]:u.value}),{}),s=await hw(t,BC,"interaction-icon"),o=await hw(e,BC,"widget-icon");await hJ("profile","botProfile",{interactionIconURL:s,widgetIconUrl:o,botName:n,metadata:i}),N0("Upload bot profile success")}catch(i){console.log(i)}},see=()=>{const t=it(v=>v.interactionIcon),e=it(v=>v.interactionIconPreview),n=it(v=>v.setInteractionIconPreview),r=it(v=>v.widgetIcon),i=it(v=>v.widgetIconPreview),s=it(v=>v.setWidgetIconPreview),o=it(v=>v.botName),a=it(v=>v.setBotName),l=it(v=>v.metadata),u=it(v=>v.setMetadata),[d,h]=y.useState(!1),[f,p]=y.useState(!0);return y.useEffect(()=>{(async()=>{p(!0);const T=await ree();if(!T)return;a(T.botName),n(T.interactionIconURL),s(T.widgetIconUrl);const x=CG(T.metadata);u(x),p(!1)})()},[]),{isLoading:d,handleSubmitForm:async()=>{if(t&&r&&o){h(!0),await iee(t,r,o,l),h(!1);return}e&&i&&o||window.alert("Please fill all required inputs")},isPageLoading:f}},oee=()=>m.jsxs("section",{className:"flex-1 flex-col space-y-4",children:[m.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[m.jsx("header",{className:"text-2xl font-medium pb-5",children:"Bot Profile"}),m.jsxs("div",{className:"flex flex-col gap-2",children:[m.jsx(At,{className:"h-4 w-16"}),m.jsx(At,{className:"h-10 w-full mb-3"}),m.jsx(At,{className:"h-4 w-24"}),m.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[m.jsx(At,{className:"size-[64px] rounded-full"}),m.jsx(At,{className:"h-9 w-36"}),m.jsx(At,{className:"h-9 w-36"})]}),m.jsx(At,{className:"h-4 w-24"}),m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx(At,{className:"size-[64px] rounded-full"}),m.jsx(At,{className:"h-9 w-36"}),m.jsx(At,{className:"h-9 w-36"})]})]})]}),m.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[m.jsx("header",{className:"text-2xl font-medium pb-5",children:"Additional Information"}),m.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[m.jsx(At,{className:"flex-1 h-10"}),m.jsx(At,{className:"flex-1 h-10"}),m.jsx(At,{className:"w-10 h-10"})]}),m.jsx(At,{className:"h-9 w-36"})]}),m.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[m.jsx("header",{className:"text-2xl font-medium pb-5",children:"Preview"}),m.jsx(At,{className:"h-[28rem] w-full mb-2"})]}),m.jsx(At,{className:"bg-blue-200 h-10 w-full"})]}),aee=()=>{const{isLoading:t,handleSubmitForm:e,isPageLoading:n}=see();return n?m.jsx(oee,{}):m.jsxs("section",{className:"flex-1 flex-col space-y-4",children:[m.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[m.jsx("header",{className:"text-2xl font-medium pb-5",children:"Bot Profile"}),m.jsx(ZZ,{})]}),m.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[m.jsx("header",{className:"text-2xl font-medium pb-5",children:"Additional Information"}),m.jsx(nee,{})]}),m.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[m.jsx("header",{className:"text-2xl font-medium",children:"Preview"}),m.jsx(tee,{})]}),m.jsx("footer",{className:"mt-4 pb-4",children:m.jsx(vt,{className:"w-full bg-blue-600 hover:bg-blue-700",disabled:t,onClick:async()=>await e(),children:t?m.jsx(xL,{}):"Save changes"})})]})},lee=Dm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function TL({className:t,variant:e,...n}){return m.jsx("div",{className:qe(lee({variant:e}),t),...n})}const uee=[{id:"team",icon:m.jsx(_$,{}),label:"Team",comingSoon:!0},{id:"botProfile",icon:m.jsx(s$,{}),label:"Bot Profile",comingSoon:!1},{id:"botModel",icon:m.jsx(r$,{}),label:"Bot Model",comingSoon:!1}],cee=({onTabChange:t,activeTab:e})=>m.jsx("nav",{className:"w-[14rem] px-2 space-y-2 text-htext font-medium",children:uee.map(n=>m.jsxs("div",{className:"relative group",children:[m.jsxs("li",{className:qe("flex items-center gap-3 py-3 px-2  cursor-pointer rounded-md transition-colors hover:text-opacity-80",e===n.id?"bg-blue-600 text-white":"hover:bg-slate-100 text-opacity-100"),onClick:()=>t(n.id),children:[n.icon," ",n.label]}),n.comingSoon&&m.jsx(TL,{variant:"secondary",className:"absolute -top-2 right-0 text-[10px] font-normal px-1 py-0.5 bg-blue-100 text-blue-800 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Coming Soon"})]},n.id))}),dee="/assets/person_coding-DFz14H7L.png",hee=()=>m.jsxs("section",{className:"flex-1 flex flex-col items-center justify-center bg-white border border-customBorderColor rounded-lg px-8 py-8 overflow-y-auto",children:[m.jsx("img",{src:dee,alt:"Coming soon image",className:"w-[24rem] mb-4"}),m.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Team Settings"}),m.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 w-full max-w-md my-4",role:"alert",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx(v$,{className:"h-6 w-6 text-yellow-400 mr-4"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-yellow-700",children:"Work in Progress"}),m.jsx("p",{className:"text-yellow-700 mt-1",children:"We're currently developing team management features. Check back soon for updates!"})]})]})}),m.jsx("p",{className:"text-gray-600 text-center max-w-md",children:"In the meantime, you can explore other settings or reach out to our support team if you have any questions."})]}),fee=()=>{const[t,e]=y.useState(!1),n=async()=>{e(!0),await f6(),e(!1)};return m.jsxs("section",{className:"flex-1 flex-col space-y-4",children:[m.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[m.jsx("header",{className:"text-2xl font-medium pb-5",children:"Bot Model"}),m.jsxs("div",{className:"flex items-center mb-4",children:[m.jsx("p",{className:"font-medium flex-1",children:"Current Version"}),m.jsx("div",{className:"flex-1",children:m.jsx(TL,{variant:"secondary",className:"text-lg",children:"v1.2.3"})})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Trained"}),m.jsx("p",{className:"font-medium",children:"5/15/2023, 10:30:00 PM"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"Accuracy"}),m.jsx("p",{className:"font-medium",children:"89.00%"})]})]})]}),m.jsx("footer",{className:"mt-4 pb-4",children:m.jsx(vt,{className:"w-full bg-blue-600 hover:bg-blue-700",disabled:t,onClick:n,children:t?m.jsx(xL,{}):"Train Model"})})]})},pee=()=>{const{currentTab:t,setActiveTab:e}=_L("botProfile");return m.jsxs("section",{className:"flex space-x-2",children:[m.jsx(cee,{activeTab:t,onTabChange:e}),t==="team"&&m.jsx(hee,{}),t==="botProfile"&&m.jsx(aee,{}),t==="botModel"&&m.jsx(fee,{})]})},mee=()=>m.jsx("header",{className:"py-4 text-3xl font-semibold",children:"Settings"}),gee=()=>m.jsxs("div",{className:"flex flex-col w-[84rem] px-20 space-y-6",children:[m.jsx(mee,{}),m.jsx(pee,{})]}),yee=({id:t,text:e,onChange:n,checked:r})=>m.jsxs(m.Fragment,{children:[m.jsx("input",{type:"radio",id:t,name:"nav-btn",value:e,className:"hidden peer",checked:r,onChange:n}),m.jsx("label",{htmlFor:t,className:"flex-1 flex w-[190px] justify-center items-center py-3 px-4 cursor-pointer uppercase text-sm font-[500]",children:e})]}),vee=({labels:t,selectedTab:e,setSelectedTab:n})=>{const r=i=>{n(i)};return m.jsx("nav",{className:"tabs relative flex after:absolute after:bottom-0 after:pointer-events-none after:border after:border-blue-500",children:t==null?void 0:t.map(i=>m.jsx(yee,{id:i,text:i,checked:e==i,onChange:()=>r(i)},i))})},wee={chatbot:$8,settings:gee,knowledge:qZ},_ee=()=>{const[t,e]=y.useState("chatbot"),n=["chatbot","knowledge","settings"],r=wee[t]||null;return m.jsxs("div",{className:"min-h-[100dvh] flex flex-col bg-[#F8F9FB] scrollbar-slim",children:[m.jsxs(o6,{text:Ek.siteName,children:[m.jsx(vee,{labels:n,selectedTab:t,setSelectedTab:e}),m.jsx("hr",{className:"w-full border-neutral-300"})]}),r&&m.jsx(a6,{Component:r})]})},Eee=()=>{const t=Nl(n=>n.isAuth),e=new yZ;return Z3(),t?m.jsx(xZ,{client:e,children:m.jsx("main",{children:m.jsx(_ee,{})})}):m.jsx(KP,{to:"/login"})},xee=Dm("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),SL=y.forwardRef(({className:t,variant:e,...n},r)=>m.jsx("div",{ref:r,role:"alert",className:qe(xee({variant:e}),t),...n}));SL.displayName="Alert";const Tee=y.forwardRef(({className:t,...e},n)=>m.jsx("h5",{ref:n,className:qe("mb-1 font-medium leading-none tracking-tight",t),...e}));Tee.displayName="AlertTitle";const bL=y.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:qe("text-sm [&_p]:leading-relaxed",t),...e}));bL.displayName="AlertDescription";const See=async(t,e)=>{const r=await Ud("/api/auth/login",{},{email:t,password:e});if(!r.success)throw new Error("Error loggin in");return r.accessToken},bee=async(t,e)=>await See(t,e),Cee=()=>{const t=om(),[e,n]=y.useState(""),[r,i]=y.useState(""),[s,o]=y.useState(""),[a,l]=y.useState(!1),[u,d]=y.useState(!1),h=Nl(v=>v.login),f=Nl(v=>v.isAuth),p=async v=>{v.preventDefault(),o(""),l(!0);try{const T=await bee(e,r);h(T),t("/")}catch(T){console.log(T),o("An error occurred. Please try again.")}finally{l(!1)}},E=()=>{d(!u)};return f?m.jsx(KP,{to:"/"}):m.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-r from-gray-100 to-gray-200 relative",children:[m.jsx("div",{className:"absolute inset-0 opacity-10 bg-cover bg-center z-0",style:{backgroundImage:"url('/placeholder.svg?height=1080&width=1920')",filter:"blur(3px)"},"aria-hidden":"true"}),m.jsxs(Mm,{className:"w-full max-w-md z-10",children:[m.jsxs(kD,{children:[m.jsx(ND,{className:"text-2xl font-bold text-center",children:"Welcome Back"}),m.jsx(DD,{className:"text-center",children:"Please sign in to your account"})]}),m.jsx(Om,{children:m.jsxs("form",{onSubmit:p,className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(cd,{htmlFor:"email",children:"Email"}),m.jsx(gn,{id:"email",type:"email",placeholder:"you@example.com",value:e,onChange:v=>n(v.target.value),required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(cd,{htmlFor:"password",children:"Password"}),m.jsxs("div",{className:"relative",children:[m.jsx(gn,{id:"password",type:u?"text":"password",value:r,onChange:v=>i(v.target.value),required:!0}),m.jsx(vt,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:E,"aria-label":u?"Hide password":"Show password",children:u?m.jsx(c$,{className:"h-4 w-4 text-gray-500"}):m.jsx(d$,{className:"h-4 w-4 text-gray-500"})})]})]}),s&&m.jsxs(SL,{variant:"destructive",children:[m.jsx(GP,{className:"h-4 w-4"}),m.jsx(bL,{children:s})]}),m.jsx(vt,{type:"submit",className:"w-full",disabled:a,children:a?"Signing In...":"Sign In"})]})}),m.jsxs(MD,{className:"flex flex-col items-center justify-center space-y-2",children:[m.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Powered by cob-chatbot"}),m.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Intelligent conversations, seamless interactions"})]})]})]})};function Ree(){var n;const t=WP();let e;return Md(t)?e=t.statusText||((n=t.data)==null?void 0:n.message)||"An unexpected error occurred.":t instanceof Error?e=t.message:typeof t=="string"?e=t:(console.error(t),e="An unknown error occurred."),m.jsx("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center items-center px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-md w-full space-y-8 text-center",children:[m.jsx("div",{className:"flex justify-center",children:m.jsx(GP,{className:"h-24 w-24 text-red-600"})}),m.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Oops! Something went wrong"}),m.jsx("p",{className:"mt-2 text-sm text-gray-600",children:e}),m.jsx("div",{className:"mt-5",children:m.jsx(X3,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Go back home"})})]})})}const Iee=V3([{path:"/",element:m.jsx(Eee,{}),errorElement:m.jsx(Ree,{})},{path:"/login",element:m.jsx(Cee,{})}]);Ey.createRoot(document.getElementById("root")).render(m.jsx(jr.StrictMode,{children:m.jsx(H3,{router:Iee})}));
